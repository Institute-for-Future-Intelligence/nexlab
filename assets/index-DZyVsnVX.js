const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Cgo0e2FO.js","assets/vendor-BFl3bqVE.js","assets/index-CZYWMsg6.js","assets/MaterialImportWrapper-C4IfbZu2.js","assets/ui-ChhstqfR.js","assets/firebase-DpGenoA-.js","assets/index.es-Cgm2RyeT.js","assets/index-zGWm0D-y.js","assets/index-D0_us64D.js","assets/Edit-D2vYJEkV.js","assets/purify.es-CQJ0hv7W.js","assets/SupplementalMaterials-DSBPiQ7h.js","assets/MessagesPage-DpNEQeWl.js"])))=>i.map(i=>d[i]);
var H9=Object.defineProperty;var W9=(e,n,t)=>n in e?H9(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Je=(e,n,t)=>W9(e,typeof n!="symbol"?n+"":n,t);import{s as Fc,r as K,R as x6,j as f,C as Gr,B as me,P as fn,T as de,a as At,b as VN,u as V9,c as Wd,d as Vd,e as YN,f as it,g as sg,A as vr,h as Y9,I as Cn,i as GN,k as wx,G as xt,l as Xa,m as Za,Q as G9,n as Q9,o as Bw,M as QN,p as Pd,L as v6,D as Xi,q as pa,t as Zi,v as Fl,w as ma,S as K9,x as yu,y as ts,z as $f,E as Ed,F as Il,H as Bt,J as D0,K as si,N as wu,O as og,U as Vo,V as X9,W as Dn,X as _d,Y as w6,Z as rl,_ as Z9,$ as KN,a0 as J9,a1 as Zn,a2 as eR,a3 as gs,a4 as tR,a5 as Q0,a6 as S6,a7 as K0,a8 as nR,a9 as Xo,aa as rR,ab as Uw,ac as iR,ad as A6,ae as Jr,af as C6,ag as WE,ah as aR,ai as Sx,aj as sR,ak as oR,al as Pc,am as zc,an as Rl,ao as lR,ap as _u,aq as ku,ar as ju,as as Fi,at as dt,au as Nu,av as uR,aw as Td,ax as Od,ay as kd,az as jd,aA as cR,aB as Nd,aC as dR,aD as fR,aE as hR,aF as E6,aG as lg,aH as pR,aI as mR,aJ as gR,aK as Ax,aL as Mg,aM as bR,aN as yR,aO as xR,aP as vR,aQ as mu,aR as mc,aS as XN,aT as Cx,aU as wR,aV as ZN,aW as qc,aX as SR,aY as JN,aZ as AR,a_ as $w,a$ as CR,b0 as eT,b1 as Hw,b2 as ER,b3 as tT,b4 as VE,b5 as _R,b6 as kR,b7 as jR,b8 as s1,b9 as Vy,ba as NR,bb as TR,bc as YE,bd as OR,be as GE,bf as nT,bg as IR,bh as Sn,bi as rT,bj as iT,bk as aT,bl as sT,bm as oT,bn as lT,bo as DR,bp as LR,bq as RR,br as MR,bs as FR}from"./ui-ChhstqfR.js";import{r as PR,b as zR,g as ns,a as qR}from"./vendor-BFl3bqVE.js";import{g as BR,G as UR,o as $R,b as HR,a as WR,s as VR,c as YR,d as GR,P as Jn,e as xn,f as Oa,h as Kf,m as uT,i as Wr,I as QR,j as KR,k as ch,r as vu,u as Xf,l as Id,n as cT,p as Ma,_ as wn,q as Ja,y as _6,t as mi,K as XR,W as k6,R as nl,v as Si,Q as ZR,x as iv,w as av}from"./firebase-DpGenoA-.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var x5={exports:{}},o1={},v5={exports:{}},w5={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function JR(){return QE||(QE=1,function(e){function n(W,X){var ie=W.length;W.push(X);e:for(;0<ie;){var ue=ie-1>>>1,$=W[ue];if(0<i($,X))W[ue]=X,W[ie]=$,ie=ue;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var X=W[0],ie=W.pop();if(ie!==X){W[0]=ie;e:for(var ue=0,$=W.length,ae=$>>>1;ue<ae;){var U=2*(ue+1)-1,q=W[U],Z=U+1,ee=W[Z];if(0>i(q,ie))Z<$&&0>i(ee,q)?(W[ue]=ee,W[Z]=ie,ue=Z):(W[ue]=q,W[U]=ie,ue=U);else if(Z<$&&0>i(ee,ie))W[ue]=ee,W[Z]=ie,ue=Z;else break e}}return X}function i(W,X){var ie=W.sortIndex-X.sortIndex;return ie!==0?ie:W.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],d=[],h=1,g=null,b=3,m=!1,x=!1,y=!1,A=!1,w=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function F(W){for(var X=t(d);X!==null;){if(X.callback===null)r(d);else if(X.startTime<=W)r(d),X.sortIndex=X.expirationTime,n(c,X);else break;X=t(d)}}function R(W){if(y=!1,F(W),!x)if(t(c)!==null)x=!0,M||(M=!0,O());else{var X=t(d);X!==null&&G(R,X.startTime-W)}}var M=!1,k=-1,L=5,B=-1;function Q(){return A?!0:!(e.unstable_now()-B<L)}function j(){if(A=!1,M){var W=e.unstable_now();B=W;var X=!0;try{e:{x=!1,y&&(y=!1,C(k),k=-1),m=!0;var ie=b;try{t:{for(F(W),g=t(c);g!==null&&!(g.expirationTime>W&&Q());){var ue=g.callback;if(typeof ue=="function"){g.callback=null,b=g.priorityLevel;var $=ue(g.expirationTime<=W);if(W=e.unstable_now(),typeof $=="function"){g.callback=$,F(W),X=!0;break t}g===t(c)&&r(c),F(W)}else r(c);g=t(c)}if(g!==null)X=!0;else{var ae=t(d);ae!==null&&G(R,ae.startTime-W),X=!1}}break e}finally{g=null,b=ie,m=!1}X=void 0}}finally{X?O():M=!1}}}var O;if(typeof N=="function")O=function(){N(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,T=z.port2;z.port1.onmessage=j,O=function(){T.postMessage(null)}}else O=function(){w(j,0)};function G(W,X){k=w(function(){W(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(W){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var ie=b;b=X;try{return W()}finally{b=ie}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(W,X){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ie=b;b=W;try{return X()}finally{b=ie}},e.unstable_scheduleCallback=function(W,X,ie){var ue=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ue+ie:ue):ie=ue,W){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ie+$,W={id:h++,callback:X,priorityLevel:W,startTime:ie,expirationTime:$,sortIndex:-1},ie>ue?(W.sortIndex=ie,n(d,W),t(c)===null&&W===t(d)&&(y?(C(k),k=-1):y=!0,G(R,ie-ue))):(W.sortIndex=$,n(c,W),x||m||(x=!0,M||(M=!0,O()))),W},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(W){var X=b;return function(){var ie=b;b=X;try{return W.apply(this,arguments)}finally{b=ie}}}}(w5)),w5}var KE;function e3(){return KE||(KE=1,v5.exports=JR()),v5.exports}var XE;function t3(){if(XE)return o1;XE=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e=e3(),n=PR(),t=zR();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,p=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(p=u.return),o=u.return;while(o)}return u.tag===3?p:null}function s(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function l(o){if(a(o)!==o)throw Error(r(188))}function c(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(r(188));return u!==o?null:o}for(var p=o,v=u;;){var E=p.return;if(E===null)break;var I=E.alternate;if(I===null){if(v=E.return,v!==null){p=v;continue}break}if(E.child===I.child){for(I=E.child;I;){if(I===p)return l(E),o;if(I===v)return l(E),u;I=I.sibling}throw Error(r(188))}if(p.return!==v.return)p=E,v=I;else{for(var J=!1,he=E.child;he;){if(he===p){J=!0,p=E,v=I;break}if(he===v){J=!0,v=E,p=I;break}he=he.sibling}if(!J){for(he=I.child;he;){if(he===p){J=!0,p=I,v=E;break}if(he===v){J=!0,v=I,p=E;break}he=he.sibling}if(!J)throw Error(r(189))}}if(p.alternate!==v)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:u}function d(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=d(o),u!==null)return u;o=o.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),N=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function O(o){return o===null||typeof o!="object"?null:(o=j&&o[j]||o["@@iterator"],typeof o=="function"?o:null)}var z=Symbol.for("react.client.reference");function T(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===z?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case x:return"Fragment";case A:return"Profiler";case y:return"StrictMode";case R:return"Suspense";case M:return"SuspenseList";case B:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case m:return"Portal";case N:return(o.displayName||"Context")+".Provider";case C:return(o._context.displayName||"Context")+".Consumer";case F:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return u=o.displayName||null,u!==null?u:T(o.type)||"Memo";case L:u=o._payload,o=o._init;try{return T(o(u))}catch{}}return null}var G=Array.isArray,W=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ue=[],$=-1;function ae(o){return{current:o}}function U(o){0>$||(o.current=ue[$],ue[$]=null,$--)}function q(o,u){$++,ue[$]=o.current,o.current=u}var Z=ae(null),ee=ae(null),se=ae(null),we=ae(null);function ye(o,u){switch(q(se,u),q(ee,o),q(Z,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?xE(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=xE(u),o=vE(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}U(Z),q(Z,o)}function Ce(){U(Z),U(ee),U(se)}function Oe(o){o.memoizedState!==null&&q(we,o);var u=Z.current,p=vE(u,o.type);u!==p&&(q(ee,o),q(Z,p))}function Le(o){ee.current===o&&(U(Z),U(ee)),we.current===o&&(U(we),t1._currentValue=ie)}var He=Object.prototype.hasOwnProperty,We=e.unstable_scheduleCallback,V=e.unstable_cancelCallback,Se=e.unstable_shouldYield,te=e.unstable_requestPaint,ge=e.unstable_now,ce=e.unstable_getCurrentPriorityLevel,ve=e.unstable_ImmediatePriority,Ie=e.unstable_UserBlockingPriority,Pe=e.unstable_NormalPriority,ke=e.unstable_LowPriority,Ke=e.unstable_IdlePriority,lt=e.log,tt=e.unstable_setDisableYieldValue,Me=null,xe=null;function _e(o){if(typeof lt=="function"&&tt(o),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(Me,o)}catch{}}var Ne=Math.clz32?Math.clz32:Mt,ft=Math.log,Ze=Math.LN2;function Mt(o){return o>>>=0,o===0?32:31-(ft(o)/Ze|0)|0}var kt=256,Wt=4194304;function Lt(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Kt(o,u,p){var v=o.pendingLanes;if(v===0)return 0;var E=0,I=o.suspendedLanes,J=o.pingedLanes;o=o.warmLanes;var he=v&134217727;return he!==0?(v=he&~I,v!==0?E=Lt(v):(J&=he,J!==0?E=Lt(J):p||(p=he&~o,p!==0&&(E=Lt(p))))):(he=v&~I,he!==0?E=Lt(he):J!==0?E=Lt(J):p||(p=v&~o,p!==0&&(E=Lt(p)))),E===0?0:u!==0&&u!==E&&(u&I)===0&&(I=E&-E,p=u&-u,I>=p||I===32&&(p&4194048)!==0)?u:E}function nn(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function un(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zn(){var o=kt;return kt<<=1,(kt&4194048)===0&&(kt=256),o}function qn(){var o=Wt;return Wt<<=1,(Wt&62914560)===0&&(Wt=4194304),o}function Qr(o){for(var u=[],p=0;31>p;p++)u.push(o);return u}function ar(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Mn(o,u,p,v,E,I){var J=o.pendingLanes;o.pendingLanes=p,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=p,o.entangledLanes&=p,o.errorRecoveryDisabledLanes&=p,o.shellSuspendCounter=0;var he=o.entanglements,je=o.expirationTimes,Xe=o.hiddenUpdates;for(p=J&~p;0<p;){var mt=31-Ne(p),St=1<<mt;he[mt]=0,je[mt]=-1;var et=Xe[mt];if(et!==null)for(Xe[mt]=null,mt=0;mt<et.length;mt++){var nt=et[mt];nt!==null&&(nt.lane&=-536870913)}p&=~St}v!==0&&Vt(o,v,0),I!==0&&E===0&&o.tag!==0&&(o.suspendedLanes|=I&~(J&~u))}function Vt(o,u,p){o.pendingLanes|=u,o.suspendedLanes&=~u;var v=31-Ne(u);o.entangledLanes|=u,o.entanglements[v]=o.entanglements[v]|1073741824|p&4194090}function En(o,u){var p=o.entangledLanes|=u;for(o=o.entanglements;p;){var v=31-Ne(p),E=1<<v;E&u|o[v]&u&&(o[v]|=u),p&=~E}}function xa(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Sr(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function li(){var o=X.p;return o!==0?o:(o=window.event,o===void 0?32:zE(o.type))}function va(o,u){var p=X.p;try{return X.p=o,u()}finally{X.p=p}}var Dt=Math.random().toString(36).slice(2),Wn="__reactFiber$"+Dt,sr="__reactProps$"+Dt,Mr="__reactContainer$"+Dt,dr="__reactEvents$"+Dt,fr="__reactListeners$"+Dt,Hn="__reactHandles$"+Dt,ys="__reactResources$"+Dt,jr="__reactMarker$"+Dt;function Ia(o){delete o[Wn],delete o[sr],delete o[dr],delete o[fr],delete o[Hn]}function zi(o){var u=o[Wn];if(u)return u;for(var p=o.parentNode;p;){if(u=p[Mr]||p[Wn]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(o=CE(o);o!==null;){if(p=o[Wn])return p;o=CE(o)}return u}o=p,p=o.parentNode}return null}function qi(o){if(o=o[Wn]||o[Mr]){var u=o.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return o}return null}function er(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function Ci(o){var u=o[ys];return u||(u=o[ys]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function tr(o){o[jr]=!0}var ro=new Set,Eo={};function Fa(o,u){Fr(o,u),Fr(o+"Capture",u)}function Fr(o,u){for(Eo[o]=u,o=0;o<u.length;o++)ro.add(u[o])}var al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$l={},Fu={};function Gc(o){return He.call(Fu,o)?!0:He.call($l,o)?!1:al.test(o)?Fu[o]=!0:($l[o]=!0,!1)}function $s(o,u,p){if(Gc(u))if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var v=u.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+p)}}function xs(o,u,p){if(p===null)o.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+p)}}function Pa(o,u,p,v){if(v===null)o.removeAttribute(p);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(p);return}o.setAttributeNS(u,p,""+v)}}var vs,is;function as(o){if(vs===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);vs=u&&u[1]||"",is=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vs+o+is}var Hl=!1;function io(o,u){if(!o||Hl)return"";Hl=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(u){var St=function(){throw Error()};if(Object.defineProperty(St.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(St,[])}catch(nt){var et=nt}Reflect.construct(o,[],St)}else{try{St.call()}catch(nt){et=nt}o.call(St.prototype)}}else{try{throw Error()}catch(nt){et=nt}(St=o())&&typeof St.catch=="function"&&St.catch(function(){})}}catch(nt){if(nt&&et&&typeof nt.stack=="string")return[nt.stack,et.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=v.DetermineComponentFrameRoot(),J=I[0],he=I[1];if(J&&he){var je=J.split(`
`),Xe=he.split(`
`);for(E=v=0;v<je.length&&!je[v].includes("DetermineComponentFrameRoot");)v++;for(;E<Xe.length&&!Xe[E].includes("DetermineComponentFrameRoot");)E++;if(v===je.length||E===Xe.length)for(v=je.length-1,E=Xe.length-1;1<=v&&0<=E&&je[v]!==Xe[E];)E--;for(;1<=v&&0<=E;v--,E--)if(je[v]!==Xe[E]){if(v!==1||E!==1)do if(v--,E--,0>E||je[v]!==Xe[E]){var mt=`
`+je[v].replace(" at new "," at ");return o.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",o.displayName)),mt}while(1<=v&&0<=E);break}}}finally{Hl=!1,Error.prepareStackTrace=p}return(p=o?o.displayName||o.name:"")?as(p):""}function Qc(o){switch(o.tag){case 26:case 27:case 5:return as(o.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 15:return io(o.type,!1);case 11:return io(o.type.render,!1);case 1:return io(o.type,!0);case 31:return as("Activity");default:return""}}function Pr(o){try{var u="";do u+=Qc(o),o=o.return;while(o);return u}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}function ta(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ao(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function sl(o){var u=ao(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),v=""+o[u];if(!o.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,I=p.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return E.call(this)},set:function(J){v=""+J,I.call(this,J)}}),Object.defineProperty(o,u,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(J){v=""+J},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function za(o){o._valueTracker||(o._valueTracker=sl(o))}function Wl(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var p=u.getValue(),v="";return o&&(v=ao(o)?o.checked?"true":"false":o.value),o=v,o!==p?(u.setValue(o),!0):!1}function na(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var ol=/[\n"\\]/g;function hr(o){return o.replace(ol,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function _o(o,u,p,v,E,I,J,he){o.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?o.type=J:o.removeAttribute("type"),u!=null?J==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+ta(u)):o.value!==""+ta(u)&&(o.value=""+ta(u)):J!=="submit"&&J!=="reset"||o.removeAttribute("value"),u!=null?ko(o,J,ta(u)):p!=null?ko(o,J,ta(p)):v!=null&&o.removeAttribute("value"),E==null&&I!=null&&(o.defaultChecked=!!I),E!=null&&(o.checked=E&&typeof E!="function"&&typeof E!="symbol"),he!=null&&typeof he!="function"&&typeof he!="symbol"&&typeof he!="boolean"?o.name=""+ta(he):o.removeAttribute("name")}function Vl(o,u,p,v,E,I,J,he){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.type=I),u!=null||p!=null){if(!(I!=="submit"&&I!=="reset"||u!=null))return;p=p!=null?""+ta(p):"",u=u!=null?""+ta(u):p,he||u===o.value||(o.value=u),o.defaultValue=u}v=v??E,v=typeof v!="function"&&typeof v!="symbol"&&!!v,o.checked=he?o.checked:!!v,o.defaultChecked=!!v,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(o.name=J)}function ko(o,u,p){u==="number"&&na(o.ownerDocument)===o||o.defaultValue===""+p||(o.defaultValue=""+p)}function Hs(o,u,p,v){if(o=o.options,u){u={};for(var E=0;E<p.length;E++)u["$"+p[E]]=!0;for(p=0;p<o.length;p++)E=u.hasOwnProperty("$"+o[p].value),o[p].selected!==E&&(o[p].selected=E),E&&v&&(o[p].defaultSelected=!0)}else{for(p=""+ta(p),u=null,E=0;E<o.length;E++){if(o[E].value===p){o[E].selected=!0,v&&(o[E].defaultSelected=!0);return}u!==null||o[E].disabled||(u=o[E])}u!==null&&(u.selected=!0)}}function Pu(o,u,p){if(u!=null&&(u=""+ta(u),u!==o.value&&(o.value=u),p==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=p!=null?""+ta(p):""}function Ws(o,u,p,v){if(u==null){if(v!=null){if(p!=null)throw Error(r(92));if(G(v)){if(1<v.length)throw Error(r(93));v=v[0]}p=v}p==null&&(p=""),u=p}p=ta(u),o.defaultValue=p,v=o.textContent,v===p&&v!==""&&v!==null&&(o.value=v)}function Bi(o,u){if(u){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=u;return}}o.textContent=u}var ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ws(o,u,p){var v=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?v?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":v?o.setProperty(u,p):typeof p!="number"||p===0||ss.has(u)?u==="float"?o.cssFloat=p:o[u]=(""+p).trim():o[u]=p+"px"}function zu(o,u,p){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,p!=null){for(var v in p)!p.hasOwnProperty(v)||u!=null&&u.hasOwnProperty(v)||(v.indexOf("--")===0?o.setProperty(v,""):v==="float"?o.cssFloat="":o[v]="");for(var E in u)v=u[E],u.hasOwnProperty(E)&&p[E]!==v&&ws(o,E,v)}else for(var I in u)u.hasOwnProperty(I)&&ws(o,I,u[I])}function qa(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ll=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ys(o){return ll.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var ul=null;function ui(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ei=null,Ss=null;function tn(o){var u=qi(o);if(u&&(o=u.stateNode)){var p=o[sr]||null;e:switch(o=u.stateNode,u.type){case"input":if(_o(o,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+hr(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var v=p[u];if(v!==o&&v.form===o.form){var E=v[sr]||null;if(!E)throw Error(r(90));_o(v,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(u=0;u<p.length;u++)v=p[u],v.form===o.form&&Wl(v)}break e;case"textarea":Pu(o,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&Hs(o,!!p.multiple,u,!1)}}}var so=!1;function cl(o,u,p){if(so)return o(u,p);so=!0;try{var v=o(u);return v}finally{if(so=!1,(ei!==null||Ss!==null)&&(Wb(),ei&&(u=ei,o=Ss,Ss=ei=null,tn(u),o)))for(u=0;u<o.length;u++)tn(o[u])}}function Ei(o,u){var p=o.stateNode;if(p===null)return null;var v=p[sr]||null;if(v===null)return null;p=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(o=o.type,v=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!v;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,u,typeof p));return p}var Ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jo=!1;if(Ba)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){jo=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{jo=!1}var Da=null,$a=null,No=null;function dl(){if(No)return No;var o,u=$a,p=u.length,v,E="value"in Da?Da.value:Da.textContent,I=E.length;for(o=0;o<p&&u[o]===E[o];o++);var J=p-o;for(v=1;v<=J&&u[p-v]===E[I-v];v++);return No=E.slice(o,1<v?1-v:void 0)}function oo(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function As(){return!0}function H(){return!1}function pe(o){function u(p,v,E,I,J){this._reactName=p,this._targetInst=E,this.type=v,this.nativeEvent=I,this.target=J,this.currentTarget=null;for(var he in o)o.hasOwnProperty(he)&&(p=o[he],this[he]=p?p(I):I[he]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?As:H,this.isPropagationStopped=H,this}return h(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),u}var Te={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ot=pe(Te),Xt=h({},Te,{view:0,detail:0}),qt=pe(Xt),Tn,_n,pr,gn=h({},Xt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ef,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==pr&&(pr&&o.type==="mousemove"?(Tn=o.screenX-pr.screenX,_n=o.screenY-pr.screenY):_n=Tn=0,pr=o),Tn)},movementY:function(o){return"movementY"in o?o.movementY:_n}}),Nr=pe(gn),wa=h({},gn,{dataTransfer:0}),Ar=pe(wa),Cr=h({},Xt,{relatedTarget:0}),Kr=pe(Cr),Ha=h({},Te,{animationName:0,elapsedTime:0,pseudoElement:0}),Gs=pe(Ha),Cs=h({},Te,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Zd=pe(Cs),fl=h({},Te,{data:0}),To=pe(fl),Tp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yh(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=bh[o])?!!u[o]:!1}function ef(){return yh}var wm=h({},Xt,{key:function(o){if(o.key){var u=Tp[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=oo(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Jd[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ef,charCode:function(o){return o.type==="keypress"?oo(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?oo(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),tf=pe(wm),Kc=h({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nf=pe(Kc),qu=h({},Xt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ef}),xh=pe(qu),D=h({},Te,{propertyName:0,elapsedTime:0,pseudoElement:0}),re=pe(D),Ee=h({},gn,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),De=pe(Ee),Ve=h({},Te,{newState:0,oldState:0}),ct=pe(Ve),Ct=[9,13,27,32],Tt=Ba&&"CompositionEvent"in window,Ut=null;Ba&&"documentMode"in document&&(Ut=document.documentMode);var vn=Ba&&"TextEvent"in window&&!Ut,pn=Ba&&(!Tt||Ut&&8<Ut&&11>=Ut),Bn=" ",ti=!1;function ci(o,u){switch(o){case"keyup":return Ct.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _i(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ki=!1;function Sa(o,u){switch(o){case"compositionend":return _i(u);case"keypress":return u.which!==32?null:(ti=!0,Bn);case"textInput":return o=u.data,o===Bn&&ti?null:o;default:return null}}function Oo(o,u){if(ki)return o==="compositionend"||!Tt&&ci(o,u)?(o=dl(),No=$a=Da=null,ki=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return pn&&u.locale!=="ko"?null:u.data;default:return null}}var Qs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Io(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!Qs[o.type]:u==="textarea"}function vh(o,u,p,v){ei?Ss?Ss.push(v):Ss=[v]:ei=v,u=Xb(u,"onChange"),0<u.length&&(p=new ot("onChange","change",null,p,v),o.push({event:p,listeners:u}))}var Yl=null,Gl=null;function rf(o){pE(o,0)}function Bu(o){var u=er(o);if(Wl(u))return o}function af(o,u){if(o==="change")return u}var Xc=!1;if(Ba){var ra;if(Ba){var Uu="oninput"in document;if(!Uu){var Zc=document.createElement("div");Zc.setAttribute("oninput","return;"),Uu=typeof Zc.oninput=="function"}ra=Uu}else ra=!1;Xc=ra&&(!document.documentMode||9<document.documentMode)}function Jc(){Yl&&(Yl.detachEvent("onpropertychange",sf),Gl=Yl=null)}function sf(o){if(o.propertyName==="value"&&Bu(Gl)){var u=[];vh(u,Gl,o,ui(o)),cl(rf,u)}}function Es(o,u,p){o==="focusin"?(Jc(),Yl=u,Gl=p,Yl.attachEvent("onpropertychange",sf)):o==="focusout"&&Jc()}function Sm(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Bu(Gl)}function wh(o,u){if(o==="click")return Bu(u)}function Op(o,u){if(o==="input"||o==="change")return Bu(u)}function lo(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Aa=typeof Object.is=="function"?Object.is:lo;function $u(o,u){if(Aa(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var p=Object.keys(o),v=Object.keys(u);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var E=p[v];if(!He.call(u,E)||!Aa(o[E],u[E]))return!1}return!0}function Sh(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ql(o,u){var p=Sh(o);o=0;for(var v;p;){if(p.nodeType===3){if(v=o+p.textContent.length,o<=u&&v>=u)return{node:p,offset:u-o};o=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Sh(p)}}function Hu(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?Hu(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function os(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=na(o.document);u instanceof o.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)o=u.contentWindow;else break;u=na(o.document)}return u}function La(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var Wu=Ba&&"documentMode"in document&&11>=document.documentMode,_s=null,Do=null,hl=null,Lo=!1;function gi(o,u,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Lo||_s==null||_s!==na(v)||(v=_s,"selectionStart"in v&&La(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),hl&&$u(hl,v)||(hl=v,v=Xb(Do,"onSelect"),0<v.length&&(u=new ot("onSelect","select",null,u,p),o.push({event:u,listeners:v}),u.target=_s)))}function Ro(o,u){var p={};return p[o.toLowerCase()]=u.toLowerCase(),p["Webkit"+o]="webkit"+u,p["Moz"+o]="moz"+u,p}var Ui={animationend:Ro("Animation","AnimationEnd"),animationiteration:Ro("Animation","AnimationIteration"),animationstart:Ro("Animation","AnimationStart"),transitionrun:Ro("Transition","TransitionRun"),transitionstart:Ro("Transition","TransitionStart"),transitioncancel:Ro("Transition","TransitionCancel"),transitionend:Ro("Transition","TransitionEnd")},ks={},ed={};Ba&&(ed=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function pl(o){if(ks[o])return ks[o];if(!Ui[o])return o;var u=Ui[o],p;for(p in u)if(u.hasOwnProperty(p)&&p in ed)return ks[o]=u[p];return o}var of=pl("animationend"),Vu=pl("animationiteration"),Yu=pl("animationstart"),Gu=pl("transitionrun"),td=pl("transitionstart"),lf=pl("transitioncancel"),Qu=pl("transitionend"),Kl=new Map,nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nd.push("scrollEnd");function bi(o,u){Kl.set(o,u),Fa(u,[o])}var Ks=new WeakMap;function Ln(o,u){if(typeof o=="object"&&o!==null){var p=Ks.get(o);return p!==void 0?p:(u={value:o,source:u,stack:Pr(u)},Ks.set(o,u),u)}return{value:o,source:u,stack:Pr(u)}}var Rn=[],zr=0,ji=0;function uo(){for(var o=zr,u=ji=zr=0;u<o;){var p=Rn[u];Rn[u++]=null;var v=Rn[u];Rn[u++]=null;var E=Rn[u];Rn[u++]=null;var I=Rn[u];if(Rn[u++]=null,v!==null&&E!==null){var J=v.pending;J===null?E.next=E:(E.next=J.next,J.next=E),v.pending=E}I!==0&&Ip(p,E,I)}}function Ku(o,u,p,v){Rn[zr++]=o,Rn[zr++]=u,Rn[zr++]=p,Rn[zr++]=v,ji|=v,o.lanes|=v,o=o.alternate,o!==null&&(o.lanes|=v)}function Xu(o,u,p,v){return Ku(o,u,p,v),rd(o)}function Xl(o,u){return Ku(o,null,null,u),rd(o)}function Ip(o,u,p){o.lanes|=p;var v=o.alternate;v!==null&&(v.lanes|=p);for(var E=!1,I=o.return;I!==null;)I.childLanes|=p,v=I.alternate,v!==null&&(v.childLanes|=p),I.tag===22&&(o=I.stateNode,o===null||o._visibility&1||(E=!0)),o=I,I=I.return;return o.tag===3?(I=o.stateNode,E&&u!==null&&(E=31-Ne(p),o=I.hiddenUpdates,v=o[E],v===null?o[E]=[u]:v.push(u),u.lane=p|536870912),I):null}function rd(o){if(50<Ym)throw Ym=0,$2=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Ca={};function co(o,u,p,v){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wa(o,u,p,v){return new co(o,u,p,v)}function uf(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ml(o,u){var p=o.alternate;return p===null?(p=Wa(o.tag,u,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=u,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&65011712,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,u=o.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p.refCleanup=o.refCleanup,p}function Ah(o,u){o.flags&=65011714;var p=o.alternate;return p===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,u=p.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function id(o,u,p,v,E,I){var J=0;if(v=o,typeof o=="function")uf(o)&&(J=1);else if(typeof o=="string")J=O9(o,p,Z.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case B:return o=Wa(31,p,u,E),o.elementType=B,o.lanes=I,o;case x:return Zl(p.children,E,I,u);case y:J=8,E|=24;break;case A:return o=Wa(12,p,u,E|2),o.elementType=A,o.lanes=I,o;case R:return o=Wa(13,p,u,E),o.elementType=R,o.lanes=I,o;case M:return o=Wa(19,p,u,E),o.elementType=M,o.lanes=I,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case w:case N:J=10;break e;case C:J=9;break e;case F:J=11;break e;case k:J=14;break e;case L:J=16,v=null;break e}J=29,p=Error(r(130,o===null?"null":typeof o,"")),v=null}return u=Wa(J,p,u,E),u.elementType=o,u.type=v,u.lanes=I,u}function Zl(o,u,p,v){return o=Wa(7,o,v,u),o.lanes=p,o}function Dp(o,u,p){return o=Wa(6,o,null,u),o.lanes=p,o}function Ch(o,u,p){return u=Wa(4,o.children!==null?o.children:[],o.key,u),u.lanes=p,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Zu=[],Jl=0,cf=null,Lp=0,fo=[],Xs=0,ad=null,eu=1,tu="";function sd(o,u){Zu[Jl++]=Lp,Zu[Jl++]=cf,cf=o,Lp=u}function mb(o,u,p){fo[Xs++]=eu,fo[Xs++]=tu,fo[Xs++]=ad,ad=o;var v=eu;o=tu;var E=32-Ne(v)-1;v&=~(1<<E),p+=1;var I=32-Ne(u)+E;if(30<I){var J=E-E%5;I=(v&(1<<J)-1).toString(32),v>>=J,E-=J,eu=1<<32-Ne(u)+E|p<<E|v,tu=I+o}else eu=1<<I|p<<E|v,tu=o}function Eh(o){o.return!==null&&(sd(o,1),mb(o,1,0))}function _h(o){for(;o===cf;)cf=Zu[--Jl],Zu[Jl]=null,Lp=Zu[--Jl],Zu[Jl]=null;for(;o===ad;)ad=fo[--Xs],fo[Xs]=null,tu=fo[--Xs],fo[Xs]=null,eu=fo[--Xs],fo[Xs]=null}var ia=null,yi=null,nr=!1,Ju=null,gl=!1,Am=Error(r(519));function od(o){var u=Error(r(418,""));throw df(Ln(u,o)),Am}function gb(o){var u=o.stateNode,p=o.type,v=o.memoizedProps;switch(u[Wn]=o,u[sr]=v,p){case"dialog":$n("cancel",u),$n("close",u);break;case"iframe":case"object":case"embed":$n("load",u);break;case"video":case"audio":for(p=0;p<Qm.length;p++)$n(Qm[p],u);break;case"source":$n("error",u);break;case"img":case"image":case"link":$n("error",u),$n("load",u);break;case"details":$n("toggle",u);break;case"input":$n("invalid",u),Vl(u,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),za(u);break;case"select":$n("invalid",u);break;case"textarea":$n("invalid",u),Ws(u,v.value,v.defaultValue,v.children),za(u)}p=v.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||v.suppressHydrationWarning===!0||yE(u.textContent,p)?(v.popover!=null&&($n("beforetoggle",u),$n("toggle",u)),v.onScroll!=null&&$n("scroll",u),v.onScrollEnd!=null&&$n("scrollend",u),v.onClick!=null&&(u.onclick=Zb),u=!0):u=!1,u||od(o)}function nu(o){for(ia=o.return;ia;)switch(ia.tag){case 5:case 13:gl=!1;return;case 27:case 3:gl=!0;return;default:ia=ia.return}}function ls(o){if(o!==ia)return!1;if(!nr)return nu(o),nr=!0,!1;var u=o.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=o.type,p=!(p!=="form"&&p!=="button")||a5(o.type,o.memoizedProps)),p=!p),p&&yi&&od(o),nu(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8)if(p=o.data,p==="/$"){if(u===0){yi=cu(o.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++;o=o.nextSibling}yi=null}}else u===27?(u=yi,jf(o.type)?(o=u5,u5=null,yi=o):yi=u):yi=ia?cu(o.stateNode.nextSibling):null;return!0}function Zs(){yi=ia=null,nr=!1}function bb(){var o=Ju;return o!==null&&(mo===null?mo=o:mo.push.apply(mo,o),Ju=null),o}function df(o){Ju===null?Ju=[o]:Ju.push(o)}var bl=ae(null),Ea=null,ru=null;function ec(o,u,p){q(bl,u._currentValue),u._currentValue=p}function yl(o){o._currentValue=bl.current,U(bl)}function Rp(o,u,p){for(;o!==null;){var v=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),o===p)break;o=o.return}}function Mp(o,u,p,v){var E=o.child;for(E!==null&&(E.return=o);E!==null;){var I=E.dependencies;if(I!==null){var J=E.child;I=I.firstContext;e:for(;I!==null;){var he=I;I=E;for(var je=0;je<u.length;je++)if(he.context===u[je]){I.lanes|=p,he=I.alternate,he!==null&&(he.lanes|=p),Rp(I.return,p,o),v||(J=null);break e}I=he.next}}else if(E.tag===18){if(J=E.return,J===null)throw Error(r(341));J.lanes|=p,I=J.alternate,I!==null&&(I.lanes|=p),Rp(J,p,o),J=null}else J=E.child;if(J!==null)J.return=E;else for(J=E;J!==null;){if(J===o){J=null;break}if(E=J.sibling,E!==null){E.return=J.return,J=E;break}J=J.return}E=J}}function ff(o,u,p,v){o=null;for(var E=u,I=!1;E!==null;){if(!I){if((E.flags&524288)!==0)I=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var J=E.alternate;if(J===null)throw Error(r(387));if(J=J.memoizedProps,J!==null){var he=E.type;Aa(E.pendingProps.value,J.value)||(o!==null?o.push(he):o=[he])}}else if(E===we.current){if(J=E.alternate,J===null)throw Error(r(387));J.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(o!==null?o.push(t1):o=[t1])}E=E.return}o!==null&&Mp(u,o,p,v),u.flags|=262144}function Fp(o){for(o=o.firstContext;o!==null;){if(!Aa(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function xl(o){Ea=o,ru=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function aa(o){return Pp(Ea,o)}function tc(o,u){return Ea===null&&xl(o),Pp(o,u)}function Pp(o,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},ru===null){if(o===null)throw Error(r(308));ru=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else ru=ru.next=u;return p}var p2=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(p,v){o.push(v)}};this.abort=function(){u.aborted=!0,o.forEach(function(p){return p()})}},yb=e.unstable_scheduleCallback,m2=e.unstable_NormalPriority,sa={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cm(){return{controller:new p2,data:new Map,refCount:0}}function kh(o){o.refCount--,o.refCount===0&&yb(m2,function(){o.controller.abort()})}var jh=null,Em=0,ld=0,iu=null;function g2(o,u){if(jh===null){var p=jh=[];Em=0,ld=K2(),iu={status:"pending",value:void 0,then:function(v){p.push(v)}}}return Em++,u.then(xb,xb),u}function xb(){if(--Em===0&&jh!==null){iu!==null&&(iu.status="fulfilled");var o=jh;jh=null,ld=0,iu=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function vb(o,u){var p=[],v={status:"pending",value:null,reason:null,then:function(E){p.push(E)}};return o.then(function(){v.status="fulfilled",v.value=u;for(var E=0;E<p.length;E++)(0,p[E])(u)},function(E){for(v.status="rejected",v.reason=E,E=0;E<p.length;E++)(0,p[E])(void 0)}),v}var S=W.S;W.S=function(o,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&g2(o,u),S!==null&&S(o,u)};var _=ae(null);function P(){var o=_.current;return o!==null?o:ri.pooledCache}function Y(o,u){u===null?q(_,_.current):q(_,u.pool)}function ne(){var o=P();return o===null?null:{parent:sa._currentValue,pool:o}}var oe=Error(r(460)),le=Error(r(474)),fe=Error(r(542)),be={then:function(){}};function Ae(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Re(){}function Qe(o,u,p){switch(p=o[p],p===void 0?o.push(u):p!==u&&(u.then(Re,Re),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,yt(o),o;default:if(typeof u.status=="string")u.then(Re,Re);else{if(o=ri,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(v){if(u.status==="pending"){var E=u;E.status="fulfilled",E.value=v}},function(v){if(u.status==="pending"){var E=u;E.status="rejected",E.reason=v}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,yt(o),o}throw Ye=u,oe}}var Ye=null;function Be(){if(Ye===null)throw Error(r(459));var o=Ye;return Ye=null,o}function yt(o){if(o===oe||o===fe)throw Error(r(483))}var rt=!1;function Fe(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qe(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function pt(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function vt(o,u,p){var v=o.updateQueue;if(v===null)return null;if(v=v.shared,(Or&2)!==0){var E=v.pending;return E===null?u.next=u:(u.next=E.next,E.next=u),v.pending=u,u=rd(o),Ip(o,null,p),u}return Ku(o,v,u,p),rd(o)}function gt(o,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var v=u.lanes;v&=o.pendingLanes,p|=v,u.lanes=p,En(o,p)}}function Ot(o,u){var p=o.updateQueue,v=o.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var E=null,I=null;if(p=p.firstBaseUpdate,p!==null){do{var J={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};I===null?E=I=J:I=I.next=J,p=p.next}while(p!==null);I===null?E=I=u:I=I.next=u}else E=I=u;p={baseState:v.baseState,firstBaseUpdate:E,lastBaseUpdate:I,shared:v.shared,callbacks:v.callbacks},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=u:o.next=u,p.lastBaseUpdate=u}var jt=!1;function Yt(){if(jt){var o=iu;if(o!==null)throw o}}function Nt(o,u,p,v){jt=!1;var E=o.updateQueue;rt=!1;var I=E.firstBaseUpdate,J=E.lastBaseUpdate,he=E.shared.pending;if(he!==null){E.shared.pending=null;var je=he,Xe=je.next;je.next=null,J===null?I=Xe:J.next=Xe,J=je;var mt=o.alternate;mt!==null&&(mt=mt.updateQueue,he=mt.lastBaseUpdate,he!==J&&(he===null?mt.firstBaseUpdate=Xe:he.next=Xe,mt.lastBaseUpdate=je))}if(I!==null){var St=E.baseState;J=0,mt=Xe=je=null,he=I;do{var et=he.lane&-536870913,nt=et!==he.lane;if(nt?(Qn&et)===et:(v&et)===et){et!==0&&et===ld&&(jt=!0),mt!==null&&(mt=mt.next={lane:0,tag:he.tag,payload:he.payload,callback:null,next:null});e:{var hn=o,rn=he;et=u;var Br=p;switch(rn.tag){case 1:if(hn=rn.payload,typeof hn=="function"){St=hn.call(Br,St,et);break e}St=hn;break e;case 3:hn.flags=hn.flags&-65537|128;case 0:if(hn=rn.payload,et=typeof hn=="function"?hn.call(Br,St,et):hn,et==null)break e;St=h({},St,et);break e;case 2:rt=!0}}et=he.callback,et!==null&&(o.flags|=64,nt&&(o.flags|=8192),nt=E.callbacks,nt===null?E.callbacks=[et]:nt.push(et))}else nt={lane:et,tag:he.tag,payload:he.payload,callback:he.callback,next:null},mt===null?(Xe=mt=nt,je=St):mt=mt.next=nt,J|=et;if(he=he.next,he===null){if(he=E.shared.pending,he===null)break;nt=he,he=nt.next,nt.next=null,E.lastBaseUpdate=nt,E.shared.pending=null}}while(!0);mt===null&&(je=St),E.baseState=je,E.firstBaseUpdate=Xe,E.lastBaseUpdate=mt,I===null&&(E.shared.lanes=0),Cf|=J,o.lanes=J,o.memoizedState=St}}function Yn(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function or(o,u){var p=o.callbacks;if(p!==null)for(o.callbacks=null,o=0;o<p.length;o++)Yn(p[o],u)}var In=ae(null),On=ae(0);function Er(o,u){o=yd,q(On,o),q(In,u),yd=o|u.baseLanes}function lr(){q(On,yd),q(In,In.current)}function bn(){yd=On.current,U(In),U(On)}var Tr=0,en=null,cn=null,Vn=null,Gn=!1,_a=!1,oa=!1,Ni=0,Ti=0,$i=null,ho=0;function ur(){throw Error(r(321))}function Hi(o,u){if(u===null)return!1;for(var p=0;p<u.length&&p<o.length;p++)if(!Aa(o[p],u[p]))return!1;return!0}function Mo(o,u,p,v,E,I){return Tr=I,en=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,W.H=o===null||o.memoizedState===null?ZA:JA,oa=!1,I=p(v,E),oa=!1,_a&&(I=ud(u,p,v,E)),nc(o),I}function nc(o){W.H=Ib;var u=cn!==null&&cn.next!==null;if(Tr=0,Vn=cn=en=null,Gn=!1,Ti=0,$i=null,u)throw Error(r(300));o===null||Va||(o=o.dependencies,o!==null&&Fp(o)&&(Va=!0))}function ud(o,u,p,v){en=o;var E=0;do{if(_a&&($i=null),Ti=0,_a=!1,25<=E)throw Error(r(301));if(E+=1,Vn=cn=null,o.updateQueue!=null){var I=o.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}W.H=UL,I=u(p,v)}while(_a);return I}function rc(){var o=W.H,u=o.useState()[0];return u=typeof u.then=="function"?ic(u):u,o=o.useState()[0],(cn!==null?cn.memoizedState:null)!==o&&(en.flags|=1024),u}function ni(){var o=Ni!==0;return Ni=0,o}function Nh(o,u,p){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~p}function zp(o){if(Gn){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Gn=!1}Tr=0,Vn=cn=en=null,_a=!1,Ti=Ni=0,$i=null}function us(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?en.memoizedState=Vn=o:Vn=Vn.next=o,Vn}function di(){if(cn===null){var o=en.alternate;o=o!==null?o.memoizedState:null}else o=cn.next;var u=Vn===null?en.memoizedState:Vn.next;if(u!==null)Vn=u,cn=o;else{if(o===null)throw en.alternate===null?Error(r(467)):Error(r(310));cn=o,o={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},Vn===null?en.memoizedState=Vn=o:Vn=Vn.next=o}return Vn}function cd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ic(o){var u=Ti;return Ti+=1,$i===null&&($i=[]),o=Qe($i,o,u),u=en,(Vn===null?u.memoizedState:Vn.next)===null&&(u=u.alternate,W.H=u===null||u.memoizedState===null?ZA:JA),o}function js(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return ic(o);if(o.$$typeof===N)return aa(o)}throw Error(r(438,String(o)))}function ac(o){var u=null,p=en.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var v=en.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(u={data:v.data.map(function(E){return E.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=cd(),en.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(o),v=0;v<o;v++)p[v]=Q;return u.index++,p}function Ns(o,u){return typeof u=="function"?u(o):u}function Th(o){var u=di();return hf(u,cn,o)}function hf(o,u,p){var v=o.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=p;var E=o.baseQueue,I=v.pending;if(I!==null){if(E!==null){var J=E.next;E.next=I.next,I.next=J}u.baseQueue=E=I,v.pending=null}if(I=o.baseState,E===null)o.memoizedState=I;else{u=E.next;var he=J=null,je=null,Xe=u,mt=!1;do{var St=Xe.lane&-536870913;if(St!==Xe.lane?(Qn&St)===St:(Tr&St)===St){var et=Xe.revertLane;if(et===0)je!==null&&(je=je.next={lane:0,revertLane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),St===ld&&(mt=!0);else if((Tr&et)===et){Xe=Xe.next,et===ld&&(mt=!0);continue}else St={lane:0,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},je===null?(he=je=St,J=I):je=je.next=St,en.lanes|=et,Cf|=et;St=Xe.action,oa&&p(I,St),I=Xe.hasEagerState?Xe.eagerState:p(I,St)}else et={lane:St,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},je===null?(he=je=et,J=I):je=je.next=et,en.lanes|=St,Cf|=St;Xe=Xe.next}while(Xe!==null&&Xe!==u);if(je===null?J=I:je.next=he,!Aa(I,o.memoizedState)&&(Va=!0,mt&&(p=iu,p!==null)))throw p;o.memoizedState=I,o.baseState=J,o.baseQueue=je,v.lastRenderedState=I}return E===null&&(v.lanes=0),[o.memoizedState,v.dispatch]}function qp(o){var u=di(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var v=p.dispatch,E=p.pending,I=u.memoizedState;if(E!==null){p.pending=null;var J=E=E.next;do I=o(I,J.action),J=J.next;while(J!==E);Aa(I,u.memoizedState)||(Va=!0),u.memoizedState=I,u.baseQueue===null&&(u.baseState=I),p.lastRenderedState=I}return[I,v]}function Oh(o,u,p){var v=en,E=di(),I=nr;if(I){if(p===void 0)throw Error(r(407));p=p()}else p=u();var J=!Aa((cn||E).memoizedState,p);J&&(E.memoizedState=p,Va=!0),E=E.queue;var he=pf.bind(null,v,E,o);if(bf(2048,8,he,[o]),E.getSnapshot!==u||J||Vn!==null&&Vn.memoizedState.tag&1){if(v.flags|=2048,su(9,Rh(),Ih.bind(null,v,E,p,u),null),ri===null)throw Error(r(349));I||(Tr&124)!==0||Bp(v,u,p)}return p}function Bp(o,u,p){o.flags|=16384,o={getSnapshot:u,value:p},u=en.updateQueue,u===null?(u=cd(),en.updateQueue=u,u.stores=[o]):(p=u.stores,p===null?u.stores=[o]:p.push(o))}function Ih(o,u,p,v){u.value=p,u.getSnapshot=v,wb(u)&&Sb(o)}function pf(o,u,p){return p(function(){wb(u)&&Sb(o)})}function wb(o){var u=o.getSnapshot;o=o.value;try{var p=u();return!Aa(o,p)}catch{return!0}}function Sb(o){var u=Xl(o,2);u!==null&&Uo(u,o,2)}function Dh(o){var u=us();if(typeof o=="function"){var p=o;if(o=p(),oa){_e(!0);try{p()}finally{_e(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:o},u}function au(o,u,p,v){return o.baseState=p,hf(o,cn,typeof v=="function"?v:Ns)}function b2(o,u,p,v,E){if(Ob(o))throw Error(r(485));if(o=u.action,o!==null){var I={payload:E,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){I.listeners.push(J)}};W.T!==null?p(!0):I.isTransition=!1,v(I),p=u.pending,p===null?(I.next=u.pending=I,Ab(u,I)):(I.next=p.next,u.pending=p.next=I)}}function Ab(o,u){var p=u.action,v=u.payload,E=o.state;if(u.isTransition){var I=W.T,J={};W.T=J;try{var he=p(E,v),je=W.S;je!==null&&je(J,he),Cb(o,u,he)}catch(Xe){mf(o,u,Xe)}finally{W.T=I}}else try{I=p(E,v),Cb(o,u,I)}catch(Xe){mf(o,u,Xe)}}function Cb(o,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(v){_m(o,u,v)},function(v){return mf(o,u,v)}):_m(o,u,p)}function _m(o,u,p){u.status="fulfilled",u.value=p,km(u),o.state=p,u=o.pending,u!==null&&(p=u.next,p===u?o.pending=null:(p=p.next,u.next=p,Ab(o,p)))}function mf(o,u,p){var v=o.pending;if(o.pending=null,v!==null){v=v.next;do u.status="rejected",u.reason=p,km(u),u=u.next;while(u!==v)}o.action=null}function km(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function jm(o,u){return u}function Lh(o,u){if(nr){var p=ri.formState;if(p!==null){e:{var v=en;if(nr){if(yi){t:{for(var E=yi,I=gl;E.nodeType!==8;){if(!I){E=null;break t}if(E=cu(E.nextSibling),E===null){E=null;break t}}I=E.data,E=I==="F!"||I==="F"?E:null}if(E){yi=cu(E.nextSibling),v=E.data==="F!";break e}}od(v)}v=!1}v&&(u=p[0])}}return p=us(),p.memoizedState=p.baseState=u,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jm,lastRenderedState:u},p.queue=v,p=QA.bind(null,en,v),v.dispatch=p,v=Dh(!1),I=y2.bind(null,en,!1,v.queue),v=us(),E={state:u,dispatch:null,action:o,pending:null},v.queue=E,p=b2.bind(null,en,E,I,p),E.dispatch=p,v.memoizedState=o,[u,p,!1]}function Up(o){var u=di();return gf(u,cn,o)}function gf(o,u,p){if(u=hf(o,u,jm)[0],o=Th(Ns)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var v=ic(u)}catch(J){throw J===oe?fe:J}else v=u;u=di();var E=u.queue,I=E.dispatch;return p!==u.memoizedState&&(en.flags|=2048,su(9,Rh(),Eb.bind(null,E,p),null)),[v,I,o]}function Eb(o,u){o.action=u}function _b(o){var u=di(),p=cn;if(p!==null)return gf(u,p,o);di(),u=u.memoizedState,p=di();var v=p.queue.dispatch;return p.memoizedState=o,[u,v,!1]}function su(o,u,p,v){return o={tag:o,create:p,deps:v,inst:u,next:null},u=en.updateQueue,u===null&&(u=cd(),en.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=o.next=o:(v=p.next,p.next=o,o.next=v,u.lastEffect=o),o}function Rh(){return{destroy:void 0,resource:void 0}}function $p(){return di().memoizedState}function Fo(o,u,p,v){var E=us();v=v===void 0?null:v,en.flags|=o,E.memoizedState=su(1|u,Rh(),p,v)}function bf(o,u,p,v){var E=di();v=v===void 0?null:v;var I=E.memoizedState.inst;cn!==null&&v!==null&&Hi(v,cn.memoizedState.deps)?E.memoizedState=su(u,I,p,v):(en.flags|=o,E.memoizedState=su(1|u,I,p,v))}function Nm(o,u){Fo(8390656,8,o,u)}function kb(o,u){bf(2048,8,o,u)}function Tm(o,u){return bf(4,2,o,u)}function dd(o,u){return bf(4,4,o,u)}function jb(o,u){if(typeof u=="function"){o=o();var p=u(o);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function Om(o,u,p){p=p!=null?p.concat([o]):null,bf(4,4,jb.bind(null,u,o),p)}function Im(){}function Dm(o,u){var p=di();u=u===void 0?null:u;var v=p.memoizedState;return u!==null&&Hi(u,v[1])?v[0]:(p.memoizedState=[o,u],o)}function Nb(o,u){var p=di();u=u===void 0?null:u;var v=p.memoizedState;if(u!==null&&Hi(u,v[1]))return v[0];if(v=o(),oa){_e(!0);try{o()}finally{_e(!1)}}return p.memoizedState=[v,u],v}function fd(o,u,p){return p===void 0||(Tr&1073741824)!==0?o.memoizedState=u:(o.memoizedState=p,o=WC(),en.lanes|=o,Cf|=o,p)}function Hp(o,u,p,v){return Aa(p,u)?p:In.current!==null?(o=fd(o,p,v),Aa(o,u)||(Va=!0),o):(Tr&42)===0?(Va=!0,o.memoizedState=p):(o=WC(),en.lanes|=o,Cf|=o,u)}function Mh(o,u,p,v,E){var I=X.p;X.p=I!==0&&8>I?I:8;var J=W.T,he={};W.T=he,y2(o,!1,u,p);try{var je=E(),Xe=W.S;if(Xe!==null&&Xe(he,je),je!==null&&typeof je=="object"&&typeof je.then=="function"){var mt=vb(je,v);Fm(o,u,mt,Bo(o))}else Fm(o,u,v,Bo(o))}catch(St){Fm(o,u,{then:function(){},status:"rejected",reason:St},Bo())}finally{X.p=I,W.T=J}}function ou(){}function vl(o,u,p,v){if(o.tag!==5)throw Error(r(476));var E=lu(o).queue;Mh(o,E,u,ie,p===null?ou:function(){return Fh(o),p(v)})}function lu(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:ie},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:p},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function Fh(o){var u=lu(o).next.queue;Fm(o,u,{},Bo())}function Ph(){return aa(t1)}function Lm(){return di().memoizedState}function Tb(){return di().memoizedState}function Rm(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var p=Bo();o=pt(p);var v=vt(u,o,p);v!==null&&(Uo(v,u,p),gt(v,u,p)),u={cache:Cm()},o.payload=u;return}u=u.return}}function Mm(o,u,p){var v=Bo();p={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null},Ob(o)?KA(u,p):(p=Xu(o,u,p,v),p!==null&&(Uo(p,o,v),XA(p,u,v)))}function QA(o,u,p){var v=Bo();Fm(o,u,p,v)}function Fm(o,u,p,v){var E={lane:v,revertLane:0,action:p,hasEagerState:!1,eagerState:null,next:null};if(Ob(o))KA(u,E);else{var I=o.alternate;if(o.lanes===0&&(I===null||I.lanes===0)&&(I=u.lastRenderedReducer,I!==null))try{var J=u.lastRenderedState,he=I(J,p);if(E.hasEagerState=!0,E.eagerState=he,Aa(he,J))return Ku(o,u,E,0),ri===null&&uo(),!1}catch{}finally{}if(p=Xu(o,u,E,v),p!==null)return Uo(p,o,v),XA(p,u,v),!0}return!1}function y2(o,u,p,v){if(v={lane:2,revertLane:K2(),action:v,hasEagerState:!1,eagerState:null,next:null},Ob(o)){if(u)throw Error(r(479))}else u=Xu(o,p,v,2),u!==null&&Uo(u,o,2)}function Ob(o){var u=o.alternate;return o===en||u!==null&&u===en}function KA(o,u){_a=Gn=!0;var p=o.pending;p===null?u.next=u:(u.next=p.next,p.next=u),o.pending=u}function XA(o,u,p){if((p&4194048)!==0){var v=u.lanes;v&=o.pendingLanes,p|=v,u.lanes=p,En(o,p)}}var Ib={readContext:aa,use:js,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useLayoutEffect:ur,useInsertionEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useSyncExternalStore:ur,useId:ur,useHostTransitionStatus:ur,useFormState:ur,useActionState:ur,useOptimistic:ur,useMemoCache:ur,useCacheRefresh:ur},ZA={readContext:aa,use:js,useCallback:function(o,u){return us().memoizedState=[o,u===void 0?null:u],o},useContext:aa,useEffect:Nm,useImperativeHandle:function(o,u,p){p=p!=null?p.concat([o]):null,Fo(4194308,4,jb.bind(null,u,o),p)},useLayoutEffect:function(o,u){return Fo(4194308,4,o,u)},useInsertionEffect:function(o,u){Fo(4,2,o,u)},useMemo:function(o,u){var p=us();u=u===void 0?null:u;var v=o();if(oa){_e(!0);try{o()}finally{_e(!1)}}return p.memoizedState=[v,u],v},useReducer:function(o,u,p){var v=us();if(p!==void 0){var E=p(u);if(oa){_e(!0);try{p(u)}finally{_e(!1)}}}else E=u;return v.memoizedState=v.baseState=E,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:E},v.queue=o,o=o.dispatch=Mm.bind(null,en,o),[v.memoizedState,o]},useRef:function(o){var u=us();return o={current:o},u.memoizedState=o},useState:function(o){o=Dh(o);var u=o.queue,p=QA.bind(null,en,u);return u.dispatch=p,[o.memoizedState,p]},useDebugValue:Im,useDeferredValue:function(o,u){var p=us();return fd(p,o,u)},useTransition:function(){var o=Dh(!1);return o=Mh.bind(null,en,o.queue,!0,!1),us().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,p){var v=en,E=us();if(nr){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),ri===null)throw Error(r(349));(Qn&124)!==0||Bp(v,u,p)}E.memoizedState=p;var I={value:p,getSnapshot:u};return E.queue=I,Nm(pf.bind(null,v,I,o),[o]),v.flags|=2048,su(9,Rh(),Ih.bind(null,v,I,p,u),null),p},useId:function(){var o=us(),u=ri.identifierPrefix;if(nr){var p=tu,v=eu;p=(v&~(1<<32-Ne(v)-1)).toString(32)+p,u=""+u+"R"+p,p=Ni++,0<p&&(u+="H"+p.toString(32)),u+=""}else p=ho++,u=""+u+"r"+p.toString(32)+"";return o.memoizedState=u},useHostTransitionStatus:Ph,useFormState:Lh,useActionState:Lh,useOptimistic:function(o){var u=us();u.memoizedState=u.baseState=o;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=y2.bind(null,en,!0,p),p.dispatch=u,[o,u]},useMemoCache:ac,useCacheRefresh:function(){return us().memoizedState=Rm.bind(null,en)}},JA={readContext:aa,use:js,useCallback:Dm,useContext:aa,useEffect:kb,useImperativeHandle:Om,useInsertionEffect:Tm,useLayoutEffect:dd,useMemo:Nb,useReducer:Th,useRef:$p,useState:function(){return Th(Ns)},useDebugValue:Im,useDeferredValue:function(o,u){var p=di();return Hp(p,cn.memoizedState,o,u)},useTransition:function(){var o=Th(Ns)[0],u=di().memoizedState;return[typeof o=="boolean"?o:ic(o),u]},useSyncExternalStore:Oh,useId:Lm,useHostTransitionStatus:Ph,useFormState:Up,useActionState:Up,useOptimistic:function(o,u){var p=di();return au(p,cn,o,u)},useMemoCache:ac,useCacheRefresh:Tb},UL={readContext:aa,use:js,useCallback:Dm,useContext:aa,useEffect:kb,useImperativeHandle:Om,useInsertionEffect:Tm,useLayoutEffect:dd,useMemo:Nb,useReducer:qp,useRef:$p,useState:function(){return qp(Ns)},useDebugValue:Im,useDeferredValue:function(o,u){var p=di();return cn===null?fd(p,o,u):Hp(p,cn.memoizedState,o,u)},useTransition:function(){var o=qp(Ns)[0],u=di().memoizedState;return[typeof o=="boolean"?o:ic(o),u]},useSyncExternalStore:Oh,useId:Lm,useHostTransitionStatus:Ph,useFormState:_b,useActionState:_b,useOptimistic:function(o,u){var p=di();return cn!==null?au(p,cn,o,u):(p.baseState=o,[o,p.queue.dispatch])},useMemoCache:ac,useCacheRefresh:Tb},Wp=null,Pm=0;function Db(o){var u=Pm;return Pm+=1,Wp===null&&(Wp=[]),Qe(Wp,o,u)}function zm(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function Lb(o,u){throw u.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function eC(o){var u=o._init;return u(o._payload)}function tC(o){function u($e,ze){if(o){var Ge=$e.deletions;Ge===null?($e.deletions=[ze],$e.flags|=16):Ge.push(ze)}}function p($e,ze){if(!o)return null;for(;ze!==null;)u($e,ze),ze=ze.sibling;return null}function v($e){for(var ze=new Map;$e!==null;)$e.key!==null?ze.set($e.key,$e):ze.set($e.index,$e),$e=$e.sibling;return ze}function E($e,ze){return $e=ml($e,ze),$e.index=0,$e.sibling=null,$e}function I($e,ze,Ge){return $e.index=Ge,o?(Ge=$e.alternate,Ge!==null?(Ge=Ge.index,Ge<ze?($e.flags|=67108866,ze):Ge):($e.flags|=67108866,ze)):($e.flags|=1048576,ze)}function J($e){return o&&$e.alternate===null&&($e.flags|=67108866),$e}function he($e,ze,Ge,bt){return ze===null||ze.tag!==6?(ze=Dp(Ge,$e.mode,bt),ze.return=$e,ze):(ze=E(ze,Ge),ze.return=$e,ze)}function je($e,ze,Ge,bt){var Pt=Ge.type;return Pt===x?mt($e,ze,Ge.props.children,bt,Ge.key):ze!==null&&(ze.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===L&&eC(Pt)===ze.type)?(ze=E(ze,Ge.props),zm(ze,Ge),ze.return=$e,ze):(ze=id(Ge.type,Ge.key,Ge.props,null,$e.mode,bt),zm(ze,Ge),ze.return=$e,ze)}function Xe($e,ze,Ge,bt){return ze===null||ze.tag!==4||ze.stateNode.containerInfo!==Ge.containerInfo||ze.stateNode.implementation!==Ge.implementation?(ze=Ch(Ge,$e.mode,bt),ze.return=$e,ze):(ze=E(ze,Ge.children||[]),ze.return=$e,ze)}function mt($e,ze,Ge,bt,Pt){return ze===null||ze.tag!==7?(ze=Zl(Ge,$e.mode,bt,Pt),ze.return=$e,ze):(ze=E(ze,Ge),ze.return=$e,ze)}function St($e,ze,Ge){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return ze=Dp(""+ze,$e.mode,Ge),ze.return=$e,ze;if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case b:return Ge=id(ze.type,ze.key,ze.props,null,$e.mode,Ge),zm(Ge,ze),Ge.return=$e,Ge;case m:return ze=Ch(ze,$e.mode,Ge),ze.return=$e,ze;case L:var bt=ze._init;return ze=bt(ze._payload),St($e,ze,Ge)}if(G(ze)||O(ze))return ze=Zl(ze,$e.mode,Ge,null),ze.return=$e,ze;if(typeof ze.then=="function")return St($e,Db(ze),Ge);if(ze.$$typeof===N)return St($e,tc($e,ze),Ge);Lb($e,ze)}return null}function et($e,ze,Ge,bt){var Pt=ze!==null?ze.key:null;if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Pt!==null?null:he($e,ze,""+Ge,bt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case b:return Ge.key===Pt?je($e,ze,Ge,bt):null;case m:return Ge.key===Pt?Xe($e,ze,Ge,bt):null;case L:return Pt=Ge._init,Ge=Pt(Ge._payload),et($e,ze,Ge,bt)}if(G(Ge)||O(Ge))return Pt!==null?null:mt($e,ze,Ge,bt,null);if(typeof Ge.then=="function")return et($e,ze,Db(Ge),bt);if(Ge.$$typeof===N)return et($e,ze,tc($e,Ge),bt);Lb($e,Ge)}return null}function nt($e,ze,Ge,bt,Pt){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return $e=$e.get(Ge)||null,he(ze,$e,""+bt,Pt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case b:return $e=$e.get(bt.key===null?Ge:bt.key)||null,je(ze,$e,bt,Pt);case m:return $e=$e.get(bt.key===null?Ge:bt.key)||null,Xe(ze,$e,bt,Pt);case L:var Fn=bt._init;return bt=Fn(bt._payload),nt($e,ze,Ge,bt,Pt)}if(G(bt)||O(bt))return $e=$e.get(Ge)||null,mt(ze,$e,bt,Pt,null);if(typeof bt.then=="function")return nt($e,ze,Ge,Db(bt),Pt);if(bt.$$typeof===N)return nt($e,ze,Ge,tc(ze,bt),Pt);Lb(ze,bt)}return null}function hn($e,ze,Ge,bt){for(var Pt=null,Fn=null,Qt=ze,sn=ze=0,Ga=null;Qt!==null&&sn<Ge.length;sn++){Qt.index>sn?(Ga=Qt,Qt=null):Ga=Qt.sibling;var cr=et($e,Qt,Ge[sn],bt);if(cr===null){Qt===null&&(Qt=Ga);break}o&&Qt&&cr.alternate===null&&u($e,Qt),ze=I(cr,ze,sn),Fn===null?Pt=cr:Fn.sibling=cr,Fn=cr,Qt=Ga}if(sn===Ge.length)return p($e,Qt),nr&&sd($e,sn),Pt;if(Qt===null){for(;sn<Ge.length;sn++)Qt=St($e,Ge[sn],bt),Qt!==null&&(ze=I(Qt,ze,sn),Fn===null?Pt=Qt:Fn.sibling=Qt,Fn=Qt);return nr&&sd($e,sn),Pt}for(Qt=v(Qt);sn<Ge.length;sn++)Ga=nt(Qt,$e,sn,Ge[sn],bt),Ga!==null&&(o&&Ga.alternate!==null&&Qt.delete(Ga.key===null?sn:Ga.key),ze=I(Ga,ze,sn),Fn===null?Pt=Ga:Fn.sibling=Ga,Fn=Ga);return o&&Qt.forEach(function(Df){return u($e,Df)}),nr&&sd($e,sn),Pt}function rn($e,ze,Ge,bt){if(Ge==null)throw Error(r(151));for(var Pt=null,Fn=null,Qt=ze,sn=ze=0,Ga=null,cr=Ge.next();Qt!==null&&!cr.done;sn++,cr=Ge.next()){Qt.index>sn?(Ga=Qt,Qt=null):Ga=Qt.sibling;var Df=et($e,Qt,cr.value,bt);if(Df===null){Qt===null&&(Qt=Ga);break}o&&Qt&&Df.alternate===null&&u($e,Qt),ze=I(Df,ze,sn),Fn===null?Pt=Df:Fn.sibling=Df,Fn=Df,Qt=Ga}if(cr.done)return p($e,Qt),nr&&sd($e,sn),Pt;if(Qt===null){for(;!cr.done;sn++,cr=Ge.next())cr=St($e,cr.value,bt),cr!==null&&(ze=I(cr,ze,sn),Fn===null?Pt=cr:Fn.sibling=cr,Fn=cr);return nr&&sd($e,sn),Pt}for(Qt=v(Qt);!cr.done;sn++,cr=Ge.next())cr=nt(Qt,$e,sn,cr.value,bt),cr!==null&&(o&&cr.alternate!==null&&Qt.delete(cr.key===null?sn:cr.key),ze=I(cr,ze,sn),Fn===null?Pt=cr:Fn.sibling=cr,Fn=cr);return o&&Qt.forEach(function($9){return u($e,$9)}),nr&&sd($e,sn),Pt}function Br($e,ze,Ge,bt){if(typeof Ge=="object"&&Ge!==null&&Ge.type===x&&Ge.key===null&&(Ge=Ge.props.children),typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case b:e:{for(var Pt=Ge.key;ze!==null;){if(ze.key===Pt){if(Pt=Ge.type,Pt===x){if(ze.tag===7){p($e,ze.sibling),bt=E(ze,Ge.props.children),bt.return=$e,$e=bt;break e}}else if(ze.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===L&&eC(Pt)===ze.type){p($e,ze.sibling),bt=E(ze,Ge.props),zm(bt,Ge),bt.return=$e,$e=bt;break e}p($e,ze);break}else u($e,ze);ze=ze.sibling}Ge.type===x?(bt=Zl(Ge.props.children,$e.mode,bt,Ge.key),bt.return=$e,$e=bt):(bt=id(Ge.type,Ge.key,Ge.props,null,$e.mode,bt),zm(bt,Ge),bt.return=$e,$e=bt)}return J($e);case m:e:{for(Pt=Ge.key;ze!==null;){if(ze.key===Pt)if(ze.tag===4&&ze.stateNode.containerInfo===Ge.containerInfo&&ze.stateNode.implementation===Ge.implementation){p($e,ze.sibling),bt=E(ze,Ge.children||[]),bt.return=$e,$e=bt;break e}else{p($e,ze);break}else u($e,ze);ze=ze.sibling}bt=Ch(Ge,$e.mode,bt),bt.return=$e,$e=bt}return J($e);case L:return Pt=Ge._init,Ge=Pt(Ge._payload),Br($e,ze,Ge,bt)}if(G(Ge))return hn($e,ze,Ge,bt);if(O(Ge)){if(Pt=O(Ge),typeof Pt!="function")throw Error(r(150));return Ge=Pt.call(Ge),rn($e,ze,Ge,bt)}if(typeof Ge.then=="function")return Br($e,ze,Db(Ge),bt);if(Ge.$$typeof===N)return Br($e,ze,tc($e,Ge),bt);Lb($e,Ge)}return typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint"?(Ge=""+Ge,ze!==null&&ze.tag===6?(p($e,ze.sibling),bt=E(ze,Ge),bt.return=$e,$e=bt):(p($e,ze),bt=Dp(Ge,$e.mode,bt),bt.return=$e,$e=bt),J($e)):p($e,ze)}return function($e,ze,Ge,bt){try{Pm=0;var Pt=Br($e,ze,Ge,bt);return Wp=null,Pt}catch(Qt){if(Qt===oe||Qt===fe)throw Qt;var Fn=Wa(29,Qt,null,$e.mode);return Fn.lanes=bt,Fn.return=$e,Fn}finally{}}}var Vp=tC(!0),nC=tC(!1),wl=ae(null),sc=null;function yf(o){var u=o.alternate;q(Ra,Ra.current&1),q(wl,o),sc===null&&(u===null||In.current!==null||u.memoizedState!==null)&&(sc=o)}function rC(o){if(o.tag===22){if(q(Ra,Ra.current),q(wl,o),sc===null){var u=o.alternate;u!==null&&u.memoizedState!==null&&(sc=o)}}else xf()}function xf(){q(Ra,Ra.current),q(wl,wl.current)}function hd(o){U(wl),sc===o&&(sc=null),U(Ra)}var Ra=ae(0);function Rb(o){for(var u=o;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||l5(p)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function x2(o,u,p,v){u=o.memoizedState,p=p(v,u),p=p==null?u:h({},u,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var v2={enqueueSetState:function(o,u,p){o=o._reactInternals;var v=Bo(),E=pt(v);E.payload=u,p!=null&&(E.callback=p),u=vt(o,E,v),u!==null&&(Uo(u,o,v),gt(u,o,v))},enqueueReplaceState:function(o,u,p){o=o._reactInternals;var v=Bo(),E=pt(v);E.tag=1,E.payload=u,p!=null&&(E.callback=p),u=vt(o,E,v),u!==null&&(Uo(u,o,v),gt(u,o,v))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var p=Bo(),v=pt(p);v.tag=2,u!=null&&(v.callback=u),u=vt(o,v,p),u!==null&&(Uo(u,o,p),gt(u,o,p))}};function iC(o,u,p,v,E,I,J){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(v,I,J):u.prototype&&u.prototype.isPureReactComponent?!$u(p,v)||!$u(E,I):!0}function aC(o,u,p,v){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,v),u.state!==o&&v2.enqueueReplaceState(u,u.state,null)}function zh(o,u){var p=u;if("ref"in u){p={};for(var v in u)v!=="ref"&&(p[v]=u[v])}if(o=o.defaultProps){p===u&&(p=h({},p));for(var E in o)p[E]===void 0&&(p[E]=o[E])}return p}var Mb=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function sC(o){Mb(o)}function oC(o){console.error(o)}function lC(o){Mb(o)}function Fb(o,u){try{var p=o.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(v){setTimeout(function(){throw v})}}function uC(o,u,p){try{var v=o.onCaughtError;v(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function w2(o,u,p){return p=pt(p),p.tag=3,p.payload={element:null},p.callback=function(){Fb(o,u)},p}function cC(o){return o=pt(o),o.tag=3,o}function dC(o,u,p,v){var E=p.type.getDerivedStateFromError;if(typeof E=="function"){var I=v.value;o.payload=function(){return E(I)},o.callback=function(){uC(u,p,v)}}var J=p.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(o.callback=function(){uC(u,p,v),typeof E!="function"&&(Ef===null?Ef=new Set([this]):Ef.add(this));var he=v.stack;this.componentDidCatch(v.value,{componentStack:he!==null?he:""})})}function $L(o,u,p,v,E){if(p.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(u=p.alternate,u!==null&&ff(u,p,E,!0),p=wl.current,p!==null){switch(p.tag){case 13:return sc===null?W2():p.alternate===null&&Wi===0&&(Wi=3),p.flags&=-257,p.flags|=65536,p.lanes=E,v===be?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([v]):u.add(v),Y2(o,v,E)),!1;case 22:return p.flags|=65536,v===be?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([v])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([v]):p.add(v)),Y2(o,v,E)),!1}throw Error(r(435,p.tag))}return Y2(o,v,E),W2(),!1}if(nr)return u=wl.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=E,v!==Am&&(o=Error(r(422),{cause:v}),df(Ln(o,p)))):(v!==Am&&(u=Error(r(423),{cause:v}),df(Ln(u,p))),o=o.current.alternate,o.flags|=65536,E&=-E,o.lanes|=E,v=Ln(v,p),E=w2(o.stateNode,v,E),Ot(o,E),Wi!==4&&(Wi=2)),!1;var I=Error(r(520),{cause:v});if(I=Ln(I,p),Vm===null?Vm=[I]:Vm.push(I),Wi!==4&&(Wi=2),u===null)return!0;v=Ln(v,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,o=E&-E,p.lanes|=o,o=w2(p.stateNode,v,o),Ot(p,o),!1;case 1:if(u=p.type,I=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Ef===null||!Ef.has(I))))return p.flags|=65536,E&=-E,p.lanes|=E,E=cC(E),dC(E,o,p,v),Ot(p,E),!1}p=p.return}while(p!==null);return!1}var fC=Error(r(461)),Va=!1;function cs(o,u,p,v){u.child=o===null?nC(u,null,p,v):Vp(u,o.child,p,v)}function hC(o,u,p,v,E){p=p.render;var I=u.ref;if("ref"in v){var J={};for(var he in v)he!=="ref"&&(J[he]=v[he])}else J=v;return xl(u),v=Mo(o,u,p,J,I,E),he=ni(),o!==null&&!Va?(Nh(o,u,E),pd(o,u,E)):(nr&&he&&Eh(u),u.flags|=1,cs(o,u,v,E),u.child)}function pC(o,u,p,v,E){if(o===null){var I=p.type;return typeof I=="function"&&!uf(I)&&I.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=I,mC(o,u,I,v,E)):(o=id(p.type,null,v,u,u.mode,E),o.ref=u.ref,o.return=u,u.child=o)}if(I=o.child,!N2(o,E)){var J=I.memoizedProps;if(p=p.compare,p=p!==null?p:$u,p(J,v)&&o.ref===u.ref)return pd(o,u,E)}return u.flags|=1,o=ml(I,v),o.ref=u.ref,o.return=u,u.child=o}function mC(o,u,p,v,E){if(o!==null){var I=o.memoizedProps;if($u(I,v)&&o.ref===u.ref)if(Va=!1,u.pendingProps=v=I,N2(o,E))(o.flags&131072)!==0&&(Va=!0);else return u.lanes=o.lanes,pd(o,u,E)}return S2(o,u,p,v,E)}function gC(o,u,p){var v=u.pendingProps,E=v.children,I=o!==null?o.memoizedState:null;if(v.mode==="hidden"){if((u.flags&128)!==0){if(v=I!==null?I.baseLanes|p:p,o!==null){for(E=u.child=o.child,I=0;E!==null;)I=I|E.lanes|E.childLanes,E=E.sibling;u.childLanes=I&~v}else u.childLanes=0,u.child=null;return bC(o,u,v,p)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&Y(u,I!==null?I.cachePool:null),I!==null?Er(u,I):lr(),rC(u);else return u.lanes=u.childLanes=536870912,bC(o,u,I!==null?I.baseLanes|p:p,p)}else I!==null?(Y(u,I.cachePool),Er(u,I),xf(),u.memoizedState=null):(o!==null&&Y(u,null),lr(),xf());return cs(o,u,E,p),u.child}function bC(o,u,p,v){var E=P();return E=E===null?null:{parent:sa._currentValue,pool:E},u.memoizedState={baseLanes:p,cachePool:E},o!==null&&Y(u,null),lr(),rC(u),o!==null&&ff(o,u,v,!0),null}function Pb(o,u){var p=u.ref;if(p===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(r(284));(o===null||o.ref!==p)&&(u.flags|=4194816)}}function S2(o,u,p,v,E){return xl(u),p=Mo(o,u,p,v,void 0,E),v=ni(),o!==null&&!Va?(Nh(o,u,E),pd(o,u,E)):(nr&&v&&Eh(u),u.flags|=1,cs(o,u,p,E),u.child)}function yC(o,u,p,v,E,I){return xl(u),u.updateQueue=null,p=ud(u,v,p,E),nc(o),v=ni(),o!==null&&!Va?(Nh(o,u,I),pd(o,u,I)):(nr&&v&&Eh(u),u.flags|=1,cs(o,u,p,I),u.child)}function xC(o,u,p,v,E){if(xl(u),u.stateNode===null){var I=Ca,J=p.contextType;typeof J=="object"&&J!==null&&(I=aa(J)),I=new p(v,I),u.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=v2,u.stateNode=I,I._reactInternals=u,I=u.stateNode,I.props=v,I.state=u.memoizedState,I.refs={},Fe(u),J=p.contextType,I.context=typeof J=="object"&&J!==null?aa(J):Ca,I.state=u.memoizedState,J=p.getDerivedStateFromProps,typeof J=="function"&&(x2(u,p,J,v),I.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(J=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),J!==I.state&&v2.enqueueReplaceState(I,I.state,null),Nt(u,v,I,E),Yt(),I.state=u.memoizedState),typeof I.componentDidMount=="function"&&(u.flags|=4194308),v=!0}else if(o===null){I=u.stateNode;var he=u.memoizedProps,je=zh(p,he);I.props=je;var Xe=I.context,mt=p.contextType;J=Ca,typeof mt=="object"&&mt!==null&&(J=aa(mt));var St=p.getDerivedStateFromProps;mt=typeof St=="function"||typeof I.getSnapshotBeforeUpdate=="function",he=u.pendingProps!==he,mt||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(he||Xe!==J)&&aC(u,I,v,J),rt=!1;var et=u.memoizedState;I.state=et,Nt(u,v,I,E),Yt(),Xe=u.memoizedState,he||et!==Xe||rt?(typeof St=="function"&&(x2(u,p,St,v),Xe=u.memoizedState),(je=rt||iC(u,p,je,v,et,Xe,J))?(mt||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(u.flags|=4194308)):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=Xe),I.props=v,I.state=Xe,I.context=J,v=je):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{I=u.stateNode,qe(o,u),J=u.memoizedProps,mt=zh(p,J),I.props=mt,St=u.pendingProps,et=I.context,Xe=p.contextType,je=Ca,typeof Xe=="object"&&Xe!==null&&(je=aa(Xe)),he=p.getDerivedStateFromProps,(Xe=typeof he=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(J!==St||et!==je)&&aC(u,I,v,je),rt=!1,et=u.memoizedState,I.state=et,Nt(u,v,I,E),Yt();var nt=u.memoizedState;J!==St||et!==nt||rt||o!==null&&o.dependencies!==null&&Fp(o.dependencies)?(typeof he=="function"&&(x2(u,p,he,v),nt=u.memoizedState),(mt=rt||iC(u,p,mt,v,et,nt,je)||o!==null&&o.dependencies!==null&&Fp(o.dependencies))?(Xe||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(v,nt,je),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(v,nt,je)),typeof I.componentDidUpdate=="function"&&(u.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof I.componentDidUpdate!="function"||J===o.memoizedProps&&et===o.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&et===o.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=nt),I.props=v,I.state=nt,I.context=je,v=mt):(typeof I.componentDidUpdate!="function"||J===o.memoizedProps&&et===o.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||J===o.memoizedProps&&et===o.memoizedState||(u.flags|=1024),v=!1)}return I=v,Pb(o,u),v=(u.flags&128)!==0,I||v?(I=u.stateNode,p=v&&typeof p.getDerivedStateFromError!="function"?null:I.render(),u.flags|=1,o!==null&&v?(u.child=Vp(u,o.child,null,E),u.child=Vp(u,null,p,E)):cs(o,u,p,E),u.memoizedState=I.state,o=u.child):o=pd(o,u,E),o}function vC(o,u,p,v){return Zs(),u.flags|=256,cs(o,u,p,v),u.child}var A2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function C2(o){return{baseLanes:o,cachePool:ne()}}function E2(o,u,p){return o=o!==null?o.childLanes&~p:0,u&&(o|=Sl),o}function wC(o,u,p){var v=u.pendingProps,E=!1,I=(u.flags&128)!==0,J;if((J=I)||(J=o!==null&&o.memoizedState===null?!1:(Ra.current&2)!==0),J&&(E=!0,u.flags&=-129),J=(u.flags&32)!==0,u.flags&=-33,o===null){if(nr){if(E?yf(u):xf(),nr){var he=yi,je;if(je=he){e:{for(je=he,he=gl;je.nodeType!==8;){if(!he){he=null;break e}if(je=cu(je.nextSibling),je===null){he=null;break e}}he=je}he!==null?(u.memoizedState={dehydrated:he,treeContext:ad!==null?{id:eu,overflow:tu}:null,retryLane:536870912,hydrationErrors:null},je=Wa(18,null,null,0),je.stateNode=he,je.return=u,u.child=je,ia=u,yi=null,je=!0):je=!1}je||od(u)}if(he=u.memoizedState,he!==null&&(he=he.dehydrated,he!==null))return l5(he)?u.lanes=32:u.lanes=536870912,null;hd(u)}return he=v.children,v=v.fallback,E?(xf(),E=u.mode,he=zb({mode:"hidden",children:he},E),v=Zl(v,E,p,null),he.return=u,v.return=u,he.sibling=v,u.child=he,E=u.child,E.memoizedState=C2(p),E.childLanes=E2(o,J,p),u.memoizedState=A2,v):(yf(u),_2(u,he))}if(je=o.memoizedState,je!==null&&(he=je.dehydrated,he!==null)){if(I)u.flags&256?(yf(u),u.flags&=-257,u=k2(o,u,p)):u.memoizedState!==null?(xf(),u.child=o.child,u.flags|=128,u=null):(xf(),E=v.fallback,he=u.mode,v=zb({mode:"visible",children:v.children},he),E=Zl(E,he,p,null),E.flags|=2,v.return=u,E.return=u,v.sibling=E,u.child=v,Vp(u,o.child,null,p),v=u.child,v.memoizedState=C2(p),v.childLanes=E2(o,J,p),u.memoizedState=A2,u=E);else if(yf(u),l5(he)){if(J=he.nextSibling&&he.nextSibling.dataset,J)var Xe=J.dgst;J=Xe,v=Error(r(419)),v.stack="",v.digest=J,df({value:v,source:null,stack:null}),u=k2(o,u,p)}else if(Va||ff(o,u,p,!1),J=(p&o.childLanes)!==0,Va||J){if(J=ri,J!==null&&(v=p&-p,v=(v&42)!==0?1:xa(v),v=(v&(J.suspendedLanes|p))!==0?0:v,v!==0&&v!==je.retryLane))throw je.retryLane=v,Xl(o,v),Uo(J,o,v),fC;he.data==="$?"||W2(),u=k2(o,u,p)}else he.data==="$?"?(u.flags|=192,u.child=o.child,u=null):(o=je.treeContext,yi=cu(he.nextSibling),ia=u,nr=!0,Ju=null,gl=!1,o!==null&&(fo[Xs++]=eu,fo[Xs++]=tu,fo[Xs++]=ad,eu=o.id,tu=o.overflow,ad=u),u=_2(u,v.children),u.flags|=4096);return u}return E?(xf(),E=v.fallback,he=u.mode,je=o.child,Xe=je.sibling,v=ml(je,{mode:"hidden",children:v.children}),v.subtreeFlags=je.subtreeFlags&65011712,Xe!==null?E=ml(Xe,E):(E=Zl(E,he,p,null),E.flags|=2),E.return=u,v.return=u,v.sibling=E,u.child=v,v=E,E=u.child,he=o.child.memoizedState,he===null?he=C2(p):(je=he.cachePool,je!==null?(Xe=sa._currentValue,je=je.parent!==Xe?{parent:Xe,pool:Xe}:je):je=ne(),he={baseLanes:he.baseLanes|p,cachePool:je}),E.memoizedState=he,E.childLanes=E2(o,J,p),u.memoizedState=A2,v):(yf(u),p=o.child,o=p.sibling,p=ml(p,{mode:"visible",children:v.children}),p.return=u,p.sibling=null,o!==null&&(J=u.deletions,J===null?(u.deletions=[o],u.flags|=16):J.push(o)),u.child=p,u.memoizedState=null,p)}function _2(o,u){return u=zb({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function zb(o,u){return o=Wa(22,o,null,u),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function k2(o,u,p){return Vp(u,o.child,null,p),o=_2(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function SC(o,u,p){o.lanes|=u;var v=o.alternate;v!==null&&(v.lanes|=u),Rp(o.return,u,p)}function j2(o,u,p,v,E){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:E}:(I.isBackwards=u,I.rendering=null,I.renderingStartTime=0,I.last=v,I.tail=p,I.tailMode=E)}function AC(o,u,p){var v=u.pendingProps,E=v.revealOrder,I=v.tail;if(cs(o,u,v.children,p),v=Ra.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&SC(o,p,u);else if(o.tag===19)SC(o,p,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}v&=1}switch(q(Ra,v),E){case"forwards":for(p=u.child,E=null;p!==null;)o=p.alternate,o!==null&&Rb(o)===null&&(E=p),p=p.sibling;p=E,p===null?(E=u.child,u.child=null):(E=p.sibling,p.sibling=null),j2(u,!1,E,p,I);break;case"backwards":for(p=null,E=u.child,u.child=null;E!==null;){if(o=E.alternate,o!==null&&Rb(o)===null){u.child=E;break}o=E.sibling,E.sibling=p,p=E,E=o}j2(u,!0,p,null,I);break;case"together":j2(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function pd(o,u,p){if(o!==null&&(u.dependencies=o.dependencies),Cf|=u.lanes,(p&u.childLanes)===0)if(o!==null){if(ff(o,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,p=ml(o,o.pendingProps),u.child=p,p.return=u;o.sibling!==null;)o=o.sibling,p=p.sibling=ml(o,o.pendingProps),p.return=u;p.sibling=null}return u.child}function N2(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Fp(o)))}function HL(o,u,p){switch(u.tag){case 3:ye(u,u.stateNode.containerInfo),ec(u,sa,o.memoizedState.cache),Zs();break;case 27:case 5:Oe(u);break;case 4:ye(u,u.stateNode.containerInfo);break;case 10:ec(u,u.type,u.memoizedProps.value);break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(yf(u),u.flags|=128,null):(p&u.child.childLanes)!==0?wC(o,u,p):(yf(u),o=pd(o,u,p),o!==null?o.sibling:null);yf(u);break;case 19:var E=(o.flags&128)!==0;if(v=(p&u.childLanes)!==0,v||(ff(o,u,p,!1),v=(p&u.childLanes)!==0),E){if(v)return AC(o,u,p);u.flags|=128}if(E=u.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),q(Ra,Ra.current),v)break;return null;case 22:case 23:return u.lanes=0,gC(o,u,p);case 24:ec(u,sa,o.memoizedState.cache)}return pd(o,u,p)}function CC(o,u,p){if(o!==null)if(o.memoizedProps!==u.pendingProps)Va=!0;else{if(!N2(o,p)&&(u.flags&128)===0)return Va=!1,HL(o,u,p);Va=(o.flags&131072)!==0}else Va=!1,nr&&(u.flags&1048576)!==0&&mb(u,Lp,u.index);switch(u.lanes=0,u.tag){case 16:e:{o=u.pendingProps;var v=u.elementType,E=v._init;if(v=E(v._payload),u.type=v,typeof v=="function")uf(v)?(o=zh(v,o),u.tag=1,u=xC(null,u,v,o,p)):(u.tag=0,u=S2(null,u,v,o,p));else{if(v!=null){if(E=v.$$typeof,E===F){u.tag=11,u=hC(null,u,v,o,p);break e}else if(E===k){u.tag=14,u=pC(null,u,v,o,p);break e}}throw u=T(v)||v,Error(r(306,u,""))}}return u;case 0:return S2(o,u,u.type,u.pendingProps,p);case 1:return v=u.type,E=zh(v,u.pendingProps),xC(o,u,v,E,p);case 3:e:{if(ye(u,u.stateNode.containerInfo),o===null)throw Error(r(387));v=u.pendingProps;var I=u.memoizedState;E=I.element,qe(o,u),Nt(u,v,null,p);var J=u.memoizedState;if(v=J.cache,ec(u,sa,v),v!==I.cache&&Mp(u,[sa],p,!0),Yt(),v=J.element,I.isDehydrated)if(I={element:v,isDehydrated:!1,cache:J.cache},u.updateQueue.baseState=I,u.memoizedState=I,u.flags&256){u=vC(o,u,v,p);break e}else if(v!==E){E=Ln(Error(r(424)),u),df(E),u=vC(o,u,v,p);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(yi=cu(o.firstChild),ia=u,nr=!0,Ju=null,gl=!0,p=nC(u,null,v,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Zs(),v===E){u=pd(o,u,p);break e}cs(o,u,v,p)}u=u.child}return u;case 26:return Pb(o,u),o===null?(p=jE(u.type,null,u.pendingProps,null))?u.memoizedState=p:nr||(p=u.type,o=u.pendingProps,v=Jb(se.current).createElement(p),v[Wn]=u,v[sr]=o,fs(v,p,o),tr(v),u.stateNode=v):u.memoizedState=jE(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Oe(u),o===null&&nr&&(v=u.stateNode=EE(u.type,u.pendingProps,se.current),ia=u,gl=!0,E=yi,jf(u.type)?(u5=E,yi=cu(v.firstChild)):yi=E),cs(o,u,u.pendingProps.children,p),Pb(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&nr&&((E=v=yi)&&(v=y9(v,u.type,u.pendingProps,gl),v!==null?(u.stateNode=v,ia=u,yi=cu(v.firstChild),gl=!1,E=!0):E=!1),E||od(u)),Oe(u),E=u.type,I=u.pendingProps,J=o!==null?o.memoizedProps:null,v=I.children,a5(E,I)?v=null:J!==null&&a5(E,J)&&(u.flags|=32),u.memoizedState!==null&&(E=Mo(o,u,rc,null,null,p),t1._currentValue=E),Pb(o,u),cs(o,u,v,p),u.child;case 6:return o===null&&nr&&((o=p=yi)&&(p=x9(p,u.pendingProps,gl),p!==null?(u.stateNode=p,ia=u,yi=null,o=!0):o=!1),o||od(u)),null;case 13:return wC(o,u,p);case 4:return ye(u,u.stateNode.containerInfo),v=u.pendingProps,o===null?u.child=Vp(u,null,v,p):cs(o,u,v,p),u.child;case 11:return hC(o,u,u.type,u.pendingProps,p);case 7:return cs(o,u,u.pendingProps,p),u.child;case 8:return cs(o,u,u.pendingProps.children,p),u.child;case 12:return cs(o,u,u.pendingProps.children,p),u.child;case 10:return v=u.pendingProps,ec(u,u.type,v.value),cs(o,u,v.children,p),u.child;case 9:return E=u.type._context,v=u.pendingProps.children,xl(u),E=aa(E),v=v(E),u.flags|=1,cs(o,u,v,p),u.child;case 14:return pC(o,u,u.type,u.pendingProps,p);case 15:return mC(o,u,u.type,u.pendingProps,p);case 19:return AC(o,u,p);case 31:return v=u.pendingProps,p=u.mode,v={mode:v.mode,children:v.children},o===null?(p=zb(v,p),p.ref=u.ref,u.child=p,p.return=u,u=p):(p=ml(o.child,v),p.ref=u.ref,u.child=p,p.return=u,u=p),u;case 22:return gC(o,u,p);case 24:return xl(u),v=aa(sa),o===null?(E=P(),E===null&&(E=ri,I=Cm(),E.pooledCache=I,I.refCount++,I!==null&&(E.pooledCacheLanes|=p),E=I),u.memoizedState={parent:v,cache:E},Fe(u),ec(u,sa,E)):((o.lanes&p)!==0&&(qe(o,u),Nt(u,null,null,p),Yt()),E=o.memoizedState,I=u.memoizedState,E.parent!==v?(E={parent:v,cache:v},u.memoizedState=E,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=E),ec(u,sa,v)):(v=I.cache,ec(u,sa,v),v!==E.cache&&Mp(u,[sa],p,!0))),cs(o,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function md(o){o.flags|=4}function EC(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!DE(u)){if(u=wl.current,u!==null&&((Qn&4194048)===Qn?sc!==null:(Qn&62914560)!==Qn&&(Qn&536870912)===0||u!==sc))throw Ye=be,le;o.flags|=8192}}function qb(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?qn():536870912,o.lanes|=u,Kp|=u)}function qm(o,u){if(!nr)switch(o.tailMode){case"hidden":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:v.sibling=null}}function Oi(o){var u=o.alternate!==null&&o.alternate.child===o.child,p=0,v=0;if(u)for(var E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags&65011712,v|=E.flags&65011712,E.return=o,E=E.sibling;else for(E=o.child;E!==null;)p|=E.lanes|E.childLanes,v|=E.subtreeFlags,v|=E.flags,E.return=o,E=E.sibling;return o.subtreeFlags|=v,o.childLanes=p,u}function WL(o,u,p){var v=u.pendingProps;switch(_h(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(u),null;case 1:return Oi(u),null;case 3:return p=u.stateNode,v=null,o!==null&&(v=o.memoizedState.cache),u.memoizedState.cache!==v&&(u.flags|=2048),yl(sa),Ce(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(ls(u)?md(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,bb())),Oi(u),null;case 26:return p=u.memoizedState,o===null?(md(u),p!==null?(Oi(u),EC(u,p)):(Oi(u),u.flags&=-16777217)):p?p!==o.memoizedState?(md(u),Oi(u),EC(u,p)):(Oi(u),u.flags&=-16777217):(o.memoizedProps!==v&&md(u),Oi(u),u.flags&=-16777217),null;case 27:Le(u),p=se.current;var E=u.type;if(o!==null&&u.stateNode!=null)o.memoizedProps!==v&&md(u);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Oi(u),null}o=Z.current,ls(u)?gb(u):(o=EE(E,v,p),u.stateNode=o,md(u))}return Oi(u),null;case 5:if(Le(u),p=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==v&&md(u);else{if(!v){if(u.stateNode===null)throw Error(r(166));return Oi(u),null}if(o=Z.current,ls(u))gb(u);else{switch(E=Jb(se.current),o){case 1:o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":o=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":o=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":o=E.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof v.is=="string"?E.createElement("select",{is:v.is}):E.createElement("select"),v.multiple?o.multiple=!0:v.size&&(o.size=v.size);break;default:o=typeof v.is=="string"?E.createElement(p,{is:v.is}):E.createElement(p)}}o[Wn]=u,o[sr]=v;e:for(E=u.child;E!==null;){if(E.tag===5||E.tag===6)o.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===u)break e;for(;E.sibling===null;){if(E.return===null||E.return===u)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}u.stateNode=o;e:switch(fs(o,p,v),p){case"button":case"input":case"select":case"textarea":o=!!v.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&md(u)}}return Oi(u),u.flags&=-16777217,null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==v&&md(u);else{if(typeof v!="string"&&u.stateNode===null)throw Error(r(166));if(o=se.current,ls(u)){if(o=u.stateNode,p=u.memoizedProps,v=null,E=ia,E!==null)switch(E.tag){case 27:case 5:v=E.memoizedProps}o[Wn]=u,o=!!(o.nodeValue===p||v!==null&&v.suppressHydrationWarning===!0||yE(o.nodeValue,p)),o||od(u)}else o=Jb(o).createTextNode(v),o[Wn]=u,u.stateNode=o}return Oi(u),null;case 13:if(v=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(E=ls(u),v!==null&&v.dehydrated!==null){if(o===null){if(!E)throw Error(r(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[Wn]=u}else Zs(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Oi(u),E=!1}else E=bb(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=E),E=!0;if(!E)return u.flags&256?(hd(u),u):(hd(u),null)}if(hd(u),(u.flags&128)!==0)return u.lanes=p,u;if(p=v!==null,o=o!==null&&o.memoizedState!==null,p){v=u.child,E=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(E=v.alternate.memoizedState.cachePool.pool);var I=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(I=v.memoizedState.cachePool.pool),I!==E&&(v.flags|=2048)}return p!==o&&p&&(u.child.flags|=8192),qb(u,u.updateQueue),Oi(u),null;case 4:return Ce(),o===null&&e5(u.stateNode.containerInfo),Oi(u),null;case 10:return yl(u.type),Oi(u),null;case 19:if(U(Ra),E=u.memoizedState,E===null)return Oi(u),null;if(v=(u.flags&128)!==0,I=E.rendering,I===null)if(v)qm(E,!1);else{if(Wi!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(I=Rb(o),I!==null){for(u.flags|=128,qm(E,!1),o=I.updateQueue,u.updateQueue=o,qb(u,o),u.subtreeFlags=0,o=p,p=u.child;p!==null;)Ah(p,o),p=p.sibling;return q(Ra,Ra.current&1|2),u.child}o=o.sibling}E.tail!==null&&ge()>$b&&(u.flags|=128,v=!0,qm(E,!1),u.lanes=4194304)}else{if(!v)if(o=Rb(I),o!==null){if(u.flags|=128,v=!0,o=o.updateQueue,u.updateQueue=o,qb(u,o),qm(E,!0),E.tail===null&&E.tailMode==="hidden"&&!I.alternate&&!nr)return Oi(u),null}else 2*ge()-E.renderingStartTime>$b&&p!==536870912&&(u.flags|=128,v=!0,qm(E,!1),u.lanes=4194304);E.isBackwards?(I.sibling=u.child,u.child=I):(o=E.last,o!==null?o.sibling=I:u.child=I,E.last=I)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=ge(),u.sibling=null,o=Ra.current,q(Ra,v?o&1|2:o&1),u):(Oi(u),null);case 22:case 23:return hd(u),bn(),v=u.memoizedState!==null,o!==null?o.memoizedState!==null!==v&&(u.flags|=8192):v&&(u.flags|=8192),v?(p&536870912)!==0&&(u.flags&128)===0&&(Oi(u),u.subtreeFlags&6&&(u.flags|=8192)):Oi(u),p=u.updateQueue,p!==null&&qb(u,p.retryQueue),p=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048),o!==null&&U(_),null;case 24:return p=null,o!==null&&(p=o.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),yl(sa),Oi(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function VL(o,u){switch(_h(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return yl(sa),Ce(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Le(u),null;case 13:if(hd(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Zs()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return U(Ra),null;case 4:return Ce(),null;case 10:return yl(u.type),null;case 22:case 23:return hd(u),bn(),o!==null&&U(_),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return yl(sa),null;case 25:return null;default:return null}}function _C(o,u){switch(_h(u),u.tag){case 3:yl(sa),Ce();break;case 26:case 27:case 5:Le(u);break;case 4:Ce();break;case 13:hd(u);break;case 19:U(Ra);break;case 10:yl(u.type);break;case 22:case 23:hd(u),bn(),o!==null&&U(_);break;case 24:yl(sa)}}function Bm(o,u){try{var p=u.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var E=v.next;p=E;do{if((p.tag&o)===o){v=void 0;var I=p.create,J=p.inst;v=I(),J.destroy=v}p=p.next}while(p!==E)}}catch(he){Xr(u,u.return,he)}}function vf(o,u,p){try{var v=u.updateQueue,E=v!==null?v.lastEffect:null;if(E!==null){var I=E.next;v=I;do{if((v.tag&o)===o){var J=v.inst,he=J.destroy;if(he!==void 0){J.destroy=void 0,E=u;var je=p,Xe=he;try{Xe()}catch(mt){Xr(E,je,mt)}}}v=v.next}while(v!==I)}}catch(mt){Xr(u,u.return,mt)}}function kC(o){var u=o.updateQueue;if(u!==null){var p=o.stateNode;try{or(u,p)}catch(v){Xr(o,o.return,v)}}}function jC(o,u,p){p.props=zh(o.type,o.memoizedProps),p.state=o.memoizedState;try{p.componentWillUnmount()}catch(v){Xr(o,u,v)}}function Um(o,u){try{var p=o.ref;if(p!==null){switch(o.tag){case 26:case 27:case 5:var v=o.stateNode;break;case 30:v=o.stateNode;break;default:v=o.stateNode}typeof p=="function"?o.refCleanup=p(v):p.current=v}}catch(E){Xr(o,u,E)}}function oc(o,u){var p=o.ref,v=o.refCleanup;if(p!==null)if(typeof v=="function")try{v()}catch(E){Xr(o,u,E)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(E){Xr(o,u,E)}else p.current=null}function NC(o){var u=o.type,p=o.memoizedProps,v=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&v.focus();break e;case"img":p.src?v.src=p.src:p.srcSet&&(v.srcset=p.srcSet)}}catch(E){Xr(o,o.return,E)}}function T2(o,u,p){try{var v=o.stateNode;h9(v,o.type,p,u),v[sr]=u}catch(E){Xr(o,o.return,E)}}function TC(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&jf(o.type)||o.tag===4}function O2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||TC(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&jf(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function I2(o,u,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(o,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(o),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Zb));else if(v!==4&&(v===27&&jf(o.type)&&(p=o.stateNode,u=null),o=o.child,o!==null))for(I2(o,u,p),o=o.sibling;o!==null;)I2(o,u,p),o=o.sibling}function Bb(o,u,p){var v=o.tag;if(v===5||v===6)o=o.stateNode,u?p.insertBefore(o,u):p.appendChild(o);else if(v!==4&&(v===27&&jf(o.type)&&(p=o.stateNode),o=o.child,o!==null))for(Bb(o,u,p),o=o.sibling;o!==null;)Bb(o,u,p),o=o.sibling}function OC(o){var u=o.stateNode,p=o.memoizedProps;try{for(var v=o.type,E=u.attributes;E.length;)u.removeAttributeNode(E[0]);fs(u,v,p),u[Wn]=o,u[sr]=p}catch(I){Xr(o,o.return,I)}}var gd=!1,la=!1,D2=!1,IC=typeof WeakSet=="function"?WeakSet:Set,Ya=null;function YL(o,u){if(o=o.containerInfo,r5=ay,o=os(o),La(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var E=v.anchorOffset,I=v.focusNode;v=v.focusOffset;try{p.nodeType,I.nodeType}catch{p=null;break e}var J=0,he=-1,je=-1,Xe=0,mt=0,St=o,et=null;t:for(;;){for(var nt;St!==p||E!==0&&St.nodeType!==3||(he=J+E),St!==I||v!==0&&St.nodeType!==3||(je=J+v),St.nodeType===3&&(J+=St.nodeValue.length),(nt=St.firstChild)!==null;)et=St,St=nt;for(;;){if(St===o)break t;if(et===p&&++Xe===E&&(he=J),et===I&&++mt===v&&(je=J),(nt=St.nextSibling)!==null)break;St=et,et=St.parentNode}St=nt}p=he===-1||je===-1?null:{start:he,end:je}}else p=null}p=p||{start:0,end:0}}else p=null;for(i5={focusedElem:o,selectionRange:p},ay=!1,Ya=u;Ya!==null;)if(u=Ya,o=u.child,(u.subtreeFlags&1024)!==0&&o!==null)o.return=u,Ya=o;else for(;Ya!==null;){switch(u=Ya,I=u.alternate,o=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&I!==null){o=void 0,p=u,E=I.memoizedProps,I=I.memoizedState,v=p.stateNode;try{var hn=zh(p.type,E,p.elementType===p.type);o=v.getSnapshotBeforeUpdate(hn,I),v.__reactInternalSnapshotBeforeUpdate=o}catch(rn){Xr(p,p.return,rn)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,p=o.nodeType,p===9)o5(o);else if(p===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":o5(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,Ya=o;break}Ya=u.return}}function DC(o,u,p){var v=p.flags;switch(p.tag){case 0:case 11:case 15:wf(o,p),v&4&&Bm(5,p);break;case 1:if(wf(o,p),v&4)if(o=p.stateNode,u===null)try{o.componentDidMount()}catch(J){Xr(p,p.return,J)}else{var E=zh(p.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(E,u,o.__reactInternalSnapshotBeforeUpdate)}catch(J){Xr(p,p.return,J)}}v&64&&kC(p),v&512&&Um(p,p.return);break;case 3:if(wf(o,p),v&64&&(o=p.updateQueue,o!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{or(o,u)}catch(J){Xr(p,p.return,J)}}break;case 27:u===null&&v&4&&OC(p);case 26:case 5:wf(o,p),u===null&&v&4&&NC(p),v&512&&Um(p,p.return);break;case 12:wf(o,p);break;case 13:wf(o,p),v&4&&MC(o,p),v&64&&(o=p.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(p=n9.bind(null,p),v9(o,p))));break;case 22:if(v=p.memoizedState!==null||gd,!v){u=u!==null&&u.memoizedState!==null||la,E=gd;var I=la;gd=v,(la=u)&&!I?Sf(o,p,(p.subtreeFlags&8772)!==0):wf(o,p),gd=E,la=I}break;case 30:break;default:wf(o,p)}}function LC(o){var u=o.alternate;u!==null&&(o.alternate=null,LC(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&Ia(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var xi=null,po=!1;function bd(o,u,p){for(p=p.child;p!==null;)RC(o,u,p),p=p.sibling}function RC(o,u,p){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(Me,p)}catch{}switch(p.tag){case 26:la||oc(p,u),bd(o,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:la||oc(p,u);var v=xi,E=po;jf(p.type)&&(xi=p.stateNode,po=!1),bd(o,u,p),Xm(p.stateNode),xi=v,po=E;break;case 5:la||oc(p,u);case 6:if(v=xi,E=po,xi=null,bd(o,u,p),xi=v,po=E,xi!==null)if(po)try{(xi.nodeType===9?xi.body:xi.nodeName==="HTML"?xi.ownerDocument.body:xi).removeChild(p.stateNode)}catch(I){Xr(p,u,I)}else try{xi.removeChild(p.stateNode)}catch(I){Xr(p,u,I)}break;case 18:xi!==null&&(po?(o=xi,AE(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,p.stateNode),a1(o)):AE(xi,p.stateNode));break;case 4:v=xi,E=po,xi=p.stateNode.containerInfo,po=!0,bd(o,u,p),xi=v,po=E;break;case 0:case 11:case 14:case 15:la||vf(2,p,u),la||vf(4,p,u),bd(o,u,p);break;case 1:la||(oc(p,u),v=p.stateNode,typeof v.componentWillUnmount=="function"&&jC(p,u,v)),bd(o,u,p);break;case 21:bd(o,u,p);break;case 22:la=(v=la)||p.memoizedState!==null,bd(o,u,p),la=v;break;default:bd(o,u,p)}}function MC(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{a1(o)}catch(p){Xr(u,u.return,p)}}function GL(o){switch(o.tag){case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new IC),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new IC),u;default:throw Error(r(435,o.tag))}}function L2(o,u){var p=GL(o);u.forEach(function(v){var E=r9.bind(null,o,v);p.has(v)||(p.add(v),v.then(E,E))})}function Po(o,u){var p=u.deletions;if(p!==null)for(var v=0;v<p.length;v++){var E=p[v],I=o,J=u,he=J;e:for(;he!==null;){switch(he.tag){case 27:if(jf(he.type)){xi=he.stateNode,po=!1;break e}break;case 5:xi=he.stateNode,po=!1;break e;case 3:case 4:xi=he.stateNode.containerInfo,po=!0;break e}he=he.return}if(xi===null)throw Error(r(160));RC(I,J,E),xi=null,po=!1,I=E.alternate,I!==null&&(I.return=null),E.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)FC(u,o),u=u.sibling}var uu=null;function FC(o,u){var p=o.alternate,v=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Po(u,o),zo(o),v&4&&(vf(3,o,o.return),Bm(3,o),vf(5,o,o.return));break;case 1:Po(u,o),zo(o),v&512&&(la||p===null||oc(p,p.return)),v&64&&gd&&(o=o.updateQueue,o!==null&&(v=o.callbacks,v!==null&&(p=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=p===null?v:p.concat(v))));break;case 26:var E=uu;if(Po(u,o),zo(o),v&512&&(la||p===null||oc(p,p.return)),v&4){var I=p!==null?p.memoizedState:null;if(v=o.memoizedState,p===null)if(v===null)if(o.stateNode===null){e:{v=o.type,p=o.memoizedProps,E=E.ownerDocument||E;t:switch(v){case"title":I=E.getElementsByTagName("title")[0],(!I||I[jr]||I[Wn]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=E.createElement(v),E.head.insertBefore(I,E.querySelector("head > title"))),fs(I,v,p),I[Wn]=o,tr(I),v=I;break e;case"link":var J=OE("link","href",E).get(v+(p.href||""));if(J){for(var he=0;he<J.length;he++)if(I=J[he],I.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&I.getAttribute("rel")===(p.rel==null?null:p.rel)&&I.getAttribute("title")===(p.title==null?null:p.title)&&I.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){J.splice(he,1);break t}}I=E.createElement(v),fs(I,v,p),E.head.appendChild(I);break;case"meta":if(J=OE("meta","content",E).get(v+(p.content||""))){for(he=0;he<J.length;he++)if(I=J[he],I.getAttribute("content")===(p.content==null?null:""+p.content)&&I.getAttribute("name")===(p.name==null?null:p.name)&&I.getAttribute("property")===(p.property==null?null:p.property)&&I.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&I.getAttribute("charset")===(p.charSet==null?null:p.charSet)){J.splice(he,1);break t}}I=E.createElement(v),fs(I,v,p),E.head.appendChild(I);break;default:throw Error(r(468,v))}I[Wn]=o,tr(I),v=I}o.stateNode=v}else IE(E,o.type,o.stateNode);else o.stateNode=TE(E,v,o.memoizedProps);else I!==v?(I===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):I.count--,v===null?IE(E,o.type,o.stateNode):TE(E,v,o.memoizedProps)):v===null&&o.stateNode!==null&&T2(o,o.memoizedProps,p.memoizedProps)}break;case 27:Po(u,o),zo(o),v&512&&(la||p===null||oc(p,p.return)),p!==null&&v&4&&T2(o,o.memoizedProps,p.memoizedProps);break;case 5:if(Po(u,o),zo(o),v&512&&(la||p===null||oc(p,p.return)),o.flags&32){E=o.stateNode;try{Bi(E,"")}catch(nt){Xr(o,o.return,nt)}}v&4&&o.stateNode!=null&&(E=o.memoizedProps,T2(o,E,p!==null?p.memoizedProps:E)),v&1024&&(D2=!0);break;case 6:if(Po(u,o),zo(o),v&4){if(o.stateNode===null)throw Error(r(162));v=o.memoizedProps,p=o.stateNode;try{p.nodeValue=v}catch(nt){Xr(o,o.return,nt)}}break;case 3:if(ny=null,E=uu,uu=ey(u.containerInfo),Po(u,o),uu=E,zo(o),v&4&&p!==null&&p.memoizedState.isDehydrated)try{a1(u.containerInfo)}catch(nt){Xr(o,o.return,nt)}D2&&(D2=!1,PC(o));break;case 4:v=uu,uu=ey(o.stateNode.containerInfo),Po(u,o),zo(o),uu=v;break;case 12:Po(u,o),zo(o);break;case 13:Po(u,o),zo(o),o.child.flags&8192&&o.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(q2=ge()),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,L2(o,v)));break;case 22:E=o.memoizedState!==null;var je=p!==null&&p.memoizedState!==null,Xe=gd,mt=la;if(gd=Xe||E,la=mt||je,Po(u,o),la=mt,gd=Xe,zo(o),v&8192)e:for(u=o.stateNode,u._visibility=E?u._visibility&-2:u._visibility|1,E&&(p===null||je||gd||la||qh(o)),p=null,u=o;;){if(u.tag===5||u.tag===26){if(p===null){je=p=u;try{if(I=je.stateNode,E)J=I.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none";else{he=je.stateNode;var St=je.memoizedProps.style,et=St!=null&&St.hasOwnProperty("display")?St.display:null;he.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(nt){Xr(je,je.return,nt)}}}else if(u.tag===6){if(p===null){je=u;try{je.stateNode.nodeValue=E?"":je.memoizedProps}catch(nt){Xr(je,je.return,nt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}v&4&&(v=o.updateQueue,v!==null&&(p=v.retryQueue,p!==null&&(v.retryQueue=null,L2(o,p))));break;case 19:Po(u,o),zo(o),v&4&&(v=o.updateQueue,v!==null&&(o.updateQueue=null,L2(o,v)));break;case 30:break;case 21:break;default:Po(u,o),zo(o)}}function zo(o){var u=o.flags;if(u&2){try{for(var p,v=o.return;v!==null;){if(TC(v)){p=v;break}v=v.return}if(p==null)throw Error(r(160));switch(p.tag){case 27:var E=p.stateNode,I=O2(o);Bb(o,I,E);break;case 5:var J=p.stateNode;p.flags&32&&(Bi(J,""),p.flags&=-33);var he=O2(o);Bb(o,he,J);break;case 3:case 4:var je=p.stateNode.containerInfo,Xe=O2(o);I2(o,Xe,je);break;default:throw Error(r(161))}}catch(mt){Xr(o,o.return,mt)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function PC(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;PC(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function wf(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)DC(o,u.alternate,u),u=u.sibling}function qh(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:vf(4,u,u.return),qh(u);break;case 1:oc(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&jC(u,u.return,p),qh(u);break;case 27:Xm(u.stateNode);case 26:case 5:oc(u,u.return),qh(u);break;case 22:u.memoizedState===null&&qh(u);break;case 30:qh(u);break;default:qh(u)}o=o.sibling}}function Sf(o,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var v=u.alternate,E=o,I=u,J=I.flags;switch(I.tag){case 0:case 11:case 15:Sf(E,I,p),Bm(4,I);break;case 1:if(Sf(E,I,p),v=I,E=v.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(Xe){Xr(v,v.return,Xe)}if(v=I,E=v.updateQueue,E!==null){var he=v.stateNode;try{var je=E.shared.hiddenCallbacks;if(je!==null)for(E.shared.hiddenCallbacks=null,E=0;E<je.length;E++)Yn(je[E],he)}catch(Xe){Xr(v,v.return,Xe)}}p&&J&64&&kC(I),Um(I,I.return);break;case 27:OC(I);case 26:case 5:Sf(E,I,p),p&&v===null&&J&4&&NC(I),Um(I,I.return);break;case 12:Sf(E,I,p);break;case 13:Sf(E,I,p),p&&J&4&&MC(E,I);break;case 22:I.memoizedState===null&&Sf(E,I,p),Um(I,I.return);break;case 30:break;default:Sf(E,I,p)}u=u.sibling}}function R2(o,u){var p=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==p&&(o!=null&&o.refCount++,p!=null&&kh(p))}function M2(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&kh(o))}function lc(o,u,p,v){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)zC(o,u,p,v),u=u.sibling}function zC(o,u,p,v){var E=u.flags;switch(u.tag){case 0:case 11:case 15:lc(o,u,p,v),E&2048&&Bm(9,u);break;case 1:lc(o,u,p,v);break;case 3:lc(o,u,p,v),E&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&kh(o)));break;case 12:if(E&2048){lc(o,u,p,v),o=u.stateNode;try{var I=u.memoizedProps,J=I.id,he=I.onPostCommit;typeof he=="function"&&he(J,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(je){Xr(u,u.return,je)}}else lc(o,u,p,v);break;case 13:lc(o,u,p,v);break;case 23:break;case 22:I=u.stateNode,J=u.alternate,u.memoizedState!==null?I._visibility&2?lc(o,u,p,v):$m(o,u):I._visibility&2?lc(o,u,p,v):(I._visibility|=2,Yp(o,u,p,v,(u.subtreeFlags&10256)!==0)),E&2048&&R2(J,u);break;case 24:lc(o,u,p,v),E&2048&&M2(u.alternate,u);break;default:lc(o,u,p,v)}}function Yp(o,u,p,v,E){for(E=E&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var I=o,J=u,he=p,je=v,Xe=J.flags;switch(J.tag){case 0:case 11:case 15:Yp(I,J,he,je,E),Bm(8,J);break;case 23:break;case 22:var mt=J.stateNode;J.memoizedState!==null?mt._visibility&2?Yp(I,J,he,je,E):$m(I,J):(mt._visibility|=2,Yp(I,J,he,je,E)),E&&Xe&2048&&R2(J.alternate,J);break;case 24:Yp(I,J,he,je,E),E&&Xe&2048&&M2(J.alternate,J);break;default:Yp(I,J,he,je,E)}u=u.sibling}}function $m(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=o,v=u,E=v.flags;switch(v.tag){case 22:$m(p,v),E&2048&&R2(v.alternate,v);break;case 24:$m(p,v),E&2048&&M2(v.alternate,v);break;default:$m(p,v)}u=u.sibling}}var Hm=8192;function Gp(o){if(o.subtreeFlags&Hm)for(o=o.child;o!==null;)qC(o),o=o.sibling}function qC(o){switch(o.tag){case 26:Gp(o),o.flags&Hm&&o.memoizedState!==null&&D9(uu,o.memoizedState,o.memoizedProps);break;case 5:Gp(o);break;case 3:case 4:var u=uu;uu=ey(o.stateNode.containerInfo),Gp(o),uu=u;break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=Hm,Hm=16777216,Gp(o),Hm=u):Gp(o));break;default:Gp(o)}}function BC(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Wm(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];Ya=v,$C(v,o)}BC(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)UC(o),o=o.sibling}function UC(o){switch(o.tag){case 0:case 11:case 15:Wm(o),o.flags&2048&&vf(9,o,o.return);break;case 3:Wm(o);break;case 12:Wm(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,Ub(o)):Wm(o);break;default:Wm(o)}}function Ub(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var v=u[p];Ya=v,$C(v,o)}BC(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:vf(8,u,u.return),Ub(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,Ub(u));break;default:Ub(u)}o=o.sibling}}function $C(o,u){for(;Ya!==null;){var p=Ya;switch(p.tag){case 0:case 11:case 15:vf(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var v=p.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:kh(p.memoizedState.cache)}if(v=p.child,v!==null)v.return=p,Ya=v;else e:for(p=o;Ya!==null;){v=Ya;var E=v.sibling,I=v.return;if(LC(v),v===p){Ya=null;break e}if(E!==null){E.return=I,Ya=E;break e}Ya=I}}}var QL={getCacheForType:function(o){var u=aa(sa),p=u.data.get(o);return p===void 0&&(p=o(),u.data.set(o,p)),p}},KL=typeof WeakMap=="function"?WeakMap:Map,Or=0,ri=null,Un=null,Qn=0,Ir=0,qo=null,Af=!1,Qp=!1,F2=!1,yd=0,Wi=0,Cf=0,Bh=0,P2=0,Sl=0,Kp=0,Vm=null,mo=null,z2=!1,q2=0,$b=1/0,Hb=null,Ef=null,ds=0,_f=null,Xp=null,Zp=0,B2=0,U2=null,HC=null,Ym=0,$2=null;function Bo(){if((Or&2)!==0&&Qn!==0)return Qn&-Qn;if(W.T!==null){var o=ld;return o!==0?o:K2()}return li()}function WC(){Sl===0&&(Sl=(Qn&536870912)===0||nr?zn():536870912);var o=wl.current;return o!==null&&(o.flags|=32),Sl}function Uo(o,u,p){(o===ri&&(Ir===2||Ir===9)||o.cancelPendingCommit!==null)&&(Jp(o,0),kf(o,Qn,Sl,!1)),ar(o,p),((Or&2)===0||o!==ri)&&(o===ri&&((Or&2)===0&&(Bh|=p),Wi===4&&kf(o,Qn,Sl,!1)),uc(o))}function VC(o,u,p){if((Or&6)!==0)throw Error(r(327));var v=!p&&(u&124)===0&&(u&o.expiredLanes)===0||nn(o,u),E=v?JL(o,u):V2(o,u,!0),I=v;do{if(E===0){Qp&&!v&&kf(o,u,0,!1);break}else{if(p=o.current.alternate,I&&!XL(p)){E=V2(o,u,!1),I=!1;continue}if(E===2){if(I=u,o.errorRecoveryDisabledLanes&I)var J=0;else J=o.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){u=J;e:{var he=o;E=Vm;var je=he.current.memoizedState.isDehydrated;if(je&&(Jp(he,J).flags|=256),J=V2(he,J,!1),J!==2){if(F2&&!je){he.errorRecoveryDisabledLanes|=I,Bh|=I,E=4;break e}I=mo,mo=E,I!==null&&(mo===null?mo=I:mo.push.apply(mo,I))}E=J}if(I=!1,E!==2)continue}}if(E===1){Jp(o,0),kf(o,u,0,!0);break}e:{switch(v=o,I=E,I){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:kf(v,u,Sl,!Af);break e;case 2:mo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(E=q2+300-ge(),10<E)){if(kf(v,u,Sl,!Af),Kt(v,0,!0)!==0)break e;v.timeoutHandle=wE(YC.bind(null,v,p,mo,Hb,z2,u,Sl,Bh,Kp,Af,I,2,-0,0),E);break e}YC(v,p,mo,Hb,z2,u,Sl,Bh,Kp,Af,I,0,-0,0)}}break}while(!0);uc(o)}function YC(o,u,p,v,E,I,J,he,je,Xe,mt,St,et,nt){if(o.timeoutHandle=-1,St=u.subtreeFlags,(St&8192||(St&16785408)===16785408)&&(e1={stylesheets:null,count:0,unsuspend:I9},qC(u),St=L9(),St!==null)){o.cancelPendingCommit=St(eE.bind(null,o,u,I,p,v,E,J,he,je,mt,1,et,nt)),kf(o,I,J,!Xe);return}eE(o,u,I,p,v,E,J,he,je)}function XL(o){for(var u=o;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var v=0;v<p.length;v++){var E=p[v],I=E.getSnapshot;E=E.value;try{if(!Aa(I(),E))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function kf(o,u,p,v){u&=~P2,u&=~Bh,o.suspendedLanes|=u,o.pingedLanes&=~u,v&&(o.warmLanes|=u),v=o.expirationTimes;for(var E=u;0<E;){var I=31-Ne(E),J=1<<I;v[I]=-1,E&=~J}p!==0&&Vt(o,p,u)}function Wb(){return(Or&6)===0?(Gm(0),!1):!0}function H2(){if(Un!==null){if(Ir===0)var o=Un.return;else o=Un,ru=Ea=null,zp(o),Wp=null,Pm=0,o=Un;for(;o!==null;)_C(o.alternate,o),o=o.return;Un=null}}function Jp(o,u){var p=o.timeoutHandle;p!==-1&&(o.timeoutHandle=-1,m9(p)),p=o.cancelPendingCommit,p!==null&&(o.cancelPendingCommit=null,p()),H2(),ri=o,Un=p=ml(o.current,null),Qn=u,Ir=0,qo=null,Af=!1,Qp=nn(o,u),F2=!1,Kp=Sl=P2=Bh=Cf=Wi=0,mo=Vm=null,z2=!1,(u&8)!==0&&(u|=u&32);var v=o.entangledLanes;if(v!==0)for(o=o.entanglements,v&=u;0<v;){var E=31-Ne(v),I=1<<E;u|=o[E],v&=~I}return yd=u,uo(),p}function GC(o,u){en=null,W.H=Ib,u===oe||u===fe?(u=Be(),Ir=3):u===le?(u=Be(),Ir=4):Ir=u===fC?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,qo=u,Un===null&&(Wi=1,Fb(o,Ln(u,o.current)))}function QC(){var o=W.H;return W.H=Ib,o===null?Ib:o}function KC(){var o=W.A;return W.A=QL,o}function W2(){Wi=4,Af||(Qn&4194048)!==Qn&&wl.current!==null||(Qp=!0),(Cf&134217727)===0&&(Bh&134217727)===0||ri===null||kf(ri,Qn,Sl,!1)}function V2(o,u,p){var v=Or;Or|=2;var E=QC(),I=KC();(ri!==o||Qn!==u)&&(Hb=null,Jp(o,u)),u=!1;var J=Wi;e:do try{if(Ir!==0&&Un!==null){var he=Un,je=qo;switch(Ir){case 8:H2(),J=6;break e;case 3:case 2:case 9:case 6:wl.current===null&&(u=!0);var Xe=Ir;if(Ir=0,qo=null,e0(o,he,je,Xe),p&&Qp){J=0;break e}break;default:Xe=Ir,Ir=0,qo=null,e0(o,he,je,Xe)}}ZL(),J=Wi;break}catch(mt){GC(o,mt)}while(!0);return u&&o.shellSuspendCounter++,ru=Ea=null,Or=v,W.H=E,W.A=I,Un===null&&(ri=null,Qn=0,uo()),J}function ZL(){for(;Un!==null;)XC(Un)}function JL(o,u){var p=Or;Or|=2;var v=QC(),E=KC();ri!==o||Qn!==u?(Hb=null,$b=ge()+500,Jp(o,u)):Qp=nn(o,u);e:do try{if(Ir!==0&&Un!==null){u=Un;var I=qo;t:switch(Ir){case 1:Ir=0,qo=null,e0(o,u,I,1);break;case 2:case 9:if(Ae(I)){Ir=0,qo=null,ZC(u);break}u=function(){Ir!==2&&Ir!==9||ri!==o||(Ir=7),uc(o)},I.then(u,u);break e;case 3:Ir=7;break e;case 4:Ir=5;break e;case 7:Ae(I)?(Ir=0,qo=null,ZC(u)):(Ir=0,qo=null,e0(o,u,I,7));break;case 5:var J=null;switch(Un.tag){case 26:J=Un.memoizedState;case 5:case 27:var he=Un;if(!J||DE(J)){Ir=0,qo=null;var je=he.sibling;if(je!==null)Un=je;else{var Xe=he.return;Xe!==null?(Un=Xe,Vb(Xe)):Un=null}break t}}Ir=0,qo=null,e0(o,u,I,5);break;case 6:Ir=0,qo=null,e0(o,u,I,6);break;case 8:H2(),Wi=6;break e;default:throw Error(r(462))}}e9();break}catch(mt){GC(o,mt)}while(!0);return ru=Ea=null,W.H=v,W.A=E,Or=p,Un!==null?0:(ri=null,Qn=0,uo(),Wi)}function e9(){for(;Un!==null&&!Se();)XC(Un)}function XC(o){var u=CC(o.alternate,o,yd);o.memoizedProps=o.pendingProps,u===null?Vb(o):Un=u}function ZC(o){var u=o,p=u.alternate;switch(u.tag){case 15:case 0:u=yC(p,u,u.pendingProps,u.type,void 0,Qn);break;case 11:u=yC(p,u,u.pendingProps,u.type.render,u.ref,Qn);break;case 5:zp(u);default:_C(p,u),u=Un=Ah(u,yd),u=CC(p,u,yd)}o.memoizedProps=o.pendingProps,u===null?Vb(o):Un=u}function e0(o,u,p,v){ru=Ea=null,zp(u),Wp=null,Pm=0;var E=u.return;try{if($L(o,E,u,p,Qn)){Wi=1,Fb(o,Ln(p,o.current)),Un=null;return}}catch(I){if(E!==null)throw Un=E,I;Wi=1,Fb(o,Ln(p,o.current)),Un=null;return}u.flags&32768?(nr||v===1?o=!0:Qp||(Qn&536870912)!==0?o=!1:(Af=o=!0,(v===2||v===9||v===3||v===6)&&(v=wl.current,v!==null&&v.tag===13&&(v.flags|=16384))),JC(u,o)):Vb(u)}function Vb(o){var u=o;do{if((u.flags&32768)!==0){JC(u,Af);return}o=u.return;var p=WL(u.alternate,u,yd);if(p!==null){Un=p;return}if(u=u.sibling,u!==null){Un=u;return}Un=u=o}while(u!==null);Wi===0&&(Wi=5)}function JC(o,u){do{var p=VL(o.alternate,o);if(p!==null){p.flags&=32767,Un=p;return}if(p=o.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(o=o.sibling,o!==null)){Un=o;return}Un=o=p}while(o!==null);Wi=6,Un=null}function eE(o,u,p,v,E,I,J,he,je){o.cancelPendingCommit=null;do Yb();while(ds!==0);if((Or&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(I=u.lanes|u.childLanes,I|=ji,Mn(o,p,I,J,he,je),o===ri&&(Un=ri=null,Qn=0),Xp=u,_f=o,Zp=p,B2=I,U2=E,HC=v,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,i9(Pe,function(){return aE(),null})):(o.callbackNode=null,o.callbackPriority=0),v=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||v){v=W.T,W.T=null,E=X.p,X.p=2,J=Or,Or|=4;try{YL(o,u,p)}finally{Or=J,X.p=E,W.T=v}}ds=1,tE(),nE(),rE()}}function tE(){if(ds===1){ds=0;var o=_f,u=Xp,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=W.T,W.T=null;var v=X.p;X.p=2;var E=Or;Or|=4;try{FC(u,o);var I=i5,J=os(o.containerInfo),he=I.focusedElem,je=I.selectionRange;if(J!==he&&he&&he.ownerDocument&&Hu(he.ownerDocument.documentElement,he)){if(je!==null&&La(he)){var Xe=je.start,mt=je.end;if(mt===void 0&&(mt=Xe),"selectionStart"in he)he.selectionStart=Xe,he.selectionEnd=Math.min(mt,he.value.length);else{var St=he.ownerDocument||document,et=St&&St.defaultView||window;if(et.getSelection){var nt=et.getSelection(),hn=he.textContent.length,rn=Math.min(je.start,hn),Br=je.end===void 0?rn:Math.min(je.end,hn);!nt.extend&&rn>Br&&(J=Br,Br=rn,rn=J);var $e=Ql(he,rn),ze=Ql(he,Br);if($e&&ze&&(nt.rangeCount!==1||nt.anchorNode!==$e.node||nt.anchorOffset!==$e.offset||nt.focusNode!==ze.node||nt.focusOffset!==ze.offset)){var Ge=St.createRange();Ge.setStart($e.node,$e.offset),nt.removeAllRanges(),rn>Br?(nt.addRange(Ge),nt.extend(ze.node,ze.offset)):(Ge.setEnd(ze.node,ze.offset),nt.addRange(Ge))}}}}for(St=[],nt=he;nt=nt.parentNode;)nt.nodeType===1&&St.push({element:nt,left:nt.scrollLeft,top:nt.scrollTop});for(typeof he.focus=="function"&&he.focus(),he=0;he<St.length;he++){var bt=St[he];bt.element.scrollLeft=bt.left,bt.element.scrollTop=bt.top}}ay=!!r5,i5=r5=null}finally{Or=E,X.p=v,W.T=p}}o.current=u,ds=2}}function nE(){if(ds===2){ds=0;var o=_f,u=Xp,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=W.T,W.T=null;var v=X.p;X.p=2;var E=Or;Or|=4;try{DC(o,u.alternate,u)}finally{Or=E,X.p=v,W.T=p}}ds=3}}function rE(){if(ds===4||ds===3){ds=0,te();var o=_f,u=Xp,p=Zp,v=HC;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?ds=5:(ds=0,Xp=_f=null,iE(o,o.pendingLanes));var E=o.pendingLanes;if(E===0&&(Ef=null),Sr(p),u=u.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(Me,u,void 0,(u.current.flags&128)===128)}catch{}if(v!==null){u=W.T,E=X.p,X.p=2,W.T=null;try{for(var I=o.onRecoverableError,J=0;J<v.length;J++){var he=v[J];I(he.value,{componentStack:he.stack})}}finally{W.T=u,X.p=E}}(Zp&3)!==0&&Yb(),uc(o),E=o.pendingLanes,(p&4194090)!==0&&(E&42)!==0?o===$2?Ym++:(Ym=0,$2=o):Ym=0,Gm(0)}}function iE(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,kh(u)))}function Yb(o){return tE(),nE(),rE(),aE()}function aE(){if(ds!==5)return!1;var o=_f,u=B2;B2=0;var p=Sr(Zp),v=W.T,E=X.p;try{X.p=32>p?32:p,W.T=null,p=U2,U2=null;var I=_f,J=Zp;if(ds=0,Xp=_f=null,Zp=0,(Or&6)!==0)throw Error(r(331));var he=Or;if(Or|=4,UC(I.current),zC(I,I.current,J,p),Or=he,Gm(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(Me,I)}catch{}return!0}finally{X.p=E,W.T=v,iE(o,u)}}function sE(o,u,p){u=Ln(p,u),u=w2(o.stateNode,u,2),o=vt(o,u,2),o!==null&&(ar(o,2),uc(o))}function Xr(o,u,p){if(o.tag===3)sE(o,o,p);else for(;u!==null;){if(u.tag===3){sE(u,o,p);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ef===null||!Ef.has(v))){o=Ln(p,o),p=cC(2),v=vt(u,p,2),v!==null&&(dC(p,v,u,o),ar(v,2),uc(v));break}}u=u.return}}function Y2(o,u,p){var v=o.pingCache;if(v===null){v=o.pingCache=new KL;var E=new Set;v.set(u,E)}else E=v.get(u),E===void 0&&(E=new Set,v.set(u,E));E.has(p)||(F2=!0,E.add(p),o=t9.bind(null,o,u,p),u.then(o,o))}function t9(o,u,p){var v=o.pingCache;v!==null&&v.delete(u),o.pingedLanes|=o.suspendedLanes&p,o.warmLanes&=~p,ri===o&&(Qn&p)===p&&(Wi===4||Wi===3&&(Qn&62914560)===Qn&&300>ge()-q2?(Or&2)===0&&Jp(o,0):P2|=p,Kp===Qn&&(Kp=0)),uc(o)}function oE(o,u){u===0&&(u=qn()),o=Xl(o,u),o!==null&&(ar(o,u),uc(o))}function n9(o){var u=o.memoizedState,p=0;u!==null&&(p=u.retryLane),oE(o,p)}function r9(o,u){var p=0;switch(o.tag){case 13:var v=o.stateNode,E=o.memoizedState;E!==null&&(p=E.retryLane);break;case 19:v=o.stateNode;break;case 22:v=o.stateNode._retryCache;break;default:throw Error(r(314))}v!==null&&v.delete(u),oE(o,p)}function i9(o,u){return We(o,u)}var Gb=null,t0=null,G2=!1,Qb=!1,Q2=!1,Uh=0;function uc(o){o!==t0&&o.next===null&&(t0===null?Gb=t0=o:t0=t0.next=o),Qb=!0,G2||(G2=!0,s9())}function Gm(o,u){if(!Q2&&Qb){Q2=!0;do for(var p=!1,v=Gb;v!==null;){if(o!==0){var E=v.pendingLanes;if(E===0)var I=0;else{var J=v.suspendedLanes,he=v.pingedLanes;I=(1<<31-Ne(42|o)+1)-1,I&=E&~(J&~he),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(p=!0,dE(v,I))}else I=Qn,I=Kt(v,v===ri?I:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(I&3)===0||nn(v,I)||(p=!0,dE(v,I));v=v.next}while(p);Q2=!1}}function a9(){lE()}function lE(){Qb=G2=!1;var o=0;Uh!==0&&(p9()&&(o=Uh),Uh=0);for(var u=ge(),p=null,v=Gb;v!==null;){var E=v.next,I=uE(v,u);I===0?(v.next=null,p===null?Gb=E:p.next=E,E===null&&(t0=p)):(p=v,(o!==0||(I&3)!==0)&&(Qb=!0)),v=E}Gm(o)}function uE(o,u){for(var p=o.suspendedLanes,v=o.pingedLanes,E=o.expirationTimes,I=o.pendingLanes&-62914561;0<I;){var J=31-Ne(I),he=1<<J,je=E[J];je===-1?((he&p)===0||(he&v)!==0)&&(E[J]=un(he,u)):je<=u&&(o.expiredLanes|=he),I&=~he}if(u=ri,p=Qn,p=Kt(o,o===u?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v=o.callbackNode,p===0||o===u&&(Ir===2||Ir===9)||o.cancelPendingCommit!==null)return v!==null&&v!==null&&V(v),o.callbackNode=null,o.callbackPriority=0;if((p&3)===0||nn(o,p)){if(u=p&-p,u===o.callbackPriority)return u;switch(v!==null&&V(v),Sr(p)){case 2:case 8:p=Ie;break;case 32:p=Pe;break;case 268435456:p=Ke;break;default:p=Pe}return v=cE.bind(null,o),p=We(p,v),o.callbackPriority=u,o.callbackNode=p,u}return v!==null&&v!==null&&V(v),o.callbackPriority=2,o.callbackNode=null,2}function cE(o,u){if(ds!==0&&ds!==5)return o.callbackNode=null,o.callbackPriority=0,null;var p=o.callbackNode;if(Yb()&&o.callbackNode!==p)return null;var v=Qn;return v=Kt(o,o===ri?v:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),v===0?null:(VC(o,v,u),uE(o,ge()),o.callbackNode!=null&&o.callbackNode===p?cE.bind(null,o):null)}function dE(o,u){if(Yb())return null;VC(o,u,!0)}function s9(){g9(function(){(Or&6)!==0?We(ve,a9):lE()})}function K2(){return Uh===0&&(Uh=zn()),Uh}function fE(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ys(""+o)}function hE(o,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,o.id&&p.setAttribute("form",o.id),u.parentNode.insertBefore(p,u),o=new FormData(o),p.parentNode.removeChild(p),o}function o9(o,u,p,v,E){if(u==="submit"&&p&&p.stateNode===E){var I=fE((E[sr]||null).action),J=v.submitter;J&&(u=(u=J[sr]||null)?fE(u.formAction):J.getAttribute("formAction"),u!==null&&(I=u,J=null));var he=new ot("action","action",null,v,E);o.push({event:he,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Uh!==0){var je=J?hE(E,J):new FormData(E);vl(p,{pending:!0,data:je,method:E.method,action:I},null,je)}}else typeof I=="function"&&(he.preventDefault(),je=J?hE(E,J):new FormData(E),vl(p,{pending:!0,data:je,method:E.method,action:I},I,je))},currentTarget:E}]})}}for(var X2=0;X2<nd.length;X2++){var Z2=nd[X2],l9=Z2.toLowerCase(),u9=Z2[0].toUpperCase()+Z2.slice(1);bi(l9,"on"+u9)}bi(of,"onAnimationEnd"),bi(Vu,"onAnimationIteration"),bi(Yu,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(Gu,"onTransitionRun"),bi(td,"onTransitionStart"),bi(lf,"onTransitionCancel"),bi(Qu,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qm));function pE(o,u){u=(u&4)!==0;for(var p=0;p<o.length;p++){var v=o[p],E=v.event;v=v.listeners;e:{var I=void 0;if(u)for(var J=v.length-1;0<=J;J--){var he=v[J],je=he.instance,Xe=he.currentTarget;if(he=he.listener,je!==I&&E.isPropagationStopped())break e;I=he,E.currentTarget=Xe;try{I(E)}catch(mt){Mb(mt)}E.currentTarget=null,I=je}else for(J=0;J<v.length;J++){if(he=v[J],je=he.instance,Xe=he.currentTarget,he=he.listener,je!==I&&E.isPropagationStopped())break e;I=he,E.currentTarget=Xe;try{I(E)}catch(mt){Mb(mt)}E.currentTarget=null,I=je}}}}function $n(o,u){var p=u[dr];p===void 0&&(p=u[dr]=new Set);var v=o+"__bubble";p.has(v)||(mE(u,o,2,!1),p.add(v))}function J2(o,u,p){var v=0;u&&(v|=4),mE(p,o,v,u)}var Kb="_reactListening"+Math.random().toString(36).slice(2);function e5(o){if(!o[Kb]){o[Kb]=!0,ro.forEach(function(p){p!=="selectionchange"&&(c9.has(p)||J2(p,!1,o),J2(p,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[Kb]||(u[Kb]=!0,J2("selectionchange",!1,u))}}function mE(o,u,p,v){switch(zE(u)){case 2:var E=F9;break;case 8:E=P9;break;default:E=p5}p=E.bind(null,u,p,o),E=void 0,!jo||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(E=!0),v?E!==void 0?o.addEventListener(u,p,{capture:!0,passive:E}):o.addEventListener(u,p,!0):E!==void 0?o.addEventListener(u,p,{passive:E}):o.addEventListener(u,p,!1)}function t5(o,u,p,v,E){var I=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var J=v.tag;if(J===3||J===4){var he=v.stateNode.containerInfo;if(he===E)break;if(J===4)for(J=v.return;J!==null;){var je=J.tag;if((je===3||je===4)&&J.stateNode.containerInfo===E)return;J=J.return}for(;he!==null;){if(J=zi(he),J===null)return;if(je=J.tag,je===5||je===6||je===26||je===27){v=I=J;continue e}he=he.parentNode}}v=v.return}cl(function(){var Xe=I,mt=ui(p),St=[];e:{var et=Kl.get(o);if(et!==void 0){var nt=ot,hn=o;switch(o){case"keypress":if(oo(p)===0)break e;case"keydown":case"keyup":nt=tf;break;case"focusin":hn="focus",nt=Kr;break;case"focusout":hn="blur",nt=Kr;break;case"beforeblur":case"afterblur":nt=Kr;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=Ar;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=xh;break;case of:case Vu:case Yu:nt=Gs;break;case Qu:nt=re;break;case"scroll":case"scrollend":nt=qt;break;case"wheel":nt=De;break;case"copy":case"cut":case"paste":nt=Zd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=nf;break;case"toggle":case"beforetoggle":nt=ct}var rn=(u&4)!==0,Br=!rn&&(o==="scroll"||o==="scrollend"),$e=rn?et!==null?et+"Capture":null:et;rn=[];for(var ze=Xe,Ge;ze!==null;){var bt=ze;if(Ge=bt.stateNode,bt=bt.tag,bt!==5&&bt!==26&&bt!==27||Ge===null||$e===null||(bt=Ei(ze,$e),bt!=null&&rn.push(Km(ze,bt,Ge))),Br)break;ze=ze.return}0<rn.length&&(et=new nt(et,hn,null,p,mt),St.push({event:et,listeners:rn}))}}if((u&7)===0){e:{if(et=o==="mouseover"||o==="pointerover",nt=o==="mouseout"||o==="pointerout",et&&p!==ul&&(hn=p.relatedTarget||p.fromElement)&&(zi(hn)||hn[Mr]))break e;if((nt||et)&&(et=mt.window===mt?mt:(et=mt.ownerDocument)?et.defaultView||et.parentWindow:window,nt?(hn=p.relatedTarget||p.toElement,nt=Xe,hn=hn?zi(hn):null,hn!==null&&(Br=a(hn),rn=hn.tag,hn!==Br||rn!==5&&rn!==27&&rn!==6)&&(hn=null)):(nt=null,hn=Xe),nt!==hn)){if(rn=Nr,bt="onMouseLeave",$e="onMouseEnter",ze="mouse",(o==="pointerout"||o==="pointerover")&&(rn=nf,bt="onPointerLeave",$e="onPointerEnter",ze="pointer"),Br=nt==null?et:er(nt),Ge=hn==null?et:er(hn),et=new rn(bt,ze+"leave",nt,p,mt),et.target=Br,et.relatedTarget=Ge,bt=null,zi(mt)===Xe&&(rn=new rn($e,ze+"enter",hn,p,mt),rn.target=Ge,rn.relatedTarget=Br,bt=rn),Br=bt,nt&&hn)t:{for(rn=nt,$e=hn,ze=0,Ge=rn;Ge;Ge=n0(Ge))ze++;for(Ge=0,bt=$e;bt;bt=n0(bt))Ge++;for(;0<ze-Ge;)rn=n0(rn),ze--;for(;0<Ge-ze;)$e=n0($e),Ge--;for(;ze--;){if(rn===$e||$e!==null&&rn===$e.alternate)break t;rn=n0(rn),$e=n0($e)}rn=null}else rn=null;nt!==null&&gE(St,et,nt,rn,!1),hn!==null&&Br!==null&&gE(St,Br,hn,rn,!0)}}e:{if(et=Xe?er(Xe):window,nt=et.nodeName&&et.nodeName.toLowerCase(),nt==="select"||nt==="input"&&et.type==="file")var Pt=af;else if(Io(et))if(Xc)Pt=Op;else{Pt=Sm;var Fn=Es}else nt=et.nodeName,!nt||nt.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?Xe&&qa(Xe.elementType)&&(Pt=af):Pt=wh;if(Pt&&(Pt=Pt(o,Xe))){vh(St,Pt,p,mt);break e}Fn&&Fn(o,et,Xe),o==="focusout"&&Xe&&et.type==="number"&&Xe.memoizedProps.value!=null&&ko(et,"number",et.value)}switch(Fn=Xe?er(Xe):window,o){case"focusin":(Io(Fn)||Fn.contentEditable==="true")&&(_s=Fn,Do=Xe,hl=null);break;case"focusout":hl=Do=_s=null;break;case"mousedown":Lo=!0;break;case"contextmenu":case"mouseup":case"dragend":Lo=!1,gi(St,p,mt);break;case"selectionchange":if(Wu)break;case"keydown":case"keyup":gi(St,p,mt)}var Qt;if(Tt)e:{switch(o){case"compositionstart":var sn="onCompositionStart";break e;case"compositionend":sn="onCompositionEnd";break e;case"compositionupdate":sn="onCompositionUpdate";break e}sn=void 0}else ki?ci(o,p)&&(sn="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(sn="onCompositionStart");sn&&(pn&&p.locale!=="ko"&&(ki||sn!=="onCompositionStart"?sn==="onCompositionEnd"&&ki&&(Qt=dl()):(Da=mt,$a="value"in Da?Da.value:Da.textContent,ki=!0)),Fn=Xb(Xe,sn),0<Fn.length&&(sn=new To(sn,o,null,p,mt),St.push({event:sn,listeners:Fn}),Qt?sn.data=Qt:(Qt=_i(p),Qt!==null&&(sn.data=Qt)))),(Qt=vn?Sa(o,p):Oo(o,p))&&(sn=Xb(Xe,"onBeforeInput"),0<sn.length&&(Fn=new To("onBeforeInput","beforeinput",null,p,mt),St.push({event:Fn,listeners:sn}),Fn.data=Qt)),o9(St,o,Xe,p,mt)}pE(St,u)})}function Km(o,u,p){return{instance:o,listener:u,currentTarget:p}}function Xb(o,u){for(var p=u+"Capture",v=[];o!==null;){var E=o,I=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||I===null||(E=Ei(o,p),E!=null&&v.unshift(Km(o,E,I)),E=Ei(o,u),E!=null&&v.push(Km(o,E,I))),o.tag===3)return v;o=o.return}return[]}function n0(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function gE(o,u,p,v,E){for(var I=u._reactName,J=[];p!==null&&p!==v;){var he=p,je=he.alternate,Xe=he.stateNode;if(he=he.tag,je!==null&&je===v)break;he!==5&&he!==26&&he!==27||Xe===null||(je=Xe,E?(Xe=Ei(p,I),Xe!=null&&J.unshift(Km(p,Xe,je))):E||(Xe=Ei(p,I),Xe!=null&&J.push(Km(p,Xe,je)))),p=p.return}J.length!==0&&o.push({event:u,listeners:J})}var d9=/\r\n?/g,f9=/\u0000|\uFFFD/g;function bE(o){return(typeof o=="string"?o:""+o).replace(d9,`
`).replace(f9,"")}function yE(o,u){return u=bE(u),bE(o)===u}function Zb(){}function qr(o,u,p,v,E,I){switch(p){case"children":typeof v=="string"?u==="body"||u==="textarea"&&v===""||Bi(o,v):(typeof v=="number"||typeof v=="bigint")&&u!=="body"&&Bi(o,""+v);break;case"className":xs(o,"class",v);break;case"tabIndex":xs(o,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":xs(o,p,v);break;case"style":zu(o,v,I);break;case"data":if(u!=="object"){xs(o,"data",v);break}case"src":case"href":if(v===""&&(u!=="a"||p!=="href")){o.removeAttribute(p);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=Ys(""+v),o.setAttribute(p,v);break;case"action":case"formAction":if(typeof v=="function"){o.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(p==="formAction"?(u!=="input"&&qr(o,u,"name",E.name,E,null),qr(o,u,"formEncType",E.formEncType,E,null),qr(o,u,"formMethod",E.formMethod,E,null),qr(o,u,"formTarget",E.formTarget,E,null)):(qr(o,u,"encType",E.encType,E,null),qr(o,u,"method",E.method,E,null),qr(o,u,"target",E.target,E,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){o.removeAttribute(p);break}v=Ys(""+v),o.setAttribute(p,v);break;case"onClick":v!=null&&(o.onclick=Zb);break;case"onScroll":v!=null&&$n("scroll",o);break;case"onScrollEnd":v!=null&&$n("scrollend",o);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"multiple":o.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":o.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){o.removeAttribute("xlink:href");break}p=Ys(""+v),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""+v):o.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,""):o.removeAttribute(p);break;case"capture":case"download":v===!0?o.setAttribute(p,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?o.setAttribute(p,v):o.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?o.setAttribute(p,v):o.removeAttribute(p);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?o.removeAttribute(p):o.setAttribute(p,v);break;case"popover":$n("beforetoggle",o),$n("toggle",o),$s(o,"popover",v);break;case"xlinkActuate":Pa(o,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Pa(o,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Pa(o,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Pa(o,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Pa(o,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Pa(o,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Pa(o,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Pa(o,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Pa(o,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":$s(o,"is",v);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Vs.get(p)||p,$s(o,p,v))}}function n5(o,u,p,v,E,I){switch(p){case"style":zu(o,v,I);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(r(61));if(p=v.__html,p!=null){if(E.children!=null)throw Error(r(60));o.innerHTML=p}}break;case"children":typeof v=="string"?Bi(o,v):(typeof v=="number"||typeof v=="bigint")&&Bi(o,""+v);break;case"onScroll":v!=null&&$n("scroll",o);break;case"onScrollEnd":v!=null&&$n("scrollend",o);break;case"onClick":v!=null&&(o.onclick=Zb);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(E=p.endsWith("Capture"),u=p.slice(2,E?p.length-7:void 0),I=o[sr]||null,I=I!=null?I[p]:null,typeof I=="function"&&o.removeEventListener(u,I,E),typeof v=="function")){typeof I!="function"&&I!==null&&(p in o?o[p]=null:o.hasAttribute(p)&&o.removeAttribute(p)),o.addEventListener(u,v,E);break e}p in o?o[p]=v:v===!0?o.setAttribute(p,""):$s(o,p,v)}}}function fs(o,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$n("error",o),$n("load",o);var v=!1,E=!1,I;for(I in p)if(p.hasOwnProperty(I)){var J=p[I];if(J!=null)switch(I){case"src":v=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:qr(o,u,I,J,p,null)}}E&&qr(o,u,"srcSet",p.srcSet,p,null),v&&qr(o,u,"src",p.src,p,null);return;case"input":$n("invalid",o);var he=I=J=E=null,je=null,Xe=null;for(v in p)if(p.hasOwnProperty(v)){var mt=p[v];if(mt!=null)switch(v){case"name":E=mt;break;case"type":J=mt;break;case"checked":je=mt;break;case"defaultChecked":Xe=mt;break;case"value":I=mt;break;case"defaultValue":he=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(r(137,u));break;default:qr(o,u,v,mt,p,null)}}Vl(o,I,he,je,Xe,J,E,!1),za(o);return;case"select":$n("invalid",o),v=J=I=null;for(E in p)if(p.hasOwnProperty(E)&&(he=p[E],he!=null))switch(E){case"value":I=he;break;case"defaultValue":J=he;break;case"multiple":v=he;default:qr(o,u,E,he,p,null)}u=I,p=J,o.multiple=!!v,u!=null?Hs(o,!!v,u,!1):p!=null&&Hs(o,!!v,p,!0);return;case"textarea":$n("invalid",o),I=E=v=null;for(J in p)if(p.hasOwnProperty(J)&&(he=p[J],he!=null))switch(J){case"value":v=he;break;case"defaultValue":E=he;break;case"children":I=he;break;case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(91));break;default:qr(o,u,J,he,p,null)}Ws(o,v,E,I),za(o);return;case"option":for(je in p)if(p.hasOwnProperty(je)&&(v=p[je],v!=null))switch(je){case"selected":o.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:qr(o,u,je,v,p,null)}return;case"dialog":$n("beforetoggle",o),$n("toggle",o),$n("cancel",o),$n("close",o);break;case"iframe":case"object":$n("load",o);break;case"video":case"audio":for(v=0;v<Qm.length;v++)$n(Qm[v],o);break;case"image":$n("error",o),$n("load",o);break;case"details":$n("toggle",o);break;case"embed":case"source":case"link":$n("error",o),$n("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xe in p)if(p.hasOwnProperty(Xe)&&(v=p[Xe],v!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:qr(o,u,Xe,v,p,null)}return;default:if(qa(u)){for(mt in p)p.hasOwnProperty(mt)&&(v=p[mt],v!==void 0&&n5(o,u,mt,v,p,void 0));return}}for(he in p)p.hasOwnProperty(he)&&(v=p[he],v!=null&&qr(o,u,he,v,p,null))}function h9(o,u,p,v){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,I=null,J=null,he=null,je=null,Xe=null,mt=null;for(nt in p){var St=p[nt];if(p.hasOwnProperty(nt)&&St!=null)switch(nt){case"checked":break;case"value":break;case"defaultValue":je=St;default:v.hasOwnProperty(nt)||qr(o,u,nt,null,v,St)}}for(var et in v){var nt=v[et];if(St=p[et],v.hasOwnProperty(et)&&(nt!=null||St!=null))switch(et){case"type":I=nt;break;case"name":E=nt;break;case"checked":Xe=nt;break;case"defaultChecked":mt=nt;break;case"value":J=nt;break;case"defaultValue":he=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(r(137,u));break;default:nt!==St&&qr(o,u,et,nt,v,St)}}_o(o,J,he,je,Xe,mt,I,E);return;case"select":nt=J=he=et=null;for(I in p)if(je=p[I],p.hasOwnProperty(I)&&je!=null)switch(I){case"value":break;case"multiple":nt=je;default:v.hasOwnProperty(I)||qr(o,u,I,null,v,je)}for(E in v)if(I=v[E],je=p[E],v.hasOwnProperty(E)&&(I!=null||je!=null))switch(E){case"value":et=I;break;case"defaultValue":he=I;break;case"multiple":J=I;default:I!==je&&qr(o,u,E,I,v,je)}u=he,p=J,v=nt,et!=null?Hs(o,!!p,et,!1):!!v!=!!p&&(u!=null?Hs(o,!!p,u,!0):Hs(o,!!p,p?[]:"",!1));return;case"textarea":nt=et=null;for(he in p)if(E=p[he],p.hasOwnProperty(he)&&E!=null&&!v.hasOwnProperty(he))switch(he){case"value":break;case"children":break;default:qr(o,u,he,null,v,E)}for(J in v)if(E=v[J],I=p[J],v.hasOwnProperty(J)&&(E!=null||I!=null))switch(J){case"value":et=E;break;case"defaultValue":nt=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==I&&qr(o,u,J,E,v,I)}Pu(o,et,nt);return;case"option":for(var hn in p)if(et=p[hn],p.hasOwnProperty(hn)&&et!=null&&!v.hasOwnProperty(hn))switch(hn){case"selected":o.selected=!1;break;default:qr(o,u,hn,null,v,et)}for(je in v)if(et=v[je],nt=p[je],v.hasOwnProperty(je)&&et!==nt&&(et!=null||nt!=null))switch(je){case"selected":o.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:qr(o,u,je,et,v,nt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rn in p)et=p[rn],p.hasOwnProperty(rn)&&et!=null&&!v.hasOwnProperty(rn)&&qr(o,u,rn,null,v,et);for(Xe in v)if(et=v[Xe],nt=p[Xe],v.hasOwnProperty(Xe)&&et!==nt&&(et!=null||nt!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(137,u));break;default:qr(o,u,Xe,et,v,nt)}return;default:if(qa(u)){for(var Br in p)et=p[Br],p.hasOwnProperty(Br)&&et!==void 0&&!v.hasOwnProperty(Br)&&n5(o,u,Br,void 0,v,et);for(mt in v)et=v[mt],nt=p[mt],!v.hasOwnProperty(mt)||et===nt||et===void 0&&nt===void 0||n5(o,u,mt,et,v,nt);return}}for(var $e in p)et=p[$e],p.hasOwnProperty($e)&&et!=null&&!v.hasOwnProperty($e)&&qr(o,u,$e,null,v,et);for(St in v)et=v[St],nt=p[St],!v.hasOwnProperty(St)||et===nt||et==null&&nt==null||qr(o,u,St,et,v,nt)}var r5=null,i5=null;function Jb(o){return o.nodeType===9?o:o.ownerDocument}function xE(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vE(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function a5(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var s5=null;function p9(){var o=window.event;return o&&o.type==="popstate"?o===s5?!1:(s5=o,!0):(s5=null,!1)}var wE=typeof setTimeout=="function"?setTimeout:void 0,m9=typeof clearTimeout=="function"?clearTimeout:void 0,SE=typeof Promise=="function"?Promise:void 0,g9=typeof queueMicrotask=="function"?queueMicrotask:typeof SE<"u"?function(o){return SE.resolve(null).then(o).catch(b9)}:wE;function b9(o){setTimeout(function(){throw o})}function jf(o){return o==="head"}function AE(o,u){var p=u,v=0,E=0;do{var I=p.nextSibling;if(o.removeChild(p),I&&I.nodeType===8)if(p=I.data,p==="/$"){if(0<v&&8>v){p=v;var J=o.ownerDocument;if(p&1&&Xm(J.documentElement),p&2&&Xm(J.body),p&4)for(p=J.head,Xm(p),J=p.firstChild;J;){var he=J.nextSibling,je=J.nodeName;J[jr]||je==="SCRIPT"||je==="STYLE"||je==="LINK"&&J.rel.toLowerCase()==="stylesheet"||p.removeChild(J),J=he}}if(E===0){o.removeChild(I),a1(u);return}E--}else p==="$"||p==="$?"||p==="$!"?E++:v=p.charCodeAt(0)-48;else v=0;p=I}while(p);a1(u)}function o5(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":o5(p),Ia(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}o.removeChild(p)}}function y9(o,u,p,v){for(;o.nodeType===1;){var E=p;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!v&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(v){if(!o[jr])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(I=o.getAttribute("rel"),I==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(I!==E.rel||o.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||o.getAttribute("title")!==(E.title==null?null:E.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(I=o.getAttribute("src"),(I!==(E.src==null?null:E.src)||o.getAttribute("type")!==(E.type==null?null:E.type)||o.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&I&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var I=E.name==null?null:""+E.name;if(E.type==="hidden"&&o.getAttribute("name")===I)return o}else return o;if(o=cu(o.nextSibling),o===null)break}return null}function x9(o,u,p){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!p||(o=cu(o.nextSibling),o===null))return null;return o}function l5(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function v9(o,u){var p=o.ownerDocument;if(o.data!=="$?"||p.readyState==="complete")u();else{var v=function(){u(),p.removeEventListener("DOMContentLoaded",v)};p.addEventListener("DOMContentLoaded",v),o._reactRetry=v}}function cu(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return o}var u5=null;function CE(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return o;u--}else p==="/$"&&u++}o=o.previousSibling}return null}function EE(o,u,p){switch(u=Jb(p),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Xm(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);Ia(o)}var Al=new Map,_E=new Set;function ey(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var xd=X.d;X.d={f:w9,r:S9,D:A9,C:C9,L:E9,m:_9,X:j9,S:k9,M:N9};function w9(){var o=xd.f(),u=Wb();return o||u}function S9(o){var u=qi(o);u!==null&&u.tag===5&&u.type==="form"?Fh(u):xd.r(o)}var r0=typeof document>"u"?null:document;function kE(o,u,p){var v=r0;if(v&&typeof u=="string"&&u){var E=hr(u);E='link[rel="'+o+'"][href="'+E+'"]',typeof p=="string"&&(E+='[crossorigin="'+p+'"]'),_E.has(E)||(_E.add(E),o={rel:o,crossOrigin:p,href:u},v.querySelector(E)===null&&(u=v.createElement("link"),fs(u,"link",o),tr(u),v.head.appendChild(u)))}}function A9(o){xd.D(o),kE("dns-prefetch",o,null)}function C9(o,u){xd.C(o,u),kE("preconnect",o,u)}function E9(o,u,p){xd.L(o,u,p);var v=r0;if(v&&o&&u){var E='link[rel="preload"][as="'+hr(u)+'"]';u==="image"&&p&&p.imageSrcSet?(E+='[imagesrcset="'+hr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(E+='[imagesizes="'+hr(p.imageSizes)+'"]')):E+='[href="'+hr(o)+'"]';var I=E;switch(u){case"style":I=i0(o);break;case"script":I=a0(o)}Al.has(I)||(o=h({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:o,as:u},p),Al.set(I,o),v.querySelector(E)!==null||u==="style"&&v.querySelector(Zm(I))||u==="script"&&v.querySelector(Jm(I))||(u=v.createElement("link"),fs(u,"link",o),tr(u),v.head.appendChild(u)))}}function _9(o,u){xd.m(o,u);var p=r0;if(p&&o){var v=u&&typeof u.as=="string"?u.as:"script",E='link[rel="modulepreload"][as="'+hr(v)+'"][href="'+hr(o)+'"]',I=E;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=a0(o)}if(!Al.has(I)&&(o=h({rel:"modulepreload",href:o},u),Al.set(I,o),p.querySelector(E)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Jm(I)))return}v=p.createElement("link"),fs(v,"link",o),tr(v),p.head.appendChild(v)}}}function k9(o,u,p){xd.S(o,u,p);var v=r0;if(v&&o){var E=Ci(v).hoistableStyles,I=i0(o);u=u||"default";var J=E.get(I);if(!J){var he={loading:0,preload:null};if(J=v.querySelector(Zm(I)))he.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":u},p),(p=Al.get(I))&&c5(o,p);var je=J=v.createElement("link");tr(je),fs(je,"link",o),je._p=new Promise(function(Xe,mt){je.onload=Xe,je.onerror=mt}),je.addEventListener("load",function(){he.loading|=1}),je.addEventListener("error",function(){he.loading|=2}),he.loading|=4,ty(J,u,v)}J={type:"stylesheet",instance:J,count:1,state:he},E.set(I,J)}}}function j9(o,u){xd.X(o,u);var p=r0;if(p&&o){var v=Ci(p).hoistableScripts,E=a0(o),I=v.get(E);I||(I=p.querySelector(Jm(E)),I||(o=h({src:o,async:!0},u),(u=Al.get(E))&&d5(o,u),I=p.createElement("script"),tr(I),fs(I,"link",o),p.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(E,I))}}function N9(o,u){xd.M(o,u);var p=r0;if(p&&o){var v=Ci(p).hoistableScripts,E=a0(o),I=v.get(E);I||(I=p.querySelector(Jm(E)),I||(o=h({src:o,async:!0,type:"module"},u),(u=Al.get(E))&&d5(o,u),I=p.createElement("script"),tr(I),fs(I,"link",o),p.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},v.set(E,I))}}function jE(o,u,p,v){var E=(E=se.current)?ey(E):null;if(!E)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=i0(p.href),p=Ci(E).hoistableStyles,v=p.get(u),v||(v={type:"style",instance:null,count:0,state:null},p.set(u,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){o=i0(p.href);var I=Ci(E).hoistableStyles,J=I.get(o);if(J||(E=E.ownerDocument||E,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(o,J),(I=E.querySelector(Zm(o)))&&!I._p&&(J.instance=I,J.state.loading=5),Al.has(o)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Al.set(o,p),I||T9(E,o,p,J.state))),u&&v===null)throw Error(r(528,""));return J}if(u&&v!==null)throw Error(r(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=a0(p),p=Ci(E).hoistableScripts,v=p.get(u),v||(v={type:"script",instance:null,count:0,state:null},p.set(u,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function i0(o){return'href="'+hr(o)+'"'}function Zm(o){return'link[rel="stylesheet"]['+o+"]"}function NE(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function T9(o,u,p,v){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?v.loading=1:(u=o.createElement("link"),v.preload=u,u.addEventListener("load",function(){return v.loading|=1}),u.addEventListener("error",function(){return v.loading|=2}),fs(u,"link",p),tr(u),o.head.appendChild(u))}function a0(o){return'[src="'+hr(o)+'"]'}function Jm(o){return"script[async]"+o}function TE(o,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var v=o.querySelector('style[data-href~="'+hr(p.href)+'"]');if(v)return u.instance=v,tr(v),v;var E=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return v=(o.ownerDocument||o).createElement("style"),tr(v),fs(v,"style",E),ty(v,p.precedence,o),u.instance=v;case"stylesheet":E=i0(p.href);var I=o.querySelector(Zm(E));if(I)return u.state.loading|=4,u.instance=I,tr(I),I;v=NE(p),(E=Al.get(E))&&c5(v,E),I=(o.ownerDocument||o).createElement("link"),tr(I);var J=I;return J._p=new Promise(function(he,je){J.onload=he,J.onerror=je}),fs(I,"link",v),u.state.loading|=4,ty(I,p.precedence,o),u.instance=I;case"script":return I=a0(p.src),(E=o.querySelector(Jm(I)))?(u.instance=E,tr(E),E):(v=p,(E=Al.get(I))&&(v=h({},p),d5(v,E)),o=o.ownerDocument||o,E=o.createElement("script"),tr(E),fs(E,"link",v),o.head.appendChild(E),u.instance=E);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(v=u.instance,u.state.loading|=4,ty(v,p.precedence,o));return u.instance}function ty(o,u,p){for(var v=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=v.length?v[v.length-1]:null,I=E,J=0;J<v.length;J++){var he=v[J];if(he.dataset.precedence===u)I=he;else if(I!==E)break}I?I.parentNode.insertBefore(o,I.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(o,u.firstChild))}function c5(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function d5(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var ny=null;function OE(o,u,p){if(ny===null){var v=new Map,E=ny=new Map;E.set(p,v)}else E=ny,v=E.get(p),v||(v=new Map,E.set(p,v));if(v.has(o))return v;for(v.set(o,null),p=p.getElementsByTagName(o),E=0;E<p.length;E++){var I=p[E];if(!(I[jr]||I[Wn]||o==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var J=I.getAttribute(u)||"";J=o+J;var he=v.get(J);he?he.push(I):v.set(J,[I])}}return v}function IE(o,u,p){o=o.ownerDocument||o,o.head.insertBefore(p,u==="title"?o.querySelector("head > title"):null)}function O9(o,u,p){if(p===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function DE(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var e1=null;function I9(){}function D9(o,u,p){if(e1===null)throw Error(r(475));var v=e1;if(u.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var E=i0(p.href),I=o.querySelector(Zm(E));if(I){o=I._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(v.count++,v=ry.bind(v),o.then(v,v)),u.state.loading|=4,u.instance=I,tr(I);return}I=o.ownerDocument||o,p=NE(p),(E=Al.get(E))&&c5(p,E),I=I.createElement("link"),tr(I);var J=I;J._p=new Promise(function(he,je){J.onload=he,J.onerror=je}),fs(I,"link",p),u.instance=I}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(v.count++,u=ry.bind(v),o.addEventListener("load",u),o.addEventListener("error",u))}}function L9(){if(e1===null)throw Error(r(475));var o=e1;return o.stylesheets&&o.count===0&&f5(o,o.stylesheets),0<o.count?function(u){var p=setTimeout(function(){if(o.stylesheets&&f5(o,o.stylesheets),o.unsuspend){var v=o.unsuspend;o.unsuspend=null,v()}},6e4);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(p)}}:null}function ry(){if(this.count--,this.count===0){if(this.stylesheets)f5(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var iy=null;function f5(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,iy=new Map,u.forEach(R9,o),iy=null,ry.call(o))}function R9(o,u){if(!(u.state.loading&4)){var p=iy.get(o);if(p)var v=p.get(null);else{p=new Map,iy.set(o,p);for(var E=o.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<E.length;I++){var J=E[I];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(p.set(J.dataset.precedence,J),v=J)}v&&p.set(null,v)}E=u.instance,J=E.getAttribute("data-precedence"),I=p.get(J)||v,I===v&&p.set(null,E),p.set(J,E),this.count++,v=ry.bind(this),E.addEventListener("load",v),E.addEventListener("error",v),I?I.parentNode.insertBefore(E,I.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(E,o.firstChild)),u.state.loading|=4}}var t1={$$typeof:N,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function M9(o,u,p,v,E,I,J,he){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.hiddenUpdates=Qr(null),this.identifierPrefix=v,this.onUncaughtError=E,this.onCaughtError=I,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=he,this.incompleteTransitions=new Map}function LE(o,u,p,v,E,I,J,he,je,Xe,mt,St){return o=new M9(o,u,p,J,he,je,Xe,St),u=1,I===!0&&(u|=24),I=Wa(3,null,null,u),o.current=I,I.stateNode=o,u=Cm(),u.refCount++,o.pooledCache=u,u.refCount++,I.memoizedState={element:v,isDehydrated:p,cache:u},Fe(I),o}function RE(o){return o?(o=Ca,o):Ca}function ME(o,u,p,v,E,I){E=RE(E),v.context===null?v.context=E:v.pendingContext=E,v=pt(u),v.payload={element:p},I=I===void 0?null:I,I!==null&&(v.callback=I),p=vt(o,v,u),p!==null&&(Uo(p,o,u),gt(p,o,u))}function FE(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<u?p:u}}function h5(o,u){FE(o,u),(o=o.alternate)&&FE(o,u)}function PE(o){if(o.tag===13){var u=Xl(o,67108864);u!==null&&Uo(u,o,67108864),h5(o,67108864)}}var ay=!0;function F9(o,u,p,v){var E=W.T;W.T=null;var I=X.p;try{X.p=2,p5(o,u,p,v)}finally{X.p=I,W.T=E}}function P9(o,u,p,v){var E=W.T;W.T=null;var I=X.p;try{X.p=8,p5(o,u,p,v)}finally{X.p=I,W.T=E}}function p5(o,u,p,v){if(ay){var E=m5(v);if(E===null)t5(o,u,v,sy,p),qE(o,v);else if(q9(E,o,u,p,v))v.stopPropagation();else if(qE(o,v),u&4&&-1<z9.indexOf(o)){for(;E!==null;){var I=qi(E);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var J=Lt(I.pendingLanes);if(J!==0){var he=I;for(he.pendingLanes|=2,he.entangledLanes|=2;J;){var je=1<<31-Ne(J);he.entanglements[1]|=je,J&=~je}uc(I),(Or&6)===0&&($b=ge()+500,Gm(0))}}break;case 13:he=Xl(I,2),he!==null&&Uo(he,I,2),Wb(),h5(I,2)}if(I=m5(v),I===null&&t5(o,u,v,sy,p),I===E)break;E=I}E!==null&&v.stopPropagation()}else t5(o,u,v,null,p)}}function m5(o){return o=ui(o),g5(o)}var sy=null;function g5(o){if(sy=null,o=zi(o),o!==null){var u=a(o);if(u===null)o=null;else{var p=u.tag;if(p===13){if(o=s(u),o!==null)return o;o=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return sy=o,null}function zE(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ve:return 2;case Ie:return 8;case Pe:case ke:return 32;case Ke:return 268435456;default:return 32}default:return 32}}var b5=!1,Nf=null,Tf=null,Of=null,n1=new Map,r1=new Map,If=[],z9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qE(o,u){switch(o){case"focusin":case"focusout":Nf=null;break;case"dragenter":case"dragleave":Tf=null;break;case"mouseover":case"mouseout":Of=null;break;case"pointerover":case"pointerout":n1.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":r1.delete(u.pointerId)}}function i1(o,u,p,v,E,I){return o===null||o.nativeEvent!==I?(o={blockedOn:u,domEventName:p,eventSystemFlags:v,nativeEvent:I,targetContainers:[E]},u!==null&&(u=qi(u),u!==null&&PE(u)),o):(o.eventSystemFlags|=v,u=o.targetContainers,E!==null&&u.indexOf(E)===-1&&u.push(E),o)}function q9(o,u,p,v,E){switch(u){case"focusin":return Nf=i1(Nf,o,u,p,v,E),!0;case"dragenter":return Tf=i1(Tf,o,u,p,v,E),!0;case"mouseover":return Of=i1(Of,o,u,p,v,E),!0;case"pointerover":var I=E.pointerId;return n1.set(I,i1(n1.get(I)||null,o,u,p,v,E)),!0;case"gotpointercapture":return I=E.pointerId,r1.set(I,i1(r1.get(I)||null,o,u,p,v,E)),!0}return!1}function BE(o){var u=zi(o.target);if(u!==null){var p=a(u);if(p!==null){if(u=p.tag,u===13){if(u=s(p),u!==null){o.blockedOn=u,va(o.priority,function(){if(p.tag===13){var v=Bo();v=xa(v);var E=Xl(p,v);E!==null&&Uo(E,p,v),h5(p,v)}});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function oy(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var p=m5(o.nativeEvent);if(p===null){p=o.nativeEvent;var v=new p.constructor(p.type,p);ul=v,p.target.dispatchEvent(v),ul=null}else return u=qi(p),u!==null&&PE(u),o.blockedOn=p,!1;u.shift()}return!0}function UE(o,u,p){oy(o)&&p.delete(u)}function B9(){b5=!1,Nf!==null&&oy(Nf)&&(Nf=null),Tf!==null&&oy(Tf)&&(Tf=null),Of!==null&&oy(Of)&&(Of=null),n1.forEach(UE),r1.forEach(UE)}function ly(o,u){o.blockedOn===u&&(o.blockedOn=null,b5||(b5=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,B9)))}var uy=null;function $E(o){uy!==o&&(uy=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){uy===o&&(uy=null);for(var u=0;u<o.length;u+=3){var p=o[u],v=o[u+1],E=o[u+2];if(typeof v!="function"){if(g5(v||p)===null)continue;break}var I=qi(p);I!==null&&(o.splice(u,3),u-=3,vl(I,{pending:!0,data:E,method:p.method,action:v},v,E))}}))}function a1(o){function u(je){return ly(je,o)}Nf!==null&&ly(Nf,o),Tf!==null&&ly(Tf,o),Of!==null&&ly(Of,o),n1.forEach(u),r1.forEach(u);for(var p=0;p<If.length;p++){var v=If[p];v.blockedOn===o&&(v.blockedOn=null)}for(;0<If.length&&(p=If[0],p.blockedOn===null);)BE(p),p.blockedOn===null&&If.shift();if(p=(o.ownerDocument||o).$$reactFormReplay,p!=null)for(v=0;v<p.length;v+=3){var E=p[v],I=p[v+1],J=E[sr]||null;if(typeof I=="function")J||$E(p);else if(J){var he=null;if(I&&I.hasAttribute("formAction")){if(E=I,J=I[sr]||null)he=J.formAction;else if(g5(E)!==null)continue}else he=J.action;typeof he=="function"?p[v+1]=he:(p.splice(v,3),v-=3),$E(p)}}}function y5(o){this._internalRoot=o}cy.prototype.render=y5.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var p=u.current,v=Bo();ME(p,v,o,u,null,null)},cy.prototype.unmount=y5.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;ME(o.current,2,null,o,null,null),Wb(),u[Mr]=null}};function cy(o){this._internalRoot=o}cy.prototype.unstable_scheduleHydration=function(o){if(o){var u=li();o={blockedOn:null,target:o,priority:u};for(var p=0;p<If.length&&u!==0&&u<If[p].priority;p++);If.splice(p,0,o),p===0&&BE(o)}};var HE=n.version;if(HE!=="19.1.1")throw Error(r(527,HE,"19.1.1"));X.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=c(u),o=o!==null?d(o):null,o=o===null?null:o.stateNode,o};var U9={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dy.isDisabled&&dy.supportsFiber)try{Me=dy.inject(U9),xe=dy}catch{}}return o1.createRoot=function(o,u){if(!i(o))throw Error(r(299));var p=!1,v="",E=sC,I=oC,J=lC,he=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(E=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(J=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(he=u.unstable_transitionCallbacks)),u=LE(o,1,!1,null,null,p,v,E,I,J,he,null),o[Mr]=u.current,e5(o),new y5(u)},o1.hydrateRoot=function(o,u,p){if(!i(o))throw Error(r(299));var v=!1,E="",I=sC,J=oC,he=lC,je=null,Xe=null;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onUncaughtError!==void 0&&(I=p.onUncaughtError),p.onCaughtError!==void 0&&(J=p.onCaughtError),p.onRecoverableError!==void 0&&(he=p.onRecoverableError),p.unstable_transitionCallbacks!==void 0&&(je=p.unstable_transitionCallbacks),p.formState!==void 0&&(Xe=p.formState)),u=LE(o,1,!0,u,p??null,v,E,I,J,he,je,Xe),u.context=RE(null),p=u.current,v=Bo(),v=xa(v),E=pt(v),E.callback=null,vt(p,E,v),p=v,u.current.lanes=p,ar(u,p),uc(u),o[Mr]=u.current,e5(o),new cy(u)},o1.version="19.1.1",o1}var ZE;function n3(){if(ZE)return x5.exports;ZE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),x5.exports=t3(),x5.exports}var r3=n3();const i3=ns(r3);typeof window<"u"&&(window.styled_default=Fc,window.styled=Fc);typeof globalThis<"u"&&(globalThis.styled_default=Fc,globalThis.styled=Fc);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ug.apply(this,arguments)}var Kh;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Kh||(Kh={}));const JE="popstate";function a3(e){e===void 0&&(e={});function n(r,i){let{pathname:a,search:s,hash:l}=r.location;return Ww("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:fT(i)}return o3(n,t,null,e)}function Bs(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function dT(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function s3(){return Math.random().toString(36).substr(2,8)}function e_(e,n){return{usr:e.state,key:e.key,idx:n}}function Ww(e,n,t,r){return t===void 0&&(t=null),ug({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?Fg(n):n,{state:t,key:n&&n.key||r||s3()})}function fT(e){let{pathname:n="/",search:t="",hash:r=""}=e;return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function Fg(e){let n={};if(e){let t=e.indexOf("#");t>=0&&(n.hash=e.substr(t),e=e.substr(0,t));let r=e.indexOf("?");r>=0&&(n.search=e.substr(r),e=e.substr(0,r)),e&&(n.pathname=e)}return n}function o3(e,n,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l=Kh.Pop,c=null,d=h();d==null&&(d=0,s.replaceState(ug({},s.state,{idx:d}),""));function h(){return(s.state||{idx:null}).idx}function g(){l=Kh.Pop;let A=h(),w=A==null?null:A-d;d=A,c&&c({action:l,location:y.location,delta:w})}function b(A,w){l=Kh.Push;let C=Ww(y.location,A,w);d=h()+1;let N=e_(C,d),F=y.createHref(C);try{s.pushState(N,"",F)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(F)}a&&c&&c({action:l,location:y.location,delta:1})}function m(A,w){l=Kh.Replace;let C=Ww(y.location,A,w);d=h();let N=e_(C,d),F=y.createHref(C);s.replaceState(N,"",F),a&&c&&c({action:l,location:y.location,delta:0})}function x(A){let w=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof A=="string"?A:fT(A);return C=C.replace(/ $/,"%20"),Bs(w,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,w)}let y={get action(){return l},get location(){return e(i,s)},listen(A){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(JE,g),c=A,()=>{i.removeEventListener(JE,g),c=null}},createHref(A){return n(i,A)},createURL:x,encodeLocation(A){let w=x(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:b,replace:m,go(A){return s.go(A)}};return y}var t_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(t_||(t_={}));function l3(e,n,t){return t===void 0&&(t="/"),u3(e,n,t)}function u3(e,n,t,r){let i=typeof n=="string"?Fg(n):n,a=mT(i.pathname||"/",t);if(a==null)return null;let s=hT(e);c3(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let d=S3(a);l=x3(s[c],d)}return l}function hT(e,n,t,r){n===void 0&&(n=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(a,s,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(Bs(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=tp([r,c.relativePath]),h=t.concat(c);a.children&&a.children.length>0&&(Bs(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),hT(a.children,n,h,d)),!(a.path==null&&!a.index)&&n.push({path:d,score:b3(d,a.index),routesMeta:h})};return e.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let c of pT(a.path))i(a,s,c)}),n}function pT(e){let n=e.split("/");if(n.length===0)return[];let[t,...r]=n,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=pT(r.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function c3(e){e.sort((n,t)=>n.score!==t.score?t.score-n.score:y3(n.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const d3=/^:[\w-]+$/,f3=3,h3=2,p3=1,m3=10,g3=-2,n_=e=>e==="*";function b3(e,n){let t=e.split("/"),r=t.length;return t.some(n_)&&(r+=g3),n&&(r+=h3),t.filter(i=>!n_(i)).reduce((i,a)=>i+(d3.test(a)?f3:a===""?p3:m3),r)}function y3(e,n){return e.length===n.length&&e.slice(0,-1).every((r,i)=>r===n[i])?e[e.length-1]-n[n.length-1]:0}function x3(e,n,t){let{routesMeta:r}=e,i={},a="/",s=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,h=a==="/"?n:n.slice(a.length)||"/",g=v3({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),b=c.route;if(!g)return null;Object.assign(i,g.params),s.push({params:i,pathname:tp([a,g.pathname]),pathnameBase:_3(tp([a,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(a=tp([a,g.pathnameBase]))}return s}function v3(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,r]=w3(e.path,e.caseSensitive,e.end),i=n.match(t);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,h,g)=>{let{paramName:b,isOptional:m}=h;if(b==="*"){let y=l[g]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const x=l[g];return m&&!x?d[b]=void 0:d[b]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:e}}function w3(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!0),dT(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),r]}function S3(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return dT(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),e}}function mT(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let t=n.endsWith("/")?n.length-1:n.length,r=e.charAt(t);return r&&r!=="/"?null:e.slice(t)||"/"}function A3(e,n){n===void 0&&(n="/");let{pathname:t,search:r="",hash:i=""}=typeof e=="string"?Fg(e):e;return{pathname:t?t.startsWith("/")?t:C3(t,n):n,search:k3(r),hash:j3(i)}}function C3(e,n){let t=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function S5(e,n,t,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function E3(e){return e.filter((n,t)=>t===0||n.route.path&&n.route.path.length>0)}function gT(e,n){let t=E3(e);return n?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function bT(e,n,t,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Fg(e):(i=ug({},e),Bs(!i.pathname||!i.pathname.includes("?"),S5("?","pathname","search",i)),Bs(!i.pathname||!i.pathname.includes("#"),S5("#","pathname","hash",i)),Bs(!i.search||!i.search.includes("#"),S5("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=t;else{let g=n.length-1;if(!r&&s.startsWith("..")){let b=s.split("/");for(;b[0]==="..";)b.shift(),g-=1;i.pathname=b.join("/")}l=g>=0?n[g]:"/"}let c=A3(i,l),d=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const tp=e=>e.join("/").replace(/\/\/+/g,"/"),_3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),k3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,j3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function N3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const yT=["post","put","patch","delete"];new Set(yT);const T3=["get",...yT];new Set(T3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ex.apply(this,arguments)}const j6=K.createContext(null),O3=K.createContext(null),Pg=K.createContext(null),N6=K.createContext(null),dh=K.createContext({outlet:null,matches:[],isDataRoute:!1}),xT=K.createContext(null);function zg(){return K.useContext(N6)!=null}function qg(){return zg()||Bs(!1),K.useContext(N6).location}function vT(e){K.useContext(Pg).static||K.useLayoutEffect(e)}function ea(){let{isDataRoute:e}=K.useContext(dh);return e?H3():I3()}function I3(){zg()||Bs(!1);let e=K.useContext(j6),{basename:n,future:t,navigator:r}=K.useContext(Pg),{matches:i}=K.useContext(dh),{pathname:a}=qg(),s=JSON.stringify(gT(i,t.v7_relativeSplatPath)),l=K.useRef(!1);return vT(()=>{l.current=!0}),K.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let g=bT(d,JSON.parse(s),a,h.relative==="path");e==null&&n!=="/"&&(g.pathname=g.pathname==="/"?n:tp([n,g.pathname])),(h.replace?r.replace:r.push)(g,h.state,h)},[n,r,s,a,e])}function T6(){let{matches:e}=K.useContext(dh),n=e[e.length-1];return n?n.params:{}}function D3(e,n){return L3(e)}function L3(e,n,t,r){zg()||Bs(!1);let{navigator:i}=K.useContext(Pg),{matches:a}=K.useContext(dh),s=a[a.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let d=qg(),h;h=d;let g=h.pathname||"/",b=g;if(c!=="/"){let y=c.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=l3(e,{pathname:b});return z3(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:tp([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:tp([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,t,r)}function R3(){let e=$3(),n=N3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},n),t?K.createElement("pre",{style:i},t):null,null)}const M3=K.createElement(R3,null);class F3 extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?K.createElement(dh.Provider,{value:this.props.routeContext},K.createElement(xT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function P3(e){let{routeContext:n,match:t,children:r}=e,i=K.useContext(j6);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(dh.Provider,{value:n},r)}function z3(e,n,t,r){var i;if(n===void 0&&(n=[]),t===void 0&&(t=null),r===void 0&&(r=null),e==null){var a;if(!t)return null;if(t.errors)e=t.matches;else if((a=r)!=null&&a.v7_partialHydration&&n.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let s=e,l=(i=t)==null?void 0:i.errors;if(l!=null){let h=s.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);h>=0||Bs(!1),s=s.slice(0,Math.min(s.length,h+1))}let c=!1,d=-1;if(t&&r&&r.v7_partialHydration)for(let h=0;h<s.length;h++){let g=s[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=h),g.route.id){let{loaderData:b,errors:m}=t,x=g.route.loader&&b[g.route.id]===void 0&&(!m||m[g.route.id]===void 0);if(g.route.lazy||x){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((h,g,b)=>{let m,x=!1,y=null,A=null;t&&(m=l&&g.route.id?l[g.route.id]:void 0,y=g.route.errorElement||M3,c&&(d<0&&b===0?(W3("route-fallback"),x=!0,A=null):d===b&&(x=!0,A=g.route.hydrateFallbackElement||null)));let w=n.concat(s.slice(0,b+1)),C=()=>{let N;return m?N=y:x?N=A:g.route.Component?N=K.createElement(g.route.Component,null):g.route.element?N=g.route.element:N=h,K.createElement(P3,{match:g,routeContext:{outlet:h,matches:w,isDataRoute:t!=null},children:N})};return t&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?K.createElement(F3,{location:t.location,revalidation:t.revalidation,component:y,error:m,children:C(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):C()},null)}var wT=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wT||{}),ST=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ST||{});function q3(e){let n=K.useContext(j6);return n||Bs(!1),n}function B3(e){let n=K.useContext(O3);return n||Bs(!1),n}function U3(e){let n=K.useContext(dh);return n||Bs(!1),n}function AT(e){let n=U3(),t=n.matches[n.matches.length-1];return t.route.id||Bs(!1),t.route.id}function $3(){var e;let n=K.useContext(xT),t=B3(),r=AT();return n!==void 0?n:(e=t.errors)==null?void 0:e[r]}function H3(){let{router:e}=q3(wT.UseNavigateStable),n=AT(ST.UseNavigateStable),t=K.useRef(!1);return vT(()=>{t.current=!0}),K.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ex({fromRouteId:n},a)))},[e,n])}const r_={};function W3(e,n,t){r_[e]||(r_[e]=!0)}function V3(e,n){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function CT(e){let{to:n,replace:t,state:r,relative:i}=e;zg()||Bs(!1);let{future:a,static:s}=K.useContext(Pg),{matches:l}=K.useContext(dh),{pathname:c}=qg(),d=ea(),h=bT(n,gT(l,a.v7_relativeSplatPath),c,i==="path"),g=JSON.stringify(h);return K.useEffect(()=>d(JSON.parse(g),{replace:t,state:r,relative:i}),[d,g,i,t,r]),null}function Y3(e){let{basename:n="/",children:t=null,location:r,navigationType:i=Kh.Pop,navigator:a,static:s=!1,future:l}=e;zg()&&Bs(!1);let c=n.replace(/^\/*/,"/"),d=K.useMemo(()=>({basename:c,navigator:a,static:s,future:Ex({v7_relativeSplatPath:!1},l)}),[c,l,a,s]);typeof r=="string"&&(r=Fg(r));let{pathname:h="/",search:g="",hash:b="",state:m=null,key:x="default"}=r,y=K.useMemo(()=>{let A=mT(h,c);return A==null?null:{location:{pathname:A,search:g,hash:b,state:m,key:x},navigationType:i}},[c,h,g,b,m,x,i]);return y==null?null:K.createElement(Pg.Provider,{value:d},K.createElement(N6.Provider,{children:t,value:y}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vw(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,t)=>{let r=e[t];return n.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function G3(e,n){let t=Vw(e);return n&&n.forEach((r,i)=>{t.has(i)||n.getAll(i).forEach(a=>{t.append(i,a)})}),t}const Q3="6";try{window.__reactRouterVersion=Q3}catch{}const K3="startTransition",i_=x6[K3];function X3(e){let{basename:n,children:t,future:r,window:i}=e,a=K.useRef();a.current==null&&(a.current=a3({window:i,v5Compat:!0}));let s=a.current,[l,c]=K.useState({action:s.action,location:s.location}),{v7_startTransition:d}=r||{},h=K.useCallback(g=>{d&&i_?i_(()=>c(g)):c(g)},[c,d]);return K.useLayoutEffect(()=>s.listen(h),[s,h]),K.useEffect(()=>V3(r),[r]),K.createElement(Y3,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:s,future:r})}var a_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(a_||(a_={}));var s_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(s_||(s_={}));function Bg(e){let n=K.useRef(Vw(e)),t=K.useRef(!1),r=qg(),i=K.useMemo(()=>G3(r.search,t.current?null:n.current),[r.search]),a=ea(),s=K.useCallback((l,c)=>{const d=Vw(typeof l=="function"?l(i):l);t.current=!0,a("?"+d,c)},[a,i]);return[i,s]}const Z3="modulepreload",J3=function(e){return"/nexlab/"+e},o_={},Li=function(n,t,r){let i=Promise.resolve();if(t&&t.length>0){let s=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=s(t.map(d=>{if(d=J3(d),d in o_)return;o_[d]=!0;const h=d.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const b=document.createElement("link");if(b.rel=h?"stylesheet":Z3,h||(b.as="script"),b.crossOrigin="",b.href=d,c&&b.setAttribute("nonce",c),document.head.appendChild(b),h)return new Promise((m,x)=>{b.addEventListener("load",m),b.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return n().catch(a)})};var Wo=(e=>(e.NETWORK="NETWORK",e.AUTHENTICATION="AUTHENTICATION",e.AUTHORIZATION="AUTHORIZATION",e.VALIDATION="VALIDATION",e.NOT_FOUND="NOT_FOUND",e.SERVER_ERROR="SERVER_ERROR",e.UNKNOWN="UNKNOWN",e))(Wo||{});const l_={"auth/user-not-found":{type:"AUTHENTICATION",message:"No user found with this email address."},"auth/wrong-password":{type:"AUTHENTICATION",message:"Incorrect password. Please try again."},"auth/user-disabled":{type:"AUTHORIZATION",message:"This account has been disabled. Please contact support."},"auth/too-many-requests":{type:"NETWORK",message:"Too many failed attempts. Please try again later."},"auth/network-request-failed":{type:"NETWORK",message:"Network error. Please check your connection and try again."},"permission-denied":{type:"AUTHORIZATION",message:"You do not have permission for this action."},"not-found":{type:"NOT_FOUND",message:"The requested resource was not found."},unavailable:{type:"NETWORK",message:"Service is temporarily unavailable. Please try again."}},Qh=class Qh{constructor(){Je(this,"errorQueue",[]);Je(this,"maxErrorQueueSize",50)}static getInstance(){return Qh.instance||(Qh.instance=new Qh),Qh.instance}handleError(n,t){const r=this.createAppError(n,t);return this.logError(r),this.queueError(r),r}createAppError(n,t){let r="UNKNOWN",i="An unexpected error occurred.";if(n!=null&&n.code&&l_[n.code]){const a=l_[n.code];r=a.type,i=a.message}else n!=null&&n.message&&(i=n.message,n.message.includes("network")||n.message.includes("fetch")?r="NETWORK":n.message.includes("unauthorized")||n.message.includes("permission")?r="AUTHORIZATION":n.message.includes("not found")?r="NOT_FOUND":n.message.includes("validation")&&(r="VALIDATION"));return{type:r,message:i,originalError:n instanceof Error?n:new Error(String(n)),context:{...t,userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString()},timestamp:new Date,userId:t==null?void 0:t.userId}}logError(n){const t=`[${n.type}] ${n.message}`,r={error:n.originalError,context:n.context,timestamp:n.timestamp};switch(n.type){case"NETWORK":case"NOT_FOUND":console.warn(t,r);break;case"AUTHENTICATION":case"AUTHORIZATION":case"VALIDATION":console.error(t,r);break;case"SERVER_ERROR":case"UNKNOWN":console.error(t,r);break}}queueError(n){this.errorQueue.push(n),this.errorQueue.length>this.maxErrorQueueSize&&this.errorQueue.shift()}getErrorQueue(){return[...this.errorQueue]}clearErrorQueue(){this.errorQueue=[]}getUserFriendlyMessage(n){return n.message}shouldRetry(n){return n.type==="NETWORK"}};Je(Qh,"instance");let cg=Qh;const u_=async(e,n)=>{try{return{data:await e()}}catch(t){return{error:cg.getInstance().handleError(t,n)}}},nhe=()=>{const e=cg.getInstance();return{handleError:(i,a)=>e.handleError(i,a),getUserFriendlyMessage:i=>e.getUserFriendlyMessage(i),shouldRetry:i=>e.shouldRetry(i)}};cg.getInstance();class eM{constructor(){Je(this,"auth",null);Je(this,"googleProvider",null)}initialize(){this.auth||(Li(()=>Promise.resolve().then(()=>np),void 0),this.auth=BR(),this.googleProvider=new UR)}async signInWithGoogle(n=!0){var r;this.initialize();const t=await u_(async()=>{const i=n?HR:WR;await VR(this.auth,i),this.googleProvider.setCustomParameters({});const a=await YR(this.auth,this.googleProvider);if(!a.user)throw new Error("No user returned from authentication");return a.user},{operation:"google_sign_in",keepSignedIn:n});if(t.error){const i=(r=t.error.originalError)==null?void 0:r.code;throw console.error("Google Auth Error:",{code:i,message:t.error.message,originalError:t.error.originalError}),i==="auth/popup-closed-by-user"?new Error("Sign-in was cancelled. Please try again and complete the sign-in process. If you only have one Google account logged in, try logging out and back in to your Google account."):i==="auth/popup-blocked"?new Error("Popup was blocked by your browser. Please allow popups for this site and try again."):i==="auth/network-request-failed"?new Error("Network error. Please check your internet connection and try again."):i==="auth/account-exists-with-different-credential"?new Error("An account already exists with this email address. Please use a different sign-in method."):t.error}return t.data}async signOut(){this.initialize();const n=await u_(async()=>{await GR(this.auth)},{operation:"sign_out"});if(n.error)throw n.error}onAuthStateChanged(n){return this.initialize(),$R(this.auth,n)}getCurrentUser(){return this.initialize(),this.auth.currentUser}getErrorMessage(n){return{"auth/network-request-failed":"Login Failed: Network error, please check your connection.","auth/popup-closed-by-user":"Login Failed: The sign-in popup was closed before completion.","auth/cancelled-popup-request":"Login Failed: Another sign-in request was made before the first one was completed.","auth/popup-blocked":"Login Failed: The sign-in popup was blocked by the browser. Please allow popups for this site.","auth/user-disabled":"Login Failed: This account has been disabled.","auth/user-not-found":"Login Failed: No account found with this email.","auth/wrong-password":"Login Failed: Incorrect password.","auth/too-many-requests":"Login Failed: Too many failed attempts. Please try again later."}[n]||"Login Failed: An unexpected error occurred."}}const ET=new eM;class tM{constructor(){Je(this,"db",null);Je(this,"publicCourseId");if(this.publicCourseId="rqoyheM9Lf8jGftIoZyT",!this.publicCourseId)throw new Error("Public course ID is not defined in environment variables.")}initialize(){this.db||(Li(()=>Promise.resolve().then(()=>np),void 0),this.db=Jn())}async getUserDetails(n){this.initialize();try{const t=xn(this.db,"users",n),r=await Oa(t);return r.exists()?{...r.data(),uid:n}:null}catch(t){throw console.error("Error fetching user details:",t),new Error("Failed to fetch user details")}}async createUserDocument(n){this.initialize();try{const t=await this.getPublicCourseInfo(),r=xn(this.db,"users",n.uid),i={isAdmin:!1,isSuperAdmin:!1,lastLogin:Kf(),classes:{[this.publicCourseId]:t}};return await uT(r,i),{uid:n.uid,isAdmin:!1,isSuperAdmin:!1,lastLogin:Kf(),classes:{[this.publicCourseId]:t}}}catch(t){throw console.error("Error creating user document:",t),new Error("Failed to create user document")}}async updateUserLogin(n){this.initialize();try{const t=xn(this.db,"users",n);await Wr(t,{lastLogin:Kf()})}catch(t){throw console.error("Error updating user login:",t),new Error("Failed to update user login")}}async refreshUserDetails(n){return this.getUserDetails(n)}subscribeToUserDetails(n,t){this.initialize();const r=xn(this.db,"users",n);return QR(r,i=>{if(i.exists()){const a=i.data();t({...a,uid:n})}else t(null)},i=>{console.error("Error in user details subscription:",i),t(null)})}async ensurePublicCourseAccess(n,t){this.initialize();try{if(t.classes&&t.classes[this.publicCourseId])return t;const r=await this.getPublicCourseInfo(),i=xn(this.db,"users",n);return await Wr(i,{[`classes.${this.publicCourseId}`]:r}),{...t,classes:{...t.classes||{},[this.publicCourseId]:r}}}catch(r){throw console.error("Error ensuring public course access:",r),new Error("Failed to ensure public course access")}}async getPublicCourseInfo(){this.initialize();try{const n=xn(this.db,"courses",this.publicCourseId),t=await Oa(n);if(!t.exists())throw new Error("Public course document does not exist in the courses collection!");const r=t.data();if(!r||!r.number||!r.title)throw new Error("Public course data is incomplete or invalid.");return{number:r.number,title:r.title,isCourseAdmin:!1}}catch(n){throw console.error("Error fetching public course info:",n),new Error("Failed to fetch public course information")}}}const s0=new tM,nM={apiKey:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",authDomain:"nexlab-prod.firebaseapp.com",projectId:"nexlab-prod",storageBucket:"nexlab-prod.firebasestorage.app",messagingSenderId:"922352392986",appId:"1:922352392986:web:6c4d6e16b5e615bd4daaa3"},O6=KR(nM),_T=Jn(O6),rM=ch(O6),np=Object.freeze(Object.defineProperty({__proto__:null,app:O6,db:_T,storage:rM},Symbol.toStringTag,{value:"Module"})),kT=K.createContext(void 0),iM=({children:e})=>{const[n,t]=K.useState(null),[r,i]=K.useState(null),[a,s]=K.useState(!1),[l,c]=K.useState(!0),[d,h]=K.useState(null),g=K.useRef(null);K.useEffect(()=>{const m=ET.onAuthStateChanged(async x=>{c(!0),h(null),g.current&&(g.current(),g.current=null);try{if(x){console.log("User is signed in with UID:",x.uid);let y=await s0.getUserDetails(x.uid);y?(await s0.updateUserLogin(x.uid),y=await s0.ensurePublicCourseAccess(x.uid,y)):(console.log("User document does not exist. Creating a new one..."),y=await s0.createUserDocument(x)),i(y),s(y.isSuperAdmin||!1);const A=s0.subscribeToUserDetails(x.uid,w=>{console.log("[UserContext] User details updated in real-time:",{uid:w==null?void 0:w.uid,classesCount:w!=null&&w.classes?Object.keys(w.classes).length:0,classes:w!=null&&w.classes?Object.keys(w.classes):[],timestamp:new Date().toISOString()}),w&&(i(w),s(w.isSuperAdmin||!1))});g.current=A}else i(null),s(!1);t(x)}catch(y){console.error("Error managing user authentication:",y),h(y instanceof Error?y:new Error("Failed to manage user authentication")),t(null),i(null),s(!1)}finally{c(!1)}});return()=>{m(),g.current&&(g.current(),g.current=null)}},[]);const b=async()=>{if(!n){console.warn("No user signed in, cannot refresh user details");return}try{const m=await s0.refreshUserDetails(n.uid);m?(i(m),s(m.isSuperAdmin||!1)):(console.error("User document does not exist. Unable to refresh user details."),h(new Error("User document not found")))}catch(m){console.error("Error refreshing user details:",m),h(m instanceof Error?m:new Error("Failed to refresh user details"))}};return f.jsx(kT.Provider,{value:{user:n,userDetails:r,setUserDetails:i,refreshUserDetails:b,loading:l,error:d,isSuperAdmin:a},children:e})},Ai=()=>{const e=K.useContext(kT);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e},Js=({element:e})=>{const{userDetails:n,loading:t}=Ai();return t?f.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Gr,{})}):n?f.jsx(e,{}):f.jsx(CT,{to:"/"})};let sv=class extends K.Component{constructor(){super(...arguments);Je(this,"state",{hasError:!1})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:f.jsx(me,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"50vh",p:4},children:f.jsxs(fn,{elevation:2,sx:{p:4,textAlign:"center",maxWidth:500,width:"100%"},children:[f.jsx(de,{variant:"h5",color:"error",gutterBottom:!0,children:"Something went wrong"}),f.jsx(de,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"An error occurred while loading this component. Please try refreshing the page."}),f.jsx(At,{variant:"contained",startIcon:f.jsx(VN,{}),onClick:()=>window.location.reload(),children:"Refresh Page"})]})}):this.props.children}};var l1={},A5={};const aM=qR(V9);var c_;function Yd(){return c_||(c_=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=aM}(A5)),A5}var d_;function sM(){if(d_)return l1;d_=1;var e=Wd();Object.defineProperty(l1,"__esModule",{value:!0}),l1.default=void 0;var n=e(Yd()),t=Vd();return l1.default=(0,n.default)((0,t.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline"),l1}var oM=sM();const lM=ns(oM);var u1={},f_;function uM(){if(f_)return u1;f_=1;var e=Wd();Object.defineProperty(u1,"__esModule",{value:!0}),u1.default=void 0;var n=e(Yd()),t=Vd();return u1.default=(0,n.default)((0,t.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),u1}var cM=uM();const dM=ns(cM);var c1={},h_;function fM(){if(h_)return c1;h_=1;var e=Wd();Object.defineProperty(c1,"__esModule",{value:!0}),c1.default=void 0;var n=e(Yd()),t=Vd();return c1.default=(0,n.default)((0,t.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),c1}var hM=fM();const jT=ns(hM),pM=()=>{const e=ea();return f.jsxs(fn,{elevation:3,sx:{p:4,m:4,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0",maxWidth:600,mx:"auto",mt:8},children:[f.jsx(lM,{color:"error",sx:{fontSize:64,mb:2}}),f.jsx(de,{variant:"h4",gutterBottom:!0,color:"error",children:"Page Error"}),f.jsx(de,{variant:"body1",sx:{mb:4,color:"text.secondary"},children:"This page encountered an error and cannot be displayed. You can try going back to the previous page or return to the home page."}),f.jsxs(me,{sx:{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[f.jsx(At,{variant:"contained",color:"primary",startIcon:f.jsx(dM,{}),onClick:()=>e("/"),children:"Go to Home"}),f.jsx(At,{variant:"outlined",color:"primary",startIcon:f.jsx(jT,{}),onClick:()=>e(-1),children:"Go Back"}),f.jsx(At,{variant:"outlined",color:"secondary",onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})},NT=({children:e,showDetails:n})=>f.jsx(sv,{fallback:f.jsx(pM,{}),children:e}),Ue={primary:{50:"#F0F4FF",100:"#E0ECFF",200:"#CDDAFF",300:"#9BB5FF",500:"#0B53C0",600:"#0841A0",700:"#062F80"},secondary:{50:"#F0FDF4",100:"#DCFCE7",300:"#86EFAC",500:"#22C55E",600:"#16A34A",700:"#15803D"},neutral:{50:"#FAFAFA",100:"#F5F5F5",200:"#E5E5E5",300:"#D4D4D4",400:"#A3A3A3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717"},success:"#22C55E",warning:"#F59E0B",error:"#EF4444",info:"#3B82F6",background:{primary:"#FFFFFF",secondary:"#F8FAFC",elevated:"#FFFFFF"},surface:{primary:"#FFFFFF",elevated:"#FFFFFF"},text:{primary:"#0F172A",secondary:"#475569",tertiary:"#64748B",disabled:"#94A3B8",inverse:"#FFFFFF"}},at={fontFamily:{primary:["Inter","system-ui","sans-serif"].join(","),secondary:["Gabarito","system-ui","sans-serif"].join(","),display:["Staatliches","system-ui","sans-serif"].join(",")},fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem"},fontWeight:{normal:400,medium:500,semibold:600,bold:700},lineHeight:{tight:1.25,snug:1.375,normal:1.5,relaxed:1.625}},Jt={1:"0.25rem",2:"0.5rem",3:"0.75rem",4:"1rem",5:"1.25rem",6:"1.5rem",8:"2rem"},Zt={lg:"0.5rem",xl:"0.75rem","2xl":"1rem",full:"9999px"},on={sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",base:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)"},bo={transitions:{fast:"all 150ms cubic-bezier(0.4, 0, 0.2, 1)",normal:"all 300ms cubic-bezier(0.4, 0, 0.2, 1)"}},mM={width:"320px",minWidth:"320px",maxWidth:"320px",backgroundColor:Ue.background.secondary,borderRight:`1px solid ${Ue.neutral[200]}`},TT=()=>({palette:{primary:{main:Ue.primary[500],light:Ue.primary[300],dark:Ue.primary[700],contrastText:Ue.text.inverse},secondary:{main:Ue.secondary[500],light:Ue.secondary[300],dark:Ue.secondary[700],contrastText:Ue.text.inverse},error:{main:Ue.error,light:"#FEE2E2",dark:"#DC2626"},warning:{main:Ue.warning,light:"#FEF3C7",dark:"#D97706"},info:{main:Ue.info,light:"#DBEAFE",dark:"#2563EB"},success:{main:Ue.success,light:"#D1FAE5",dark:"#059669"},background:{default:Ue.background.primary,paper:Ue.surface.primary},text:{primary:Ue.text.primary,secondary:Ue.text.secondary,disabled:Ue.text.disabled},grey:{50:Ue.neutral[50],100:Ue.neutral[100],200:Ue.neutral[200],300:Ue.neutral[300],400:Ue.neutral[400],500:Ue.neutral[500],600:Ue.neutral[600],700:Ue.neutral[700],800:Ue.neutral[800],900:Ue.neutral[900]}},typography:{fontFamily:at.fontFamily.primary,h1:{fontFamily:at.fontFamily.display,fontSize:at.fontSize["5xl"],fontWeight:at.fontWeight.bold,lineHeight:at.lineHeight.tight,color:Ue.text.primary},h2:{fontFamily:at.fontFamily.display,fontSize:at.fontSize["4xl"],fontWeight:at.fontWeight.bold,lineHeight:at.lineHeight.tight,color:Ue.text.primary},h3:{fontFamily:at.fontFamily.display,fontSize:at.fontSize["3xl"],fontWeight:at.fontWeight.bold,lineHeight:at.lineHeight.snug,color:Ue.text.primary},h4:{fontFamily:at.fontFamily.display,fontSize:at.fontSize["2xl"],fontWeight:at.fontWeight.semibold,lineHeight:at.lineHeight.snug,color:Ue.text.primary},h5:{fontFamily:at.fontFamily.secondary,fontSize:at.fontSize.xl,fontWeight:at.fontWeight.semibold,lineHeight:at.lineHeight.normal,color:Ue.text.primary},h6:{fontFamily:at.fontFamily.secondary,fontSize:at.fontSize.lg,fontWeight:at.fontWeight.semibold,lineHeight:at.lineHeight.normal,color:Ue.text.primary},body1:{fontFamily:at.fontFamily.primary,fontSize:at.fontSize.base,fontWeight:at.fontWeight.normal,lineHeight:at.lineHeight.normal,color:Ue.text.primary},body2:{fontFamily:at.fontFamily.primary,fontSize:at.fontSize.sm,fontWeight:at.fontWeight.normal,lineHeight:at.lineHeight.normal,color:Ue.text.secondary},button:{fontFamily:at.fontFamily.secondary,fontSize:at.fontSize.base,fontWeight:at.fontWeight.semibold,textTransform:"none"}},shape:{borderRadius:12},shadows:["none",on.sm,on.base,on.md,on.lg,on.xl,on["2xl"],on["2xl"],on["2xl"],on["2xl"],on["2xl"],on["2xl"],on["2xl"],on["2xl"],on["2xl"],on["2xl"],on["2xl"],on["2xl"],on["2xl"],on["2xl"],on["2xl"],on["2xl"],on["2xl"],on["2xl"],on["2xl"]],components:{MuiButton:{styleOverrides:{root:{borderRadius:Zt.xl,padding:`${Jt[3]} ${Jt[6]}`,fontWeight:at.fontWeight.semibold,textTransform:"none",transition:bo.transitions.fast,boxShadow:"none","&:hover":{boxShadow:on.md,transform:"none !important"}},contained:{backgroundColor:Ue.primary[500],"&:hover":{backgroundColor:Ue.primary[600]}},outlined:{borderColor:Ue.primary[500],color:Ue.primary[500],"&:hover":{backgroundColor:Ue.primary[50],borderColor:Ue.primary[600]}}}},MuiCard:{styleOverrides:{root:{borderRadius:Zt.lg,boxShadow:on.md,border:`1px solid ${Ue.neutral[200]}`,transition:bo.transitions.fast,"&:hover":{boxShadow:on.lg,transform:"translateY(-2px)"}}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:Zt.lg,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:Ue.primary[300]},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:Ue.primary[500],borderWidth:2}}}}},MuiChip:{styleOverrides:{root:{borderRadius:Zt.full,fontWeight:at.fontWeight.medium}}},MuiTabs:{styleOverrides:{root:{backgroundColor:Ue.background.secondary,borderRadius:Zt.lg,padding:Jt[2],"& .MuiTabs-indicator":{display:"none"}}}},MuiTab:{styleOverrides:{root:{borderRadius:Zt.lg,fontWeight:at.fontWeight.semibold,textTransform:"none",transition:bo.transitions.fast,"&.Mui-selected":{backgroundColor:Ue.primary[500],color:Ue.text.inverse,boxShadow:on.sm},"&:not(.Mui-selected)":{backgroundColor:Ue.primary[100],color:Ue.primary[700],"&:hover":{backgroundColor:Ue.primary[200],transform:"none"}}}}}}}),gM=TT(),ht=YN(gM);var d1={},p_;function bM(){if(p_)return d1;p_=1;var e=Wd();Object.defineProperty(d1,"__esModule",{value:!0}),d1.default=void 0;var n=e(Yd()),t=Vd();return d1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),d1}var yM=bM();const xM=ns(yM),m_=e=>{let n;const t=new Set,r=(d,h)=>{const g=typeof d=="function"?d(n):d;if(!Object.is(g,n)){const b=n;n=h??(typeof g!="object"||g===null)?g:Object.assign({},n,g),t.forEach(m=>m(n,b))}},i=()=>n,l={setState:r,getState:i,getInitialState:()=>c,subscribe:d=>(t.add(d),()=>t.delete(d))},c=n=e(r,i,l);return l},vM=e=>e?m_(e):m_,wM=e=>e;function SM(e,n=wM){const t=it.useSyncExternalStore(e.subscribe,()=>n(e.getState()),()=>n(e.getInitialState()));return it.useDebugValue(t),t}const g_=e=>{const n=vM(e),t=r=>SM(n,r);return Object.assign(t,n),t},xp=e=>e?g_(e):g_,AM=()=>Math.random().toString(36).substr(2,9),CM=e=>{switch(e){case Wo.NETWORK:return"";case Wo.AUTHENTICATION:return"";case Wo.AUTHORIZATION:return"";case Wo.VALIDATION:return"";case Wo.NOT_FOUND:return"";case Wo.SERVER_ERROR:return"";default:return""}},EM=e=>{switch(e){case Wo.NETWORK:return 8e3;case Wo.AUTHENTICATION:case Wo.AUTHORIZATION:return 1e4;case Wo.VALIDATION:return 6e3;case Wo.NOT_FOUND:return 5e3;default:return 7e3}},_M=xp((e,n)=>({notifications:[],addNotification:t=>{const r={...t,id:AM(),timestamp:new Date,duration:t.duration??5e3};e(i=>({notifications:[...i.notifications,r]})),r.duration>0&&setTimeout(()=>{n().removeNotification(r.id)},r.duration)},removeNotification:t=>{e(r=>({notifications:r.notifications.filter(i=>i.id!==t)}))},clearAll:()=>{e({notifications:[]})},showError:(t,r)=>{const i=CM(t.type),a=EM(t.type),s=[];t.type===Wo.NETWORK&&s.push({label:"Retry",action:()=>{console.log("Retry requested for:",t)},primary:!0}),n().addNotification({type:"error",title:`${i} ${t.type.replace("_"," ")} Error`,message:t.message,duration:a,actions:r||s,error:t})},showSuccess:(t,r)=>{n().addNotification({type:"success",title:r||" Success",message:t,duration:4e3})},showWarning:(t,r)=>{n().addNotification({type:"warning",title:r||" Warning",message:t,duration:6e3})},showInfo:(t,r)=>{n().addNotification({type:"info",title:r||" Info",message:t,duration:5e3})}})),kM=()=>{const{notifications:e,removeNotification:n}=_M();return e.length===0?null:f.jsx(me,{sx:{position:"fixed",top:16,right:16,zIndex:9999,maxWidth:400,display:"flex",flexDirection:"column",gap:1},children:e.map(t=>f.jsx(sg,{in:!0,timeout:300,children:f.jsx(fn,{elevation:6,children:f.jsxs(vr,{severity:t.type,sx:{width:"100%","& .MuiAlert-action":{alignItems:"flex-start",padding:"4px 0 0 16px"}},action:f.jsx(Cn,{size:"small",onClick:()=>n(t.id),sx:{color:"inherit"},children:f.jsx(xM,{fontSize:"small"})}),children:[t.title&&f.jsx(Y9,{sx:{fontWeight:"bold",mb:.5},children:t.title}),t.message,t.actions&&t.actions.length>0&&f.jsx(me,{sx:{mt:1.5,display:"flex",gap:1,flexWrap:"wrap"},children:t.actions.map((r,i)=>f.jsx(At,{size:"small",variant:r.primary?"contained":"outlined",color:t.type==="error"?"error":"primary",onClick:()=>{r.action(),n(t.id)},sx:{minWidth:"auto",fontSize:"0.75rem",padding:"2px 8px"},children:r.label},i))})]})})},t.id))})},Pl=({title:e,subtitle:n})=>{const t=GN(),r=wx(t.breakpoints.down("md"));return f.jsxs(me,{sx:{p:r?Jt[4]:Jt[6],backgroundColor:Ue.primary[100],borderRadius:Zt["2xl"],mb:Jt[6],border:`1px solid ${Ue.primary[200]}`,boxShadow:on.sm},children:[f.jsx(de,{variant:"h2",sx:{fontFamily:at.fontFamily.display,fontSize:r?at.fontSize["3xl"]:at.fontSize["5xl"],fontWeight:at.fontWeight.bold,color:Ue.primary[700],lineHeight:at.lineHeight.tight,mb:n?Jt[2]:0},children:e}),n&&f.jsx(de,{variant:"body1",sx:{fontFamily:at.fontFamily.primary,fontSize:r?at.fontSize.base:at.fontSize.lg,color:Ue.text.secondary,lineHeight:at.lineHeight.relaxed},children:n})]})},jM=()=>{const{userDetails:e}=Ai(),n=ea(),t=e&&!e.isAdmin&&(!e.classes||Object.keys(e.classes).length===0),r=[{title:"My Account",description:"Manage your profile and account settings",icon:f.jsx(Bw,{sx:{fontSize:40}}),path:"/my-profile",color:Ue.primary[500],disabled:!1,external:!1},{title:"Messages",description:"View and manage course messages",icon:f.jsx(QN,{sx:{fontSize:40}}),path:"/messages",color:Ue.secondary[500],disabled:!1,external:!1}],i=[{title:"Course Materials",description:"View and manage course materials",icon:f.jsx(Pd,{sx:{fontSize:40}}),path:"/supplemental-materials",color:Ue.error,disabled:!1,external:!1},{title:"Laboratory Notebook",description:"Access your lab experiments and designs",icon:f.jsx(v6,{sx:{fontSize:40}}),path:"/laboratory-notebooks",color:Ue.success,disabled:t,external:!1}];return f.jsxs(me,{className:"profile-container",children:[f.jsx(Pl,{title:"Welcome!"}),f.jsxs(me,{sx:{mb:Jt[6],p:Jt[4],backgroundColor:Ue.background.secondary,borderRadius:Zt.xl,border:`1px solid ${Ue.neutral[200]}`,boxShadow:on.sm,position:"relative",mt:Jt[8]},children:[f.jsx(me,{sx:{position:"absolute",top:"-25px",left:"40px",backgroundColor:Ue.warning,borderRadius:`${Zt.lg} ${Zt.lg} 0 0`,px:Jt[3],py:Jt[1],zIndex:1},children:f.jsx(de,{sx:{color:Ue.text.inverse,fontFamily:at.fontFamily.display,fontSize:"2rem",fontWeight:at.fontWeight.bold,whiteSpace:"nowrap",lineHeight:1},children:"Getting Started"})}),f.jsxs(xt,{container:!0,spacing:Jt[4],sx:{mt:Jt[3],mb:Jt[4]},children:[f.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(me,{sx:{height:"100%",p:Jt[3],backgroundColor:Ue.background.primary,borderRadius:Zt.lg,border:`1px solid ${Ue.neutral[200]}`,boxShadow:on.sm},children:[f.jsx(de,{variant:"h6",component:"h3",sx:{fontFamily:at.fontFamily.display,fontSize:"2rem",fontWeight:at.fontWeight.bold,color:Ue.text.primary,mb:Jt[3],textAlign:"left"},children:"What is NexLAB?"}),f.jsx(de,{variant:"body1",paragraph:!0,sx:{fontFamily:at.fontFamily.secondary,fontSize:at.fontSize.lg,color:Ue.text.secondary,lineHeight:1.6,textAlign:"left"},children:"NexLAB enhances the Antibody Engineering curriculum with an adaptive content management platform designed for educators, students, and researchers."})]})}),f.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(me,{sx:{height:"100%",p:Jt[3],backgroundColor:Ue.background.primary,borderRadius:Zt.lg,border:`1px solid ${Ue.neutral[200]}`,boxShadow:on.sm},children:[f.jsx(de,{variant:"h6",component:"h3",sx:{fontFamily:at.fontFamily.display,fontSize:"2rem",fontWeight:at.fontWeight.bold,color:Ue.text.primary,mb:Jt[3],textAlign:"left"},children:"Key Features:"}),f.jsxs(me,{component:"ul",sx:{pl:Jt[3],"& li":{fontFamily:at.fontFamily.secondary,fontSize:at.fontSize.lg,color:Ue.text.secondary,lineHeight:1.5,mb:Jt[1]}},children:[f.jsx("li",{children:"Electronic Laboratory Notebook using the Design-Build-Test framework"}),f.jsx("li",{children:"Platform for creating and sharing learning materials"}),f.jsx("li",{children:"Student progress tracking and class content efficacy analysis"}),f.jsx("li",{children:"Quiz AI & Chatbot Tools to support interactive learning"})]})]})}),f.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:f.jsx(Xa,{sx:{height:"100%",cursor:"pointer",backgroundColor:Ue.background.primary,borderRadius:Zt.xl,border:`1px solid ${Ue.neutral[200]}`,boxShadow:on.sm,transition:bo.transitions.normal,"&:hover":{transform:"translateY(-8px)",boxShadow:on.xl,border:`1px solid ${Ue.warning}`}},onClick:()=>window.open("http://localhost:3002/view-material/xsA42JCvfCUtmyoyx45s?material=xsA42JCvfCUtmyoyx45s","_blank"),children:f.jsxs(Za,{sx:{textAlign:"center",p:Jt[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[f.jsx(me,{sx:{color:Ue.warning,mb:Jt[3],display:"flex",justifyContent:"center"},children:f.jsx(G9,{sx:{fontSize:40}})}),f.jsxs(me,{sx:{flex:1},children:[f.jsx(de,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:at.fontWeight.bold,fontFamily:at.fontFamily.display,fontSize:"2rem",color:Ue.text.primary,mb:Jt[2]},children:"Quick-Start Guide"}),f.jsx(de,{variant:"body2",sx:{color:Ue.text.secondary,fontFamily:at.fontFamily.secondary,fontSize:at.fontSize.lg,lineHeight:1.5},children:"Get started with public course materials and learn the basics"})]})]})})}),f.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:f.jsx(Xa,{sx:{height:"100%",cursor:"pointer",backgroundColor:Ue.background.primary,borderRadius:Zt.xl,border:`1px solid ${Ue.neutral[200]}`,boxShadow:on.sm,transition:bo.transitions.normal,"&:hover":{transform:"translateY(-8px)",boxShadow:on.xl,border:`1px solid ${Ue.primary[500]}`}},onClick:()=>window.open("https://www.loom.com/share/f3ca701c66d34f84a13eb7ec12b0c6ec","_blank"),children:f.jsxs(Za,{sx:{textAlign:"center",p:Jt[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[f.jsx(me,{sx:{color:Ue.primary[500],mb:Jt[3],display:"flex",justifyContent:"center"},children:f.jsx(Q9,{sx:{fontSize:40}})}),f.jsxs(me,{sx:{flex:1},children:[f.jsx(de,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:at.fontWeight.bold,fontFamily:at.fontFamily.display,fontSize:"2rem",color:Ue.text.primary,mb:Jt[2]},children:"Tutorial"}),f.jsx(de,{variant:"body2",sx:{color:Ue.text.secondary,fontFamily:at.fontFamily.secondary,fontSize:at.fontSize.lg,lineHeight:1.5},children:"Watch our introduction video to learn how to use NexLAB"})]})]})})})]})]}),f.jsxs(me,{sx:{mb:Jt[6],p:Jt[4],backgroundColor:Ue.background.secondary,borderRadius:Zt.xl,border:`1px solid ${Ue.neutral[200]}`,boxShadow:on.sm,position:"relative",mt:Jt[8]},children:[f.jsx(me,{sx:{position:"absolute",top:"-25px",left:"40px",backgroundColor:Ue.primary[500],borderRadius:`${Zt.lg} ${Zt.lg} 0 0`,px:Jt[3],py:Jt[1],zIndex:1},children:f.jsx(de,{sx:{color:Ue.text.inverse,fontFamily:at.fontFamily.display,fontSize:"2rem",fontWeight:at.fontWeight.bold,whiteSpace:"nowrap",lineHeight:1},children:"Quick Actions"})}),f.jsx(xt,{container:!0,spacing:Jt[4],sx:{mb:Jt[4],mt:Jt[3]},children:r.map((a,s)=>f.jsx(xt,{item:!0,xs:12,sm:6,md:6,children:f.jsx(Xa,{sx:{height:"100%",cursor:a.disabled?"not-allowed":"pointer",opacity:a.disabled?.6:1,backgroundColor:Ue.background.primary,borderRadius:Zt.xl,border:`1px solid ${Ue.neutral[200]}`,boxShadow:on.sm,transition:bo.transitions.normal,"&:hover":a.disabled?{}:{transform:"translateY(-8px)",boxShadow:on.xl,border:`1px solid ${a.color}`}},onClick:()=>{a.disabled||(a.external?window.open(a.path,"_blank"):n(a.path))},children:f.jsxs(Za,{sx:{textAlign:"center",p:Jt[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[f.jsx(me,{sx:{color:a.color,mb:Jt[3],display:"flex",justifyContent:"center"},children:a.icon}),f.jsxs(me,{sx:{flex:1},children:[f.jsx(de,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:at.fontWeight.bold,fontFamily:at.fontFamily.display,fontSize:"2rem",color:Ue.text.primary,mb:Jt[2]},children:a.title}),f.jsx(de,{variant:"body2",sx:{color:Ue.text.secondary,fontFamily:at.fontFamily.secondary,fontSize:at.fontSize.lg,lineHeight:1.5},children:a.description}),a.disabled&&f.jsx(de,{variant:"caption",sx:{mt:Jt[2],display:"block",color:Ue.error,fontFamily:at.fontFamily.secondary},children:"Enroll in a course to access this feature"})]})]})})},s))}),f.jsx(xt,{container:!0,spacing:Jt[4],children:i.map((a,s)=>f.jsx(xt,{item:!0,xs:12,sm:6,md:6,children:f.jsx(Xa,{sx:{height:"100%",cursor:a.disabled?"not-allowed":"pointer",opacity:a.disabled?.6:1,backgroundColor:Ue.background.primary,borderRadius:Zt.xl,border:`1px solid ${Ue.neutral[200]}`,boxShadow:on.sm,transition:bo.transitions.normal,"&:hover":a.disabled?{}:{transform:"translateY(-8px)",boxShadow:on.xl,border:`1px solid ${a.color}`}},onClick:()=>{a.disabled||(a.external?window.open(a.path,"_blank"):n(a.path))},children:f.jsxs(Za,{sx:{textAlign:"center",p:Jt[4],height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[f.jsx(me,{sx:{color:a.color,mb:Jt[3],display:"flex",justifyContent:"center"},children:a.icon}),f.jsxs(me,{sx:{flex:1},children:[f.jsx(de,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:at.fontWeight.bold,fontFamily:at.fontFamily.display,fontSize:"2rem",color:Ue.text.primary,mb:Jt[2]},children:a.title}),f.jsx(de,{variant:"body2",sx:{color:Ue.text.secondary,fontFamily:at.fontFamily.secondary,fontSize:at.fontSize.lg,lineHeight:1.5},children:a.description}),a.disabled&&f.jsx(de,{variant:"caption",sx:{mt:Jt[2],display:"block",color:Ue.error,fontFamily:at.fontFamily.secondary},children:"Enroll in a course to access this feature"})]})]})})},s))})]}),!(e!=null&&e.isAdmin)&&f.jsxs(me,{sx:{mt:Jt[6],p:Jt[4],backgroundColor:Ue.background.secondary,borderRadius:Zt.xl,border:`1px solid ${Ue.neutral[200]}`,boxShadow:on.sm},children:[f.jsx(de,{variant:"h5",gutterBottom:!0,sx:{fontFamily:at.fontFamily.display,fontSize:at.fontSize.xl,fontWeight:at.fontWeight.bold,color:Ue.text.primary,mb:Jt[3]},children:"Getting Started"}),f.jsx(de,{variant:"body1",paragraph:!0,sx:{fontFamily:at.fontFamily.secondary,fontSize:at.fontSize.base,color:Ue.text.secondary,lineHeight:1.6,mb:Jt[4]},children:`Welcome to NexLab! To get started, you'll need to enroll in a course. Use the "My Account" section to add course access codes provided by your instructor.`}),f.jsx(At,{variant:"contained",onClick:()=>n("/my-profile"),startIcon:f.jsx(Bw,{}),sx:{backgroundColor:Ue.primary[500],color:Ue.text.inverse,fontFamily:at.fontFamily.secondary,fontSize:at.fontSize.base,fontWeight:at.fontWeight.medium,borderRadius:Zt.lg,px:Jt[4],py:Jt[2],"&:hover":{backgroundColor:Ue.primary[600]}},children:"Go to My Account"})]})]})};let fy;const NM=new Uint8Array(16);function TM(){if(!fy&&(fy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!fy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fy(NM)}const hs=[];for(let e=0;e<256;++e)hs.push((e+256).toString(16).slice(1));function OM(e,n=0){return hs[e[n+0]]+hs[e[n+1]]+hs[e[n+2]]+hs[e[n+3]]+"-"+hs[e[n+4]]+hs[e[n+5]]+"-"+hs[e[n+6]]+hs[e[n+7]]+"-"+hs[e[n+8]]+hs[e[n+9]]+"-"+hs[e[n+10]]+hs[e[n+11]]+hs[e[n+12]]+hs[e[n+13]]+hs[e[n+14]]+hs[e[n+15]]}const IM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),b_={randomUUID:IM};function Ri(e,n,t){if(b_.randomUUID&&!e)return b_.randomUUID();e=e||{};const r=e.random||(e.rng||TM)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,OM(r)}const y_={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},dg=new Map,hy=e=>{const n=dg.get(e);return n?Object.fromEntries(Object.entries(n.stores).map(([t,r])=>[t,r.getState()])):{}},DM=(e,n,t)=>{if(e===void 0)return{type:"untracked",connection:n.connect(t)};const r=dg.get(t.name);if(r)return{type:"tracked",store:e,...r};const i={connection:n.connect(t),stores:{}};return dg.set(t.name,i),{type:"tracked",store:e,...i}},LM=(e,n)=>{if(n===void 0)return;const t=dg.get(e);t&&(delete t.stores[n],Object.keys(t.stores).length===0&&dg.delete(e))},RM=e=>{var n,t;if(!e)return;const r=e.split(`
`),i=r.findIndex(s=>s.includes("api.setState"));if(i<0)return;const a=((n=r[i+1])==null?void 0:n.trim())||"";return(t=/.+ (.+) .+/.exec(a))==null?void 0:t[1]},MM=(e,n={})=>(t,r,i)=>{const{enabled:a,anonymousActionType:s,store:l,...c}=n;let d;try{d=(a??(y_?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return e(t,r,i);const{connection:h,...g}=DM(l,d,c);let b=!0;i.setState=(y,A,w)=>{const C=t(y,A);if(!b)return C;const N=w===void 0?{type:s||RM(new Error().stack)||"anonymous"}:typeof w=="string"?{type:w}:w;return l===void 0?(h==null||h.send(N,r()),C):(h==null||h.send({...N,type:`${l}/${N.type}`},{...hy(c.name),[l]:i.getState()}),C)},i.devtools={cleanup:()=>{h&&typeof h.unsubscribe=="function"&&h.unsubscribe(),LM(c.name,l)}};const m=(...y)=>{const A=b;b=!1,t(...y),b=A},x=e(i.setState,r,i);if(g.type==="untracked"?h==null||h.init(x):(g.stores[g.store]=i,h==null||h.init(Object.fromEntries(Object.entries(g.stores).map(([y,A])=>[y,y===g.store?x:A.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let y=!1;const A=i.dispatch;i.dispatch=(...w)=>{(y_?"production":void 0)!=="production"&&w[0].type==="__setState"&&!y&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),y=!0),A(...w)}}return h.subscribe(y=>{var A;switch(y.type){case"ACTION":if(typeof y.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return C5(y.payload,w=>{if(w.type==="__setState"){if(l===void 0){m(w.state);return}Object.keys(w.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const C=w.state[l];if(C==null)return;JSON.stringify(i.getState())!==JSON.stringify(C)&&m(C);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(w)});case"DISPATCH":switch(y.payload.type){case"RESET":return m(x),l===void 0?h==null?void 0:h.init(i.getState()):h==null?void 0:h.init(hy(c.name));case"COMMIT":if(l===void 0){h==null||h.init(i.getState());return}return h==null?void 0:h.init(hy(c.name));case"ROLLBACK":return C5(y.state,w=>{if(l===void 0){m(w),h==null||h.init(i.getState());return}m(w[l]),h==null||h.init(hy(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return C5(y.state,w=>{if(l===void 0){m(w);return}JSON.stringify(i.getState())!==JSON.stringify(w[l])&&m(w[l])});case"IMPORT_STATE":{const{nextLiftedState:w}=y.payload,C=(A=w.computedStates.slice(-1)[0])==null?void 0:A.state;if(!C)return;m(l===void 0?C:C[l]),h==null||h.send(null,w);return}case"PAUSE_RECORDING":return b=!b}return}}),x},Ug=MM,C5=(e,n)=>{let t;try{t=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}t!==void 0&&n(t)};function FM(e,n){let t;try{t=e()}catch{return}return{getItem:i=>{var a;const s=c=>c===null?null:JSON.parse(c,void 0),l=(a=t.getItem(i))!=null?a:null;return l instanceof Promise?l.then(s):s(l)},setItem:(i,a)=>t.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>t.removeItem(i)}}const Yw=e=>n=>{try{const t=e(n);return t instanceof Promise?t:{then(r){return Yw(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return Yw(r)(t)}}}},PM=(e,n)=>(t,r,i)=>{let a={storage:FM(()=>localStorage),partialize:y=>y,version:0,merge:(y,A)=>({...A,...y}),...n},s=!1;const l=new Set,c=new Set;let d=a.storage;if(!d)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...y)},r,i);const h=()=>{const y=a.partialize({...r()});return d.setItem(a.name,{state:y,version:a.version})},g=i.setState;i.setState=(y,A)=>{g(y,A),h()};const b=e((...y)=>{t(...y),h()},r,i);i.getInitialState=()=>b;let m;const x=()=>{var y,A;if(!d)return;s=!1,l.forEach(C=>{var N;return C((N=r())!=null?N:b)});const w=((A=a.onRehydrateStorage)==null?void 0:A.call(a,(y=r())!=null?y:b))||void 0;return Yw(d.getItem.bind(d))(a.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==a.version){if(a.migrate){const N=a.migrate(C.state,C.version);return N instanceof Promise?N.then(F=>[!0,F]):[!0,N]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var N;const[F,R]=C;if(m=a.merge(R,(N=r())!=null?N:b),t(m,!0),F)return h()}).then(()=>{w==null||w(m,void 0),m=r(),s=!0,c.forEach(C=>C(m))}).catch(C=>{w==null||w(void 0,C)})};return i.persist={setOptions:y=>{a={...a,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>x(),hasHydrated:()=>s,onHydrate:y=>(l.add(y),()=>{l.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},a.skipHydration||x(),m||b},ov=PM;var x_;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(x_||(x_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v_;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(v_||(v_={}));var w_;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(w_||(w_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=["user","model","function","system"];var A_;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(A_||(A_={}));var C_;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(C_||(C_={}));var E_;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(E_||(E_={}));var __;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(__||(__={}));var Q1;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Q1||(Q1={}));var k_;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(k_||(k_={}));var j_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(j_||(j_={}));var N_;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(N_||(N_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Error{constructor(n){super(`[GoogleGenerativeAI Error]: ${n}`)}}class o0 extends Ms{constructor(n,t){super(n),this.response=t}}class OT extends Ms{constructor(n,t,r,i){super(n),this.status=t,this.statusText=r,this.errorDetails=i}}class Zf extends Ms{}class IT extends Ms{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM="https://generativelanguage.googleapis.com",qM="v1beta",BM="0.24.1",UM="genai-js";var cp;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(cp||(cp={}));class $M{constructor(n,t,r,i,a){this.model=n,this.task=t,this.apiKey=r,this.stream=i,this.requestOptions=a}toString(){var n,t;const r=((n=this.requestOptions)===null||n===void 0?void 0:n.apiVersion)||qM;let a=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||zM}/${r}/${this.model}:${this.task}`;return this.stream&&(a+="?alt=sse"),a}}function HM(e){const n=[];return e!=null&&e.apiClient&&n.push(e.apiClient),n.push(`${UM}/${BM}`),n.join(" ")}async function WM(e){var n;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",HM(e.requestOptions)),t.append("x-goog-api-key",e.apiKey);let r=(n=e.requestOptions)===null||n===void 0?void 0:n.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new Zf(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,a]of r.entries()){if(i==="x-goog-api-key")throw new Zf(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new Zf(`Header name ${i} can only be set using the apiClient field`);t.append(i,a)}}return t}async function VM(e,n,t,r,i,a){const s=new $M(e,n,t,r,a);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},KM(a)),{method:"POST",headers:await WM(s),body:i})}}async function $g(e,n,t,r,i,a={},s=fetch){const{url:l,fetchOptions:c}=await VM(e,n,t,r,i,a);return YM(l,c,s)}async function YM(e,n,t=fetch){let r;try{r=await t(e,n)}catch(i){GM(i,e)}return r.ok||await QM(r,e),r}function GM(e,n){let t=e;throw t.name==="AbortError"?(t=new IT(`Request aborted when fetching ${n.toString()}: ${e.message}`),t.stack=e.stack):e instanceof OT||e instanceof Zf||(t=new Ms(`Error fetching from ${n.toString()}: ${e.message}`),t.stack=e.stack),t}async function QM(e,n){let t="",r;try{const i=await e.json();t=i.error.message,i.error.details&&(t+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new OT(`Error fetching from ${n.toString()}: [${e.status} ${e.statusText}] ${t}`,e.status,e.statusText,r)}function KM(e){const n={};if((e==null?void 0:e.signal)!==void 0||(e==null?void 0:e.timeout)>=0){const t=new AbortController;(e==null?void 0:e.timeout)>=0&&setTimeout(()=>t.abort(),e.timeout),e!=null&&e.signal&&e.signal.addEventListener("abort",()=>{t.abort()}),n.signal=t.signal}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Yy(e.candidates[0]))throw new o0(`${zf(e)}`,e);return XM(e)}else if(e.promptFeedback)throw new o0(`Text not available. ${zf(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Yy(e.candidates[0]))throw new o0(`${zf(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),T_(e)[0]}else if(e.promptFeedback)throw new o0(`Function call not available. ${zf(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Yy(e.candidates[0]))throw new o0(`${zf(e)}`,e);return T_(e)}else if(e.promptFeedback)throw new o0(`Function call not available. ${zf(e)}`,e)},e}function XM(e){var n,t,r,i;const a=[];if(!((t=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||t===void 0)&&t.parts)for(const s of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.text&&a.push(s.text),s.executableCode&&a.push("\n```"+s.executableCode.language+`
`+s.executableCode.code+"\n```\n"),s.codeExecutionResult&&a.push("\n```\n"+s.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}function T_(e){var n,t,r,i;const a=[];if(!((t=(n=e.candidates)===null||n===void 0?void 0:n[0].content)===null||t===void 0)&&t.parts)for(const s of(i=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)s.functionCall&&a.push(s.functionCall);if(a.length>0)return a}const ZM=[Q1.RECITATION,Q1.SAFETY,Q1.LANGUAGE];function Yy(e){return!!e.finishReason&&ZM.includes(e.finishReason)}function zf(e){var n,t,r;let i="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)i+="Response was blocked",!((n=e.promptFeedback)===null||n===void 0)&&n.blockReason&&(i+=` due to ${e.promptFeedback.blockReason}`),!((t=e.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const a=e.candidates[0];Yy(a)&&(i+=`Candidate was blocked due to ${a.finishReason}`,a.finishMessage&&(i+=`: ${a.finishMessage}`))}return i}function fg(e){return this instanceof fg?(this.v=e,this):new fg(e)}function JM(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,a=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(b){r[b]&&(i[b]=function(m){return new Promise(function(x,y){a.push([b,m,x,y])>1||l(b,m)})})}function l(b,m){try{c(r[b](m))}catch(x){g(a[0][3],x)}}function c(b){b.value instanceof fg?Promise.resolve(b.value.v).then(d,h):g(a[0][2],b)}function d(b){l("next",b)}function h(b){l("throw",b)}function g(b,m){b(m),a.shift(),a.length&&l(a[0][0],a[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function eF(e){const n=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=rF(n),[r,i]=t.tee();return{stream:nF(r),response:tF(i)}}async function tF(e){const n=[],t=e.getReader();for(;;){const{done:r,value:i}=await t.read();if(r)return I6(iF(n));n.push(i)}}function nF(e){return JM(this,arguments,function*(){const t=e.getReader();for(;;){const{value:r,done:i}=yield fg(t.read());if(i)break;yield yield fg(I6(r))}})}function rF(e){const n=e.getReader();return new ReadableStream({start(r){let i="";return a();function a(){return n.read().then(({value:s,done:l})=>{if(l){if(i.trim()){r.error(new Ms("Failed to parse stream"));return}r.close();return}i+=s;let c=i.match(O_),d;for(;c;){try{d=JSON.parse(c[1])}catch{r.error(new Ms(`Error parsing JSON response: "${c[1]}"`));return}r.enqueue(d),i=i.substring(c[0].length),c=i.match(O_)}return a()}).catch(s=>{let l=s;throw l.stack=s.stack,l.name==="AbortError"?l=new IT("Request aborted when reading from the stream"):l=new Ms("Error reading from the stream"),l})}}})}function iF(e){const n=e[e.length-1],t={promptFeedback:n==null?void 0:n.promptFeedback};for(const r of e){if(r.candidates){let i=0;for(const a of r.candidates)if(t.candidates||(t.candidates=[]),t.candidates[i]||(t.candidates[i]={index:i}),t.candidates[i].citationMetadata=a.citationMetadata,t.candidates[i].groundingMetadata=a.groundingMetadata,t.candidates[i].finishReason=a.finishReason,t.candidates[i].finishMessage=a.finishMessage,t.candidates[i].safetyRatings=a.safetyRatings,a.content&&a.content.parts){t.candidates[i].content||(t.candidates[i].content={role:a.content.role||"user",parts:[]});const s={};for(const l of a.content.parts)l.text&&(s.text=l.text),l.functionCall&&(s.functionCall=l.functionCall),l.executableCode&&(s.executableCode=l.executableCode),l.codeExecutionResult&&(s.codeExecutionResult=l.codeExecutionResult),Object.keys(s).length===0&&(s.text=""),t.candidates[i].content.parts.push(s)}i++}r.usageMetadata&&(t.usageMetadata=r.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DT(e,n,t,r){const i=await $g(n,cp.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(t),r);return eF(i)}async function LT(e,n,t,r){const a=await(await $g(n,cp.GENERATE_CONTENT,e,!1,JSON.stringify(t),r)).json();return{response:I6(a)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function hg(e){let n=[];if(typeof e=="string")n=[{text:e}];else for(const t of e)typeof t=="string"?n.push({text:t}):n.push(t);return aF(n)}function aF(e){const n={role:"user",parts:[]},t={role:"function",parts:[]};let r=!1,i=!1;for(const a of e)"functionResponse"in a?(t.parts.push(a),i=!0):(n.parts.push(a),r=!0);if(r&&i)throw new Ms("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new Ms("No content is provided for sending chat message.");return r?n:t}function sF(e,n){var t;let r={model:n==null?void 0:n.model,generationConfig:n==null?void 0:n.generationConfig,safetySettings:n==null?void 0:n.safetySettings,tools:n==null?void 0:n.tools,toolConfig:n==null?void 0:n.toolConfig,systemInstruction:n==null?void 0:n.systemInstruction,cachedContent:(t=n==null?void 0:n.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const i=e.generateContentRequest!=null;if(e.contents){if(i)throw new Zf("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const a=hg(e);r.contents=[a]}return{generateContentRequest:r}}function I_(e){let n;return e.contents?n=e:n={contents:[hg(e)]},e.systemInstruction&&(n.systemInstruction=RT(e.systemInstruction)),n}function oF(e){return typeof e=="string"||Array.isArray(e)?{content:hg(e)}:e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],lF={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function uF(e){let n=!1;for(const t of e){const{role:r,parts:i}=t;if(!n&&r!=="user")throw new Ms(`First content should be with role 'user', got ${r}`);if(!S_.includes(r))throw new Ms(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(S_)}`);if(!Array.isArray(i))throw new Ms("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new Ms("Each Content should have at least one part");const a={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of i)for(const c of D_)c in l&&(a[c]+=1);const s=lF[r];for(const l of D_)if(!s.includes(l)&&a[l]>0)throw new Ms(`Content with role '${r}' can't contain '${l}' part`);n=!0}}function L_(e){var n;if(e.candidates===void 0||e.candidates.length===0)return!1;const t=(n=e.candidates[0])===null||n===void 0?void 0:n.content;if(t===void 0||t.parts===void 0||t.parts.length===0)return!1;for(const r of t.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="SILENT_ERROR";class cF{constructor(n,t,r,i={}){this.model=t,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=n,r!=null&&r.history&&(uF(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(n,t={}){var r,i,a,s,l,c;await this._sendPromise;const d=hg(n),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},g=Object.assign(Object.assign({},this._requestOptions),t);let b;return this._sendPromise=this._sendPromise.then(()=>LT(this._apiKey,this.model,h,g)).then(m=>{var x;if(L_(m.response)){this._history.push(d);const y=Object.assign({parts:[],role:"model"},(x=m.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(y)}else{const y=zf(m.response);y&&console.warn(`sendMessage() was unsuccessful. ${y}. Inspect response object for details.`)}b=m}).catch(m=>{throw this._sendPromise=Promise.resolve(),m}),await this._sendPromise,b}async sendMessageStream(n,t={}){var r,i,a,s,l,c;await this._sendPromise;const d=hg(n),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(a=this.params)===null||a===void 0?void 0:a.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(l=this.params)===null||l===void 0?void 0:l.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,d]},g=Object.assign(Object.assign({},this._requestOptions),t),b=DT(this._apiKey,this.model,h,g);return this._sendPromise=this._sendPromise.then(()=>b).catch(m=>{throw new Error(R_)}).then(m=>m.response).then(m=>{if(L_(m)){this._history.push(d);const x=Object.assign({},m.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=zf(m);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(m=>{m.message!==R_&&console.error(m)}),b}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dF(e,n,t,r){return(await $g(n,cp.COUNT_TOKENS,e,!1,JSON.stringify(t),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fF(e,n,t,r){return(await $g(n,cp.EMBED_CONTENT,e,!1,JSON.stringify(t),r)).json()}async function hF(e,n,t,r){const i=t.requests.map(s=>Object.assign(Object.assign({},s),{model:n}));return(await $g(n,cp.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(n,t,r={}){this.apiKey=n,this._requestOptions=r,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=RT(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(n,t={}){var r;const i=I_(n),a=Object.assign(Object.assign({},this._requestOptions),t);return LT(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}async generateContentStream(n,t={}){var r;const i=I_(n),a=Object.assign(Object.assign({},this._requestOptions),t);return DT(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),a)}startChat(n){var t;return new cF(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},n),this._requestOptions)}async countTokens(n,t={}){const r=sF(n,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),t);return dF(this.apiKey,this.model,r,i)}async embedContent(n,t={}){const r=oF(n),i=Object.assign(Object.assign({},this._requestOptions),t);return fF(this.apiKey,this.model,r,i)}async batchEmbedContents(n,t={}){const r=Object.assign(Object.assign({},this._requestOptions),t);return hF(this.apiKey,this.model,n,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(n){this.apiKey=n}getGenerativeModel(n,t){if(!n.model)throw new Ms("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new M_(this.apiKey,n,t)}getGenerativeModelFromCachedContent(n,t,r){if(!n.name)throw new Zf("Cached content must contain a `name` field.");if(!n.model)throw new Zf("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const s of i)if(t!=null&&t[s]&&n[s]&&(t==null?void 0:t[s])!==n[s]){if(s==="model"){const l=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,c=n.model.startsWith("models/")?n.model.replace("models/",""):n.model;if(l===c)continue}throw new Zf(`Different value for "${s}" specified in modelParams (${t[s]}) and cachedContent (${n[s]})`)}const a=Object.assign(Object.assign({},t),{model:n.model,tools:n.tools,toolConfig:n.toolConfig,systemInstruction:n.systemInstruction,cachedContent:n});return new M_(this.apiKey,a,r)}}var E5={exports:{}},F_;function pF(){return F_||(F_=1,(()=>{var e={d:(a,s)=>{for(var l in s)e.o(s,l)&&!e.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:s[l]})},o:(a,s)=>Object.prototype.hasOwnProperty.call(a,s),r:a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}},n={};function t(a,s){for(var l=0;l<s.length;l++){var c=s[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}}e.r(n),e.d(n,{default:()=>i});var r=function(){function a(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,a)}var s,l;return s=a,l=[{key:"changeHeightWidth",value:function(c,d,h,g,b,m){return h>g&&(c=Math.round(c*g/h),h=g),c>d&&(h=Math.round(h*d/c),c=d),b&&h<b&&(c=Math.round(c*b/h),h=b),m&&c<m&&(h=Math.round(h*m/c),c=m),{height:c,width:h}}},{key:"resizeAndRotateImage",value:function(c,d,h,g,b){var m=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,y=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,A=x/100,w=document.createElement("canvas"),C=c.width,N=c.height,F=this.changeHeightWidth(N,h,C,d,g,b);!y||y!==90&&y!==270?(w.width=F.width,w.height=F.height):(w.width=F.height,w.height=F.width),C=F.width,N=F.height;var R=w.getContext("2d");return R.fillStyle="rgba(0, 0, 0, 0)",R.fillRect(0,0,C,N),R.imageSmoothingEnabled&&R.imageSmoothingQuality&&(R.imageSmoothingQuality="high"),y&&(R.rotate(y*Math.PI/180),y===90?R.translate(0,-w.width):y===180?R.translate(-w.width,-w.height):y===270?R.translate(-w.height,0):y!==0&&y!==360||R.translate(0,0)),R.drawImage(c,0,0,C,N),w.toDataURL("image/".concat(m),A)}},{key:"b64toByteArrays",value:function(c,d){for(var h=atob(c.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),g=[],b=0;b<h.length;b+=512){for(var m=h.slice(b,b+512),x=new Array(m.length),y=0;y<m.length;y++)x[y]=m.charCodeAt(y);var A=new Uint8Array(x);g.push(A)}return g}},{key:"b64toBlob",value:function(c,d){var h=this.b64toByteArrays(c,d);return new Blob(h,{type:d,lastModified:new Date})}},{key:"b64toFile",value:function(c,d,h){var g=this.b64toByteArrays(c,h);return new File(g,d,{type:h,lastModified:new Date})}},{key:"createResizedImage",value:function(c,d,h,g,b,m,x){var y=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",A=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,w=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,C=new FileReader;if(!c)throw Error("File Not Found!");if(c.type&&!c.type.includes("image"))throw Error("File Is NOT Image!");C.readAsDataURL(c),C.onload=function(){var N=new Image;N.src=C.result,N.onload=function(){var F=a.resizeAndRotateImage(N,d,h,A,w,g,b,m),R="image/".concat(g);switch(y){case"blob":var M=a.b64toBlob(F,R);x(M);break;case"base64":x(F);break;case"file":var k=c.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(g.toString()),L=a.b64toFile(F,k,R);x(L);break;default:x(F)}}},C.onerror=function(N){throw Error(N)}}}],l&&t(s,l),a}();const i={imageFileResizer:function(a,s,l,c,d,h,g,b,m,x){return r.createResizedImage(a,s,l,c,d,h,g,b,m,x)}};E5.exports=n})()),E5.exports}var mF=pF();const FT=ns(mF),gF=(e,n=5*1024*1024)=>new Promise((t,r)=>{var b;const i=((b=e.type.split("/")[1])==null?void 0:b.toLowerCase())||"unknown";if(e.size<=n&&(i==="jpeg"||i==="png"||i==="webp")){console.log(` Image already optimized: ${e.size} bytes, format: ${i}`),t({blob:e,format:i==="jpeg"?"jpg":i});return}const a=e.size>n;console.log(` Processing image: ${e.size} bytes, format: ${i}, compress: ${a}`);const s=new File([e],`image.${i}`,{type:e.type});let l="JPEG",c="jpg";(i==="png"||i==="gif")&&(l="PNG",c="png");const d=a?60:75,h=a?600:800,g=setTimeout(()=>{r(new Error("Image compression timed out after 10 seconds"))},1e4);FT.imageFileResizer(s,h,h,l,d,0,m=>{clearTimeout(g),m instanceof Blob?(console.log(` Image compressed: ${e.size}  ${m.size} bytes (${((1-m.size/e.size)*100).toFixed(1)}% reduction)`),t({blob:m,format:c})):r(new Error("Compression failed - unexpected result type"))},"blob")}),bF=async(e,n,t,r=3,i=15e3)=>{const a=ch();for(let s=1;s<=r;s++)try{const{blob:l,format:c}=await gF(e),d=`${n}_${Ri()}.${c}`,h=async()=>{const m=vu(a,`materials/${t}/${d}`),x=await Xf(m,l);return{url:await Id(x.ref),path:x.ref.fullPath,filename:d,originalSize:e.size,compressedSize:l.size}},g=new Promise((m,x)=>{setTimeout(()=>x(new Error(`Upload timeout after ${i}ms`)),i)}),b=await Promise.race([h(),g]);return console.log(`Successfully uploaded image: ${b.filename} (attempt ${s})`,{originalSize:b.originalSize,compressedSize:b.compressedSize,url:b.url}),{url:b.url,path:b.path}}catch(l){const c=l instanceof Error?l.message:"Unknown error";if(console.warn(`Upload attempt ${s}/${r} failed for ${n}: ${c}`),s===r)throw console.error(`All ${r} upload attempts failed for ${n}:`,l),new Error(`Image upload failed after ${r} attempts: ${c}`);const d=Math.min(1e3*Math.pow(2,s-1),5e3);console.log(`Waiting ${d}ms before retry...`),await new Promise(h=>setTimeout(h,d))}throw new Error("Upload failed - should not reach here")},_5=e=>{const t=`
    <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">
      <rect width="100%" height="100%" fill="#f44336"/>
      <text x="50%" y="45%" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle" dominant-baseline="middle">
        Upload Failed
      </text>
      <text x="50%" y="55%" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" dominant-baseline="middle">
        ${e.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30)}
      </text>
    </svg>
  `;try{return`data:image/svg+xml;base64,${btoa(t)}`}catch(r){return console.error("Failed to create fallback placeholder:",r),`data:image/svg+xml,${encodeURIComponent(t)}`}},yF=async(e,n,t,r=3)=>{const i=e.filter(c=>c.imageBlob),a=[];console.log(` Starting batch upload of ${i.length} images (batch size: ${r})`),console.log(" Images to upload:",i.map((c,d)=>{var h,g;return{index:d+1,slideNumber:c.slideNumber,description:c.description,blobSize:(h=c.imageBlob)==null?void 0:h.size,blobType:(g=c.imageBlob)==null?void 0:g.type}}));for(let c=0;c<i.length;c+=r){const d=Math.min(c+r,i.length),h=i.slice(c,d);console.log(`Processing batch ${Math.floor(c/r)+1}/${Math.ceil(i.length/r)} (images ${c+1}-${d})`);const g=h.map(async(b,m)=>{const x=c+m;console.log(` Starting upload for image ${x+1}/${i.length} (slide ${b.slideNumber})`);try{const y=`slide_${b.slideNumber}_image_${x+1}`,A=bF(b.imageBlob,y,n,2,1e4),w=new Promise((N,F)=>{setTimeout(()=>{F(new Error(`Individual image timeout after 15 seconds for image ${x+1}`))},15e3)}),{url:C}=await Promise.race([A,w]);return console.log(` Successfully processed image ${x+1}/${i.length}`),{url:C,title:b.description||`Image from Slide ${b.slideNumber}`,originalFilename:b.filename,slideNumber:b.slideNumber,index:x}}catch(y){return console.error(` Failed to upload image ${x+1}/${i.length} from slide ${b.slideNumber}:`,y),{url:_5(b.description||`Image from Slide ${b.slideNumber}`),title:b.description||`Image from Slide ${b.slideNumber}`,originalFilename:b.filename,slideNumber:b.slideNumber,index:x}}});try{console.log(` Waiting for batch ${Math.floor(c/r)+1} to complete...`);const b=2e4,m=new Promise((y,A)=>{setTimeout(()=>{A(new Error(`Batch ${Math.floor(c/r)+1} timeout after ${b}ms`))},b)}),x=await Promise.race([Promise.allSettled(g),m]);console.log(` Batch ${Math.floor(c/r)+1} completed, processing ${x.length} results...`),x.forEach((y,A)=>{const w=c+A;if(y.status==="fulfilled")a.push(y.value),console.log(` Image ${w+1}/${i.length} uploaded successfully`);else{console.error(` Image ${w+1}/${i.length} failed:`,y.reason);const C=h[A];a.push({url:_5(C.description||`Image from Slide ${C.slideNumber}`),title:C.description||`Image from Slide ${C.slideNumber}`,originalFilename:C.filename,slideNumber:C.slideNumber})}t==null||t(w+1,i.length)})}catch(b){console.error(` Batch ${Math.floor(c/r)+1} failed or timed out:`,b),h.forEach((m,x)=>{const y=c+x;console.log(` Creating fallback for timed out image ${y+1}/${i.length}`),a.push({url:_5(m.description||`Image from Slide ${m.slideNumber}`),title:m.description||`Image from Slide ${m.slideNumber}`,originalFilename:m.filename,slideNumber:m.slideNumber}),t==null||t(y+1,i.length)})}d<i.length&&(console.log(" Waiting 1 second before next batch..."),await new Promise(b=>setTimeout(b,1e3)))}a.sort((c,d)=>(c.index||0)-(d.index||0));const s=a.filter(c=>!c.url.startsWith("data:")).length,l=a.length-s;return console.log(`Upload complete: ${s} successful, ${l} failed out of ${a.length} total`),a};class xF{constructor(n){Je(this,"genAI");Je(this,"model");Je(this,"activeBlobUrls",new Set);this.genAI=new MT(n),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.2,topK:3,topP:.9,maxOutputTokens:16384}})}cleanupBlobUrls(){this.activeBlobUrls.forEach(n=>{URL.revokeObjectURL(n)}),this.activeBlobUrls.clear()}createTrackedBlobUrl(n){const t=URL.createObjectURL(n);return this.activeBlobUrls.add(t),t}async processMaterialContent(n,t,r,i,a,s){if(!(n!=null&&n.trim()))throw new Error("No content provided for processing");a==null||a({stage:"analyzing",percentage:20,currentOperation:"Analyzing document structure..."});const l=n.length,c=Math.ceil(l/4);if(l>15e3||c>4e3){console.log(`Document is large (${l} chars, ~${c} tokens), using chunked processing`);const d=n.substring(0,15e3);return console.log("Truncating input to prevent AI response truncation"),this.processSingleMaterial(d+`

[Content truncated for processing]`,t,r,i,a,s)}return this.processSingleMaterial(n,t,r,i,a,s)}async processSingleMaterial(n,t,r,i,a,s){const l=this.buildMaterialAnalysisPrompt(n,t,r,i,s);a==null||a({stage:"analyzing",percentage:40,currentOperation:"Processing with AI..."});try{const h=(await(await this.model.generateContent(l)).response).text();if(!h||h.trim().length===0)throw new Error("Empty response from AI service");a==null||a({stage:"structuring",percentage:70,currentOperation:"Structuring content..."});let g=h.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();console.log("Raw response text (first 1000 chars):",h.substring(0,1e3)),console.log("Cleaned text (first 1000 chars):",g.substring(0,1e3)),g=this.repairTruncatedJSON(g);let b;try{b=JSON.parse(g)}catch(m){throw console.error("JSON parsing failed:",m),console.error("Raw response text (first 1000 chars):",h.substring(0,1e3)),console.error("Cleaned text (first 1000 chars):",g.substring(0,1e3)),new Error("AI response format invalid - unable to parse JSON")}if(!b||typeof b!="object")throw new Error("AI response is not a valid object");return a==null||a({stage:"complete",percentage:100,currentOperation:"Processing complete!"}),this.validateAndSanitizeMaterialResponse(b,t,r)}catch(c){if(console.error("Material Import AI Error:",c),a==null||a({stage:"error",percentage:0,currentOperation:`Error: ${c instanceof Error?c.message:"Unknown error"}`}),c instanceof Error){if(c.message.includes("API_KEY_INVALID")||c.message.includes("API key"))throw new Error("Invalid API key. Please check your material import API key configuration.");if(c.message.includes("RATE_LIMIT_EXCEEDED"))throw new Error("Rate limit exceeded. Please try again in a few minutes.");if(c.message.includes("SAFETY"))throw new Error("Content flagged by safety filters. Please try with different content.")}throw new Error(`Material processing failed: ${c instanceof Error?c.message:"Unknown error"}`)}}async processLargeMaterial(n,t,r,i,a){a==null||a({stage:"analyzing",percentage:10,currentOperation:"Processing large document with chunking..."});const s=this.chunkMaterialText(n);let l=null;const c=[];a==null||a({stage:"analyzing",percentage:30,currentOperation:`Processing main content (1/${s.length})...`,subSteps:{current:1,total:s.length,description:"Analyzing primary structure"}}),l=await this.processSingleMaterial(s[0],t,r,i);for(let h=1;h<s.length;h++){a==null||a({stage:"analyzing",percentage:30+40*h/s.length,currentOperation:`Processing additional content (${h+1}/${s.length})...`,subSteps:{current:h+1,total:s.length,description:"Extracting supplementary details"}});try{const g=await this.processChunkForAdditionalContent(s[h],t,r);g&&c.push(g)}catch(g){console.warn(`Failed to process chunk ${h+1}:`,g)}}a==null||a({stage:"structuring",percentage:80,currentOperation:"Merging content from all sections..."});const d=this.mergeChunkedMaterialResults(l,c);return a==null||a({stage:"complete",percentage:100,currentOperation:"Large document processing complete!"}),d}buildMaterialAnalysisPrompt(n,t,r,i,a){const s=this.getFileTypeContext(r);return`
Analyze this ${s} educational material and extract structured information for course content management.

File: ${t}
Type: ${r}

CONTENT:
${n}

${a!=null&&a.images&&a.images.length>0?`
DETECTED IMAGES:
${a.images.map((l,c)=>`${c+1}. ${l.description||`Image ${c+1}`}${l.slideNumber?` (Slide ${l.slideNumber})`:""}${l.altText?` - ${l.altText}`:""}`).join(`
`)}

CRITICAL IMAGE PLACEMENT INSTRUCTIONS:
- Each image MUST be placed in the section corresponding to its slide number
- If "Image X (Slide Y)" is detected, place it in the section created from Slide Y content
- Each image should have a unique, descriptive title based on its context
- Include slideNumber property in each image object for proper matching
- DO NOT reuse the same image in multiple sections
`:""}

Please extract and structure this content into a comprehensive educational material format. Focus on:

1. **Document Structure**: Identify main topics, subtopics, and hierarchical organization
2. **Content Quality**: Preserve important educational information and context
3. **Visual Elements**: Note references to images, diagrams, charts (even if not extractable)
4. **Links and Resources**: Extract any URLs, references, or external resources mentioned
5. **Learning Context**: Maintain educational value and logical flow

${s==="presentation slide deck"?`
SPECIAL INSTRUCTIONS FOR PRESENTATIONS:
- Each slide should become a section or subsection
- Preserve slide order and hierarchy
- Note slide titles and main content points
- Identify slide transitions and logical groupings
- Extract speaker notes or additional context if present
`:""}

Return ONLY a JSON object with this exact structure:
{
  "title": "Material title (extracted from content or filename)",
  "description": "Brief description of the material content",
  "header": {
    "title": "Introduction or Overview",
    "content": "HTML formatted introductory content"
  },
  "footer": {
    "title": "Summary or Conclusion", 
    "content": "HTML formatted concluding content"
  },
  "sections": [
    {
      "title": "Section Title",
      "content": "HTML formatted main section content",
      "subsections": [
        {
          "title": "Subsection Title",
          "content": "HTML formatted subsection content",
          "subSubsections": [
            {
              "title": "Sub-subsection Title",
              "content": "HTML formatted detailed content",
              "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 2}],
              "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
            }
          ],
          "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 3}],
          "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
        }
      ],
      "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 4}],
      "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
    }
  ],
  "sourceInfo": {
    "fileName": "${t}",
    "fileType": "${r}",
    "extractedAt": "${new Date().toISOString()}",
    "originalFileReference": "Reference to original file for debugging"
  },
  "images": [{"url": "", "title": "Overall image description", "description": "Context", "slideNumber": 1}],
  "links": [{"title": "Overall link title", "url": "URL", "description": "Link context"}]
}

CRITICAL JSON FORMATTING RULES:
- Return ONLY valid JSON - no comments, no explanations, no additional text
- Use proper HTML tags for content formatting (<p>, <h1>-<h6>, <ul>, <ol>, <li>, <strong>, <em>, <br>)
- Preserve educational structure and hierarchy
- Create logical sections based on content organization
- For images: Use EMPTY STRINGS for URLs ("url": "") with descriptive titles, context, and slideNumber property
-- IMPORTANT: Each image object MUST include "slideNumber" property matching the source slide
-- NEVER use placeholder filenames like "placeholder_image_1.png" - always use empty strings for URLs
- For links: Extract actual URLs when present, provide context
- Complete ALL sections and subsections - do not use comments like "// ... continue"
- Ensure all JSON arrays and objects are properly closed
- Maintain educational value and readability

IMPORTANT: Your response must be complete, valid JSON that can be parsed directly. Do not include any explanatory text, comments, or incomplete sections. End your response when the JSON object is complete.
`}async processChunkForAdditionalContent(n,t,r){const i=`
Extract additional educational content from this section of the material:

File: ${t}
Type: ${r}

CONTENT:
${n}

Focus on extracting any additional sections, detailed information, or supplementary content that should be included in the educational material.

Return ONLY a JSON object with additional sections, images, or links:
{
  "sections": [...],
  "images": [...],
  "links": [...]
}
`;try{const l=(await(await this.model.generateContent(i)).response).text();if(!l||l.trim().length===0)return null;let c;try{c=this.extractValidJSON(l)}catch(d){try{c=this.fallbackJSONExtraction(l)}catch{throw d}}return JSON.parse(c)}catch(a){return console.warn("Failed to process additional content chunk:",a),null}}chunkMaterialText(n,t=25e3){const r=[],i=n.split(`
`);let a="";for(const s of i)a.length+s.length>t&&a.length>0?(r.push(a.trim()),a=s):a+=(a?`
`:"")+s;return a.trim()&&r.push(a.trim()),r.length>0?r:[n]}mergeChunkedMaterialResults(n,t){const r={...n};for(const i of t)i.sections&&Array.isArray(i.sections)&&(r.sections=[...r.sections,...i.sections]),i.images&&Array.isArray(i.images)&&(r.images=[...r.images||[],...i.images]),i.links&&Array.isArray(i.links)&&(r.links=[...r.links||[],...i.links]);return r}extractValidJSON(n){let t=n.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();t=t.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const r=t.indexOf("{");if(r===-1)throw new Error("No JSON object found in response");t=t.substring(r);let i=0,a=-1,s=!1,l=!1;for(let h=0;h<t.length;h++){const g=t[h];if(l){l=!1;continue}if(g==="\\"){l=!0;continue}if(g==='"'&&!l){s=!s;continue}if(!s){if(g==="{")i++;else if(g==="}"&&(i--,i===0)){a=h+1;break}}}if(a===-1)throw new Error("No matching closing brace found for JSON object");let c=t.substring(0,a);c=c.replace(/,(\s*[}\]])/g,"$1"),this.detectTruncatedJSON(c)&&(console.warn("Detected truncated JSON response, attempting repair"),c=this.attemptJSONRepair(c));try{return JSON.parse(c),c}catch(h){console.warn("Initial JSON parsing failed, attempting to fix common issues:",h);const g=this.attemptJSONRepair(c);try{return JSON.parse(g),g}catch(b){throw console.error("JSON repair failed:",b),new Error(`Invalid JSON structure: ${b.message}`)}}}detectTruncatedJSON(n){const t=n.trim(),r=[/"[^"]*$/,/:\s*$/,/,\s*$/,/"[a-zA-Z]+\w*$/,/[a-zA-Z]+\w*$/,/\[\s*$/,/{\s*$/];for(const a of r)if(a.test(t))return console.log(`Truncation detected: ${a.toString()}`),!0;const i=t.charAt(t.length-1);return i!=="}"&&i!=="]"?(console.log(`Truncation detected: JSON doesn't end with } or ], ends with: "${i}"`),!0):!1}detectTruncatedResponse(n){const r=n.trim().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),i=[/"[^"]*$/,/\w+$/,/:\s*$/,/,\s*$/,!r.endsWith("}"),!r.endsWith("]"),r.length<500];for(let a=0;a<i.length-1;a++){const s=i[a];if(s instanceof RegExp&&s.test(r))return!0}return!!(i[i.length-3]||i[i.length-2]||i[i.length-1])}attemptJSONRepair(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const h=d.trim();h.startsWith("//")||h.includes("... (Continue")||h.includes("continue structuring")||h.includes("similarly")||i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,c=(t.match(/\]/g)||[]).length;for(let d=0;d<a-s;d++)t+="}";for(let d=0;d<l-c;d++)t+="]";return t}fallbackJSONExtraction(n){console.log("Attempting fallback JSON extraction...");let t=n.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();t=t.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const r=t.indexOf("{");if(r===-1)throw new Error("No JSON object found in response");t=t.substring(r);const i=[/}\s*$/m,/}\s*\n\s*[A-Z]/m,/}\s*\n\s*This/m,/}\s*\n\s*Note:/m];let a=-1;for(const l of i){const c=t.match(l);if(c&&c.index!==void 0){const d=c.index+c[0].indexOf("}")+1;(a===-1||d<a)&&(a=d)}}a>0&&(t=t.substring(0,a));const s=this.attemptJSONRepair(t);try{return JSON.parse(s),s}catch{return console.log("Attempting aggressive JSON repair..."),this.aggressiveJSONRepair(t)}}aggressiveJSONRepair(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const h=d.trim();if(h.startsWith("//")||h.includes("... (")||h.includes("continue")||h.includes("similarly")||h.includes("Remember to")||h.includes("This structure")||h.length>0&&!h.includes('"')&&!h.includes("{")&&!h.includes("}")&&!h.includes("[")&&!h.includes("]"))break;i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,c=(t.match(/\]/g)||[]).length;for(let d=0;d<a-s;d++)t+=`
}`;for(let d=0;d<l-c;d++)t+=`
]`;return t=t.replace(/,(\s*[}\]])/g,"$1"),t}repairTruncatedJSON(n){let t=n;const r=t.split(`
`),i=[];for(const d of r){const h=d.trim();if(h.length===0){i.push(d);continue}if(h.match(/^"[^"]*$/)){i.push('"": ""');break}if(h.match(/:\s*"[^"]*$/)){i.push(h.replace(/:\s*"[^"]*$/,': ""'));break}if(h.match(/^[a-zA-Z]+\w*$/))break;i.push(d)}t=i.join(`
`),t=t.replace(/,(\s*[}\]])/g,"$1"),t=t.replace(/,\s*$/,"");const a=(t.match(/{/g)||[]).length,s=(t.match(/}/g)||[]).length,l=(t.match(/\[/g)||[]).length,c=(t.match(/\]/g)||[]).length;console.log(`JSON structure analysis: ${a} open braces, ${s} close braces, ${l} open brackets, ${c} close brackets`);for(let d=0;d<l-c;d++)t+=`
]`;for(let d=0;d<a-s;d++)t+=`
}`;return t=t.replace(/,(\s*[}\]])/g,"$1"),console.log("Repaired JSON (first 1000 chars):",t.substring(0,1e3)),t}getFileTypeContext(n){const t=n.toLowerCase();return t.includes("presentation")||t.includes("powerpoint")||t.includes("pptx")?"presentation slide deck":t.includes("pdf")?"PDF document":t.includes("word")||t.includes("docx")?"Word document":"document"}validateAndSanitizeMaterialResponse(n,t,r){var a,s,l,c,d;const i={title:n.title||t.replace(/\.[^/.]+$/,"")||"Untitled Material",description:n.description||"",header:{title:((a=n.header)==null?void 0:a.title)||"Introduction",content:((s=n.header)==null?void 0:s.content)||""},footer:{title:((l=n.footer)==null?void 0:l.title)||"Summary",content:((c=n.footer)==null?void 0:c.content)||""},sections:[],sourceInfo:{fileName:t,fileType:r,extractedAt:new Date().toISOString(),originalFileReference:((d=n.sourceInfo)==null?void 0:d.originalFileReference)||t},images:Array.isArray(n.images)?n.images:[],links:Array.isArray(n.links)?n.links:[]};return Array.isArray(n.sections)&&(i.sections=n.sections.map(h=>({title:h.title||"Section",content:h.content||"",subsections:Array.isArray(h.subsections)?h.subsections.map(g=>({title:g.title||"Subsection",content:g.content||"",subSubsections:Array.isArray(g.subSubsections)?g.subSubsections.map(b=>({title:b.title||"Sub-subsection",content:b.content||"",images:Array.isArray(b.images)?b.images:[],links:Array.isArray(b.links)?b.links:[]})):[],images:Array.isArray(g.images)?g.images:[],links:Array.isArray(g.links)?g.links:[]})):[],images:Array.isArray(h.images)?h.images:[],links:Array.isArray(h.links)?h.links:[]}))),i.sections.length===0&&i.sections.push({title:"Main Content",content:"Content extracted from the uploaded material.",subsections:[],images:[],links:[]}),i}convertToMaterialFormat(n,t,r,i){const a=(c,d=400,h=300)=>{const g=c.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30),b=`
        <svg width="${d}" height="${h}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${g}
          </text>
        </svg>
      `;try{return`data:image/svg+xml;base64,${btoa(b)}`}catch(m){return console.error("Failed to create placeholder image URL:",m),`data:image/svg+xml,${encodeURIComponent(b)}`}},s=c=>{const d=new Map;i!=null&&i.images&&i.images.forEach(m=>{m.slideNumber&&m.imageBlob&&(d.has(m.slideNumber)||d.set(m.slideNumber,[]),d.get(m.slideNumber).push(m))});const h=new Map,g=(c==null?void 0:c.map((m,x)=>{let y="";if(m.slideNumber&&d.has(m.slideNumber)){const w=d.get(m.slideNumber);h.has(m.slideNumber)||h.set(m.slideNumber,new Set);const C=h.get(m.slideNumber);let N=null;if(m.title||m.description){const F=(m.title||m.description).toLowerCase();N=w.find(R=>{const M=(R.description||"").toLowerCase();return!C.has(R.embedId||"")&&M.includes(F.split(" ")[0])})||null}if(N||(N=w.find(F=>!C.has(F.embedId||""))||null),!N&&w.length>0){const F=x%w.length;N=w[F]}N!=null&&N.imageBlob&&(N.embedId&&C.add(N.embedId),y=this.createTrackedBlobUrl(N.imageBlob),console.log(`Using extracted image blob for slide ${m.slideNumber} (${C.size}/${w.length}):`,{slideNumber:m.slideNumber,imageIndex:x,embedId:N.embedId,blobSize:N.imageBlob.size,blobType:N.imageBlob.type,matchedBy:N.description||"position"}))}y||(m.url&&m.url.trim()&&(m.url.startsWith("data:")||m.url.startsWith("http"))&&!m.url.includes("placeholder_image")?y=m.url:y=a(m.title||"Image"));const A={url:y,title:m.title||m.description||"Detected Image"};return console.log("Enhanced image (preview):",A),A}))||[],b=Array.from(d.values()).reduce((m,x)=>m+x.length,0);return console.log(`Enhanced ${g.length} images for material preview (${b} extracted images available across ${d.size} slides)`),g},l=c=>{var d;return{id:Ri(),title:c.title,content:c.content,subsections:((d=c.subsections)==null?void 0:d.map(h=>{var g;return{id:Ri(),title:h.title,content:h.content,subSubsections:((g=h.subSubsections)==null?void 0:g.map(b=>({id:Ri(),title:b.title,content:b.content,images:s(b.images||[]),links:b.links||[]})))||[],images:s(h.images||[]),links:h.links||[]}}))||[],images:s(c.images||[]),links:c.links||[]}};return{course:t,title:n.title,header:n.header,footer:n.footer,sections:n.sections.map(l),author:r,published:!1,sourceInfo:n.sourceInfo}}async convertToMaterialFormatWithImageUpload(n,t,r,i,a,s){var m;let l=[];if(a!=null&&a.images)try{console.log(` Starting image upload process for ${a.images.length} extracted images...`),console.log(" Image metadata:",a.images.map(x=>{var y;return{slideNumber:x.slideNumber,description:x.description,hasBlob:!!x.imageBlob,blobSize:(y=x.imageBlob)==null?void 0:y.size}})),l=await yF(a.images,i,s),console.log(` Successfully uploaded ${l.length} images to Firebase Storage`),console.log(" Uploaded image URLs:",l.map(x=>({title:x.title,url:x.url.substring(0,100)+"...",slideNumber:x.slideNumber})))}catch(x){console.error(" Failed to upload extracted images:",x)}else console.log(" No images to upload - extractionMetadata.images is empty or undefined");const c=(x,y=400,A=300)=>{const w=x.substring(0,30),C=`
        <svg width="${y}" height="${A}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${w}
          </text>
        </svg>
      `;return`data:image/svg+xml;base64,${btoa(C)}`},d=x=>{const y=new Map;l.forEach(C=>{C.slideNumber&&(y.has(C.slideNumber)||y.set(C.slideNumber,[]),y.get(C.slideNumber).push(C))});const A=new Set,w=(x==null?void 0:x.map((C,N)=>{let F=null;if(C.slideNumber&&y.has(C.slideNumber)){const M=y.get(C.slideNumber);if(F=M.find(k=>!A.has(k.url))||null,!F&&M.length>0){const k=N%M.length;F=M[k]}}if(!F){const M=(C.title||C.description||"").toLowerCase().split(" ");F=l.find(k=>{if(A.has(k.url))return!1;const L=k.title.toLowerCase().split(" ");return M.some(B=>B.length>3&&L.some(Q=>Q.includes(B)))})||null}if(F||(F=l.find(M=>!A.has(M.url))||null),!F&&l.length>0){const M=N%l.length;F=l[M]}F&&A.add(F.url);const R={url:(F==null?void 0:F.url)||(C.url&&C.url.trim()?C.url:c(C.title||"Image")),title:(F==null?void 0:F.title)||C.title||C.description||"Detected Image"};return console.log("Enhanced image with upload:",{...R,url:R.url.substring(0,100)+"...",isUploaded:!!F,imageIndex:N,originalSlideNumber:C.slideNumber,matchedSlideNumber:F==null?void 0:F.slideNumber,matchStrategy:F?F.slideNumber===C.slideNumber?"slideNumber":R.title.includes(C.title||"")?"title":"sequential":"placeholder",usedCount:A.size,totalAvailable:l.length}),R}))||[];return console.log(`Enhanced ${w.length} images for material (${l.length} uploaded, ${A.size} used)`),w},h=x=>{var y;return{id:Ri(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[],subsections:((y=x.subsections)==null?void 0:y.map(g))||[]}},g=x=>{var y;return{id:Ri(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[],subSubsections:((y=x.subSubsections)==null?void 0:y.map(b))||[]}},b=x=>({id:Ri(),title:x.title,content:x.content,images:d(x.images||[]),links:x.links||[]});return{course:t,title:n.title,header:n.header||{title:"",content:""},footer:n.footer||{title:"",content:""},sections:((m=n.sections)==null?void 0:m.map(h))||[],author:r,published:!1,scheduledTimestamp:null}}}let py=null;const Gw=e=>{const n=e||"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0";if(!py&&n&&(py=new xF(n)),!py)throw new Error("Material Import service not initialized. Please configure VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.");return py},vF=async e=>{try{const n=await Li(()=>import("./pdf-VQKGuvxX.js"),[]),t="/nexlab";n.GlobalWorkerOptions.workerSrc=`${t}/js/pdf.worker.min.js`;const r=await e.arrayBuffer(),i=await n.getDocument({data:r}).promise,a=i.numPages;let s="";for(let l=1;l<=a;l++){const h=(await(await i.getPage(l)).getTextContent()).items.filter(g=>g&&typeof g.str=="string").map(g=>g.str).join(" ").trim();h&&(s+=h+`

`)}return{text:s.trim(),metadata:{pageCount:a,wordCount:s.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"PDF.js"}}}catch(n){throw{message:"Failed to extract text from PDF file. Please ensure the PDF contains selectable text.",code:"PDF_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},wF=async e=>{try{const n=await Li(()=>import("./index-Cgo0e2FO.js").then(i=>i.i),__vite__mapDeps([0,1])),t=await e.arrayBuffer(),r=await n.extractRawText({arrayBuffer:t});return r.messages&&r.messages.length>0&&console.warn("DOCX extraction warnings:",r.messages),{text:r.value.trim(),metadata:{wordCount:r.value.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"Mammoth"}}}catch(n){throw{message:"Failed to extract text from Word document. Please ensure the file is not corrupted.",code:"DOCX_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},SF=async e=>{var n,t;try{const r=(await Li(async()=>{const{default:g}=await import("./index-CZYWMsg6.js").then(b=>b.i);return{default:g}},__vite__mapDeps([2,1]))).default,i=await e.arrayBuffer(),a=new r(i);let s="",l=0;const c=[],d=Object.keys(a.files).filter(g=>g.startsWith("ppt/slides/slide")&&g.endsWith(".xml"));l=d.length;for(const g of d)try{const b=a.files[g].asText(),m=parseInt(((n=g.match(/slide(\d+)\.xml/))==null?void 0:n[1])||"0"),x=b.matchAll(/<a:blip[^>]*r:embed="([^"]*)"[^>]*>/g);for(const w of x){const C=w[1],N=b.match(new RegExp('<p:cNvPr[^>]*name="([^"]*)"[^>]*>',"i")),F=b.match(new RegExp('<p:cNvPr[^>]*descr="([^"]*)"[^>]*>',"i")),R=b.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();let M=`Image on slide ${m}`;const k=["chart","graph","diagram","figure","table","photo","image","illustration","screenshot","logo","flowchart","timeline","comparison","data","results","example","structure","process"],L=R.toLowerCase().split(/\s+/),B=k.filter(j=>L.some(O=>O.includes(j)));if(B.length>0)M=`${B[0].charAt(0).toUpperCase()+B[0].slice(1)} (Slide ${m})`;else if(R.length>0){const j=L.slice(0,3).join(" ");j.length>5&&(M=`Image: ${j}... (Slide ${m})`)}let Q;try{const j=`ppt/slides/_rels/slide${m}.xml.rels`;if(a.files[j]){const z=a.files[j].asText().match(new RegExp(`Id="${C}"[^>]*Target="([^"]*)"`,"i"));if(z){const T=z[1],G=T.startsWith("../")?`ppt/${T.substring(3)}`:`ppt/slides/${T}`;if(a.files[G]){const W=a.files[G].asUint8Array();let X="image/jpeg";const ie=G.toLowerCase();if(ie.includes(".png"))X="image/png";else if(ie.includes(".gif"))X="image/gif";else if(ie.includes(".bmp"))X="image/bmp";else if(ie.includes(".webp"))X="image/webp";else if(ie.includes(".emf")||ie.includes(".wmf")){console.warn(`Skipping unsupported vector image format: ${G}`);continue}Q=new Blob([W],{type:X}),console.log(`Extracted image blob for slide ${m}:`,{size:Q.size,type:X,path:G})}}}}catch(j){console.warn(`Failed to extract image blob for ${C} on slide ${m}:`,j)}c.push({slideNumber:m,description:(N==null?void 0:N[1])||M,altText:(F==null?void 0:F[1])||void 0,filename:C,embedId:C,imageBlob:Q})}const y=b.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();y&&(s+=`
--- Slide ${m} ---
${y}
`);const A=c.filter(w=>w.slideNumber===m);A.length>0&&(s+=`
[IMAGES ON SLIDE ${m}]: `,A.forEach(w=>{s+=`"${w.description}"${w.altText?` (${w.altText})`:""}, `}),s=s.slice(0,-2)+`
`)}catch(b){console.warn(`Failed to extract text from ${g}:`,b)}const h=Object.keys(a.files).filter(g=>g.startsWith("ppt/notesSlides/notesSlide")&&g.endsWith(".xml"));for(const g of h)try{const m=a.files[g].asText().replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();if(m){const x=((t=g.match(/notesSlide(\d+)\.xml/))==null?void 0:t[1])||"unknown";s+=`
--- Notes for Slide ${x} ---
${m}
`}}catch(b){console.warn(`Failed to extract notes from ${g}:`,b)}if(!s.trim())throw new Error("No text content found in PowerPoint file");return{text:s.trim(),metadata:{slideCount:l,wordCount:s.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"PizZip",images:c.length>0?c:void 0}}}catch(r){throw{message:"Failed to extract text from PowerPoint file. Please ensure the file is not corrupted and contains text content.",code:"PPTX_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},AF=async e=>{try{const n=await e.text();return{text:n.trim(),metadata:{wordCount:n.trim().split(/\s+/).length,fileSize:e.size,extractionMethod:"Native"}}}catch(n){throw{message:"Failed to extract text from text file",code:"TXT_EXTRACTION_ERROR",originalError:n instanceof Error?n:new Error(String(n))}}},PT=async e=>{if(!e)throw{message:"No file provided",code:"NO_FILE_ERROR"};const n=e.type.toLowerCase(),t=e.name.toLowerCase();try{if(n==="application/pdf"||t.endsWith(".pdf"))return await vF(e);if(n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||t.endsWith(".docx"))return await wF(e);if(n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||t.endsWith(".pptx"))return await SF(e);if(n==="text/plain"||t.endsWith(".txt"))return await AF(e);throw{message:`Unsupported file format: ${n||"unknown"}. Supported formats: PDF (.pdf), Word (.docx), PowerPoint (.pptx), Text (.txt)`,code:"UNSUPPORTED_FORMAT_ERROR"}}catch(r){throw r&&typeof r=="object"&&"code"in r?r:{message:`Failed to extract text from ${e.name}`,code:"GENERIC_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},zT=e=>{const t=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain"],r=[".pdf",".docx",".pptx",".txt"];if(e.size>524288e3)return{isValid:!1,error:`File size (${(e.size/1024/1024).toFixed(1)}MB) exceeds the maximum limit of 500MB.`};const i=e.type.toLowerCase(),a=e.name.toLowerCase(),s=t.includes(i),l=r.some(c=>a.endsWith(c));return!s&&!l?{isValid:!1,error:`Unsupported file format. Please upload files with extensions: ${r.join(", ")}`}:{isValid:!0}},qT=e=>{const n=e.type.toLowerCase(),t=e.name.toLowerCase();return n==="application/pdf"||t.endsWith(".pdf")?"PDF Document":n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||t.endsWith(".docx")?"Word Document":n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||t.endsWith(".pptx")?"PowerPoint Presentation":n==="text/plain"||t.endsWith(".txt")?"Text File":"Unknown Format"},CF=e=>{const n=e.size/1048576,t=e.type.toLowerCase();let r=0;return t==="application/pdf"?r=Math.max(2,n*.5):t==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?r=Math.max(1,n*.3):t==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?r=Math.max(1.5,n*.4):r=Math.max(.5,n*.1),Math.round(r)};class EF{constructor(){Je(this,"storage",ch());Je(this,"DEFAULT_CHUNK_SIZE",5*1024*1024);Je(this,"DEFAULT_MAX_RETRIES",3);Je(this,"DEFAULT_TIMEOUT",6e4)}async uploadLargeFile(n,t,r={}){const i=Date.now(),{chunkSize:a=this.DEFAULT_CHUNK_SIZE,maxRetries:s=this.DEFAULT_MAX_RETRIES,timeoutMs:l=this.DEFAULT_TIMEOUT,onProgress:c,onChunkComplete:d}=r,h=500*1024*1024;if(n.size>h)throw new Error(`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`);if(!(n.size>a))return this.uploadStandardFile(n,t,c);console.log(` Starting chunked upload for ${n.name} (${(n.size/1024/1024).toFixed(1)}MB)`),c==null||c({stage:"preparing",percentage:0,bytesUploaded:0,totalBytes:n.size,currentOperation:"Preparing file for chunked upload..."});const b=this.createChunkMetadata(n,a),m=Ri(),x=`${t}_chunks_${m}`;c==null||c({stage:"preparing",percentage:5,totalChunks:b.length,bytesUploaded:0,totalBytes:n.size,currentOperation:`Created ${b.length} chunks for upload...`});try{await this.uploadChunks(n,b,x,{maxRetries:s,timeoutMs:l,onProgress:w=>{const C=this.calculateOverallProgress(b,w);c==null||c({stage:"uploading",percentage:5+C*.85,currentChunk:w.currentChunk,totalChunks:b.length,bytesUploaded:w.bytesUploaded,totalBytes:n.size,currentOperation:w.currentOperation,estimatedTimeRemaining:this.estimateTimeRemaining(i,C)})},onChunkComplete:d}),c==null||c({stage:"assembling",percentage:90,totalChunks:b.length,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Assembling chunks into final file..."});const y=await this.assembleChunks(n,b,t,m);c==null||c({stage:"completed",percentage:100,totalChunks:b.length,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Upload completed successfully!"});const A=Date.now()-i;return console.log(` Chunked upload completed in ${(A/1e3).toFixed(1)}s`),{...y,chunks:b.length,uploadTime:A}}catch(y){throw console.error(" Chunked upload failed:",y),await this.cleanupFailedUpload(b),y}}createChunkMetadata(n,t){const r=[];let i=0;for(;i<n.size;){const a=Math.min(i+t,n.size);r.push({index:r.length,size:a-i,start:i,end:a,retries:0}),i=a}return r}async uploadChunks(n,t,r,i){const{maxRetries:a,timeoutMs:s,onProgress:l,onChunkComplete:c}=i;let d=0;const h=3;for(let g=0;g<t.length;g+=h){const m=t.slice(g,Math.min(g+h,t.length)).map(async x=>{const y=n.slice(x.start,x.end),A=`${r}/chunk_${x.index.toString().padStart(4,"0")}`;let w=null;for(let C=0;C<=a;C++)try{l==null||l({currentChunk:x.index+1,bytesUploaded:d,currentOperation:`Uploading chunk ${x.index+1}/${t.length} (attempt ${C+1})`});const N=await this.uploadSingleChunk(y,A,s);x.uploadUrl=N.url,x.uploadPath=N.path,d+=x.size,c==null||c(x.index,t.length),console.log(` Chunk ${x.index+1}/${t.length} uploaded successfully`);return}catch(N){w=N,x.retries=C+1,C<a&&(console.warn(` Chunk ${x.index+1} failed (attempt ${C+1}), retrying...`),await this.delay(Math.pow(2,C)*1e3))}throw new Error(`Failed to upload chunk ${x.index+1} after ${a+1} attempts: ${w==null?void 0:w.message}`)});await Promise.all(m),g+h<t.length&&await this.delay(500)}}async uploadSingleChunk(n,t,r){const i=vu(this.storage,t),a=async()=>{const l=await Xf(i,n);return{url:await Id(l.ref),path:l.ref.fullPath}},s=new Promise((l,c)=>{setTimeout(()=>c(new Error(`Chunk upload timeout after ${r}ms`)),r)});return Promise.race([a(),s])}async assembleChunks(n,t,r,i){const a=await this.reconstructFileFromChunks(n,t),s=vu(this.storage,r),l=await Xf(s,a),c=await Id(l.ref);return await this.cleanupChunks(t),{url:c,path:l.ref.fullPath,name:n.name,type:n.type,size:n.size,uploadedAt:new Date}}async reconstructFileFromChunks(n,t){const r=[];for(const i of t.sort((a,s)=>a.index-s.index))r.push(n.slice(i.start,i.end));return new Blob(r,{type:n.type})}async uploadStandardFile(n,t,r){const i=Date.now(),a=vu(this.storage,t);r==null||r({stage:"uploading",percentage:10,bytesUploaded:0,totalBytes:n.size,currentOperation:"Uploading file..."});const s=await Xf(a,n);r==null||r({stage:"uploading",percentage:90,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Getting download URL..."});const l=await Id(s.ref);r==null||r({stage:"completed",percentage:100,bytesUploaded:n.size,totalBytes:n.size,currentOperation:"Upload completed!"});const c=Date.now()-i;return{url:l,path:s.ref.fullPath,name:n.name,type:n.type,size:n.size,uploadedAt:new Date,chunks:1,uploadTime:c}}calculateOverallProgress(n,t){const r=n.filter(a=>a.uploadUrl).length,i=t.currentChunk?t.bytesUploaded/n.reduce((a,s)=>a+s.size,0):0;return(r+i)/n.length}estimateTimeRemaining(n,t){if(t<=0)return 0;const r=Date.now()-n,i=r/t;return Math.max(0,i-r)}async cleanupChunks(n){const t=n.filter(r=>r.uploadPath).map(async r=>{try{const i=vu(this.storage,r.uploadPath);await cT(i)}catch(i){console.warn(`Failed to cleanup chunk ${r.index}:`,i)}});await Promise.allSettled(t)}async cleanupFailedUpload(n){console.log(" Cleaning up failed chunked upload..."),await this.cleanupChunks(n)}delay(n){return new Promise(t=>setTimeout(t,n))}validateFileForChunkedUpload(n){return n.size>524288e3?{isValid:!1,error:`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(n.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${n.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const P_=new EF;class _F{constructor(){Je(this,"storage",ch())}async uploadOriginalFile(n,t,r,i){return n.size>26214400?(console.log(` File is large (${(n.size/1024/1024).toFixed(1)}MB), using chunked upload`),this.uploadOriginalFileEnhanced(n,t,r,i?s=>i(s.percentage):void 0)):this.uploadOriginalFileStandard(n,t,r,i)}async uploadOriginalFileEnhanced(n,t,r,i){const a=P_.validateFileForChunkedUpload(n);if(!a.isValid)throw new Error(a.error);const s=n.name.split(".").pop()||"",l=r||Ri(),c=`${n.name.replace(/\.[^/.]+$/,"")}_${l}.${s}`,d=`original-files/${t}/${c}`;console.log(" Starting enhanced original file upload:",{fileName:c,fileSize:n.size,fileType:n.type,courseId:t,chunked:!0});try{const h=await P_.uploadLargeFile(n,d,{chunkSize:5242880,maxRetries:3,timeoutMs:6e4,onProgress:i,onChunkComplete:(b,m)=>{console.log(` Chunk ${b+1}/${m} completed`)}}),g={name:n.name,type:n.type,size:n.size,url:h.url,uploadedAt:new Date};return console.log(" Enhanced original file uploaded successfully:",{originalName:n.name,storageName:c,url:h.url,size:n.size,chunks:h.chunks,uploadTime:`${(h.uploadTime/1e3).toFixed(1)}s`}),g}catch(h){throw console.error(" Enhanced original file upload failed:",h),new Error(`Failed to upload original file: ${h instanceof Error?h.message:"Unknown error"}`)}}async uploadOriginalFileStandard(n,t,r,i){try{const a=n.name.split(".").pop()||"",s=r||Ri(),l=`${n.name.replace(/\.[^/.]+$/,"")}_${s}.${a}`,c=vu(this.storage,`original-files/${t}/${l}`);console.log(" Starting original file upload:",{fileName:l,fileSize:n.size,fileType:n.type,courseId:t}),i==null||i(10);const d=await Xf(c,n);i==null||i(70);const h=await Id(d.ref);i==null||i(100);const g={name:n.name,type:n.type,size:n.size,url:h,uploadedAt:new Date};return console.log(" Original file uploaded successfully:",{originalName:n.name,storageName:l,url:h,size:n.size}),g}catch(a){throw console.error(" Original file upload failed:",a),new Error(`Failed to upload original file: ${a instanceof Error?a.message:"Unknown error"}`)}}async deleteOriginalFile(n){try{const r=new URL(n).pathname.match(/\/o\/(.+?)\?/);if(!r)throw new Error("Invalid Firebase Storage URL format");const i=decodeURIComponent(r[1]),a=vu(this.storage,i);await cT(a),console.log(" Original file deleted successfully:",i)}catch(t){console.error(" Original file deletion failed:",t),console.warn("Continuing despite file deletion failure")}}async replaceOriginalFile(n,t,r,i,a){try{return i&&await this.deleteOriginalFile(i),await this.uploadOriginalFile(n,t,r,a)}catch(s){throw console.error(" Original file replacement failed:",s),new Error(`Failed to replace original file: ${s instanceof Error?s.message:"Unknown error"}`)}}getFileExtension(n){var t;return((t=n.split(".").pop())==null?void 0:t.toLowerCase())||""}validateFile(n){return n.size>524288e3?{isValid:!1,error:`File size (${(n.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(n.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${n.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const k5=new _F,z_={isProcessing:!1,progress:null,error:null,uploadedFile:null,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,processingOptions:{maxOutputTokens:4096,topK:1,topP:.1,preserveFormatting:!0,extractImages:!0,extractLinks:!0}},Dd=xp()(Ug((e,n)=>({...z_,setUploadedFile:t=>{const{originalFileUrl:r}=n();r&&t&&t.name!==r&&k5.deleteOriginalFile(r).catch(i=>{console.warn("Failed to delete previous original file:",i)}),e({uploadedFile:t,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,error:null})},extractTextFromFile:async()=>{const{uploadedFile:t}=n();if(!t){e({error:"No file uploaded"});return}try{const r=zT(t);if(!r.isValid){e({error:r.error||"Invalid file"});return}}catch(r){console.error("File validation error:",r),e({error:"Failed to validate file"});return}e({isProcessing:!0,error:null,progress:{stage:"extracting",percentage:10,currentOperation:`Extracting text from ${qT(t)}...`}});try{const r=await PT(t);if(!r||!r.text||r.text.trim().length===0)throw new Error("No text content could be extracted from the file");const i=r.text.trim().split(/\s+/).length;i<5&&console.warn("Very short text extracted:",{wordCount:i,text:r.text.substring(0,100)}),e({extractedText:r.text,extractionResult:r,progress:{stage:"extracting",percentage:100,currentOperation:"Text extraction complete!"}}),setTimeout(()=>{e({isProcessing:!1,progress:null})},500)}catch(r){console.error("Text extraction error:",r);const i=r;let a="Failed to extract text from file";i.code==="PDF_EXTRACTION_ERROR"?a="Could not extract text from PDF. The file may be image-based or corrupted.":i.code==="DOCX_EXTRACTION_ERROR"?a="Could not extract text from Word document. Please check the file is not corrupted.":i.code==="PPTX_EXTRACTION_ERROR"?a="Could not extract text from PowerPoint presentation. Please ensure it contains text content.":i.message&&(a=i.message),e({error:a,isProcessing:!1,progress:null})}},processWithAI:async(t,r,i)=>{var h;const{uploadedFile:a,extractedText:s,extractionResult:l,processingOptions:c}=n();if(!(t!=null&&t.trim())){e({error:"Course ID is required for AI processing"});return}if(!(r!=null&&r.trim())){e({error:"Author ID is required for AI processing"});return}if(!a||!(s!=null&&s.trim())){e({error:"No file or extracted text available for AI processing"});return}const d=s.trim().split(/\s+/).length;if(d<10){e({error:"Extracted text is too short for meaningful AI processing (minimum 10 words required)"});return}d>5e4&&console.warn("Very large text content detected:",{wordCount:d,fileName:a.name}),e({isProcessing:!0,error:null,progress:{stage:"analyzing",percentage:0,currentOperation:"Initializing AI processing..."}});try{let g;try{g=Gw(i)}catch(w){console.error("Service initialization error:",w);let C="Material import service not available.";w instanceof Error&&(w.message.includes("API key")?C="API key not configured. Please set VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.":C=`Service error: ${w.message}`),e({error:C,isProcessing:!1,progress:null});return}const b={maxOutputTokens:Math.min(Math.max(c.maxOutputTokens||16384,8192),32768),topK:Math.min(Math.max(c.topK||3,1),10),topP:Math.min(Math.max(c.topP||.9,.1),1),preserveFormatting:!!c.preserveFormatting,extractImages:!!c.extractImages,extractLinks:!!c.extractLinks},m=12e4,x=new Promise((w,C)=>{setTimeout(()=>C(new Error("AI processing timeout - please try with a smaller file")),m)}),y=await Promise.race([g.processMaterialContent(s,a.name,a.type,b,w=>{w&&typeof w=="object"&&e({progress:w})},l==null?void 0:l.metadata),x]);if(!y||typeof y!="object")throw new Error("Invalid AI processing result received");(h=y.title)!=null&&h.trim()||(console.warn("AI result missing title, using filename as fallback"),y.title=a.name.replace(/\.[^/.]+$/,"")||"Untitled Material"),(!y.sections||!Array.isArray(y.sections)||y.sections.length===0)&&(console.warn("AI result missing sections, creating default section"),y.sections=[{title:"Main Content",content:"Content extracted from uploaded material.",subsections:[],images:[],links:[]}]);const A=g.convertToMaterialFormat(y,t,r,l==null?void 0:l.metadata);e({aiExtractedData:y,convertedMaterial:A,isProcessing:!1,progress:{stage:"complete",percentage:100,currentOperation:"Material processing complete!"}}),setTimeout(()=>{e({progress:null})},1500)}catch(g){console.error("AI processing error:",g);let b="Failed to process material with AI";g instanceof Error&&(g.message.includes("timeout")?b="AI processing timed out. Please try with a smaller file or simpler content.":g.message.includes("API key")||g.message.includes("API_KEY_INVALID")?b="Invalid API key. Please check your API key configuration.":g.message.includes("RATE_LIMIT")||g.message.includes("rate limit")?b="API rate limit exceeded. Please wait a few minutes before trying again.":g.message.includes("SAFETY")||g.message.includes("safety")?b="Content flagged by safety filters. Please try with different content.":g.message.includes("network")||g.message.includes("fetch")?b="Network error. Please check your internet connection and try again.":b=`AI processing failed: ${g.message}`),e({error:b,isProcessing:!1,progress:null})}},uploadOriginalFile:async(t,r)=>{const{uploadedFile:i}=n();if(!i){e({error:"No file selected for upload"});return}try{e({originalFileUploadProgress:0,error:null});const a=i.size>25*1024*1024,s=(i.size/1024/1024).toFixed(1);console.log(` Starting original file upload to Firebase Storage... (${s}MB, ${a?"chunked":"standard"} upload)`);const l=await k5.uploadOriginalFile(i,t,r,c=>{e({originalFileUploadProgress:c})});e({originalFileUrl:l.url,originalFileUploadProgress:null}),console.log(" Original file uploaded successfully:",{url:l.url,size:`${s}MB`,method:a?"chunked":"standard"})}catch(a){throw console.error(" Original file upload failed:",a),e({error:a instanceof Error?a.message:"Failed to upload original file",originalFileUploadProgress:null}),a}},replaceOriginalFile:async(t,r,i)=>{const{uploadedFile:a}=n();if(!a){e({error:"No file selected for replacement"});return}try{e({originalFileUploadProgress:0,error:null}),console.log(" Replacing original file in Firebase Storage...");const s=await k5.replaceOriginalFile(a,t,r,i,l=>{e({originalFileUploadProgress:l})});e({originalFileUrl:s.url,originalFileUploadProgress:null}),console.log(" Original file replaced successfully:",s.url)}catch(s){throw console.error(" Original file replacement failed:",s),e({error:s instanceof Error?s.message:"Failed to replace original file",originalFileUploadProgress:null}),s}},resetImport:()=>{try{Gw().cleanupBlobUrls()}catch(t){console.warn("Failed to cleanup blob URLs during reset:",t)}e(z_)},setProcessingOptions:t=>{e(r=>({processingOptions:{...r.processingOptions,...t}}))},setError:t=>{e({error:t})}}),{name:"material-import-store",partialize:e=>({processingOptions:e.processingOptions})})),kF=()=>{const e=Dd();return{setUploadedFile:e.setUploadedFile,extractTextFromFile:e.extractTextFromFile,processWithAI:e.processWithAI,resetImport:e.resetImport,setProcessingOptions:e.setProcessingOptions,setError:e.setError}},jF=()=>{const e=Dd();return{isProcessing:e.isProcessing,progress:e.progress,error:e.error,uploadedFile:e.uploadedFile,extractedText:e.extractedText,aiExtractedData:e.aiExtractedData,convertedMaterial:e.convertedMaterial,processingOptions:e.processingOptions}},Qw=async(e,n,t,r)=>{const i=Dd.getState(),{aiExtractedData:a,extractionResult:s}=i;if(!a)throw new Error("No AI result available for conversion");return await Gw().convertToMaterialFormatWithImageUpload(a,e,n,t,s==null?void 0:s.metadata,r)},NF=()=>{const{extractedText:e,isProcessing:n}=Dd();return!n&&!!(e!=null&&e.trim())},TF=()=>{const{convertedMaterial:e,isProcessing:n}=Dd();return!n&&!!e},ihe=Object.freeze(Object.defineProperty({__proto__:null,convertMaterialWithImageUpload:Qw,useIsImportComplete:TF,useIsReadyForAI:NF,useMaterialImportActions:kF,useMaterialImportStatus:jF,useMaterialImportStore:Dd},Symbol.toStringTag,{value:"Module"}));var f1={},q_;function OF(){if(q_)return f1;q_=1;var e=Wd();Object.defineProperty(f1,"__esModule",{value:!0}),f1.default=void 0;var n=e(Yd()),t=Vd();return f1.default=(0,n.default)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),f1}var IF=OF();const D6=ns(IF),j5=({onDelete:e,itemType:n})=>{const[t,r]=it.useState(!1),i=()=>{r(!0)},a=()=>{r(!1)},s=()=>{e(),a()};return f.jsxs(f.Fragment,{children:[f.jsx(Cn,{onClick:i,size:"small",children:f.jsx(D6,{})}),f.jsxs(Xi,{open:t,onClose:a,children:[f.jsx(pa,{children:`Delete ${n}`}),f.jsx(Zi,{children:f.jsx(Fl,{children:`Are you sure you want to delete this ${n}? This action cannot be undone.`})}),f.jsxs(ma,{children:[f.jsx(At,{onClick:a,color:"primary",children:"Cancel"}),f.jsx(At,{onClick:s,color:"secondary",children:"Delete"})]})]})]})},BT=({sections:e,selected:n,onAddSection:t,onAddSubsection:r,onAddSubSubsection:i,onSelectSection:a,onUpdateSectionTitle:s,onUpdateSubsectionTitle:l,onUpdateSubSubsectionTitle:c,onDeleteSection:d,onDeleteSubsection:h,onDeleteSubSubsection:g,isViewMode:b=!1})=>{const[m,x]=K.useState(null),[y,A]=K.useState(null),[w,C]=K.useState(null),[N,F]=K.useState(""),[R,M]=K.useState(e.map(()=>!0)),[k,L]=K.useState(e.reduce(($,ae,U)=>($[U]=ae.subsections.map(()=>!0),$),{}));K.useEffect(()=>{M(e.map(()=>!0))},[e]),K.useEffect(()=>{const $=e.reduce((ae,U,q)=>(ae[q]=U.subsections.map(()=>!0),ae),{});L($)},[e]);const B=$=>{const ae=[...R];ae[$]=!ae[$],M(ae)},Q=($,ae)=>{const U={...k};U[$][ae]=!U[$][ae],L(U)},j=($,ae)=>{m!==null?s(m,N):y?l(y.section,y.subsection,N):w&&c(w.section,w.subsection,w.subSubsection,N),x($),A(null),C(null),F(ae)},O=$=>{s($,N),x(null),F("")},z=($,ae,U)=>{m!==null?s(m,N):y?l(y.section,y.subsection,N):w&&c(w.section,w.subsection,w.subSubsection,N),x(null),A({section:$,subsection:ae}),C(null),F(U)},T=($,ae)=>{l($,ae,N),A(null),F("")},G=($,ae,U,q)=>{m!==null?s(m,N):y?l(y.section,y.subsection,N):w&&c(w.section,w.subsection,w.subSubsection,N),x(null),A(null),C({section:$,subsection:ae,subSubsection:U}),F(q)},W=($,ae,U)=>{c($,ae,U,N),C(null),F("")},X=($,ae,U,q)=>n.sectionIndex===$&&n.subsectionIndex===ae&&n.subSubsectionIndex===U&&n.type===q,ue=mM||{width:"320px",minWidth:"320px",maxWidth:"320px",backgroundColor:"#F8FAFC",borderRight:"1px solid #E2E8F0"};return f.jsxs(me,{sx:{width:ue.width,minWidth:ue.minWidth,maxWidth:ue.maxWidth,backgroundColor:ue.backgroundColor,borderRight:ue.borderRight,height:"100%",display:"flex",flexDirection:"column"},children:[f.jsxs(me,{sx:{p:3,pb:2},children:[f.jsxs(de,{variant:"h6",sx:{fontFamily:ht.typography.h6.fontFamily,fontWeight:ht.typography.h6.fontWeight,color:ht.palette.text.primary,mb:2,display:"flex",alignItems:"center",gap:1},children:[f.jsx(K9,{sx:{fontSize:20}}),"Outline"]}),!b&&f.jsx(At,{variant:"contained",startIcon:f.jsx(yu,{}),onClick:t,sx:{width:"100%",borderRadius:Zt.xl,textTransform:"none",fontWeight:600},children:"Add Section"})]}),f.jsx(ts,{}),f.jsx(me,{sx:{flex:1,overflow:"auto"},children:f.jsxs($f,{sx:{p:0},children:[f.jsx(Ed,{onClick:()=>a("header"),sx:{cursor:"pointer",backgroundColor:X(void 0,void 0,void 0,"header")?ht.palette.primary.light:"transparent",borderLeft:X(void 0,void 0,void 0,"header")?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:f.jsx(Il,{primary:"Header",sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body1.fontFamily,fontWeight:X(void 0,void 0,void 0,"header")?600:400,color:X(void 0,void 0,void 0,"header")?ht.palette.primary.main:ht.palette.text.primary}}})}),e.map(($,ae)=>f.jsxs(me,{children:[f.jsx(Ed,{onClick:()=>a(ae),sx:{cursor:"pointer",backgroundColor:X(ae)?ht.palette.primary.light:"transparent",borderLeft:X(ae)?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:m===ae?f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[f.jsx(Bt,{value:N,onChange:U=>F(U.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&f.jsx(Cn,{onClick:()=>O(ae),size:"small",color:"primary",children:f.jsx(D0,{})})]}):f.jsxs(f.Fragment,{children:[f.jsx(Il,{primary:$.title,sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body1.fontFamily,fontWeight:X(ae)?600:400,color:X(ae)?ht.palette.primary.main:ht.palette.text.primary}}}),!b&&f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:.5},children:[f.jsx(si,{title:"Edit Section",arrow:!0,children:f.jsx(Cn,{onClick:U=>{U.stopPropagation(),j(ae,$.title)},size:"small",sx:{color:ht.palette.primary.main},children:f.jsx(wu,{fontSize:"small"})})}),f.jsx(j5,{onDelete:()=>d(ae),itemType:"section"})]}),$.subsections.length>0&&f.jsx(Cn,{onClick:U=>{U.stopPropagation(),B(ae)},size:"small",sx:{ml:1},children:R[ae]?f.jsx(og,{fontSize:"small"}):f.jsx(Vo,{fontSize:"small"})}),!b&&f.jsx(si,{title:"Add Subsection",arrow:!0,children:f.jsx(Cn,{onClick:U=>{U.stopPropagation(),r(ae)},size:"small",sx:{color:ht.palette.success.main},children:f.jsx(yu,{fontSize:"small"})})})]})}),f.jsx(sg,{in:R[ae],timeout:"auto",unmountOnExit:!0,children:f.jsx($f,{sx:{pl:2},children:$.subsections.map((U,q)=>f.jsxs(me,{children:[f.jsx(Ed,{onClick:()=>a(ae,q),sx:{cursor:"pointer",backgroundColor:X(ae,q)?ht.palette.primary.light:"transparent",borderLeft:X(ae,q)?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:y&&y.section===ae&&y.subsection===q?f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[f.jsx(Bt,{value:N,onChange:Z=>F(Z.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&f.jsx(Cn,{onClick:()=>T(ae,q),size:"small",color:"primary",children:f.jsx(D0,{})})]}):f.jsxs(f.Fragment,{children:[f.jsx(Il,{primary:U.title,sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body2.fontFamily,fontWeight:X(ae,q)?600:400,color:X(ae,q)?ht.palette.primary.main:ht.palette.text.primary}}}),!b&&f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:.5},children:[f.jsx(si,{title:"Edit Subsection",arrow:!0,children:f.jsx(Cn,{onClick:Z=>{Z.stopPropagation(),z(ae,q,U.title)},size:"small",sx:{color:ht.palette.primary.main},children:f.jsx(wu,{fontSize:"small"})})}),f.jsx(j5,{onDelete:()=>h(ae,q),itemType:"subsection"})]}),U.subSubsections.length>0&&f.jsx(Cn,{onClick:Z=>{Z.stopPropagation(),Q(ae,q)},size:"small",sx:{ml:1},children:k[ae][q]?f.jsx(og,{fontSize:"small"}):f.jsx(Vo,{fontSize:"small"})}),!b&&f.jsx(si,{title:"Add Sub-subsection",arrow:!0,children:f.jsx(Cn,{onClick:Z=>{Z.stopPropagation(),i(ae,q)},size:"small",sx:{color:ht.palette.success.main},children:f.jsx(yu,{fontSize:"small"})})})]})}),f.jsx(sg,{in:k[ae][q],timeout:"auto",unmountOnExit:!0,children:f.jsx($f,{sx:{pl:2},children:U.subSubsections.map((Z,ee)=>f.jsx(Ed,{onClick:()=>a(ae,q,ee),sx:{cursor:"pointer",backgroundColor:X(ae,q,ee)?ht.palette.primary.light:"transparent",borderLeft:X(ae,q,ee)?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:w&&w.section===ae&&w.subsection===q&&w.subSubsection===ee?f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[f.jsx(Bt,{value:N,onChange:se=>F(se.target.value),size:"small",variant:"outlined",disabled:b,sx:{flex:1}}),!b&&f.jsx(Cn,{onClick:()=>W(ae,q,ee),size:"small",color:"primary",children:f.jsx(D0,{})})]}):f.jsxs(f.Fragment,{children:[f.jsx(Il,{primary:Z.title,sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body2.fontFamily,fontWeight:X(ae,q,ee)?600:400,color:X(ae,q,ee)?ht.palette.primary.main:ht.palette.text.secondary,fontSize:"0.875rem"}}}),!b&&f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:.5},children:[f.jsx(si,{title:"Edit Sub-subsection",arrow:!0,children:f.jsx(Cn,{onClick:se=>{se.stopPropagation(),G(ae,q,ee,Z.title)},size:"small",sx:{color:ht.palette.primary.main},children:f.jsx(wu,{fontSize:"small"})})}),f.jsx(j5,{onDelete:()=>g(ae,q,ee),itemType:"subSubsection"})]})]})},Z.id))})})]},U.id))})})]},$.id)),f.jsx(Ed,{onClick:()=>a("footer"),sx:{cursor:"pointer",backgroundColor:X(void 0,void 0,void 0,"footer")?ht.palette.primary.light:"transparent",borderLeft:X(void 0,void 0,void 0,"footer")?`4px solid ${ht.palette.primary.main}`:"4px solid transparent",transition:ht.transitions.create(["background-color","border-color"]),"&:hover":{backgroundColor:ht.palette.action.hover}},children:f.jsx(Il,{primary:"Footer",sx:{"& .MuiListItemText-primary":{fontFamily:ht.typography.body1.fontFamily,fontWeight:X(void 0,void 0,void 0,"footer")?600:400,color:X(void 0,void 0,void 0,"footer")?ht.palette.primary.main:ht.palette.text.primary}}})})]})})]})},DF=({returnToSelection:e=!1,courseId:n})=>{const t=ea(),[r]=Bg(),i=r.get("course"),a=()=>{const s=n||i;t(e||!s?"/supplemental-materials":`/supplemental-materials?course=${s}`)};return f.jsx(At,{variant:"text",color:"primary",startIcon:f.jsx(jT,{}),onClick:a,className:"supplemental-back-button",children:e?"Course Selection":"Course Materials"})},LF=({sectionId:e,images:n,onImagesChange:t})=>{const[r,i]=K.useState(!1),[a,s]=K.useState(""),[l,c]=K.useState("success"),[d,h]=K.useState(null),[g,b]=K.useState(""),m=ch(),x=async F=>{if(F.target.files){const R=Array.from(F.target.files),M=[];for(const k of R)try{const L=await C(k),B=await N(L);M.push({url:B.url,title:`Image ${n.length+M.length+1}`,id:Ri()})}catch{s("Failed to upload images"),c("error"),i(!0)}t([...n,...M]),s("Image(s) uploaded successfully"),c("success"),i(!0)}},y=F=>{h(F),b(F.title)},A=()=>{if(d){const F=n.map(R=>R.url===d.url?{...R,title:g}:R);t(F),h(null),b("")}},w=F=>{const R=n.filter(M=>M.url!==F.url);t(R)},C=F=>new Promise((R,M)=>{F.size>5*1024*1024?FT.imageFileResizer(F,500,500,"JPEG",70,0,k=>{typeof k=="string"?M(new Error("Compression returned a string instead of a file")):R(k)},"file"):R(F)}),N=F=>new Promise((R,M)=>{const k=vu(m,`materials/${e}/${F.name}`);Xf(k,F).then(L=>{Id(L.ref).then(B=>{R({url:B,path:L.ref.fullPath})})}).catch(L=>M(L))});return f.jsxs(me,{children:[f.jsxs(me,{sx:{display:"flex",alignItems:"center",mb:2},children:[f.jsx(X9,{sx:{mr:1,color:ht.palette.primary.main}}),f.jsx(de,{variant:"h6",sx:{fontWeight:600,color:ht.palette.text.primary},children:"Images"}),f.jsx(Dn,{label:`${n.length} image${n.length!==1?"s":""}`,size:"small",sx:{ml:2}})]}),f.jsxs(At,{variant:"contained",component:"label",startIcon:f.jsx(yu,{}),sx:{mb:3,textTransform:"none",borderRadius:Zt.xl},children:["Add Images",f.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:x})]}),n.length>0&&f.jsx(xt,{container:!0,spacing:2,children:n.map((F,R)=>f.jsx(xt,{item:!0,xs:12,sm:6,md:4,children:f.jsxs(Xa,{sx:{borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{boxShadow:ht.shadows[4],transform:"translateY(-2px)"}},children:[f.jsxs(me,{sx:{position:"relative"},children:[f.jsx("img",{src:F.url,alt:F.title,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:`${Zt.xl} ${Zt.xl} 0 0`}}),f.jsxs(me,{sx:{position:"absolute",top:8,right:8,display:"flex",gap:.5},children:[f.jsx(Cn,{size:"small",onClick:()=>y(F),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:ht.palette.primary.main,color:"white"}},children:f.jsx(wu,{fontSize:"small"})}),f.jsx(Cn,{size:"small",onClick:()=>w(F),sx:{backgroundColor:"rgba(255, 255, 255, 0.9)","&:hover":{backgroundColor:ht.palette.error.main,color:"white"}},children:f.jsx(_d,{fontSize:"small"})})]})]}),f.jsx(Za,{sx:{p:2},children:f.jsx(de,{variant:"body2",sx:{fontWeight:500,color:ht.palette.text.primary,wordBreak:"break-word"},children:F.title})})]})},F.id||R))}),f.jsxs(Xi,{open:!!d,onClose:()=>h(null),maxWidth:"sm",fullWidth:!0,children:[f.jsx(pa,{sx:{pb:1},children:f.jsxs(me,{sx:{display:"flex",alignItems:"center"},children:[f.jsx(wu,{sx:{mr:1,color:ht.palette.primary.main}}),"Edit Image Title"]})}),f.jsx(Zi,{children:f.jsx(Bt,{fullWidth:!0,label:"Image Title",value:g,onChange:F=>b(F.target.value),variant:"outlined",sx:{mt:2}})}),f.jsxs(ma,{sx:{p:3,pt:1},children:[f.jsx(At,{onClick:()=>h(null),startIcon:f.jsx(w6,{}),sx:{textTransform:"none"},children:"Cancel"}),f.jsx(At,{onClick:A,variant:"contained",startIcon:f.jsx(D0,{}),sx:{textTransform:"none"},children:"Save Changes"})]})]}),f.jsx(rl,{open:r,autoHideDuration:6e3,onClose:()=>i(!1),children:f.jsx(vr,{onClose:()=>i(!1),severity:l,sx:{width:"100%"},children:a})})]})},RF=({links:e,onLinksChange:n})=>{const t=()=>{const s={title:"",url:"",description:""};n([...e,s])},r=s=>{const l=e.filter((c,d)=>d!==s);n(l)},i=(s,l,c)=>{const d=[...e];d[s][l]=c,n(d)},a=s=>{try{return new URL(s),!0}catch{return!1}};return f.jsxs(me,{children:[f.jsxs(me,{sx:{display:"flex",alignItems:"center",mb:2},children:[f.jsx(Z9,{sx:{mr:1,color:ht.palette.primary.main}}),f.jsx(de,{variant:"h6",sx:{fontWeight:600,color:ht.palette.text.primary},children:"Links"}),f.jsx(Dn,{label:`${e.length} link${e.length!==1?"s":""}`,size:"small",sx:{ml:2}})]}),f.jsx(At,{variant:"contained",onClick:t,startIcon:f.jsx(yu,{}),sx:{mb:3,textTransform:"none",borderRadius:Zt.xl},children:"Add Link"}),e.length>0&&f.jsx(me,{sx:{display:"flex",flexDirection:"column",gap:2},children:e.map((s,l)=>f.jsxs(Xa,{sx:{borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`,transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{boxShadow:ht.shadows[2]}},children:[f.jsx(Za,{sx:{p:3},children:f.jsxs(xt,{container:!0,spacing:2,children:[f.jsx(xt,{item:!0,xs:12,sm:6,children:f.jsx(Bt,{fullWidth:!0,label:"Link Title",value:s.title,onChange:c=>i(l,"title",c.target.value),variant:"outlined",size:"small",placeholder:"Enter link title",sx:{"& .MuiOutlinedInput-root":{borderRadius:Zt.xl}}})}),f.jsx(xt,{item:!0,xs:12,sm:6,children:f.jsx(Bt,{fullWidth:!0,label:"URL",value:s.url,onChange:c=>i(l,"url",c.target.value),variant:"outlined",size:"small",placeholder:"https://example.com",error:s.url&&!a(s.url),helperText:s.url&&!a(s.url)?"Please enter a valid URL":"",sx:{"& .MuiOutlinedInput-root":{borderRadius:Zt.xl}}})}),f.jsx(xt,{item:!0,xs:12,children:f.jsx(Bt,{fullWidth:!0,label:"Description (Optional)",value:s.description,onChange:c=>i(l,"description",c.target.value),variant:"outlined",size:"small",multiline:!0,rows:2,placeholder:"Enter link description",sx:{"& .MuiOutlinedInput-root":{borderRadius:Zt.xl}}})})]})}),f.jsx(ts,{}),f.jsxs(KN,{sx:{p:2,justifyContent:"space-between"},children:[f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.url&&a(s.url)&&f.jsx(si,{title:"Open link",arrow:!0,children:f.jsx(Cn,{size:"small",onClick:()=>window.open(s.url,"_blank"),sx:{color:ht.palette.primary.main,"&:hover":{backgroundColor:ht.palette.primary.light}},children:f.jsx(J9,{fontSize:"small"})})}),f.jsxs(de,{variant:"caption",color:"text.secondary",children:["Link ",l+1]})]}),f.jsx(si,{title:"Delete link",arrow:!0,children:f.jsx(Cn,{size:"small",onClick:()=>r(l),sx:{color:ht.palette.error.main,"&:hover":{backgroundColor:ht.palette.error.light}},children:f.jsx(_d,{fontSize:"small"})})})]})]},l))})]})};var UT=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,MF=typeof self=="object"&&self&&self.Object===Object&&self,Wc=UT||MF||Function("return this")(),rh=Wc.Symbol,$T=Object.prototype,FF=$T.hasOwnProperty,PF=$T.toString,h1=rh?rh.toStringTag:void 0;function zF(e){var n=FF.call(e,h1),t=e[h1];try{e[h1]=void 0;var r=!0}catch{}var i=PF.call(e);return r&&(n?e[h1]=t:delete e[h1]),i}var qF=Object.prototype,BF=qF.toString;function UF(e){return BF.call(e)}var $F="[object Null]",HF="[object Undefined]",B_=rh?rh.toStringTag:void 0;function cm(e){return e==null?e===void 0?HF:$F:B_&&B_ in Object(e)?zF(e):UF(e)}function zd(e){return e!=null&&typeof e=="object"}var dp=Array.isArray;function fh(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}function HT(e){return e}var WF="[object AsyncFunction]",VF="[object Function]",YF="[object GeneratorFunction]",GF="[object Proxy]";function L6(e){if(!fh(e))return!1;var n=cm(e);return n==VF||n==YF||n==WF||n==GF}var N5=Wc["__core-js_shared__"],U_=function(){var e=/[^.]+$/.exec(N5&&N5.keys&&N5.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function QF(e){return!!U_&&U_ in e}var KF=Function.prototype,XF=KF.toString;function vp(e){if(e!=null){try{return XF.call(e)}catch{}try{return e+""}catch{}}return""}var ZF=/[\\^$.*+?()[\]{}|]/g,JF=/^\[object .+?Constructor\]$/,eP=Function.prototype,tP=Object.prototype,nP=eP.toString,rP=tP.hasOwnProperty,iP=RegExp("^"+nP.call(rP).replace(ZF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function aP(e){if(!fh(e)||QF(e))return!1;var n=L6(e)?iP:JF;return n.test(vp(e))}function sP(e,n){return e==null?void 0:e[n]}function wp(e,n){var t=sP(e,n);return aP(t)?t:void 0}var Kw=wp(Wc,"WeakMap"),$_=Object.create,oP=function(){function e(){}return function(n){if(!fh(n))return{};if($_)return $_(n);e.prototype=n;var t=new e;return e.prototype=void 0,t}}();function lP(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}function uP(e,n){var t=-1,r=e.length;for(n||(n=Array(r));++t<r;)n[t]=e[t];return n}var cP=800,dP=16,fP=Date.now;function hP(e){var n=0,t=0;return function(){var r=fP(),i=dP-(r-t);if(t=r,i>0){if(++n>=cP)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}function pP(e){return function(){return e}}var _x=function(){try{var e=wp(Object,"defineProperty");return e({},"",{}),e}catch{}}(),mP=_x?function(e,n){return _x(e,"toString",{configurable:!0,enumerable:!1,value:pP(n),writable:!0})}:HT,gP=hP(mP);function bP(e,n){for(var t=-1,r=e==null?0:e.length;++t<r&&n(e[t],t,e)!==!1;);return e}var yP=9007199254740991,xP=/^(?:0|[1-9]\d*)$/;function WT(e,n){var t=typeof e;return n=n??yP,!!n&&(t=="number"||t!="symbol"&&xP.test(e))&&e>-1&&e%1==0&&e<n}function R6(e,n,t){n=="__proto__"&&_x?_x(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function Hg(e,n){return e===n||e!==e&&n!==n}var vP=Object.prototype,wP=vP.hasOwnProperty;function VT(e,n,t){var r=e[n];(!(wP.call(e,n)&&Hg(r,t))||t===void 0&&!(n in e))&&R6(e,n,t)}function SP(e,n,t,r){var i=!t;t||(t={});for(var a=-1,s=n.length;++a<s;){var l=n[a],c=void 0;c===void 0&&(c=e[l]),i?R6(t,l,c):VT(t,l,c)}return t}var H_=Math.max;function AP(e,n,t){return n=H_(n===void 0?e.length-1:n,0),function(){for(var r=arguments,i=-1,a=H_(r.length-n,0),s=Array(a);++i<a;)s[i]=r[n+i];i=-1;for(var l=Array(n+1);++i<n;)l[i]=r[i];return l[n]=t(s),lP(e,this,l)}}function CP(e,n){return gP(AP(e,n,HT),e+"")}var EP=9007199254740991;function YT(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=EP}function lv(e){return e!=null&&YT(e.length)&&!L6(e)}function _P(e,n,t){if(!fh(t))return!1;var r=typeof n;return(r=="number"?lv(t)&&WT(n,t.length):r=="string"&&n in t)?Hg(t[n],e):!1}function kP(e){return CP(function(n,t){var r=-1,i=t.length,a=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(i--,a):void 0,s&&_P(t[0],t[1],s)&&(a=i<3?void 0:a,i=1),n=Object(n);++r<i;){var l=t[r];l&&e(n,l,r,a)}return n})}var jP=Object.prototype;function M6(e){var n=e&&e.constructor,t=typeof n=="function"&&n.prototype||jP;return e===t}function NP(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t);return r}var TP="[object Arguments]";function W_(e){return zd(e)&&cm(e)==TP}var GT=Object.prototype,OP=GT.hasOwnProperty,IP=GT.propertyIsEnumerable,Xw=W_(function(){return arguments}())?W_:function(e){return zd(e)&&OP.call(e,"callee")&&!IP.call(e,"callee")};function DP(){return!1}var QT=typeof exports=="object"&&exports&&!exports.nodeType&&exports,V_=QT&&typeof module=="object"&&module&&!module.nodeType&&module,LP=V_&&V_.exports===QT,Y_=LP?Wc.Buffer:void 0,RP=Y_?Y_.isBuffer:void 0,pg=RP||DP,MP="[object Arguments]",FP="[object Array]",PP="[object Boolean]",zP="[object Date]",qP="[object Error]",BP="[object Function]",UP="[object Map]",$P="[object Number]",HP="[object Object]",WP="[object RegExp]",VP="[object Set]",YP="[object String]",GP="[object WeakMap]",QP="[object ArrayBuffer]",KP="[object DataView]",XP="[object Float32Array]",ZP="[object Float64Array]",JP="[object Int8Array]",ez="[object Int16Array]",tz="[object Int32Array]",nz="[object Uint8Array]",rz="[object Uint8ClampedArray]",iz="[object Uint16Array]",az="[object Uint32Array]",fi={};fi[XP]=fi[ZP]=fi[JP]=fi[ez]=fi[tz]=fi[nz]=fi[rz]=fi[iz]=fi[az]=!0;fi[MP]=fi[FP]=fi[QP]=fi[PP]=fi[KP]=fi[zP]=fi[qP]=fi[BP]=fi[UP]=fi[$P]=fi[HP]=fi[WP]=fi[VP]=fi[YP]=fi[GP]=!1;function sz(e){return zd(e)&&YT(e.length)&&!!fi[cm(e)]}function F6(e){return function(n){return e(n)}}var KT=typeof exports=="object"&&exports&&!exports.nodeType&&exports,K1=KT&&typeof module=="object"&&module&&!module.nodeType&&module,oz=K1&&K1.exports===KT,T5=oz&&UT.process,X0=function(){try{var e=K1&&K1.require&&K1.require("util").types;return e||T5&&T5.binding&&T5.binding("util")}catch{}}(),G_=X0&&X0.isTypedArray,P6=G_?F6(G_):sz,lz=Object.prototype,uz=lz.hasOwnProperty;function XT(e,n){var t=dp(e),r=!t&&Xw(e),i=!t&&!r&&pg(e),a=!t&&!r&&!i&&P6(e),s=t||r||i||a,l=s?NP(e.length,String):[],c=l.length;for(var d in e)(n||uz.call(e,d))&&!(s&&(d=="length"||i&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||WT(d,c)))&&l.push(d);return l}function ZT(e,n){return function(t){return e(n(t))}}var cz=ZT(Object.keys,Object),dz=Object.prototype,fz=dz.hasOwnProperty;function hz(e){if(!M6(e))return cz(e);var n=[];for(var t in Object(e))fz.call(e,t)&&t!="constructor"&&n.push(t);return n}function pz(e){return lv(e)?XT(e):hz(e)}function mz(e){var n=[];if(e!=null)for(var t in Object(e))n.push(t);return n}var gz=Object.prototype,bz=gz.hasOwnProperty;function yz(e){if(!fh(e))return mz(e);var n=M6(e),t=[];for(var r in e)r=="constructor"&&(n||!bz.call(e,r))||t.push(r);return t}function JT(e){return lv(e)?XT(e,!0):yz(e)}var mg=wp(Object,"create");function xz(){this.__data__=mg?mg(null):{},this.size=0}function vz(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var wz="__lodash_hash_undefined__",Sz=Object.prototype,Az=Sz.hasOwnProperty;function Cz(e){var n=this.__data__;if(mg){var t=n[e];return t===wz?void 0:t}return Az.call(n,e)?n[e]:void 0}var Ez=Object.prototype,_z=Ez.hasOwnProperty;function kz(e){var n=this.__data__;return mg?n[e]!==void 0:_z.call(n,e)}var jz="__lodash_hash_undefined__";function Nz(e,n){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=mg&&n===void 0?jz:n,this}function fp(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}fp.prototype.clear=xz;fp.prototype.delete=vz;fp.prototype.get=Cz;fp.prototype.has=kz;fp.prototype.set=Nz;function Tz(){this.__data__=[],this.size=0}function uv(e,n){for(var t=e.length;t--;)if(Hg(e[t][0],n))return t;return-1}var Oz=Array.prototype,Iz=Oz.splice;function Dz(e){var n=this.__data__,t=uv(n,e);if(t<0)return!1;var r=n.length-1;return t==r?n.pop():Iz.call(n,t,1),--this.size,!0}function Lz(e){var n=this.__data__,t=uv(n,e);return t<0?void 0:n[t][1]}function Rz(e){return uv(this.__data__,e)>-1}function Mz(e,n){var t=this.__data__,r=uv(t,e);return r<0?(++this.size,t.push([e,n])):t[r][1]=n,this}function Gd(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Gd.prototype.clear=Tz;Gd.prototype.delete=Dz;Gd.prototype.get=Lz;Gd.prototype.has=Rz;Gd.prototype.set=Mz;var gg=wp(Wc,"Map");function Fz(){this.size=0,this.__data__={hash:new fp,map:new(gg||Gd),string:new fp}}function Pz(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function cv(e,n){var t=e.__data__;return Pz(n)?t[typeof n=="string"?"string":"hash"]:t.map}function zz(e){var n=cv(this,e).delete(e);return this.size-=n?1:0,n}function qz(e){return cv(this,e).get(e)}function Bz(e){return cv(this,e).has(e)}function Uz(e,n){var t=cv(this,e),r=t.size;return t.set(e,n),this.size+=t.size==r?0:1,this}function Sp(e){var n=-1,t=e==null?0:e.length;for(this.clear();++n<t;){var r=e[n];this.set(r[0],r[1])}}Sp.prototype.clear=Fz;Sp.prototype.delete=zz;Sp.prototype.get=qz;Sp.prototype.has=Bz;Sp.prototype.set=Uz;function $z(e,n){for(var t=-1,r=n.length,i=e.length;++t<r;)e[i+t]=n[t];return e}var e7=ZT(Object.getPrototypeOf,Object),Hz="[object Object]",Wz=Function.prototype,Vz=Object.prototype,t7=Wz.toString,Yz=Vz.hasOwnProperty,Gz=t7.call(Object);function Qz(e){if(!zd(e)||cm(e)!=Hz)return!1;var n=e7(e);if(n===null)return!0;var t=Yz.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t instanceof t&&t7.call(t)==Gz}function Kz(){this.__data__=new Gd,this.size=0}function Xz(e){var n=this.__data__,t=n.delete(e);return this.size=n.size,t}function Zz(e){return this.__data__.get(e)}function Jz(e){return this.__data__.has(e)}var eq=200;function tq(e,n){var t=this.__data__;if(t instanceof Gd){var r=t.__data__;if(!gg||r.length<eq-1)return r.push([e,n]),this.size=++t.size,this;t=this.__data__=new Sp(r)}return t.set(e,n),this.size=t.size,this}function kc(e){var n=this.__data__=new Gd(e);this.size=n.size}kc.prototype.clear=Kz;kc.prototype.delete=Xz;kc.prototype.get=Zz;kc.prototype.has=Jz;kc.prototype.set=tq;var n7=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Q_=n7&&typeof module=="object"&&module&&!module.nodeType&&module,nq=Q_&&Q_.exports===n7,K_=nq?Wc.Buffer:void 0,X_=K_?K_.allocUnsafe:void 0;function r7(e,n){if(n)return e.slice();var t=e.length,r=X_?X_(t):new e.constructor(t);return e.copy(r),r}function rq(e,n){for(var t=-1,r=e==null?0:e.length,i=0,a=[];++t<r;){var s=e[t];n(s,t,e)&&(a[i++]=s)}return a}function iq(){return[]}var aq=Object.prototype,sq=aq.propertyIsEnumerable,Z_=Object.getOwnPropertySymbols,oq=Z_?function(e){return e==null?[]:(e=Object(e),rq(Z_(e),function(n){return sq.call(e,n)}))}:iq;function lq(e,n,t){var r=n(e);return dp(e)?r:$z(r,t(e))}function Zw(e){return lq(e,pz,oq)}var Jw=wp(Wc,"DataView"),eS=wp(Wc,"Promise"),tS=wp(Wc,"Set"),J_="[object Map]",uq="[object Object]",e8="[object Promise]",t8="[object Set]",n8="[object WeakMap]",r8="[object DataView]",cq=vp(Jw),dq=vp(gg),fq=vp(eS),hq=vp(tS),pq=vp(Kw),bu=cm;(Jw&&bu(new Jw(new ArrayBuffer(1)))!=r8||gg&&bu(new gg)!=J_||eS&&bu(eS.resolve())!=e8||tS&&bu(new tS)!=t8||Kw&&bu(new Kw)!=n8)&&(bu=function(e){var n=cm(e),t=n==uq?e.constructor:void 0,r=t?vp(t):"";if(r)switch(r){case cq:return r8;case dq:return J_;case fq:return e8;case hq:return t8;case pq:return n8}return n});var mq=Object.prototype,gq=mq.hasOwnProperty;function bq(e){var n=e.length,t=new e.constructor(n);return n&&typeof e[0]=="string"&&gq.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var kx=Wc.Uint8Array;function z6(e){var n=new e.constructor(e.byteLength);return new kx(n).set(new kx(e)),n}function yq(e,n){var t=z6(e.buffer);return new e.constructor(t,e.byteOffset,e.byteLength)}var xq=/\w*$/;function vq(e){var n=new e.constructor(e.source,xq.exec(e));return n.lastIndex=e.lastIndex,n}var i8=rh?rh.prototype:void 0,a8=i8?i8.valueOf:void 0;function wq(e){return a8?Object(a8.call(e)):{}}function i7(e,n){var t=n?z6(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var Sq="[object Boolean]",Aq="[object Date]",Cq="[object Map]",Eq="[object Number]",_q="[object RegExp]",kq="[object Set]",jq="[object String]",Nq="[object Symbol]",Tq="[object ArrayBuffer]",Oq="[object DataView]",Iq="[object Float32Array]",Dq="[object Float64Array]",Lq="[object Int8Array]",Rq="[object Int16Array]",Mq="[object Int32Array]",Fq="[object Uint8Array]",Pq="[object Uint8ClampedArray]",zq="[object Uint16Array]",qq="[object Uint32Array]";function Bq(e,n,t){var r=e.constructor;switch(n){case Tq:return z6(e);case Sq:case Aq:return new r(+e);case Oq:return yq(e);case Iq:case Dq:case Lq:case Rq:case Mq:case Fq:case Pq:case zq:case qq:return i7(e,t);case Cq:return new r;case Eq:case jq:return new r(e);case _q:return vq(e);case kq:return new r;case Nq:return wq(e)}}function a7(e){return typeof e.constructor=="function"&&!M6(e)?oP(e7(e)):{}}var Uq="[object Map]";function $q(e){return zd(e)&&bu(e)==Uq}var s8=X0&&X0.isMap,Hq=s8?F6(s8):$q,Wq="[object Set]";function Vq(e){return zd(e)&&bu(e)==Wq}var o8=X0&&X0.isSet,Yq=o8?F6(o8):Vq,Gq=1,s7="[object Arguments]",Qq="[object Array]",Kq="[object Boolean]",Xq="[object Date]",Zq="[object Error]",o7="[object Function]",Jq="[object GeneratorFunction]",eB="[object Map]",tB="[object Number]",l7="[object Object]",nB="[object RegExp]",rB="[object Set]",iB="[object String]",aB="[object Symbol]",sB="[object WeakMap]",oB="[object ArrayBuffer]",lB="[object DataView]",uB="[object Float32Array]",cB="[object Float64Array]",dB="[object Int8Array]",fB="[object Int16Array]",hB="[object Int32Array]",pB="[object Uint8Array]",mB="[object Uint8ClampedArray]",gB="[object Uint16Array]",bB="[object Uint32Array]",ii={};ii[s7]=ii[Qq]=ii[oB]=ii[lB]=ii[Kq]=ii[Xq]=ii[uB]=ii[cB]=ii[dB]=ii[fB]=ii[hB]=ii[eB]=ii[tB]=ii[l7]=ii[nB]=ii[rB]=ii[iB]=ii[aB]=ii[pB]=ii[mB]=ii[gB]=ii[bB]=!0;ii[Zq]=ii[o7]=ii[sB]=!1;function Gy(e,n,t,r,i,a){var s,l=n&Gq;if(s!==void 0)return s;if(!fh(e))return e;var c=dp(e);if(c)s=bq(e);else{var d=bu(e),h=d==o7||d==Jq;if(pg(e))return r7(e,l);if(d==l7||d==s7||h&&!i)s=h?{}:a7(e);else{if(!ii[d])return i?e:{};s=Bq(e,d,l)}}a||(a=new kc);var g=a.get(e);if(g)return g;a.set(e,s),Yq(e)?e.forEach(function(x){s.add(Gy(x,n,t,x,e,a))}):Hq(e)&&e.forEach(function(x,y){s.set(y,Gy(x,n,t,y,e,a))});var b=Zw,m=c?void 0:b(e);return bP(m||e,function(x,y){m&&(y=x,x=e[y]),VT(s,y,Gy(x,n,t,y,e,a))}),s}var yB=1,xB=4;function L0(e){return Gy(e,yB|xB)}var vB="__lodash_hash_undefined__";function wB(e){return this.__data__.set(e,vB),this}function SB(e){return this.__data__.has(e)}function jx(e){var n=-1,t=e==null?0:e.length;for(this.__data__=new Sp;++n<t;)this.add(e[n])}jx.prototype.add=jx.prototype.push=wB;jx.prototype.has=SB;function AB(e,n){for(var t=-1,r=e==null?0:e.length;++t<r;)if(n(e[t],t,e))return!0;return!1}function CB(e,n){return e.has(n)}var EB=1,_B=2;function u7(e,n,t,r,i,a){var s=t&EB,l=e.length,c=n.length;if(l!=c&&!(s&&c>l))return!1;var d=a.get(e),h=a.get(n);if(d&&h)return d==n&&h==e;var g=-1,b=!0,m=t&_B?new jx:void 0;for(a.set(e,n),a.set(n,e);++g<l;){var x=e[g],y=n[g];if(r)var A=s?r(y,x,g,n,e,a):r(x,y,g,e,n,a);if(A!==void 0){if(A)continue;b=!1;break}if(m){if(!AB(n,function(w,C){if(!CB(m,C)&&(x===w||i(x,w,t,r,a)))return m.push(C)})){b=!1;break}}else if(!(x===y||i(x,y,t,r,a))){b=!1;break}}return a.delete(e),a.delete(n),b}function kB(e){var n=-1,t=Array(e.size);return e.forEach(function(r,i){t[++n]=[i,r]}),t}function jB(e){var n=-1,t=Array(e.size);return e.forEach(function(r){t[++n]=r}),t}var NB=1,TB=2,OB="[object Boolean]",IB="[object Date]",DB="[object Error]",LB="[object Map]",RB="[object Number]",MB="[object RegExp]",FB="[object Set]",PB="[object String]",zB="[object Symbol]",qB="[object ArrayBuffer]",BB="[object DataView]",l8=rh?rh.prototype:void 0,O5=l8?l8.valueOf:void 0;function UB(e,n,t,r,i,a,s){switch(t){case BB:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case qB:return!(e.byteLength!=n.byteLength||!a(new kx(e),new kx(n)));case OB:case IB:case RB:return Hg(+e,+n);case DB:return e.name==n.name&&e.message==n.message;case MB:case PB:return e==n+"";case LB:var l=kB;case FB:var c=r&NB;if(l||(l=jB),e.size!=n.size&&!c)return!1;var d=s.get(e);if(d)return d==n;r|=TB,s.set(e,n);var h=u7(l(e),l(n),r,i,a,s);return s.delete(e),h;case zB:if(O5)return O5.call(e)==O5.call(n)}return!1}var $B=1,HB=Object.prototype,WB=HB.hasOwnProperty;function VB(e,n,t,r,i,a){var s=t&$B,l=Zw(e),c=l.length,d=Zw(n),h=d.length;if(c!=h&&!s)return!1;for(var g=c;g--;){var b=l[g];if(!(s?b in n:WB.call(n,b)))return!1}var m=a.get(e),x=a.get(n);if(m&&x)return m==n&&x==e;var y=!0;a.set(e,n),a.set(n,e);for(var A=s;++g<c;){b=l[g];var w=e[b],C=n[b];if(r)var N=s?r(C,w,b,n,e,a):r(w,C,b,e,n,a);if(!(N===void 0?w===C||i(w,C,t,r,a):N)){y=!1;break}A||(A=b=="constructor")}if(y&&!A){var F=e.constructor,R=n.constructor;F!=R&&"constructor"in e&&"constructor"in n&&!(typeof F=="function"&&F instanceof F&&typeof R=="function"&&R instanceof R)&&(y=!1)}return a.delete(e),a.delete(n),y}var YB=1,u8="[object Arguments]",c8="[object Array]",my="[object Object]",GB=Object.prototype,d8=GB.hasOwnProperty;function QB(e,n,t,r,i,a){var s=dp(e),l=dp(n),c=s?c8:bu(e),d=l?c8:bu(n);c=c==u8?my:c,d=d==u8?my:d;var h=c==my,g=d==my,b=c==d;if(b&&pg(e)){if(!pg(n))return!1;s=!0,h=!1}if(b&&!h)return a||(a=new kc),s||P6(e)?u7(e,n,t,r,i,a):UB(e,n,c,t,r,i,a);if(!(t&YB)){var m=h&&d8.call(e,"__wrapped__"),x=g&&d8.call(n,"__wrapped__");if(m||x){var y=m?e.value():e,A=x?n.value():n;return a||(a=new kc),i(y,A,t,r,a)}}return b?(a||(a=new kc),VB(e,n,t,r,i,a)):!1}function c7(e,n,t,r,i){return e===n?!0:e==null||n==null||!zd(e)&&!zd(n)?e!==e&&n!==n:QB(e,n,t,r,c7,i)}function KB(e){return function(n,t,r){for(var i=-1,a=Object(n),s=r(n),l=s.length;l--;){var c=s[++i];if(t(a[c],c,a)===!1)break}return n}}var XB=KB();function nS(e,n,t){(t!==void 0&&!Hg(e[n],t)||t===void 0&&!(n in e))&&R6(e,n,t)}function ZB(e){return zd(e)&&lv(e)}function rS(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}function JB(e){return SP(e,JT(e))}function eU(e,n,t,r,i,a,s){var l=rS(e,t),c=rS(n,t),d=s.get(c);if(d){nS(e,t,d);return}var h=a?a(l,c,t+"",e,n,s):void 0,g=h===void 0;if(g){var b=dp(c),m=!b&&pg(c),x=!b&&!m&&P6(c);h=c,b||m||x?dp(l)?h=l:ZB(l)?h=uP(l):m?(g=!1,h=r7(c,!0)):x?(g=!1,h=i7(c,!0)):h=[]:Qz(c)||Xw(c)?(h=l,Xw(l)?h=JB(l):(!fh(l)||L6(l))&&(h=a7(c))):g=!1}g&&(s.set(c,h),i(h,c,r,a,s),s.delete(c)),nS(e,t,h)}function d7(e,n,t,r,i){e!==n&&XB(n,function(a,s){if(i||(i=new kc),fh(a))eU(e,n,s,t,d7,r,i);else{var l=r?r(rS(e,s),a,s+"",e,n,i):void 0;l===void 0&&(l=a),nS(e,s,l)}},JT)}function qf(e,n){return c7(e,n)}var Jf=kP(function(e,n,t){d7(e,n,t)}),Ht=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(Ht||{});class Bc{constructor(n,t,r={}){this.attrName=n,this.keyName=t;const i=Ht.TYPE&Ht.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Ht.LEVEL|i:Ht.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(n){return Array.from(n.attributes).map(t=>t.name)}add(n,t){return this.canAdd(n,t)?(n.setAttribute(this.keyName,t),!0):!1}canAdd(n,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(n){n.removeAttribute(this.keyName)}value(n){const t=n.getAttribute(this.keyName);return this.canAdd(n,t)&&t?t:""}}class R0 extends Error{constructor(n){n="[Parchment] "+n,super(n),this.message=n,this.name=this.constructor.name}}const f7=class iS{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(n,t=!1){if(n==null)return null;if(this.blots.has(n))return this.blots.get(n)||null;if(t){let r=null;try{r=n.parentNode}catch{return null}return this.find(r,t)}return null}create(n,t,r){const i=this.query(t);if(i==null)throw new R0(`Unable to create ${t} blot`);const a=i,s=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:a.create(r),l=new a(n,s,r);return iS.blots.set(l.domNode,l),l}find(n,t=!1){return iS.find(n,t)}query(n,t=Ht.ANY){let r;return typeof n=="string"?r=this.types[n]||this.attributes[n]:n instanceof Text||n.nodeType===Node.TEXT_NODE?r=this.types.text:typeof n=="number"?n&Ht.LEVEL&Ht.BLOCK?r=this.types.block:n&Ht.LEVEL&Ht.INLINE&&(r=this.types.inline):n instanceof Element&&((n.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[n.tagName]),r==null?null:"scope"in r&&t&Ht.LEVEL&r.scope&&t&Ht.TYPE&r.scope?r:null}register(...n){return n.map(t=>{const r="blotName"in t,i="attrName"in t;if(!r&&!i)throw new R0("Invalid definition");if(r&&t.blotName==="abstract")throw new R0("Cannot register abstract class");const a=r?t.blotName:i?t.attrName:void 0;return this.types[a]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(s=>s.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(s=>{(this.tags[s]==null||t.className==null)&&(this.tags[s]=t)}))),t})}};f7.blots=new WeakMap;let Z0=f7;function f8(e,n){return(e.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${n}-`)===0)}class tU extends Bc{static keys(n){return(n.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(n,t){return this.canAdd(n,t)?(this.remove(n),n.classList.add(`${this.keyName}-${t}`),!0):!1}remove(n){f8(n,this.keyName).forEach(t=>{n.classList.remove(t)}),n.classList.length===0&&n.removeAttribute("class")}value(n){const t=(f8(n,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(n,t)?t:""}}const Tu=tU;function I5(e){const n=e.split("-"),t=n.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return n[0]+t}class nU extends Bc{static keys(n){return(n.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(n,t){return this.canAdd(n,t)?(n.style[I5(this.keyName)]=t,!0):!1}remove(n){n.style[I5(this.keyName)]="",n.getAttribute("style")||n.removeAttribute("style")}value(n){const t=n.style[I5(this.keyName)];return this.canAdd(n,t)?t:""}}const hh=nU;class rU{constructor(n){this.attributes={},this.domNode=n,this.build()}attribute(n,t){t?n.add(this.domNode,t)&&(n.value(this.domNode)!=null?this.attributes[n.attrName]=n:delete this.attributes[n.attrName]):(n.remove(this.domNode),delete this.attributes[n.attrName])}build(){this.attributes={};const n=Z0.find(this.domNode);if(n==null)return;const t=Bc.keys(this.domNode),r=Tu.keys(this.domNode),i=hh.keys(this.domNode);t.concat(r).concat(i).forEach(a=>{const s=n.scroll.query(a,Ht.ATTRIBUTE);s instanceof Bc&&(this.attributes[s.attrName]=s)})}copy(n){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);n.format(t,r)})}move(n){this.copy(n),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((n,t)=>(n[t]=this.attributes[t].value(this.domNode),n),{})}}const dv=rU,h7=class{constructor(n,t){this.scroll=n,this.domNode=t,Z0.blots.set(t,this),this.prev=null,this.next=null}static create(n){if(this.tagName==null)throw new R0("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof n=="string"?(r=n.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof n=="number"&&(r=n),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const n=this.domNode.cloneNode(!1);return this.scroll.create(n)}detach(){this.parent!=null&&this.parent.removeChild(this),Z0.blots.delete(this.domNode)}deleteAt(n,t){this.isolate(n,t).remove()}formatAt(n,t,r,i){const a=this.isolate(n,t);if(this.scroll.query(r,Ht.BLOT)!=null&&i)a.wrap(r,i);else if(this.scroll.query(r,Ht.ATTRIBUTE)!=null){const s=this.scroll.create(this.statics.scope);a.wrap(s),s.format(r,i)}}insertAt(n,t,r){const i=r==null?this.scroll.create("text",t):this.scroll.create(t,r),a=this.split(n);this.parent.insertBefore(i,a||void 0)}isolate(n,t){const r=this.split(n);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(n=this.parent){return this.parent==null||this===n?0:this.parent.children.offset(this)+this.parent.offset(n)}optimize(n){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(n,t){return n===0?this:this.next}update(n,t){}wrap(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new R0(`Cannot wrap ${n}`);return r.appendChild(this),r}};h7.blotName="abstract";let p7=h7;const m7=class extends p7{static value(n){return!0}index(n,t){return this.domNode===n||this.domNode.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(n,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return n>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};m7.scope=Ht.INLINE_BLOT;let iU=m7;const Fs=iU;class aU{constructor(){this.head=null,this.tail=null,this.length=0}append(...n){if(this.insertBefore(n[0],null),n.length>1){const t=n.slice(1);this.append(...t)}}at(n){const t=this.iterator();let r=t();for(;r&&n>0;)n-=1,r=t();return r}contains(n){const t=this.iterator();let r=t();for(;r;){if(r===n)return!0;r=t()}return!1}indexOf(n){const t=this.iterator();let r=t(),i=0;for(;r;){if(r===n)return i;i+=1,r=t()}return-1}insertBefore(n,t){n!=null&&(this.remove(n),n.next=t,t!=null?(n.prev=t.prev,t.prev!=null&&(t.prev.next=n),t.prev=n,t===this.head&&(this.head=n)):this.tail!=null?(this.tail.next=n,n.prev=this.tail,this.tail=n):(n.prev=null,this.head=this.tail=n),this.length+=1)}offset(n){let t=0,r=this.head;for(;r!=null;){if(r===n)return t;t+=r.length(),r=r.next}return-1}remove(n){this.contains(n)&&(n.prev!=null&&(n.prev.next=n.next),n.next!=null&&(n.next.prev=n.prev),n===this.head&&(this.head=n.next),n===this.tail&&(this.tail=n.prev),this.length-=1)}iterator(n=this.head){return()=>{const t=n;return n!=null&&(n=n.next),t}}find(n,t=!1){const r=this.iterator();let i=r();for(;i;){const a=i.length();if(n<a||t&&n===a&&(i.next==null||i.next.length()!==0))return[i,n];n-=a,i=r()}return[null,0]}forEach(n){const t=this.iterator();let r=t();for(;r;)n(r),r=t()}forEachAt(n,t,r){if(t<=0)return;const[i,a]=this.find(n);let s=n-a;const l=this.iterator(i);let c=l();for(;c&&s<n+t;){const d=c.length();n>s?r(c,n-s,Math.min(t,s+d-n)):r(c,0,Math.min(d,n+t-s)),s+=d,c=l()}}map(n){return this.reduce((t,r)=>(t.push(n(r)),t),[])}reduce(n,t){const r=this.iterator();let i=r();for(;i;)t=n(t,i),i=r();return t}}function h8(e,n){const t=n.find(e);if(t)return t;try{return n.create(e)}catch{const r=n.create(Ht.INLINE);return Array.from(e.childNodes).forEach(i=>{r.domNode.appendChild(i)}),e.parentNode&&e.parentNode.replaceChild(r.domNode,e),r.attach(),r}}const g7=class Pf extends p7{constructor(n,t){super(n,t),this.uiNode=null,this.build()}appendChild(n){this.insertBefore(n)}attach(){super.attach(),this.children.forEach(n=>{n.attach()})}attachUI(n){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=n,Pf.uiClass&&this.uiNode.classList.add(Pf.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new aU,Array.from(this.domNode.childNodes).filter(n=>n!==this.uiNode).reverse().forEach(n=>{try{const t=h8(n,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof R0)return;throw t}})}deleteAt(n,t){if(n===0&&t===this.length())return this.remove();this.children.forEachAt(n,t,(r,i,a)=>{r.deleteAt(i,a)})}descendant(n,t=0){const[r,i]=this.children.find(t);return n.blotName==null&&n(r)||n.blotName!=null&&r instanceof n?[r,i]:r instanceof Pf?r.descendant(n,i):[null,-1]}descendants(n,t=0,r=Number.MAX_VALUE){let i=[],a=r;return this.children.forEachAt(t,r,(s,l,c)=>{(n.blotName==null&&n(s)||n.blotName!=null&&s instanceof n)&&i.push(s),s instanceof Pf&&(i=i.concat(s.descendants(n,l,a))),a-=c}),i}detach(){this.children.forEach(n=>{n.detach()}),super.detach()}enforceAllowedChildren(){let n=!1;this.children.forEach(t=>{n||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===Ht.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),n=!0):t instanceof Pf?t.unwrap():t.remove())})}formatAt(n,t,r,i){this.children.forEachAt(n,t,(a,s,l)=>{a.formatAt(s,l,r,i)})}insertAt(n,t,r){const[i,a]=this.children.find(n);if(i)i.insertAt(a,t,r);else{const s=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(s)}}insertBefore(n,t){n.parent!=null&&n.parent.children.remove(n);let r=null;this.children.insertBefore(n,t||null),n.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==n.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(n.domNode,r),n.attach()}length(){return this.children.reduce((n,t)=>n+t.length(),0)}moveChildren(n,t){this.children.forEach(r=>{n.insertBefore(r,t)})}optimize(n){if(super.optimize(n),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(n,t=!1){const[r,i]=this.children.find(n,t),a=[[this,n]];return r instanceof Pf?a.concat(r.path(i,t)):(r!=null&&a.push([r,i]),a)}removeChild(n){this.children.remove(n)}replaceWith(n,t){const r=typeof n=="string"?this.scroll.create(n,t):n;return r instanceof Pf&&this.moveChildren(r),super.replaceWith(r)}split(n,t=!1){if(!t){if(n===0)return this;if(n===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(n,this.length(),(i,a,s)=>{const l=i.split(a,t);l!=null&&r.appendChild(l)}),r}splitAfter(n){const t=this.clone();for(;n.next!=null;)t.appendChild(n.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(n,t){const r=[],i=[];n.forEach(a=>{a.target===this.domNode&&a.type==="childList"&&(r.push(...a.addedNodes),i.push(...a.removedNodes))}),i.forEach(a=>{if(a.parentNode!=null&&a.tagName!=="IFRAME"&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const s=this.scroll.find(a);s!=null&&(s.domNode.parentNode==null||s.domNode.parentNode===this.domNode)&&s.detach()}),r.filter(a=>a.parentNode===this.domNode&&a!==this.uiNode).sort((a,s)=>a===s?0:a.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(a=>{let s=null;a.nextSibling!=null&&(s=this.scroll.find(a.nextSibling));const l=h8(a,this.scroll);(l.next!==s||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,s||void 0))}),this.enforceAllowedChildren()}};g7.uiClass="";let sU=g7;const Su=sU;function oU(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const t in e)if(e[t]!==n[t])return!1;return!0}const A0=class C0 extends Su{static create(n){return super.create(n)}static formats(n,t){const r=t.query(C0.blotName);if(!(r!=null&&n.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return n.tagName.toLowerCase()}}constructor(n,t){super(n,t),this.attributes=new dv(this.domNode)}format(n,t){if(n===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof C0||(r=r.wrap(C0.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(n,Ht.INLINE);if(r==null)return;r instanceof Bc?this.attributes.attribute(r,t):t&&(n!==this.statics.blotName||this.formats()[n]!==t)&&this.replaceWith(n,t)}}formats(){const n=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(n[this.statics.blotName]=t),n}formatAt(n,t,r,i){this.formats()[r]!=null||this.scroll.query(r,Ht.ATTRIBUTE)?this.isolate(n,t).format(r,i):super.formatAt(n,t,r,i)}optimize(n){super.optimize(n);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof C0&&r.prev===this&&oU(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(n,t){const r=super.replaceWith(n,t);return this.attributes.copy(r),r}update(n,t){super.update(n,t),n.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(n,t){const r=super.wrap(n,t);return r instanceof C0&&this.attributes.move(r),r}};A0.allowedChildren=[A0,Fs],A0.blotName="inline",A0.scope=Ht.INLINE_BLOT,A0.tagName="SPAN";let lU=A0;const q6=lU,E0=class aS extends Su{static create(n){return super.create(n)}static formats(n,t){const r=t.query(aS.blotName);if(!(r!=null&&n.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return n.tagName.toLowerCase()}}constructor(n,t){super(n,t),this.attributes=new dv(this.domNode)}format(n,t){const r=this.scroll.query(n,Ht.BLOCK);r!=null&&(r instanceof Bc?this.attributes.attribute(r,t):n===this.statics.blotName&&!t?this.replaceWith(aS.blotName):t&&(n!==this.statics.blotName||this.formats()[n]!==t)&&this.replaceWith(n,t))}formats(){const n=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(n[this.statics.blotName]=t),n}formatAt(n,t,r,i){this.scroll.query(r,Ht.BLOCK)!=null?this.format(r,i):super.formatAt(n,t,r,i)}insertAt(n,t,r){if(r==null||this.scroll.query(t,Ht.INLINE)!=null)super.insertAt(n,t,r);else{const i=this.split(n);if(i!=null){const a=this.scroll.create(t,r);i.parent.insertBefore(a,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(n,t){const r=super.replaceWith(n,t);return this.attributes.copy(r),r}update(n,t){super.update(n,t),n.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};E0.blotName="block",E0.scope=Ht.BLOCK_BLOT,E0.tagName="P",E0.allowedChildren=[q6,E0,Fs];let uU=E0;const bg=uU,sS=class extends Su{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(n,t){super.deleteAt(n,t),this.enforceAllowedChildren()}formatAt(n,t,r,i){super.formatAt(n,t,r,i),this.enforceAllowedChildren()}insertAt(n,t,r){super.insertAt(n,t,r),this.enforceAllowedChildren()}optimize(n){super.optimize(n),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};sS.blotName="container",sS.scope=Ht.BLOCK_BLOT;let cU=sS;const fv=cU;class dU extends Fs{static formats(n,t){}format(n,t){super.formatAt(0,this.length(),n,t)}formatAt(n,t,r,i){n===0&&t===this.length()?this.format(r,i):super.formatAt(n,t,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const il=dU,fU={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},hU=100,_0=class extends Su{constructor(n,t){super(null,t),this.registry=n,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,fU),this.attach()}create(n,t){return this.registry.create(this,n,t)}find(n,t=!1){const r=this.registry.find(n,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(n,t=Ht.ANY){return this.registry.query(n,t)}register(...n){return this.registry.register(...n)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(n,t){this.update(),n===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(n,t)}formatAt(n,t,r,i){this.update(),super.formatAt(n,t,r,i)}insertAt(n,t,r){this.update(),super.insertAt(n,t,r)}optimize(n=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)n.push(i.pop());const a=(c,d=!0)=>{c==null||c===this||c.domNode.parentNode!=null&&(r.has(c.domNode)||r.set(c.domNode,[]),d&&a(c.parent))},s=c=>{r.has(c.domNode)&&(c instanceof Su&&c.children.forEach(s),r.delete(c.domNode),c.optimize(t))};let l=n;for(let c=0;l.length>0;c+=1){if(c>=hU)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(d=>{const h=this.find(d.target,!0);h!=null&&(h.domNode===d.target&&(d.type==="childList"?(a(this.find(d.previousSibling,!1)),Array.from(d.addedNodes).forEach(g=>{const b=this.find(g,!1);a(b,!1),b instanceof Su&&b.children.forEach(m=>{a(m,!1)})})):d.type==="attributes"&&a(h.prev)),a(h))}),this.children.forEach(s),l=Array.from(this.observer.takeRecords()),i=l.slice();i.length>0;)n.push(i.pop())}}update(n,t={}){n=n||this.observer.takeRecords();const r=new WeakMap;n.map(i=>{const a=this.find(i.target,!0);return a==null?null:r.has(a.domNode)?(r.get(a.domNode).push(i),null):(r.set(a.domNode,[i]),a)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(n,t)}};_0.blotName="scroll",_0.defaultChild=bg,_0.allowedChildren=[bg,fv],_0.scope=Ht.BLOCK_BLOT,_0.tagName="DIV";let pU=_0;const B6=pU,oS=class b7 extends Fs{static create(n){return document.createTextNode(n)}static value(n){return n.data}constructor(n,t){super(n,t),this.text=this.statics.value(this.domNode)}deleteAt(n,t){this.domNode.data=this.text=this.text.slice(0,n)+this.text.slice(n+t)}index(n,t){return this.domNode===n?t:-1}insertAt(n,t,r){r==null?(this.text=this.text.slice(0,n)+t+this.text.slice(n),this.domNode.data=this.text):super.insertAt(n,t,r)}length(){return this.text.length}optimize(n){super.optimize(n),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof b7&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(n,t=!1){return[this.domNode,n]}split(n,t=!1){if(!t){if(n===0)return this;if(n===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(n));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(n,t){n.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};oS.blotName="text",oS.scope=Ht.INLINE_BLOT;let mU=oS;const Nx=mU,gU=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Bc,AttributorStore:dv,BlockBlot:bg,ClassAttributor:Tu,ContainerBlot:fv,EmbedBlot:il,InlineBlot:q6,LeafBlot:Fs,ParentBlot:Su,Registry:Z0,Scope:Ht,ScrollBlot:B6,StyleAttributor:hh,TextBlot:Nx},Symbol.toStringTag,{value:"Module"}));var gy={exports:{}},D5,p8;function bU(){if(p8)return D5;p8=1;var e=-1,n=1,t=0;function r(j,O,z,T,G){if(j===O)return j?[[t,j]]:[];if(z!=null){var W=B(j,O,z);if(W)return W}var X=l(j,O),ie=j.substring(0,X);j=j.substring(X),O=O.substring(X),X=d(j,O);var ue=j.substring(j.length-X);j=j.substring(0,j.length-X),O=O.substring(0,O.length-X);var $=i(j,O);return ie&&$.unshift([t,ie]),ue&&$.push([t,ue]),C($,G),T&&g($),$}function i(j,O){var z;if(!j)return[[n,O]];if(!O)return[[e,j]];var T=j.length>O.length?j:O,G=j.length>O.length?O:j,W=T.indexOf(G);if(W!==-1)return z=[[n,T.substring(0,W)],[t,G],[n,T.substring(W+G.length)]],j.length>O.length&&(z[0][0]=z[2][0]=e),z;if(G.length===1)return[[e,j],[n,O]];var X=h(j,O);if(X){var ie=X[0],ue=X[1],$=X[2],ae=X[3],U=X[4],q=r(ie,$),Z=r(ue,ae);return q.concat([[t,U]],Z)}return a(j,O)}function a(j,O){for(var z=j.length,T=O.length,G=Math.ceil((z+T)/2),W=G,X=2*G,ie=new Array(X),ue=new Array(X),$=0;$<X;$++)ie[$]=-1,ue[$]=-1;ie[W+1]=0,ue[W+1]=0;for(var ae=z-T,U=ae%2!==0,q=0,Z=0,ee=0,se=0,we=0;we<G;we++){for(var ye=-we+q;ye<=we-Z;ye+=2){var Ce=W+ye,Oe;ye===-we||ye!==we&&ie[Ce-1]<ie[Ce+1]?Oe=ie[Ce+1]:Oe=ie[Ce-1]+1;for(var Le=Oe-ye;Oe<z&&Le<T&&j.charAt(Oe)===O.charAt(Le);)Oe++,Le++;if(ie[Ce]=Oe,Oe>z)Z+=2;else if(Le>T)q+=2;else if(U){var He=W+ae-ye;if(He>=0&&He<X&&ue[He]!==-1){var We=z-ue[He];if(Oe>=We)return s(j,O,Oe,Le)}}}for(var V=-we+ee;V<=we-se;V+=2){var He=W+V,We;V===-we||V!==we&&ue[He-1]<ue[He+1]?We=ue[He+1]:We=ue[He-1]+1;for(var Se=We-V;We<z&&Se<T&&j.charAt(z-We-1)===O.charAt(T-Se-1);)We++,Se++;if(ue[He]=We,We>z)se+=2;else if(Se>T)ee+=2;else if(!U){var Ce=W+ae-V;if(Ce>=0&&Ce<X&&ie[Ce]!==-1){var Oe=ie[Ce],Le=W+Oe-Ce;if(We=z-We,Oe>=We)return s(j,O,Oe,Le)}}}}return[[e,j],[n,O]]}function s(j,O,z,T){var G=j.substring(0,z),W=O.substring(0,T),X=j.substring(z),ie=O.substring(T),ue=r(G,W),$=r(X,ie);return ue.concat($)}function l(j,O){if(!j||!O||j.charAt(0)!==O.charAt(0))return 0;for(var z=0,T=Math.min(j.length,O.length),G=T,W=0;z<G;)j.substring(W,G)==O.substring(W,G)?(z=G,W=z):T=G,G=Math.floor((T-z)/2+z);return N(j.charCodeAt(G-1))&&G--,G}function c(j,O){var z=j.length,T=O.length;if(z==0||T==0)return 0;z>T?j=j.substring(z-T):z<T&&(O=O.substring(0,z));var G=Math.min(z,T);if(j==O)return G;for(var W=0,X=1;;){var ie=j.substring(G-X),ue=O.indexOf(ie);if(ue==-1)return W;X+=ue,(ue==0||j.substring(G-X)==O.substring(0,X))&&(W=X,X++)}}function d(j,O){if(!j||!O||j.slice(-1)!==O.slice(-1))return 0;for(var z=0,T=Math.min(j.length,O.length),G=T,W=0;z<G;)j.substring(j.length-G,j.length-W)==O.substring(O.length-G,O.length-W)?(z=G,W=z):T=G,G=Math.floor((T-z)/2+z);return F(j.charCodeAt(j.length-G))&&G--,G}function h(j,O){var z=j.length>O.length?j:O,T=j.length>O.length?O:j;if(z.length<4||T.length*2<z.length)return null;function G(Z,ee,se){for(var we=Z.substring(se,se+Math.floor(Z.length/4)),ye=-1,Ce="",Oe,Le,He,We;(ye=ee.indexOf(we,ye+1))!==-1;){var V=l(Z.substring(se),ee.substring(ye)),Se=d(Z.substring(0,se),ee.substring(0,ye));Ce.length<Se+V&&(Ce=ee.substring(ye-Se,ye)+ee.substring(ye,ye+V),Oe=Z.substring(0,se-Se),Le=Z.substring(se+V),He=ee.substring(0,ye-Se),We=ee.substring(ye+V))}return Ce.length*2>=Z.length?[Oe,Le,He,We,Ce]:null}var W=G(z,T,Math.ceil(z.length/4)),X=G(z,T,Math.ceil(z.length/2)),ie;if(!W&&!X)return null;X?W?ie=W[4].length>X[4].length?W:X:ie=X:ie=W;var ue,$,ae,U;j.length>O.length?(ue=ie[0],$=ie[1],ae=ie[2],U=ie[3]):(ae=ie[0],U=ie[1],ue=ie[2],$=ie[3]);var q=ie[4];return[ue,$,ae,U,q]}function g(j){for(var O=!1,z=[],T=0,G=null,W=0,X=0,ie=0,ue=0,$=0;W<j.length;)j[W][0]==t?(z[T++]=W,X=ue,ie=$,ue=0,$=0,G=j[W][1]):(j[W][0]==n?ue+=j[W][1].length:$+=j[W][1].length,G&&G.length<=Math.max(X,ie)&&G.length<=Math.max(ue,$)&&(j.splice(z[T-1],0,[e,G]),j[z[T-1]+1][0]=n,T--,T--,W=T>0?z[T-1]:-1,X=0,ie=0,ue=0,$=0,G=null,O=!0)),W++;for(O&&C(j),w(j),W=1;W<j.length;){if(j[W-1][0]==e&&j[W][0]==n){var ae=j[W-1][1],U=j[W][1],q=c(ae,U),Z=c(U,ae);q>=Z?(q>=ae.length/2||q>=U.length/2)&&(j.splice(W,0,[t,U.substring(0,q)]),j[W-1][1]=ae.substring(0,ae.length-q),j[W+1][1]=U.substring(q),W++):(Z>=ae.length/2||Z>=U.length/2)&&(j.splice(W,0,[t,ae.substring(0,Z)]),j[W-1][0]=n,j[W-1][1]=U.substring(0,U.length-Z),j[W+1][0]=e,j[W+1][1]=ae.substring(Z),W++),W++}W++}}var b=/[^a-zA-Z0-9]/,m=/\s/,x=/[\r\n]/,y=/\n\r?\n$/,A=/^\r?\n\r?\n/;function w(j){function O(Z,ee){if(!Z||!ee)return 6;var se=Z.charAt(Z.length-1),we=ee.charAt(0),ye=se.match(b),Ce=we.match(b),Oe=ye&&se.match(m),Le=Ce&&we.match(m),He=Oe&&se.match(x),We=Le&&we.match(x),V=He&&Z.match(y),Se=We&&ee.match(A);return V||Se?5:He||We?4:ye&&!Oe&&Le?3:Oe||Le?2:ye||Ce?1:0}for(var z=1;z<j.length-1;){if(j[z-1][0]==t&&j[z+1][0]==t){var T=j[z-1][1],G=j[z][1],W=j[z+1][1],X=d(T,G);if(X){var ie=G.substring(G.length-X);T=T.substring(0,T.length-X),G=ie+G.substring(0,G.length-X),W=ie+W}for(var ue=T,$=G,ae=W,U=O(T,G)+O(G,W);G.charAt(0)===W.charAt(0);){T+=G.charAt(0),G=G.substring(1)+W.charAt(0),W=W.substring(1);var q=O(T,G)+O(G,W);q>=U&&(U=q,ue=T,$=G,ae=W)}j[z-1][1]!=ue&&(ue?j[z-1][1]=ue:(j.splice(z-1,1),z--),j[z][1]=$,ae?j[z+1][1]=ae:(j.splice(z+1,1),z--))}z++}}function C(j,O){j.push([t,""]);for(var z=0,T=0,G=0,W="",X="",ie;z<j.length;){if(z<j.length-1&&!j[z][1]){j.splice(z,1);continue}switch(j[z][0]){case n:G++,X+=j[z][1],z++;break;case e:T++,W+=j[z][1],z++;break;case t:var ue=z-G-T-1;if(O){if(ue>=0&&M(j[ue][1])){var $=j[ue][1].slice(-1);if(j[ue][1]=j[ue][1].slice(0,-1),W=$+W,X=$+X,!j[ue][1]){j.splice(ue,1),z--;var ae=ue-1;j[ae]&&j[ae][0]===n&&(G++,X=j[ae][1]+X,ae--),j[ae]&&j[ae][0]===e&&(T++,W=j[ae][1]+W,ae--),ue=ae}}if(R(j[z][1])){var $=j[z][1].charAt(0);j[z][1]=j[z][1].slice(1),W+=$,X+=$}}if(z<j.length-1&&!j[z][1]){j.splice(z,1);break}if(W.length>0||X.length>0){W.length>0&&X.length>0&&(ie=l(X,W),ie!==0&&(ue>=0?j[ue][1]+=X.substring(0,ie):(j.splice(0,0,[t,X.substring(0,ie)]),z++),X=X.substring(ie),W=W.substring(ie)),ie=d(X,W),ie!==0&&(j[z][1]=X.substring(X.length-ie)+j[z][1],X=X.substring(0,X.length-ie),W=W.substring(0,W.length-ie)));var U=G+T;W.length===0&&X.length===0?(j.splice(z-U,U),z=z-U):W.length===0?(j.splice(z-U,U,[n,X]),z=z-U+1):X.length===0?(j.splice(z-U,U,[e,W]),z=z-U+1):(j.splice(z-U,U,[e,W],[n,X]),z=z-U+2)}z!==0&&j[z-1][0]===t?(j[z-1][1]+=j[z][1],j.splice(z,1)):z++,G=0,T=0,W="",X="";break}}j[j.length-1][1]===""&&j.pop();var q=!1;for(z=1;z<j.length-1;)j[z-1][0]===t&&j[z+1][0]===t&&(j[z][1].substring(j[z][1].length-j[z-1][1].length)===j[z-1][1]?(j[z][1]=j[z-1][1]+j[z][1].substring(0,j[z][1].length-j[z-1][1].length),j[z+1][1]=j[z-1][1]+j[z+1][1],j.splice(z-1,1),q=!0):j[z][1].substring(0,j[z+1][1].length)==j[z+1][1]&&(j[z-1][1]+=j[z+1][1],j[z][1]=j[z][1].substring(j[z+1][1].length)+j[z+1][1],j.splice(z+1,1),q=!0)),z++;q&&C(j,O)}function N(j){return j>=55296&&j<=56319}function F(j){return j>=56320&&j<=57343}function R(j){return F(j.charCodeAt(0))}function M(j){return N(j.charCodeAt(j.length-1))}function k(j){for(var O=[],z=0;z<j.length;z++)j[z][1].length>0&&O.push(j[z]);return O}function L(j,O,z,T){return M(j)||R(T)?null:k([[t,j],[e,O],[n,z],[t,T]])}function B(j,O,z){var T=typeof z=="number"?{index:z,length:0}:z.oldRange,G=typeof z=="number"?null:z.newRange,W=j.length,X=O.length;if(T.length===0&&(G===null||G.length===0)){var ie=T.index,ue=j.slice(0,ie),$=j.slice(ie),ae=G?G.index:null;e:{var U=ie+X-W;if(ae!==null&&ae!==U||U<0||U>X)break e;var q=O.slice(0,U),Z=O.slice(U);if(Z!==$)break e;var ee=Math.min(ie,U),se=ue.slice(0,ee),we=q.slice(0,ee);if(se!==we)break e;var ye=ue.slice(ee),Ce=q.slice(ee);return L(se,ye,Ce,$)}e:{if(ae!==null&&ae!==ie)break e;var Oe=ie,q=O.slice(0,Oe),Z=O.slice(Oe);if(q!==ue)break e;var Le=Math.min(W-Oe,X-Oe),He=$.slice($.length-Le),We=Z.slice(Z.length-Le);if(He!==We)break e;var ye=$.slice(0,$.length-Le),Ce=Z.slice(0,Z.length-Le);return L(ue,ye,Ce,He)}}if(T.length>0&&G&&G.length===0)e:{var se=j.slice(0,T.index),He=j.slice(T.index+T.length),ee=se.length,Le=He.length;if(X<ee+Le)break e;var we=O.slice(0,ee),We=O.slice(X-Le);if(se!==we||He!==We)break e;var ye=j.slice(ee,W-Le),Ce=O.slice(ee,X-Le);return L(se,ye,Ce,He)}return null}function Q(j,O,z,T){return r(j,O,z,T,!0)}return Q.INSERT=n,Q.DELETE=e,Q.EQUAL=t,D5=Q,D5}var H1={exports:{}};H1.exports;var m8;function y7(){return m8||(m8=1,function(e,n){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",s="[object Array]",l="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Function]",g="[object GeneratorFunction]",b="[object Map]",m="[object Number]",x="[object Object]",y="[object Promise]",A="[object RegExp]",w="[object Set]",C="[object String]",N="[object Symbol]",F="[object WeakMap]",R="[object ArrayBuffer]",M="[object DataView]",k="[object Float32Array]",L="[object Float64Array]",B="[object Int8Array]",Q="[object Int16Array]",j="[object Int32Array]",O="[object Uint8Array]",z="[object Uint8ClampedArray]",T="[object Uint16Array]",G="[object Uint32Array]",W=/[\\^$.*+?()[\]{}|]/g,X=/\w*$/,ie=/^\[object .+?Constructor\]$/,ue=/^(?:0|[1-9]\d*)$/,$={};$[a]=$[s]=$[R]=$[M]=$[l]=$[c]=$[k]=$[L]=$[B]=$[Q]=$[j]=$[b]=$[m]=$[x]=$[A]=$[w]=$[C]=$[N]=$[O]=$[z]=$[T]=$[G]=!0,$[d]=$[h]=$[F]=!1;var ae=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,U=typeof self=="object"&&self&&self.Object===Object&&self,q=ae||U||Function("return this")(),Z=n&&!n.nodeType&&n,ee=Z&&!0&&e&&!e.nodeType&&e,se=ee&&ee.exports===Z;function we(H,pe){return H.set(pe[0],pe[1]),H}function ye(H,pe){return H.add(pe),H}function Ce(H,pe){for(var Te=-1,ot=H?H.length:0;++Te<ot&&pe(H[Te],Te,H)!==!1;);return H}function Oe(H,pe){for(var Te=-1,ot=pe.length,Xt=H.length;++Te<ot;)H[Xt+Te]=pe[Te];return H}function Le(H,pe,Te,ot){for(var Xt=-1,qt=H?H.length:0;++Xt<qt;)Te=pe(Te,H[Xt],Xt,H);return Te}function He(H,pe){for(var Te=-1,ot=Array(H);++Te<H;)ot[Te]=pe(Te);return ot}function We(H,pe){return H==null?void 0:H[pe]}function V(H){var pe=!1;if(H!=null&&typeof H.toString!="function")try{pe=!!(H+"")}catch{}return pe}function Se(H){var pe=-1,Te=Array(H.size);return H.forEach(function(ot,Xt){Te[++pe]=[Xt,ot]}),Te}function te(H,pe){return function(Te){return H(pe(Te))}}function ge(H){var pe=-1,Te=Array(H.size);return H.forEach(function(ot){Te[++pe]=ot}),Te}var ce=Array.prototype,ve=Function.prototype,Ie=Object.prototype,Pe=q["__core-js_shared__"],ke=function(){var H=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||"");return H?"Symbol(src)_1."+H:""}(),Ke=ve.toString,lt=Ie.hasOwnProperty,tt=Ie.toString,Me=RegExp("^"+Ke.call(lt).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xe=se?q.Buffer:void 0,_e=q.Symbol,Ne=q.Uint8Array,ft=te(Object.getPrototypeOf,Object),Ze=Object.create,Mt=Ie.propertyIsEnumerable,kt=ce.splice,Wt=Object.getOwnPropertySymbols,Lt=xe?xe.isBuffer:void 0,Kt=te(Object.keys,Object),nn=Bi(q,"DataView"),un=Bi(q,"Map"),zn=Bi(q,"Promise"),qn=Bi(q,"Set"),Qr=Bi(q,"WeakMap"),ar=Bi(Object,"create"),Mn=ei(nn),Vt=ei(un),En=ei(zn),xa=ei(qn),Sr=ei(Qr),li=_e?_e.prototype:void 0,va=li?li.valueOf:void 0;function Dt(H){var pe=-1,Te=H?H.length:0;for(this.clear();++pe<Te;){var ot=H[pe];this.set(ot[0],ot[1])}}function Wn(){this.__data__=ar?ar(null):{}}function sr(H){return this.has(H)&&delete this.__data__[H]}function Mr(H){var pe=this.__data__;if(ar){var Te=pe[H];return Te===r?void 0:Te}return lt.call(pe,H)?pe[H]:void 0}function dr(H){var pe=this.__data__;return ar?pe[H]!==void 0:lt.call(pe,H)}function fr(H,pe){var Te=this.__data__;return Te[H]=ar&&pe===void 0?r:pe,this}Dt.prototype.clear=Wn,Dt.prototype.delete=sr,Dt.prototype.get=Mr,Dt.prototype.has=dr,Dt.prototype.set=fr;function Hn(H){var pe=-1,Te=H?H.length:0;for(this.clear();++pe<Te;){var ot=H[pe];this.set(ot[0],ot[1])}}function ys(){this.__data__=[]}function jr(H){var pe=this.__data__,Te=vs(pe,H);if(Te<0)return!1;var ot=pe.length-1;return Te==ot?pe.pop():kt.call(pe,Te,1),!0}function Ia(H){var pe=this.__data__,Te=vs(pe,H);return Te<0?void 0:pe[Te][1]}function zi(H){return vs(this.__data__,H)>-1}function qi(H,pe){var Te=this.__data__,ot=vs(Te,H);return ot<0?Te.push([H,pe]):Te[ot][1]=pe,this}Hn.prototype.clear=ys,Hn.prototype.delete=jr,Hn.prototype.get=Ia,Hn.prototype.has=zi,Hn.prototype.set=qi;function er(H){var pe=-1,Te=H?H.length:0;for(this.clear();++pe<Te;){var ot=H[pe];this.set(ot[0],ot[1])}}function Ci(){this.__data__={hash:new Dt,map:new(un||Hn),string:new Dt}}function tr(H){return Ws(this,H).delete(H)}function ro(H){return Ws(this,H).get(H)}function Eo(H){return Ws(this,H).has(H)}function Fa(H,pe){return Ws(this,H).set(H,pe),this}er.prototype.clear=Ci,er.prototype.delete=tr,er.prototype.get=ro,er.prototype.has=Eo,er.prototype.set=Fa;function Fr(H){this.__data__=new Hn(H)}function al(){this.__data__=new Hn}function $l(H){return this.__data__.delete(H)}function Fu(H){return this.__data__.get(H)}function Gc(H){return this.__data__.has(H)}function $s(H,pe){var Te=this.__data__;if(Te instanceof Hn){var ot=Te.__data__;if(!un||ot.length<t-1)return ot.push([H,pe]),this;Te=this.__data__=new er(ot)}return Te.set(H,pe),this}Fr.prototype.clear=al,Fr.prototype.delete=$l,Fr.prototype.get=Fu,Fr.prototype.has=Gc,Fr.prototype.set=$s;function xs(H,pe){var Te=cl(H)||so(H)?He(H.length,String):[],ot=Te.length,Xt=!!ot;for(var qt in H)lt.call(H,qt)&&!(Xt&&(qt=="length"||ll(qt,ot)))&&Te.push(qt);return Te}function Pa(H,pe,Te){var ot=H[pe];(!(lt.call(H,pe)&&tn(ot,Te))||Te===void 0&&!(pe in H))&&(H[pe]=Te)}function vs(H,pe){for(var Te=H.length;Te--;)if(tn(H[Te][0],pe))return Te;return-1}function is(H,pe){return H&&ko(pe,dl(pe),H)}function as(H,pe,Te,ot,Xt,qt,Tn){var _n;if(ot&&(_n=qt?ot(H,Xt,qt,Tn):ot(H)),_n!==void 0)return _n;if(!$a(H))return H;var pr=cl(H);if(pr){if(_n=zu(H),!pe)return Vl(H,_n)}else{var gn=ws(H),Nr=gn==h||gn==g;if(jo(H))return ao(H,pe);if(gn==x||gn==a||Nr&&!qt){if(V(H))return qt?H:{};if(_n=qa(Nr?{}:H),!pe)return Hs(H,is(_n,H))}else{if(!$[gn])return qt?H:{};_n=Vs(H,gn,as,pe)}}Tn||(Tn=new Fr);var wa=Tn.get(H);if(wa)return wa;if(Tn.set(H,_n),!pr)var Ar=Te?Pu(H):dl(H);return Ce(Ar||H,function(Cr,Kr){Ar&&(Kr=Cr,Cr=H[Kr]),Pa(_n,Kr,as(Cr,pe,Te,ot,Kr,H,Tn))}),_n}function Hl(H){return $a(H)?Ze(H):{}}function io(H,pe,Te){var ot=pe(H);return cl(H)?ot:Oe(ot,Te(H))}function Qc(H){return tt.call(H)}function Pr(H){if(!$a(H)||ul(H))return!1;var pe=Ua(H)||V(H)?Me:ie;return pe.test(ei(H))}function ta(H){if(!ui(H))return Kt(H);var pe=[];for(var Te in Object(H))lt.call(H,Te)&&Te!="constructor"&&pe.push(Te);return pe}function ao(H,pe){if(pe)return H.slice();var Te=new H.constructor(H.length);return H.copy(Te),Te}function sl(H){var pe=new H.constructor(H.byteLength);return new Ne(pe).set(new Ne(H)),pe}function za(H,pe){var Te=pe?sl(H.buffer):H.buffer;return new H.constructor(Te,H.byteOffset,H.byteLength)}function Wl(H,pe,Te){var ot=pe?Te(Se(H),!0):Se(H);return Le(ot,we,new H.constructor)}function na(H){var pe=new H.constructor(H.source,X.exec(H));return pe.lastIndex=H.lastIndex,pe}function ol(H,pe,Te){var ot=pe?Te(ge(H),!0):ge(H);return Le(ot,ye,new H.constructor)}function hr(H){return va?Object(va.call(H)):{}}function _o(H,pe){var Te=pe?sl(H.buffer):H.buffer;return new H.constructor(Te,H.byteOffset,H.length)}function Vl(H,pe){var Te=-1,ot=H.length;for(pe||(pe=Array(ot));++Te<ot;)pe[Te]=H[Te];return pe}function ko(H,pe,Te,ot){Te||(Te={});for(var Xt=-1,qt=pe.length;++Xt<qt;){var Tn=pe[Xt],_n=void 0;Pa(Te,Tn,_n===void 0?H[Tn]:_n)}return Te}function Hs(H,pe){return ko(H,ss(H),pe)}function Pu(H){return io(H,dl,ss)}function Ws(H,pe){var Te=H.__data__;return Ys(pe)?Te[typeof pe=="string"?"string":"hash"]:Te.map}function Bi(H,pe){var Te=We(H,pe);return Pr(Te)?Te:void 0}var ss=Wt?te(Wt,Object):oo,ws=Qc;(nn&&ws(new nn(new ArrayBuffer(1)))!=M||un&&ws(new un)!=b||zn&&ws(zn.resolve())!=y||qn&&ws(new qn)!=w||Qr&&ws(new Qr)!=F)&&(ws=function(H){var pe=tt.call(H),Te=pe==x?H.constructor:void 0,ot=Te?ei(Te):void 0;if(ot)switch(ot){case Mn:return M;case Vt:return b;case En:return y;case xa:return w;case Sr:return F}return pe});function zu(H){var pe=H.length,Te=H.constructor(pe);return pe&&typeof H[0]=="string"&&lt.call(H,"index")&&(Te.index=H.index,Te.input=H.input),Te}function qa(H){return typeof H.constructor=="function"&&!ui(H)?Hl(ft(H)):{}}function Vs(H,pe,Te,ot){var Xt=H.constructor;switch(pe){case R:return sl(H);case l:case c:return new Xt(+H);case M:return za(H,ot);case k:case L:case B:case Q:case j:case O:case z:case T:case G:return _o(H,ot);case b:return Wl(H,ot,Te);case m:case C:return new Xt(H);case A:return na(H);case w:return ol(H,ot,Te);case N:return hr(H)}}function ll(H,pe){return pe=pe??i,!!pe&&(typeof H=="number"||ue.test(H))&&H>-1&&H%1==0&&H<pe}function Ys(H){var pe=typeof H;return pe=="string"||pe=="number"||pe=="symbol"||pe=="boolean"?H!=="__proto__":H===null}function ul(H){return!!ke&&ke in H}function ui(H){var pe=H&&H.constructor,Te=typeof pe=="function"&&pe.prototype||Ie;return H===Te}function ei(H){if(H!=null){try{return Ke.call(H)}catch{}try{return H+""}catch{}}return""}function Ss(H){return as(H,!0,!0)}function tn(H,pe){return H===pe||H!==H&&pe!==pe}function so(H){return Ba(H)&&lt.call(H,"callee")&&(!Mt.call(H,"callee")||tt.call(H)==a)}var cl=Array.isArray;function Ei(H){return H!=null&&Da(H.length)&&!Ua(H)}function Ba(H){return No(H)&&Ei(H)}var jo=Lt||As;function Ua(H){var pe=$a(H)?tt.call(H):"";return pe==h||pe==g}function Da(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=i}function $a(H){var pe=typeof H;return!!H&&(pe=="object"||pe=="function")}function No(H){return!!H&&typeof H=="object"}function dl(H){return Ei(H)?xs(H):ta(H)}function oo(){return[]}function As(){return!1}e.exports=Ss}(H1,H1.exports)),H1.exports}var W1={exports:{}};W1.exports;var g8;function x7(){return g8||(g8=1,function(e,n){var t=200,r="__lodash_hash_undefined__",i=1,a=2,s=9007199254740991,l="[object Arguments]",c="[object Array]",d="[object AsyncFunction]",h="[object Boolean]",g="[object Date]",b="[object Error]",m="[object Function]",x="[object GeneratorFunction]",y="[object Map]",A="[object Number]",w="[object Null]",C="[object Object]",N="[object Promise]",F="[object Proxy]",R="[object RegExp]",M="[object Set]",k="[object String]",L="[object Symbol]",B="[object Undefined]",Q="[object WeakMap]",j="[object ArrayBuffer]",O="[object DataView]",z="[object Float32Array]",T="[object Float64Array]",G="[object Int8Array]",W="[object Int16Array]",X="[object Int32Array]",ie="[object Uint8Array]",ue="[object Uint8ClampedArray]",$="[object Uint16Array]",ae="[object Uint32Array]",U=/[\\^$.*+?()[\]{}|]/g,q=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,ee={};ee[z]=ee[T]=ee[G]=ee[W]=ee[X]=ee[ie]=ee[ue]=ee[$]=ee[ae]=!0,ee[l]=ee[c]=ee[j]=ee[h]=ee[O]=ee[g]=ee[b]=ee[m]=ee[y]=ee[A]=ee[C]=ee[R]=ee[M]=ee[k]=ee[Q]=!1;var se=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,we=typeof self=="object"&&self&&self.Object===Object&&self,ye=se||we||Function("return this")(),Ce=n&&!n.nodeType&&n,Oe=Ce&&!0&&e&&!e.nodeType&&e,Le=Oe&&Oe.exports===Ce,He=Le&&se.process,We=function(){try{return He&&He.binding&&He.binding("util")}catch{}}(),V=We&&We.isTypedArray;function Se(H,pe){for(var Te=-1,ot=H==null?0:H.length,Xt=0,qt=[];++Te<ot;){var Tn=H[Te];pe(Tn,Te,H)&&(qt[Xt++]=Tn)}return qt}function te(H,pe){for(var Te=-1,ot=pe.length,Xt=H.length;++Te<ot;)H[Xt+Te]=pe[Te];return H}function ge(H,pe){for(var Te=-1,ot=H==null?0:H.length;++Te<ot;)if(pe(H[Te],Te,H))return!0;return!1}function ce(H,pe){for(var Te=-1,ot=Array(H);++Te<H;)ot[Te]=pe(Te);return ot}function ve(H){return function(pe){return H(pe)}}function Ie(H,pe){return H.has(pe)}function Pe(H,pe){return H==null?void 0:H[pe]}function ke(H){var pe=-1,Te=Array(H.size);return H.forEach(function(ot,Xt){Te[++pe]=[Xt,ot]}),Te}function Ke(H,pe){return function(Te){return H(pe(Te))}}function lt(H){var pe=-1,Te=Array(H.size);return H.forEach(function(ot){Te[++pe]=ot}),Te}var tt=Array.prototype,Me=Function.prototype,xe=Object.prototype,_e=ye["__core-js_shared__"],Ne=Me.toString,ft=xe.hasOwnProperty,Ze=function(){var H=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||"");return H?"Symbol(src)_1."+H:""}(),Mt=xe.toString,kt=RegExp("^"+Ne.call(ft).replace(U,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=Le?ye.Buffer:void 0,Lt=ye.Symbol,Kt=ye.Uint8Array,nn=xe.propertyIsEnumerable,un=tt.splice,zn=Lt?Lt.toStringTag:void 0,qn=Object.getOwnPropertySymbols,Qr=Wt?Wt.isBuffer:void 0,ar=Ke(Object.keys,Object),Mn=ss(ye,"DataView"),Vt=ss(ye,"Map"),En=ss(ye,"Promise"),xa=ss(ye,"Set"),Sr=ss(ye,"WeakMap"),li=ss(Object,"create"),va=ei(Mn),Dt=ei(Vt),Wn=ei(En),sr=ei(xa),Mr=ei(Sr),dr=Lt?Lt.prototype:void 0,fr=dr?dr.valueOf:void 0;function Hn(H){var pe=-1,Te=H==null?0:H.length;for(this.clear();++pe<Te;){var ot=H[pe];this.set(ot[0],ot[1])}}function ys(){this.__data__=li?li(null):{},this.size=0}function jr(H){var pe=this.has(H)&&delete this.__data__[H];return this.size-=pe?1:0,pe}function Ia(H){var pe=this.__data__;if(li){var Te=pe[H];return Te===r?void 0:Te}return ft.call(pe,H)?pe[H]:void 0}function zi(H){var pe=this.__data__;return li?pe[H]!==void 0:ft.call(pe,H)}function qi(H,pe){var Te=this.__data__;return this.size+=this.has(H)?0:1,Te[H]=li&&pe===void 0?r:pe,this}Hn.prototype.clear=ys,Hn.prototype.delete=jr,Hn.prototype.get=Ia,Hn.prototype.has=zi,Hn.prototype.set=qi;function er(H){var pe=-1,Te=H==null?0:H.length;for(this.clear();++pe<Te;){var ot=H[pe];this.set(ot[0],ot[1])}}function Ci(){this.__data__=[],this.size=0}function tr(H){var pe=this.__data__,Te=ao(pe,H);if(Te<0)return!1;var ot=pe.length-1;return Te==ot?pe.pop():un.call(pe,Te,1),--this.size,!0}function ro(H){var pe=this.__data__,Te=ao(pe,H);return Te<0?void 0:pe[Te][1]}function Eo(H){return ao(this.__data__,H)>-1}function Fa(H,pe){var Te=this.__data__,ot=ao(Te,H);return ot<0?(++this.size,Te.push([H,pe])):Te[ot][1]=pe,this}er.prototype.clear=Ci,er.prototype.delete=tr,er.prototype.get=ro,er.prototype.has=Eo,er.prototype.set=Fa;function Fr(H){var pe=-1,Te=H==null?0:H.length;for(this.clear();++pe<Te;){var ot=H[pe];this.set(ot[0],ot[1])}}function al(){this.size=0,this.__data__={hash:new Hn,map:new(Vt||er),string:new Hn}}function $l(H){var pe=Bi(this,H).delete(H);return this.size-=pe?1:0,pe}function Fu(H){return Bi(this,H).get(H)}function Gc(H){return Bi(this,H).has(H)}function $s(H,pe){var Te=Bi(this,H),ot=Te.size;return Te.set(H,pe),this.size+=Te.size==ot?0:1,this}Fr.prototype.clear=al,Fr.prototype.delete=$l,Fr.prototype.get=Fu,Fr.prototype.has=Gc,Fr.prototype.set=$s;function xs(H){var pe=-1,Te=H==null?0:H.length;for(this.__data__=new Fr;++pe<Te;)this.add(H[pe])}function Pa(H){return this.__data__.set(H,r),this}function vs(H){return this.__data__.has(H)}xs.prototype.add=xs.prototype.push=Pa,xs.prototype.has=vs;function is(H){var pe=this.__data__=new er(H);this.size=pe.size}function as(){this.__data__=new er,this.size=0}function Hl(H){var pe=this.__data__,Te=pe.delete(H);return this.size=pe.size,Te}function io(H){return this.__data__.get(H)}function Qc(H){return this.__data__.has(H)}function Pr(H,pe){var Te=this.__data__;if(Te instanceof er){var ot=Te.__data__;if(!Vt||ot.length<t-1)return ot.push([H,pe]),this.size=++Te.size,this;Te=this.__data__=new Fr(ot)}return Te.set(H,pe),this.size=Te.size,this}is.prototype.clear=as,is.prototype.delete=Hl,is.prototype.get=io,is.prototype.has=Qc,is.prototype.set=Pr;function ta(H,pe){var Te=so(H),ot=!Te&&tn(H),Xt=!Te&&!ot&&Ei(H),qt=!Te&&!ot&&!Xt&&No(H),Tn=Te||ot||Xt||qt,_n=Tn?ce(H.length,String):[],pr=_n.length;for(var gn in H)ft.call(H,gn)&&!(Tn&&(gn=="length"||Xt&&(gn=="offset"||gn=="parent")||qt&&(gn=="buffer"||gn=="byteLength"||gn=="byteOffset")||Vs(gn,pr)))&&_n.push(gn);return _n}function ao(H,pe){for(var Te=H.length;Te--;)if(Ss(H[Te][0],pe))return Te;return-1}function sl(H,pe,Te){var ot=pe(H);return so(H)?ot:te(ot,Te(H))}function za(H){return H==null?H===void 0?B:w:zn&&zn in Object(H)?ws(H):ui(H)}function Wl(H){return $a(H)&&za(H)==l}function na(H,pe,Te,ot,Xt){return H===pe?!0:H==null||pe==null||!$a(H)&&!$a(pe)?H!==H&&pe!==pe:ol(H,pe,Te,ot,na,Xt)}function ol(H,pe,Te,ot,Xt,qt){var Tn=so(H),_n=so(pe),pr=Tn?c:qa(H),gn=_n?c:qa(pe);pr=pr==l?C:pr,gn=gn==l?C:gn;var Nr=pr==C,wa=gn==C,Ar=pr==gn;if(Ar&&Ei(H)){if(!Ei(pe))return!1;Tn=!0,Nr=!1}if(Ar&&!Nr)return qt||(qt=new is),Tn||No(H)?ko(H,pe,Te,ot,Xt,qt):Hs(H,pe,pr,Te,ot,Xt,qt);if(!(Te&i)){var Cr=Nr&&ft.call(H,"__wrapped__"),Kr=wa&&ft.call(pe,"__wrapped__");if(Cr||Kr){var Ha=Cr?H.value():H,Gs=Kr?pe.value():pe;return qt||(qt=new is),Xt(Ha,Gs,Te,ot,qt)}}return Ar?(qt||(qt=new is),Pu(H,pe,Te,ot,Xt,qt)):!1}function hr(H){if(!Da(H)||Ys(H))return!1;var pe=jo(H)?kt:q;return pe.test(ei(H))}function _o(H){return $a(H)&&Ua(H.length)&&!!ee[za(H)]}function Vl(H){if(!ul(H))return ar(H);var pe=[];for(var Te in Object(H))ft.call(H,Te)&&Te!="constructor"&&pe.push(Te);return pe}function ko(H,pe,Te,ot,Xt,qt){var Tn=Te&i,_n=H.length,pr=pe.length;if(_n!=pr&&!(Tn&&pr>_n))return!1;var gn=qt.get(H);if(gn&&qt.get(pe))return gn==pe;var Nr=-1,wa=!0,Ar=Te&a?new xs:void 0;for(qt.set(H,pe),qt.set(pe,H);++Nr<_n;){var Cr=H[Nr],Kr=pe[Nr];if(ot)var Ha=Tn?ot(Kr,Cr,Nr,pe,H,qt):ot(Cr,Kr,Nr,H,pe,qt);if(Ha!==void 0){if(Ha)continue;wa=!1;break}if(Ar){if(!ge(pe,function(Gs,Cs){if(!Ie(Ar,Cs)&&(Cr===Gs||Xt(Cr,Gs,Te,ot,qt)))return Ar.push(Cs)})){wa=!1;break}}else if(!(Cr===Kr||Xt(Cr,Kr,Te,ot,qt))){wa=!1;break}}return qt.delete(H),qt.delete(pe),wa}function Hs(H,pe,Te,ot,Xt,qt,Tn){switch(Te){case O:if(H.byteLength!=pe.byteLength||H.byteOffset!=pe.byteOffset)return!1;H=H.buffer,pe=pe.buffer;case j:return!(H.byteLength!=pe.byteLength||!qt(new Kt(H),new Kt(pe)));case h:case g:case A:return Ss(+H,+pe);case b:return H.name==pe.name&&H.message==pe.message;case R:case k:return H==pe+"";case y:var _n=ke;case M:var pr=ot&i;if(_n||(_n=lt),H.size!=pe.size&&!pr)return!1;var gn=Tn.get(H);if(gn)return gn==pe;ot|=a,Tn.set(H,pe);var Nr=ko(_n(H),_n(pe),ot,Xt,qt,Tn);return Tn.delete(H),Nr;case L:if(fr)return fr.call(H)==fr.call(pe)}return!1}function Pu(H,pe,Te,ot,Xt,qt){var Tn=Te&i,_n=Ws(H),pr=_n.length,gn=Ws(pe),Nr=gn.length;if(pr!=Nr&&!Tn)return!1;for(var wa=pr;wa--;){var Ar=_n[wa];if(!(Tn?Ar in pe:ft.call(pe,Ar)))return!1}var Cr=qt.get(H);if(Cr&&qt.get(pe))return Cr==pe;var Kr=!0;qt.set(H,pe),qt.set(pe,H);for(var Ha=Tn;++wa<pr;){Ar=_n[wa];var Gs=H[Ar],Cs=pe[Ar];if(ot)var Zd=Tn?ot(Cs,Gs,Ar,pe,H,qt):ot(Gs,Cs,Ar,H,pe,qt);if(!(Zd===void 0?Gs===Cs||Xt(Gs,Cs,Te,ot,qt):Zd)){Kr=!1;break}Ha||(Ha=Ar=="constructor")}if(Kr&&!Ha){var fl=H.constructor,To=pe.constructor;fl!=To&&"constructor"in H&&"constructor"in pe&&!(typeof fl=="function"&&fl instanceof fl&&typeof To=="function"&&To instanceof To)&&(Kr=!1)}return qt.delete(H),qt.delete(pe),Kr}function Ws(H){return sl(H,dl,zu)}function Bi(H,pe){var Te=H.__data__;return ll(pe)?Te[typeof pe=="string"?"string":"hash"]:Te.map}function ss(H,pe){var Te=Pe(H,pe);return hr(Te)?Te:void 0}function ws(H){var pe=ft.call(H,zn),Te=H[zn];try{H[zn]=void 0;var ot=!0}catch{}var Xt=Mt.call(H);return ot&&(pe?H[zn]=Te:delete H[zn]),Xt}var zu=qn?function(H){return H==null?[]:(H=Object(H),Se(qn(H),function(pe){return nn.call(H,pe)}))}:oo,qa=za;(Mn&&qa(new Mn(new ArrayBuffer(1)))!=O||Vt&&qa(new Vt)!=y||En&&qa(En.resolve())!=N||xa&&qa(new xa)!=M||Sr&&qa(new Sr)!=Q)&&(qa=function(H){var pe=za(H),Te=pe==C?H.constructor:void 0,ot=Te?ei(Te):"";if(ot)switch(ot){case va:return O;case Dt:return y;case Wn:return N;case sr:return M;case Mr:return Q}return pe});function Vs(H,pe){return pe=pe??s,!!pe&&(typeof H=="number"||Z.test(H))&&H>-1&&H%1==0&&H<pe}function ll(H){var pe=typeof H;return pe=="string"||pe=="number"||pe=="symbol"||pe=="boolean"?H!=="__proto__":H===null}function Ys(H){return!!Ze&&Ze in H}function ul(H){var pe=H&&H.constructor,Te=typeof pe=="function"&&pe.prototype||xe;return H===Te}function ui(H){return Mt.call(H)}function ei(H){if(H!=null){try{return Ne.call(H)}catch{}try{return H+""}catch{}}return""}function Ss(H,pe){return H===pe||H!==H&&pe!==pe}var tn=Wl(function(){return arguments}())?Wl:function(H){return $a(H)&&ft.call(H,"callee")&&!nn.call(H,"callee")},so=Array.isArray;function cl(H){return H!=null&&Ua(H.length)&&!jo(H)}var Ei=Qr||As;function Ba(H,pe){return na(H,pe)}function jo(H){if(!Da(H))return!1;var pe=za(H);return pe==m||pe==x||pe==d||pe==F}function Ua(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=s}function Da(H){var pe=typeof H;return H!=null&&(pe=="object"||pe=="function")}function $a(H){return H!=null&&typeof H=="object"}var No=V?ve(V):_o;function dl(H){return cl(H)?ta(H):Vl(H)}function oo(){return[]}function As(){return!1}e.exports=Ba}(W1,W1.exports)),W1.exports}var by={},b8;function yU(){if(b8)return by;b8=1,Object.defineProperty(by,"__esModule",{value:!0});const e=y7(),n=x7();var t;return function(r){function i(c={},d={},h=!1){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});let g=e(d);h||(g=Object.keys(g).reduce((b,m)=>(g[m]!=null&&(b[m]=g[m]),b),{}));for(const b in c)c[b]!==void 0&&d[b]===void 0&&(g[b]=c[b]);return Object.keys(g).length>0?g:void 0}r.compose=i;function a(c={},d={}){typeof c!="object"&&(c={}),typeof d!="object"&&(d={});const h=Object.keys(c).concat(Object.keys(d)).reduce((g,b)=>(n(c[b],d[b])||(g[b]=d[b]===void 0?null:d[b]),g),{});return Object.keys(h).length>0?h:void 0}r.diff=a;function s(c={},d={}){c=c||{};const h=Object.keys(d).reduce((g,b)=>(d[b]!==c[b]&&c[b]!==void 0&&(g[b]=d[b]),g),{});return Object.keys(c).reduce((g,b)=>(c[b]!==d[b]&&d[b]===void 0&&(g[b]=null),g),h)}r.invert=s;function l(c,d,h=!1){if(typeof c!="object")return d;if(typeof d!="object")return;if(!h)return d;const g=Object.keys(d).reduce((b,m)=>(c[m]===void 0&&(b[m]=d[m]),b),{});return Object.keys(g).length>0?g:void 0}r.transform=l}(t||(t={})),by.default=t,by}var yy={},y8;function v7(){if(y8)return yy;y8=1,Object.defineProperty(yy,"__esModule",{value:!0});var e;return function(n){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}n.length=t}(e||(e={})),yy.default=e,yy}var xy={},x8;function xU(){if(x8)return xy;x8=1,Object.defineProperty(xy,"__esModule",{value:!0});const e=v7();class n{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const a=this.offset,s=e.default.length(i);if(r>=s-a?(r=s-a,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const l={};return i.attributes&&(l.attributes=i.attributes),typeof i.retain=="number"?l.retain=r:typeof i.retain=="object"&&i.retain!==null?l.retain=i.retain:typeof i.insert=="string"?l.insert=i.insert.substr(a,r):l.insert=i.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,a=this.next(),s=this.ops.slice(this.index);return this.offset=r,this.index=i,[a].concat(s)}}else return[]}}return xy.default=n,xy}var v8;function vU(){return v8||(v8=1,function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AttributeMap=n.OpIterator=n.Op=void 0;const t=bU(),r=y7(),i=x7(),a=yU();n.AttributeMap=a.default;const s=v7();n.Op=s.default;const l=xU();n.OpIterator=l.default;const c="\0",d=(g,b)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof b!="object"||b===null)throw new Error(`cannot retain a ${typeof b}`);const m=Object.keys(g)[0];if(!m||m!==Object.keys(b)[0])throw new Error(`embed types not matched: ${m} != ${Object.keys(b)[0]}`);return[m,g[m],b[m]]};class h{constructor(b){Array.isArray(b)?this.ops=b:b!=null&&Array.isArray(b.ops)?this.ops=b.ops:this.ops=[]}static registerEmbed(b,m){this.handlers[b]=m}static unregisterEmbed(b){delete this.handlers[b]}static getHandler(b){const m=this.handlers[b];if(!m)throw new Error(`no handlers for embed type "${b}"`);return m}insert(b,m){const x={};return typeof b=="string"&&b.length===0?this:(x.insert=b,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(x.attributes=m),this.push(x))}delete(b){return b<=0?this:this.push({delete:b})}retain(b,m){if(typeof b=="number"&&b<=0)return this;const x={retain:b};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(x.attributes=m),this.push(x)}push(b){let m=this.ops.length,x=this.ops[m-1];if(b=r(b),typeof x=="object"){if(typeof b.delete=="number"&&typeof x.delete=="number")return this.ops[m-1]={delete:x.delete+b.delete},this;if(typeof x.delete=="number"&&b.insert!=null&&(m-=1,x=this.ops[m-1],typeof x!="object"))return this.ops.unshift(b),this;if(i(b.attributes,x.attributes)){if(typeof b.insert=="string"&&typeof x.insert=="string")return this.ops[m-1]={insert:x.insert+b.insert},typeof b.attributes=="object"&&(this.ops[m-1].attributes=b.attributes),this;if(typeof b.retain=="number"&&typeof x.retain=="number")return this.ops[m-1]={retain:x.retain+b.retain},typeof b.attributes=="object"&&(this.ops[m-1].attributes=b.attributes),this}}return m===this.ops.length?this.ops.push(b):this.ops.splice(m,0,b),this}chop(){const b=this.ops[this.ops.length-1];return b&&typeof b.retain=="number"&&!b.attributes&&this.ops.pop(),this}filter(b){return this.ops.filter(b)}forEach(b){this.ops.forEach(b)}map(b){return this.ops.map(b)}partition(b){const m=[],x=[];return this.forEach(y=>{(b(y)?m:x).push(y)}),[m,x]}reduce(b,m){return this.ops.reduce(b,m)}changeLength(){return this.reduce((b,m)=>m.insert?b+s.default.length(m):m.delete?b-m.delete:b,0)}length(){return this.reduce((b,m)=>b+s.default.length(m),0)}slice(b=0,m=1/0){const x=[],y=new l.default(this.ops);let A=0;for(;A<m&&y.hasNext();){let w;A<b?w=y.next(b-A):(w=y.next(m-A),x.push(w)),A+=s.default.length(w)}return new h(x)}compose(b){const m=new l.default(this.ops),x=new l.default(b.ops),y=[],A=x.peek();if(A!=null&&typeof A.retain=="number"&&A.attributes==null){let C=A.retain;for(;m.peekType()==="insert"&&m.peekLength()<=C;)C-=m.peekLength(),y.push(m.next());A.retain-C>0&&x.next(A.retain-C)}const w=new h(y);for(;m.hasNext()||x.hasNext();)if(x.peekType()==="insert")w.push(x.next());else if(m.peekType()==="delete")w.push(m.next());else{const C=Math.min(m.peekLength(),x.peekLength()),N=m.next(C),F=x.next(C);if(F.retain){const R={};if(typeof N.retain=="number")R.retain=typeof F.retain=="number"?C:F.retain;else if(typeof F.retain=="number")N.retain==null?R.insert=N.insert:R.retain=N.retain;else{const k=N.retain==null?"insert":"retain",[L,B,Q]=d(N[k],F.retain),j=h.getHandler(L);R[k]={[L]:j.compose(B,Q,k==="retain")}}const M=a.default.compose(N.attributes,F.attributes,typeof N.retain=="number");if(M&&(R.attributes=M),w.push(R),!x.hasNext()&&i(w.ops[w.ops.length-1],R)){const k=new h(m.rest());return w.concat(k).chop()}}else typeof F.delete=="number"&&(typeof N.retain=="number"||typeof N.retain=="object"&&N.retain!==null)&&w.push(F)}return w.chop()}concat(b){const m=new h(this.ops.slice());return b.ops.length>0&&(m.push(b.ops[0]),m.ops=m.ops.concat(b.ops.slice(1))),m}diff(b,m){if(this.ops===b.ops)return new h;const x=[this,b].map(N=>N.map(F=>{if(F.insert!=null)return typeof F.insert=="string"?F.insert:c;const R=N===b?"on":"with";throw new Error("diff() called "+R+" non-document")}).join("")),y=new h,A=t(x[0],x[1],m,!0),w=new l.default(this.ops),C=new l.default(b.ops);return A.forEach(N=>{let F=N[1].length;for(;F>0;){let R=0;switch(N[0]){case t.INSERT:R=Math.min(C.peekLength(),F),y.push(C.next(R));break;case t.DELETE:R=Math.min(F,w.peekLength()),w.next(R),y.delete(R);break;case t.EQUAL:R=Math.min(w.peekLength(),C.peekLength(),F);const M=w.next(R),k=C.next(R);i(M.insert,k.insert)?y.retain(R,a.default.diff(M.attributes,k.attributes)):y.push(k).delete(R);break}F-=R}}),y.chop()}eachLine(b,m=`
`){const x=new l.default(this.ops);let y=new h,A=0;for(;x.hasNext();){if(x.peekType()!=="insert")return;const w=x.peek(),C=s.default.length(w)-x.peekLength(),N=typeof w.insert=="string"?w.insert.indexOf(m,C)-C:-1;if(N<0)y.push(x.next());else if(N>0)y.push(x.next(N));else{if(b(y,x.next(1).attributes||{},A)===!1)return;A+=1,y=new h}}y.length()>0&&b(y,{},A)}invert(b){const m=new h;return this.reduce((x,y)=>{if(y.insert)m.delete(s.default.length(y));else{if(typeof y.retain=="number"&&y.attributes==null)return m.retain(y.retain),x+y.retain;if(y.delete||typeof y.retain=="number"){const A=y.delete||y.retain;return b.slice(x,x+A).forEach(C=>{y.delete?m.push(C):y.retain&&y.attributes&&m.retain(s.default.length(C),a.default.invert(y.attributes,C.attributes))}),x+A}else if(typeof y.retain=="object"&&y.retain!==null){const A=b.slice(x,x+1),w=new l.default(A.ops).next(),[C,N,F]=d(y.retain,w.insert),R=h.getHandler(C);return m.retain({[C]:R.invert(N,F)},a.default.invert(y.attributes,w.attributes)),x+1}}return x},0),m.chop()}transform(b,m=!1){if(m=!!m,typeof b=="number")return this.transformPosition(b,m);const x=b,y=new l.default(this.ops),A=new l.default(x.ops),w=new h;for(;y.hasNext()||A.hasNext();)if(y.peekType()==="insert"&&(m||A.peekType()!=="insert"))w.retain(s.default.length(y.next()));else if(A.peekType()==="insert")w.push(A.next());else{const C=Math.min(y.peekLength(),A.peekLength()),N=y.next(C),F=A.next(C);if(N.delete)continue;if(F.delete)w.push(F);else{const R=N.retain,M=F.retain;let k=typeof M=="object"&&M!==null?M:C;if(typeof R=="object"&&R!==null&&typeof M=="object"&&M!==null){const L=Object.keys(R)[0];if(L===Object.keys(M)[0]){const B=h.getHandler(L);B&&(k={[L]:B.transform(R[L],M[L],m)})}}w.retain(k,a.default.transform(N.attributes,F.attributes,m))}}return w.chop()}transformPosition(b,m=!1){m=!!m;const x=new l.default(this.ops);let y=0;for(;x.hasNext()&&y<=b;){const A=x.peekLength(),w=x.peekType();if(x.next(),w==="delete"){b-=Math.min(A,b-y);continue}else w==="insert"&&(y<b||!m)&&(b+=A);y+=A}return b}}h.Op=s.default,h.OpIterator=l.default,h.AttributeMap=a.default,h.handlers={},n.default=h,e.exports=h,e.exports.default=h}(gy,gy.exports)),gy.exports}var Ll=vU();const $t=ns(Ll);class Ou extends il{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Ou.blotName="break";Ou.tagName="BR";let Cu=class extends Nx{};const wU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function hv(e){return e.replace(/[&<>"']/g,n=>wU[n])}const pc=class pc extends q6{static compare(n,t){const r=pc.order.indexOf(n),i=pc.order.indexOf(t);return r>=0||i>=0?r-i:n===t?0:n<t?-1:1}formatAt(n,t,r,i){if(pc.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Ht.BLOT)){const a=this.isolate(n,t);i&&a.wrap(r,i)}else super.formatAt(n,t,r,i)}optimize(n){if(super.optimize(n),this.parent instanceof pc&&pc.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}};Je(pc,"allowedChildren",[pc,Ou,il,Cu]),Je(pc,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Uc=pc;const w8=1;class bs extends bg{constructor(){super(...arguments);Je(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=w7(this)),this.cache.delta}deleteAt(t,r){super.deleteAt(t,r),this.cache={}}formatAt(t,r,i,a){r<=0||(this.scroll.query(i,Ht.BLOCK)?t+r===this.length()&&this.format(i,a):super.formatAt(t,Math.min(r,this.length()-t-1),i,a),this.cache={})}insertAt(t,r,i){if(i!=null){super.insertAt(t,r,i),this.cache={};return}if(r.length===0)return;const a=r.split(`
`),s=a.shift();s.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});let l=this;a.reduce((c,d)=>(l=l.split(c,!0),l.insertAt(0,d),d.length),t+s.length)}insertBefore(t,r){const{head:i}=this.children;super.insertBefore(t,r),i instanceof Ou&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+w8),this.cache.length}moveChildren(t,r){super.moveChildren(t,r),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(t===0||t>=this.length()-w8)){const a=this.clone();return t===0?(this.parent.insertBefore(a,this),this):(this.parent.insertBefore(a,this.next),a)}const i=super.split(t,r);return this.cache={},i}}bs.blotName="block";bs.tagName="P";bs.defaultChild=Ou;bs.allowedChildren=[Ou,Uc,il,Cu];class Dl extends il{attach(){super.attach(),this.attributes=new dv(this.domNode)}delta(){return new $t().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(n,t){const r=this.scroll.query(n,Ht.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(n,t,r,i){this.format(r,i)}insertAt(n,t,r){if(r!=null){super.insertAt(n,t,r);return}const i=t.split(`
`),a=i.pop(),s=i.map(c=>{const d=this.scroll.create(bs.blotName);return d.insertAt(0,c),d}),l=this.split(n);s.forEach(c=>{this.parent.insertBefore(c,l)}),a&&this.parent.insertBefore(this.scroll.create("text",a),l)}}Dl.scope=Ht.BLOCK_BLOT;function w7(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.descendants(Fs).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),_l(r,{},n)),new $t).insert(`
`,_l(e))}function _l(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return e==null||("formats"in e&&typeof e.formats=="function"&&(n={...n,...e.formats()},t&&delete n["code-token"]),e.parent==null||e.parent.statics.blotName==="scroll"||e.parent.statics.scope!==e.statics.scope)?n:_l(e.parent,n,t)}const Cl=class Cl extends il{static value(){}constructor(n,t,r){super(n,t),this.selection=r,this.textNode=document.createTextNode(Cl.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(n,t){if(this.savedLength!==0){super.format(n,t);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==Ht.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=Cl.CONTENTS.length,r.optimize(),r.formatAt(i,Cl.CONTENTS.length,n,t),this.savedLength=0)}index(n,t){return n===this.textNode?0:super.index(n,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const n=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof Cu?this.prev:null,r=t?t.length():0,i=this.next instanceof Cu?this.next:null,a=i?i.text:"",{textNode:s}=this,l=s.data.split(Cl.CONTENTS).join("");s.data=Cl.CONTENTS;let c;if(t)c=t,(l||i)&&(t.insertAt(t.length(),l+a),i&&i.remove());else if(i)c=i,i.insertAt(0,l);else{const d=document.createTextNode(l);c=this.scroll.create(d),this.parent.insertBefore(c,this)}if(this.remove(),n){const d=(b,m)=>t&&b===t.domNode?m:b===s?r+m-1:i&&b===i.domNode?r+l.length+m:null,h=d(n.start.node,n.start.offset),g=d(n.end.node,n.end.offset);if(h!==null&&g!==null)return{startNode:c.domNode,startOffset:h,endNode:c.domNode,endOffset:g}}return null}update(n,t){if(n.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(n){super.optimize(n);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=Cl.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}};Je(Cl,"blotName","cursor"),Je(Cl,"className","ql-cursor"),Je(Cl,"tagName","span"),Je(Cl,"CONTENTS","\uFEFF");let J0=Cl;var L5={exports:{}},S8;function SU(){return S8||(S8=1,function(e){var n=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function a(c,d,h,g,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var m=new i(h,g||c,b),x=t?t+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,g;if(this._eventsCount===0)return d;for(g in h=this._events)n.call(h,g)&&d.push(t?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=t?t+d:d,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,m=g.length,x=new Array(m);b<m;b++)x[b]=g[b].fn;return x},l.prototype.listenerCount=function(d){var h=t?t+d:d,g=this._events[h];return g?g.fn?1:g.length:0},l.prototype.emit=function(d,h,g,b,m,x){var y=t?t+d:d;if(!this._events[y])return!1;var A=this._events[y],w=arguments.length,C,N;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),w){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,g),!0;case 4:return A.fn.call(A.context,h,g,b),!0;case 5:return A.fn.call(A.context,h,g,b,m),!0;case 6:return A.fn.call(A.context,h,g,b,m,x),!0}for(N=1,C=new Array(w-1);N<w;N++)C[N-1]=arguments[N];A.fn.apply(A.context,C)}else{var F=A.length,R;for(N=0;N<F;N++)switch(A[N].once&&this.removeListener(d,A[N].fn,void 0,!0),w){case 1:A[N].fn.call(A[N].context);break;case 2:A[N].fn.call(A[N].context,h);break;case 3:A[N].fn.call(A[N].context,h,g);break;case 4:A[N].fn.call(A[N].context,h,g,b);break;default:if(!C)for(R=1,C=new Array(w-1);R<w;R++)C[R-1]=arguments[R];A[N].fn.apply(A[N].context,C)}}return!0},l.prototype.on=function(d,h,g){return a(this,d,h,g,!1)},l.prototype.once=function(d,h,g){return a(this,d,h,g,!0)},l.prototype.removeListener=function(d,h,g,b){var m=t?t+d:d;if(!this._events[m])return this;if(!h)return s(this,m),this;var x=this._events[m];if(x.fn)x.fn===h&&(!b||x.once)&&(!g||x.context===g)&&s(this,m);else{for(var y=0,A=[],w=x.length;y<w;y++)(x[y].fn!==h||b&&!x[y].once||g&&x[y].context!==g)&&A.push(x[y]);A.length?this._events[m]=A.length===1?A[0]:A:s(this,m)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=t?t+d:d,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,e.exports=l}(L5)),L5.exports}var AU=SU();const CU=ns(AU),lS=new WeakMap,uS=["error","warn","log","info"];let cS="warn";function S7(e){if(cS&&uS.indexOf(e)<=uS.indexOf(cS)){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];console[e](...t)}}function Qd(e){return uS.reduce((n,t)=>(n[t]=S7.bind(console,t,e),n),{})}Qd.level=e=>{cS=e};S7.level=Qd.level;const R5=Qd("quill:events"),EU=["selectionchange","mousedown","mouseup","click"];EU.forEach(e=>{document.addEventListener(e,function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const a=lS.get(i);a&&a.emitter&&a.emitter.handleDOM(...t)})})});class Ft extends CU{constructor(){super(),this.domListeners={},this.on("error",R5.error)}emit(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return R5.log.call(R5,...t),super.emit(...t)}handleDOM(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];(this.domListeners[n.type]||[]).forEach(a=>{let{node:s,handler:l}=a;(n.target===s||s.contains(n.target))&&l(n,...r)})}listenDOM(n,t,r){this.domListeners[n]||(this.domListeners[n]=[]),this.domListeners[n].push({node:t,handler:r})}}Je(Ft,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Je(Ft,"sources",{API:"api",SILENT:"silent",USER:"user"});const M5=Qd("quill:selection");class hp{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=n,this.length=t}}class _U{constructor(n,t){this.emitter=t,this.scroll=n,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new hp(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ft.sources.USER),1)}),this.emitter.on(Ft.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(Ft.events.SCROLL_UPDATE,(i,a)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const s=a.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(s?Ft.sources.SILENT:i)}catch{}})}),this.emitter.on(Ft.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:a,startOffset:s,endNode:l,endOffset:c}=i.range;this.setNativeRange(a,s,l,c),this.update(Ft.sources.SILENT)}}),this.update(Ft.sources.SILENT)}handleComposition(){this.emitter.on(Ft.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ft.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const n=this.cursor.restore();if(!n)return;setTimeout(()=>{this.setNativeRange(n.startNode,n.startOffset,n.endNode,n.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ft.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(n,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(n,Ht.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof Fs){const a=i.split(r.start.offset);i.parent.insertBefore(this.cursor,a)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(n,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();n=Math.min(n,r-1),t=Math.min(n+t,r-1)-n;let i,[a,s]=this.scroll.leaf(n);if(a==null)return null;if(t>0&&s===a.length()){const[h]=this.scroll.leaf(n+1);if(h){const[g]=this.scroll.line(n),[b]=this.scroll.line(n+1);g===b&&(a=h,s=0)}}[i,s]=a.position(s,!0);const l=document.createRange();if(t>0)return l.setStart(i,s),[a,s]=this.scroll.leaf(n+t),a==null?null:([i,s]=a.position(s,!0),l.setEnd(i,s),l.getBoundingClientRect());let c="left",d;if(i instanceof Text){if(!i.data.length)return null;s<i.data.length?(l.setStart(i,s),l.setEnd(i,s+1)):(l.setStart(i,s-1),l.setEnd(i,s),c="right"),d=l.getBoundingClientRect()}else{if(!(a.domNode instanceof Element))return null;d=a.domNode.getBoundingClientRect(),s>0&&(c="right")}return{bottom:d.top+d.height,height:d.height,left:d[c],right:d[c],top:d.top,width:0}}getNativeRange(){const n=document.getSelection();if(n==null||n.rangeCount<=0)return null;const t=n.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return M5.info("getNativeRange",r),r}getRange(){const n=this.scroll.domNode;if("isConnected"in n&&!n.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&F5(this.root,document.activeElement)}normalizedToRange(n){const t=[[n.start.node,n.start.offset]];n.native.collapsed||t.push([n.end.node,n.end.offset]);const r=t.map(s=>{const[l,c]=s,d=this.scroll.find(l,!0),h=d.offset(this.scroll);return c===0?h:d instanceof Fs?h+d.index(l,c):h+d.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),a=Math.min(i,...r);return new hp(a,i-a)}normalizeNative(n){if(!F5(this.root,n.startContainer)||!n.collapsed&&!F5(this.root,n.endContainer))return null;const t={start:{node:n.startContainer,offset:n.startOffset},end:{node:n.endContainer,offset:n.endOffset},native:n};return[t.start,t.end].forEach(r=>{let{node:i,offset:a}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>a)i=i.childNodes[a],a=0;else if(i.childNodes.length===a)i=i.lastChild,i instanceof Text?a=i.data.length:i.childNodes.length>0?a=i.childNodes.length:a=i.childNodes.length+1;else break;r.node=i,r.offset=a}),t}rangeToNative(n){const t=this.scroll.length(),r=(i,a)=>{i=Math.min(t-1,i);const[s,l]=this.scroll.leaf(i);return s?s.position(l,a):[null,-1]};return[...r(n.index,!1),...r(n.index+n.length,!0)]}setNativeRange(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(M5.info("setNativeRange",n,t,r,i),n!=null&&(this.root.parentNode==null||n.parentNode==null||r.parentNode==null))return;const s=document.getSelection();if(s!=null)if(n!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||a||n!==l.startContainer||t!==l.startOffset||r!==l.endContainer||i!==l.endOffset){n instanceof Element&&n.tagName==="BR"&&(t=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const c=document.createRange();c.setStart(n,t),c.setEnd(r,i),s.removeAllRanges(),s.addRange(c)}}else s.removeAllRanges(),this.root.blur()}setRange(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ft.sources.API;if(typeof t=="string"&&(r=t,t=!1),M5.info("setRange",n),n!=null){const i=this.rangeToNative(n);this.setNativeRange(...i,t)}else this.setNativeRange(null);this.update(r)}update(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ft.sources.USER;const t=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!qf(t,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const s=this.cursor.restore();s&&this.setNativeRange(s.startNode,s.startOffset,s.endNode,s.endOffset)}const a=[Ft.events.SELECTION_CHANGE,L0(this.lastRange),L0(t),n];this.emitter.emit(Ft.events.EDITOR_CHANGE,...a),n!==Ft.sources.SILENT&&this.emitter.emit(...a)}}}function F5(e,n){try{n.parentNode}catch{return!1}return e.contains(n)}const kU=/^[ -~]*$/;class jU{constructor(n){this.scroll=n,this.delta=this.getDelta()}applyDelta(n){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=A8(n),i=new $t;return TU(r.ops.slice()).reduce((s,l)=>{const c=Ll.Op.length(l);let d=l.attributes||{},h=!1,g=!1;if(l.insert!=null){if(i.retain(c),typeof l.insert=="string"){const x=l.insert;g=!x.endsWith(`
`)&&(t<=s||!!this.scroll.descendant(Dl,s)[0]),this.scroll.insertAt(s,x);const[y,A]=this.scroll.line(s);let w=Jf({},_l(y));if(y instanceof bs){const[C]=y.descendant(Fs,A);C&&(w=Jf(w,_l(C)))}d=Ll.AttributeMap.diff(w,d)||{}}else if(typeof l.insert=="object"){const x=Object.keys(l.insert)[0];if(x==null)return s;const y=this.scroll.query(x,Ht.INLINE)!=null;if(y)(t<=s||this.scroll.descendant(Dl,s)[0])&&(g=!0);else if(s>0){const[A,w]=this.scroll.descendant(Fs,s-1);A instanceof Cu?A.value()[w]!==`
`&&(h=!0):A instanceof il&&A.statics.scope===Ht.INLINE_BLOT&&(h=!0)}if(this.scroll.insertAt(s,x,l.insert[x]),y){const[A]=this.scroll.descendant(Fs,s);if(A){const w=Jf({},_l(A));d=Ll.AttributeMap.diff(w,d)||{}}}}t+=c}else if(i.push(l),l.retain!==null&&typeof l.retain=="object"){const x=Object.keys(l.retain)[0];if(x==null)return s;this.scroll.updateEmbedAt(s,x,l.retain[x])}Object.keys(d).forEach(x=>{this.scroll.formatAt(s,c,x,d[x])});const b=h?1:0,m=g?1:0;return t+=b+m,i.retain(b),i.delete(m),s+c+b+m},0),i.reduce((s,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(s,l.delete),s):s+Ll.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(n,t){return this.scroll.deleteAt(n,t),this.update(new $t().retain(n).delete(t))}formatLine(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(a=>{this.scroll.lines(n,Math.max(t,1)).forEach(s=>{s.format(a,r[a])})}),this.scroll.optimize();const i=new $t().retain(n).retain(t,L0(r));return this.update(i)}formatText(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(a=>{this.scroll.formatAt(n,t,a,r[a])});const i=new $t().retain(n).retain(t,L0(r));return this.update(i)}getContents(n,t){return this.delta.slice(n,n+t)}getDelta(){return this.scroll.lines().reduce((n,t)=>n.concat(t.delta()),new $t)}getFormat(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];t===0?this.scroll.path(n).forEach(l=>{const[c]=l;c instanceof bs?r.push(c):c instanceof Fs&&i.push(c)}):(r=this.scroll.lines(n,t),i=this.scroll.descendants(Fs,n,t));const[a,s]=[r,i].map(l=>{const c=l.shift();if(c==null)return{};let d=_l(c);for(;Object.keys(d).length>0;){const h=l.shift();if(h==null)return d;d=NU(_l(h),d)}return d});return{...a,...s}}getHTML(n,t){const[r,i]=this.scroll.line(n);if(r){const a=r.length();return r.length()>=i+t&&!(i===0&&t===a)?yg(r,i,t,!0):yg(this.scroll,n,t,!0)}return""}getText(n,t){return this.getContents(n,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(n,t){const r=A8(t),i=new $t().retain(n).concat(r);return this.scroll.insertContents(n,r),this.update(i)}insertEmbed(n,t,r){return this.scroll.insertAt(n,t,r),this.update(new $t().retain(n).insert({[t]:r}))}insertText(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(n,t),Object.keys(r).forEach(i=>{this.scroll.formatAt(n,t.length,i,r[i])}),this.update(new $t().retain(n).insert(t,L0(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const n=this.scroll.children.head;if((n==null?void 0:n.statics.blotName)!==bs.blotName)return!1;const t=n;return t.children.length>1?!1:t.children.head instanceof Ou}removeFormat(n,t){const r=this.getText(n,t),[i,a]=this.scroll.line(n+t);let s=0,l=new $t;i!=null&&(s=i.length()-a,l=i.delta().slice(a,a+s-1).insert(`
`));const d=this.getContents(n,t+s).diff(new $t().insert(r).concat(l)),h=new $t().retain(n).concat(d);return this.applyDelta(h)}update(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(kU)&&this.scroll.find(t[0].target)){const a=this.scroll.find(t[0].target),s=_l(a),l=a.offset(this.scroll),c=t[0].oldValue.replace(J0.CONTENTS,""),d=new $t().insert(c),h=new $t().insert(a.value()),g=r&&{oldRange:C8(r.oldRange,-l),newRange:C8(r.newRange,-l)};n=new $t().retain(l).concat(d.diff(h,g)).reduce((m,x)=>x.insert?m.insert(x.insert,s):m.push(x),new $t),this.delta=i.compose(n)}else this.delta=this.getDelta(),(!n||!qf(i.compose(n),this.delta))&&(n=i.diff(this.delta,r));return n}}function k0(e,n,t){if(e.length===0){const[m]=P5(t.pop());return n<=0?`</li></${m}>`:`</li></${m}>${k0([],n-1,t)}`}const[{child:r,offset:i,length:a,indent:s,type:l},...c]=e,[d,h]=P5(l);if(s>n)return t.push(l),s===n+1?`<${d}><li${h}>${yg(r,i,a)}${k0(c,s,t)}`:`<${d}><li>${k0(e,n+1,t)}`;const g=t[t.length-1];if(s===n&&l===g)return`</li><li${h}>${yg(r,i,a)}${k0(c,s,t)}`;const[b]=P5(t.pop());return`</li></${b}>${k0(e,n-1,t)}`}function yg(e,n,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in e&&typeof e.html=="function")return e.html(n,t);if(e instanceof Cu)return hv(e.value().slice(n,n+t)).replaceAll(" ","&nbsp;");if(e instanceof Su){if(e.statics.blotName==="list-container"){const d=[];return e.children.forEachAt(n,t,(h,g,b)=>{const m="formats"in h&&typeof h.formats=="function"?h.formats():{};d.push({child:h,offset:g,length:b,indent:m.indent||0,type:m.list})}),k0(d,-1,[])}const i=[];if(e.children.forEachAt(n,t,(d,h,g)=>{i.push(yg(d,h,g))}),r||e.statics.blotName==="list")return i.join("");const{outerHTML:a,innerHTML:s}=e.domNode,[l,c]=a.split(`>${s}<`);return l==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${c}`:`${l}>${i.join("")}<${c}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function NU(e,n){return Object.keys(n).reduce((t,r)=>{if(e[r]==null)return t;const i=n[r];return i===e[r]?t[r]=i:Array.isArray(i)?i.indexOf(e[r])<0?t[r]=i.concat([e[r]]):t[r]=i:t[r]=[i,e[r]],t},{})}function P5(e){const n=e==="ordered"?"ol":"ul";switch(e){case"checked":return[n,' data-list="checked"'];case"unchecked":return[n,' data-list="unchecked"'];default:return[n,""]}}function A8(e){return e.reduce((n,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return n.insert(r,t.attributes)}return n.push(t)},new $t)}function C8(e,n){let{index:t,length:r}=e;return new hp(t+n,r)}function TU(e){const n=[];return e.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((i,a)=>{a&&n.push({insert:`
`,attributes:t.attributes}),i&&n.push({insert:i,attributes:t.attributes})}):n.push(t)}),n}class Iu{constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=n,this.options=t}}Je(Iu,"DEFAULTS",{});const vy="\uFEFF";class U6 extends il{constructor(n,t){super(n,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(vy),this.rightGuard=document.createTextNode(vy),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(n,t){return n===this.leftGuard?0:n===this.rightGuard?1:super.index(n,t)}restore(n){let t=null,r;const i=n.data.split(vy).join("");if(n===this.leftGuard)if(this.prev instanceof Cu){const a=this.prev.length();this.prev.insertAt(a,i),t={startNode:this.prev.domNode,startOffset:a+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:i.length};else n===this.rightGuard&&(this.next instanceof Cu?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:i.length}));return n.data=vy,t}update(n,t){n.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(t.range=i)}})}}class OU{constructor(n,t){Je(this,"isComposing",!1);this.scroll=n,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",n=>{this.isComposing||this.handleCompositionStart(n)}),this.scroll.domNode.addEventListener("compositionend",n=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(n)})})}handleCompositionStart(n){const t=n.target instanceof Node?this.scroll.find(n.target,!0):null;t&&!(t instanceof U6)&&(this.emitter.emit(Ft.events.COMPOSITION_BEFORE_START,n),this.scroll.batchStart(),this.emitter.emit(Ft.events.COMPOSITION_START,n),this.isComposing=!0)}handleCompositionEnd(n){this.emitter.emit(Ft.events.COMPOSITION_BEFORE_END,n),this.scroll.batchEnd(),this.emitter.emit(Ft.events.COMPOSITION_END,n),this.isComposing=!1}}const ig=class ig{constructor(n,t){Je(this,"modules",{});this.quill=n,this.options=t}init(){Object.keys(this.options.modules).forEach(n=>{this.modules[n]==null&&this.addModule(n)})}addModule(n){const t=this.quill.constructor.import(`modules/${n}`);return this.modules[n]=new t(this.quill,this.options.modules[n]||{}),this.modules[n]}};Je(ig,"DEFAULTS",{modules:{}}),Je(ig,"themes",{default:ig});let em=ig;const IU=e=>e.parentElement||e.getRootNode().host||null,DU=e=>{const n=e.getBoundingClientRect(),t="offsetWidth"in e&&Math.abs(n.width)/e.offsetWidth||1,r="offsetHeight"in e&&Math.abs(n.height)/e.offsetHeight||1;return{top:n.top,right:n.left+e.clientWidth*t,bottom:n.top+e.clientHeight*r,left:n.left}},wy=e=>{const n=parseInt(e,10);return Number.isNaN(n)?0:n},E8=(e,n,t,r,i,a)=>e<t&&n>r?0:e<t?-(t-e+i):n>r?n-e>r-t?e+i-t:n-r+a:0,LU=(e,n)=>{var a,s,l;const t=e.ownerDocument;let r=n,i=e;for(;i;){const c=i===t.body,d=c?{top:0,right:((a=window.visualViewport)==null?void 0:a.width)??t.documentElement.clientWidth,bottom:((s=window.visualViewport)==null?void 0:s.height)??t.documentElement.clientHeight,left:0}:DU(i),h=getComputedStyle(i),g=E8(r.left,r.right,d.left,d.right,wy(h.scrollPaddingLeft),wy(h.scrollPaddingRight)),b=E8(r.top,r.bottom,d.top,d.bottom,wy(h.scrollPaddingTop),wy(h.scrollPaddingBottom));if(g||b)if(c)(l=t.defaultView)==null||l.scrollBy(g,b);else{const{scrollLeft:m,scrollTop:x}=i;b&&(i.scrollTop+=b),g&&(i.scrollLeft+=g);const y=i.scrollLeft-m,A=i.scrollTop-x;r={left:r.left-y,top:r.top-A,right:r.right-y,bottom:r.bottom-A}}i=c||h.position==="fixed"?null:IU(i)}},RU=100,MU=["block","break","cursor","inline","scroll","text"],FU=(e,n,t)=>{const r=new Z0;return MU.forEach(i=>{const a=n.query(i);a&&r.register(a)}),e.forEach(i=>{let a=n.query(i);a||t.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let s=0;for(;a;)if(r.register(a),a="blotName"in a?a.requiredContainer??null:null,s+=1,s>RU){t.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},M0=Qd("quill"),Sy=new Z0;Su.uiClass="ql-ui";const pu=class pu{static debug(n){n===!0&&(n="log"),Qd.level(n)}static find(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return lS.get(n)||Sy.find(n,t)}static import(n){return this.imports[n]==null&&M0.error(`Cannot import ${n}. Are you sure it was registered?`),this.imports[n]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const n=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in n?n.attrName:n.blotName;typeof r=="string"?this.register(`formats/${r}`,n,t):Object.keys(n).forEach(i=>{this.register(i,n[i],t)})}else{const n=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[n]!=null&&!r&&M0.warn(`Overwriting ${n} with`,t),this.imports[n]=t,(n.startsWith("blots/")||n.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&Sy.register(t),typeof t.register=="function"&&t.register(Sy)}}constructor(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=PU(n,t),this.container=this.options.container,this.container==null){M0.error("Invalid Quill container",n);return}this.options.debug&&pu.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",lS.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ft;const i=B6.blotName,a=this.options.registry.query(i);if(!a||!("blotName"in a))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new a(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new jU(this.scroll),this.selection=new _U(this.scroll,this.emitter),this.composition=new OU(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ft.events.EDITOR_CHANGE,s=>{s===Ft.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ft.events.SCROLL_UPDATE,(s,l)=>{const c=this.selection.lastRange,[d]=this.selection.getRange(),h=c&&d?{oldRange:c,newRange:d}:void 0;du.call(this,()=>this.editor.update(null,l,h),s)}),this.emitter.on(Ft.events.SCROLL_EMBED_UPDATE,(s,l)=>{const c=this.selection.lastRange,[d]=this.selection.getRange(),h=c&&d?{oldRange:c,newRange:d}:void 0;du.call(this,()=>{const g=new $t().retain(s.offset(this)).retain({[s.statics.blotName]:l});return this.editor.update(g,[],h)},pu.sources.USER)}),r){const s=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(s)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof n=="string"){const r=n;n=document.createElement("div"),n.classList.add(r)}return this.container.insertBefore(n,t),n}blur(){this.selection.setRange(null)}deleteText(n,t,r){return[n,t,,r]=vd(n,t,r),du.call(this,()=>this.editor.deleteText(n,t),r,n,-1*t)}disable(){this.enable(!1)}editReadOnly(n){this.allowReadOnlyEdits=!0;const t=n();return this.allowReadOnlyEdits=!1,t}enable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(n),this.container.classList.toggle("ql-disabled",!n)}focus(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),n.preventScroll||this.scrollSelectionIntoView()}format(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ft.sources.API;return du.call(this,()=>{const i=this.getSelection(!0);let a=new $t;if(i==null)return a;if(this.scroll.query(n,Ht.BLOCK))a=this.editor.formatLine(i.index,i.length,{[n]:t});else{if(i.length===0)return this.selection.format(n,t),a;a=this.editor.formatText(i.index,i.length,{[n]:t})}return this.setSelection(i,Ft.sources.SILENT),a},r)}formatLine(n,t,r,i,a){let s;return[n,t,s,a]=vd(n,t,r,i,a),du.call(this,()=>this.editor.formatLine(n,t,s),a,n,0)}formatText(n,t,r,i,a){let s;return[n,t,s,a]=vd(n,t,r,i,a),du.call(this,()=>this.editor.formatText(n,t,s),a,n,0)}getBounds(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof n=="number"?r=this.selection.getBounds(n,t):r=this.selection.getBounds(n.index,n.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-n;return[n,t]=vd(n,t),this.editor.getContents(n,t)}getFormat(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof n=="number"?this.editor.getFormat(n,t):this.editor.getFormat(n.index,n.length)}getIndex(n){return n.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(n){return this.scroll.leaf(n)}getLine(n){return this.scroll.line(n)}getLines(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof n!="number"?this.scroll.lines(n.index,n.length):this.scroll.lines(n,t)}getModule(n){return this.theme.modules[n]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof n=="number"&&(t=t??this.getLength()-n),[n,t]=vd(n,t),this.editor.getHTML(n,t)}getText(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof n=="number"&&(t=t??this.getLength()-n),[n,t]=vd(n,t),this.editor.getText(n,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(n,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:pu.sources.API;return du.call(this,()=>this.editor.insertEmbed(n,t,r),i,n)}insertText(n,t,r,i,a){let s;return[n,,s,a]=vd(n,0,r,i,a),du.call(this,()=>this.editor.insertText(n,t,s),a,n,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(n,t,r){return[n,t,,r]=vd(n,t,r),du.call(this,()=>this.editor.removeFormat(n,t),r,n)}scrollRectIntoView(n){LU(this.root,n)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const n=this.selection.lastRange,t=n&&this.selection.getBounds(n.index,n.length);t&&this.scrollRectIntoView(t)}setContents(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ft.sources.API;return du.call(this,()=>{n=new $t(n);const r=this.getLength(),i=this.editor.deleteText(0,r),a=this.editor.insertContents(0,n),s=this.editor.deleteText(this.getLength()-1,1);return i.compose(a).compose(s)},t)}setSelection(n,t,r){n==null?this.selection.setRange(null,t||pu.sources.API):([n,t,,r]=vd(n,t,r),this.selection.setRange(new hp(Math.max(0,n),t),r),r!==Ft.sources.SILENT&&this.scrollSelectionIntoView())}setText(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ft.sources.API;const r=new $t().insert(n);return this.setContents(r,t)}update(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ft.sources.USER;const t=this.scroll.update(n);return this.selection.update(n),t}updateContents(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ft.sources.API;return du.call(this,()=>(n=new $t(n),this.editor.applyDelta(n)),t,!0)}};Je(pu,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Sy,theme:"default"}),Je(pu,"events",Ft.events),Je(pu,"sources",Ft.sources),Je(pu,"version","2.0.3"),Je(pu,"imports",{delta:$t,parchment:gU,"core/module":Iu,"core/theme":em});let wt=pu;function _8(e){return typeof e=="string"?document.querySelector(e):e}function z5(e){return Object.entries(e??{}).reduce((n,t)=>{let[r,i]=t;return{...n,[r]:i===!0?{}:i}},{})}function k8(e){return Object.fromEntries(Object.entries(e).filter(n=>n[1]!==void 0))}function PU(e,n){const t=_8(e);if(!t)throw new Error("Invalid Quill container");const i=!n.theme||n.theme===wt.DEFAULTS.theme?em:wt.import(`themes/${n.theme}`);if(!i)throw new Error(`Invalid theme ${n.theme}. Did you register it?`);const{modules:a,...s}=wt.DEFAULTS,{modules:l,...c}=i.DEFAULTS;let d=z5(n.modules);d!=null&&d.toolbar&&d.toolbar.constructor!==Object&&(d={...d,toolbar:{container:d.toolbar}});const h=Jf({},z5(a),z5(l),d),g={...s,...k8(c),...k8(n)};let b=n.registry;return b?n.formats&&M0.warn('Ignoring "formats" option because "registry" is specified'):b=n.formats?FU(n.formats,g.registry,M0):g.registry,{...g,registry:b,container:t,theme:i,modules:Object.entries(h).reduce((m,x)=>{let[y,A]=x;if(!A)return m;const w=wt.import(`modules/${y}`);return w==null?(M0.error(`Cannot load ${y} module. Are you sure you registered it?`),m):{...m,[y]:Jf({},w.DEFAULTS||{},A)}},{}),bounds:_8(g.bounds)}}function du(e,n,t,r){if(!this.isEnabled()&&n===Ft.sources.USER&&!this.allowReadOnlyEdits)return new $t;let i=t==null?null:this.getSelection();const a=this.editor.delta,s=e();if(i!=null&&(t===!0&&(t=i.index),r==null?i=j8(i,s,n):r!==0&&(i=j8(i,t,r,n)),this.setSelection(i,Ft.sources.SILENT)),s.length()>0){const l=[Ft.events.TEXT_CHANGE,s,a,n];this.emitter.emit(Ft.events.EDITOR_CHANGE,...l),n!==Ft.sources.SILENT&&this.emitter.emit(...l)}return s}function vd(e,n,t,r,i){let a={};return typeof e.index=="number"&&typeof e.length=="number"?typeof n!="number"?(i=r,r=t,t=n,n=e.length,e=e.index):(n=e.length,e=e.index):typeof n!="number"&&(i=r,r=t,t=n,n=0),typeof t=="object"?(a=t,i=r):typeof t=="string"&&(r!=null?a[t]=r:i=t),i=i||Ft.sources.API,[e,n,a,i]}function j8(e,n,t,r){const i=typeof t=="number"?t:0;if(e==null)return null;let a,s;return n&&typeof n.transformPosition=="function"?[a,s]=[e.index,e.index+e.length].map(l=>n.transformPosition(l,r!==Ft.sources.USER)):[a,s]=[e.index,e.index+e.length].map(l=>l<n||l===n&&r===Ft.sources.USER?l:i>=0?l+i:Math.max(n,l+i)),new hp(a,s-a)}class Ap extends fv{}function N8(e){return e instanceof bs||e instanceof Dl}function T8(e){return typeof e.updateContent=="function"}class j0 extends B6{constructor(n,t,r){let{emitter:i}=r;super(n,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",a=>this.handleDragStart(a))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const n=this.batch;this.batch=!1,this.update(n)}emitMount(n){this.emitter.emit(Ft.events.SCROLL_BLOT_MOUNT,n)}emitUnmount(n){this.emitter.emit(Ft.events.SCROLL_BLOT_UNMOUNT,n)}emitEmbedUpdate(n,t){this.emitter.emit(Ft.events.SCROLL_EMBED_UPDATE,n,t)}deleteAt(n,t){const[r,i]=this.line(n),[a]=this.line(n+t);if(super.deleteAt(n,t),a!=null&&r!==a&&i>0){if(r instanceof Dl||a instanceof Dl){this.optimize();return}const s=a.children.head instanceof Ou?null:a.children.head;r.moveChildren(a,s),r.remove()}this.optimize()}enable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",n?"true":"false")}formatAt(n,t,r,i){super.formatAt(n,t,r,i),this.optimize()}insertAt(n,t,r){if(n>=this.length())if(r==null||this.scroll.query(t,Ht.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&t.endsWith(`
`)?i.insertAt(0,t.slice(0,-1),r):i.insertAt(0,t,r)}else{const i=this.scroll.create(t,r);this.appendChild(i)}else super.insertAt(n,t,r);this.optimize()}insertBefore(n,t){if(n.statics.scope===Ht.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(n),super.insertBefore(r,t)}else super.insertBefore(n,t)}insertContents(n,t){const r=this.deltaToRenderBlocks(t.concat(new $t().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const a=r.shift();if(a){const c=a.type==="block"&&(a.delta.length()===0||!this.descendant(Dl,n)[0]&&n<this.length()),d=a.type==="block"?a.delta:new $t().insert({[a.key]:a.value});q5(this,n,d);const h=a.type==="block"?1:0,g=n+d.length()+h;c&&this.insertAt(g-1,`
`);const b=_l(this.line(n)[0]),m=Ll.AttributeMap.diff(b,a.attributes)||{};Object.keys(m).forEach(x=>{this.formatAt(g-1,1,x,m[x])}),n=g}let[s,l]=this.children.find(n);if(r.length&&(s&&(s=s.split(l),l=0),r.forEach(c=>{if(c.type==="block"){const d=this.createBlock(c.attributes,s||void 0);q5(d,0,c.delta)}else{const d=this.create(c.key,c.value);this.insertBefore(d,s||void 0),Object.keys(c.attributes).forEach(h=>{d.format(h,c.attributes[h])})}})),i.type==="block"&&i.delta.length()){const c=s?s.offset(s.scroll)+l:this.length();q5(this,c,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(n){const t=this.path(n).pop();if(!t)return[null,-1];const[r,i]=t;return r instanceof Fs?[r,i]:[null,-1]}line(n){return n===this.length()?this.line(n-1):this.descendant(N8,n)}lines(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,a,s)=>{let l=[],c=s;return i.children.forEachAt(a,s,(d,h,g)=>{N8(d)?l.push(d):d instanceof fv&&(l=l.concat(r(d,h,c))),c-=g}),l};return r(this,n,t)}optimize(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(n,t),n.length>0&&this.emitter.emit(Ft.events.SCROLL_OPTIMIZE,n,t))}path(n){return super.path(n).slice(1)}remove(){}update(n){if(this.batch){Array.isArray(n)&&(this.batch=this.batch.concat(n));return}let t=Ft.sources.USER;typeof n=="string"&&(t=n),Array.isArray(n)||(n=this.observer.takeRecords()),n=n.filter(r=>{let{target:i}=r;const a=this.find(i,!0);return a&&!T8(a)}),n.length>0&&this.emitter.emit(Ft.events.SCROLL_BEFORE_UPDATE,t,n),super.update(n.concat([])),n.length>0&&this.emitter.emit(Ft.events.SCROLL_UPDATE,t,n)}updateEmbedAt(n,t,r){const[i]=this.descendant(a=>a instanceof Dl,n);i&&i.statics.blotName===t&&T8(i)&&i.updateContent(r)}handleDragStart(n){n.preventDefault()}deltaToRenderBlocks(n){const t=[];let r=new $t;return n.forEach(i=>{const a=i==null?void 0:i.insert;if(a)if(typeof a=="string"){const s=a.split(`
`);s.slice(0,-1).forEach(c=>{r.insert(c,i.attributes),t.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new $t});const l=s[s.length-1];l&&r.insert(l,i.attributes)}else{const s=Object.keys(a)[0];if(!s)return;this.query(s,Ht.INLINE)?r.push(i):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new $t,t.push({type:"blockEmbed",key:s,value:a[s],attributes:i.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(n,t){let r;const i={};Object.entries(n).forEach(l=>{let[c,d]=l;this.query(c,Ht.BLOCK&Ht.BLOT)!=null?r=c:i[c]=d});const a=this.create(r||this.statics.defaultChild.blotName,r?n[r]:void 0);this.insertBefore(a,t||void 0);const s=a.length();return Object.entries(i).forEach(l=>{let[c,d]=l;a.formatAt(0,s,c,d)}),a}}Je(j0,"blotName","scroll"),Je(j0,"className","ql-editor"),Je(j0,"tagName","DIV"),Je(j0,"defaultChild",bs),Je(j0,"allowedChildren",[bs,Dl,Ap]);function q5(e,n,t){t.reduce((r,i)=>{const a=Ll.Op.length(i);let s=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const l=i.insert;e.insertAt(r,l);const[c]=e.descendant(Fs,r),d=_l(c);s=Ll.AttributeMap.diff(d,s)||{}}else if(typeof i.insert=="object"){const l=Object.keys(i.insert)[0];if(l==null)return r;if(e.insertAt(r,l,i.insert[l]),e.scroll.query(l,Ht.INLINE)!=null){const[d]=e.descendant(Fs,r),h=_l(d);s=Ll.AttributeMap.diff(h,s)||{}}}}return Object.keys(s).forEach(l=>{e.formatAt(r,a,l,s[l])}),r+a},n)}const $6={scope:Ht.BLOCK,whitelist:["right","center","justify"]},zU=new Bc("align","align",$6),A7=new Tu("align","ql-align",$6),C7=new hh("align","text-align",$6);class E7 extends hh{value(n){let t=super.value(n);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):t}}const qU=new Tu("color","ql-color",{scope:Ht.INLINE}),H6=new E7("color","color",{scope:Ht.INLINE}),BU=new Tu("background","ql-bg",{scope:Ht.INLINE}),W6=new E7("background","background-color",{scope:Ht.INLINE});class Cp extends Ap{static create(n){const t=super.create(n);return t.setAttribute("spellcheck","false"),t}code(n,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(n,n+t)}html(n,t){return`<pre>
${hv(this.code(n,t))}
</pre>`}}class Us extends bs{static register(){wt.register(Cp)}}Je(Us,"TAB","  ");class V6 extends Uc{}V6.blotName="code";V6.tagName="CODE";Us.blotName="code-block";Us.className="ql-code-block";Us.tagName="DIV";Cp.blotName="code-block-container";Cp.className="ql-code-block-container";Cp.tagName="DIV";Cp.allowedChildren=[Us];Us.allowedChildren=[Cu,Ou,J0];Us.requiredContainer=Cp;const Y6={scope:Ht.BLOCK,whitelist:["rtl"]},_7=new Bc("direction","dir",Y6),k7=new Tu("direction","ql-direction",Y6),j7=new hh("direction","direction",Y6),N7={scope:Ht.INLINE,whitelist:["serif","monospace"]},T7=new Tu("font","ql-font",N7);class UU extends hh{value(n){return super.value(n).replace(/["']/g,"")}}const O7=new UU("font","font-family",N7),I7=new Tu("size","ql-size",{scope:Ht.INLINE,whitelist:["small","large","huge"]}),D7=new hh("size","font-size",{scope:Ht.INLINE,whitelist:["10px","18px","32px"]}),$U=Qd("quill:keyboard"),HU=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class pv extends Iu{static match(n,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==n[r]&&t[r]!==null)?!1:t.key===n.key||t.key===n.which}constructor(n,t){super(n,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=VU(n);if(i==null){$U.warn("Attempted to add invalid keyboard binding",i);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(s=>{const l={...i,key:s,...t,...r};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",n=>{if(n.defaultPrevented||n.isComposing||n.keyCode===229&&(n.key==="Enter"||n.key==="Backspace"))return;const i=(this.bindings[n.key]||[]).concat(this.bindings[n.which]||[]).filter(w=>pv.match(n,w));if(i.length===0)return;const a=wt.find(n.target,!0);if(a&&a.scroll!==this.quill.scroll)return;const s=this.quill.getSelection();if(s==null||!this.quill.hasFocus())return;const[l,c]=this.quill.getLine(s.index),[d,h]=this.quill.getLeaf(s.index),[g,b]=s.length===0?[d,h]:this.quill.getLeaf(s.index+s.length),m=d instanceof Nx?d.value().slice(0,h):"",x=g instanceof Nx?g.value().slice(b):"",y={collapsed:s.length===0,empty:s.length===0&&l.length()<=1,format:this.quill.getFormat(s),line:l,offset:c,prefix:m,suffix:x,event:n};i.some(w=>{if(w.collapsed!=null&&w.collapsed!==y.collapsed||w.empty!=null&&w.empty!==y.empty||w.offset!=null&&w.offset!==y.offset)return!1;if(Array.isArray(w.format)){if(w.format.every(C=>y.format[C]==null))return!1}else if(typeof w.format=="object"&&!Object.keys(w.format).every(C=>w.format[C]===!0?y.format[C]!=null:w.format[C]===!1?y.format[C]==null:qf(w.format[C],y.format[C])))return!1;return w.prefix!=null&&!w.prefix.test(y.prefix)||w.suffix!=null&&!w.suffix.test(y.suffix)?!1:w.handler.call(this,s,y,w)!==!0})&&n.preventDefault()})}handleBackspace(n,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(n.index===0||this.quill.getLength()<=1)return;let i={};const[a]=this.quill.getLine(n.index);let s=new $t().retain(n.index-r).delete(r);if(t.offset===0){const[l]=this.quill.getLine(n.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const d=a.formats(),h=this.quill.getFormat(n.index-1,1);if(i=Ll.AttributeMap.diff(d,h)||{},Object.keys(i).length>0){const g=new $t().retain(n.index+a.length()-2).retain(1,i);s=s.compose(g)}}}this.quill.updateContents(s,wt.sources.USER),this.quill.focus()}handleDelete(n,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(n.index>=this.quill.getLength()-r)return;let i={};const[a]=this.quill.getLine(n.index);let s=new $t().retain(n.index).delete(r);if(t.offset>=a.length()-1){const[l]=this.quill.getLine(n.index+1);if(l){const c=a.formats(),d=this.quill.getFormat(n.index,1);i=Ll.AttributeMap.diff(c,d)||{},Object.keys(i).length>0&&(s=s.retain(l.length()-1).retain(1,i))}}this.quill.updateContents(s,wt.sources.USER),this.quill.focus()}handleDeleteRange(n){G6({range:n,quill:this.quill}),this.quill.focus()}handleEnter(n,t){const r=Object.keys(t.format).reduce((a,s)=>(this.quill.scroll.query(s,Ht.BLOCK)&&!Array.isArray(t.format[s])&&(a[s]=t.format[s]),a),{}),i=new $t().retain(n.index).delete(n.length).insert(`
`,r);this.quill.updateContents(i,wt.sources.USER),this.quill.setSelection(n.index+1,wt.sources.SILENT),this.quill.focus()}}const WU={bindings:{bold:B5("bold"),italic:B5("italic"),underline:B5("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,n){return n.collapsed&&n.offset!==0?!0:(this.quill.format("indent","+1",wt.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,n){return n.collapsed&&n.offset!==0?!0:(this.quill.format("indent","-1",wt.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,n){n.format.indent!=null?this.quill.format("indent","-1",wt.sources.USER):n.format.list!=null&&this.quill.format("list",!1,wt.sources.USER)}},"indent code-block":O8(!0),"outdent code-block":O8(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,wt.sources.USER)}},tab:{key:"Tab",handler(e,n){if(n.format.table)return!0;this.quill.history.cutoff();const t=new $t().retain(e.index).delete(e.length).insert("	");return this.quill.updateContents(t,wt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,wt.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,wt.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,n){const t={list:!1};n.format.indent&&(t.indent=!1),this.quill.formatLine(e.index,e.length,t,wt.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[n,t]=this.quill.getLine(e.index),r={...n.formats(),list:"checked"},i=new $t().retain(e.index).insert(`
`,r).retain(n.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,wt.sources.USER),this.quill.setSelection(e.index+1,wt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,n){const[t,r]=this.quill.getLine(e.index),i=new $t().retain(e.index).insert(`
`,n.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,wt.sources.USER),this.quill.setSelection(e.index+1,wt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const n=this.quill.getModule("table");if(n){const[t,r,i,a]=n.getTable(e),s=YU(t,r,i,a);if(s==null)return;let l=t.offset();if(s<0){const c=new $t().retain(l).insert(`
`);this.quill.updateContents(c,wt.sources.USER),this.quill.setSelection(e.index+1,e.length,wt.sources.SILENT)}else if(s>0){l+=t.length();const c=new $t().retain(l).insert(`
`);this.quill.updateContents(c,wt.sources.USER),this.quill.setSelection(l,wt.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,n){const{event:t,line:r}=n,i=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(i-1,wt.sources.USER):this.quill.setSelection(i+r.length(),wt.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,n){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=n.prefix,[r,i]=this.quill.getLine(e.index);if(i>t)return!0;let a;switch(n.prefix.trim()){case"[]":case"[ ]":a="unchecked";break;case"[x]":a="checked";break;case"-":case"*":a="bullet";break;default:a="ordered"}this.quill.insertText(e.index," ",wt.sources.USER),this.quill.history.cutoff();const s=new $t().retain(e.index-i).delete(t+1).retain(r.length()-2-i).retain(1,{list:a});return this.quill.updateContents(s,wt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-t,wt.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[n,t]=this.quill.getLine(e.index);let r=2,i=n;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const a=new $t().retain(e.index+n.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(a,wt.sources.USER),this.quill.setSelection(e.index-1,wt.sources.SILENT),!1}return!0}},"embed left":Ay("ArrowLeft",!1),"embed left shift":Ay("ArrowLeft",!0),"embed right":Ay("ArrowRight",!1),"embed right shift":Ay("ArrowRight",!0),"table down":I8(!1),"table up":I8(!0)}};pv.DEFAULTS=WU;function O8(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(n,t){let{event:r}=t;const i=this.quill.scroll.query("code-block"),{TAB:a}=i;if(n.length===0&&!r.shiftKey){this.quill.insertText(n.index,a,wt.sources.USER),this.quill.setSelection(n.index+a.length,wt.sources.SILENT);return}const s=n.length===0?this.quill.getLines(n.index,1):this.quill.getLines(n);let{index:l,length:c}=n;s.forEach((d,h)=>{e?(d.insertAt(0,a),h===0?l+=a.length:c+=a.length):d.domNode.textContent.startsWith(a)&&(d.deleteAt(0,a.length),h===0?l-=a.length:c-=a.length)}),this.quill.update(wt.sources.USER),this.quill.setSelection(l,c,wt.sources.SILENT)}}}function Ay(e,n){return{key:e,shiftKey:n,altKey:null,[e==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;e==="ArrowRight"&&(i+=r.length+1);const[a]=this.quill.getLeaf(i);return a instanceof il?(e==="ArrowLeft"?n?this.quill.setSelection(r.index-1,r.length+1,wt.sources.USER):this.quill.setSelection(r.index-1,wt.sources.USER):n?this.quill.setSelection(r.index,r.length+1,wt.sources.USER):this.quill.setSelection(r.index+r.length+1,wt.sources.USER),!1):!0}}}function B5(e){return{key:e[0],shortKey:!0,handler(n,t){this.quill.format(e,!t.format[e],wt.sources.USER)}}}function I8(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(n,t){const r=e?"prev":"next",i=t.line,a=i.parent[r];if(a!=null){if(a.statics.blotName==="table-row"){let s=a.children.head,l=i;for(;l.prev!=null;)l=l.prev,s=s.next;const c=s.offset(this.quill.scroll)+Math.min(t.offset,s.length()-1);this.quill.setSelection(c,0,wt.sources.USER)}}else{const s=i.table()[r];s!=null&&(e?this.quill.setSelection(s.offset(this.quill.scroll)+s.length()-1,0,wt.sources.USER):this.quill.setSelection(s.offset(this.quill.scroll),0,wt.sources.USER))}return!1}}}function VU(e){if(typeof e=="string"||typeof e=="number")e={key:e};else if(typeof e=="object")e=L0(e);else return null;return e.shortKey&&(e[HU]=e.shortKey,delete e.shortKey),e}function G6(e){let{quill:n,range:t}=e;const r=n.getLines(t);let i={};if(r.length>1){const a=r[0].formats(),s=r[r.length-1].formats();i=Ll.AttributeMap.diff(s,a)||{}}n.deleteText(t,wt.sources.USER),Object.keys(i).length>0&&n.formatLine(t.index,1,i,wt.sources.USER),n.setSelection(t.index,wt.sources.SILENT)}function YU(e,n,t,r){return n.prev==null&&n.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:n.prev==null?-1:n.next==null?1:null}const GU=/font-weight:\s*normal/,QU=["P","OL","UL"],D8=e=>e&&QU.includes(e.tagName),KU=e=>{Array.from(e.querySelectorAll("br")).filter(n=>D8(n.previousElementSibling)&&D8(n.nextElementSibling)).forEach(n=>{var t;(t=n.parentNode)==null||t.removeChild(n)})},XU=e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter(n=>{var t;return(t=n.getAttribute("style"))==null?void 0:t.match(GU)}).forEach(n=>{var r;const t=e.createDocumentFragment();t.append(...n.childNodes),(r=n.parentNode)==null||r.replaceChild(t,n)})};function ZU(e){e.querySelector('[id^="docs-internal-guid-"]')&&(XU(e),KU(e))}const JU=/\bmso-list:[^;]*ignore/i,e$=/\bmso-list:[^;]*\bl(\d+)/i,t$=/\bmso-list:[^;]*\blevel(\d+)/i,n$=(e,n)=>{const t=e.getAttribute("style"),r=t==null?void 0:t.match(e$);if(!r)return null;const i=Number(r[1]),a=t==null?void 0:t.match(t$),s=a?Number(a[1]):1,l=new RegExp(`@list l${i}:level${s}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),c=n.match(l),d=c&&c[1]==="bullet"?"bullet":"ordered";return{id:i,indent:s,type:d,element:e}},r$=e=>{var s,l;const n=Array.from(e.querySelectorAll("[style*=mso-list]")),t=[],r=[];n.forEach(c=>{(c.getAttribute("style")||"").match(JU)?t.push(c):r.push(c)}),t.forEach(c=>{var d;return(d=c.parentNode)==null?void 0:d.removeChild(c)});const i=e.documentElement.innerHTML,a=r.map(c=>n$(c,i)).filter(c=>c);for(;a.length;){const c=[];let d=a.shift();for(;d;)c.push(d),d=a.length&&((s=a[0])==null?void 0:s.element)===d.element.nextElementSibling&&a[0].id===d.id?a.shift():null;const h=document.createElement("ul");c.forEach(m=>{const x=document.createElement("li");x.setAttribute("data-list",m.type),m.indent>1&&x.setAttribute("class",`ql-indent-${m.indent-1}`),x.innerHTML=m.element.innerHTML,h.appendChild(x)});const g=(l=c[0])==null?void 0:l.element,{parentNode:b}=g??{};g&&(b==null||b.replaceChild(h,g)),c.slice(1).forEach(m=>{let{element:x}=m;b==null||b.removeChild(x)})}};function i$(e){e.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&r$(e)}const a$=[i$,ZU],s$=e=>{e.documentElement&&a$.forEach(n=>{n(e)})},o$=Qd("quill:clipboard"),l$=[[Node.TEXT_NODE,v$],[Node.TEXT_NODE,R8],["br",h$],[Node.ELEMENT_NODE,R8],[Node.ELEMENT_NODE,f$],[Node.ELEMENT_NODE,d$],[Node.ELEMENT_NODE,y$],["li",g$],["ol, ul",b$],["pre",p$],["tr",x$],["b",U5("bold")],["i",U5("italic")],["strike",U5("strike")],["style",m$]],u$=[zU,_7].reduce((e,n)=>(e[n.keyName]=n,e),{}),L8=[C7,W6,H6,j7,O7,D7].reduce((e,n)=>(e[n.keyName]=n,e),{});class L7 extends Iu{constructor(n,t){super(n,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],l$.concat(this.options.matchers??[]).forEach(r=>{let[i,a]=r;this.addMatcher(i,a)})}addMatcher(n,t){this.matchers.push([n,t])}convert(n){let{html:t,text:r}=n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[Us.blotName])return new $t().insert(r||"",{[Us.blotName]:i[Us.blotName]});if(!t)return new $t().insert(r||"",i);const a=this.convertHTML(t);return Wg(a,`
`)&&(a.ops[a.ops.length-1].attributes==null||i.table)?a.compose(new $t().retain(a.length()-1).delete(1)):a}normalizeHTML(n){s$(n)}convertHTML(n){const t=new DOMParser().parseFromString(n,"text/html");this.normalizeHTML(t);const r=t.body,i=new WeakMap,[a,s]=this.prepareMatching(r,i);return Q6(this.quill.scroll,r,a,s,i)}dangerouslyPasteHTML(n,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:wt.sources.API;if(typeof n=="string"){const i=this.convert({html:n,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,wt.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents(new $t().retain(n).concat(i),r),this.quill.setSelection(n+i.length(),wt.sources.SILENT)}}onCaptureCopy(n){var s,l;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n.defaultPrevented)return;n.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:a}=this.onCopy(r,t);(s=n.clipboardData)==null||s.setData("text/plain",a),(l=n.clipboardData)==null||l.setData("text/html",i),t&&G6({range:r,quill:this.quill})}normalizeURIList(n){return n.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(n){var s,l,c,d,h;if(n.defaultPrevented||!this.quill.isEnabled())return;n.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=(s=n.clipboardData)==null?void 0:s.getData("text/html");let i=(l=n.clipboardData)==null?void 0:l.getData("text/plain");if(!r&&!i){const g=(c=n.clipboardData)==null?void 0:c.getData("text/uri-list");g&&(i=this.normalizeURIList(g))}const a=Array.from(((d=n.clipboardData)==null?void 0:d.files)||[]);if(!r&&a.length>0){this.quill.uploader.upload(t,a);return}if(r&&a.length>0){const g=new DOMParser().parseFromString(r,"text/html");if(g.body.childElementCount===1&&((h=g.body.firstElementChild)==null?void 0:h.tagName)==="IMG"){this.quill.uploader.upload(t,a);return}}this.onPaste(t,{html:r,text:i})}onCopy(n){const t=this.quill.getText(n);return{html:this.quill.getSemanticHTML(n),text:t}}onPaste(n,t){let{text:r,html:i}=t;const a=this.quill.getFormat(n.index),s=this.convert({text:r,html:i},a);o$.log("onPaste",s,{text:r,html:i});const l=new $t().retain(n.index).delete(n.length).concat(s);this.quill.updateContents(l,wt.sources.USER),this.quill.setSelection(l.length()-n.length,wt.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(n,t){const r=[],i=[];return this.matchers.forEach(a=>{const[s,l]=a;switch(s){case Node.TEXT_NODE:i.push(l);break;case Node.ELEMENT_NODE:r.push(l);break;default:Array.from(n.querySelectorAll(s)).forEach(c=>{if(t.has(c)){const d=t.get(c);d==null||d.push(l)}else t.set(c,[l])});break}}),[r,i]}}Je(L7,"DEFAULTS",{matchers:[]});function Ep(e,n,t,r){return r.query(n)?e.reduce((i,a)=>{if(!a.insert)return i;if(a.attributes&&a.attributes[n])return i.push(a);const s=t?{[n]:t}:{};return i.insert(a.insert,{...s,...a.attributes})},new $t):e}function Wg(e,n){let t="";for(let r=e.ops.length-1;r>=0&&t.length<n.length;--r){const i=e.ops[r];if(typeof i.insert!="string")break;t=i.insert+t}return t.slice(-1*n.length)===n}function Hf(e,n){if(!(e instanceof Element))return!1;const t=n.query(e);return t&&t.prototype instanceof il?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}function c$(e,n){return e.previousElementSibling&&e.nextElementSibling&&!Hf(e.previousElementSibling,n)&&!Hf(e.nextElementSibling,n)}const Cy=new WeakMap;function R7(e){return e==null?!1:(Cy.has(e)||(e.tagName==="PRE"?Cy.set(e,!0):Cy.set(e,R7(e.parentNode))),Cy.get(e))}function Q6(e,n,t,r,i){return n.nodeType===n.TEXT_NODE?r.reduce((a,s)=>s(n,a,e),new $t):n.nodeType===n.ELEMENT_NODE?Array.from(n.childNodes||[]).reduce((a,s)=>{let l=Q6(e,s,t,r,i);return s.nodeType===n.ELEMENT_NODE&&(l=t.reduce((c,d)=>d(s,c,e),l),l=(i.get(s)||[]).reduce((c,d)=>d(s,c,e),l)),a.concat(l)},new $t):new $t}function U5(e){return(n,t,r)=>Ep(t,e,!0,r)}function d$(e,n,t){const r=Bc.keys(e),i=Tu.keys(e),a=hh.keys(e),s={};return r.concat(i).concat(a).forEach(l=>{let c=t.query(l,Ht.ATTRIBUTE);c!=null&&(s[c.attrName]=c.value(e),s[c.attrName])||(c=u$[l],c!=null&&(c.attrName===l||c.keyName===l)&&(s[c.attrName]=c.value(e)||void 0),c=L8[l],c!=null&&(c.attrName===l||c.keyName===l)&&(c=L8[l],s[c.attrName]=c.value(e)||void 0))}),Object.entries(s).reduce((l,c)=>{let[d,h]=c;return Ep(l,d,h,t)},n)}function f$(e,n,t){const r=t.query(e);if(r==null)return n;if(r.prototype instanceof il){const i={},a=r.value(e);if(a!=null)return i[r.blotName]=a,new $t().insert(i,r.formats(e,t))}else if(r.prototype instanceof bg&&!Wg(n,`
`)&&n.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Ep(n,r.blotName,r.formats(e,t),t);return n}function h$(e,n){return Wg(n,`
`)||n.insert(`
`),n}function p$(e,n,t){const r=t.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(e,t):!0;return Ep(n,"code-block",i,t)}function m$(){return new $t}function g$(e,n,t){const r=t.query(e);if(r==null||r.blotName!=="list"||!Wg(n,`
`))return n;let i=-1,a=e.parentNode;for(;a!=null;)["OL","UL"].includes(a.tagName)&&(i+=1),a=a.parentNode;return i<=0?n:n.reduce((s,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?s.push(l):s.insert(l.insert,{indent:i,...l.attributes||{}}):s,new $t)}function b$(e,n,t){const r=e;let i=r.tagName==="OL"?"ordered":"bullet";const a=r.getAttribute("data-checked");return a&&(i=a==="true"?"checked":"unchecked"),Ep(n,"list",i,t)}function R8(e,n,t){if(!Wg(n,`
`)){if(Hf(e,t)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return n.insert(`
`);if(n.length()>0&&e.nextSibling){let r=e.nextSibling;for(;r!=null;){if(Hf(r,t))return n.insert(`
`);const i=t.query(r);if(i&&i.prototype instanceof Dl)return n.insert(`
`);r=r.firstChild}}}return n}function y$(e,n,t){var a;const r={},i=e.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),((a=i.fontWeight)!=null&&a.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),n=Object.entries(r).reduce((s,l)=>{let[c,d]=l;return Ep(s,c,d,t)},n),parseFloat(i.textIndent||0)>0?new $t().insert("	").concat(n):n}function x$(e,n,t){var i,a;const r=((i=e.parentElement)==null?void 0:i.tagName)==="TABLE"?e.parentElement:(a=e.parentElement)==null?void 0:a.parentElement;if(r!=null){const l=Array.from(r.querySelectorAll("tr")).indexOf(e)+1;return Ep(n,"table",l,t)}return n}function v$(e,n,t){var i;let r=e.data;if(((i=e.parentElement)==null?void 0:i.tagName)==="O:P")return n.insert(r.trim());if(!R7(e)){if(r.trim().length===0&&r.includes(`
`)&&!c$(e,t))return n;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(e.previousSibling==null&&e.parentElement!=null&&Hf(e.parentElement,t)||e.previousSibling instanceof Element&&Hf(e.previousSibling,t))&&(r=r.replace(/^ /,"")),(e.nextSibling==null&&e.parentElement!=null&&Hf(e.parentElement,t)||e.nextSibling instanceof Element&&Hf(e.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return n.insert(r)}class M7 extends Iu{constructor(t,r){super(t,r);Je(this,"lastRecorded",0);Je(this,"ignoreChange",!1);Je(this,"stack",{undo:[],redo:[]});Je(this,"currentRange",null);this.quill.on(wt.events.EDITOR_CHANGE,(i,a,s,l)=>{i===wt.events.SELECTION_CHANGE?a&&l!==wt.sources.SILENT&&(this.currentRange=a):i===wt.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===wt.sources.USER?this.record(a,s):this.transform(a)),this.currentRange=dS(this.currentRange,a))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(t,r){if(this.stack[t].length===0)return;const i=this.stack[t].pop();if(!i)return;const a=this.quill.getContents(),s=i.delta.invert(a);this.stack[r].push({delta:s,range:dS(i.range,s)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,wt.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,r){if(t.ops.length===0)return;this.stack.redo=[];let i=t.invert(r),a=this.currentRange;const s=Date.now();if(this.lastRecorded+this.options.delay>s&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(i=i.compose(l.delta),a=l.range)}else this.lastRecorded=s;i.length()!==0&&(this.stack.undo.push({delta:i,range:a}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){M8(this.stack.undo,t),M8(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,wt.sources.USER);else{const r=S$(this.quill.scroll,t.delta);this.quill.setSelection(r,wt.sources.USER)}}}Je(M7,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function M8(e,n){let t=n;for(let r=e.length-1;r>=0;r-=1){const i=e[r];e[r]={delta:t.transform(i.delta,!0),range:i.range&&dS(i.range,t)},t=i.delta.transform(t),e[r].delta.length()===0&&e.splice(r,1)}}function w$(e,n){const t=n.ops[n.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>e.query(r,Ht.BLOCK)!=null):!1}function S$(e,n){const t=n.reduce((i,a)=>i+(a.delete||0),0);let r=n.length()-t;return w$(e,n)&&(r-=1),r}function dS(e,n){if(!e)return e;const t=n.transformPosition(e.index),r=n.transformPosition(e.index+e.length);return{index:t,length:r-t}}class F7 extends Iu{constructor(n,t){super(n,t),n.root.addEventListener("drop",r=>{var s;r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(l.offsetNode,l.offset),i.setEnd(l.offsetNode,l.offset)}const a=i&&n.selection.normalizeNative(i);if(a){const l=n.selection.normalizedToRange(a);(s=r.dataTransfer)!=null&&s.files&&this.upload(l,r.dataTransfer.files)}})}upload(n,t){const r=[];Array.from(t).forEach(i=>{var a;i&&((a=this.options.mimetypes)!=null&&a.includes(i.type))&&r.push(i)}),r.length>0&&this.options.handler.call(this,n,r)}}F7.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,n){if(!this.quill.scroll.query("image"))return;const t=n.map(r=>new Promise(i=>{const a=new FileReader;a.onload=()=>{i(a.result)},a.readAsDataURL(r)}));Promise.all(t).then(r=>{const i=r.reduce((a,s)=>a.insert({image:s}),new $t().retain(e.index).delete(e.length));this.quill.updateContents(i,Ft.sources.USER),this.quill.setSelection(e.index+r.length,Ft.sources.SILENT)})}};const A$=["insertText","insertReplacementText"];class C$ extends Iu{constructor(n,t){super(n,t),n.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||n.on(wt.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(n){G6({range:n,quill:this.quill})}replaceText(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(n.length===0)return!1;if(t){const r=this.quill.getFormat(n.index,1);this.deleteRange(n),this.quill.updateContents(new $t().retain(n.index).insert(t,r),wt.sources.USER)}else this.deleteRange(n);return this.quill.setSelection(n.index+t.length,0,wt.sources.SILENT),!0}handleBeforeInput(n){if(this.quill.composition.isComposing||n.defaultPrevented||!A$.includes(n.inputType))return;const t=n.getTargetRanges?n.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=E$(n);if(r==null)return;const i=this.quill.selection.normalizeNative(t),a=i?this.quill.selection.normalizedToRange(i):null;a&&this.replaceText(a,r)&&n.preventDefault()}handleCompositionStart(){const n=this.quill.getSelection();n&&this.replaceText(n)}}function E$(e){var n;return typeof e.data=="string"?e.data:(n=e.dataTransfer)!=null&&n.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}const _$=/Mac/i.test(navigator.platform),k$=100,j$=e=>!!(e.key==="ArrowLeft"||e.key==="ArrowRight"||e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="Home"||_$&&e.key==="a"&&e.ctrlKey===!0);class N$ extends Iu{constructor(t,r){super(t,r);Je(this,"isListening",!1);Je(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,r){let{line:i,event:a}=r;if(!(i instanceof Su)||!i.uiNode)return!0;const s=getComputedStyle(i.domNode).direction==="rtl";return s&&a.key!=="ArrowRight"||!s&&a.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(a.shiftKey?1:0),wt.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&j$(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+k$,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const r=t.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const i=this.quill.scroll.find(r.startContainer);if(!(i instanceof Su)||!i.uiNode)return;const a=document.createRange();a.setStartAfter(i.uiNode),a.setEndAfter(i.uiNode),t.removeAllRanges(),t.addRange(a)}}wt.register({"blots/block":bs,"blots/block/embed":Dl,"blots/break":Ou,"blots/container":Ap,"blots/cursor":J0,"blots/embed":U6,"blots/inline":Uc,"blots/scroll":j0,"blots/text":Cu,"modules/clipboard":L7,"modules/history":M7,"modules/keyboard":pv,"modules/uploader":F7,"modules/input":C$,"modules/uiNode":N$});class T$ extends Tu{add(n,t){let r=0;if(t==="+1"||t==="-1"){const i=this.value(n)||0;r=t==="+1"?i+1:i-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(n),!0):super.add(n,r.toString())}canAdd(n,t){return super.canAdd(n,t)||super.canAdd(n,parseInt(t,10))}value(n){return parseInt(super.value(n),10)||void 0}}const O$=new T$("indent","ql-indent",{scope:Ht.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class fS extends bs{}Je(fS,"blotName","blockquote"),Je(fS,"tagName","blockquote");class hS extends bs{static formats(n){return this.tagName.indexOf(n.tagName)+1}}Je(hS,"blotName","header"),Je(hS,"tagName",["H1","H2","H3","H4","H5","H6"]);class Vg extends Ap{}Vg.blotName="list-container";Vg.tagName="OL";class Yg extends bs{static create(n){const t=super.create();return t.setAttribute("data-list",n),t}static formats(n){return n.getAttribute("data-list")||void 0}static register(){wt.register(Vg)}constructor(n,t){super(n,t);const r=t.ownerDocument.createElement("span"),i=a=>{if(!n.isEnabled())return;const s=this.statics.formats(t,n);s==="checked"?(this.format("list","unchecked"),a.preventDefault()):s==="unchecked"&&(this.format("list","checked"),a.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(n,t){n===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(n,t)}}Yg.blotName="list";Yg.tagName="LI";Vg.allowedChildren=[Yg];Yg.requiredContainer=Vg;class xg extends Uc{static create(){return super.create()}static formats(){return!0}optimize(n){super.optimize(n),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}Je(xg,"blotName","bold"),Je(xg,"tagName",["STRONG","B"]);class pS extends xg{}Je(pS,"blotName","italic"),Je(pS,"tagName",["EM","I"]);class Wf extends Uc{static create(n){const t=super.create(n);return t.setAttribute("href",this.sanitize(n)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(n){return n.getAttribute("href")}static sanitize(n){return P7(n,this.PROTOCOL_WHITELIST)?n:this.SANITIZED_URL}format(n,t){n!==this.statics.blotName||!t?super.format(n,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}Je(Wf,"blotName","link"),Je(Wf,"tagName","A"),Je(Wf,"SANITIZED_URL","about:blank"),Je(Wf,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function P7(e,n){const t=document.createElement("a");t.href=e;const r=t.href.slice(0,t.href.indexOf(":"));return n.indexOf(r)>-1}class mS extends Uc{static create(n){return n==="super"?document.createElement("sup"):n==="sub"?document.createElement("sub"):super.create(n)}static formats(n){if(n.tagName==="SUB")return"sub";if(n.tagName==="SUP")return"super"}}Je(mS,"blotName","script"),Je(mS,"tagName",["SUB","SUP"]);class gS extends xg{}Je(gS,"blotName","strike"),Je(gS,"tagName",["S","STRIKE"]);class bS extends Uc{}Je(bS,"blotName","underline"),Je(bS,"tagName","U");class Qy extends U6{static create(n){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(n);return typeof n=="string"&&(window.katex.render(n,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",n)),t}static value(n){return n.getAttribute("data-value")}html(){const{formula:n}=this.value();return`<span>${n}</span>`}}Je(Qy,"blotName","formula"),Je(Qy,"className","ql-formula"),Je(Qy,"tagName","SPAN");const F8=["alt","height","width"];var Wy;let I$=(Wy=class extends il{static create(n){const t=super.create(n);return typeof n=="string"&&t.setAttribute("src",this.sanitize(n)),t}static formats(n){return F8.reduce((t,r)=>(n.hasAttribute(r)&&(t[r]=n.getAttribute(r)),t),{})}static match(n){return/\.(jpe?g|gif|png)$/.test(n)||/^data:image\/.+;base64/.test(n)}static sanitize(n){return P7(n,["http","https","data"])?n:"//:0"}static value(n){return n.getAttribute("src")}format(n,t){F8.indexOf(n)>-1?t?this.domNode.setAttribute(n,t):this.domNode.removeAttribute(n):super.format(n,t)}},Je(Wy,"blotName","image"),Je(Wy,"tagName","IMG"),Wy);const P8=["height","width"];class Ky extends Dl{static create(n){const t=super.create(n);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(n)),t}static formats(n){return P8.reduce((t,r)=>(n.hasAttribute(r)&&(t[r]=n.getAttribute(r)),t),{})}static sanitize(n){return Wf.sanitize(n)}static value(n){return n.getAttribute("src")}format(n,t){P8.indexOf(n)>-1?t?this.domNode.setAttribute(n,t):this.domNode.removeAttribute(n):super.format(n,t)}html(){const{video:n}=this.value();return`<a href="${n}">${n}</a>`}}Je(Ky,"blotName","video"),Je(Ky,"className","ql-video"),Je(Ky,"tagName","IFRAME");const V1=new Tu("code-token","hljs",{scope:Ht.INLINE});class qd extends Uc{static formats(n,t){for(;n!=null&&n!==t.domNode;){if(n.classList&&n.classList.contains(Us.className))return super.formats(n,t);n=n.parentNode}}constructor(n,t,r){super(n,t,r),V1.add(this.domNode,r)}format(n,t){n!==qd.blotName?super.format(n,t):t?V1.add(this.domNode,t):(V1.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),V1.value(this.domNode)||this.unwrap()}}qd.blotName="code-token";qd.className="ql-token";class kl extends Us{static create(n){const t=super.create(n);return typeof n=="string"&&t.setAttribute("data-language",n),t}static formats(n){return n.getAttribute("data-language")||"plain"}static register(){}format(n,t){n===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(n,t)}replaceWith(n,t){return this.formatAt(0,this.length(),qd.blotName,!1),super.replaceWith(n,t)}}class X1 extends Cp{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(n,t){n===kl.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(n,t)}))}formatAt(n,t,r,i){r===kl.blotName&&(this.forceNext=!0),super.formatAt(n,t,r,i)}highlight(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(s=>s!==this.uiNode).map(s=>s.textContent).join(`
`)}
`,a=kl.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const s=this.children.reduce((c,d)=>c.concat(w7(d,!1)),new $t),l=n(i,a);s.diff(l).reduce((c,d)=>{let{retain:h,attributes:g}=d;return h?(g&&Object.keys(g).forEach(b=>{[kl.blotName,qd.blotName].includes(b)&&this.formatAt(c,h,b,g[b])}),c+h):c},0)}this.cachedText=i,this.forceNext=!1}}html(n,t){const[r]=this.children.find(n);return`<pre data-language="${r?kl.formats(r.domNode):"plain"}">
${hv(this.code(n,t))}
</pre>`}optimize(n){if(super.optimize(n),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=kl.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}X1.allowedChildren=[kl];kl.requiredContainer=X1;kl.allowedChildren=[qd,J0,Cu,Ou];const D$=(e,n,t)=>{if(typeof e.versionString=="string"){const r=e.versionString.split(".")[0];if(parseInt(r,10)>=11)return e.highlight(t,{language:n}).value}return e.highlight(n,t).value};class z7 extends Iu{static register(){wt.register(qd,!0),wt.register(kl,!0),wt.register(X1,!0)}constructor(n,t){if(super(n,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:a}=i;return r[a]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(wt.events.SCROLL_BLOT_MOUNT,n=>{if(!(n instanceof X1))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:a}=r;const s=t.ownerDocument.createElement("option");s.textContent=a,s.setAttribute("value",i),t.appendChild(s)}),t.addEventListener("change",()=>{n.format(kl.blotName,t.value),this.quill.root.focus(),this.highlight(n,!0)}),n.uiNode==null&&(n.attachUI(t),n.children.head&&(t.value=kl.formats(n.children.head.domNode)))})}initTimer(){let n=null;this.quill.on(wt.events.SCROLL_OPTIMIZE,()=>{n&&clearTimeout(n),n=setTimeout(()=>{this.highlight(),n=null},this.options.interval)})}highlight(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(wt.sources.USER);const r=this.quill.getSelection();(n==null?this.quill.scroll.descendants(X1):[n]).forEach(a=>{a.highlight(this.highlightBlot,t)}),this.quill.update(wt.sources.SILENT),r!=null&&this.quill.setSelection(r,wt.sources.SILENT)}highlightBlot(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return hv(n).split(`
`).reduce((i,a,s)=>(s!==0&&i.insert(`
`,{[Us.blotName]:t}),i.insert(a)),new $t);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(Us.className),r.innerHTML=D$(this.options.hljs,t,n),Q6(this.quill.scroll,r,[(i,a)=>{const s=V1.value(i);return s?a.compose(new $t().retain(a.length(),{[qd.blotName]:s})):a}],[(i,a)=>i.data.split(`
`).reduce((s,l,c)=>(c!==0&&s.insert(`
`,{[Us.blotName]:t}),s.insert(l)),a)],new WeakMap)}}z7.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const ag=class ag extends bs{static create(n){const t=super.create();return n?t.setAttribute("data-row",n):t.setAttribute("data-row",K6()),t}static formats(n){if(n.hasAttribute("data-row"))return n.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(n,t){n===ag.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(n,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};Je(ag,"blotName","table"),Je(ag,"tagName","TD");let xu=ag;class Bd extends Ap{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const n=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return n.table===t.table&&n.table===r.table&&n.table===i.table}return!1}optimize(n){super.optimize(n),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),i=t.next.formats();if(r.table!==i.table){const a=this.splitAfter(t);a&&a.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Je(Bd,"blotName","table-row"),Je(Bd,"tagName","TR");class jc extends Ap{}Je(jc,"blotName","table-body"),Je(jc,"tagName","TBODY");class tm extends Ap{balanceCells(){const n=this.descendants(Bd),t=n.reduce((r,i)=>Math.max(i.children.length,r),0);n.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=xu.formats(r.children.head.domNode));const a=this.scroll.create(xu.blotName,i);r.appendChild(a),a.optimize()})})}cells(n){return this.rows().map(t=>t.children.at(n))}deleteColumn(n){const[t]=this.descendant(jc);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(n);i!=null&&i.remove()})}insertColumn(n){const[t]=this.descendant(jc);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(n),a=xu.formats(r.children.head.domNode),s=this.scroll.create(xu.blotName,a);r.insertBefore(s,i)})}insertRow(n){const[t]=this.descendant(jc);if(t==null||t.children.head==null)return;const r=K6(),i=this.scroll.create(Bd.blotName);t.children.head.children.forEach(()=>{const s=this.scroll.create(xu.blotName,r);i.appendChild(s)});const a=t.children.at(n);t.insertBefore(i,a)}rows(){const n=this.children.head;return n==null?[]:n.children.map(t=>t)}}Je(tm,"blotName","table-container"),Je(tm,"tagName","TABLE");tm.allowedChildren=[jc];jc.requiredContainer=tm;jc.allowedChildren=[Bd];Bd.requiredContainer=jc;Bd.allowedChildren=[xu];xu.requiredContainer=Bd;function K6(){return`row-${Math.random().toString(36).slice(2,6)}`}class L$ extends Iu{static register(){wt.register(xu),wt.register(Bd),wt.register(jc),wt.register(tm)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(tm).forEach(n=>{n.balanceCells()})}deleteColumn(){const[n,,t]=this.getTable();t!=null&&(n.deleteColumn(t.cellOffset()),this.quill.update(wt.sources.USER))}deleteRow(){const[,n]=this.getTable();n!=null&&(n.remove(),this.quill.update(wt.sources.USER))}deleteTable(){const[n]=this.getTable();if(n==null)return;const t=n.offset();n.remove(),this.quill.update(wt.sources.USER),this.quill.setSelection(t,wt.sources.SILENT)}getTable(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(n==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(n.index);if(t==null||t.statics.blotName!==xu.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,r]}insertColumn(n){const t=this.quill.getSelection();if(!t)return;const[r,i,a]=this.getTable(t);if(a==null)return;const s=a.cellOffset();r.insertColumn(s+n),this.quill.update(wt.sources.USER);let l=i.rowOffset();n===0&&(l+=1),this.quill.setSelection(t.index+l,t.length,wt.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(n){const t=this.quill.getSelection();if(!t)return;const[r,i,a]=this.getTable(t);if(a==null)return;const s=i.rowOffset();r.insertRow(s+n),this.quill.update(wt.sources.USER),n>0?this.quill.setSelection(t,wt.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,wt.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(n,t){const r=this.quill.getSelection();if(r==null)return;const i=new Array(n).fill(0).reduce(a=>{const s=new Array(t).fill(`
`).join("");return a.insert(s,{table:K6()})},new $t().retain(r.index));this.quill.updateContents(i,wt.sources.USER),this.quill.setSelection(r.index,wt.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(wt.events.SCROLL_OPTIMIZE,n=>{n.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(wt.events.TEXT_CHANGE,(r,i,a)=>{a===wt.sources.USER&&this.balanceTables()}),!0):!1)})}}const z8=Qd("quill:toolbar");class X6 extends Iu{constructor(n,t){var r,i;if(super(n,t),Array.isArray(this.options.container)){const a=document.createElement("div");a.setAttribute("role","toolbar"),R$(a,this.options.container),(i=(r=n.container)==null?void 0:r.parentNode)==null||i.insertBefore(a,n.container),this.container=a}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){z8.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(a=>{var l;const s=(l=this.options.handlers)==null?void 0:l[a];s&&this.addHandler(a,s)}),Array.from(this.container.querySelectorAll("button, select")).forEach(a=>{this.attach(a)}),this.quill.on(wt.events.EDITOR_CHANGE,()=>{const[a]=this.quill.selection.getRange();this.update(a)})}addHandler(n,t){this.handlers[n]=t}attach(n){let t=Array.from(n.classList).find(i=>i.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),n.tagName==="BUTTON"&&n.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){z8.warn("ignoring attaching to nonexistent format",t,n);return}const r=n.tagName==="SELECT"?"change":"click";n.addEventListener(r,i=>{let a;if(n.tagName==="SELECT"){if(n.selectedIndex<0)return;const l=n.options[n.selectedIndex];l.hasAttribute("selected")?a=!1:a=l.value||!1}else n.classList.contains("ql-active")?a=!1:a=n.value||!n.hasAttribute("value"),i.preventDefault();this.quill.focus();const[s]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,a);else if(this.quill.scroll.query(t).prototype instanceof il){if(a=prompt(`Enter ${t}`),!a)return;this.quill.updateContents(new $t().retain(s.index).delete(s.length).insert({[t]:a}),wt.sources.USER)}else this.quill.format(t,a,wt.sources.USER);this.update(s)}),this.controls.push([t,n])}update(n){const t=n==null?{}:this.quill.getFormat(n);this.controls.forEach(r=>{const[i,a]=r;if(a.tagName==="SELECT"){let s=null;if(n==null)s=null;else if(t[i]==null)s=a.querySelector("option[selected]");else if(!Array.isArray(t[i])){let l=t[i];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),s=a.querySelector(`option[value="${l}"]`)}s==null?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(n==null)a.classList.remove("ql-active"),a.setAttribute("aria-pressed","false");else if(a.hasAttribute("value")){const s=t[i],l=s===a.getAttribute("value")||s!=null&&s.toString()===a.getAttribute("value")||s==null&&!a.getAttribute("value");a.classList.toggle("ql-active",l),a.setAttribute("aria-pressed",l.toString())}else{const s=t[i]!=null;a.classList.toggle("ql-active",s),a.setAttribute("aria-pressed",s.toString())}})}}X6.DEFAULTS={};function q8(e,n,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${n}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${n}: ${t}`)):r.setAttribute("aria-label",n),e.appendChild(r)}function R$(e,n){Array.isArray(n[0])||(n=[n]),n.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(i=>{if(typeof i=="string")q8(r,i);else{const a=Object.keys(i)[0],s=i[a];Array.isArray(s)?M$(r,a,s):q8(r,a,s)}}),e.appendChild(r)})}function M$(e,n,t){const r=document.createElement("select");r.classList.add(`ql-${n}`),t.forEach(i=>{const a=document.createElement("option");i!==!1?a.setAttribute("value",String(i)):a.setAttribute("selected","selected"),r.appendChild(a)}),e.appendChild(r)}X6.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(e!=null)if(e.length===0){const n=this.quill.getFormat();Object.keys(n).forEach(t=>{this.quill.scroll.query(t,Ht.INLINE)!=null&&this.quill.format(t,!1,wt.sources.USER)})}else this.quill.removeFormat(e.index,e.length,wt.sources.USER)},direction(e){const{align:n}=this.quill.getFormat();e==="rtl"&&n==null?this.quill.format("align","right",wt.sources.USER):!e&&n==="right"&&this.quill.format("align",!1,wt.sources.USER),this.quill.format("direction",e,wt.sources.USER)},indent(e){const n=this.quill.getSelection(),t=this.quill.getFormat(n),r=parseInt(t.indent||0,10);if(e==="+1"||e==="-1"){let i=e==="+1"?1:-1;t.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,wt.sources.USER)}},link(e){e===!0&&(e=prompt("Enter link URL:")),this.quill.format("link",e,wt.sources.USER)},list(e){const n=this.quill.getSelection(),t=this.quill.getFormat(n);e==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,wt.sources.USER):this.quill.format("list","unchecked",wt.sources.USER):this.quill.format("list",e,wt.sources.USER)}}};const F$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',P$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',z$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',q$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',B$='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',U$='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',$$='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',H$='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',B8='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',W$='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',V$='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',Y$='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',G$='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',Q$='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',K$='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',X$='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Z$='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',J$='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',eH='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',tH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',nH='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',rH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',iH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',aH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',sH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',oH='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',lH='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',uH='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',cH='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',dH='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',fH='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',hH='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',pH='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',vg={align:{"":F$,center:P$,right:z$,justify:q$},background:B$,blockquote:U$,bold:$$,clean:H$,code:B8,"code-block":B8,color:W$,direction:{"":V$,rtl:Y$},formula:G$,header:{1:Q$,2:K$,3:X$,4:Z$,5:J$,6:eH},italic:tH,image:nH,indent:{"+1":rH,"-1":iH},link:aH,list:{bullet:sH,check:oH,ordered:lH},script:{sub:uH,super:cH},strike:dH,table:fH,underline:hH,video:pH},mH='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let U8=0;function $8(e,n){e.setAttribute(n,`${e.getAttribute(n)!=="true"}`)}class mv{constructor(n){this.select=n,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),$8(this.label,"aria-expanded"),$8(this.options,"aria-hidden")}buildItem(n){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=n.getAttribute("value");return r&&t.setAttribute("data-value",r),n.textContent&&t.setAttribute("data-label",n.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(t,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),t}buildLabel(){const n=document.createElement("span");return n.classList.add("ql-picker-label"),n.innerHTML=mH,n.tabIndex="0",n.setAttribute("role","button"),n.setAttribute("aria-expanded","false"),this.container.appendChild(n),n}buildOptions(){const n=document.createElement("span");n.classList.add("ql-picker-options"),n.setAttribute("aria-hidden","true"),n.tabIndex="-1",n.id=`ql-picker-options-${U8}`,U8+=1,this.label.setAttribute("aria-controls",n.id),this.options=n,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);n.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(n)}buildPicker(){Array.from(this.select.attributes).forEach(n=>{this.container.setAttribute(n.name,n.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");n!==r&&(r!=null&&r.classList.remove("ql-selected"),n!=null&&(n.classList.add("ql-selected"),this.select.selectedIndex=Array.from(n.parentNode.children).indexOf(n),n.hasAttribute("data-value")?this.label.setAttribute("data-value",n.getAttribute("data-value")):this.label.removeAttribute("data-value"),n.hasAttribute("data-label")?this.label.setAttribute("data-label",n.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let n;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];n=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=n!=null&&n!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class q7 extends mv{constructor(n,t){super(n),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(n){const t=super.buildItem(n);return t.style.backgroundColor=n.getAttribute("value")||"",t}selectItem(n,t){super.selectItem(n,t);const r=this.label.querySelector(".ql-color-label"),i=n&&n.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class B7 extends mv{constructor(n,t){super(n),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(n,t){super.selectItem(n,t);const r=n||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const gH=e=>{const{overflowY:n}=getComputedStyle(e,null);return n!=="visible"&&n!=="clip"};class U7{constructor(n,t){this.quill=n,this.boundsContainer=t||document.body,this.root=n.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,gH(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(n){const t=n.left+n.width/2-this.root.offsetWidth/2,r=n.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect();let s=0;if(a.right>i.right&&(s=i.right-a.right,this.root.style.left=`${t+s}px`),a.left<i.left&&(s=i.left-a.left,this.root.style.left=`${t+s}px`),a.bottom>i.bottom){const l=a.bottom-a.top,c=n.bottom-n.top+l;this.root.style.top=`${r-c}px`,this.root.classList.add("ql-flip")}return s}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const bH=[!1,"center","right","justify"],yH=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],xH=[!1,"serif","monospace"],vH=["1","2","3",!1],wH=["small",!1,"large","huge"];class Gg extends em{constructor(n,t){super(n,t);const r=i=>{if(!document.body.contains(n.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(a=>{a.container.contains(i.target)||a.close()})};n.emitter.listenDOM("click",document.body,r)}addModule(n){const t=super.addModule(n);return n==="toolbar"&&this.extendToolbar(t),t}buildButtons(n,t){Array.from(n).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(a=>{if(a.startsWith("ql-")&&(a=a.slice(3),t[a]!=null))if(a==="direction")r.innerHTML=t[a][""]+t[a].rtl;else if(typeof t[a]=="string")r.innerHTML=t[a];else{const s=r.value||"";s!=null&&t[a][s]&&(r.innerHTML=t[a][s])}})})}buildPickers(n,t){this.pickers=Array.from(n).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&p1(i,bH),typeof t.align=="object"))return new B7(i,t.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const a=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&p1(i,yH,a==="background"?"#ffffff":"#000000"),new q7(i,t[a])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?p1(i,xH):i.classList.contains("ql-header")?p1(i,vH):i.classList.contains("ql-size")&&p1(i,wH)),new mv(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(Ft.events.EDITOR_CHANGE,r)}}Gg.DEFAULTS=Jf({},em.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");e==null&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",()=>{const n=this.quill.getSelection(!0);this.quill.uploader.upload(n,e.files),e.value=""}),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class $7 extends U7{constructor(n,t){super(n,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",n=>{n.key==="Enter"?(this.save(),n.preventDefault()):n.key==="Escape"&&(this.cancel(),n.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:n!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${n}`)||""),this.root.setAttribute("data-mode",n)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:n}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,Ft.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,Ft.sources.USER)),this.quill.root.scrollTop=t;break}case"video":n=SH(n);case"formula":{if(!n)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),n,Ft.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",Ft.sources.USER),this.quill.setSelection(r+2,Ft.sources.USER)}break}}this.textbox.value="",this.hide()}}function SH(e){let n=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return n?`${n[1]||"https"}://www.youtube.com/embed/${n[2]}?showinfo=0`:(n=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${n[1]||"https"}://player.vimeo.com/video/${n[2]}/`:e}function p1(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;n.forEach(r=>{const i=document.createElement("option");r===t?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),e.appendChild(i)})}const AH=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class H7 extends $7{constructor(n,t){super(n,t),this.quill.on(Ft.events.EDITOR_CHANGE,(r,i,a,s)=>{if(r===Ft.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&s===Ft.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(i.index,i.length);if(l.length===1){const c=this.quill.getBounds(i);c!=null&&this.position(c)}else{const c=l[l.length-1],d=this.quill.getIndex(c),h=Math.min(c.length()-1,i.index+i.length-d),g=this.quill.getBounds(new hp(d,h));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ft.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const n=this.quill.getSelection();if(n!=null){const t=this.quill.getBounds(n);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(n){const t=super.position(n),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}Je(H7,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class W7 extends Gg{constructor(n,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=AH),super(n,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(n){this.tooltip=new H7(this.quill,this.options.bounds),n.container!=null&&(this.tooltip.root.appendChild(n.container),this.buildButtons(n.container.querySelectorAll("button"),vg),this.buildPickers(n.container.querySelectorAll("select"),vg))}}W7.DEFAULTS=Jf({},Gg.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,wt.sources.USER)}}}}});const CH=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class V7 extends $7{constructor(){super(...arguments);Je(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,Ft.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(Ft.events.SELECTION_CHANGE,(t,r,i)=>{if(t!=null){if(t.length===0&&i===Ft.sources.USER){const[a,s]=this.quill.scroll.descendant(Wf,t.index);if(a!=null){this.linkRange=new hp(t.index-s,a.length());const l=Wf.formats(a.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const c=this.quill.getBounds(this.linkRange);c!=null&&this.position(c);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Je(V7,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class Y7 extends Gg{constructor(n,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=CH),super(n,t),this.quill.container.classList.add("ql-snow")}extendToolbar(n){n.container!=null&&(n.container.classList.add("ql-snow"),this.buildButtons(n.container.querySelectorAll("button"),vg),this.buildPickers(n.container.querySelectorAll("select"),vg),this.tooltip=new V7(this.quill,this.options.bounds),n.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{n.handlers.link.call(n,!r.format.link)}))}}Y7.DEFAULTS=Jf({},Gg.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const n=this.quill.getSelection();if(n==null||n.length===0)return;let t=this.quill.getText(n);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,wt.sources.USER)}}}}});wt.register({"attributors/attribute/direction":_7,"attributors/class/align":A7,"attributors/class/background":BU,"attributors/class/color":qU,"attributors/class/direction":k7,"attributors/class/font":T7,"attributors/class/size":I7,"attributors/style/align":C7,"attributors/style/background":W6,"attributors/style/color":H6,"attributors/style/direction":j7,"attributors/style/font":O7,"attributors/style/size":D7},!0);wt.register({"formats/align":A7,"formats/direction":k7,"formats/indent":O$,"formats/background":W6,"formats/color":H6,"formats/font":T7,"formats/size":I7,"formats/blockquote":fS,"formats/code-block":Us,"formats/header":hS,"formats/list":Yg,"formats/bold":xg,"formats/code":V6,"formats/italic":pS,"formats/link":Wf,"formats/script":mS,"formats/strike":gS,"formats/underline":bS,"formats/formula":Qy,"formats/image":I$,"formats/video":Ky,"modules/syntax":z7,"modules/table":L$,"modules/toolbar":X6,"themes/bubble":W7,"themes/snow":Y7,"ui/icons":vg,"ui/picker":mv,"ui/icon-picker":B7,"ui/color-picker":q7,"ui/tooltip":U7},!0);class gv extends it.Component{constructor(n){super(n),this.editingAreaRef=K.createRef(),this.containerRef=K.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(r,i,a,s)=>{var l,c;r==="text-change"?(l=this.onEditorChangeText)==null||l.call(this,this.editor.root.innerHTML,i,s,this.unprivilegedEditor):r==="selection-change"&&((c=this.onEditorChangeSelection)==null||c.call(this,i,s,this.unprivilegedEditor))};const t=this.isControlled()?n.value:n.defaultValue;this.value=t??""}validateProps(n){if(it.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(it.Children.count(n.children)){const t=it.Children.only(n.children);if((t==null?void 0:t.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(n,t){if(this.validateProps(n),!this.editor||this.state.generation!==t.generation)return!0;if("value"in n){const r=this.getEditorContents(),i=n.value??"";this.isEqualValue(i,r)||this.setEditorContents(this.editor,i)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),[...this.cleanProps,...this.dirtyProps].some(r=>!qf(n[r],this.props[r]))}shouldComponentRegenerate(n){return this.dirtyProps.some(t=>!qf(n[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(n,t){if(this.editor&&this.shouldComponentRegenerate(n)){const r=this.editor.getContents(),i=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:i},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){const{delta:r,selection:i}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const a=this.editor;a.setContents(r),H8(()=>this.setEditorSelection(a,i))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var r,i;if(!this.editor)return;this.unhookEditor(this.editor);const n=(r=this.props.modules)==null?void 0:r.toolbar;if(!(typeof n=="object"&&n&&"container"in n&&typeof n.container=="string"||typeof n=="string")){const a=(i=this.containerRef.current)==null?void 0:i.querySelector(".ql-toolbar");a&&a.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(n,t){const r=new wt(n,t);return t.tabIndex!=null&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r}hookEditor(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)}unhookEditor(n){n.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(n){return n&&n.ops}isEqualValue(n,t){return this.isDelta(n)&&this.isDelta(t)?qf(n.ops,t.ops):qf(n,t)}setEditorContents(n,t){this.value=t;const r=this.getEditorSelection();typeof t=="string"?n.setContents(n.clipboard.convert({html:t})):n.setContents(t),H8(()=>this.setEditorSelection(n,r))}setEditorSelection(n,t){if(this.selection=t,t){const r=n.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),n.setSelection(t)}}setEditorTabIndex(n,t){var r;(r=n==null?void 0:n.scroll)!=null&&r.domNode&&(n.scroll.domNode.tabIndex=t)}setEditorReadOnly(n,t){t?n.disable():n.enable()}makeUnprivilegedEditor(n){const t=n;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const n=this.editingAreaRef.current;if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n}renderEditingArea(){const{children:n,preserveWhitespace:t}=this.props,{generation:r}=this.state,i={key:r,ref:this.editingAreaRef};return it.Children.count(n)?it.cloneElement(it.Children.only(n),i):t?it.createElement("pre",{...i}):it.createElement("div",{...i})}render(){return it.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(n,t,r,i){var s,l;if(!this.editor)return;const a=this.isDelta(this.value)?i.getContents():i.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=a,(l=(s=this.props).onChange)==null||l.call(s,n,t,r,i))}onEditorChangeSelection(n,t,r){var l,c,d,h,g,b;if(!this.editor)return;const i=this.getEditorSelection(),a=!i&&n,s=i&&!n;qf(n,i)||(this.selection=n,(c=(l=this.props).onChangeSelection)==null||c.call(l,n,t,r),a?(h=(d=this.props).onFocus)==null||h.call(d,n,t,r):s&&((b=(g=this.props).onBlur)==null||b.call(g,i,t,r)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}gv.displayName="React Quill";gv.Quill=wt;gv.defaultProps={theme:"snow",modules:{},readOnly:!1};function H8(e){Promise.resolve().then(e)}const EH=({content:e,onChange:n})=>{const t=a=>{n(a)},r={toolbar:[[{header:[1,2,3,!1]}],["bold","italic"],["blockquote",{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},i=["header","bold","italic","blockquote","list","link"];return f.jsx(gv,{value:e,onChange:t,modules:r,formats:i,theme:"snow",placeholder:"Start writing...",style:{backgroundColor:"white",borderRadius:"4px",minHeight:"150px"}})},_H=(e,n={enabled:!0,priority:"low"})=>{const t=K.useCallback(r=>{!n.enabled||r.length===0||r.forEach((i,a)=>{if(!i||i.startsWith("data:"))return;const s=new Image;"loading"in s&&(s.loading="lazy");const l=n.priority==="low"?a*100:0;setTimeout(()=>{s.src=i,s.onload=()=>{console.log(` Preloaded image: ${i.substring(0,50)}...`)},s.onerror=c=>{console.error(` Failed to preload image: ${i}`,c),console.error("Image details:",{url:i,naturalWidth:s.naturalWidth,naturalHeight:s.naturalHeight,complete:s.complete})}},l)})},[n.enabled,n.priority]);return K.useEffect(()=>{t(e)},[e,t]),{preloadImages:t}},G7=(e,n,t=!0)=>{const{preloadImages:r}=_H([],{enabled:t,priority:"low"});K.useEffect(()=>{var s,l;if(!t||!e.length)return;const i=[];if(n>0){const c=e[n-1];c!=null&&c.images&&i.push(...c.images.map(d=>d.url)),(s=c==null?void 0:c.subsections)==null||s.forEach(d=>{var h;d.images&&i.push(...d.images.map(g=>g.url)),(h=d==null?void 0:d.subSubsections)==null||h.forEach(g=>{g.images&&i.push(...g.images.map(b=>b.url))})})}if(n<e.length-1){const c=e[n+1];c!=null&&c.images&&i.push(...c.images.map(d=>d.url)),(l=c==null?void 0:c.subsections)==null||l.forEach(d=>{var h;d.images&&i.push(...d.images.map(g=>g.url)),(h=d==null?void 0:d.subSubsections)==null||h.forEach(g=>{g.images&&i.push(...g.images.map(b=>b.url))})})}const a=Array.from(new Set(i.filter(Boolean)));a.length>0&&(console.log(`Preloading ${a.length} images from adjacent sections`),r(a))},[e,n,t,r])},kH=({value:e,onChange:n,disabled:t=!1})=>{const[r,i]=K.useState([]),[a,s]=K.useState(!0),{userDetails:l}=Ai();K.useEffect(()=>{if(console.log("User Details in CourseDropdown:",l),l!=null&&l.classes){const d=Object.entries(l.classes).filter(([h,g])=>g.isCourseAdmin||l.isSuperAdmin).map(([h,g])=>({id:h,number:g.number,title:g.title}));console.log("Filtered Courses for Dropdown:",d),i(d)}else i([]);s(!1)},[l]);const c=r.some(d=>d.id===e);return a?f.jsx(me,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:f.jsx(Gr,{})}):f.jsx(Bt,{select:!0,label:"Select Course",value:c?e:"",onChange:d=>n(d.target.value),fullWidth:!0,disabled:t,sx:{mb:2},error:!c&&e!=="",helperText:!c&&e!==""?"Invalid course selected":"",children:r.length>0?r.map(d=>f.jsxs(Zn,{value:d.id,children:[d.number," - ",d.title]},d.id)):f.jsx(Zn,{disabled:!0,children:"No courses available"})})};function Rt(e){const n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new e.constructor(+e):typeof e=="number"||n==="[object Number]"||typeof e=="string"||n==="[object String]"?new Date(e):new Date(NaN)}function Lr(e,n){return e instanceof Date?new e.constructor(n):new Date(n)}function Au(e,n){const t=Rt(e);return isNaN(n)?Lr(e,NaN):(n&&t.setDate(t.getDate()+n),t)}function Eu(e,n){const t=Rt(e);if(isNaN(n))return Lr(e,NaN);if(!n)return t;const r=t.getDate(),i=Lr(e,t.getTime());i.setMonth(t.getMonth()+n+1,0);const a=i.getDate();return r>=a?i:(t.setFullYear(i.getFullYear(),i.getMonth(),r),t)}function Z6(e,n){const t=+Rt(e);return Lr(e,t+n)}const Q7=6048e5,jH=864e5,bv=6e4,yv=36e5,NH=1e3;function TH(e,n){return Z6(e,n*yv)}let OH={};function _p(){return OH}function Ud(e,n){var l,c,d,h;const t=_p(),r=(n==null?void 0:n.weekStartsOn)??((c=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??t.weekStartsOn??((h=(d=t.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=Rt(e),a=i.getDay(),s=(a<r?7:0)+a-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function nm(e){return Ud(e,{weekStartsOn:1})}function K7(e){const n=Rt(e),t=n.getFullYear(),r=Lr(e,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const i=nm(r),a=Lr(e,0);a.setFullYear(t,0,4),a.setHours(0,0,0,0);const s=nm(a);return n.getTime()>=i.getTime()?t+1:n.getTime()>=s.getTime()?t:t-1}function pp(e){const n=Rt(e);return n.setHours(0,0,0,0),n}function Tx(e){const n=Rt(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}function rm(e,n){const t=pp(e),r=pp(n),i=+t-Tx(t),a=+r-Tx(r);return Math.round((i-a)/jH)}function IH(e){const n=K7(e),t=Lr(e,0);return t.setFullYear(n,0,4),t.setHours(0,0,0,0),nm(t)}function yS(e,n){return Z6(e,n*bv)}function J6(e,n){const t=n*3;return Eu(e,t)}function DH(e,n){return Z6(e,n*1e3)}function Ox(e,n){const t=n*7;return Au(e,t)}function Ld(e,n){return Eu(e,n*12)}function W8(e){let n;return e.forEach(function(t){const r=Rt(t);(n===void 0||n<r||isNaN(Number(r)))&&(n=r)}),n||new Date(NaN)}function V8(e){let n;return e.forEach(t=>{const r=Rt(t);(!n||n>r||isNaN(+r))&&(n=r)}),n||new Date(NaN)}function LH(e,n){const t=pp(e),r=pp(n);return+t==+r}function Rd(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ix(e){if(!Rd(e)&&typeof e!="number")return!1;const n=Rt(e);return!isNaN(Number(n))}function Dx(e,n){const t=Rt(e),r=Rt(n),i=t.getFullYear()-r.getFullYear(),a=t.getMonth()-r.getMonth();return i*12+a}function rp(e){const n=Rt(e);return Math.trunc(n.getMonth()/3)+1}function Lx(e,n){const t=Rt(e),r=Rt(n),i=t.getFullYear()-r.getFullYear(),a=rp(t)-rp(r);return i*4+a}function Rx(e,n){const t=Rt(e),r=Rt(n);return t.getFullYear()-r.getFullYear()}function RH(e,n){const t=Rt(e),r=Rt(n),i=Y8(t,r),a=Math.abs(rm(t,r));t.setDate(t.getDate()-i*a);const s=+(Y8(t,r)===-i),l=i*(a-s);return l===0?0:l}function Y8(e,n){const t=e.getFullYear()-n.getFullYear()||e.getMonth()-n.getMonth()||e.getDate()-n.getDate()||e.getHours()-n.getHours()||e.getMinutes()-n.getMinutes()||e.getSeconds()-n.getSeconds()||e.getMilliseconds()-n.getMilliseconds();return t<0?-1:t>0?1:t}function X7(e){const n=Rt(e);return n.setHours(23,59,59,999),n}function Z7(e){const n=Rt(e),t=n.getMonth();return n.setFullYear(n.getFullYear(),t+1,0),n.setHours(23,59,59,999),n}function xS(e){const n=Rt(e),t=n.getMonth(),r=t-t%3;return n.setMonth(r,1),n.setHours(0,0,0,0),n}function J7(e){const n=Rt(e);return n.setDate(1),n.setHours(0,0,0,0),n}function eO(e){const n=Rt(e),t=n.getFullYear();return n.setFullYear(t+1,0,0),n.setHours(23,59,59,999),n}function xv(e){const n=Rt(e),t=Lr(e,0);return t.setFullYear(n.getFullYear(),0,1),t.setHours(0,0,0,0),t}function MH(e,n){var l,c;const t=_p(),r=t.weekStartsOn??((c=(l=t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,i=Rt(e),a=i.getDay(),s=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}const FH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},PH=(e,n,t)=>{let r;const i=FH[e];return typeof i=="string"?r=i:n===1?r=i.one:r=i.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function $5(e){return(n={})=>{const t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const zH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},BH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},UH={date:$5({formats:zH,defaultWidth:"full"}),time:$5({formats:qH,defaultWidth:"full"}),dateTime:$5({formats:BH,defaultWidth:"full"})},$H={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},HH=(e,n,t,r)=>$H[e];function m1(e){return(n,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=t!=null&&t.width?String(t.width):s;i=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=t!=null&&t.width?String(t.width):e.defaultWidth;i=e.values[l]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(n):n;return i[a]}}const WH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},VH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},GH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},KH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},XH=(e,n)=>{const t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},ZH={ordinalNumber:XH,era:m1({values:WH,defaultWidth:"wide"}),quarter:m1({values:VH,defaultWidth:"wide",argumentCallback:e=>e-1}),month:m1({values:YH,defaultWidth:"wide"}),day:m1({values:GH,defaultWidth:"wide"}),dayPeriod:m1({values:QH,defaultWidth:"wide",formattingValues:KH,defaultFormattingWidth:"wide"})};function g1(e){return(n,t={})=>{const r=t.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=n.match(i);if(!a)return null;const s=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?eW(l,g=>g.test(s)):JH(l,g=>g.test(s));let d;d=e.valueCallback?e.valueCallback(c):c,d=t.valueCallback?t.valueCallback(d):d;const h=n.slice(s.length);return{value:d,rest:h}}}function JH(e,n){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(e[t]))return t}function eW(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return t}function tW(e){return(n,t={})=>{const r=n.match(e.matchPattern);if(!r)return null;const i=r[0],a=n.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=t.valueCallback?t.valueCallback(s):s;const l=n.slice(i.length);return{value:s,rest:l}}}const nW=/^(\d+)(th|st|nd|rd)?/i,rW=/\d+/i,iW={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},aW={any:[/^b/i,/^(a|c)/i]},sW={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},oW={any:[/1/i,/2/i,/3/i,/4/i]},lW={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uW={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cW={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dW={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fW={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hW={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pW={ordinalNumber:tW({matchPattern:nW,parsePattern:rW,valueCallback:e=>parseInt(e,10)}),era:g1({matchPatterns:iW,defaultMatchWidth:"wide",parsePatterns:aW,defaultParseWidth:"any"}),quarter:g1({matchPatterns:sW,defaultMatchWidth:"wide",parsePatterns:oW,defaultParseWidth:"any",valueCallback:e=>e+1}),month:g1({matchPatterns:lW,defaultMatchWidth:"wide",parsePatterns:uW,defaultParseWidth:"any"}),day:g1({matchPatterns:cW,defaultMatchWidth:"wide",parsePatterns:dW,defaultParseWidth:"any"}),dayPeriod:g1({matchPatterns:fW,defaultMatchWidth:"any",parsePatterns:hW,defaultParseWidth:"any"})},tO={code:"en-US",formatDistance:PH,formatLong:UH,formatRelative:HH,localize:ZH,match:pW,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mW(e){const n=Rt(e);return rm(n,xv(n))+1}function eA(e){const n=Rt(e),t=+nm(n)-+IH(n);return Math.round(t/Q7)+1}function tA(e,n){var h,g,b,m;const t=Rt(e),r=t.getFullYear(),i=_p(),a=(n==null?void 0:n.firstWeekContainsDate)??((g=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(b=i.locale)==null?void 0:b.options)==null?void 0:m.firstWeekContainsDate)??1,s=Lr(e,0);s.setFullYear(r+1,0,a),s.setHours(0,0,0,0);const l=Ud(s,n),c=Lr(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const d=Ud(c,n);return t.getTime()>=l.getTime()?r+1:t.getTime()>=d.getTime()?r:r-1}function gW(e,n){var l,c,d,h;const t=_p(),r=(n==null?void 0:n.firstWeekContainsDate)??((c=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??t.firstWeekContainsDate??((h=(d=t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=tA(e,n),a=Lr(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Ud(a,n)}function nO(e,n){const t=Rt(e),r=+Ud(t,n)-+gW(t,n);return Math.round(r/Q7)+1}function Dr(e,n){const t=e<0?"-":"",r=Math.abs(e).toString().padStart(n,"0");return t+r}const Lf={y(e,n){const t=e.getFullYear(),r=t>0?t:1-t;return Dr(n==="yy"?r%100:r,n.length)},M(e,n){const t=e.getMonth();return n==="M"?String(t+1):Dr(t+1,2)},d(e,n){return Dr(e.getDate(),n.length)},a(e,n){const t=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,n){return Dr(e.getHours()%12||12,n.length)},H(e,n){return Dr(e.getHours(),n.length)},m(e,n){return Dr(e.getMinutes(),n.length)},s(e,n){return Dr(e.getSeconds(),n.length)},S(e,n){const t=n.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Dr(i,n.length)}},l0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},G8={G:function(e,n,t){const r=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return Lf.y(e,n)},Y:function(e,n,t,r){const i=tA(e,r),a=i>0?i:1-i;if(n==="YY"){const s=a%100;return Dr(s,2)}return n==="Yo"?t.ordinalNumber(a,{unit:"year"}):Dr(a,n.length)},R:function(e,n){const t=K7(e);return Dr(t,n.length)},u:function(e,n){const t=e.getFullYear();return Dr(t,n.length)},Q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Dr(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Dr(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){const r=e.getMonth();switch(n){case"M":case"MM":return Lf.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){const r=e.getMonth();switch(n){case"L":return String(r+1);case"LL":return Dr(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){const i=nO(e,r);return n==="wo"?t.ordinalNumber(i,{unit:"week"}):Dr(i,n.length)},I:function(e,n,t){const r=eA(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):Dr(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):Lf.d(e,n)},D:function(e,n,t){const r=mW(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Dr(r,n.length)},E:function(e,n,t){const r=e.getDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(a);case"ee":return Dr(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(a);case"cc":return Dr(a,n.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,t){const r=e.getDay(),i=r===0?7:r;switch(n){case"i":return String(i);case"ii":return Dr(i,n.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){const i=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,t){const r=e.getHours();let i;switch(r===12?i=l0.noon:r===0?i=l0.midnight:i=r/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,t){const r=e.getHours();let i;switch(r>=17?i=l0.evening:r>=12?i=l0.afternoon:r>=4?i=l0.morning:i=l0.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){let r=e.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Lf.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):Lf.H(e,n)},K:function(e,n,t){const r=e.getHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Dr(r,n.length)},k:function(e,n,t){let r=e.getHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):Dr(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):Lf.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):Lf.s(e,n)},S:function(e,n){return Lf.S(e,n)},X:function(e,n,t){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(n){case"X":return K8(r);case"XXXX":case"XX":return Vh(r);case"XXXXX":case"XXX":default:return Vh(r,":")}},x:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"x":return K8(r);case"xxxx":case"xx":return Vh(r);case"xxxxx":case"xxx":default:return Vh(r,":")}},O:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Q8(r,":");case"OOOO":default:return"GMT"+Vh(r,":")}},z:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Q8(r,":");case"zzzz":default:return"GMT"+Vh(r,":")}},t:function(e,n,t){const r=Math.trunc(e.getTime()/1e3);return Dr(r,n.length)},T:function(e,n,t){const r=e.getTime();return Dr(r,n.length)}};function Q8(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?t+String(i):t+String(i)+n+Dr(a,2)}function K8(e,n){return e%60===0?(e>0?"-":"+")+Dr(Math.abs(e)/60,2):Vh(e,n)}function Vh(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),i=Dr(Math.trunc(r/60),2),a=Dr(r%60,2);return t+i+n+a}const X8=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},rO=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},bW=(e,n)=>{const t=e.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return X8(e,n);let a;switch(r){case"P":a=n.dateTime({width:"short"});break;case"PP":a=n.dateTime({width:"medium"});break;case"PPP":a=n.dateTime({width:"long"});break;case"PPPP":default:a=n.dateTime({width:"full"});break}return a.replace("{{date}}",X8(r,n)).replace("{{time}}",rO(i,n))},Mx={p:rO,P:bW},yW=/^D+$/,xW=/^Y+$/,vW=["D","DD","YY","YYYY"];function iO(e){return yW.test(e)}function aO(e){return xW.test(e)}function vS(e,n,t){const r=wW(e,n,t);if(console.warn(r),vW.includes(e))throw new RangeError(r)}function wW(e,n,t){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const SW=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,AW=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,CW=/^'([^]*?)'?$/,EW=/''/g,_W=/[a-zA-Z]/;function Z8(e,n,t){var h,g,b,m,x,y,A,w;const r=_p(),i=(t==null?void 0:t.locale)??r.locale??tO,a=(t==null?void 0:t.firstWeekContainsDate)??((g=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(b=r.locale)==null?void 0:b.options)==null?void 0:m.firstWeekContainsDate)??1,s=(t==null?void 0:t.weekStartsOn)??((y=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((w=(A=r.locale)==null?void 0:A.options)==null?void 0:w.weekStartsOn)??0,l=Rt(e);if(!Ix(l))throw new RangeError("Invalid time value");let c=n.match(AW).map(C=>{const N=C[0];if(N==="p"||N==="P"){const F=Mx[N];return F(C,i.formatLong)}return C}).join("").match(SW).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const N=C[0];if(N==="'")return{isToken:!1,value:kW(C)};if(G8[N])return{isToken:!0,value:C};if(N.match(_W))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:C}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return c.map(C=>{if(!C.isToken)return C.value;const N=C.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&aO(N)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&iO(N))&&vS(N,n,String(e));const F=G8[N[0]];return F(l,N,i.localize,d)}).join("")}function kW(e){const n=e.match(CW);return n?n[1].replace(EW,"'"):e}function J8(e){return Rt(e).getDate()}function jW(e){return Rt(e).getDay()}function NW(e){const n=Rt(e),t=n.getFullYear(),r=n.getMonth(),i=Lr(e,0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}function TW(){return Object.assign({},_p())}function Nc(e){return Rt(e).getHours()}function OW(e){let t=Rt(e).getDay();return t===0&&(t=7),t}function Tc(e){return Rt(e).getMinutes()}function to(e){return Rt(e).getMonth()}function Md(e){return Rt(e).getSeconds()}function wS(e){return Rt(e).getTime()}function Pn(e){return Rt(e).getFullYear()}function ih(e,n){const t=Rt(e),r=Rt(n);return t.getTime()>r.getTime()}function mp(e,n){const t=Rt(e),r=Rt(n);return+t<+r}function IW(e,n){const t=Rt(e),r=Rt(n);return+t==+r}function DW(e,n){const t=n instanceof Date?Lr(n,0):new n(0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}const LW=10;class sO{constructor(){Je(this,"subPriority",0)}validate(n,t){return!0}}class RW extends sO{constructor(n,t,r,i,a){super(),this.value=n,this.validateValue=t,this.setValue=r,this.priority=i,a&&(this.subPriority=a)}validate(n,t){return this.validateValue(n,this.value,t)}set(n,t,r){return this.setValue(n,t,this.value,r)}}class MW extends sO{constructor(){super(...arguments);Je(this,"priority",LW);Je(this,"subPriority",-1)}set(t,r){return r.timestampIsSet?t:Lr(t,DW(t,Date))}}let wr=class{run(n,t,r,i){const a=this.parse(n,t,r,i);return a?{setter:new RW(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(n,t,r){return!0}};class FW extends wr{constructor(){super(...arguments);Je(this,"priority",140);Je(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const fa={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},vc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ha(e,n){return e&&{value:n(e.value),rest:e.rest}}function Mi(e,n){const t=n.match(e);return t?{value:parseInt(t[0],10),rest:n.slice(t[0].length)}:null}function wc(e,n){const t=n.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:n.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,s=t[5]?parseInt(t[5],10):0;return{value:r*(i*yv+a*bv+s*NH),rest:n.slice(t[0].length)}}function oO(e){return Mi(fa.anyDigitsSigned,e)}function Ji(e,n){switch(e){case 1:return Mi(fa.singleDigit,n);case 2:return Mi(fa.twoDigits,n);case 3:return Mi(fa.threeDigits,n);case 4:return Mi(fa.fourDigits,n);default:return Mi(new RegExp("^\\d{1,"+e+"}"),n)}}function Fx(e,n){switch(e){case 1:return Mi(fa.singleDigitSigned,n);case 2:return Mi(fa.twoDigitsSigned,n);case 3:return Mi(fa.threeDigitsSigned,n);case 4:return Mi(fa.fourDigitsSigned,n);default:return Mi(new RegExp("^-?\\d{1,"+e+"}"),n)}}function nA(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function lO(e,n){const t=n>0,r=t?n:1-n;let i;if(r<=50)i=e||100;else{const a=r+50,s=Math.trunc(a/100)*100,l=e>=a%100;i=e+s-(l?100:0)}return t?i:1-i}function uO(e){return e%400===0||e%4===0&&e%100!==0}class PW extends wr{constructor(){super(...arguments);Je(this,"priority",130);Je(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const a=s=>({year:s,isTwoDigitYear:r==="yy"});switch(r){case"y":return ha(Ji(4,t),a);case"yo":return ha(i.ordinalNumber(t,{unit:"year"}),a);default:return ha(Ji(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const a=t.getFullYear();if(i.isTwoDigitYear){const l=lO(i.year,a);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const s=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class zW extends wr{constructor(){super(...arguments);Je(this,"priority",130);Je(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const a=s=>({year:s,isTwoDigitYear:r==="YY"});switch(r){case"Y":return ha(Ji(4,t),a);case"Yo":return ha(i.ordinalNumber(t,{unit:"year"}),a);default:return ha(Ji(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,a){const s=tA(t,a);if(i.isTwoDigitYear){const c=lO(i.year,s);return t.setFullYear(c,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Ud(t,a)}const l=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(l,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Ud(t,a)}}class qW extends wr{constructor(){super(...arguments);Je(this,"priority",130);Je(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Fx(r==="R"?4:r.length,t)}set(t,r,i){const a=Lr(t,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),nm(a)}}class BW extends wr{constructor(){super(...arguments);Je(this,"priority",130);Je(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Fx(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class UW extends wr{constructor(){super(...arguments);Je(this,"priority",120);Je(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return Ji(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class $W extends wr{constructor(){super(...arguments);Je(this,"priority",120);Je(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return Ji(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class HW extends wr{constructor(){super(...arguments);Je(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Je(this,"priority",110)}parse(t,r,i){const a=s=>s-1;switch(r){case"M":return ha(Mi(fa.month,t),a);case"MM":return ha(Ji(2,t),a);case"Mo":return ha(i.ordinalNumber(t,{unit:"month"}),a);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class WW extends wr{constructor(){super(...arguments);Je(this,"priority",110);Je(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const a=s=>s-1;switch(r){case"L":return ha(Mi(fa.month,t),a);case"LL":return ha(Ji(2,t),a);case"Lo":return ha(i.ordinalNumber(t,{unit:"month"}),a);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function VW(e,n,t){const r=Rt(e),i=nO(r,t)-n;return r.setDate(r.getDate()-i*7),r}class YW extends wr{constructor(){super(...arguments);Je(this,"priority",100);Je(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return Mi(fa.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Ji(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,a){return Ud(VW(t,i,a),a)}}function GW(e,n){const t=Rt(e),r=eA(t)-n;return t.setDate(t.getDate()-r*7),t}class QW extends wr{constructor(){super(...arguments);Je(this,"priority",100);Je(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return Mi(fa.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Ji(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return nm(GW(t,i))}}const KW=[31,28,31,30,31,30,31,31,30,31,30,31],XW=[31,29,31,30,31,30,31,31,30,31,30,31];class ZW extends wr{constructor(){super(...arguments);Je(this,"priority",90);Je(this,"subPriority",1);Je(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return Mi(fa.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Ji(r.length,t)}}validate(t,r){const i=t.getFullYear(),a=uO(i),s=t.getMonth();return a?r>=1&&r<=XW[s]:r>=1&&r<=KW[s]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class JW extends wr{constructor(){super(...arguments);Je(this,"priority",90);Je(this,"subpriority",1);Je(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return Mi(fa.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Ji(r.length,t)}}validate(t,r){const i=t.getFullYear();return uO(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function rA(e,n,t){var g,b,m,x;const r=_p(),i=(t==null?void 0:t.weekStartsOn)??((b=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??r.weekStartsOn??((x=(m=r.locale)==null?void 0:m.options)==null?void 0:x.weekStartsOn)??0,a=Rt(e),s=a.getDay(),c=(n%7+7)%7,d=7-i,h=n<0||n>6?n-(s+d)%7:(c+d)%7-(s+d)%7;return Au(a,h)}class eV extends wr{constructor(){super(...arguments);Je(this,"priority",90);Je(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=rA(t,i,a),t.setHours(0,0,0,0),t}}class tV extends wr{constructor(){super(...arguments);Je(this,"priority",90);Je(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,a){const s=l=>{const c=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+c};switch(r){case"e":case"ee":return ha(Ji(r.length,t),s);case"eo":return ha(i.ordinalNumber(t,{unit:"day"}),s);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=rA(t,i,a),t.setHours(0,0,0,0),t}}class nV extends wr{constructor(){super(...arguments);Je(this,"priority",90);Je(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,a){const s=l=>{const c=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+c};switch(r){case"c":case"cc":return ha(Ji(r.length,t),s);case"co":return ha(i.ordinalNumber(t,{unit:"day"}),s);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,a){return t=rA(t,i,a),t.setHours(0,0,0,0),t}}function rV(e,n){const t=Rt(e),r=OW(t),i=n-r;return Au(t,i)}class iV extends wr{constructor(){super(...arguments);Je(this,"priority",90);Je(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const a=s=>s===0?7:s;switch(r){case"i":case"ii":return Ji(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return ha(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return ha(i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return ha(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiii":default:return ha(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=rV(t,i),t.setHours(0,0,0,0),t}}class aV extends wr{constructor(){super(...arguments);Je(this,"priority",80);Je(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(nA(i),0,0,0),t}}class sV extends wr{constructor(){super(...arguments);Je(this,"priority",80);Je(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(nA(i),0,0,0),t}}class oV extends wr{constructor(){super(...arguments);Je(this,"priority",80);Je(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(nA(i),0,0,0),t}}class lV extends wr{constructor(){super(...arguments);Je(this,"priority",70);Je(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return Mi(fa.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Ji(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const a=t.getHours()>=12;return a&&i<12?t.setHours(i+12,0,0,0):!a&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class uV extends wr{constructor(){super(...arguments);Je(this,"priority",70);Je(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return Mi(fa.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Ji(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class cV extends wr{constructor(){super(...arguments);Je(this,"priority",70);Je(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return Mi(fa.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Ji(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class dV extends wr{constructor(){super(...arguments);Je(this,"priority",70);Je(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return Mi(fa.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Ji(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const a=i<=24?i%24:i;return t.setHours(a,0,0,0),t}}class fV extends wr{constructor(){super(...arguments);Je(this,"priority",60);Je(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return Mi(fa.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Ji(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class hV extends wr{constructor(){super(...arguments);Je(this,"priority",50);Je(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return Mi(fa.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Ji(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class pV extends wr{constructor(){super(...arguments);Je(this,"priority",30);Je(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=a=>Math.trunc(a*Math.pow(10,-r.length+3));return ha(Ji(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class mV extends wr{constructor(){super(...arguments);Je(this,"priority",10);Je(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return wc(vc.basicOptionalMinutes,t);case"XX":return wc(vc.basic,t);case"XXXX":return wc(vc.basicOptionalSeconds,t);case"XXXXX":return wc(vc.extendedOptionalSeconds,t);case"XXX":default:return wc(vc.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Lr(t,t.getTime()-Tx(t)-i)}}class gV extends wr{constructor(){super(...arguments);Je(this,"priority",10);Je(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return wc(vc.basicOptionalMinutes,t);case"xx":return wc(vc.basic,t);case"xxxx":return wc(vc.basicOptionalSeconds,t);case"xxxxx":return wc(vc.extendedOptionalSeconds,t);case"xxx":default:return wc(vc.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Lr(t,t.getTime()-Tx(t)-i)}}class bV extends wr{constructor(){super(...arguments);Je(this,"priority",40);Je(this,"incompatibleTokens","*")}parse(t){return oO(t)}set(t,r,i){return[Lr(t,i*1e3),{timestampIsSet:!0}]}}class yV extends wr{constructor(){super(...arguments);Je(this,"priority",20);Je(this,"incompatibleTokens","*")}parse(t){return oO(t)}set(t,r,i){return[Lr(t,i),{timestampIsSet:!0}]}}const xV={G:new FW,y:new PW,Y:new zW,R:new qW,u:new BW,Q:new UW,q:new $W,M:new HW,L:new WW,w:new YW,I:new QW,d:new ZW,D:new JW,E:new eV,e:new tV,c:new nV,i:new iV,a:new aV,b:new sV,B:new oV,h:new lV,H:new uV,K:new cV,k:new dV,m:new fV,s:new hV,S:new pV,X:new mV,x:new gV,t:new bV,T:new yV},vV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,SV=/^'([^]*?)'?$/,AV=/''/g,CV=/\S/,EV=/[a-zA-Z]/;function H5(e,n,t,r){var y,A,w,C,N,F,R,M;const i=TW(),a=(r==null?void 0:r.locale)??i.locale??tO,s=(r==null?void 0:r.firstWeekContainsDate)??((A=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:A.firstWeekContainsDate)??i.firstWeekContainsDate??((C=(w=i.locale)==null?void 0:w.options)==null?void 0:C.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((F=(N=r==null?void 0:r.locale)==null?void 0:N.options)==null?void 0:F.weekStartsOn)??i.weekStartsOn??((M=(R=i.locale)==null?void 0:R.options)==null?void 0:M.weekStartsOn)??0;if(n==="")return e===""?Rt(t):Lr(t,NaN);const c={firstWeekContainsDate:s,weekStartsOn:l,locale:a},d=[new MW],h=n.match(wV).map(k=>{const L=k[0];if(L in Mx){const B=Mx[L];return B(k,a.formatLong)}return k}).join("").match(vV),g=[];for(let k of h){!(r!=null&&r.useAdditionalWeekYearTokens)&&aO(k)&&vS(k,n,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&iO(k)&&vS(k,n,e);const L=k[0],B=xV[L];if(B){const{incompatibleTokens:Q}=B;if(Array.isArray(Q)){const O=g.find(z=>Q.includes(z.token)||z.token===L);if(O)throw new RangeError(`The format string mustn't contain \`${O.fullToken}\` and \`${k}\` at the same time`)}else if(B.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${k}\` and any other token at the same time`);g.push({token:L,fullToken:k});const j=B.run(e,k,a.match,c);if(!j)return Lr(t,NaN);d.push(j.setter),e=j.rest}else{if(L.match(EV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");if(k==="''"?k="'":L==="'"&&(k=_V(k)),e.indexOf(k)===0)e=e.slice(k.length);else return Lr(t,NaN)}}if(e.length>0&&CV.test(e))return Lr(t,NaN);const b=d.map(k=>k.priority).sort((k,L)=>L-k).filter((k,L,B)=>B.indexOf(k)===L).map(k=>d.filter(L=>L.priority===k).sort((L,B)=>B.subPriority-L.subPriority)).map(k=>k[0]);let m=Rt(t);if(isNaN(m.getTime()))return Lr(t,NaN);const x={};for(const k of b){if(!k.validate(m,c))return Lr(t,NaN);const L=k.set(m,x,c);Array.isArray(L)?(m=L[0],Object.assign(x,L[1])):m=L}return Lr(t,m)}function _V(e){return e.match(SV)[1].replace(AV,"'")}function kV(e,n){const t=Rt(e),r=Rt(n);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function jV(e,n){const t=xS(e),r=xS(n);return+t==+r}function NV(e,n){const t=Rt(e),r=Rt(n);return t.getFullYear()===r.getFullYear()}function wg(e,n){const t=+Rt(e),[r,i]=[+Rt(n.start),+Rt(n.end)].sort((a,s)=>a-s);return t>=r&&t<=i}function TV(e,n){return Au(e,-1)}function OV(e,n){const r=RV(e);let i;if(r.date){const c=MV(r.date,2);i=FV(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let s=0,l;if(r.time&&(s=PV(r.time),isNaN(s)))return new Date(NaN);if(r.timezone){if(l=zV(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+s),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+s+l)}const Ey={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},IV=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,DV=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,LV=/^([+-])(\d{2})(?::?(\d{2}))?$/;function RV(e){const n={},t=e.split(Ey.dateTimeDelimiter);let r;if(t.length>2)return n;if(/:/.test(t[0])?r=t[0]:(n.date=t[0],r=t[1],Ey.timeZoneDelimiter.test(n.date)&&(n.date=e.split(Ey.timeZoneDelimiter)[0],r=e.substr(n.date.length,e.length))),r){const i=Ey.timezone.exec(r);i?(n.time=r.replace(i[1],""),n.timezone=i[1]):n.time=r}return n}function MV(e,n){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),r=e.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function FV(e,n){if(n===null)return new Date(NaN);const t=e.match(IV);if(!t)return new Date(NaN);const r=!!t[4],i=b1(t[1]),a=b1(t[2])-1,s=b1(t[3]),l=b1(t[4]),c=b1(t[5])-1;if(r)return HV(n,l,c)?qV(n,l,c):new Date(NaN);{const d=new Date(0);return!UV(n,a,s)||!$V(n,i)?new Date(NaN):(d.setUTCFullYear(n,a,Math.max(i,s)),d)}}function b1(e){return e?parseInt(e):1}function PV(e){const n=e.match(DV);if(!n)return NaN;const t=W5(n[1]),r=W5(n[2]),i=W5(n[3]);return WV(t,r,i)?t*yv+r*bv+i*1e3:NaN}function W5(e){return e&&parseFloat(e.replace(",","."))||0}function zV(e){if(e==="Z")return 0;const n=e.match(LV);if(!n)return 0;const t=n[1]==="+"?-1:1,r=parseInt(n[2]),i=n[3]&&parseInt(n[3])||0;return VV(r,i)?t*(r*yv+i*bv):NaN}function qV(e,n,t){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,a=(n-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const BV=[31,null,31,30,31,30,31,31,30,31,30,31];function cO(e){return e%400===0||e%4===0&&e%100!==0}function UV(e,n,t){return n>=0&&n<=11&&t>=1&&t<=(BV[n]||(cO(e)?29:28))}function $V(e,n){return n>=1&&n<=(cO(e)?366:365)}function HV(e,n,t){return n>=1&&n<=53&&t>=0&&t<=6}function WV(e,n,t){return e===24?n===0&&t===0:t>=0&&t<60&&n>=0&&n<60&&e>=0&&e<25}function VV(e,n){return n>=0&&n<=59}function Ho(e,n){const t=Rt(e),r=t.getFullYear(),i=t.getDate(),a=Lr(e,0);a.setFullYear(r,n,15),a.setHours(0,0,0,0);const s=NW(a);return t.setMonth(n,Math.min(i,s)),t}function YV(e,n){let t=Rt(e);return isNaN(+t)?Lr(e,NaN):(n.year!=null&&t.setFullYear(n.year),n.month!=null&&(t=Ho(t,n.month)),n.date!=null&&t.setDate(n.date),n.hours!=null&&t.setHours(n.hours),n.minutes!=null&&t.setMinutes(n.minutes),n.seconds!=null&&t.setSeconds(n.seconds),n.milliseconds!=null&&t.setMilliseconds(n.milliseconds),t)}function Xy(e,n){const t=Rt(e);return t.setHours(n),t}function Zy(e,n){const t=Rt(e);return t.setMinutes(n),t}function N0(e,n){const t=Rt(e),r=Math.trunc(t.getMonth()/3)+1,i=n-r;return Ho(t,t.getMonth()+i*3)}function Jy(e,n){const t=Rt(e);return t.setSeconds(n),t}function gc(e,n){const t=Rt(e);return isNaN(+t)?Lr(e,NaN):(t.setFullYear(n),t)}function ip(e,n){return Eu(e,-n)}function dO(e,n){return J6(e,-1)}function ek(e,n){return Ox(e,-1)}function im(e,n){return Ld(e,-n)}function vv(){return typeof window<"u"}function dm(e){return fO(e)?(e.nodeName||"").toLowerCase():"#document"}function Zo(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function Vc(e){var n;return(n=(fO(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function fO(e){return vv()?e instanceof Node||e instanceof Zo(e).Node:!1}function no(e){return vv()?e instanceof Element||e instanceof Zo(e).Element:!1}function $c(e){return vv()?e instanceof HTMLElement||e instanceof Zo(e).HTMLElement:!1}function tk(e){return!vv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zo(e).ShadowRoot}const GV=new Set(["inline","contents"]);function Qg(e){const{overflow:n,overflowX:t,overflowY:r,display:i}=Ml(e);return/auto|scroll|overlay|hidden|clip/.test(n+r+t)&&!GV.has(i)}const QV=new Set(["table","td","th"]);function KV(e){return QV.has(dm(e))}const XV=[":popover-open",":modal"];function wv(e){return XV.some(n=>{try{return e.matches(n)}catch{return!1}})}const ZV=["transform","translate","scale","rotate","perspective"],JV=["transform","translate","scale","rotate","perspective","filter"],eY=["paint","layout","strict","content"];function iA(e){const n=aA(),t=no(e)?Ml(e):e;return ZV.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||JV.some(r=>(t.willChange||"").includes(r))||eY.some(r=>(t.contain||"").includes(r))}function tY(e){let n=ah(e);for(;$c(n)&&!am(n);){if(iA(n))return n;if(wv(n))return null;n=ah(n)}return null}function aA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const nY=new Set(["html","body","#document"]);function am(e){return nY.has(dm(e))}function Ml(e){return Zo(e).getComputedStyle(e)}function Sv(e){return no(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ah(e){if(dm(e)==="html")return e;const n=e.assignedSlot||e.parentNode||tk(e)&&e.host||Vc(e);return tk(n)?n.host:n}function hO(e){const n=ah(e);return am(n)?e.ownerDocument?e.ownerDocument.body:e.body:$c(n)&&Qg(n)?n:hO(n)}function Sg(e,n,t){var r;n===void 0&&(n=[]),t===void 0&&(t=!0);const i=hO(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),s=Zo(i);if(a){const l=SS(s);return n.concat(s,s.visualViewport||[],Qg(i)?i:[],l&&t?Sg(l):[])}return n.concat(i,Sg(i,[],t))}function SS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const sm=Math.min,ap=Math.max,Px=Math.round,_y=Math.floor,Oc=e=>({x:e,y:e}),rY={left:"right",right:"left",bottom:"top",top:"bottom"},iY={start:"end",end:"start"};function aY(e,n,t){return ap(e,sm(n,t))}function Av(e,n){return typeof e=="function"?e(n):e}function om(e){return e.split("-")[0]}function Kg(e){return e.split("-")[1]}function sY(e){return e==="x"?"y":"x"}function sA(e){return e==="y"?"height":"width"}const oY=new Set(["top","bottom"]);function Xh(e){return oY.has(om(e))?"y":"x"}function oA(e){return sY(Xh(e))}function lY(e,n,t){t===void 0&&(t=!1);const r=Kg(e),i=oA(e),a=sA(i);let s=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return n.reference[a]>n.floating[a]&&(s=zx(s)),[s,zx(s)]}function uY(e){const n=zx(e);return[AS(e),n,AS(n)]}function AS(e){return e.replace(/start|end/g,n=>iY[n])}const nk=["left","right"],rk=["right","left"],cY=["top","bottom"],dY=["bottom","top"];function fY(e,n,t){switch(e){case"top":case"bottom":return t?n?rk:nk:n?nk:rk;case"left":case"right":return n?cY:dY;default:return[]}}function hY(e,n,t,r){const i=Kg(e);let a=fY(om(e),t==="start",r);return i&&(a=a.map(s=>s+"-"+i),n&&(a=a.concat(a.map(AS)))),a}function zx(e){return e.replace(/left|right|bottom|top/g,n=>rY[n])}function pY(e){return{top:0,right:0,bottom:0,left:0,...e}}function pO(e){return typeof e!="number"?pY(e):{top:e,right:e,bottom:e,left:e}}function qx(e){const{x:n,y:t,width:r,height:i}=e;return{width:r,height:i,top:t,left:n,right:n+r,bottom:t+i,x:n,y:t}}var mY=typeof document<"u",gY=function(){},Bx=mY?K.useLayoutEffect:gY;const bY={...x6},yY=bY.useInsertionEffect,xY=yY||(e=>e());function vY(e){const n=K.useRef(()=>{});return xY(()=>{n.current=e}),K.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.current==null?void 0:n.current(...r)},[])}function ik(e,n,t){let{reference:r,floating:i}=e;const a=Xh(n),s=oA(n),l=sA(s),c=om(n),d=a==="y",h=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,b=r[l]/2-i[l]/2;let m;switch(c){case"top":m={x:h,y:r.y-i.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:g};break;case"left":m={x:r.x-i.width,y:g};break;default:m={x:r.x,y:r.y}}switch(Kg(n)){case"start":m[s]-=b*(t&&d?-1:1);break;case"end":m[s]+=b*(t&&d?-1:1);break}return m}const wY=async(e,n,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=t,l=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(n));let d=await s.getElementRects({reference:e,floating:n,strategy:i}),{x:h,y:g}=ik(d,r,c),b=r,m={},x=0;for(let y=0;y<l.length;y++){const{name:A,fn:w}=l[y],{x:C,y:N,data:F,reset:R}=await w({x:h,y:g,initialPlacement:r,placement:b,strategy:i,middlewareData:m,rects:d,platform:s,elements:{reference:e,floating:n}});h=C??h,g=N??g,m={...m,[A]:{...m[A],...F}},R&&x<=50&&(x++,typeof R=="object"&&(R.placement&&(b=R.placement),R.rects&&(d=R.rects===!0?await s.getElementRects({reference:e,floating:n,strategy:i}):R.rects),{x:h,y:g}=ik(d,b,c)),y=-1)}return{x:h,y:g,placement:b,strategy:i,middlewareData:m}};async function SY(e,n){var t;n===void 0&&(n={});const{x:r,y:i,platform:a,rects:s,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:b=!1,padding:m=0}=Av(n,e),x=pO(m),A=l[b?g==="floating"?"reference":"floating":g],w=qx(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(A)))==null||t?A:A.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),C=g==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),F=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},R=qx(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:N,strategy:c}):C);return{top:(w.top-R.top+x.top)/F.y,bottom:(R.bottom-w.bottom+x.bottom)/F.y,left:(w.left-R.left+x.left)/F.x,right:(R.right-w.right+x.right)/F.x}}const AY=e=>({name:"arrow",options:e,async fn(n){const{x:t,y:r,placement:i,rects:a,platform:s,elements:l,middlewareData:c}=n,{element:d,padding:h=0}=Av(e,n)||{};if(d==null)return{};const g=pO(h),b={x:t,y:r},m=oA(i),x=sA(m),y=await s.getDimensions(d),A=m==="y",w=A?"top":"left",C=A?"bottom":"right",N=A?"clientHeight":"clientWidth",F=a.reference[x]+a.reference[m]-b[m]-a.floating[x],R=b[m]-a.reference[m],M=await(s.getOffsetParent==null?void 0:s.getOffsetParent(d));let k=M?M[N]:0;(!k||!await(s.isElement==null?void 0:s.isElement(M)))&&(k=l.floating[N]||a.floating[x]);const L=F/2-R/2,B=k/2-y[x]/2-1,Q=sm(g[w],B),j=sm(g[C],B),O=Q,z=k-y[x]-j,T=k/2-y[x]/2+L,G=aY(O,T,z),W=!c.arrow&&Kg(i)!=null&&T!==G&&a.reference[x]/2-(T<O?Q:j)-y[x]/2<0,X=W?T<O?T-O:T-z:0;return{[m]:b[m]+X,data:{[m]:G,centerOffset:T-G-X,...W&&{alignmentOffset:X}},reset:W}}}),CY=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:l,platform:c,elements:d}=n,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...A}=Av(e,n);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const w=om(i),C=Xh(l),N=om(l)===l,F=await(c.isRTL==null?void 0:c.isRTL(d.floating)),R=b||(N||!y?[zx(l)]:uY(l)),M=x!=="none";!b&&M&&R.push(...hY(l,y,x,F));const k=[l,...R],L=await SY(n,A),B=[];let Q=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&B.push(L[w]),g){const T=lY(i,s,F);B.push(L[T[0]],L[T[1]])}if(Q=[...Q,{placement:i,overflows:B}],!B.every(T=>T<=0)){var j,O;const T=(((j=a.flip)==null?void 0:j.index)||0)+1,G=k[T];if(G&&(!(g==="alignment"?C!==Xh(G):!1)||Q.every(ie=>ie.overflows[0]>0&&Xh(ie.placement)===C)))return{data:{index:T,overflows:Q},reset:{placement:G}};let W=(O=Q.filter(X=>X.overflows[0]<=0).sort((X,ie)=>X.overflows[1]-ie.overflows[1])[0])==null?void 0:O.placement;if(!W)switch(m){case"bestFit":{var z;const X=(z=Q.filter(ie=>{if(M){const ue=Xh(ie.placement);return ue===C||ue==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(ue=>ue>0).reduce((ue,$)=>ue+$,0)]).sort((ie,ue)=>ie[1]-ue[1])[0])==null?void 0:z[0];X&&(W=X);break}case"initialPlacement":W=l;break}if(i!==W)return{reset:{placement:W}}}return{}}}},EY=new Set(["left","top"]);async function _Y(e,n){const{placement:t,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=om(t),l=Kg(t),c=Xh(t)==="y",d=EY.has(s)?-1:1,h=a&&c?-1:1,g=Av(n,e);let{mainAxis:b,crossAxis:m,alignmentAxis:x}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*h,y:b*d}:{x:b*d,y:m*h}}const kY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,r;const{x:i,y:a,placement:s,middlewareData:l}=n,c=await _Y(n,e);return s===((t=l.offset)==null?void 0:t.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:s}}}}};function mO(e){const n=Ml(e);let t=parseFloat(n.width)||0,r=parseFloat(n.height)||0;const i=$c(e),a=i?e.offsetWidth:t,s=i?e.offsetHeight:r,l=Px(t)!==a||Px(r)!==s;return l&&(t=a,r=s),{width:t,height:r,$:l}}function lA(e){return no(e)?e:e.contextElement}function F0(e){const n=lA(e);if(!$c(n))return Oc(1);const t=n.getBoundingClientRect(),{width:r,height:i,$:a}=mO(n);let s=(a?Px(t.width):t.width)/r,l=(a?Px(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const jY=Oc(0);function gO(e){const n=Zo(e);return!aA()||!n.visualViewport?jY:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function NY(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==Zo(e)?!1:n}function gp(e,n,t,r){n===void 0&&(n=!1),t===void 0&&(t=!1);const i=e.getBoundingClientRect(),a=lA(e);let s=Oc(1);n&&(r?no(r)&&(s=F0(r)):s=F0(e));const l=NY(a,t,r)?gO(a):Oc(0);let c=(i.left+l.x)/s.x,d=(i.top+l.y)/s.y,h=i.width/s.x,g=i.height/s.y;if(a){const b=Zo(a),m=r&&no(r)?Zo(r):r;let x=b,y=SS(x);for(;y&&r&&m!==x;){const A=F0(y),w=y.getBoundingClientRect(),C=Ml(y),N=w.left+(y.clientLeft+parseFloat(C.paddingLeft))*A.x,F=w.top+(y.clientTop+parseFloat(C.paddingTop))*A.y;c*=A.x,d*=A.y,h*=A.x,g*=A.y,c+=N,d+=F,x=Zo(y),y=SS(x)}}return qx({width:h,height:g,x:c,y:d})}function uA(e,n){const t=Sv(e).scrollLeft;return n?n.left+t:gp(Vc(e)).left+t}function bO(e,n,t){t===void 0&&(t=!1);const r=e.getBoundingClientRect(),i=r.left+n.scrollLeft-(t?0:uA(e,r)),a=r.top+n.scrollTop;return{x:i,y:a}}function TY(e){let{elements:n,rect:t,offsetParent:r,strategy:i}=e;const a=i==="fixed",s=Vc(r),l=n?wv(n.floating):!1;if(r===s||l&&a)return t;let c={scrollLeft:0,scrollTop:0},d=Oc(1);const h=Oc(0),g=$c(r);if((g||!g&&!a)&&((dm(r)!=="body"||Qg(s))&&(c=Sv(r)),$c(r))){const m=gp(r);d=F0(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}const b=s&&!g&&!a?bO(s,c,!0):Oc(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-c.scrollLeft*d.x+h.x+b.x,y:t.y*d.y-c.scrollTop*d.y+h.y+b.y}}function OY(e){return Array.from(e.getClientRects())}function IY(e){const n=Vc(e),t=Sv(e),r=e.ownerDocument.body,i=ap(n.scrollWidth,n.clientWidth,r.scrollWidth,r.clientWidth),a=ap(n.scrollHeight,n.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+uA(e);const l=-t.scrollTop;return Ml(r).direction==="rtl"&&(s+=ap(n.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:l}}function DY(e,n){const t=Zo(e),r=Vc(e),i=t.visualViewport;let a=r.clientWidth,s=r.clientHeight,l=0,c=0;if(i){a=i.width,s=i.height;const d=aA();(!d||d&&n==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:l,y:c}}const LY=new Set(["absolute","fixed"]);function RY(e,n){const t=gp(e,!0,n==="fixed"),r=t.top+e.clientTop,i=t.left+e.clientLeft,a=$c(e)?F0(e):Oc(1),s=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,d=r*a.y;return{width:s,height:l,x:c,y:d}}function ak(e,n,t){let r;if(n==="viewport")r=DY(e,t);else if(n==="document")r=IY(Vc(e));else if(no(n))r=RY(n,t);else{const i=gO(e);r={x:n.x-i.x,y:n.y-i.y,width:n.width,height:n.height}}return qx(r)}function yO(e,n){const t=ah(e);return t===n||!no(t)||am(t)?!1:Ml(t).position==="fixed"||yO(t,n)}function MY(e,n){const t=n.get(e);if(t)return t;let r=Sg(e,[],!1).filter(l=>no(l)&&dm(l)!=="body"),i=null;const a=Ml(e).position==="fixed";let s=a?ah(e):e;for(;no(s)&&!am(s);){const l=Ml(s),c=iA(s);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&LY.has(i.position)||Qg(s)&&!c&&yO(e,s))?r=r.filter(h=>h!==s):i=l,s=ah(s)}return n.set(e,r),r}function FY(e){let{element:n,boundary:t,rootBoundary:r,strategy:i}=e;const s=[...t==="clippingAncestors"?wv(n)?[]:MY(n,this._c):[].concat(t),r],l=s[0],c=s.reduce((d,h)=>{const g=ak(n,h,i);return d.top=ap(g.top,d.top),d.right=sm(g.right,d.right),d.bottom=sm(g.bottom,d.bottom),d.left=ap(g.left,d.left),d},ak(n,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function PY(e){const{width:n,height:t}=mO(e);return{width:n,height:t}}function zY(e,n,t){const r=$c(n),i=Vc(n),a=t==="fixed",s=gp(e,!0,a,n);let l={scrollLeft:0,scrollTop:0};const c=Oc(0);function d(){c.x=uA(i)}if(r||!r&&!a)if((dm(n)!=="body"||Qg(i))&&(l=Sv(n)),r){const m=gp(n,!0,a,n);c.x=m.x+n.clientLeft,c.y=m.y+n.clientTop}else i&&d();a&&!r&&i&&d();const h=i&&!r&&!a?bO(i,l):Oc(0),g=s.left+l.scrollLeft-c.x-h.x,b=s.top+l.scrollTop-c.y-h.y;return{x:g,y:b,width:s.width,height:s.height}}function V5(e){return Ml(e).position==="static"}function sk(e,n){if(!$c(e)||Ml(e).position==="fixed")return null;if(n)return n(e);let t=e.offsetParent;return Vc(e)===t&&(t=t.ownerDocument.body),t}function xO(e,n){const t=Zo(e);if(wv(e))return t;if(!$c(e)){let i=ah(e);for(;i&&!am(i);){if(no(i)&&!V5(i))return i;i=ah(i)}return t}let r=sk(e,n);for(;r&&KV(r)&&V5(r);)r=sk(r,n);return r&&am(r)&&V5(r)&&!iA(r)?t:r||tY(e)||t}const qY=async function(e){const n=this.getOffsetParent||xO,t=this.getDimensions,r=await t(e.floating);return{reference:zY(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function BY(e){return Ml(e).direction==="rtl"}const UY={convertOffsetParentRelativeRectToViewportRelativeRect:TY,getDocumentElement:Vc,getClippingRect:FY,getOffsetParent:xO,getElementRects:qY,getClientRects:OY,getDimensions:PY,getScale:F0,isElement:no,isRTL:BY};function vO(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function $Y(e,n){let t=null,r;const i=Vc(e);function a(){var l;clearTimeout(r),(l=t)==null||l.disconnect(),t=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:h,top:g,width:b,height:m}=d;if(l||n(),!b||!m)return;const x=_y(g),y=_y(i.clientWidth-(h+b)),A=_y(i.clientHeight-(g+m)),w=_y(h),N={rootMargin:-x+"px "+-y+"px "+-A+"px "+-w+"px",threshold:ap(0,sm(1,c))||1};let F=!0;function R(M){const k=M[0].intersectionRatio;if(k!==c){if(!F)return s();k?s(!1,k):r=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!vO(d,e.getBoundingClientRect())&&s(),F=!1}try{t=new IntersectionObserver(R,{...N,root:i.ownerDocument})}catch{t=new IntersectionObserver(R,N)}t.observe(e)}return s(!0),a}function HY(e,n,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=lA(e),h=i||a?[...d?Sg(d):[],...Sg(n)]:[];h.forEach(w=>{i&&w.addEventListener("scroll",t,{passive:!0}),a&&w.addEventListener("resize",t)});const g=d&&l?$Y(d,t):null;let b=-1,m=null;s&&(m=new ResizeObserver(w=>{let[C]=w;C&&C.target===d&&m&&(m.unobserve(n),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var N;(N=m)==null||N.observe(n)})),t()}),d&&!c&&m.observe(d),m.observe(n));let x,y=c?gp(e):null;c&&A();function A(){const w=gp(e);y&&!vO(y,w)&&t(),y=w,x=requestAnimationFrame(A)}return t(),()=>{var w;h.forEach(C=>{i&&C.removeEventListener("scroll",t),a&&C.removeEventListener("resize",t)}),g==null||g(),(w=m)==null||w.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const WY=kY,VY=CY,ok=AY,YY=(e,n,t)=>{const r=new Map,i={platform:UY,...t},a={...i.platform,_c:r};return wY(e,n,{...i,platform:a})};var GY=typeof document<"u",QY=function(){},ex=GY?K.useLayoutEffect:QY;function Ux(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let t,r,i;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==n.length)return!1;for(r=t;r--!==0;)if(!Ux(e[r],n[r]))return!1;return!0}if(i=Object.keys(e),t=i.length,t!==Object.keys(n).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(n,i[r]))return!1;for(r=t;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Ux(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}function wO(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function lk(e,n){const t=wO(e);return Math.round(n*t)/t}function Y5(e){const n=K.useRef(e);return ex(()=>{n.current=e}),n}function KY(e){e===void 0&&(e={});const{placement:n="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:s}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[h,g]=K.useState({x:0,y:0,strategy:t,placement:n,middlewareData:{},isPositioned:!1}),[b,m]=K.useState(r);Ux(b,r)||m(r);const[x,y]=K.useState(null),[A,w]=K.useState(null),C=K.useCallback(ie=>{ie!==M.current&&(M.current=ie,y(ie))},[]),N=K.useCallback(ie=>{ie!==k.current&&(k.current=ie,w(ie))},[]),F=a||x,R=s||A,M=K.useRef(null),k=K.useRef(null),L=K.useRef(h),B=c!=null,Q=Y5(c),j=Y5(i),O=Y5(d),z=K.useCallback(()=>{if(!M.current||!k.current)return;const ie={placement:n,strategy:t,middleware:b};j.current&&(ie.platform=j.current),YY(M.current,k.current,ie).then(ue=>{const $={...ue,isPositioned:O.current!==!1};T.current&&!Ux(L.current,$)&&(L.current=$,eR.flushSync(()=>{g($)}))})},[b,n,t,j,O]);ex(()=>{d===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,g(ie=>({...ie,isPositioned:!1})))},[d]);const T=K.useRef(!1);ex(()=>(T.current=!0,()=>{T.current=!1}),[]),ex(()=>{if(F&&(M.current=F),R&&(k.current=R),F&&R){if(Q.current)return Q.current(F,R,z);z()}},[F,R,z,Q,B]);const G=K.useMemo(()=>({reference:M,floating:k,setReference:C,setFloating:N}),[C,N]),W=K.useMemo(()=>({reference:F,floating:R}),[F,R]),X=K.useMemo(()=>{const ie={position:t,left:0,top:0};if(!W.floating)return ie;const ue=lk(W.floating,h.x),$=lk(W.floating,h.y);return l?{...ie,transform:"translate("+ue+"px, "+$+"px)",...wO(W.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ue,top:$}},[t,l,W.floating,h.x,h.y]);return K.useMemo(()=>({...h,update:z,refs:G,elements:W,floatingStyles:X}),[h,z,G,W,X])}const XY=e=>{function n(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:r,padding:i}=typeof e=="function"?e(t):e;return r&&n(r)?r.current!=null?ok({element:r.current,padding:i}).fn(t):{}:r?ok({element:r,padding:i}).fn(t):{}}}},ZY=(e,n)=>({...WY(e),options:[e,n]}),JY=(e,n)=>({...VY(e),options:[e,n]}),eG=(e,n)=>({...XY(e),options:[e,n]}),tG={...x6};let uk=!1,nG=0;const ck=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+nG++;function rG(){const[e,n]=K.useState(()=>uk?ck():void 0);return Bx(()=>{e==null&&n(ck())},[]),K.useEffect(()=>{uk=!0},[]),e}const iG=tG.useId,SO=iG||rG,aG=K.forwardRef(function(n,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:a,shift:s}},width:l=14,height:c=7,tipRadius:d=0,strokeWidth:h=0,staticOffset:g,stroke:b,d:m,style:{transform:x,...y}={},...A}=n,w=SO(),[C,N]=K.useState(!1);if(Bx(()=>{if(!i)return;Ml(i).direction==="rtl"&&N(!0)},[i]),!i)return null;const[F,R]=r.split("-"),M=F==="top"||F==="bottom";let k=g;(M&&s!=null&&s.x||!M&&s!=null&&s.y)&&(k=null);const L=h*2,B=L/2,Q=l/2*(d/-8+1),j=c/2*d/4,O=!!m,z=k&&R==="end"?"bottom":"top";let T=k&&R==="end"?"right":"left";k&&C&&(T=R==="end"?"left":"right");const G=(a==null?void 0:a.x)!=null?k||a.x:"",W=(a==null?void 0:a.y)!=null?k||a.y:"",X=m||"M0,0"+(" H"+l)+(" L"+(l-Q)+","+(c-j))+(" Q"+l/2+","+c+" "+Q+","+(c-j))+" Z",ie={top:O?"rotate(180deg)":"",left:O?"rotate(90deg)":"rotate(-90deg)",bottom:O?"":"rotate(180deg)",right:O?"rotate(-90deg)":"rotate(90deg)"}[F];return f.jsxs("svg",{...A,"aria-hidden":!0,ref:t,width:O?l:l+L,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[T]:G,[z]:W,[F]:M||O?"100%":"calc(100% - "+L/2+"px)",transform:[ie,x].filter(ue=>!!ue).join(" "),...y},children:[L>0&&f.jsx("path",{clipPath:"url(#"+w+")",fill:"none",stroke:b,strokeWidth:L+(m?0:1),d:X}),f.jsx("path",{stroke:L&&!m?A.fill:"none",d:X}),f.jsx("clipPath",{id:w,children:f.jsx("rect",{x:-B,y:B*(O?-1:1),width:l+L,height:l})})]})});function sG(){const e=new Map;return{emit(n,t){var r;(r=e.get(n))==null||r.forEach(i=>i(t))},on(n,t){e.has(n)||e.set(n,new Set),e.get(n).add(t)},off(n,t){var r;(r=e.get(n))==null||r.delete(t)}}}const oG=K.createContext(null),lG=K.createContext(null),uG=()=>{var e;return((e=K.useContext(oG))==null?void 0:e.id)||null},cG=()=>K.useContext(lG);function dG(e){const{open:n=!1,onOpenChange:t,elements:r}=e,i=SO(),a=K.useRef({}),[s]=K.useState(()=>sG()),l=uG()!=null,[c,d]=K.useState(r.reference),h=vY((m,x,y)=>{a.current.openEvent=m?x:void 0,s.emit("openchange",{open:m,event:x,reason:y,nested:l}),t==null||t(m,x,y)}),g=K.useMemo(()=>({setPositionReference:d}),[]),b=K.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return K.useMemo(()=>({dataRef:a,open:n,onOpenChange:h,elements:b,events:s,floatingId:i,refs:g}),[n,h,b,s,i,g])}function fG(e){e===void 0&&(e={});const{nodeId:n}=e,t=dG({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||t,i=r.elements,[a,s]=K.useState(null),[l,c]=K.useState(null),h=(i==null?void 0:i.domReference)||a,g=K.useRef(null),b=cG();Bx(()=>{h&&(g.current=h)},[h]);const m=KY({...e,elements:{...i,...l&&{reference:l}}}),x=K.useCallback(N=>{const F=no(N)?{getBoundingClientRect:()=>N.getBoundingClientRect(),getClientRects:()=>N.getClientRects(),contextElement:N}:N;c(F),m.refs.setReference(F)},[m.refs]),y=K.useCallback(N=>{(no(N)||N===null)&&(g.current=N,s(N)),(no(m.refs.reference.current)||m.refs.reference.current===null||N!==null&&!no(N))&&m.refs.setReference(N)},[m.refs]),A=K.useMemo(()=>({...m.refs,setReference:y,setPositionReference:x,domReference:g}),[m.refs,y,x]),w=K.useMemo(()=>({...m.elements,domReference:h}),[m.elements,h]),C=K.useMemo(()=>({...m,...r,refs:A,elements:w,nodeId:n}),[m,A,w,n,r]);return Bx(()=>{r.dataRef.current.floatingContext=C;const N=b==null?void 0:b.nodesRef.current.find(F=>F.id===n);N&&(N.context=C)}),K.useMemo(()=>({...m,context:C,refs:A,elements:w}),[m,A,w,C])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var CS=function(n,t){return CS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])},CS(n,t)};function rs(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");CS(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}var ir=function(){return ir=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},ir.apply(this,arguments)};function Ec(e,n,t){if(t||arguments.length===2)for(var r=0,i=n.length,a;r<i;r++)(a||!(r in n))&&(a||(a=Array.prototype.slice.call(n,0,r)),a[r]=n[r]);return e.concat(a||Array.prototype.slice.call(n))}var hG=function(e){var n=e.showTimeSelectOnly,t=n===void 0?!1:n,r=e.showTime,i=r===void 0?!1:r,a=e.className,s=e.children,l=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return it.createElement("div",{className:a,role:"dialog","aria-label":l,"aria-modal":"true"},s)},pG=function(e,n){var t=K.useRef(null),r=K.useRef(e);r.current=e;var i=K.useCallback(function(a){var s;t.current&&!t.current.contains(a.target)&&(n&&a.target instanceof HTMLElement&&a.target.classList.contains(n)||(s=r.current)===null||s===void 0||s.call(r,a))},[n]);return K.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},Cv=function(e){var n=e.children,t=e.onClickOutside,r=e.className,i=e.containerRef,a=e.style,s=e.ignoreClass,l=pG(t,s);return it.createElement("div",{className:r,style:a,ref:function(c){l.current=c,i&&(i.current=c)}},n)},It;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(It||(It={}));function AO(){var e=typeof window<"u"?window:globalThis;return e}var Xg=12,mG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function Rr(e){if(e==null)return new Date;var n=typeof e=="string"?OV(e):Rt(e);return Ad(n)?n:new Date}function G5(e,n,t,r,i){var a,s=null,l=sp(t)||sp(Z1()),c=!0;if(Array.isArray(n))return n.forEach(function(h){var g=H5(e,h,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(c=Ad(g,i)&&e===pi(g,h,t)),Ad(g,i)&&c&&(s=g)}),s;if(s=H5(e,n,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)c=Ad(s)&&e===pi(s,n,t);else if(!Ad(s)){var d=((a=n.match(mG))!==null&&a!==void 0?a:[]).map(function(h){var g=h[0];if(g==="p"||g==="P"){var b=Mx[g];return l?b(h,l.formatLong):g}return h}).join("");e.length>0&&(s=H5(e,d.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Ad(s)||(s=new Date(e))}return Ad(s)&&c?s:null}function Ad(e,n){return Ix(e)&&!mp(e,n??new Date("1/1/1800"))}function pi(e,n,t){if(t==="en")return Z8(e,n,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?sp(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),!r&&Z1()&&sp(Z1())&&(r=sp(Z1())),Z8(e,n,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function El(e,n){var t=n.dateFormat,r=n.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return e&&pi(e,i,r)||""}function gG(e,n,t){if(!e)return"";var r=El(e,t),i=n?El(n,t):"";return"".concat(r," - ").concat(i)}function bG(e,n){if(!(e!=null&&e.length))return"";var t=e[0]?El(e[0],n):"";if(e.length===1)return t;if(e.length===2&&e[1]){var r=El(e[1],n);return"".concat(t,", ").concat(r)}var i=e.length-1;return"".concat(t," (+").concat(i,")")}function Q5(e,n){var t=n.hour,r=t===void 0?0:t,i=n.minute,a=i===void 0?0:i,s=n.second,l=s===void 0?0:s;return Xy(Zy(Jy(e,l),a),r)}function yG(e){return eA(e)}function xG(e,n){return pi(e,"ddd",n)}function tx(e){return pp(e)}function eh(e,n,t){var r=sp(n||Z1());return Ud(e,{locale:r,weekStartsOn:t})}function Fd(e){return J7(e)}function Y1(e){return xv(e)}function dk(e){return xS(e)}function fk(){return pp(Rr())}function hk(e){return X7(e)}function vG(e){return MH(e)}function wG(e){return Z7(e)}function bc(e,n){return e&&n?NV(e,n):!e&&!n}function eo(e,n){return e&&n?kV(e,n):!e&&!n}function $x(e,n){return e&&n?jV(e,n):!e&&!n}function Xn(e,n){return e&&n?LH(e,n):!e&&!n}function Zh(e,n){return e&&n?IW(e,n):!e&&!n}function G1(e,n,t){var r,i=pp(n),a=X7(t);try{r=wg(e,{start:i,end:a})}catch{r=!1}return r}function Z1(){var e=AO();return e.__localeId__}function sp(e){if(typeof e=="string"){var n=AO();return n.__localeData__?n.__localeData__[e]:void 0}else return e}function SG(e,n,t){return n(pi(e,"EEEE",t))}function AG(e,n){return pi(e,"EEEEEE",n)}function CG(e,n){return pi(e,"EEE",n)}function cA(e,n){return pi(Ho(Rr(),e),"LLLL",n)}function CO(e,n){return pi(Ho(Rr(),e),"LLL",n)}function EG(e,n){return pi(N0(Rr(),e),"QQQ",n)}function jl(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.excludeDateIntervals,l=t.includeDates,c=t.includeDateIntervals,d=t.filterDate;return Zg(e,{minDate:r,maxDate:i})||a&&a.some(function(h){return h instanceof Date?Xn(e,h):Xn(e,h.date)})||s&&s.some(function(h){var g=h.start,b=h.end;return wg(e,{start:g,end:b})})||l&&!l.some(function(h){return Xn(e,h)})||c&&!c.some(function(h){var g=h.start,b=h.end;return wg(e,{start:g,end:b})})||d&&!d(Rr(e))||!1}function dA(e,n){var t=n===void 0?{}:n,r=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var s=a.start,l=a.end;return wg(e,{start:s,end:l})}):r&&r.some(function(a){var s;return a instanceof Date?Xn(e,a):Xn(e,(s=a.date)!==null&&s!==void 0?s:new Date)})||!1}function EO(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate;return Zg(e,{minDate:r?J7(r):void 0,maxDate:i?Z7(i):void 0})||(a==null?void 0:a.some(function(c){return eo(e,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return eo(e,c)})||l&&!l(Rr(e))||!1}function ky(e,n,t,r){var i=Pn(e),a=to(e),s=Pn(n),l=to(n),c=Pn(r);return i===s&&i===c?a<=t&&t<=l:i<s?c===i&&a<=t||c===s&&l>=t||c<s&&c>i:!1}function _G(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates;return Zg(e,{minDate:r,maxDate:i})||a&&a.some(function(l){return eo(l instanceof Date?l:l.date,e)})||s&&!s.some(function(l){return eo(l,e)})||!1}function jy(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate;return Zg(e,{minDate:r,maxDate:i})||(a==null?void 0:a.some(function(c){return $x(e,c instanceof Date?c:c.date)}))||s&&!s.some(function(c){return $x(e,c)})||l&&!l(Rr(e))||!1}function Ny(e,n,t){if(!n||!t||!Ix(n)||!Ix(t))return!1;var r=Pn(n),i=Pn(t);return r<=e&&i>=e}function nx(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.maxDate,a=t.excludeDates,s=t.includeDates,l=t.filterDate,c=new Date(e,0,1);return Zg(c,{minDate:r?xv(r):void 0,maxDate:i?eO(i):void 0})||(a==null?void 0:a.some(function(d){return bc(c,d instanceof Date?d:d.date)}))||s&&!s.some(function(d){return bc(c,d)})||l&&!l(Rr(c))||!1}function Ty(e,n,t,r){var i=Pn(e),a=rp(e),s=Pn(n),l=rp(n),c=Pn(r);return i===s&&i===c?a<=t&&t<=l:i<s?c===i&&a<=t||c===s&&l>=t||c<s&&c>i:!1}function Zg(e,n){var t,r=n===void 0?{}:n,i=r.minDate,a=r.maxDate;return(t=i&&rm(e,i)<0||a&&rm(e,a)>0)!==null&&t!==void 0?t:!1}function pk(e,n){return n.some(function(t){return Nc(t)===Nc(e)&&Tc(t)===Tc(e)&&Md(t)===Md(e)})}function mk(e,n){var t=n===void 0?{}:n,r=t.excludeTimes,i=t.includeTimes,a=t.filterTime;return r&&pk(e,r)||i&&!pk(e,i)||a&&!a(e)||!1}function gk(e,n){var t=n.minTime,r=n.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=Rr();i=Xy(i,Nc(e)),i=Zy(i,Tc(e)),i=Jy(i,Md(e));var a=Rr();a=Xy(a,Nc(t)),a=Zy(a,Tc(t)),a=Jy(a,Md(t));var s=Rr();s=Xy(s,Nc(r)),s=Zy(s,Tc(r)),s=Jy(s,Md(r));var l;try{l=!wg(i,{start:a,end:s})}catch{l=!1}return l}function bk(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=ip(e,1);return r&&Dx(r,a)>0||i&&i.every(function(s){return Dx(s,a)>0})||!1}function yk(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=Eu(e,1);return r&&Dx(a,r)>0||i&&i.every(function(s){return Dx(a,s)>0})||!1}function kG(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=xv(e),s=dO(a);return r&&Lx(r,s)>0||i&&i.every(function(l){return Lx(l,s)>0})||!1}function jG(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=eO(e),s=J6(a,1);return r&&Lx(s,r)>0||i&&i.every(function(l){return Lx(s,l)>0})||!1}function xk(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.includeDates,a=im(e,1);return r&&Rx(r,a)>0||i&&i.every(function(s){return Rx(s,a)>0})||!1}function NG(e,n){var t=n===void 0?{}:n,r=t.minDate,i=t.yearItemNumber,a=i===void 0?Xg:i,s=Y1(im(e,a)),l=Vf(s,a).endPeriod,c=r&&Pn(r);return c&&c>l||!1}function vk(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.includeDates,a=Ld(e,1);return r&&Rx(a,r)>0||i&&i.every(function(s){return Rx(a,s)>0})||!1}function TG(e,n){var t=n===void 0?{}:n,r=t.maxDate,i=t.yearItemNumber,a=i===void 0?Xg:i,s=Ld(e,a),l=Vf(s,a).startPeriod,c=r&&Pn(r);return c&&c<l||!1}function _O(e){var n=e.minDate,t=e.includeDates;if(t&&n){var r=t.filter(function(i){return rm(i,n)>=0});return V8(r)}else return t?V8(t):n}function kO(e){var n=e.maxDate,t=e.includeDates;if(t&&n){var r=t.filter(function(i){return rm(i,n)<=0});return W8(r)}else return t?W8(t):n}function wk(e,n){var t;e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--highlighted");for(var r=new Map,i=0,a=e.length;i<a;i++){var s=e[i];if(Rd(s)){var l=pi(s,"MM.dd.yyyy"),c=r.get(l)||[];c.includes(n)||(c.push(n),r.set(l,c))}else if(typeof s=="object"){var d=Object.keys(s),h=(t=d[0])!==null&&t!==void 0?t:"",g=s[h];if(typeof h=="string"&&Array.isArray(g))for(var b=0,m=g.length;b<m;b++){var x=g[b];if(x){var l=pi(x,"MM.dd.yyyy"),c=r.get(l)||[];c.includes(h)||(c.push(h),r.set(l,c))}}}}return r}function OG(e,n){return e.length!==n.length?!1:e.every(function(t,r){return t===n[r]})}function IG(e,n){e===void 0&&(e=[]),n===void 0&&(n="react-datepicker__day--holidays");var t=new Map;return e.forEach(function(r){var i=r.date,a=r.holidayName;if(Rd(i)){var s=pi(i,"MM.dd.yyyy"),l=t.get(s)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===n&&OG(l.holidayNames,[a]))){l.className=n;var c=l.holidayNames;l.holidayNames=c?Ec(Ec([],c,!0),[a],!1):[a],t.set(s,l)}}}),t}function DG(e,n,t,r,i){for(var a=i.length,s=[],l=0;l<a;l++){var c=e,d=i[l];d&&(c=TH(c,Nc(d)),c=yS(c,Tc(d)),c=DH(c,Md(d)));var h=yS(e,(t+1)*r);ih(c,n)&&mp(c,h)&&d!=null&&s.push(d)}return s}function Sk(e){return e<10?"0".concat(e):"".concat(e)}function Vf(e,n){n===void 0&&(n=Xg);var t=Math.ceil(Pn(e)/n)*n,r=t-(n-1);return{startPeriod:r,endPeriod:t}}function LG(e){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+t-+n)/36e5)}function Ak(e){var n=e.getSeconds(),t=e.getMilliseconds();return Rt(e.getTime()-n*1e3-t)}function RG(e,n){return Ak(e).getTime()===Ak(n).getTime()}function Ck(e){if(!Rd(e))throw new Error("Invalid date");var n=new Date(e);return n.setHours(0,0,0,0),n}function Ek(e,n){if(!Rd(e)||!Rd(n))throw new Error("Invalid date received");var t=Ck(e),r=Ck(n);return mp(t,r)}function jO(e){return e.key===It.Space}var MG=function(e){rs(n,e);function n(t){var r=e.call(this,t)||this;return r.inputRef=it.createRef(),r.onTimeChange=function(i){var a,s;r.setState({time:i});var l=r.props.date,c=l instanceof Date&&!isNaN(+l),d=c?l:new Date;if(i!=null&&i.includes(":")){var h=i.split(":"),g=h[0],b=h[1];d.setHours(Number(g)),d.setMinutes(Number(b))}(s=(a=r.props).onChange)===null||s===void 0||s.call(a,d)},r.renderTimeInput=function(){var i=r.state.time,a=r.props,s=a.date,l=a.timeString,c=a.customTimeInput;return c?K.cloneElement(c,{date:s,value:i,onChange:r.onTimeChange}):it.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var d;(d=r.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:i,onChange:function(d){r.onTimeChange(d.target.value||l)}})},r.state={time:r.props.timeString},r}return n.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},n.prototype.render=function(){return it.createElement("div",{className:"react-datepicker__input-time-container"},it.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),it.createElement("div",{className:"react-datepicker-time__input-container"},it.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},n}(K.Component),FG=function(e){rs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=K.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var i,a,s=r.key;s===It.Space&&(r.preventDefault(),r.key=It.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},t.isSameDay=function(r){return Xn(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(s){return t.isSameDayOrWeek(s)}):t.isSameDayOrWeek(t.props.selected),a=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!a},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),jl(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return dA(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Xn(t.props.day,eh(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&Xn(r,eh(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,i=r.day,a=r.highlightDates;if(!a)return!1;var s=pi(i,"MM.dd.yyyy");return a.get(s)},t.getHolidaysClass=function(){var r,i=t.props,a=i.day,s=i.holidays;if(!s)return[void 0];var l=pi(a,"MM.dd.yyyy");return s.has(l)?[(r=s.get(l))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:G1(i,a,s)},t.isInSelectingRange=function(){var r,i=t.props,a=i.day,s=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,d=i.selectsDisabledDaysInRange,h=i.startDate,g=i.endDate,b=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(s||l||c)||!b||!d&&t.isDisabled()?!1:s&&g&&(mp(b,g)||Zh(b,g))?G1(a,b,g):l&&h&&(ih(b,h)||Zh(b,h))||c&&h&&!g&&(ih(b,h)||Zh(b,h))?G1(a,h,b):!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,s=i.startDate,l=i.selectsStart,c=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return l?Xn(a,c):Xn(a,s)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,s=i.endDate,l=i.selectsEnd,c=i.selectsRange,d=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return l||c?Xn(a,d):Xn(a,s)},t.isRangeStart=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:Xn(a,i)},t.isRangeEnd=function(){var r=t.props,i=r.day,a=r.startDate,s=r.endDate;return!a||!s?!1:Xn(s,i)},t.isWeekend=function(){var r=jW(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===to(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(to(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Rr())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var i=t.props.dayClassName?t.props.dayClassName(r):void 0;return gs("react-datepicker__day",i,"react-datepicker__day--"+xG(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,i=r.day,a=r.ariaLabelPrefixWhenEnabled,s=a===void 0?"Choose":a,l=r.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,d=t.isDisabled()||t.isExcluded()?c:s;return"".concat(d," ").concat(pi(i,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,i=r.day,a=r.holidays,s=a===void 0?new Map:a,l=r.excludeDates,c=pi(i,"MM.dd.yyyy"),d=[];return s.has(c)&&d.push.apply(d,s.get(c).holidayNames),t.isExcluded()&&d.push(l==null?void 0:l.filter(function(h){return h instanceof Date?Xn(h,i):Xn(h==null?void 0:h.date,i)}).map(function(h){if(!(h instanceof Date))return h==null?void 0:h.message})),d.join(", ")},t.getTabIndex=function(){var r=t.props.selected,i=t.props.preSelection,a=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&Xn(i,r))?0:-1;return a},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(J8(t.props.day),t.props.day):J8(t.props.day)},t.render=function(){return it.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&it.createElement("span",{className:"overlay"},t.getTitle()))},t}return n.prototype.componentDidMount=function(){this.handleFocusDay()},n.prototype.componentDidUpdate=function(){this.handleFocusDay()},n.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},n.prototype.isDayActiveElement=function(){var t,r,i;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},n.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},n}(K.Component),PG=function(e){rs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=K.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var i,a,s=r.key;s===It.Space&&(r.preventDefault(),r.key=It.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Xn(t.props.date,t.props.selected)&&Xn(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Xn(t.props.date,t.props.selected)&&Xn(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var i=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Xn(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},n.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},n.prototype.render=function(){var t=this.props,r=t.weekNumber,i=t.isWeekDisabled,a=t.ariaLabelPrefix,s=a===void 0?n.defaultProps.ariaLabelPrefix:a,l=t.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!i,"react-datepicker__week-number--selected":!!l&&Xn(this.props.date,this.props.selected)};return it.createElement("div",{ref:this.weekNumberEl,className:gs(c),"aria-label":"".concat(s," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},n}(K.Component),zG=function(e){rs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDisabled=function(r){return jl(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,i){t.props.onDayClick&&t.props.onDayClick(r,i)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,i,a){for(var s,l,c,d=new Date(r),h=0;h<7;h++){var g=new Date(r);g.setDate(g.getDate()+h);var b=!t.isDisabled(g);if(b){d=g;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,i,a),t.props.showWeekPicker&&t.handleDayClick(d,a),((s=t.props.shouldCloseOnSelect)!==null&&s!==void 0?s:n.defaultProps.shouldCloseOnSelect)&&((c=(l=t.props).setOpen)===null||c===void 0||c.call(l,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):yG(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),i=Au(r,6),a=new Date(r);a<=i;){if(!t.isDisabled(a))return!1;a=Au(a,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),i=[],a=t.formatWeekNumber(r);if(t.props.showWeekNumber){var s=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,a):void 0;i.push(it.createElement(PG,ir({key:"W"},n.defaultProps,t.props,{weekNumber:a,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:s})))}return i.concat([0,1,2,3,4,5,6].map(function(l){var c=Au(r,l);return it.createElement(FG,ir({},n.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:t.handleDayClick.bind(t,c),onMouseEnter:t.handleDayMouseEnter.bind(t,c)}))}))},t.startOfWeek=function(){return eh(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Xn(t.startOfWeek(),t.props.selected)&&Xn(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Xn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return it.createElement("div",{className:gs(t)},this.renderDays())},n}(K.Component),y1,qG=6,P0={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},K5=(y1={},y1[P0.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},y1[P0.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},y1[P0.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},y1),Oy=1;function _k(e,n){return e?P0.FOUR_COLUMNS:n?P0.TWO_COLUMNS:P0.THREE_COLUMNS}var BG=function(e){rs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=Ec([],Array(12),!0).map(function(){return K.createRef()}),t.QUARTER_REFS=Ec([],Array(4),!0).map(function(){return K.createRef()}),t.isDisabled=function(r){return jl(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(r){return dA(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,i){var a,s;(s=(a=t.props).onDayClick)===null||s===void 0||s.call(a,r,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var i,a;(a=(i=t.props).onDayMouseEnter)===null||a===void 0||a.call(i,r)},t.handleMouseLeave=function(){var r,i;(i=(r=t.props).onMouseLeave)===null||i===void 0||i.call(r)},t.isRangeStartMonth=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:eo(Ho(a,r),s)},t.isRangeStartQuarter=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:$x(N0(a,r),s)},t.isRangeEndMonth=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:eo(Ho(a,r),l)},t.isRangeEndQuarter=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate;return!s||!l?!1:$x(N0(a,r),l)},t.isInSelectingRangeMonth=function(r){var i,a=t.props,s=a.day,l=a.selectsStart,c=a.selectsEnd,d=a.selectsRange,h=a.startDate,g=a.endDate,b=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(l||c||d)||!b?!1:l&&g?ky(b,g,r,s):c&&h||d&&h&&!g?ky(h,b,r,s):!1},t.isSelectingMonthRangeStart=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,s=a.day,l=a.startDate,c=a.selectsStart,d=Ho(s,r),h=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return c?eo(d,h):eo(d,l)},t.isSelectingMonthRangeEnd=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var a=t.props,s=a.day,l=a.endDate,c=a.selectsEnd,d=a.selectsRange,h=Ho(s,r),g=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return c||d?eo(h,g):eo(h,l)},t.isInSelectingRangeQuarter=function(r){var i,a=t.props,s=a.day,l=a.selectsStart,c=a.selectsEnd,d=a.selectsRange,h=a.startDate,g=a.endDate,b=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(l||c||d)||!b?!1:l&&g?Ty(b,g,r,s):c&&h||d&&h&&!g?Ty(h,b,r,s):!1},t.isWeekInMonth=function(r){var i=t.props.day,a=Au(r,6);return eo(r,i)||eo(a,i)},t.isCurrentMonth=function(r,i){return Pn(r)===Pn(Rr())&&i===to(Rr())},t.isCurrentQuarter=function(r,i){return Pn(r)===Pn(Rr())&&i===rp(Rr())},t.isSelectedMonth=function(r,i,a){return to(a)===i&&Pn(r)===Pn(a)},t.isSelectMonthInList=function(r,i,a){return a.some(function(s){return t.isSelectedMonth(r,i,s)})},t.isSelectedQuarter=function(r,i,a){return rp(r)===i&&Pn(r)===Pn(a)},t.renderWeeks=function(){for(var r=[],i=t.props.fixedHeight,a=0,s=!1,l=eh(Fd(t.props.day),t.props.locale,t.props.calendarStartDay),c=function(x){return t.props.showWeekPicker?eh(x,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(x){return t.props.showWeekPicker?eh(x,t.props.locale,t.props.calendarStartDay):t.props.selected},h=t.props.selected?d(t.props.selected):void 0,g=t.props.preSelection?c(t.props.preSelection):void 0;r.push(it.createElement(zG,ir({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:l,month:to(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:h,preSelection:g,showWeekNumber:t.props.showWeekNumbers}))),!s;){a++,l=Ox(l,1);var b=i&&a>=qG,m=!i&&!t.isWeekInMonth(l);if(b||m)if(t.props.peekNextMonth)s=!0;else break}return r},t.onMonthClick=function(r,i){var a=t.isMonthDisabledForLabelDate(i),s=a.isDisabled,l=a.labelDate;s||t.handleDayClick(Fd(l),r)},t.onMonthMouseEnter=function(r){var i=t.isMonthDisabledForLabelDate(r),a=i.isDisabled,s=i.labelDate;a||t.handleDayMouseEnter(Fd(s))},t.handleMonthNavigation=function(r,i){var a,s,l,c;(s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,i),(c=(l=t.MONTH_REFS[r])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},t.handleKeyboardNavigation=function(r,i,a){var s,l=t.props,c=l.selected,d=l.preSelection,h=l.setPreSelection,g=l.minDate,b=l.maxDate,m=l.showFourColumnMonthYearPicker,x=l.showTwoColumnMonthYearPicker;if(d){var y=_k(m,x),A=t.getVerticalOffset(y),w=(s=K5[y])===null||s===void 0?void 0:s.grid,C=function(k,L,B){var Q,j,O=L,z=B;switch(k){case It.ArrowRight:O=Eu(L,Oy),z=B===11?0:B+Oy;break;case It.ArrowLeft:O=ip(L,Oy),z=B===0?11:B-Oy;break;case It.ArrowUp:O=ip(L,A),z=!((Q=w==null?void 0:w[0])===null||Q===void 0)&&Q.includes(B)?B+12-A:B-A;break;case It.ArrowDown:O=Eu(L,A),z=!((j=w==null?void 0:w[w.length-1])===null||j===void 0)&&j.includes(B)?B-12+A:B+A;break}return{newCalculatedDate:O,newCalculatedMonth:z}},N=function(k,L,B){for(var Q=40,j=k,O=!1,z=0,T=C(j,L,B),G=T.newCalculatedDate,W=T.newCalculatedMonth;!O;){if(z>=Q){G=L,W=B;break}if(g&&G<g){j=It.ArrowRight;var X=C(j,G,W);G=X.newCalculatedDate,W=X.newCalculatedMonth}if(b&&G>b){j=It.ArrowLeft;var X=C(j,G,W);G=X.newCalculatedDate,W=X.newCalculatedMonth}if(_G(G,t.props)){var X=C(j,G,W);G=X.newCalculatedDate,W=X.newCalculatedMonth}else O=!0;z++}return{newCalculatedDate:G,newCalculatedMonth:W}};if(i===It.Enter){t.isMonthDisabled(a)||(t.onMonthClick(r,a),h==null||h(c));return}var F=N(i,d,a),R=F.newCalculatedDate,M=F.newCalculatedMonth;switch(i){case It.ArrowRight:case It.ArrowLeft:case It.ArrowUp:case It.ArrowDown:t.handleMonthNavigation(M,R);break}}},t.getVerticalOffset=function(r){var i,a;return(a=(i=K5[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},t.onMonthKeyDown=function(r,i){var a=t.props,s=a.disabledKeyboardNavigation,l=a.handleOnMonthKeyDown,c=r.key;c!==It.Tab&&r.preventDefault(),s||t.handleKeyboardNavigation(r,c,i),l&&l(r)},t.onQuarterClick=function(r,i){var a=N0(t.props.day,i);jy(a,t.props)||t.handleDayClick(dk(a),r)},t.onQuarterMouseEnter=function(r){var i=N0(t.props.day,r);jy(i,t.props)||t.handleDayMouseEnter(dk(i))},t.handleQuarterNavigation=function(r,i){var a,s,l,c;t.isDisabled(i)||t.isExcluded(i)||((s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,i),(c=(l=t.QUARTER_REFS[r-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},t.onQuarterKeyDown=function(r,i){var a,s,l=r.key;if(!t.props.disabledKeyboardNavigation)switch(l){case It.Enter:t.onQuarterClick(r,i),(s=(a=t.props).setPreSelection)===null||s===void 0||s.call(a,t.props.selected);break;case It.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,J6(t.props.preSelection,1));break;case It.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,dO(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var i,a=t.props,s=a.day,l=a.minDate,c=a.maxDate,d=a.excludeDates,h=a.includeDates,g=Ho(s,r);return{isDisabled:(i=(l||c||d||h)&&EO(g,t.props))!==null&&i!==void 0?i:!1,labelDate:g}},t.isMonthDisabled=function(r){var i=t.isMonthDisabledForLabelDate(r).isDisabled;return i},t.getMonthClassNames=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate,c=i.preSelection,d=i.monthClassName,h=d?d(Ho(a,r)):void 0,g=t.getSelection();return gs("react-datepicker__month-text","react-datepicker__month-".concat(r),h,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":g?t.isSelectMonthInList(a,r,g):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&c&&t.isSelectedMonth(a,r,c)&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":s&&l?ky(s,l,r,a):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(a,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=to(t.props.preSelection),a=t.isMonthDisabledForLabelDate(i).isDisabled,s=r===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=rp(t.props.preSelection),a=jy(t.props.day,t.props),s=r===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return s},t.getAriaLabel=function(r){var i=t.props,a=i.chooseDayAriaLabelPrefix,s=a===void 0?"Choose":a,l=i.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,d=i.day,h=i.locale,g=Ho(d,r),b=t.isDisabled(g)||t.isExcluded(g)?c:s;return"".concat(b," ").concat(pi(g,"MMMM yyyy",h))},t.getQuarterClassNames=function(r){var i=t.props,a=i.day,s=i.startDate,l=i.endDate,c=i.selected,d=i.minDate,h=i.maxDate,g=i.excludeDates,b=i.includeDates,m=i.filterDate,x=i.preSelection,y=i.disabledKeyboardNavigation,A=(d||h||g||b||m)&&jy(N0(a,r),t.props);return gs("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":A,"react-datepicker__quarter-text--selected":c?t.isSelectedQuarter(a,r,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!y&&x&&t.isSelectedQuarter(a,r,x)&&!A,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":s&&l?Ty(s,l,r,a):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r)})},t.getMonthContent=function(r){var i=t.props,a=i.showFullMonthYearPicker,s=i.renderMonthContent,l=i.locale,c=i.day,d=CO(r,l),h=cA(r,l);return s?s(r,d,h,c):a?h:d},t.getQuarterContent=function(r){var i,a=t.props,s=a.renderQuarterContent,l=a.locale,c=EG(r,l);return(i=s==null?void 0:s(r,c))!==null&&i!==void 0?i:c},t.renderMonths=function(){var r,i=t.props,a=i.showTwoColumnMonthYearPicker,s=i.showFourColumnMonthYearPicker,l=i.day,c=i.selected,d=(r=K5[_k(s,a)])===null||r===void 0?void 0:r.grid;return d==null?void 0:d.map(function(h,g){return it.createElement("div",{className:"react-datepicker__month-wrapper",key:g},h.map(function(b,m){return it.createElement("div",{ref:t.MONTH_REFS[b],key:m,onClick:function(x){t.onMonthClick(x,b)},onKeyDown:function(x){jO(x)&&(x.preventDefault(),x.key=It.Enter),t.onMonthKeyDown(x,b)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(b)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(b)}:void 0,tabIndex:Number(t.getTabIndex(b)),className:t.getMonthClassNames(b),"aria-disabled":t.isMonthDisabled(b),role:"option","aria-label":t.getAriaLabel(b),"aria-current":t.isCurrentMonth(l,b)?"date":void 0,"aria-selected":c?t.isSelectedMonth(l,b,c):void 0},t.getMonthContent(b))}))})},t.renderQuarters=function(){var r=t.props,i=r.day,a=r.selected,s=[1,2,3,4];return it.createElement("div",{className:"react-datepicker__quarter-wrapper"},s.map(function(l,c){return it.createElement("div",{key:c,ref:t.QUARTER_REFS[c],role:"option",onClick:function(d){t.onQuarterClick(d,l)},onKeyDown:function(d){t.onQuarterKeyDown(d,l)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(l)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(l)}:void 0,className:t.getQuarterClassNames(l),"aria-selected":a?t.isSelectedQuarter(i,l,a):void 0,tabIndex:Number(t.getQuarterTabIndex(l)),"aria-current":t.isCurrentQuarter(i,l)?"date":void 0},t.getQuarterContent(l))}))},t.getClassNames=function(){var r=t.props,i=r.selectingDate,a=r.selectsStart,s=r.selectsEnd,l=r.showMonthYearPicker,c=r.showQuarterYearPicker,d=r.showWeekPicker;return gs("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||s)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":d})},t}return n.prototype.getSelection=function(){var t=this.props,r=t.selected,i=t.selectedDates,a=t.selectsMultiple;if(a)return i;if(r)return[r]},n.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,i=t.showQuarterYearPicker,a=t.day,s=t.ariaLabelPrefix,l=s===void 0?"Month ":s,c=l?l.trim()+" ":"";return it.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(pi(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},n}(K.Component),UG=function(e){rs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(r){return t.props.month===r},t.renderOptions=function(){return t.props.monthNames.map(function(r,i){return it.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?it.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return n.prototype.render=function(){return it.createElement(Cv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},n}(K.Component),$G=function(e){rs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(i,a){return it.createElement("option",{key:i,value:a},i)})},t.renderSelectMode=function(r){return it.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,i){return it.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},it.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),it.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(r){return it.createElement(UG,ir({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var i=t.state.dropdownVisible,a=[t.renderReadView(!i,r)];return i&&a.unshift(t.renderDropdown(r)),a},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return CO(a,t.props.locale)}:function(a){return cA(a,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return it.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},n}(K.Component);function HG(e,n){for(var t=[],r=Fd(e),i=Fd(n);!ih(r,i);)t.push(Rr(r)),r=Eu(r,1);return t}var WG=function(e){rs(n,e);function n(t){var r=e.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var a=wS(i),s=bc(r.props.date,i)&&eo(r.props.date,i);return it.createElement("div",{className:s?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:r.onChange.bind(r,a),"aria-selected":s?"true":void 0},s?it.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",pi(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:HG(r.props.minDate,r.props.maxDate)},r}return n.prototype.render=function(){var t=gs({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return it.createElement(Cv,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(K.Component),VG=function(e){rs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=Fd(t.props.minDate),i=Fd(t.props.maxDate),a=[];!ih(r,i);){var s=wS(r);a.push(it.createElement("option",{key:s,value:s},pi(r,t.props.dateFormat,t.props.locale))),r=Eu(r,1)}return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return it.createElement("select",{value:wS(Fd(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var i=pi(t.props.date,t.props.dateFormat,t.props.locale);return it.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},it.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),it.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return it.createElement(WG,ir({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown();var i=Rr(r);bc(t.props.date,i)&&eo(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return it.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(K.Component),YG=function(e){rs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,a;t.list&&(t.list.scrollTop=(a=t.centerLi&&n.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&a!==void 0?a:0)})},t.handleClick=function(r){var i,a;(t.props.minTime||t.props.maxTime)&&gk(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&mk(r,t.props)||(a=(i=t.props).onChange)===null||a===void 0||a.call(i,r)},t.isSelectedTime=function(r){return t.props.selected&&RG(t.props.selected,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&gk(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&mk(r,t.props)},t.liClasses=function(r){var i,a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Nc(r)*3600+Tc(r)*60+Md(r))%(((i=t.props.intervals)!==null&&i!==void 0?i:n.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},t.handleOnKeyDown=function(r,i){var a,s;r.key===It.Space&&(r.preventDefault(),r.key=It.Enter),(r.key===It.ArrowUp||r.key===It.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===It.ArrowDown||r.key===It.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===It.Enter&&t.handleClick(i),(s=(a=t.props).handleOnKeyDown)===null||s===void 0||s.call(a,r)},t.renderTimes=function(){for(var r,i=[],a=typeof t.props.format=="string"?t.props.format:"p",s=(r=t.props.intervals)!==null&&r!==void 0?r:n.defaultProps.intervals,l=t.props.selected||t.props.openToDate||Rr(),c=tx(l),d=t.props.injectTimes&&t.props.injectTimes.sort(function(A,w){return A.getTime()-w.getTime()}),h=60*LG(l),g=h/s,b=0;b<g;b++){var m=yS(c,b*s);if(i.push(m),d){var x=DG(c,m,b,s,d);i=i.concat(x)}}var y=i.reduce(function(A,w){return w.getTime()<=l.getTime()?w:A},i[0]);return i.map(function(A){return it.createElement("li",{key:A.valueOf(),onClick:t.handleClick.bind(t,A),className:t.liClasses(A),ref:function(w){A===y&&(t.centerLi=w)},onKeyDown:function(w){t.handleOnKeyDown(w,A)},tabIndex:A===y?0:-1,role:"option","aria-selected":t.isSelectedTime(A)?"true":void 0,"aria-disabled":t.isDisabledTime(A)?"true":void 0},pi(A,a,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?it.createElement(it.Fragment,null):it.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},it.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(n,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},n.prototype.render=function(){var t=this,r,i=this.state.height;return it.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:n.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),it.createElement("div",{className:"react-datepicker__time"},it.createElement("div",{className:"react-datepicker__time-box"},it.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){t.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},n.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},n}(K.Component),kk=3,GG=function(e){rs(n,e);function n(t){var r=e.call(this,t)||this;return r.YEAR_REFS=Ec([],Array(r.props.yearItemNumber),!0).map(function(){return K.createRef()}),r.isDisabled=function(i){return jl(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return dA(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var a=function(){var s,l;(l=(s=r.YEAR_REFS[i])===null||s===void 0?void 0:s.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(a)},r.handleYearClick=function(i,a){r.props.onDayClick&&r.props.onDayClick(i,a)},r.handleYearNavigation=function(i,a){var s,l,c,d,h=r.props,g=h.date,b=h.yearItemNumber;if(!(g===void 0||b===void 0)){var m=Vf(g,b).startPeriod;r.isDisabled(a)||r.isExcluded(a)||((l=(s=r.props).setPreSelection)===null||l===void 0||l.call(s,a),i-m<0?r.updateFocusOnPaginate(b-(m-i)):i-m>=b?r.updateFocusOnPaginate(Math.abs(b-(i-m))):(d=(c=r.YEAR_REFS[i-m])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())}},r.isSameDay=function(i,a){return Xn(i,a)},r.isCurrentYear=function(i){return i===Pn(Rr())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&bc(gc(Rr(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&bc(gc(Rr(),i),r.props.endDate)},r.isInRange=function(i){return Ny(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var a=r.props,s=a.selectsStart,l=a.selectsEnd,c=a.selectsRange,d=a.startDate,h=a.endDate;return!(s||l||c)||!r.selectingDate()?!1:s&&h?Ny(i,r.selectingDate(),h):l&&d||c&&d&&!h?Ny(i,d,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var a;if(!r.isInSelectingRange(i))return!1;var s=r.props,l=s.startDate,c=s.selectsStart,d=gc(Rr(),i);return c?bc(d,(a=r.selectingDate())!==null&&a!==void 0?a:null):bc(d,l??null)},r.isSelectingRangeEnd=function(i){var a;if(!r.isInSelectingRange(i))return!1;var s=r.props,l=s.endDate,c=s.selectsEnd,d=s.selectsRange,h=gc(Rr(),i);return c||d?bc(h,(a=r.selectingDate())!==null&&a!==void 0?a:null):bc(h,l??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var a=r.props,s=a.minDate,l=a.maxDate,c=a.excludeDates,d=a.includeDates,h=a.filterDate,g=Y1(gc(r.props.date,i)),b=(s||l||c||d||h)&&nx(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Xn(g,Y1(r.props.selected))&&Xn(g,Y1(r.props.preSelection))&&!b}},r.onYearClick=function(i,a){var s=r.props.date;s!==void 0&&r.handleYearClick(Y1(gc(s,a)),i)},r.onYearKeyDown=function(i,a){var s,l,c=i.key,d=r.props,h=d.date,g=d.yearItemNumber,b=d.handleOnKeyDown;if(c!==It.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(c){case It.Enter:if(r.props.selected==null)break;r.onYearClick(i,a),(l=(s=r.props).setPreSelection)===null||l===void 0||l.call(s,r.props.selected);break;case It.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(a+1,Ld(r.props.preSelection,1));break;case It.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(a-1,im(r.props.preSelection,1));break;case It.ArrowUp:{if(h===void 0||g===void 0||r.props.preSelection==null)break;var m=Vf(h,g).startPeriod,x=kk,y=a-x;if(y<m){var A=g%x;a>=m&&a<m+A?x=A:x+=A,y=a-x}r.handleYearNavigation(y,im(r.props.preSelection,x));break}case It.ArrowDown:{if(h===void 0||g===void 0||r.props.preSelection==null)break;var w=Vf(h,g).endPeriod,x=kk,y=a+x;if(y>w){var A=g%x;a<=w&&a>w-A?x=A:x+=A,y=a+x}r.handleYearNavigation(y,Ld(r.props.preSelection,x));break}}b&&b(i)},r.getYearClassNames=function(i){var a=r.props,s=a.date,l=a.minDate,c=a.maxDate,d=a.selected,h=a.excludeDates,g=a.includeDates,b=a.filterDate,m=a.yearClassName;return gs("react-datepicker__year-text","react-datepicker__year-".concat(i),s?m==null?void 0:m(gc(s,i)):void 0,{"react-datepicker__year-text--selected":d?i===Pn(d):void 0,"react-datepicker__year-text--disabled":(l||c||h||g||b)&&nx(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var a=Pn(r.props.preSelection),s=nx(i,r.props);return i===a&&!s?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return n.prototype.render=function(){var t=this,r=[],i=this.props,a=i.date,s=i.yearItemNumber,l=i.onYearMouseEnter,c=i.onYearMouseLeave;if(a===void 0)return null;for(var d=Vf(a,s),h=d.startPeriod,g=d.endPeriod,b=function(y){r.push(it.createElement("div",{ref:m.YEAR_REFS[y-h],onClick:function(A){t.onYearClick(A,y)},onKeyDown:function(A){jO(A)&&(A.preventDefault(),A.key=It.Enter),t.onYearKeyDown(A,y)},tabIndex:Number(m.getYearTabIndex(y)),className:m.getYearClassNames(y),onMouseEnter:m.props.usePointerEvent?void 0:function(A){return l(A,y)},onPointerEnter:m.props.usePointerEvent?function(A){return l(A,y)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(A){return c(A,y)},onPointerLeave:m.props.usePointerEvent?function(A){return c(A,y)}:void 0,key:y,"aria-current":m.isCurrentYear(y)?"date":void 0},m.getYearContent(y)))},m=this,x=h;x<=g;x++)b(x);return it.createElement("div",{className:"react-datepicker__year"},it.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},n}(K.Component);function QG(e,n,t,r){for(var i=[],a=0;a<2*n+1;a++){var s=e+n-a,l=!0;t&&(l=Pn(t)<=s),r&&l&&(l=Pn(r)>=s),l&&i.push(s)}return i}var KG=function(e){rs(n,e);function n(t){var r=e.call(this,t)||this;r.renderOptions=function(){var l=r.props.year,c=r.state.yearsList.map(function(g){return it.createElement("div",{className:l===g?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:g,onClick:r.onChange.bind(r,g),"aria-selected":l===g?"true":void 0},l===g?it.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",g)}),d=r.props.minDate?Pn(r.props.minDate):null,h=r.props.maxDate?Pn(r.props.maxDate):null;return(!h||!r.state.yearsList.find(function(g){return g===h}))&&c.unshift(it.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},it.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!r.state.yearsList.find(function(g){return g===d}))&&c.push(it.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},it.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},r.onChange=function(l){r.props.onChange(l)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(l){var c=r.state.yearsList.map(function(d){return d+l});r.setState({yearsList:c})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,s=i||(a?10:5);return r.state={yearsList:QG(r.props.year,s,r.props.minDate,r.props.maxDate)},r.dropdownRef=K.createRef(),r}return n.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,i=r?r.find(function(a){return a.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},n.prototype.render=function(){var t=gs({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return it.createElement(Cv,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},n}(K.Component),XG=function(e){rs(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?Pn(t.props.minDate):1900,i=t.props.maxDate?Pn(t.props.maxDate):2100,a=[],s=r;s<=i;s++)a.push(it.createElement("option",{key:s,value:s},s));return a},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return it.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return it.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},it.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),it.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return it.createElement(KG,ir({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,i){var a;(a=t.onSelect)===null||a===void 0||a.call(t,r,i),t.setOpen()},t.onSelect=function(r,i){var a,s;(s=(a=t.props).onSelect)===null||s===void 0||s.call(a,r,i)},t.setOpen=function(){var r,i;(i=(r=t.props).setOpen)===null||i===void 0||i.call(r,!0)},t}return n.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return it.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},n}(K.Component),ZG=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],JG=function(e){var n=(e.className||"").split(/\s+/);return ZG.some(function(t){return n.indexOf(t)>=0})},eQ=function(e){rs(n,e);function n(t){var r=e.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var a,s;JG(i.target)&&((s=(a=r.props).onDropdownFocus)===null||s===void 0||s.call(a,i))},r.getDateInView=function(){var i=r.props,a=i.preSelection,s=i.selected,l=i.openToDate,c=_O(r.props),d=kO(r.props),h=Rr(),g=l||s||a;return g||(c&&mp(h,c)?c:d&&ih(h,d)?d:h)},r.increaseMonth=function(){r.setState(function(i){var a=i.date;return{date:Eu(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var a=i.date;return{date:ip(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,a,s){r.props.onSelect(i,a,s),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,a){r.setState({selectingDate:gc(Rr(),a)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,a)},r.handleYearMouseLeave=function(i,a){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,a)},r.handleYearChange=function(i){var a,s,l,c;(s=(a=r.props).onYearChange)===null||s===void 0||s.call(a,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!jl(i,r.props))return i;for(var a=Fd(i),s=wG(i),l=RH(s,a),c=null,d=0;d<=l;d++){var h=Au(a,d);if(!jl(h,r.props)){c=h;break}}return c},r.handleMonthChange=function(i){var a,s,l,c=(a=r.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;r.handleCustomMonthChange(c),r.props.adjustDateOnChange&&(r.props.onSelect(c),(l=(s=r.props).setOpen)===null||l===void 0||l.call(s,!0)),r.props.setPreSelection&&r.props.setPreSelection(c)},r.handleCustomMonthChange=function(i){var a,s;(s=(a=r.props).onMonthChange)===null||s===void 0||s.call(a,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(a){var s=a.date;return{date:gc(s,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(a){var s=a.date;return{date:Ho(s,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(a){var s=a.date;return{date:gc(Ho(s,to(i)),Pn(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var a=eh(i,r.props.locale,r.props.calendarStartDay),s=[];return r.props.showWeekNumbers&&s.push(it.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),s.concat([0,1,2,3,4,5,6].map(function(l){var c=Au(a,l),d=r.formatWeekday(c,r.props.locale),h=r.props.weekDayClassName?r.props.weekDayClassName(c):void 0;return it.createElement("div",{key:l,"aria-label":pi(c,"EEEE",r.props.locale),className:gs("react-datepicker__day-name",h)},d)}))},r.formatWeekday=function(i,a){return r.props.formatWeekDay?SG(i,r.props.formatWeekDay,a):r.props.useWeekdaysShort?CG(i,a):AG(i,a)},r.decreaseYear=function(){r.setState(function(i){var a,s=i.date;return{date:im(s,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,a,s;if(!r.props.renderCustomHeader){var l=(i=r.props.monthsShown)!==null&&i!==void 0?i:n.defaultProps.monthsShown,c=r.props.showPreviousMonths?l-1:0,d=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:c,h=ip(r.state.date,d),g;switch(!0){case r.props.showMonthYearPicker:g=xk(r.state.date,r.props);break;case r.props.showYearPicker:g=NG(r.state.date,r.props);break;case r.props.showQuarterYearPicker:g=kG(r.state.date,r.props);break;default:g=bk(h,r.props);break}if(!(!((s=r.props.forceShowMonthNavigation)!==null&&s!==void 0?s:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&g||r.props.showTimeSelectOnly)){var b=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],x=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(x=r.decreaseYear),g&&r.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),x=void 0);var y=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,A=r.props,w=A.previousMonthButtonLabel,C=w===void 0?n.defaultProps.previousMonthButtonLabel:w,N=A.previousYearButtonLabel,F=N===void 0?n.defaultProps.previousYearButtonLabel:N,R=r.props,M=R.previousMonthAriaLabel,k=M===void 0?typeof C=="string"?C:"Previous Month":M,L=R.previousYearAriaLabel,B=L===void 0?typeof F=="string"?F:"Previous Year":L;return it.createElement("button",{type:"button",className:m.join(" "),onClick:x,onKeyDown:r.props.handleOnKeyDown,"aria-label":y?B:k},it.createElement("span",{className:b.join(" ")},y?F:C))}}},r.increaseYear=function(){r.setState(function(i){var a,s=i.date;return{date:Ld(s,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:n.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=vk(r.state.date,r.props);break;case r.props.showYearPicker:a=TG(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=jG(r.state.date,r.props);break;default:a=yk(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:n.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var c=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(c=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),c=void 0);var d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,h=r.props,g=h.nextMonthButtonLabel,b=g===void 0?n.defaultProps.nextMonthButtonLabel:g,m=h.nextYearButtonLabel,x=m===void 0?n.defaultProps.nextYearButtonLabel:m,y=r.props,A=y.nextMonthAriaLabel,w=A===void 0?typeof b=="string"?b:"Next Month":A,C=y.nextYearAriaLabel,N=C===void 0?typeof x=="string"?x:"Next Year":C;return it.createElement("button",{type:"button",className:s.join(" "),onClick:c,onKeyDown:r.props.handleOnKeyDown,"aria-label":d?N:w},it.createElement("span",{className:l.join(" ")},d?x:b))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var a=["react-datepicker__current-month"];return r.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),it.createElement("h2",{className:a.join(" ")},pi(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return it.createElement(XG,ir({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Pn(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return it.createElement($G,ir({},n.defaultProps,r.props,{month:to(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return it.createElement(VG,ir({},n.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(fk(),i),r.props.setPreSelection&&r.props.setPreSelection(fk())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return it.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var a=i.monthDate,s=i.i;return it.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(a),it.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(s!==0),r.renderMonthYearDropdown(s!==0),r.renderYearDropdown(s!==0)),it.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderCustomHeader=function(i){var a,s,l=i.monthDate,c=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var d=bk(r.state.date,r.props),h=yk(r.state.date,r.props),g=xk(r.state.date,r.props),b=vk(r.state.date,r.props),m=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return it.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(s=(a=r.props).renderCustomHeader)===null||s===void 0?void 0:s.call(a,ir(ir({},r.state),{customHeaderCount:c,monthDate:l,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:h,prevYearButtonDisabled:g,nextYearButtonDisabled:b})),m&&it.createElement("div",{className:"react-datepicker__day-names"},r.header(l)))},r.renderYearHeader=function(i){var a=i.monthDate,s=r.props,l=s.showYearPicker,c=s.yearItemNumber,d=c===void 0?n.defaultProps.yearItemNumber:c,h=Vf(a,d),g=h.startPeriod,b=h.endPeriod;return it.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(g," - ").concat(b):Pn(a))},r.renderHeader=function(i){var a=i.monthDate,s=i.i,l=s===void 0?0:s,c={monthDate:a,i:l};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(c);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(c);default:return r.renderDefaultHeader(c)}},r.renderMonths=function(){var i,a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],l=(i=r.props.monthsShown)!==null&&i!==void 0?i:n.defaultProps.monthsShown,c=r.props.showPreviousMonths?l-1:0,d=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ld(r.state.date,c):ip(r.state.date,c),h=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:c,g=0;g<l;++g){var b=g-h+c,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ld(d,b):Eu(d,b),x="month-".concat(g),y=g<l-1,A=g>0;s.push(it.createElement("div",{key:x,ref:function(w){r.monthContainer=w??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:m,i:g}),it.createElement(BG,ir({},n.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:m,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:g,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:y,monthShowsDuplicateDaysStart:A}))))}return s}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return it.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),it.createElement(GG,ir({},n.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return it.createElement(YG,ir({},n.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,a=i&&Ad(i)&&!!r.props.selected,s=a?"".concat(Sk(i.getHours()),":").concat(Sk(i.getMinutes())):"";if(r.props.showTimeInput)return it.createElement(MG,ir({},n.defaultProps,r.props,{date:i,timeString:s,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,a=Vf(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:n.defaultProps.yearItemNumber),s=a.startPeriod,l=a.endPeriod,c;return r.props.showYearPicker?c="".concat(s," - ").concat(l):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?c=Pn(r.state.date):c="".concat(cA(to(r.state.date),r.props.locale)," ").concat(Pn(r.state.date)),it.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&c)},r.renderChildren=function(){if(r.props.children)return it.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=K.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(n,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Xg}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},n.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&(!Xn(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!eo(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Xn(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},n.prototype.render=function(){var t=this.props.container||hG;return it.createElement(Cv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},it.createElement(t,{className:gs("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},n}(K.Component),tQ=function(e){var n=e.icon,t=e.className,r=t===void 0?"":t,i=e.onClick,a="react-datepicker__calendar-icon";return typeof n=="string"?it.createElement("i",{className:"".concat(a," ").concat(n," ").concat(r),"aria-hidden":"true",onClick:i}):it.isValidElement(n)?it.cloneElement(n,{className:"".concat(n.props.className||""," ").concat(a," ").concat(r),onClick:function(s){typeof n.props.onClick=="function"&&n.props.onClick(s),typeof i=="function"&&i(s)}}):it.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},it.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},NO=function(e){rs(n,e);function n(t){var r=e.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return n.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},n.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},n.prototype.render=function(){return tR.createPortal(this.props.children,this.el)},n}(K.Component),nQ="[tabindex], a, button, input, select, textarea",rQ=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},TO=function(e){rs(n,e);function n(t){var r=e.call(this,t)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(nQ),1,-1).filter(rQ)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=K.createRef(),r}return n.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:n.defaultProps.enableTabLoop)?it.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},it.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,it.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},n.defaultProps={enableTabLoop:!0},n}(K.Component);function iQ(e){var n=function(t){var r,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,a=K.useRef(null),s=fG(ir({open:!i,whileElementsMounted:HY,placement:t.popperPlacement,middleware:Ec([JY({padding:15}),ZY(10),eG({element:a})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),l=ir(ir({},t),{hidePopper:i,popperProps:ir(ir({},s),{arrowRef:a})});return it.createElement(e,ir({},l))};return n}var aQ=function(e){rs(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(n,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),n.prototype.render=function(){var t=this.props,r=t.className,i=t.wrapperClassName,a=t.hidePopper,s=a===void 0?n.defaultProps.hidePopper:a,l=t.popperComponent,c=t.targetComponent,d=t.enableTabLoop,h=t.popperOnKeyDown,g=t.portalId,b=t.portalHost,m=t.popperProps,x=t.showArrow,y=void 0;if(!s){var A=gs("react-datepicker-popper",r);y=it.createElement(TO,{enableTabLoop:d},it.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:A,"data-placement":m.placement,onKeyDown:h},l,x&&it.createElement(aG,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(y=K.createElement(this.props.popperContainer,{},y)),g&&!s&&(y=it.createElement(NO,{portalId:g,portalHost:b},y));var w=gs("react-datepicker-wrapper",i);return it.createElement(it.Fragment,null,it.createElement("div",{ref:m.refs.setReference,className:w},c),y)},n}(K.Component),sQ=iQ(aQ),jk="react-datepicker-ignore-onclickoutside";function oQ(e,n){return e&&n?to(e)!==to(n)||Pn(e)!==Pn(n):e!==n}var X5="Date input not valid.",lQ=function(e){rs(n,e);function n(t){var r=e.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Rr()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,s){var l=new Date(s.date);return Ad(l)?Ec(Ec([],a,!0),[ir(ir({},s),{date:l})],!1):a},[])},r.calcInitialState=function(){var i,a=r.getPreSelection(),s=_O(r.props),l=kO(r.props),c=s&&mp(a,tx(s))?s:l&&ih(a,hk(l))?l:a;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:c,highlightDates:wk(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(ir(ir({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(ir(ir({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.safeFocus=function(){setTimeout(function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},0)},r.safeBlur=function(){setTimeout(function(){var i,a;(a=(i=r.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i)},0)},r.setFocus=function(){r.safeFocus()},r.setBlur=function(){r.safeBlur(),r.cancelFocusInput()},r.setOpen=function(i,a){a===void 0&&(a=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Z5},function(){i||r.setState(function(s){return{focused:a?s.focused:!1}},function(){!a&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Rd(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var a,s,l=r.state.wasHidden,c=l?r.state.open:!0;l&&r.resetHiddenStatus(),!r.state.preventFocus&&c&&((s=(a=r.props).onFocus)===null||s===void 0||s.call(a,i),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var a,s;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((s=(a=r.props).onBlur)===null||s===void 0||s.call(a,i)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var a,s;r.props.inline||r.setOpen(!1),(s=(a=r.props).onClickOutside)===null||s===void 0||s.call(a,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,a,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=s[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,s),!c||typeof c.isDefaultPrevented!="function"||c.isDefaultPrevented()))){r.setState({inputValue:(c==null?void 0:c.target)instanceof HTMLInputElement?c.target.value:null,lastPreSelectChange:uQ});var d=r.props,h=d.dateFormat,g=h===void 0?n.defaultProps.dateFormat:h,b=d.strictParsing,m=b===void 0?n.defaultProps.strictParsing:b,x=d.selectsRange,y=d.startDate,A=d.endDate,w=(c==null?void 0:c.target)instanceof HTMLInputElement?c.target.value:"";if(x){var C=w.split("-",2).map(function(Q){return Q.trim()}),N=C[0],F=C[1],R=G5(N??"",g,r.props.locale,m),M=G5(F??"",g,r.props.locale,m),k=(y==null?void 0:y.getTime())!==(R==null?void 0:R.getTime()),L=(A==null?void 0:A.getTime())!==(M==null?void 0:M.getTime());if(!k&&!L||R&&jl(R,r.props)||M&&jl(M,r.props))return;(a=(i=r.props).onChange)===null||a===void 0||a.call(i,[R,M],c)}else{var B=G5(w,g,r.props.locale,m,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&B&&!Xn(B,r.props.selected)&&(B=YV(r.props.selected,{hours:Nc(B),minutes:Tc(B),seconds:Md(B)})),(B||!w)&&r.setSelected(B,c,!0)}}},r.handleSelect=function(i,a,s){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(a),r.setSelected(i,a,!1,s),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var l=r.props,c=l.startDate,d=l.endDate;c&&!d&&(r.props.swapRange||!Ek(i,c))&&r.setOpen(!1)}},r.setSelected=function(i,a,s,l){var c,d,h=i;if(r.props.showYearPicker){if(h!==null&&nx(Pn(h),r.props))return}else if(r.props.showMonthYearPicker){if(h!==null&&EO(h,r.props))return}else if(h!==null&&jl(h,r.props))return;var g=r.props,b=g.onChange,m=g.selectsRange,x=g.startDate,y=g.endDate,A=g.selectsMultiple,w=g.selectedDates,C=g.minTime,N=g.swapRange;if(!Zh(r.props.selected,h)||r.props.allowSameDay||m||A)if(h!==null&&(r.props.selected&&(!s||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(h=Q5(h,{hour:Nc(r.props.selected),minute:Tc(r.props.selected),second:Md(r.props.selected)})),!s&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&C&&(h=Q5(h,{hour:C.getHours(),minute:C.getMinutes(),second:C.getSeconds()})),r.props.inline||r.setState({preSelection:h}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:l})),m){var F=!x&&!y,R=x&&!y,M=x&&y;F?b==null||b([h,null],a):R&&(h===null?b==null||b([null,null],a):Ek(h,x)?N?b==null||b([h,x],a):b==null||b([h,null],a):b==null||b([x,h],a)),M&&(b==null||b([h,null],a))}else if(A){if(h!==null)if(!(w!=null&&w.length))b==null||b([h],a);else{var k=w.some(function(B){return Xn(B,h)});if(k){var L=w.filter(function(B){return!Xn(B,h)});b==null||b(L,a)}else b==null||b(Ec(Ec([],w,!0),[h],!1),a)}}else b==null||b(h,a);s||((d=(c=r.props).onSelect)===null||d===void 0||d.call(c,h,a),r.setState({inputValue:null}))},r.setPreSelection=function(i){var a=Rd(r.props.minDate),s=Rd(r.props.maxDate),l=!0;if(i){var c=tx(i);if(a&&s)l=G1(i,r.props.minDate,r.props.maxDate);else if(a){var d=tx(r.props.minDate);l=ih(i,d)||Zh(c,d)}else if(s){var h=hk(r.props.maxDate);l=mp(i,h)||Zh(c,h)}}l&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var a,s;if(!(r.props.selectsRange||r.props.selectsMultiple)){var l=r.props.selected?r.props.selected:r.getPreSelection(),c=r.props.selected?i:Q5(l,{hour:Nc(i),minute:Tc(i)});r.setState({preSelection:c}),(s=(a=r.props).onChange)===null||s===void 0||s.call(a,c),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,a;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(a=(i=r.props).onInputClick)===null||a===void 0||a.call(i)},r.onInputKeyDown=function(i){var a,s,l,c,d,h;(s=(a=r.props).onKeyDown)===null||s===void 0||s.call(a,i);var g=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(g===It.ArrowDown||g===It.ArrowUp||g===It.Enter)&&((l=r.onInputClick)===null||l===void 0||l.call(r));return}if(r.state.open){if(g===It.ArrowDown||g===It.ArrowUp){i.preventDefault();var b=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((c=r.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(b);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var x=Rr(r.state.preSelection);g===It.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Z5?(r.handleSelect(x,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(x)):r.setOpen(!1)):g===It.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):g===It.Tab&&r.setOpen(!1),r.inputOk()||(h=(d=r.props).onInputError)===null||h===void 0||h.call(d,{code:1,msg:X5})}},r.onPortalKeyDown=function(i){var a=i.key;a===It.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var a,s,l,c,d,h,g=r.props,b=g.minDate,m=g.maxDate,x=g.disabledKeyboardNavigation,y=g.showWeekPicker,A=g.shouldCloseOnSelect,w=g.locale,C=g.calendarStartDay,N=g.adjustDateOnChange,F=g.inline;if((s=(a=r.props).onKeyDown)===null||s===void 0||s.call(a,i),!x){var R=i.key,M=i.shiftKey,k=Rr(r.state.preSelection),L=function(G,W){var X=W;switch(G){case It.ArrowRight:X=y?Ox(W,1):Au(W,1);break;case It.ArrowLeft:X=y?ek(W):TV(W);break;case It.ArrowUp:X=ek(W);break;case It.ArrowDown:X=Ox(W,1);break;case It.PageUp:X=M?im(W,1):ip(W,1);break;case It.PageDown:X=M?Ld(W,1):Eu(W,1);break;case It.Home:X=eh(W,w,C);break;case It.End:X=vG(W);break}return X},B=function(G,W){for(var X=40,ie=G,ue=!1,$=0,ae=L(G,W);!ue;){if($>=X){ae=W;break}b&&ae<b&&(ie=It.ArrowRight,ae=jl(b,r.props)?L(ie,ae):b),m&&ae>m&&(ie=It.ArrowLeft,ae=jl(m,r.props)?L(ie,ae):m),jl(ae,r.props)?((ie===It.PageUp||ie===It.Home)&&(ie=It.ArrowRight),(ie===It.PageDown||ie===It.End)&&(ie=It.ArrowLeft),ae=L(ie,ae)):ue=!0,$++}return ae};if(R===It.Enter){i.preventDefault(),r.handleSelect(k,i),!A&&r.setPreSelection(k);return}else if(R===It.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(c=(l=r.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:X5});return}var Q=null;switch(R){case It.ArrowLeft:case It.ArrowRight:case It.ArrowUp:case It.ArrowDown:case It.PageUp:case It.PageDown:case It.Home:case It.End:Q=B(R,k);break}if(!Q){(h=(d=r.props).onInputError)===null||h===void 0||h.call(d,{code:1,msg:X5});return}if(i.preventDefault(),r.setState({lastPreSelectChange:Z5}),N&&r.setSelected(Q),r.setPreSelection(Q),F){var j=to(k),O=to(Q),z=Pn(k),T=Pn(Q);j!==O||z!==T?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var a=i.key;a===It.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var a=r.props,s=a.selectsRange,l=a.onChange;s?l==null||l([null,null],i):l==null||l(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,a;return!r.props.inline&&!r.isCalendarOpen()?null:it.createElement(eQ,ir({showMonthYearDropdown:void 0,ref:function(s){r.calendar=s}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:n.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:IG(r.modifyHolidays()),outsideClickIgnoreClass:jk,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(a=r.props.dropdownMode)!==null&&a!==void 0?a:n.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,a=i.dateFormat,s=a===void 0?n.defaultProps.dateFormat:a,l=i.locale,c=r.props.showTimeInput||r.props.showTimeSelect,d=c?"PPPPp":"PPPP",h;return r.props.selectsRange?h="Selected start date: ".concat(El(r.props.startDate,{dateFormat:d,locale:l}),". ").concat(r.props.endDate?"End date: "+El(r.props.endDate,{dateFormat:d,locale:l}):""):r.props.showTimeSelectOnly?h="Selected time: ".concat(El(r.props.selected,{dateFormat:s,locale:l})):r.props.showYearPicker?h="Selected year: ".concat(El(r.props.selected,{dateFormat:"yyyy",locale:l})):r.props.showMonthYearPicker?h="Selected month: ".concat(El(r.props.selected,{dateFormat:"MMMM yyyy",locale:l})):r.props.showQuarterYearPicker?h="Selected quarter: ".concat(El(r.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):h="Selected date: ".concat(El(r.props.selected,{dateFormat:d,locale:l})),it.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},h)},r.renderDateInput=function(){var i,a,s,l=gs(r.props.className,(i={},i[jk]=r.state.open,i)),c=r.props.customInput||it.createElement("input",{type:"text"}),d=r.props.customInputRef||"ref",h=r.props,g=h.dateFormat,b=g===void 0?n.defaultProps.dateFormat:g,m=h.locale,x=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?gG(r.props.startDate,r.props.endDate,{dateFormat:b,locale:m}):r.props.selectsMultiple?bG((s=r.props.selectedDates)!==null&&s!==void 0?s:[],{dateFormat:b,locale:m}):El(r.props.selected,{dateFormat:b,locale:m});return K.cloneElement(c,(a={},a[d]=function(y){r.input=y},a.value=x,a.onBlur=r.handleBlur,a.onChange=r.handleChange,a.onClick=r.onInputClick,a.onFocus=r.handleFocus,a.onKeyDown=r.onInputKeyDown,a.id=r.props.id,a.name=r.props.name,a.form=r.props.form,a.autoFocus=r.props.autoFocus,a.placeholder=r.props.placeholderText,a.disabled=r.props.disabled,a.autoComplete=r.props.autoComplete,a.className=gs(c.props.className,l),a.title=r.props.title,a.readOnly=r.props.readOnly,a.required=r.props.required,a.tabIndex=r.props.tabIndex,a["aria-describedby"]=r.props.ariaDescribedBy,a["aria-invalid"]=r.props.ariaInvalid,a["aria-labelledby"]=r.props.ariaLabelledBy,a["aria-required"]=r.props.ariaRequired,a))},r.renderClearButton=function(){var i=r.props,a=i.isClearable,s=i.disabled,l=i.selected,c=i.startDate,d=i.endDate,h=i.clearButtonTitle,g=i.clearButtonClassName,b=g===void 0?"":g,m=i.ariaLabelClose,x=m===void 0?"Close":m,y=i.selectedDates;return a&&(l!=null||c!=null||d!=null||y!=null&&y.length)?it.createElement("button",{type:"button",className:gs("react-datepicker__close-icon",b,{"react-datepicker__close-icon--disabled":s}),disabled:s,"aria-label":x,onClick:r.onClearClick,title:h,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(n,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Xg,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),n.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.componentDidUpdate=function(t,r){var i,a,s,l;t.inline&&oQ(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:wk(this.props.highlightDates)}),!r.focused&&!Zh(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),r.open===!0&&this.state.open===!1&&((l=(s=this.props).onCalendarClose)===null||l===void 0||l.call(s)))},n.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},n.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,i=t.icon,a=t.calendarIconClassname,s=t.calendarIconClassName,l=t.toggleCalendarOnIconClick,c=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),it.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&it.createElement(tQ,ir({icon:i,className:gs(s,!s&&a,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},n.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?it.createElement(TO,{enableTabLoop:this.props.enableTabLoop},it.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=it.createElement(NO,ir({portalId:this.props.portalId},this.props),r)),it.createElement("div",null,this.renderInputContainer(),r)}return it.createElement(sQ,ir({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},n}(K.Component),uQ="input",Z5="navigate";const cQ=e=>f.jsx(Bt,{...e,sx:{width:"100%","& .MuiOutlinedInput-root":{borderRadius:Zt.xl,backgroundColor:ht.palette.background.paper,"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:ht.palette.primary.main},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:ht.palette.primary.main,borderWidth:2}},"& .MuiInputBase-input":{color:ht.palette.text.primary,fontSize:"1rem",padding:"12px 14px"},"& .MuiInputLabel-root":{color:ht.palette.text.secondary,"&.Mui-focused":{color:ht.palette.primary.main}}}}),OO=it.forwardRef((e,n)=>f.jsx(cQ,{...e,inputRef:n,fullWidth:!0}));OO.displayName="CustomInput";const dQ=({value:e,onChange:n})=>{const t=r=>r?r.toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"";return f.jsxs(fn,{elevation:2,sx:{p:3,mb:3,backgroundColor:ht.palette.background.paper,borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`},children:[f.jsxs(me,{sx:{display:"flex",alignItems:"center",mb:2},children:[f.jsx(Q0,{sx:{mr:1,color:ht.palette.primary.main}}),f.jsx(de,{variant:"h6",sx:{fontWeight:600,color:ht.palette.text.primary},children:"Schedule Publish"})]}),f.jsx(de,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Choose when you want this material to be automatically published."}),f.jsx(lQ,{selected:e,onChange:r=>n(r),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"MMM d, yyyy h:mm aa",minDate:new Date,customInput:f.jsx(OO,{label:"Select Date & Time"}),placeholderText:"Click to select date and time"}),e&&f.jsx(me,{sx:{mt:2},children:f.jsx(Dn,{icon:f.jsx(Q0,{}),label:`Scheduled for ${t(e)}`,color:"primary",variant:"outlined",sx:{backgroundColor:ht.palette.primary.light,color:ht.palette.primary.main,borderColor:ht.palette.primary.main}})})]})},fQ=K.lazy(()=>Li(()=>import("./MaterialImportWrapper-C4IfbZu2.js"),__vite__mapDeps([3,4,1,5]))),IO=({materialData:e})=>{var tt;const n=ea(),{userDetails:t}=Ai(),r=Jn(),{uploadedFile:i,uploadOriginalFile:a,originalFileUrl:s,originalFileUploadProgress:l}=Dd(),[c]=Bg(),d=c.get("course"),h=c.get("mode")||"manual",[g,b]=K.useState((e==null?void 0:e.course)||d||""),[m,x]=K.useState((e==null?void 0:e.id)||null),[y,A]=K.useState((e==null?void 0:e.title)||""),[w,C]=K.useState((e==null?void 0:e.header)||{title:"Header",content:""}),[N,F]=K.useState((e==null?void 0:e.footer)||{title:"Footer",content:""}),[R,M]=K.useState((e==null?void 0:e.sections)||[{id:Ri(),title:"Section 1",content:"",subsections:[],images:[],links:[]}]),[k,L]=K.useState({sectionIndex:0}),[B,Q]=K.useState(!1),[j,O]=K.useState(""),[z,T]=K.useState("success"),[G,W]=K.useState(!1),[X,ie]=K.useState(((tt=e==null?void 0:e.scheduledTimestamp)==null?void 0:tt.toDate())||null),[ue,$]=K.useState(!1),[ae,U]=K.useState(h),[q,Z]=K.useState(!1),[ee,se]=K.useState(null),[we,ye]=K.useState(!1),[Ce,Oe]=K.useState(null),[Le,He]=K.useState(!1);G7(R,k.sectionIndex||0,R.length>1),K.useEffect(()=>{const Me=xe=>{xe.key==="ArrowLeft"||xe.key};return window.addEventListener("keydown",Me),()=>window.removeEventListener("keydown",Me)},[k,R]);const We=async(Me,xe=!1,_e)=>{Me.preventDefault();try{const Ne=R.some(ft=>{var Ze,Mt;return((Ze=ft.images)==null?void 0:Ze.some(kt=>kt.url.startsWith("blob:")))||((Mt=ft.subsections)==null?void 0:Mt.some(kt=>{var Wt;return(Wt=kt.images)==null?void 0:Wt.some(Lt=>Lt.url.startsWith("blob:"))}))});if(q&&Ne){console.log(" Starting AI material creation with image upload...");const ft=await Ma(wn(r,"materials"),{course:g,title:y,header:w,footer:N,sections:[],author:(t==null?void 0:t.uid)||"",timestamp:Kf(),published:!1,scheduledTimestamp:_e?Ja.fromDate(_e):null});console.log(" Material created with ID:",ft.id),x(ft.id),console.log(" Starting image upload process...");const Ze=await Qw(g,(t==null?void 0:t.uid)||"",ft.id,(Wt,Lt)=>{console.log(` Image upload progress: ${Wt}/${Lt}`),se({completed:Wt,total:Lt})});console.log(" Image upload complete, updating material..."),await Wr(ft,{sections:Ze,published:xe,scheduledTimestamp:_e?Ja.fromDate(_e):null}),se(null),Z(!1);const{resetImport:Mt}=Dd.getState();Mt(),O(xe?"Material published successfully!":_e?"Material scheduled successfully!":"Material saved successfully!"),T("success"),Q(!0),(xe||_e)&&n(`/supplemental-materials?course=${g}`)}else{const ft={course:g,title:y,header:w,footer:N,sections:R,author:(t==null?void 0:t.uid)||"",timestamp:Kf(),published:xe,scheduledTimestamp:_e?Ja.fromDate(_e):null,...s&&{originalFile:{url:s}}};if(m)await Wr(xn(r,"materials",m),ft),O(xe?"Material updated and published!":_e?"Material updated and scheduled!":"Material updated successfully!");else{const Ze=await Ma(wn(r,"materials"),ft);x(Ze.id),O(xe?"Material created and published!":_e?"Material created and scheduled!":"Material created successfully!")}T("success"),Q(!0),(xe||_e)&&n(`/supplemental-materials?course=${g}`)}}catch(Ne){console.error("Error saving material:",Ne),O("Error saving material. Please try again."),T("error"),Q(!0)}},V=(Me,xe,_e)=>{L({sectionIndex:typeof Me=="number"?Me:void 0,subsectionIndex:xe,subSubsectionIndex:_e,type:typeof Me=="string"?Me:void 0})},Se=()=>{var Me,xe,_e;if(k.type==="header")return w.content;if(k.type==="footer")return N.content;if(k.sectionIndex!==void 0){const Ne=R[k.sectionIndex];return k.subSubsectionIndex!==void 0?((xe=(Me=Ne==null?void 0:Ne.subsections[k.subsectionIndex])==null?void 0:Me.subSubsections[k.subSubsectionIndex])==null?void 0:xe.content)||"":k.subsectionIndex!==void 0?((_e=Ne==null?void 0:Ne.subsections[k.subsectionIndex])==null?void 0:_e.content)||"":(Ne==null?void 0:Ne.content)||""}return""},te=()=>{var Me,xe,_e;if(k.type==="header")return w.title;if(k.type==="footer")return N.title;if(k.sectionIndex!==void 0){const Ne=R[k.sectionIndex];return k.subSubsectionIndex!==void 0?((xe=(Me=Ne==null?void 0:Ne.subsections[k.subsectionIndex])==null?void 0:Me.subSubsections[k.subSubsectionIndex])==null?void 0:xe.title)||"":k.subsectionIndex!==void 0?((_e=Ne==null?void 0:Ne.subsections[k.subsectionIndex])==null?void 0:_e.title)||"":(Ne==null?void 0:Ne.title)||""}return""},ge=Me=>{k.type==="header"?C(xe=>({...xe,content:Me})):k.type==="footer"?F(xe=>({...xe,content:Me})):k.sectionIndex!==void 0&&M(xe=>{const _e=[...xe],Ne=_e[k.sectionIndex];return k.subSubsectionIndex!==void 0?Ne.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].content=Me:k.subsectionIndex!==void 0?Ne.subsections[k.subsectionIndex].content=Me:Ne.content=Me,_e})},ce=Me=>{ue&&X?We(Me,!1,X):$(!0)},ve=Me=>{k.type==="header"?C(xe=>({...xe,title:Me})):k.type==="footer"?F(xe=>({...xe,title:Me})):k.sectionIndex!==void 0&&M(xe=>{const _e=[...xe],Ne=_e[k.sectionIndex];return k.subSubsectionIndex!==void 0?Ne.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].title=Me:k.subsectionIndex!==void 0?Ne.subsections[k.subsectionIndex].title=Me:Ne.title=Me,_e})},Ie=()=>{var Me,xe,_e;if(k.type==="header"||k.type==="footer")return[];if(k.sectionIndex!==void 0){const Ne=R[k.sectionIndex];return k.subSubsectionIndex!==void 0?((xe=(Me=Ne==null?void 0:Ne.subsections[k.subsectionIndex])==null?void 0:Me.subSubsections[k.subSubsectionIndex])==null?void 0:xe.images)||[]:k.subsectionIndex!==void 0?((_e=Ne==null?void 0:Ne.subsections[k.subsectionIndex])==null?void 0:_e.images)||[]:(Ne==null?void 0:Ne.images)||[]}return[]},Pe=()=>{var Me,xe,_e;if(k.type==="header"||k.type==="footer")return[];if(k.sectionIndex!==void 0){const Ne=R[k.sectionIndex];return k.subSubsectionIndex!==void 0?((xe=(Me=Ne==null?void 0:Ne.subsections[k.subsectionIndex])==null?void 0:Me.subSubsections[k.subSubsectionIndex])==null?void 0:xe.links)||[]:k.subsectionIndex!==void 0?((_e=Ne==null?void 0:Ne.subsections[k.subsectionIndex])==null?void 0:_e.links)||[]:(Ne==null?void 0:Ne.links)||[]}return[]},ke=Me=>{k.type==="header"||k.type==="footer"||k.sectionIndex!==void 0&&M(xe=>{const _e=[...xe],Ne=_e[k.sectionIndex];return k.subSubsectionIndex!==void 0?Ne.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].images=Me:k.subsectionIndex!==void 0?Ne.subsections[k.subsectionIndex].images=Me:Ne.images=Me,_e})},Ke=Me=>{k.type==="header"||k.type==="footer"||k.sectionIndex!==void 0&&M(xe=>{const _e=[...xe],Ne=_e[k.sectionIndex];return k.subSubsectionIndex!==void 0?Ne.subsections[k.subsectionIndex].subSubsections[k.subSubsectionIndex].links=Me:k.subsectionIndex!==void 0?Ne.subsections[k.subsectionIndex].links=Me:Ne.links=Me,_e})},lt=()=>k.type==="header"?"header":k.type==="footer"?"footer":k.sectionIndex!==void 0?k.subSubsectionIndex!==void 0?`section-${k.sectionIndex}-subsection-${k.subsectionIndex}-subsubsection-${k.subSubsectionIndex}`:k.subsectionIndex!==void 0?`section-${k.sectionIndex}-subsection-${k.subsectionIndex}`:`section-${k.sectionIndex}`:"unknown";return f.jsxs(me,{sx:{display:"flex",flexGrow:1,flexDirection:"column",minHeight:"100vh"},children:[f.jsxs(fn,{elevation:1,sx:{p:3,mb:2,backgroundColor:ht.palette.background.paper,borderRadius:0},children:[f.jsxs(me,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:"space-between",alignItems:{xs:"stretch",md:"center"},mb:3,gap:2},children:[f.jsx(DF,{courseId:(e==null?void 0:e.course)||g}),f.jsxs(me,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:2,alignItems:"center",width:{xs:"100%",md:"auto"}},children:[f.jsxs(S6,{value:ae,exclusive:!0,onChange:(Me,xe)=>xe&&U(xe),size:"small",sx:{backgroundColor:ht.palette.background.paper,borderRadius:Zt.xl,width:{xs:"100%",sm:"auto"},"& .MuiToggleButton-root":{borderRadius:Zt.xl,textTransform:"none",fontWeight:600,flex:{xs:1,sm:"none"},"&.Mui-selected":{backgroundColor:ht.palette.primary.main,color:ht.palette.primary.contrastText}}},children:[f.jsxs(K0,{value:"manual",children:[f.jsx(wu,{sx:{mr:1}}),"Manual"]}),f.jsxs(K0,{value:"ai",children:[f.jsx(nR,{sx:{mr:1}}),"AI Import"]})]}),f.jsx(me,{sx:{width:{xs:"100%",sm:"200px",md:"250px"}},children:f.jsx(kH,{value:g,onChange:b,disabled:!!m})})]})]}),f.jsx(Bt,{fullWidth:!0,label:"Material Title",value:y,onChange:Me=>A(Me.target.value),variant:"outlined",sx:{"& .MuiOutlinedInput-root":{borderRadius:Zt.xl}}})]}),f.jsxs(me,{sx:{display:"flex",flexGrow:1,minHeight:0},children:[f.jsx(sv,{children:f.jsx(BT,{sections:R,selected:k,onAddSection:()=>{const Me={id:Ri(),title:`Section ${R.length+1}`,content:"",subsections:[],images:[],links:[]};M(xe=>[...xe,Me]),L({sectionIndex:R.length})},onAddSubsection:Me=>{M(xe=>{const _e=[...xe],Ne=_e[Me].subsections,ft={id:Ri(),title:`Subsection ${Ne.length+1}`,content:"",subSubsections:[],images:[],links:[]};return _e[Me].subsections=[...Ne,ft],_e})},onAddSubSubsection:(Me,xe)=>{M(_e=>{const Ne=[..._e],ft=Ne[Me].subsections[xe].subSubsections,Ze={id:Ri(),title:`Sub-subsection ${ft.length+1}`,content:"",images:[],links:[]};return Ne[Me].subsections[xe].subSubsections=[...ft,Ze],Ne})},onSelectSection:V,onUpdateSectionTitle:(Me,xe)=>{M(_e=>{const Ne=[..._e];return Ne[Me].title=xe,Ne})},onUpdateSubsectionTitle:(Me,xe,_e)=>{M(Ne=>{const ft=[...Ne];return ft[Me].subsections[xe].title=_e,ft})},onUpdateSubSubsectionTitle:(Me,xe,_e,Ne)=>{M(ft=>{const Ze=[...ft];return Ze[Me].subsections[xe].subSubsections[_e].title=Ne,Ze})},onDeleteSection:Me=>{M(xe=>xe.filter((_e,Ne)=>Ne!==Me)),L({sectionIndex:0})},onDeleteSubsection:(Me,xe)=>{M(_e=>{const Ne=[..._e];return Ne[Me].subsections=Ne[Me].subsections.filter((ft,Ze)=>Ze!==xe),Ne})},onDeleteSubSubsection:(Me,xe,_e)=>{M(Ne=>{const ft=[...Ne];return ft[Me].subsections[xe].subSubsections=ft[Me].subsections[xe].subSubsections.filter((Ze,Mt)=>Mt!==_e),ft})},isViewMode:!1})}),f.jsx(me,{sx:{flexGrow:1,p:4,overflow:"auto"},children:ae==="ai"?f.jsx(K.Suspense,{fallback:f.jsx(Gr,{}),children:f.jsx(fQ,{courseId:g,authorId:(t==null?void 0:t.uid)||"",imageUploadProgress:ee,isSaving:we,onMaterialReady:async Me=>{console.log(" AI Material ready callback triggered:",Me);try{ye(!0),se({completed:0,total:1});const xe=Ri(),_e=await Qw(g,(t==null?void 0:t.uid)||"",xe,(Ze,Mt)=>{console.log(` Image upload progress: ${Ze}/${Mt}`),se({completed:Ze,total:Mt})});console.log(" Material with images converted:",_e);const Ne={..._e,sections:Array.isArray(_e.sections)?_e.sections:[]},ft=await Ma(wn(r,"materials"),{...Ne,timestamp:Kf(),scheduledTimestamp:null});console.log(" Material saved to Firestore with ID:",ft.id),await Wr(ft,{id:ft.id}),console.log(" Material updated with correct ID:",ft.id),O("AI-imported material saved successfully!"),T("success"),Q(!0),Z(!1),Dd.getState().resetImport(),U("manual"),ye(!1),se(null),n(`/edit-material/${ft.id}`)}catch(xe){console.error(" Failed to save AI material:",xe),O("Failed to save AI-imported material. Please try again."),T("error"),Q(!0),ye(!1),se(null)}},onCancel:()=>U("manual"),onError:(Me,xe)=>{console.error("Material Import Error:",Me,xe),O(`Import error: ${Me.message}`),T("error"),Q(!0)}})}):f.jsxs(me,{children:[f.jsx(Bt,{fullWidth:!0,label:"Section Title",value:te(),onChange:Me=>ve(Me.target.value),variant:"outlined",sx:{mb:3}}),f.jsx(fn,{elevation:0,sx:{p:3,mb:3,backgroundColor:ht.palette.background.paper,borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`},children:f.jsx(EH,{content:Se(),onChange:ge})}),k.sectionIndex!==void 0&&f.jsxs(me,{sx:{mb:3},children:[f.jsx(fn,{elevation:0,sx:{p:3,mb:2,backgroundColor:ht.palette.background.paper,borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`},children:f.jsx(LF,{sectionId:lt(),images:Ie(),onImagesChange:ke})}),f.jsx(fn,{elevation:0,sx:{p:3,backgroundColor:ht.palette.background.paper,borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`},children:f.jsx(RF,{links:Pe(),onLinksChange:Ke})})]}),ue&&f.jsx(me,{sx:{mb:3},children:f.jsx(dQ,{value:X,onChange:ie})}),ee&&f.jsx(me,{sx:{mb:3},children:f.jsxs(fn,{elevation:1,sx:{p:2,backgroundColor:ht.palette.background.paper,borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`},children:[f.jsxs(de,{variant:"body2",sx:{mb:1,color:ht.palette.text.secondary},children:["Uploading images... (",ee.completed," of ",ee.total,")"]}),f.jsx(Xo,{variant:"determinate",value:ee.completed/ee.total*100,sx:{borderRadius:Zt.xl,height:8,backgroundColor:ht.palette.grey[200],"& .MuiLinearProgress-bar":{borderRadius:Zt.xl,backgroundColor:ht.palette.primary.main}}})]})}),f.jsxs(me,{sx:{display:"flex",gap:2,justifyContent:"flex-end",flexWrap:"wrap"},children:[f.jsx(At,{variant:"outlined",onClick:Me=>We(Me,!1),startIcon:f.jsx(D0,{}),sx:{textTransform:"none"},children:"Save Draft"}),f.jsx(At,{variant:"contained",onClick:Me=>We(Me,!0),startIcon:f.jsx(rR,{}),sx:{textTransform:"none"},children:"Publish"}),f.jsx(At,{variant:"outlined",onClick:ce,startIcon:f.jsx(Q0,{}),sx:{textTransform:"none",borderColor:ht.palette.primary.main,color:ht.palette.primary.main,"&:hover":{backgroundColor:ht.palette.primary.main,color:ht.palette.primary.contrastText}},children:"Schedule Publish"})]})]})})]}),f.jsx(rl,{open:B,autoHideDuration:6e3,onClose:()=>Q(!1),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:f.jsx(vr,{onClose:()=>Q(!1),severity:z,sx:{width:"100%"},children:j})})]})},hQ=()=>{const{id:e}=T6(),n=Jn(),{userDetails:t}=Ai(),[r,i]=K.useState(null),a=K.useMemo(()=>t!=null&&t.classes?Object.entries(t.classes).filter(([l,c])=>c.isCourseAdmin).map(([l])=>l):[],[t==null?void 0:t.classes]);K.useEffect(()=>{e&&(async()=>{try{const c=xn(n,"materials",e),d=await Oa(c);if(d.exists()){const h={id:d.id,...d.data()};console.log("Material data from Firestore:",h),console.log("Sections type:",typeof h.sections),console.log("Sections value:",h.sections),Array.isArray(h.sections)||(console.warn("Sections is not an array, initializing as empty array. Original value:",h.sections),h.sections=[]),h.sections=h.sections.map(g=>({id:g.id||Ri(),title:g.title||"Untitled Section",content:g.content||"",images:Array.isArray(g.images)?g.images.map(m=>({...m,title:m.title||""})):[],links:Array.isArray(g.links)?g.links:[],subsections:Array.isArray(g.subsections)?g.subsections.map(m=>({id:m.id||Ri(),title:m.title||"Untitled Subsection",content:m.content||"",images:Array.isArray(m.images)?m.images.map(x=>({...x,title:x.title||""})):[],links:Array.isArray(m.links)?m.links:[],subSubsections:Array.isArray(m.subSubsections)?m.subSubsections.map(x=>({id:x.id||Ri(),title:x.title||"Untitled Sub-subsection",content:x.content||"",images:Array.isArray(x.images)?x.images.map(y=>({...y,title:y.title||""})):[],links:Array.isArray(x.links)?x.links:[]})):[]})):[]})),h.course=a.includes(h.course)?h.course:a[0]||"",i(h)}}catch(c){console.error("Error fetching material:",c)}})()},[e,n,t,a]);const s=async l=>{try{if(e){const c=xn(n,"materials",e);await Wr(c,{...l})}}catch(c){console.error("Error updating material:",c)}};return r?f.jsx(IO,{materialData:r,onSubmit:s}):f.jsx(me,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Gr,{})})},Nk=({children:e,...n})=>f.jsx(me,{...n,sx:{marginBottom:4,textAlign:"center",position:"relative"},children:e}),pQ=({src:e,alt:n,...t})=>f.jsx("img",{src:e,alt:n,...t,style:{maxWidth:"100%",maxHeight:"500px",marginBottom:8,borderRadius:8,boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease-in-out",...t.style},onMouseEnter:r=>{r.currentTarget.style.transform="scale(1.02)",r.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.15)"},onMouseLeave:r=>{r.currentTarget.style.transform="scale(1)",r.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)"}}),mQ=e=>f.jsx(iR,{...e,sx:{borderRadius:1,marginBottom:1}}),gQ=({src:e,alt:n,title:t})=>{const[r,i]=K.useState(!1),[a,s]=K.useState(!1),[l]=K.useState(0);return K.useEffect(()=>{i(!1),s(!1);const c=new Image;return c.src=e,c.onload=()=>{console.log(` SmartImage loaded: ${e.substring(0,50)}...`),i(!0)},c.onerror=d=>{console.error(` SmartImage failed to load: ${e}`,d),console.error("Image details:",{src:e,naturalWidth:c.naturalWidth,naturalHeight:c.naturalHeight,complete:c.complete}),console.error("Image load failed. URL accessible via curl but blocked in browser."),console.error("This is likely a Firebase Storage CORS configuration issue."),console.error(`Fix: Configure CORS to allow ${window.location.origin}`),s(!0)},()=>{c.onload=null,c.onerror=null}},[e,l]),a?f.jsxs(Nk,{children:[f.jsxs(me,{sx:{width:"100%",maxWidth:400,height:200,bgcolor:"#ffebee",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:1,border:"1px dashed #f44336",p:2},children:[f.jsx(de,{variant:"body2",color:"error",gutterBottom:!0,children:"Image failed to load"}),f.jsx(de,{variant:"caption",color:"text.secondary",sx:{textAlign:"center",wordBreak:"break-all"},children:t}),f.jsxs(de,{variant:"caption",color:"text.secondary",sx:{mt:1,fontSize:"0.7rem"},children:["URL: ",e.substring(0,60),"..."]})]}),f.jsx(de,{variant:"body2",sx:{fontStyle:"italic",mt:1},children:t})]}):f.jsxs(Nk,{children:[!r&&f.jsx(mQ,{variant:"rectangular",width:"100%",height:300,sx:{maxWidth:400}}),f.jsx(Uw,{in:r,timeout:500,children:f.jsx(me,{sx:{display:r?"block":"none"},children:f.jsx(pQ,{src:e,alt:n,loading:"lazy"})})}),r&&f.jsx(Uw,{in:r,timeout:700,children:f.jsx(de,{variant:"body2",sx:{fontStyle:"italic",color:"text.secondary"},children:t})})]})},J5=({images:e})=>f.jsx(me,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:e.map((n,t)=>f.jsx(gQ,{src:n.url,alt:`Image ${t+1}`,title:n.title,index:t},`${n.url}-${t}`))}),bQ=e=>!e.startsWith("http://")&&!e.startsWith("https://")?`https://${e}`:e,yQ=({links:e})=>e.length===0?null:f.jsxs(me,{sx:{mt:2,width:"50%"},children:[f.jsx(de,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Links"}),f.jsxs(me,{sx:{display:"flex",mb:1,borderBottom:"1px solid gray"},children:[f.jsx(de,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"Title"}),f.jsx(de,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"URL"}),f.jsx(de,{sx:{flexBasis:"40%",fontWeight:"bold"},children:"Description"})]}),e.map((n,t)=>f.jsx(me,{children:f.jsxs(me,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap",borderBottom:"1px solid lightgray"},children:[f.jsx(de,{sx:{flexBasis:"30%",fontStyle:"italic",wordWrap:"break-word",paddingRight:"8px"},children:n.title}),f.jsx(A6,{sx:{flexBasis:"30%",wordWrap:"break-word",paddingRight:"8px"},href:bQ(n.url),target:"_blank",rel:"noopener",children:n.url}),f.jsx(de,{sx:{flexBasis:"40%",wordWrap:"break-word"},children:n.description})]})},t))]});var Ps=Uint8Array,Qo=Uint16Array,fA=Int32Array,Ev=new Ps([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_v=new Ps([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ES=new Ps([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DO=function(e,n){for(var t=new Qo(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1];for(var i=new fA(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r;return{b:t,r:i}},LO=DO(Ev,2),RO=LO.b,_S=LO.r;RO[28]=258,_S[258]=28;var MO=DO(_v,0),xQ=MO.b,Tk=MO.r,kS=new Qo(32768);for(var hi=0;hi<32768;++hi){var Rf=(hi&43690)>>1|(hi&21845)<<1;Rf=(Rf&52428)>>2|(Rf&13107)<<2,Rf=(Rf&61680)>>4|(Rf&3855)<<4,kS[hi]=((Rf&65280)>>8|(Rf&255)<<8)>>1}var Ic=function(e,n,t){for(var r=e.length,i=0,a=new Qo(n);i<r;++i)e[i]&&++a[e[i]-1];var s=new Qo(n);for(i=1;i<n;++i)s[i]=s[i-1]+a[i-1]<<1;var l;if(t){l=new Qo(1<<n);var c=15-n;for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],h=n-e[i],g=s[e[i]-1]++<<h,b=g|(1<<h)-1;g<=b;++g)l[kS[g]>>c]=d}else for(l=new Qo(r),i=0;i<r;++i)e[i]&&(l[i]=kS[s[e[i]-1]++]>>15-e[i]);return l},sh=new Ps(288);for(var hi=0;hi<144;++hi)sh[hi]=8;for(var hi=144;hi<256;++hi)sh[hi]=9;for(var hi=256;hi<280;++hi)sh[hi]=7;for(var hi=280;hi<288;++hi)sh[hi]=8;var Ag=new Ps(32);for(var hi=0;hi<32;++hi)Ag[hi]=5;var vQ=Ic(sh,9,0),wQ=Ic(sh,9,1),SQ=Ic(Ag,5,0),AQ=Ic(Ag,5,1),ew=function(e){for(var n=e[0],t=1;t<e.length;++t)e[t]>n&&(n=e[t]);return n},fu=function(e,n,t){var r=n/8|0;return(e[r]|e[r+1]<<8)>>(n&7)&t},tw=function(e,n){var t=n/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(n&7)},hA=function(e){return(e+7)/8|0},FO=function(e,n,t){return(t==null||t>e.length)&&(t=e.length),new Ps(e.subarray(n,t))},CQ=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],gu=function(e,n,t){var r=new Error(n||CQ[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,gu),!t)throw r;return r},EQ=function(e,n,t,r){var i=e.length,a=0;if(!i||n.f&&!n.l)return t||new Ps(0);var s=!t,l=s||n.i!=2,c=n.i;s&&(t=new Ps(i*3));var d=function(Le){var He=t.length;if(Le>He){var We=new Ps(Math.max(He*2,Le));We.set(t),t=We}},h=n.f||0,g=n.p||0,b=n.b||0,m=n.l,x=n.d,y=n.m,A=n.n,w=i*8;do{if(!m){h=fu(e,g,1);var C=fu(e,g+1,3);if(g+=3,C)if(C==1)m=wQ,x=AQ,y=9,A=5;else if(C==2){var M=fu(e,g,31)+257,k=fu(e,g+10,15)+4,L=M+fu(e,g+5,31)+1;g+=14;for(var B=new Ps(L),Q=new Ps(19),j=0;j<k;++j)Q[ES[j]]=fu(e,g+j*3,7);g+=k*3;for(var O=ew(Q),z=(1<<O)-1,T=Ic(Q,O,1),j=0;j<L;){var G=T[fu(e,g,z)];g+=G&15;var N=G>>4;if(N<16)B[j++]=N;else{var W=0,X=0;for(N==16?(X=3+fu(e,g,3),g+=2,W=B[j-1]):N==17?(X=3+fu(e,g,7),g+=3):N==18&&(X=11+fu(e,g,127),g+=7);X--;)B[j++]=W}}var ie=B.subarray(0,M),ue=B.subarray(M);y=ew(ie),A=ew(ue),m=Ic(ie,y,1),x=Ic(ue,A,1)}else gu(1);else{var N=hA(g)+4,F=e[N-4]|e[N-3]<<8,R=N+F;if(R>i){c&&gu(0);break}l&&d(b+F),t.set(e.subarray(N,R),b),n.b=b+=F,n.p=g=R*8,n.f=h;continue}if(g>w){c&&gu(0);break}}l&&d(b+131072);for(var $=(1<<y)-1,ae=(1<<A)-1,U=g;;U=g){var W=m[tw(e,g)&$],q=W>>4;if(g+=W&15,g>w){c&&gu(0);break}if(W||gu(2),q<256)t[b++]=q;else if(q==256){U=g,m=null;break}else{var Z=q-254;if(q>264){var j=q-257,ee=Ev[j];Z=fu(e,g,(1<<ee)-1)+RO[j],g+=ee}var se=x[tw(e,g)&ae],we=se>>4;se||gu(3),g+=se&15;var ue=xQ[we];if(we>3){var ee=_v[we];ue+=tw(e,g)&(1<<ee)-1,g+=ee}if(g>w){c&&gu(0);break}l&&d(b+131072);var ye=b+Z;if(b<ue){var Ce=a-ue,Oe=Math.min(ue,ye);for(Ce+b<0&&gu(3);b<Oe;++b)t[b]=r[Ce+b]}for(;b<ye;++b)t[b]=t[b-ue]}}n.l=m,n.p=U,n.b=b,n.f=h,m&&(h=1,n.m=y,n.d=x,n.n=A)}while(!h);return b!=t.length&&s?FO(t,0,b):t.subarray(0,b)},wd=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8},x1=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>8,e[r+2]|=t>>16},nw=function(e,n){for(var t=[],r=0;r<e.length;++r)e[r]&&t.push({s:r,f:e[r]});var i=t.length,a=t.slice();if(!i)return{t:zO,l:0};if(i==1){var s=new Ps(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(R,M){return R.f-M.f}),t.push({s:-1,f:25001});var l=t[0],c=t[1],d=0,h=1,g=2;for(t[0]={s:-1,f:l.f+c.f,l,r:c};h!=i-1;)l=t[t[d].f<t[g].f?d++:g++],c=t[d!=h&&t[d].f<t[g].f?d++:g++],t[h++]={s:-1,f:l.f+c.f,l,r:c};for(var b=a[0].s,r=1;r<i;++r)a[r].s>b&&(b=a[r].s);var m=new Qo(b+1),x=jS(t[h-1],m,0);if(x>n){var r=0,y=0,A=x-n,w=1<<A;for(a.sort(function(M,k){return m[k.s]-m[M.s]||M.f-k.f});r<i;++r){var C=a[r].s;if(m[C]>n)y+=w-(1<<x-m[C]),m[C]=n;else break}for(y>>=A;y>0;){var N=a[r].s;m[N]<n?y-=1<<n-m[N]++-1:++r}for(;r>=0&&y;--r){var F=a[r].s;m[F]==n&&(--m[F],++y)}x=n}return{t:new Ps(m),l:x}},jS=function(e,n,t){return e.s==-1?Math.max(jS(e.l,n,t+1),jS(e.r,n,t+1)):n[e.s]=t},Ok=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new Qo(++n),r=0,i=e[0],a=1,s=function(c){t[r++]=c},l=1;l<=n;++l)if(e[l]==i&&l!=n)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[l]}return{c:t.subarray(0,r),n}},v1=function(e,n){for(var t=0,r=0;r<n.length;++r)t+=e[r]*n[r];return t},PO=function(e,n,t){var r=t.length,i=hA(n+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=t[a];return(i+4+r)*8},Ik=function(e,n,t,r,i,a,s,l,c,d,h){wd(n,h++,t),++i[256];for(var g=nw(i,15),b=g.t,m=g.l,x=nw(a,15),y=x.t,A=x.l,w=Ok(b),C=w.c,N=w.n,F=Ok(y),R=F.c,M=F.n,k=new Qo(19),L=0;L<C.length;++L)++k[C[L]&31];for(var L=0;L<R.length;++L)++k[R[L]&31];for(var B=nw(k,7),Q=B.t,j=B.l,O=19;O>4&&!Q[ES[O-1]];--O);var z=d+5<<3,T=v1(i,sh)+v1(a,Ag)+s,G=v1(i,b)+v1(a,y)+s+14+3*O+v1(k,Q)+2*k[16]+3*k[17]+7*k[18];if(c>=0&&z<=T&&z<=G)return PO(n,h,e.subarray(c,c+d));var W,X,ie,ue;if(wd(n,h,1+(G<T)),h+=2,G<T){W=Ic(b,m,0),X=b,ie=Ic(y,A,0),ue=y;var $=Ic(Q,j,0);wd(n,h,N-257),wd(n,h+5,M-1),wd(n,h+10,O-4),h+=14;for(var L=0;L<O;++L)wd(n,h+3*L,Q[ES[L]]);h+=3*O;for(var ae=[C,R],U=0;U<2;++U)for(var q=ae[U],L=0;L<q.length;++L){var Z=q[L]&31;wd(n,h,$[Z]),h+=Q[Z],Z>15&&(wd(n,h,q[L]>>5&127),h+=q[L]>>12)}}else W=vQ,X=sh,ie=SQ,ue=Ag;for(var L=0;L<l;++L){var ee=r[L];if(ee>255){var Z=ee>>18&31;x1(n,h,W[Z+257]),h+=X[Z+257],Z>7&&(wd(n,h,ee>>23&31),h+=Ev[Z]);var se=ee&31;x1(n,h,ie[se]),h+=ue[se],se>3&&(x1(n,h,ee>>5&8191),h+=_v[se])}else x1(n,h,W[ee]),h+=X[ee]}return x1(n,h,W[256]),h+X[256]},_Q=new fA([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),zO=new Ps(0),kQ=function(e,n,t,r,i,a){var s=a.z||e.length,l=new Ps(r+s+5*(1+Math.ceil(s/7e3))+i),c=l.subarray(r,l.length-i),d=a.l,h=(a.r||0)&7;if(n){h&&(c[0]=a.r>>3);for(var g=_Q[n-1],b=g>>13,m=g&8191,x=(1<<t)-1,y=a.p||new Qo(32768),A=a.h||new Qo(x+1),w=Math.ceil(t/3),C=2*w,N=function(V){return(e[V]^e[V+1]<<w^e[V+2]<<C)&x},F=new fA(25e3),R=new Qo(288),M=new Qo(32),k=0,L=0,B=a.i||0,Q=0,j=a.w||0,O=0;B+2<s;++B){var z=N(B),T=B&32767,G=A[z];if(y[T]=G,A[z]=T,j<=B){var W=s-B;if((k>7e3||Q>24576)&&(W>423||!d)){h=Ik(e,c,0,F,R,M,L,Q,O,B-O,h),Q=k=L=0,O=B;for(var X=0;X<286;++X)R[X]=0;for(var X=0;X<30;++X)M[X]=0}var ie=2,ue=0,$=m,ae=T-G&32767;if(W>2&&z==N(B-ae))for(var U=Math.min(b,W)-1,q=Math.min(32767,B),Z=Math.min(258,W);ae<=q&&--$&&T!=G;){if(e[B+ie]==e[B+ie-ae]){for(var ee=0;ee<Z&&e[B+ee]==e[B+ee-ae];++ee);if(ee>ie){if(ie=ee,ue=ae,ee>U)break;for(var se=Math.min(ae,ee-2),we=0,X=0;X<se;++X){var ye=B-ae+X&32767,Ce=y[ye],Oe=ye-Ce&32767;Oe>we&&(we=Oe,G=ye)}}}T=G,G=y[T],ae+=T-G&32767}if(ue){F[Q++]=268435456|_S[ie]<<18|Tk[ue];var Le=_S[ie]&31,He=Tk[ue]&31;L+=Ev[Le]+_v[He],++R[257+Le],++M[He],j=B+ie,++k}else F[Q++]=e[B],++R[e[B]]}}for(B=Math.max(B,j);B<s;++B)F[Q++]=e[B],++R[e[B]];h=Ik(e,c,d,F,R,M,L,Q,O,B-O,h),d||(a.r=h&7|c[h/8|0]<<3,h-=7,a.h=A,a.p=y,a.i=B,a.w=j)}else{for(var B=a.w||0;B<s+d;B+=65535){var We=B+65535;We>=s&&(c[h/8|0]=d,We=s),h=PO(c,h+1,e.subarray(B,We))}a.i=s}return FO(l,0,r+hA(h)+i)},qO=function(){var e=1,n=0;return{p:function(t){for(var r=e,i=n,a=t.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)i+=r+=t[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,n=i},d:function(){return e%=65521,n%=65521,(e&255)<<24|(e&65280)<<8|(n&255)<<8|n>>8}}},jQ=function(e,n,t,r,i){if(!i&&(i={l:1},n.dictionary)){var a=n.dictionary.subarray(-32768),s=new Ps(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return kQ(e,n.level==null?6:n.level,n.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+n.mem,t,r,i)},BO=function(e,n,t){for(;t;++n)e[n]=t,t>>>=8},NQ=function(e,n){var t=n.level,r=t==0?0:t<6?1:t==9?3:2;if(e[0]=120,e[1]=r<<6|(n.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,n.dictionary){var i=qO();i.p(n.dictionary),BO(e,2,i.d())}},TQ=function(e,n){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&gu(6,"invalid zlib data"),(e[1]>>5&1)==1&&gu(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function NS(e,n){n||(n={});var t=qO();t.p(e);var r=jQ(e,n,n.dictionary?6:2,4);return NQ(r,n),BO(r,r.length-4,t.d()),r}function OQ(e,n){return EQ(e.subarray(TQ(e),-4),{i:2},n,n)}var IQ=typeof TextDecoder<"u"&&new TextDecoder,DQ=0;try{IQ.decode(zO,{stream:!0}),DQ=1}catch{}var dn=function(){return typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:this}();function rw(){dn.console&&typeof dn.console.log=="function"&&dn.console.log.apply(dn.console,arguments)}var Zr={log:rw,warn:function(e){dn.console&&(typeof dn.console.warn=="function"?dn.console.warn.apply(dn.console,arguments):rw.call(null,arguments))},error:function(e){dn.console&&(typeof dn.console.error=="function"?dn.console.error.apply(dn.console,arguments):rw(e))}};function iw(e,n,t){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Yh(r.response,n,t)},r.onerror=function(){Zr.error("could not download file")},r.send()}function Dk(e){var n=new XMLHttpRequest;n.open("HEAD",e,!1);try{n.send()}catch{}return n.status>=200&&n.status<=299}function Iy(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var J1,TS,Yh=dn.saveAs||((typeof window>"u"?"undefined":Jr(window))!=="object"||window!==dn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,n,t){var r=dn.URL||dn.webkitURL,i=document.createElement("a");n=n||e.name||"download",i.download=n,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?Dk(i.href)?iw(e,n,t):Iy(i,i.target="_blank"):Iy(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Iy(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,n,t){if(n=n||e.name||"download",typeof e=="string")if(Dk(e))iw(e,n,t);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Iy(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Jr(a)!=="object"&&(Zr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,t),n)}:function(e,n,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return iw(e,n,t);var i=e.type==="application/octet-stream",a=/constructor/i.test(dn.HTMLElement)||dn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":Jr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=s?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},l.readAsDataURL(e)}else{var c=dn.URL||dn.webkitURL,d=c.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function UO(e){var n;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,a=t[r].process,s=i.exec(e);s&&(n=a(s),this.r=n[0],this.g=n[1],this.b=n[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function aw(e,n){var t=e[0],r=e[1],i=e[2],a=e[3];t=Ts(t,r,i,a,n[0],7,-680876936),a=Ts(a,t,r,i,n[1],12,-389564586),i=Ts(i,a,t,r,n[2],17,606105819),r=Ts(r,i,a,t,n[3],22,-1044525330),t=Ts(t,r,i,a,n[4],7,-176418897),a=Ts(a,t,r,i,n[5],12,1200080426),i=Ts(i,a,t,r,n[6],17,-1473231341),r=Ts(r,i,a,t,n[7],22,-45705983),t=Ts(t,r,i,a,n[8],7,1770035416),a=Ts(a,t,r,i,n[9],12,-1958414417),i=Ts(i,a,t,r,n[10],17,-42063),r=Ts(r,i,a,t,n[11],22,-1990404162),t=Ts(t,r,i,a,n[12],7,1804603682),a=Ts(a,t,r,i,n[13],12,-40341101),i=Ts(i,a,t,r,n[14],17,-1502002290),t=Os(t,r=Ts(r,i,a,t,n[15],22,1236535329),i,a,n[1],5,-165796510),a=Os(a,t,r,i,n[6],9,-1069501632),i=Os(i,a,t,r,n[11],14,643717713),r=Os(r,i,a,t,n[0],20,-373897302),t=Os(t,r,i,a,n[5],5,-701558691),a=Os(a,t,r,i,n[10],9,38016083),i=Os(i,a,t,r,n[15],14,-660478335),r=Os(r,i,a,t,n[4],20,-405537848),t=Os(t,r,i,a,n[9],5,568446438),a=Os(a,t,r,i,n[14],9,-1019803690),i=Os(i,a,t,r,n[3],14,-187363961),r=Os(r,i,a,t,n[8],20,1163531501),t=Os(t,r,i,a,n[13],5,-1444681467),a=Os(a,t,r,i,n[2],9,-51403784),i=Os(i,a,t,r,n[7],14,1735328473),t=Is(t,r=Os(r,i,a,t,n[12],20,-1926607734),i,a,n[5],4,-378558),a=Is(a,t,r,i,n[8],11,-2022574463),i=Is(i,a,t,r,n[11],16,1839030562),r=Is(r,i,a,t,n[14],23,-35309556),t=Is(t,r,i,a,n[1],4,-1530992060),a=Is(a,t,r,i,n[4],11,1272893353),i=Is(i,a,t,r,n[7],16,-155497632),r=Is(r,i,a,t,n[10],23,-1094730640),t=Is(t,r,i,a,n[13],4,681279174),a=Is(a,t,r,i,n[0],11,-358537222),i=Is(i,a,t,r,n[3],16,-722521979),r=Is(r,i,a,t,n[6],23,76029189),t=Is(t,r,i,a,n[9],4,-640364487),a=Is(a,t,r,i,n[12],11,-421815835),i=Is(i,a,t,r,n[15],16,530742520),t=Ds(t,r=Is(r,i,a,t,n[2],23,-995338651),i,a,n[0],6,-198630844),a=Ds(a,t,r,i,n[7],10,1126891415),i=Ds(i,a,t,r,n[14],15,-1416354905),r=Ds(r,i,a,t,n[5],21,-57434055),t=Ds(t,r,i,a,n[12],6,1700485571),a=Ds(a,t,r,i,n[3],10,-1894986606),i=Ds(i,a,t,r,n[10],15,-1051523),r=Ds(r,i,a,t,n[1],21,-2054922799),t=Ds(t,r,i,a,n[8],6,1873313359),a=Ds(a,t,r,i,n[15],10,-30611744),i=Ds(i,a,t,r,n[6],15,-1560198380),r=Ds(r,i,a,t,n[13],21,1309151649),t=Ds(t,r,i,a,n[4],6,-145523070),a=Ds(a,t,r,i,n[11],10,-1120210379),i=Ds(i,a,t,r,n[2],15,718787259),r=Ds(r,i,a,t,n[9],21,-343485551),e[0]=Yf(t,e[0]),e[1]=Yf(r,e[1]),e[2]=Yf(i,e[2]),e[3]=Yf(a,e[3])}function kv(e,n,t,r,i,a){return n=Yf(Yf(n,e),Yf(r,a)),Yf(n<<i|n>>>32-i,t)}function Ts(e,n,t,r,i,a,s){return kv(n&t|~n&r,e,n,i,a,s)}function Os(e,n,t,r,i,a,s){return kv(n&r|t&~r,e,n,i,a,s)}function Is(e,n,t,r,i,a,s){return kv(n^t^r,e,n,i,a,s)}function Ds(e,n,t,r,i,a,s){return kv(t^(n|~r),e,n,i,a,s)}function $O(e){var n,t=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=e.length;n+=64)aw(r,LQ(e.substring(n-64,n)));e=e.substring(n-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)i[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(aw(r,i),n=0;n<16;n++)i[n]=0;return i[14]=8*t,aw(r,i),r}function LQ(e){var n,t=[];for(n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}J1=dn.atob.bind(dn),TS=dn.btoa.bind(dn);var Lk="0123456789abcdef".split("");function RQ(e){for(var n="",t=0;t<4;t++)n+=Lk[e>>8*t+4&15]+Lk[e>>8*t&15];return n}function MQ(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function OS(e){return $O(e).map(MQ).join("")}var FQ=function(e){for(var n=0;n<e.length;n++)e[n]=RQ(e[n]);return e.join("")}($O("hello"))!="5d41402abc4b2a76b9719d911017c592";function Yf(e,n){if(FQ){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}return e+n&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function IS(e,n){var t,r,i,a;if(e!==t){for(var s=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var h=l[c];d=(d+h+s.charCodeAt(c))%256,l[c]=l[d],l[d]=h}t=e,r=l}else l=r;var g=n.length,b=0,m=0,x="";for(c=0;c<g;c++)m=(m+(h=l[b=(b+1)%256]))%256,l[b]=l[m],l[m]=h,s=l[(l[b]+l[m])%256],x+=String.fromCharCode(n.charCodeAt(c)^s);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Rk={print:4,modify:8,copy:16,"annot-forms":32};function T0(e,n,t,r){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(Rk.perm!==void 0)throw new Error("Invalid permission: "+l);i+=Rk[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(n+this.padding).substr(0,32),s=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=OS(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=IS(this.encryptionKey,this.padding)}function O0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var n="",t=e.length,r=0;r<t;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?n+="#"+("0"+i.toString(16)).slice(-2):n+=e[r]}return n}function Mk(e){if(Jr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var n={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");n.hasOwnProperty(t)||(n[t]={});var a=Math.random().toString(35);return n[t][a]=[r,!!i],a},this.unsubscribe=function(t){for(var r in n)if(n[r][t])return delete n[r][t],Object.keys(n[r]).length===0&&delete n[r],!0;return!1},this.publish=function(t){if(n.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in n[t]){var s=n[t][a];try{s[0].apply(e,r)}catch(l){dn.console&&Zr.error("jsPDF PubSub Error",l.message,l)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return n}}function Hx(e){if(!(this instanceof Hx))return new Hx(e);var n="opacity,stroke-opacity".split(",");for(var t in e)e.hasOwnProperty(t)&&n.indexOf(t)>=0&&(this[t]=e[t]);this.id="",this.objectNumber=-1}function HO(e,n){this.gState=e,this.matrix=n,this.id="",this.objectNumber=-1}function Gh(e,n,t,r,i){if(!(this instanceof Gh))return new Gh(e,n,t,r,i);this.type=e==="axial"?2:3,this.coords=n,this.colors=t,HO.call(this,r,i)}function I0(e,n,t,r,i){if(!(this instanceof I0))return new I0(e,n,t,r,i);this.boundingBox=e,this.xStep=n,this.yStep=t,this.stream="",this.cloneIndex=0,HO.call(this,r,i)}function ln(e){var n,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],s=[],l=1,c=16,d="S",h=null;Jr(e=e||{})==="object"&&(t=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(n=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),r=r||"mm",t=(""+(t||"P")).toLowerCase();var g=e.putOnlyUsedFonts||!1,b={},m={internal:{},__private__:{}};m.__private__.PubSub=Mk;var x="1.3",y=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(D){x=D};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return A};var w=m.__private__.getPageFormat=function(D){return A[D]};i=i||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},N=C.COMPAT;function F(){this.saveGraphicsState(),te(new Dt(Ze,0,0,-Ze,0,qu()*Ze).toString()+" cm"),this.setFontSize(this.getFontSize()/Ze),d="n",N=C.ADVANCED}function R(){this.restoreGraphicsState(),d="S",N=C.COMPAT}var M=m.__private__.combineFontStyleAndFontWeight=function(D,re){if(D=="bold"&&re=="normal"||D=="bold"&&re==400||D=="normal"&&re=="italic"||D=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(D=re==400||re==="normal"?D==="italic"?"italic":"normal":re!=700&&re!=="bold"||D!=="normal"?(re==700?"bold":re)+""+D:"bold"),D};m.advancedAPI=function(D){var re=N===C.COMPAT;return re&&F.call(this),typeof D!="function"||(D(this),re&&R.call(this)),this},m.compatAPI=function(D){var re=N===C.ADVANCED;return re&&R.call(this),typeof D!="function"||(D(this),re&&F.call(this)),this},m.isAdvancedAPI=function(){return N===C.ADVANCED};var k,L=function(D){if(N!==C.ADVANCED)throw new Error(D+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=m.roundToPrecision=m.__private__.roundToPrecision=function(D,re){var Ee=n||re;if(isNaN(D)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return D.toFixed(Ee).replace(/0+$/,"")};k=m.hpf=m.__private__.hpf=typeof c=="number"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return B(D,c)}:c==="smart"?function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return B(D,D>-1&&D<1?16:5)}:function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.hpf");return B(D,16)};var Q=m.f2=m.__private__.f2=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f2");return B(D,2)},j=m.__private__.f3=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.f3");return B(D,3)},O=m.scale=m.__private__.scale=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.scale");return N===C.COMPAT?D*Ze:N===C.ADVANCED?D:void 0},z=function(D){return N===C.COMPAT?qu()-D:N===C.ADVANCED?D:void 0},T=function(D){return O(z(D))};m.__private__.setPrecision=m.setPrecision=function(D){typeof parseInt(D,10)=="number"&&(n=parseInt(D,10))};var G,W="00000000000000000000000000000000",X=m.__private__.getFileId=function(){return W},ie=m.__private__.setFileId=function(D){return W=D!==void 0&&/^[a-fA-F0-9]{32}$/.test(D)?D.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(ui=new T0(h.userPermissions,h.userPassword,h.ownerPassword,W)),W};m.setFileId=function(D){return ie(D),this},m.getFileId=function(){return X()};var ue=m.__private__.convertDateToPDFDate=function(D){var re=D.getTimezoneOffset(),Ee=re<0?"+":"-",De=Math.floor(Math.abs(re/60)),Ve=Math.abs(re%60),ct=[Ee,Z(De),"'",Z(Ve),"'"].join("");return["D:",D.getFullYear(),Z(D.getMonth()+1),Z(D.getDate()),Z(D.getHours()),Z(D.getMinutes()),Z(D.getSeconds()),ct].join("")},$=m.__private__.convertPDFDateToDate=function(D){var re=parseInt(D.substr(2,4),10),Ee=parseInt(D.substr(6,2),10)-1,De=parseInt(D.substr(8,2),10),Ve=parseInt(D.substr(10,2),10),ct=parseInt(D.substr(12,2),10),Ct=parseInt(D.substr(14,2),10);return new Date(re,Ee,De,Ve,ct,Ct,0)},ae=m.__private__.setCreationDate=function(D){var re;if(D===void 0&&(D=new Date),D instanceof Date)re=ue(D);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(D))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=D}return G=re},U=m.__private__.getCreationDate=function(D){var re=G;return D==="jsDate"&&(re=$(G)),re};m.setCreationDate=function(D){return ae(D),this},m.getCreationDate=function(D){return U(D)};var q,Z=m.__private__.padd2=function(D){return("0"+parseInt(D)).slice(-2)},ee=m.__private__.padd2Hex=function(D){return("00"+(D=D.toString())).substr(D.length)},se=0,we=[],ye=[],Ce=0,Oe=[],Le=[],He=!1,We=ye,V=function(){se=0,Ce=0,ye=[],we=[],Oe=[],jr=fr(),Ia=fr()};m.__private__.setCustomOutputDestination=function(D){He=!0,We=D};var Se=function(D){He||(We=D)};m.__private__.resetCustomOutputDestination=function(){He=!1,We=ye};var te=m.__private__.out=function(D){return D=D.toString(),Ce+=D.length+1,We.push(D),We},ge=m.__private__.write=function(D){return te(arguments.length===1?D.toString():Array.prototype.join.call(arguments," "))},ce=m.__private__.getArrayBuffer=function(D){for(var re=D.length,Ee=new ArrayBuffer(re),De=new Uint8Array(Ee);re--;)De[re]=D.charCodeAt(re);return Ee},ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return ve};var Ie=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(D){return Ie=N===C.ADVANCED?D/Ze:D,this};var Pe,ke=m.__private__.getFontSize=m.getFontSize=function(){return N===C.COMPAT?Ie:Ie*Ze},Ke=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(D){return Ke=D,this},m.__private__.getR2L=m.getR2L=function(){return Ke};var lt,tt=m.__private__.setZoomMode=function(D){var re=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(D))Pe=D;else if(isNaN(D)){if(re.indexOf(D)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+D+'" is not recognized.');Pe=D}else Pe=parseInt(D,10)};m.__private__.getZoomMode=function(){return Pe};var Me,xe=m.__private__.setPageMode=function(D){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(D)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+D+'" is not recognized.');lt=D};m.__private__.getPageMode=function(){return lt};var _e=m.__private__.setLayoutMode=function(D){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(D)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+D+'" is not recognized.');Me=D};m.__private__.getLayoutMode=function(){return Me},m.__private__.setDisplayMode=m.setDisplayMode=function(D,re,Ee){return tt(D),_e(re),xe(Ee),this};var Ne={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(D){if(Object.keys(Ne).indexOf(D)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ne[D]},m.__private__.getDocumentProperties=function(){return Ne},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(D){for(var re in Ne)Ne.hasOwnProperty(re)&&D[re]&&(Ne[re]=D[re]);return this},m.__private__.setDocumentProperty=function(D,re){if(Object.keys(Ne).indexOf(D)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ne[D]=re};var ft,Ze,Mt,kt,Wt,Lt={},Kt={},nn=[],un={},zn={},qn={},Qr={},ar=null,Mn=0,Vt=[],En=new Mk(m),xa=e.hotfixes||[],Sr={},li={},va=[],Dt=function D(re,Ee,De,Ve,ct,Ct){if(!(this instanceof D))return new D(re,Ee,De,Ve,ct,Ct);isNaN(re)&&(re=1),isNaN(Ee)&&(Ee=0),isNaN(De)&&(De=0),isNaN(Ve)&&(Ve=1),isNaN(ct)&&(ct=0),isNaN(Ct)&&(Ct=0),this._matrix=[re,Ee,De,Ve,ct,Ct]};Object.defineProperty(Dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(D){this._matrix[0]=D}}),Object.defineProperty(Dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(D){this._matrix[1]=D}}),Object.defineProperty(Dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(D){this._matrix[2]=D}}),Object.defineProperty(Dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(D){this._matrix[3]=D}}),Object.defineProperty(Dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(D){this._matrix[4]=D}}),Object.defineProperty(Dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(D){this._matrix[5]=D}}),Object.defineProperty(Dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Dt.prototype.join=function(D){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(D)},Dt.prototype.multiply=function(D){var re=D.sx*this.sx+D.shy*this.shx,Ee=D.sx*this.shy+D.shy*this.sy,De=D.shx*this.sx+D.sy*this.shx,Ve=D.shx*this.shy+D.sy*this.sy,ct=D.tx*this.sx+D.ty*this.shx+this.tx,Ct=D.tx*this.shy+D.ty*this.sy+this.ty;return new Dt(re,Ee,De,Ve,ct,Ct)},Dt.prototype.decompose=function(){var D=this.sx,re=this.shy,Ee=this.shx,De=this.sy,Ve=this.tx,ct=this.ty,Ct=Math.sqrt(D*D+re*re),Tt=(D/=Ct)*Ee+(re/=Ct)*De;Ee-=D*Tt,De-=re*Tt;var Ut=Math.sqrt(Ee*Ee+De*De);return Tt/=Ut,D*(De/=Ut)<re*(Ee/=Ut)&&(D=-D,re=-re,Tt=-Tt,Ct=-Ct),{scale:new Dt(Ct,0,0,Ut,0,0),translate:new Dt(1,0,0,1,Ve,ct),rotate:new Dt(D,re,-re,D,0,0),skew:new Dt(1,0,Tt,1,0,0)}},Dt.prototype.toString=function(D){return this.join(" ")},Dt.prototype.inversed=function(){var D=this.sx,re=this.shy,Ee=this.shx,De=this.sy,Ve=this.tx,ct=this.ty,Ct=1/(D*De-re*Ee),Tt=De*Ct,Ut=-re*Ct,vn=-Ee*Ct,pn=D*Ct;return new Dt(Tt,Ut,vn,pn,-Tt*Ve-vn*ct,-Ut*Ve-pn*ct)},Dt.prototype.applyToPoint=function(D){var re=D.x*this.sx+D.y*this.shx+this.tx,Ee=D.x*this.shy+D.y*this.sy+this.ty;return new Jd(re,Ee)},Dt.prototype.applyToRectangle=function(D){var re=this.applyToPoint(D),Ee=this.applyToPoint(new Jd(D.x+D.w,D.y+D.h));return new bh(re.x,re.y,Ee.x-re.x,Ee.y-re.y)},Dt.prototype.clone=function(){var D=this.sx,re=this.shy,Ee=this.shx,De=this.sy,Ve=this.tx,ct=this.ty;return new Dt(D,re,Ee,De,Ve,ct)},m.Matrix=Dt;var Wn=m.matrixMult=function(D,re){return re.multiply(D)},sr=new Dt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=sr;var Mr=function(D,re){if(!zn[D]){var Ee=(re instanceof Gh?"Sh":"P")+(Object.keys(un).length+1).toString(10);re.id=Ee,zn[D]=Ee,un[Ee]=re,En.publish("addPattern",re)}};m.ShadingPattern=Gh,m.TilingPattern=I0,m.addShadingPattern=function(D,re){return L("addShadingPattern()"),Mr(D,re),this},m.beginTilingPattern=function(D){L("beginTilingPattern()"),ef(D.boundingBox[0],D.boundingBox[1],D.boundingBox[2]-D.boundingBox[0],D.boundingBox[3]-D.boundingBox[1],D.matrix)},m.endTilingPattern=function(D,re){L("endTilingPattern()"),re.stream=Le[q].join(`
`),Mr(D,re),En.publish("endTilingPattern",re),va.pop().restore()};var dr=m.__private__.newObject=function(){var D=fr();return Hn(D,!0),D},fr=m.__private__.newObjectDeferred=function(){return se++,we[se]=function(){return Ce},se},Hn=function(D,re){return re=typeof re=="boolean"&&re,we[D]=Ce,re&&te(D+" 0 obj"),D},ys=m.__private__.newAdditionalObject=function(){var D={objId:fr(),content:""};return Oe.push(D),D},jr=fr(),Ia=fr(),zi=m.__private__.decodeColorString=function(D){var re=D.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length===5&&(re[4]==="k"||re[4]==="K")&&(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var Ee=parseFloat(re[0]);re=[Ee,Ee,Ee,"r"]}for(var De="#",Ve=0;Ve<3;Ve++)De+=("0"+Math.floor(255*parseFloat(re[Ve])).toString(16)).slice(-2);return De},qi=m.__private__.encodeColorString=function(D){var re;typeof D=="string"&&(D={ch1:D});var Ee=D.ch1,De=D.ch2,Ve=D.ch3,ct=D.ch4,Ct=D.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var Tt=new UO(Ee);if(Tt.ok)Ee=Tt.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var Ut=parseInt(Ee.substr(1),16);Ee=Ut>>16&255,De=Ut>>8&255,Ve=255&Ut}if(De===void 0||ct===void 0&&Ee===De&&De===Ve)if(typeof Ee=="string")re=Ee+" "+Ct[0];else switch(D.precision){case 2:re=Q(Ee/255)+" "+Ct[0];break;case 3:default:re=j(Ee/255)+" "+Ct[0]}else if(ct===void 0||Jr(ct)==="object"){if(ct&&!isNaN(ct.a)&&ct.a===0)return re=["1.","1.","1.",Ct[1]].join(" ");if(typeof Ee=="string")re=[Ee,De,Ve,Ct[1]].join(" ");else switch(D.precision){case 2:re=[Q(Ee/255),Q(De/255),Q(Ve/255),Ct[1]].join(" ");break;default:case 3:re=[j(Ee/255),j(De/255),j(Ve/255),Ct[1]].join(" ")}}else if(typeof Ee=="string")re=[Ee,De,Ve,ct,Ct[2]].join(" ");else switch(D.precision){case 2:re=[Q(Ee),Q(De),Q(Ve),Q(ct),Ct[2]].join(" ");break;case 3:default:re=[j(Ee),j(De),j(Ve),j(ct),Ct[2]].join(" ")}return re},er=m.__private__.getFilters=function(){return s},Ci=m.__private__.putStream=function(D){var re=(D=D||{}).data||"",Ee=D.filters||er(),De=D.alreadyAppliedFilters||[],Ve=D.addLength1||!1,ct=re.length,Ct=D.objectId,Tt=function(ki){return ki};if(h!==null&&Ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Tt=ui.encryptor(Ct,0));var Ut={};Ee===!0&&(Ee=["FlateEncode"]);var vn=D.additionalKeyValues||[],pn=(Ut=ln.API.processDataByFilters!==void 0?ln.API.processDataByFilters(re,Ee):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(De)?De.join(" "):De.toString());if(Ut.data.length!==0&&(vn.push({key:"Length",value:Ut.data.length}),Ve===!0&&vn.push({key:"Length1",value:ct})),pn.length!=0)if(pn.split("/").length-1==1)vn.push({key:"Filter",value:pn});else{vn.push({key:"Filter",value:"["+pn+"]"});for(var Bn=0;Bn<vn.length;Bn+=1)if(vn[Bn].key==="DecodeParms"){for(var ti=[],ci=0;ci<Ut.reverseChain.split("/").length-1;ci+=1)ti.push("null");ti.push(vn[Bn].value),vn[Bn].value="["+ti.join(" ")+"]"}}te("<<");for(var _i=0;_i<vn.length;_i++)te("/"+vn[_i].key+" "+vn[_i].value);te(">>"),Ut.data.length!==0&&(te("stream"),te(Tt(Ut.data)),te("endstream"))},tr=m.__private__.putPage=function(D){var re=D.number,Ee=D.data,De=D.objId,Ve=D.contentsObjId;Hn(De,!0),te("<</Type /Page"),te("/Parent "+D.rootDictionaryObjId+" 0 R"),te("/Resources "+D.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(k(D.mediaBox.bottomLeftX))+" "+parseFloat(k(D.mediaBox.bottomLeftY))+" "+k(D.mediaBox.topRightX)+" "+k(D.mediaBox.topRightY)+"]"),D.cropBox!==null&&te("/CropBox ["+k(D.cropBox.bottomLeftX)+" "+k(D.cropBox.bottomLeftY)+" "+k(D.cropBox.topRightX)+" "+k(D.cropBox.topRightY)+"]"),D.bleedBox!==null&&te("/BleedBox ["+k(D.bleedBox.bottomLeftX)+" "+k(D.bleedBox.bottomLeftY)+" "+k(D.bleedBox.topRightX)+" "+k(D.bleedBox.topRightY)+"]"),D.trimBox!==null&&te("/TrimBox ["+k(D.trimBox.bottomLeftX)+" "+k(D.trimBox.bottomLeftY)+" "+k(D.trimBox.topRightX)+" "+k(D.trimBox.topRightY)+"]"),D.artBox!==null&&te("/ArtBox ["+k(D.artBox.bottomLeftX)+" "+k(D.artBox.bottomLeftY)+" "+k(D.artBox.topRightX)+" "+k(D.artBox.topRightY)+"]"),typeof D.userUnit=="number"&&D.userUnit!==1&&te("/UserUnit "+D.userUnit),En.publish("putPage",{objId:De,pageContext:Vt[re],pageNumber:re,page:Ee}),te("/Contents "+Ve+" 0 R"),te(">>"),te("endobj");var ct=Ee.join(`
`);return N===C.ADVANCED&&(ct+=`
Q`),Hn(Ve,!0),Ci({data:ct,filters:er(),objectId:Ve}),te("endobj"),De},ro=m.__private__.putPages=function(){var D,re,Ee=[];for(D=1;D<=Mn;D++)Vt[D].objId=fr(),Vt[D].contentsObjId=fr();for(D=1;D<=Mn;D++)Ee.push(tr({number:D,data:Le[D],objId:Vt[D].objId,contentsObjId:Vt[D].contentsObjId,mediaBox:Vt[D].mediaBox,cropBox:Vt[D].cropBox,bleedBox:Vt[D].bleedBox,trimBox:Vt[D].trimBox,artBox:Vt[D].artBox,userUnit:Vt[D].userUnit,rootDictionaryObjId:jr,resourceDictionaryObjId:Ia}));Hn(jr,!0),te("<</Type /Pages");var De="/Kids [";for(re=0;re<Mn;re++)De+=Ee[re]+" 0 R ";te(De+"]"),te("/Count "+Mn),te(">>"),te("endobj"),En.publish("postPutPages")},Eo=function(D){En.publish("putFont",{font:D,out:te,newObject:dr,putStream:Ci}),D.isAlreadyPutted!==!0&&(D.objectNumber=dr(),te("<<"),te("/Type /Font"),te("/BaseFont /"+O0(D.postScriptName)),te("/Subtype /Type1"),typeof D.encoding=="string"&&te("/Encoding /"+D.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},Fa=function(){for(var D in Lt)Lt.hasOwnProperty(D)&&(g===!1||g===!0&&b.hasOwnProperty(D))&&Eo(Lt[D])},Fr=function(D){D.objectNumber=dr();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[k(D.x),k(D.y),k(D.x+D.width),k(D.y+D.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+D.matrix.toString()+"]"});var Ee=D.pages[1].join(`
`);Ci({data:Ee,additionalKeyValues:re,objectId:D.objectNumber}),te("endobj")},al=function(){for(var D in Sr)Sr.hasOwnProperty(D)&&Fr(Sr[D])},$l=function(D,re){var Ee,De=[],Ve=1/(re-1);for(Ee=0;Ee<1;Ee+=Ve)De.push(Ee);if(De.push(1),D[0].offset!=0){var ct={offset:0,color:D[0].color};D.unshift(ct)}if(D[D.length-1].offset!=1){var Ct={offset:1,color:D[D.length-1].color};D.push(Ct)}for(var Tt="",Ut=0,vn=0;vn<De.length;vn++){for(Ee=De[vn];Ee>D[Ut+1].offset;)Ut++;var pn=D[Ut].offset,Bn=(Ee-pn)/(D[Ut+1].offset-pn),ti=D[Ut].color,ci=D[Ut+1].color;Tt+=ee(Math.round((1-Bn)*ti[0]+Bn*ci[0]).toString(16))+ee(Math.round((1-Bn)*ti[1]+Bn*ci[1]).toString(16))+ee(Math.round((1-Bn)*ti[2]+Bn*ci[2]).toString(16))}return Tt.trim()},Fu=function(D,re){re||(re=21);var Ee=dr(),De=$l(D.colors,re),Ve=[];Ve.push({key:"FunctionType",value:"0"}),Ve.push({key:"Domain",value:"[0.0 1.0]"}),Ve.push({key:"Size",value:"["+re+"]"}),Ve.push({key:"BitsPerSample",value:"8"}),Ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ci({data:De,additionalKeyValues:Ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),te("endobj"),D.objectNumber=dr(),te("<< /ShadingType "+D.type),te("/ColorSpace /DeviceRGB");var ct="/Coords ["+k(parseFloat(D.coords[0]))+" "+k(parseFloat(D.coords[1]))+" ";D.type===2?ct+=k(parseFloat(D.coords[2]))+" "+k(parseFloat(D.coords[3])):ct+=k(parseFloat(D.coords[2]))+" "+k(parseFloat(D.coords[3]))+" "+k(parseFloat(D.coords[4]))+" "+k(parseFloat(D.coords[5])),te(ct+="]"),D.matrix&&te("/Matrix ["+D.matrix.toString()+"]"),te("/Function "+Ee+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},Gc=function(D,re){var Ee=fr(),De=dr();re.push({resourcesOid:Ee,objectOid:De}),D.objectNumber=De;var Ve=[];Ve.push({key:"Type",value:"/Pattern"}),Ve.push({key:"PatternType",value:"1"}),Ve.push({key:"PaintType",value:"1"}),Ve.push({key:"TilingType",value:"1"}),Ve.push({key:"BBox",value:"["+D.boundingBox.map(k).join(" ")+"]"}),Ve.push({key:"XStep",value:k(D.xStep)}),Ve.push({key:"YStep",value:k(D.yStep)}),Ve.push({key:"Resources",value:Ee+" 0 R"}),D.matrix&&Ve.push({key:"Matrix",value:"["+D.matrix.toString()+"]"}),Ci({data:D.stream,additionalKeyValues:Ve,objectId:D.objectNumber}),te("endobj")},$s=function(D){var re;for(re in un)un.hasOwnProperty(re)&&(un[re]instanceof Gh?Fu(un[re]):un[re]instanceof I0&&Gc(un[re],D))},xs=function(D){for(var re in D.objectNumber=dr(),te("<<"),D)switch(re){case"opacity":te("/ca "+Q(D[re]));break;case"stroke-opacity":te("/CA "+Q(D[re]))}te(">>"),te("endobj")},Pa=function(){var D;for(D in qn)qn.hasOwnProperty(D)&&xs(qn[D])},vs=function(){for(var D in te("/XObject <<"),Sr)Sr.hasOwnProperty(D)&&Sr[D].objectNumber>=0&&te("/"+D+" "+Sr[D].objectNumber+" 0 R");En.publish("putXobjectDict"),te(">>")},is=function(){ui.oid=dr(),te("<<"),te("/Filter /Standard"),te("/V "+ui.v),te("/R "+ui.r),te("/U <"+ui.toHexString(ui.U)+">"),te("/O <"+ui.toHexString(ui.O)+">"),te("/P "+ui.P),te(">>"),te("endobj")},as=function(){for(var D in te("/Font <<"),Lt)Lt.hasOwnProperty(D)&&(g===!1||g===!0&&b.hasOwnProperty(D))&&te("/"+D+" "+Lt[D].objectNumber+" 0 R");te(">>")},Hl=function(){if(Object.keys(un).length>0){for(var D in te("/Shading <<"),un)un.hasOwnProperty(D)&&un[D]instanceof Gh&&un[D].objectNumber>=0&&te("/"+D+" "+un[D].objectNumber+" 0 R");En.publish("putShadingPatternDict"),te(">>")}},io=function(D){if(Object.keys(un).length>0){for(var re in te("/Pattern <<"),un)un.hasOwnProperty(re)&&un[re]instanceof m.TilingPattern&&un[re].objectNumber>=0&&un[re].objectNumber<D&&te("/"+re+" "+un[re].objectNumber+" 0 R");En.publish("putTilingPatternDict"),te(">>")}},Qc=function(){if(Object.keys(qn).length>0){var D;for(D in te("/ExtGState <<"),qn)qn.hasOwnProperty(D)&&qn[D].objectNumber>=0&&te("/"+D+" "+qn[D].objectNumber+" 0 R");En.publish("putGStateDict"),te(">>")}},Pr=function(D){Hn(D.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),as(),Hl(),io(D.objectOid),Qc(),vs(),te(">>"),te("endobj")},ta=function(){var D=[];Fa(),Pa(),al(),$s(D),En.publish("putResources"),D.forEach(Pr),Pr({resourcesOid:Ia,objectOid:Number.MAX_SAFE_INTEGER}),En.publish("postPutResources")},ao=function(){En.publish("putAdditionalObjects");for(var D=0;D<Oe.length;D++){var re=Oe[D];Hn(re.objId,!0),te(re.content),te("endobj")}En.publish("postPutAdditionalObjects")},sl=function(D){Kt[D.fontName]=Kt[D.fontName]||{},Kt[D.fontName][D.fontStyle]=D.id},za=function(D,re,Ee,De,Ve){var ct={id:"F"+(Object.keys(Lt).length+1).toString(10),postScriptName:D,fontName:re,fontStyle:Ee,encoding:De,isStandardFont:Ve||!1,metadata:{}};return En.publish("addFont",{font:ct,instance:this}),Lt[ct.id]=ct,sl(ct),ct.id},Wl=function(D){for(var re=0,Ee=ve.length;re<Ee;re++){var De=za.call(this,D[re][0],D[re][1],D[re][2],ve[re][3],!0);g===!1&&(b[De]=!0);var Ve=D[re][0].split("-");sl({id:De,fontName:Ve[0],fontStyle:Ve[1]||""})}En.publish("addFonts",{fonts:Lt,dictionary:Kt})},na=function(D){return D.foo=function(){try{return D.apply(this,arguments)}catch(De){var re=De.stack||"";~re.indexOf(" at ")&&(re=re.split(" at ")[1]);var Ee="Error in function "+re.split(`
`)[0].split("<")[0]+": "+De.message;if(!dn.console)throw new Error(Ee);dn.console.error(Ee,De),dn.alert&&alert(Ee)}},D.foo.bar=D,D.foo},ol=function(D,re){var Ee,De,Ve,ct,Ct,Tt,Ut,vn,pn;if(Ve=(re=re||{}).sourceEncoding||"Unicode",Ct=re.outputEncoding,(re.autoencode||Ct)&&Lt[ft].metadata&&Lt[ft].metadata[Ve]&&Lt[ft].metadata[Ve].encoding&&(ct=Lt[ft].metadata[Ve].encoding,!Ct&&Lt[ft].encoding&&(Ct=Lt[ft].encoding),!Ct&&ct.codePages&&(Ct=ct.codePages[0]),typeof Ct=="string"&&(Ct=ct[Ct]),Ct)){for(Ut=!1,Tt=[],Ee=0,De=D.length;Ee<De;Ee++)(vn=Ct[D.charCodeAt(Ee)])?Tt.push(String.fromCharCode(vn)):Tt.push(D[Ee]),Tt[Ee].charCodeAt(0)>>8&&(Ut=!0);D=Tt.join("")}for(Ee=D.length;Ut===void 0&&Ee!==0;)D.charCodeAt(Ee-1)>>8&&(Ut=!0),Ee--;if(!Ut)return D;for(Tt=re.noBOM?[]:[254,255],Ee=0,De=D.length;Ee<De;Ee++){if((pn=(vn=D.charCodeAt(Ee))>>8)>>8)throw new Error("Character at position "+Ee+" of string '"+D+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Tt.push(pn),Tt.push(vn-(pn<<8))}return String.fromCharCode.apply(void 0,Tt)},hr=m.__private__.pdfEscape=m.pdfEscape=function(D,re){return ol(D,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_o=m.__private__.beginPage=function(D){Le[++Mn]=[],Vt[Mn]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(D[0]),topRightY:Number(D[1])}},Hs(Mn),Se(Le[q])},Vl=function(D,re){var Ee,De,Ve;switch(t=re||t,typeof D=="string"&&(Ee=w(D.toLowerCase()),Array.isArray(Ee)&&(De=Ee[0],Ve=Ee[1])),Array.isArray(D)&&(De=D[0]*Ze,Ve=D[1]*Ze),isNaN(De)&&(De=i[0],Ve=i[1]),(De>14400||Ve>14400)&&(Zr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),De=Math.min(14400,De),Ve=Math.min(14400,Ve)),i=[De,Ve],t.substr(0,1)){case"l":Ve>De&&(i=[Ve,De]);break;case"p":De>Ve&&(i=[Ve,De])}_o(i),qt(ot),te(Cr),fl!==0&&te(fl+" J"),To!==0&&te(To+" j"),En.publish("addPage",{pageNumber:Mn})},ko=function(D){D>0&&D<=Mn&&(Le.splice(D,1),Vt.splice(D,1),Mn--,q>Mn&&(q=Mn),this.setPage(q))},Hs=function(D){D>0&&D<=Mn&&(q=D)},Pu=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Le.length-1},Ws=function(D,re,Ee){var De,Ve=void 0;return Ee=Ee||{},D=D!==void 0?D:Lt[ft].fontName,re=re!==void 0?re:Lt[ft].fontStyle,De=D.toLowerCase(),Kt[De]!==void 0&&Kt[De][re]!==void 0?Ve=Kt[De][re]:Kt[D]!==void 0&&Kt[D][re]!==void 0?Ve=Kt[D][re]:Ee.disableWarning===!1&&Zr.warn("Unable to look up font label for font '"+D+"', '"+re+"'. Refer to getFontList() for available fonts."),Ve||Ee.noFallback||(Ve=Kt.times[re])==null&&(Ve=Kt.times.normal),Ve},Bi=m.__private__.putInfo=function(){var D=dr(),re=function(De){return De};for(var Ee in h!==null&&(re=ui.encryptor(D,0)),te("<<"),te("/Producer ("+hr(re("jsPDF "+ln.version))+")"),Ne)Ne.hasOwnProperty(Ee)&&Ne[Ee]&&te("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+hr(re(Ne[Ee]))+")");te("/CreationDate ("+hr(re(G))+")"),te(">>"),te("endobj")},ss=m.__private__.putCatalog=function(D){var re=(D=D||{}).rootDictionaryObjId||jr;switch(dr(),te("<<"),te("/Type /Catalog"),te("/Pages "+re+" 0 R"),Pe||(Pe="fullwidth"),Pe){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+Pe;Ee.substr(Ee.length-1)==="%"&&(Pe=parseInt(Pe)/100),typeof Pe=="number"&&te("/OpenAction [3 0 R /XYZ null null "+Q(Pe)+"]")}switch(Me||(Me="continuous"),Me){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}lt&&te("/PageMode /"+lt),En.publish("putCatalog"),te(">>"),te("endobj")},ws=m.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(se+1)),te("/Root "+se+" 0 R"),te("/Info "+(se-1)+" 0 R"),h!==null&&te("/Encrypt "+ui.oid+" 0 R"),te("/ID [ <"+W+"> <"+W+"> ]"),te(">>")},zu=m.__private__.putHeader=function(){te("%PDF-"+x),te("%")},qa=m.__private__.putXRef=function(){var D="0000000000";te("xref"),te("0 "+(se+1)),te("0000000000 65535 f ");for(var re=1;re<=se;re++)typeof we[re]=="function"?te((D+we[re]()).slice(-10)+" 00000 n "):we[re]!==void 0?te((D+we[re]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},Vs=m.__private__.buildDocument=function(){V(),Se(ye),En.publish("buildDocument"),zu(),ro(),ao(),ta(),h!==null&&is(),Bi(),ss();var D=Ce;return qa(),ws(),te("startxref"),te(""+D),te("%%EOF"),Se(Le[q]),ye.join(`
`)},ll=m.__private__.getBlob=function(D){return new Blob([ce(D)],{type:"application/pdf"})},Ys=m.output=m.__private__.output=na(function(D,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",D){case void 0:return Vs();case"save":m.save(re.filename);break;case"arraybuffer":return ce(Vs());case"blob":return ll(Vs());case"bloburi":case"bloburl":if(dn.URL!==void 0&&typeof dn.URL.createObjectURL=="function")return dn.URL&&dn.URL.createObjectURL(ll(Vs()))||void 0;Zr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",De=Vs();try{Ee=TS(De)}catch{Ee=TS(unescape(encodeURIComponent(De)))}return"data:application/pdf;filename="+re.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(dn)==="[object Window]"){var Ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ct=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(Ve=re.pdfObjectUrl,ct="");var Ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ve+'"'+ct+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",Tt=dn.open();return Tt!==null&&Tt.document.write(Ct),Tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(dn)==="[object Window]"){var Ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',vn=dn.open();if(vn!==null){vn.document.write(Ut);var pn=this;vn.document.documentElement.querySelector("#pdfViewer").onload=function(){vn.document.title=re.filename,vn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pn.output("bloburl"))}}return vn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(dn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Bn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',ti=dn.open();if(ti!==null&&(ti.document.write(Bn),ti.document.title=re.filename),ti||typeof safari>"u")return ti;break;case"datauri":case"dataurl":return dn.document.location.href=this.output("datauristring",re);default:return null}}),ul=function(D){return Array.isArray(xa)===!0&&xa.indexOf(D)>-1};switch(r){case"pt":Ze=1;break;case"mm":Ze=72/25.4;break;case"cm":Ze=72/2.54;break;case"in":Ze=72;break;case"px":Ze=ul("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ze=12;break;case"ex":Ze=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ze=r}var ui=null;ae(),ie();var ei=function(D){return h!==null?ui.encryptor(D,0):function(re){return re}},Ss=m.__private__.getPageInfo=m.getPageInfo=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[D].objId,pageNumber:D,pageContext:Vt[D]}},tn=m.__private__.getPageInfoByObjId=function(D){if(isNaN(D)||D%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in Vt)if(Vt[re].objId===D)break;return Ss(re)},so=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Vt[q].objId,pageNumber:q,pageContext:Vt[q]}};m.addPage=function(){return Vl.apply(this,arguments),this},m.setPage=function(){return Hs.apply(this,arguments),Se.call(this,Le[q]),this},m.insertPage=function(D){return this.addPage(),this.movePage(q,D),this},m.movePage=function(D,re){var Ee,De;if(D>re){Ee=Le[D],De=Vt[D];for(var Ve=D;Ve>re;Ve--)Le[Ve]=Le[Ve-1],Vt[Ve]=Vt[Ve-1];Le[re]=Ee,Vt[re]=De,this.setPage(re)}else if(D<re){Ee=Le[D],De=Vt[D];for(var ct=D;ct<re;ct++)Le[ct]=Le[ct+1],Vt[ct]=Vt[ct+1];Le[re]=Ee,Vt[re]=De,this.setPage(re)}return this},m.deletePage=function(){return ko.apply(this,arguments),this},m.__private__.text=m.text=function(D,re,Ee,De,Ve){var ct,Ct,Tt,Ut,vn,pn,Bn,ti,ci,_i=(De=De||{}).scope||this;if(typeof D=="number"&&typeof re=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var ki=Ee;Ee=re,re=D,D=ki}if(arguments[3]instanceof Dt?(L("The transform parameter of text() with a Matrix value"),ci=Ve):(Tt=arguments[4],Ut=arguments[5],Jr(Bn=arguments[3])==="object"&&Bn!==null||(typeof Tt=="string"&&(Ut=Tt,Tt=null),typeof Bn=="string"&&(Ut=Bn,Bn=null),typeof Bn=="number"&&(Tt=Bn,Bn=null),De={flags:Bn,angle:Tt,align:Ut})),isNaN(re)||isNaN(Ee)||D==null)throw new Error("Invalid arguments passed to jsPDF.text");if(D.length===0)return _i;var Sa="",Oo=!1,Qs=typeof De.lineHeightFactor=="number"?De.lineHeightFactor:Te,Io=_i.internal.scaleFactor;function vh(Ln){return Ln=Ln.split("	").join(Array(De.TabLen||9).join(" ")),hr(Ln,Bn)}function Yl(Ln){for(var Rn,zr=Ln.concat(),ji=[],uo=zr.length;uo--;)typeof(Rn=zr.shift())=="string"?ji.push(Rn):Array.isArray(Ln)&&(Rn.length===1||Rn[1]===void 0&&Rn[2]===void 0)?ji.push(Rn[0]):ji.push([Rn[0],Rn[1],Rn[2]]);return ji}function Gl(Ln,Rn){var zr;if(typeof Ln=="string")zr=Rn(Ln)[0];else if(Array.isArray(Ln)){for(var ji,uo,Ku=Ln.concat(),Xu=[],Xl=Ku.length;Xl--;)typeof(ji=Ku.shift())=="string"?Xu.push(Rn(ji)[0]):Array.isArray(ji)&&typeof ji[0]=="string"&&(uo=Rn(ji[0],ji[1],ji[2]),Xu.push([uo[0],uo[1],uo[2]]));zr=Xu}return zr}var rf=!1,Bu=!0;if(typeof D=="string")rf=!0;else if(Array.isArray(D)){var af=D.concat();Ct=[];for(var Xc,ra=af.length;ra--;)(typeof(Xc=af.shift())!="string"||Array.isArray(Xc)&&typeof Xc[0]!="string")&&(Bu=!1);rf=Bu}if(rf===!1)throw new Error('Type of text must be string or Array. "'+D+'" is not recognized.');typeof D=="string"&&(D=D.match(/[\r?\n]/)?D.split(/\r\n|\r|\n/g):[D]);var Uu=Ie/_i.internal.scaleFactor,Zc=Uu*(Qs-1);switch(De.baseline){case"bottom":Ee-=Zc;break;case"top":Ee+=Uu-Zc;break;case"hanging":Ee+=Uu-2*Zc;break;case"middle":Ee+=Uu/2-Zc}if((pn=De.maxWidth||0)>0&&(typeof D=="string"?D=_i.splitTextToSize(D,pn):Object.prototype.toString.call(D)==="[object Array]"&&(D=D.reduce(function(Ln,Rn){return Ln.concat(_i.splitTextToSize(Rn,pn))},[]))),ct={text:D,x:re,y:Ee,options:De,mutex:{pdfEscape:hr,activeFontKey:ft,fonts:Lt,activeFontSize:Ie}},En.publish("preProcessText",ct),D=ct.text,Tt=(De=ct.options).angle,!(ci instanceof Dt)&&Tt&&typeof Tt=="number"){Tt*=Math.PI/180,De.rotationDirection===0&&(Tt=-Tt),N===C.ADVANCED&&(Tt=-Tt);var Jc=Math.cos(Tt),sf=Math.sin(Tt);ci=new Dt(Jc,sf,-sf,Jc,0,0)}else Tt&&Tt instanceof Dt&&(ci=Tt);N!==C.ADVANCED||ci||(ci=sr),(vn=De.charSpace||Cs)!==void 0&&(Sa+=k(O(vn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ti=De.horizontalScale)!==void 0&&(Sa+=k(100*ti)+` Tz
`),De.lang;var Es=-1,Sm=De.renderingMode!==void 0?De.renderingMode:De.stroke,wh=_i.internal.getCurrentPageInfo().pageContext;switch(Sm){case 0:case!1:case"fill":Es=0;break;case 1:case!0:case"stroke":Es=1;break;case 2:case"fillThenStroke":Es=2;break;case 3:case"invisible":Es=3;break;case 4:case"fillAndAddForClipping":Es=4;break;case 5:case"strokeAndAddPathForClipping":Es=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Es=6;break;case 7:case"addToPathForClipping":Es=7}var Op=wh.usedRenderingMode!==void 0?wh.usedRenderingMode:-1;Es!==-1?Sa+=Es+` Tr
`:Op!==-1&&(Sa+=`0 Tr
`),Es!==-1&&(wh.usedRenderingMode=Es),Ut=De.align||"left";var lo,Aa=Ie*Qs,$u=_i.internal.pageSize.getWidth(),Sh=Lt[ft];vn=De.charSpace||Cs,pn=De.maxWidth||0,Bn=Object.assign({autoencode:!0,noBOM:!0},De.flags);var Ql=[],Hu=function(Ln){return _i.getStringUnitWidth(Ln,{font:Sh,charSpace:vn,fontSize:Ie,doKerning:!1})*Ie/Io};if(Object.prototype.toString.call(D)==="[object Array]"){var os;Ct=Yl(D),Ut!=="left"&&(lo=Ct.map(Hu));var La,Wu=0;if(Ut==="right"){re-=lo[0],D=[],ra=Ct.length;for(var _s=0;_s<ra;_s++)_s===0?(La=gn(re),os=Nr(Ee)):(La=O(Wu-lo[_s]),os=-Aa),D.push([Ct[_s],La,os]),Wu=lo[_s]}else if(Ut==="center"){re-=lo[0]/2,D=[],ra=Ct.length;for(var Do=0;Do<ra;Do++)Do===0?(La=gn(re),os=Nr(Ee)):(La=O((Wu-lo[Do])/2),os=-Aa),D.push([Ct[Do],La,os]),Wu=lo[Do]}else if(Ut==="left"){D=[],ra=Ct.length;for(var hl=0;hl<ra;hl++)D.push(Ct[hl])}else if(Ut==="justify"&&Sh.encoding==="Identity-H"){D=[],ra=Ct.length,pn=pn!==0?pn:$u;for(var Lo=0,gi=0;gi<ra;gi++)if(os=gi===0?Nr(Ee):-Aa,La=gi===0?gn(re):Lo,gi<ra-1){var Ro=O((pn-lo[gi])/(Ct[gi].split(" ").length-1)),Ui=Ct[gi].split(" ");D.push([Ui[0]+" ",La,os]),Lo=0;for(var ks=1;ks<Ui.length;ks++){var ed=(Hu(Ui[ks-1]+" "+Ui[ks])-Hu(Ui[ks]))*Io+Ro;ks==Ui.length-1?D.push([Ui[ks],ed,0]):D.push([Ui[ks]+" ",ed,0]),Lo-=ed}}else D.push([Ct[gi],La,os]);D.push(["",Lo,0])}else{if(Ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(D=[],ra=Ct.length,pn=pn!==0?pn:$u,gi=0;gi<ra;gi++)os=gi===0?Nr(Ee):-Aa,La=gi===0?gn(re):0,gi<ra-1?Ql.push(k(O((pn-lo[gi])/(Ct[gi].split(" ").length-1)))):Ql.push(0),D.push([Ct[gi],La,os])}}var pl=typeof De.R2L=="boolean"?De.R2L:Ke;pl===!0&&(D=Gl(D,function(Ln,Rn,zr){return[Ln.split("").reverse().join(""),Rn,zr]})),ct={text:D,x:re,y:Ee,options:De,mutex:{pdfEscape:hr,activeFontKey:ft,fonts:Lt,activeFontSize:Ie}},En.publish("postProcessText",ct),D=ct.text,Oo=ct.mutex.isHex||!1;var of=Lt[ft].encoding;of!=="WinAnsiEncoding"&&of!=="StandardEncoding"||(D=Gl(D,function(Ln,Rn,zr){return[vh(Ln),Rn,zr]})),Ct=Yl(D),D=[];for(var Vu,Yu,Gu,td=0,lf=1,Qu=Array.isArray(Ct[0])?lf:td,Kl="",nd=function(Ln,Rn,zr){var ji="";return zr instanceof Dt?(zr=typeof De.angle=="number"?Wn(zr,new Dt(1,0,0,1,Ln,Rn)):Wn(new Dt(1,0,0,1,Ln,Rn),zr),N===C.ADVANCED&&(zr=Wn(new Dt(1,0,0,-1,0,0),zr)),ji=zr.join(" ")+` Tm
`):ji=k(Ln)+" "+k(Rn)+` Td
`,ji},bi=0;bi<Ct.length;bi++){switch(Kl="",Qu){case lf:Gu=(Oo?"<":"(")+Ct[bi][0]+(Oo?">":")"),Vu=parseFloat(Ct[bi][1]),Yu=parseFloat(Ct[bi][2]);break;case td:Gu=(Oo?"<":"(")+Ct[bi]+(Oo?">":")"),Vu=gn(re),Yu=Nr(Ee)}Ql!==void 0&&Ql[bi]!==void 0&&(Kl=Ql[bi]+` Tw
`),bi===0?D.push(Kl+nd(Vu,Yu,ci)+Gu):Qu===td?D.push(Kl+Gu):Qu===lf&&D.push(Kl+nd(Vu,Yu,ci)+Gu)}D=Qu===td?D.join(` Tj
T* `):D.join(` Tj
`),D+=` Tj
`;var Ks=`BT
/`;return Ks+=ft+" "+Ie+` Tf
`,Ks+=k(Ie*Qs)+` TL
`,Ks+=Ha+`
`,Ks+=Sa,Ks+=D,te(Ks+="ET"),b[ft]=!0,_i};var cl=m.__private__.clip=m.clip=function(D){return te(D==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return cl("evenodd")},m.__private__.discardPath=m.discardPath=function(){return te("n"),this};var Ei=m.__private__.isValidStyle=function(D){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(D)!==-1&&(re=!0),re};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(D){return Ei(D)&&(d=D),this};var Ba=m.__private__.getStyle=m.getStyle=function(D){var re=d;switch(D){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=D}return re},jo=m.close=function(){return te("h"),this};m.stroke=function(){return te("S"),this},m.fill=function(D){return Ua("f",D),this},m.fillEvenOdd=function(D){return Ua("f*",D),this},m.fillStroke=function(D){return Ua("B",D),this},m.fillStrokeEvenOdd=function(D){return Ua("B*",D),this};var Ua=function(D,re){Jr(re)==="object"?No(re,D):te(D)},Da=function(D){D===null||N===C.ADVANCED&&D===void 0||(D=Ba(D),te(D))};function $a(D,re,Ee,De,Ve){var ct=new I0(re||this.boundingBox,Ee||this.xStep,De||this.yStep,this.gState,Ve||this.matrix);ct.stream=this.stream;var Ct=D+"$$"+this.cloneIndex+++"$$";return Mr(Ct,ct),ct}var No=function(D,re){var Ee=zn[D.key],De=un[Ee];if(De instanceof Gh)te("q"),te(dl(re)),De.gState&&m.setGState(De.gState),te(D.matrix.toString()+" cm"),te("/"+Ee+" sh"),te("Q");else if(De instanceof I0){var Ve=new Dt(1,0,0,-1,0,qu());D.matrix&&(Ve=Ve.multiply(D.matrix||sr),Ee=$a.call(De,D.key,D.boundingBox,D.xStep,D.yStep,Ve).id),te("q"),te("/Pattern cs"),te("/"+Ee+" scn"),De.gState&&m.setGState(De.gState),te(re),te("Q")}},dl=function(D){switch(D){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},oo=m.moveTo=function(D,re){return te(k(O(D))+" "+k(T(re))+" m"),this},As=m.lineTo=function(D,re){return te(k(O(D))+" "+k(T(re))+" l"),this},H=m.curveTo=function(D,re,Ee,De,Ve,ct){return te([k(O(D)),k(T(re)),k(O(Ee)),k(T(De)),k(O(Ve)),k(T(ct)),"c"].join(" ")),this};m.__private__.line=m.line=function(D,re,Ee,De,Ve){if(isNaN(D)||isNaN(re)||isNaN(Ee)||isNaN(De)||!Ei(Ve))throw new Error("Invalid arguments passed to jsPDF.line");return N===C.COMPAT?this.lines([[Ee-D,De-re]],D,re,[1,1],Ve||"S"):this.lines([[Ee-D,De-re]],D,re,[1,1]).stroke()},m.__private__.lines=m.lines=function(D,re,Ee,De,Ve,ct){var Ct,Tt,Ut,vn,pn,Bn,ti,ci,_i,ki,Sa,Oo;if(typeof D=="number"&&(Oo=Ee,Ee=re,re=D,D=Oo),De=De||[1,1],ct=ct||!1,isNaN(re)||isNaN(Ee)||!Array.isArray(D)||!Array.isArray(De)||!Ei(Ve)||typeof ct!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(oo(re,Ee),Ct=De[0],Tt=De[1],vn=D.length,ki=re,Sa=Ee,Ut=0;Ut<vn;Ut++)(pn=D[Ut]).length===2?(ki=pn[0]*Ct+ki,Sa=pn[1]*Tt+Sa,As(ki,Sa)):(Bn=pn[0]*Ct+ki,ti=pn[1]*Tt+Sa,ci=pn[2]*Ct+ki,_i=pn[3]*Tt+Sa,ki=pn[4]*Ct+ki,Sa=pn[5]*Tt+Sa,H(Bn,ti,ci,_i,ki,Sa));return ct&&jo(),Da(Ve),this},m.path=function(D){for(var re=0;re<D.length;re++){var Ee=D[re],De=Ee.c;switch(Ee.op){case"m":oo(De[0],De[1]);break;case"l":As(De[0],De[1]);break;case"c":H.apply(this,De);break;case"h":jo()}}return this},m.__private__.rect=m.rect=function(D,re,Ee,De,Ve){if(isNaN(D)||isNaN(re)||isNaN(Ee)||isNaN(De)||!Ei(Ve))throw new Error("Invalid arguments passed to jsPDF.rect");return N===C.COMPAT&&(De=-De),te([k(O(D)),k(T(re)),k(O(Ee)),k(O(De)),"re"].join(" ")),Da(Ve),this},m.__private__.triangle=m.triangle=function(D,re,Ee,De,Ve,ct,Ct){if(isNaN(D)||isNaN(re)||isNaN(Ee)||isNaN(De)||isNaN(Ve)||isNaN(ct)||!Ei(Ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-D,De-re],[Ve-Ee,ct-De],[D-Ve,re-ct]],D,re,[1,1],Ct,!0),this},m.__private__.roundedRect=m.roundedRect=function(D,re,Ee,De,Ve,ct,Ct){if(isNaN(D)||isNaN(re)||isNaN(Ee)||isNaN(De)||isNaN(Ve)||isNaN(ct)||!Ei(Ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Tt=4/3*(Math.SQRT2-1);return Ve=Math.min(Ve,.5*Ee),ct=Math.min(ct,.5*De),this.lines([[Ee-2*Ve,0],[Ve*Tt,0,Ve,ct-ct*Tt,Ve,ct],[0,De-2*ct],[0,ct*Tt,-Ve*Tt,ct,-Ve,ct],[2*Ve-Ee,0],[-Ve*Tt,0,-Ve,-ct*Tt,-Ve,-ct],[0,2*ct-De],[0,-ct*Tt,Ve*Tt,-ct,Ve,-ct]],D+Ve,re,[1,1],Ct,!0),this},m.__private__.ellipse=m.ellipse=function(D,re,Ee,De,Ve){if(isNaN(D)||isNaN(re)||isNaN(Ee)||isNaN(De)||!Ei(Ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ct=4/3*(Math.SQRT2-1)*Ee,Ct=4/3*(Math.SQRT2-1)*De;return oo(D+Ee,re),H(D+Ee,re-Ct,D+ct,re-De,D,re-De),H(D-ct,re-De,D-Ee,re-Ct,D-Ee,re),H(D-Ee,re+Ct,D-ct,re+De,D,re+De),H(D+ct,re+De,D+Ee,re+Ct,D+Ee,re),Da(Ve),this},m.__private__.circle=m.circle=function(D,re,Ee,De){if(isNaN(D)||isNaN(re)||isNaN(Ee)||!Ei(De))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(D,re,Ee,Ee,De)},m.setFont=function(D,re,Ee){return Ee&&(re=M(re,Ee)),ft=Ws(D,re,{disableWarning:!1}),this};var pe=m.__private__.getFont=m.getFont=function(){return Lt[Ws.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var D,re,Ee={};for(D in Kt)if(Kt.hasOwnProperty(D))for(re in Ee[D]=[],Kt[D])Kt[D].hasOwnProperty(re)&&Ee[D].push(re);return Ee},m.addFont=function(D,re,Ee,De,Ve){var ct=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ct.indexOf(arguments[3])!==-1?Ve=arguments[3]:arguments[3]&&ct.indexOf(arguments[3])==-1&&(Ee=M(Ee,De)),Ve=Ve||"Identity-H",za.call(this,D,re,Ee,Ve)};var Te,ot=e.lineWidth||.200025,Xt=m.__private__.getLineWidth=m.getLineWidth=function(){return ot},qt=m.__private__.setLineWidth=m.setLineWidth=function(D){return ot=D,te(k(O(D))+" w"),this};m.__private__.setLineDash=ln.API.setLineDash=ln.API.setLineDashPattern=function(D,re){if(D=D||[],re=re||0,isNaN(re)||!Array.isArray(D))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return D=D.map(function(Ee){return k(O(Ee))}).join(" "),re=k(O(re)),te("["+D+"] "+re+" d"),this};var Tn=m.__private__.getLineHeight=m.getLineHeight=function(){return Ie*Te};m.__private__.getLineHeight=m.getLineHeight=function(){return Ie*Te};var _n=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(D){return typeof(D=D||1.15)=="number"&&(Te=D),this},pr=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Te};_n(e.lineHeight);var gn=m.__private__.getHorizontalCoordinate=function(D){return O(D)},Nr=m.__private__.getVerticalCoordinate=function(D){return N===C.ADVANCED?D:Vt[q].mediaBox.topRightY-Vt[q].mediaBox.bottomLeftY-O(D)},wa=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(D){return k(gn(D))},Ar=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(D){return k(Nr(D))},Cr=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return zi(Cr)},m.__private__.setStrokeColor=m.setDrawColor=function(D,re,Ee,De){return Cr=qi({ch1:D,ch2:re,ch3:Ee,ch4:De,pdfColorType:"draw",precision:2}),te(Cr),this};var Kr=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return zi(Kr)},m.__private__.setFillColor=m.setFillColor=function(D,re,Ee,De){return Kr=qi({ch1:D,ch2:re,ch3:Ee,ch4:De,pdfColorType:"fill",precision:2}),te(Kr),this};var Ha=e.textColor||"0 g",Gs=m.__private__.getTextColor=m.getTextColor=function(){return zi(Ha)};m.__private__.setTextColor=m.setTextColor=function(D,re,Ee,De){return Ha=qi({ch1:D,ch2:re,ch3:Ee,ch4:De,pdfColorType:"text",precision:3}),this};var Cs=e.charSpace,Zd=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Cs||0)};m.__private__.setCharSpace=m.setCharSpace=function(D){if(isNaN(D))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Cs=D,this};var fl=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(D){var re=m.CapJoinStyles[D];if(re===void 0)throw new Error("Line cap style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fl=re,te(re+" J"),this};var To=0;m.__private__.setLineJoin=m.setLineJoin=function(D){var re=m.CapJoinStyles[D];if(re===void 0)throw new Error("Line join style of '"+D+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return To=re,te(re+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(D){if(D=D||0,isNaN(D))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(k(O(D))+" M"),this},m.GState=Hx,m.setGState=function(D){(D=typeof D=="string"?qn[Qr[D]]:Tp(null,D)).equals(ar)||(te("/"+D.id+" gs"),ar=D)};var Tp=function(D,re){if(!D||!Qr[D]){var Ee=!1;for(var De in qn)if(qn.hasOwnProperty(De)&&qn[De].equals(re)){Ee=!0;break}if(Ee)re=qn[De];else{var Ve="GS"+(Object.keys(qn).length+1).toString(10);qn[Ve]=re,re.id=Ve}return D&&(Qr[D]=re.id),En.publish("addGState",re),re}};m.addGState=function(D,re){return Tp(D,re),this},m.saveGraphicsState=function(){return te("q"),nn.push({key:ft,size:Ie,color:Ha}),this},m.restoreGraphicsState=function(){te("Q");var D=nn.pop();return ft=D.key,Ie=D.size,Ha=D.color,ar=null,this},m.setCurrentTransformationMatrix=function(D){return te(D.toString()+" cm"),this},m.comment=function(D){return te("#"+D),this};var Jd=function(D,re){var Ee=D||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(ct){isNaN(ct)||(Ee=parseFloat(ct))}});var De=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return De},set:function(ct){isNaN(ct)||(De=parseFloat(ct))}});var Ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ve},set:function(ct){Ve=ct.toString()}}),this},bh=function(D,re,Ee,De){Jd.call(this,D,re),this.type="rect";var Ve=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ve},set:function(Ct){isNaN(Ct)||(Ve=parseFloat(Ct))}});var ct=De||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ct},set:function(Ct){isNaN(Ct)||(ct=parseFloat(Ct))}}),this},yh=function(){this.page=Mn,this.currentPage=q,this.pages=Le.slice(0),this.pagesContext=Vt.slice(0),this.x=Mt,this.y=kt,this.matrix=Wt,this.width=Kc(q),this.height=qu(q),this.outputDestination=We,this.id="",this.objectNumber=-1};yh.prototype.restore=function(){Mn=this.page,q=this.currentPage,Vt=this.pagesContext,Le=this.pages,Mt=this.x,kt=this.y,Wt=this.matrix,nf(q,this.width),xh(q,this.height),We=this.outputDestination};var ef=function(D,re,Ee,De,Ve){va.push(new yh),Mn=q=0,Le=[],Mt=D,kt=re,Wt=Ve,_o([Ee,De])},wm=function(D){if(li[D])va.pop().restore();else{var re=new yh,Ee="Xo"+(Object.keys(Sr).length+1).toString(10);re.id=Ee,li[D]=Ee,Sr[Ee]=re,En.publish("addFormObject",re),va.pop().restore()}};for(var tf in m.beginFormObject=function(D,re,Ee,De,Ve){return ef(D,re,Ee,De,Ve),this},m.endFormObject=function(D){return wm(D),this},m.doFormObject=function(D,re){var Ee=Sr[li[D]];return te("q"),te(re.toString()+" cm"),te("/"+Ee.id+" Do"),te("Q"),this},m.getFormObject=function(D){var re=Sr[li[D]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},m.save=function(D,re){return D=D||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(Yh(ll(Vs()),D),typeof Yh.unload=="function"&&dn.setTimeout&&setTimeout(Yh.unload,911),this):new Promise(function(Ee,De){try{var Ve=Yh(ll(Vs()),D);typeof Yh.unload=="function"&&dn.setTimeout&&setTimeout(Yh.unload,911),Ee(Ve)}catch(ct){De(ct.message)}})},ln.API)ln.API.hasOwnProperty(tf)&&(tf==="events"&&ln.API.events.length?function(D,re){var Ee,De,Ve;for(Ve=re.length-1;Ve!==-1;Ve--)Ee=re[Ve][0],De=re[Ve][1],D.subscribe.apply(D,[Ee].concat(typeof De=="function"?[De]:De))}(En,ln.API.events):m[tf]=ln.API[tf]);var Kc=m.getPageWidth=function(D){return(Vt[D=D||q].mediaBox.topRightX-Vt[D].mediaBox.bottomLeftX)/Ze},nf=m.setPageWidth=function(D,re){Vt[D].mediaBox.topRightX=re*Ze+Vt[D].mediaBox.bottomLeftX},qu=m.getPageHeight=function(D){return(Vt[D=D||q].mediaBox.topRightY-Vt[D].mediaBox.bottomLeftY)/Ze},xh=m.setPageHeight=function(D,re){Vt[D].mediaBox.topRightY=re*Ze+Vt[D].mediaBox.bottomLeftY};return m.internal={pdfEscape:hr,getStyle:Ba,getFont:pe,getFontSize:ke,getCharSpace:Zd,getTextColor:Gs,getLineHeight:Tn,getLineHeightFactor:pr,getLineWidth:Xt,write:ge,getHorizontalCoordinate:gn,getVerticalCoordinate:Nr,getCoordinateString:wa,getVerticalCoordinateString:Ar,collections:{},newObject:dr,newAdditionalObject:ys,newObjectDeferred:fr,newObjectDeferredBegin:Hn,getFilters:er,putStream:Ci,events:En,scaleFactor:Ze,pageSize:{getWidth:function(){return Kc(q)},setWidth:function(D){nf(q,D)},getHeight:function(){return qu(q)},setHeight:function(D){xh(q,D)}},encryptionOptions:h,encryption:ui,getEncryptor:ei,output:Ys,getNumberOfPages:Pu,pages:Le,out:te,f2:Q,f3:j,getPageInfo:Ss,getPageInfoByObjId:tn,getCurrentPageInfo:so,getPDFVersion:y,Point:Jd,Rectangle:bh,Matrix:Dt,hasHotfix:ul},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Kc(q)},set:function(D){nf(q,D)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return qu(q)},set:function(D){xh(q,D)},enumerable:!0,configurable:!0}),Wl.call(m,ve),ft="F1",Vl(i,t),En.publish("initialized"),m}T0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},T0.prototype.toHexString=function(e){return e.split("").map(function(n){return("0"+(255&n.charCodeAt(0)).toString(16)).slice(-2)}).join("")},T0.prototype.hexToBytes=function(e){for(var n=[],t=0;t<e.length;t+=2)n.push(String.fromCharCode(parseInt(e.substr(t,2),16)));return n.join("")},T0.prototype.processOwnerPassword=function(e,n){return IS(OS(n).substr(0,5),e)},T0.prototype.encryptor=function(e,n){var t=OS(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&n,n>>8&255)).substr(0,10);return function(r){return IS(t,r)}},Hx.prototype.equals=function(e){var n,t="id,objectNumber,equals";if(!e||Jr(e)!==Jr(this))return!1;var r=0;for(n in this)if(!(t.indexOf(n)>=0)){if(this.hasOwnProperty(n)&&!e.hasOwnProperty(n)||this[n]!==e[n])return!1;r++}for(n in e)e.hasOwnProperty(n)&&t.indexOf(n)<0&&r--;return r===0},ln.API={events:[]},ln.version="3.0.1";var Ki=ln.API,pA=1,kp=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},u0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},An=function(e){return e.toFixed(2)},Mf=function(e){return e.toFixed(5)};Ki.__acroform__={};var Co=function(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e},Fk=function(e){return e*pA},fc=function(e){var n=new VO,t=zt.internal.getHeight(e)||0,r=zt.internal.getWidth(e)||0;return n.BBox=[0,0,Number(An(r)),Number(An(t))],n},PQ=Ki.__acroform__.setBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<n},zQ=Ki.__acroform__.clearBit=function(e,n){if(e=e||0,n=n||0,isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<n)},qQ=Ki.__acroform__.getBit=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<n)==0?0:1},ua=Ki.__acroform__.getBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return qQ(e,n-1)},ca=Ki.__acroform__.setBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return PQ(e,n-1)},da=Ki.__acroform__.clearBitForPdf=function(e,n){if(isNaN(e)||isNaN(n))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return zQ(e,n-1)},BQ=Ki.__acroform__.calculateCoordinates=function(e,n){var t=n.internal.getHorizontalCoordinate,r=n.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],l=e[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(a+l)||0,c.upperRight_X=t(i+s)||0,c.upperRight_Y=r(a)||0,[Number(An(c.lowerLeft_X)),Number(An(c.lowerLeft_Y)),Number(An(c.upperRight_X)),Number(An(c.upperRight_Y))]},UQ=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var n=[],t=e._V||e.DV,r=DS(e,t),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;n.push("/Tx BMC"),n.push("q"),n.push("BT"),n.push(e.scope.__private__.encodeColorString(e.color)),n.push("/"+i+" "+An(r.fontSize)+" Tf"),n.push("1 0 0 1 0 0 Tm"),n.push(r.text),n.push("ET"),n.push("Q"),n.push("EMC");var a=fc(e);return a.scope=e.scope,a.stream=n.join(`
`),a}},DS=function(e,n){var t=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(n=(n=n.substr(0,1)=="("?n.substr(1):n).substr(n.length-1)==")"?n.substr(0,n.length-1):n).split(" ");i=e.multiline?i.map(function(j){return j.split(`
`)}):i.map(function(j){return[j]});var a=t,s=zt.internal.getHeight(e)||0;s=s<0?-s:s;var l=zt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(j,O,z){if(j+1<i.length){var T=O+" "+i[j+1][0];return Dy(T,e,z).width<=l-4}return!1};a++;e:for(;a>0;){n="",a--;var d,h,g=Dy("3",e,a).height,b=e.multiline?s-a:(s-g)/2,m=b+=2,x=0,y=0,A=0;if(a<=0){n=`(...) Tj
`,n+="% Width of Text: "+Dy(n,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var w="",C=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var F=!1;if(i[N].length!==1&&A!==i[N].length-1){if((g+2)*(C+2)+2>s)continue e;w+=i[N][A],F=!0,y=N,N--}else{w=(w+=i[N][A]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var R=parseInt(N),M=c(R,w,a),k=N>=i.length-1;if(M&&!k){w+=" ",A=0;continue}if(M||k){if(k)y=R;else if(e.multiline&&(g+2)*(C+2)+2>s)continue e}else{if(!e.multiline||(g+2)*(C+2)+2>s)continue e;y=R}}for(var L="",B=x;B<=y;B++){var Q=i[B];if(e.multiline){if(B===y){L+=Q[A]+" ",A=(A+1)%Q.length;continue}if(B===x){L+=Q[Q.length-1]+" ";continue}}L+=Q[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,h=Dy(L,e,a).width,e.textAlign){case"right":d=l-h-2;break;case"center":d=(l-h)/2;break;case"left":default:d=2}n+=An(d)+" "+An(m)+` Td
`,n+="("+kp(L)+`) Tj
`,n+=-An(d)+` 0 Td
`,m=-(a+2),h=0,x=F?y:y+1,C++,w=""}break}return r.text=n,r.fontSize=a,r},Dy=function(e,n,t){var r=n.scope.internal.getFont(n.fontName,n.fontStyle),i=n.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:n.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},$Q={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},HQ=function(e,n){var t={type:"reference",object:e};n.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&n.internal.getPageInfo(e.page).pageContext.annotations.push(t)},WQ=function(e,n){for(var t in e)if(e.hasOwnProperty(t)){var r=t,i=e[t];n.internal.newObjectDeferredBegin(i.objId,!0),Jr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},VQ=function(e,n){if(n.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Du.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify($Q)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");pA=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new YO,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&HQ(a,t)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(t){(function(r,i){var a=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var l=r[s],c=[],d=l.Rect;if(l.Rect&&(l.Rect=BQ(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=zt.createDefaultAppearanceStream(l),Jr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var h=UQ(l);c.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(l.appearanceStreamContent){var g="";for(var b in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(b)){var m=l.appearanceStreamContent[b];if(g+="/"+b+" ",g+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var s in m)if(m.hasOwnProperty(s)){var x=m[s];typeof x=="function"&&(x=x.call(i,l)),g+="/"+s+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(i,l)),g+="/"+s+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);g+=">>"}c.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&WQ(i.internal.acroformPlugin.xForms,i)})(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},WO=Ki.__acroform__.arrayToPdfArray=function(e,n,t){var r=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Jr(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(n!==void 0&&t&&(r=t.internal.getEncryptor(n)),i+="("+kp(r(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},sw=function(e,n,t){var r=function(i){return i};return n!==void 0&&t&&(r=t.internal.getEncryptor(n)),(e=e||"").toString(),e="("+kp(r(e))+")"},_c=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_c.prototype.toString=function(){return this.objId+" 0 R"},_c.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},_c.prototype.getKeyValueListForStream=function(){var e=[],n=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in n)if(Object.getOwnPropertyDescriptor(this,n[t]).configurable===!1){var r=n[t],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:WO(i,this.objId,this.scope)}):i instanceof _c?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var VO=function(){_c.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,n=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Co(VO,_c);var YO=function(){_c.call(this);var e,n=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return n.length>0?n:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return n}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+kp(t(e))+")"}},set:function(t){e=t}})};Co(YO,_c);var Du=function e(){_c.call(this);var n=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');n=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ua(n,3)},set:function(w){w?this.F=ca(n,3):this.F=da(n,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');t=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Wx)return;a="FieldObject"+e.FieldNum++}var w=function(C){return C};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+kp(w(a))+")"},set:function(w){a=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(w){a=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/pA:d},set:function(w){d=w}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(w){h=w}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof Wx||this instanceof op))return sw(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=w}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ka?b:sw(b,this.objId,this.scope)},set:function(w){w=w.toString(),b=this instanceof Ka?w:w.substr(0,1)==="("?u0(w.substr(1,w.length-2)):u0(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ka?u0(b.substr(1,b.length-1)):b},set:function(w){w=w.toString(),b=this instanceof Ka?"/"+w:w}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ka?m:sw(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=this instanceof Ka?w:w.substr(0,1)==="("?u0(w.substr(1,w.length-2)):u0(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ka?u0(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof Ka?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(w){w=!!w,y=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(w){x=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,1)},set:function(w){w?this.Ff=ca(this.Ff,1):this.Ff=da(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,2)},set:function(w){w?this.Ff=ca(this.Ff,2):this.Ff=da(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,3)},set:function(w){w?this.Ff=ca(this.Ff,3):this.Ff=da(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');A=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(A){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:A=2;break;case"center":case 1:A=1;break;case"left":case 0:default:A=0}}})};Co(Du,_c);var z0=function(){Du.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var n=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return WO(n,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(a,s,l){l||(l=1);for(var c,d=[];c=s.exec(a);)d.push(c[l]);return d}(r,/\((.*?)\)/g)),n=i}}),this.getOptions=function(){return n},this.setOptions=function(t){n=t,this.sort&&n.sort()},this.addOption=function(t){t=(t=t||"").toString(),n.push(t),this.sort&&n.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();n.indexOf(t)!==-1&&(n.splice(n.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,18)},set:function(t){t?this.Ff=ca(this.Ff,18):this.Ff=da(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ca(this.Ff,19):this.Ff=da(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,20)},set:function(t){t?(this.Ff=ca(this.Ff,20),n.sort()):this.Ff=da(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,22)},set:function(t){t?this.Ff=ca(this.Ff,22):this.Ff=da(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(t){t?this.Ff=ca(this.Ff,23):this.Ff=da(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,27)},set:function(t){t?this.Ff=ca(this.Ff,27):this.Ff=da(this.Ff,27)}}),this.hasAppearanceStream=!1};Co(z0,Du);var q0=function(){z0.call(this),this.fontName="helvetica",this.combo=!1};Co(q0,z0);var B0=function(){q0.call(this),this.combo=!0};Co(B0,q0);var rx=function(){B0.call(this),this.edit=!0};Co(rx,B0);var Ka=function(){Du.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,15)},set:function(t){t?this.Ff=ca(this.Ff,15):this.Ff=da(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,16)},set:function(t){t?this.Ff=ca(this.Ff,16):this.Ff=da(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,17)},set:function(t){t?this.Ff=ca(this.Ff,17):this.Ff=da(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(t){t?this.Ff=ca(this.Ff,26):this.Ff=da(this.Ff,26)}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(n).length!==0){var r,i=[];for(r in i.push("<<"),n)i.push("/"+r+" ("+kp(t(n[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Jr(t)==="object"&&(n=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(t){typeof t=="string"&&(n.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Co(Ka,Du);var ix=function(){Ka.call(this),this.pushButton=!0};Co(ix,Ka);var U0=function(){Ka.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n!==void 0?n:[]}})};Co(U0,Ka);var Wx=function(){var e,n;Du.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(i){n=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),r)s.push("/"+a+" ("+kp(i(r[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Jr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=zt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Co(Wx,Du),U0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var n in this.Kids)if(this.Kids.hasOwnProperty(n)){var t=this.Kids[n];t.appearanceStreamContent=e.createAppearanceStream(t.optionName),t.caption=e.getCA()}},U0.prototype.createOption=function(e){var n=new Wx;return n.Parent=this,n.optionName=e,this.Kids.push(n),YQ.call(this.scope,n),n};var ax=function(){Ka.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=zt.CheckBox.createAppearanceStream()};Co(ax,Ka);var op=function(){Du.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,13)},set:function(n){n?this.Ff=ca(this.Ff,13):this.Ff=da(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,21)},set:function(n){n?this.Ff=ca(this.Ff,21):this.Ff=da(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,23)},set:function(n){n?this.Ff=ca(this.Ff,23):this.Ff=da(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,24)},set:function(n){n?this.Ff=ca(this.Ff,24):this.Ff=da(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,25)},set:function(n){n?this.Ff=ca(this.Ff,25):this.Ff=da(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,26)},set:function(n){n?this.Ff=ca(this.Ff,26):this.Ff=da(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){Number.isInteger(n)&&(e=n)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Co(op,Du);var sx=function(){op.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ua(this.Ff,14)},set:function(e){e?this.Ff=ca(this.Ff,14):this.Ff=da(this.Ff,14)}}),this.password=!0};Co(sx,op);var zt={CheckBox:{createAppearanceStream:function(){return{N:{On:zt.CheckBox.YesNormal},D:{On:zt.CheckBox.YesPushDown,Off:zt.CheckBox.OffPushDown}}},YesPushDown:function(e){var n=fc(e);n.scope=e.scope;var t=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=DS(e,e.caption);return t.push("0.749023 g"),t.push("0 0 "+An(zt.internal.getWidth(e))+" "+An(zt.internal.getHeight(e))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+An(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),n.stream=t.join(`
`),n},YesNormal:function(e){var n=fc(e);n.scope=e.scope;var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=zt.internal.getHeight(e),s=zt.internal.getWidth(e),l=DS(e,e.caption);return i.push("1 g"),i.push("0 0 "+An(s)+" "+An(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+An(s-1)+" "+An(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+An(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),n.stream=i.join(`
`),n},OffPushDown:function(e){var n=fc(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+An(zt.internal.getWidth(e))+" "+An(zt.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}},RadioButton:{Circle:{createAppearanceStream:function(e){var n={D:{Off:zt.RadioButton.Circle.OffPushDown},N:{}};return n.N[e]=zt.RadioButton.Circle.YesNormal,n.D[e]=zt.RadioButton.Circle.YesPushDown,n},getCA:function(){return"l"},YesNormal:function(e){var n=fc(e);n.scope=e.scope;var t=[],r=zt.internal.getWidth(e)<=zt.internal.getHeight(e)?zt.internal.getWidth(e)/4:zt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=zt.internal.Bezier_C,a=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Mf(zt.internal.getWidth(e)/2)+" "+Mf(zt.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=fc(e);n.scope=e.scope;var t=[],r=zt.internal.getWidth(e)<=zt.internal.getHeight(e)?zt.internal.getWidth(e)/4:zt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*zt.internal.Bezier_C).toFixed(5)),s=Number((r*zt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Mf(zt.internal.getWidth(e)/2)+" "+Mf(zt.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Mf(zt.internal.getWidth(e)/2)+" "+Mf(zt.internal.getHeight(e)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n},OffPushDown:function(e){var n=fc(e);n.scope=e.scope;var t=[],r=zt.internal.getWidth(e)<=zt.internal.getHeight(e)?zt.internal.getWidth(e)/4:zt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*zt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Mf(zt.internal.getWidth(e)/2)+" "+Mf(zt.internal.getHeight(e)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),n.stream=t.join(`
`),n}},Cross:{createAppearanceStream:function(e){var n={D:{Off:zt.RadioButton.Cross.OffPushDown},N:{}};return n.N[e]=zt.RadioButton.Cross.YesNormal,n.D[e]=zt.RadioButton.Cross.YesPushDown,n},getCA:function(){return"8"},YesNormal:function(e){var n=fc(e);n.scope=e.scope;var t=[],r=zt.internal.calculateCross(e);return t.push("q"),t.push("1 1 "+An(zt.internal.getWidth(e)-2)+" "+An(zt.internal.getHeight(e)-2)+" re"),t.push("W"),t.push("n"),t.push(An(r.x1.x)+" "+An(r.x1.y)+" m"),t.push(An(r.x2.x)+" "+An(r.x2.y)+" l"),t.push(An(r.x4.x)+" "+An(r.x4.y)+" m"),t.push(An(r.x3.x)+" "+An(r.x3.y)+" l"),t.push("s"),t.push("Q"),n.stream=t.join(`
`),n},YesPushDown:function(e){var n=fc(e);n.scope=e.scope;var t=zt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+An(zt.internal.getWidth(e))+" "+An(zt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+An(zt.internal.getWidth(e)-2)+" "+An(zt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(An(t.x1.x)+" "+An(t.x1.y)+" m"),r.push(An(t.x2.x)+" "+An(t.x2.y)+" l"),r.push(An(t.x4.x)+" "+An(t.x4.y)+" m"),r.push(An(t.x3.x)+" "+An(t.x3.y)+" l"),r.push("s"),r.push("Q"),n.stream=r.join(`
`),n},OffPushDown:function(e){var n=fc(e);n.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+An(zt.internal.getWidth(e))+" "+An(zt.internal.getHeight(e))+" re"),t.push("f"),n.stream=t.join(`
`),n}}},createDefaultAppearanceStream:function(e){var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,t=e.scope.__private__.encodeColorString(e.color);return"/"+n+" "+e.fontSize+" Tf "+t}};zt.internal={Bezier_C:.551915024494,calculateCross:function(e){var n=zt.internal.getWidth(e),t=zt.internal.getHeight(e),r=Math.min(n,t);return{x1:{x:(n-r)/2,y:(t-r)/2+r},x2:{x:(n-r)/2+r,y:(t-r)/2},x3:{x:(n-r)/2,y:(t-r)/2},x4:{x:(n-r)/2+r,y:(t-r)/2+r}}}},zt.internal.getWidth=function(e){var n=0;return Jr(e)==="object"&&(n=Fk(e.Rect[2])),n},zt.internal.getHeight=function(e){var n=0;return Jr(e)==="object"&&(n=Fk(e.Rect[3])),n};var YQ=Ki.addField=function(e){if(VQ(this,e),!(e instanceof Du))throw new Error("Invalid argument passed to jsPDF.addField.");var n;return(n=e).scope.internal.acroformPlugin.printedOut&&(n.scope.internal.acroformPlugin.printedOut=!1,n.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),n.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(n),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ki.AcroFormChoiceField=z0,Ki.AcroFormListBox=q0,Ki.AcroFormComboBox=B0,Ki.AcroFormEditBox=rx,Ki.AcroFormButton=Ka,Ki.AcroFormPushButton=ix,Ki.AcroFormRadioButton=U0,Ki.AcroFormCheckBox=ax,Ki.AcroFormTextField=op,Ki.AcroFormPasswordField=sx,Ki.AcroFormAppearance=zt,Ki.AcroForm={ChoiceField:z0,ListBox:q0,ComboBox:B0,EditBox:rx,Button:Ka,PushButton:ix,RadioButton:U0,CheckBox:ax,TextField:op,PasswordField:sx,Appearance:zt},ln.AcroForm={ChoiceField:z0,ListBox:q0,ComboBox:B0,EditBox:rx,Button:Ka,PushButton:ix,RadioButton:U0,CheckBox:ax,TextField:op,PasswordField:sx,Appearance:zt};ln.AcroForm;function GO(e){return e.reduce(function(n,t,r){return n[t]=r,n},{})}(function(e){e.__addimage__={};var n="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(j,O){var z,T,G,W,X,ie=n;if((O=O||n)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(M(j))for(X in t)for(G=t[X],z=0;z<G.length;z+=1){for(W=!0,T=0;T<G[z].length;T+=1)if(G[z][T]!==void 0&&G[z][T]!==j[T]){W=!1;break}if(W===!0){ie=X;break}}else for(X in t)for(G=t[X],z=0;z<G.length;z+=1){for(W=!0,T=0;T<G[z].length;T+=1)if(G[z][T]!==void 0&&G[z][T]!==j.charCodeAt(T)){W=!1;break}if(W===!0){ie=X;break}}return ie===n&&O!==n&&(ie=O),ie},i=function j(O){for(var z=this.internal.write,T=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:O.width}),W.push({key:"Height",value:O.height}),O.colorSpace===A.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===A.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)){for(var X="",ie=0,ue=O.transparency.length;ie<ue;ie++)X+=O.transparency[ie]+" "+O.transparency[ie]+" ";W.push({key:"Mask",value:"["+X+"]"})}O.sMask!==void 0&&W.push({key:"SMask",value:O.objectId+1+" 0 R"});var $=O.filter!==void 0?["/"+O.filter]:void 0;if(T({data:O.data,additionalKeyValues:W,alreadyAppliedFilters:$,objectId:O.objectId}),z("endobj"),"sMask"in O&&O.sMask!==void 0){var ae="/Predictor "+O.predictor+" /Colors 1 /BitsPerComponent "+O.bitsPerComponent+" /Columns "+O.width,U={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:O.bitsPerComponent,decodeParameters:ae,data:O.sMask};"filter"in O&&(U.filter=O.filter),j.call(this,U)}if(O.colorSpace===A.INDEXED){var q=this.internal.newObject();T({data:L(new Uint8Array(O.palette)),objectId:q}),z("endobj")}},a=function(){var j=this.internal.collections.addImage_images;for(var O in j)i.call(this,j[O])},s=function(){var j,O=this.internal.collections.addImage_images,z=this.internal.write;for(var T in O)z("/I"+(j=O[T]).index,j.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var j=this.internal.collections.addImage_images;return l.call(this),j},d=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(j){return typeof e["process"+j.toUpperCase()]=="function"},g=function(j){return Jr(j)==="object"&&j.nodeType===1},b=function(j,O){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var z=""+j.getAttribute("src");if(z.indexOf("data:image/")===0)return J1(unescape(z).split("base64,").pop());var T=e.loadFile(z,!0);if(T!==void 0)return T}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var G;switch(O){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return J1(j.toDataURL(G,1).split("base64,").pop())}},m=function(j){var O=this.internal.collections.addImage_images;if(O){for(var z in O)if(j===O[z].alias)return O[z]}},x=function(j,O,z){return j||O||(j=-96,O=-96),j<0&&(j=-1*z.width*72/j/this.internal.scaleFactor),O<0&&(O=-1*z.height*72/O/this.internal.scaleFactor),j===0&&(j=O*z.width/z.height),O===0&&(O=j*z.height/z.width),[j,O]},y=function(j,O,z,T,G,W){var X=x.call(this,z,T,G),ie=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,$=c.call(this);if(z=X[0],T=X[1],$[G.index]=G,W){W*=Math.PI/180;var ae=Math.cos(W),U=Math.sin(W),q=function(ee){return ee.toFixed(4)},Z=[q(ae),q(U),q(-1*U),q(ae),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,ie(j),ue(O+T),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([ie(z),"0","0",ie(T),"0","0","cm"].join(" "))):this.internal.write([ie(z),"0","0",ie(T),ie(j),ue(O+T),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(j){var O,z,T=0;if(typeof j=="string")for(z=j.length,O=0;O<z;O++)T=(T<<5)-T+j.charCodeAt(O),T|=0;else if(M(j))for(z=j.byteLength/2,O=0;O<z;O++)T=(T<<5)-T+j[O],T|=0;return T},N=e.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var O=!0;return j.length===0&&(O=!1),j.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(O=!1),O},F=e.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var O=j.indexOf(",");return O<0?null:j.substring(0,O).trim().endsWith("base64")?j.substring(O+1):null},R=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(j){return R()&&j instanceof ArrayBuffer};var M=e.__addimage__.isArrayBufferView=function(j){return R()&&typeof Uint32Array<"u"&&(j instanceof Int8Array||j instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array)},k=e.__addimage__.binaryStringToUint8Array=function(j){for(var O=j.length,z=new Uint8Array(O),T=0;T<O;T++)z[T]=j.charCodeAt(T);return z},L=e.__addimage__.arrayBufferToBinaryString=function(j){for(var O="",z=M(j)?j:new Uint8Array(j),T=0;T<z.length;T+=8192)O+=String.fromCharCode.apply(null,z.subarray(T,T+8192));return O};e.addImage=function(){var j,O,z,T,G,W,X,ie,ue;if(typeof arguments[1]=="number"?(O=n,z=arguments[1],T=arguments[2],G=arguments[3],W=arguments[4],X=arguments[5],ie=arguments[6],ue=arguments[7]):(O=arguments[1],z=arguments[2],T=arguments[3],G=arguments[4],W=arguments[5],X=arguments[6],ie=arguments[7],ue=arguments[8]),Jr(j=arguments[0])==="object"&&!g(j)&&"imageData"in j){var $=j;j=$.imageData,O=$.format||O||n,z=$.x||z||0,T=$.y||T||0,G=$.w||$.width||G,W=$.h||$.height||W,X=$.alias||X,ie=$.compression||ie,ue=$.rotation||$.angle||ue}var ae=this.internal.getFilters();if(ie===void 0&&ae.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(z)||isNaN(T))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var U=B.call(this,j,O,X,ie);return y.call(this,z,T,G,W,U,ue),this};var B=function(j,O,z,T){var G,W,X;if(typeof j=="string"&&r(j)===n){j=unescape(j);var ie=Q(j,!1);(ie!==""||(ie=e.loadFile(j,!0))!==void 0)&&(j=ie)}if(g(j)&&(j=b(j,O)),O=r(j,O),!h(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((X=z)==null||X.length===0)&&(z=function(ue){return typeof ue=="string"||M(ue)?C(ue):M(ue.data)?C(ue.data):null}(j)),(G=m.call(this,z))||(R()&&(j instanceof Uint8Array||O==="RGBA"||(W=j,j=k(j))),G=this["process"+O.toUpperCase()](j,d.call(this),z,function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in e.image_compression?ue:w.NONE}(T),W)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},Q=e.__addimage__.convertBase64ToBinaryString=function(j,O){O=typeof O!="boolean"||O;var z,T="";if(typeof j=="string"){var G;z=(G=F(j))!==null&&G!==void 0?G:j;try{T=J1(z)}catch(W){if(O)throw N(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return T};e.getImageProperties=function(j){var O,z,T="";if(g(j)&&(j=b(j)),typeof j=="string"&&r(j)===n&&((T=Q(j,!1))===""&&(T=e.loadFile(j)||""),j=T),z=r(j),!h(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(!R()||j instanceof Uint8Array||(j=k(j)),!(O=this["process"+z.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=z,O}})(ln.API),function(e){var n=function(t){if(t!==void 0&&t!="")return!0};ln.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var r,i,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,h=!1,g=0;g<d.length&&!h;g++)switch((r=d[g]).type){case"link":(n(r.options.url)||n(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var b=0;b<d.length;b++){r=d[b];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(y.objId),C=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+m(w(r.contents))+")",a+=" /Popup "+A.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+m(w(C))+") >>",y.content=a;var N=y.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+N,r.open&&(a+=" /Open true"),a+=" >>",A.content=a,this.internal.write(y.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+l(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var F=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(x(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var R=this.annotations._nameMap[r.options.name];r.options.pageNumber=R.page,r.options.top=R.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var M=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+M+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},e.link=function(t,r,i,a,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(t),y:d(r),w:c(t+i),h:d(r+a)},options:s,type:"link"})},e.textWithLink=function(t,r,i,a){var s,l,c=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var h=this.splitTextToSize(t,l).length;s=Math.ceil(d*h)}else l=c,s=d;return this.text(t,r,i,a),i+=.2*d,a.align==="center"&&(r-=c/2),a.align==="right"&&(r-=c),this.link(r,i-d,l,s,a),c},e.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(ln.API),function(e){var n={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(y){return n[y.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=e.__arabicParser__.isArabicEndLetter=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(y){return s(y)&&i.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return s(y)&&a(y)&&n[y.charCodeAt(0)].length==4},g=e.__arabicParser__.resolveLigatures=function(y){var A=0,w=t,C="",N=0;for(A=0;A<y.length;A+=1)w[y.charCodeAt(A)]!==void 0?(N++,typeof(w=w[y.charCodeAt(A)])=="number"&&(C+=String.fromCharCode(w),w=t,N=0),A===y.length-1&&(w=t,C+=y.charAt(A-(N-1)),A-=N-1,N=0)):(w=t,C+=y.charAt(A-N),A-=N,N=0);return C};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var b=e.__arabicParser__.getCorrectForm=function(y,A,w){return s(y)?a(y)===!1?-1:!d(y)||!s(A)&&!s(w)||!s(w)&&l(A)||l(y)&&!s(A)||l(y)&&c(A)||l(y)&&l(A)?0:h(y)&&s(A)&&!l(A)&&s(w)&&d(w)?3:l(y)||!s(w)?1:2:-1},m=function(y){var A=0,w=0,C=0,N="",F="",R="",M=(y=y||"").split("\\s+"),k=[];for(A=0;A<M.length;A+=1){for(k.push(""),w=0;w<M[A].length;w+=1)N=M[A][w],F=M[A][w-1],R=M[A][w+1],s(N)?(C=b(N,F,R),k[A]+=C!==-1?String.fromCharCode(n[N.charCodeAt(0)][C]):N):k[A]+=N;k[A]=g(k[A])}return k.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var y,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(A)){var C=0;for(w=[],C=0;C<A.length;C+=1)Array.isArray(A[C])?w.push([m(A[C][0]),A[C][1],A[C][2]]):w.push([m(A[C])]);y=w}else y=m(A);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",x])}(ln.API),ln.API.autoPrint=function(e){var n;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+n+" 0 R")})}return this},function(e){var n=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(l){t=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};n.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},n.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new n,this.canvas.pdf=this}])}(ln.API),function(e){var n={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},n),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(y){b=y}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(y){x=y}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,d){r.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),g=d.font||this.getFont(),b=d.scaleFactor||this.internal.scaleFactor,m=0,x=0,y=0,A=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var w=d.maxWidth;w>0?typeof c=="string"?c=this.splitTextToSize(c,w):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,F){return N.concat(A.splitTextToSize(F,w))},[])):c=Array.isArray(c)?c:[c];for(var C=0;C<c.length;C++)m<(y=this.getStringUnitWidth(c[C],{font:g})*h)&&(m=y);return m!==0&&(x=c.length),{w:m/=b,h:Math.max((x*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/b,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||n;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,g=this.internal.__cell__.margins||n,b=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=g.top,m&&b&&(this.printHeaderRow(c.lineNumber,!0),c.y+=b[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-h,c.y+h,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+h,{align:"center",baseline:"top",maxWidth:c.width-h-h}):this.text(c.text,c.x+h,c.y+h,{align:"left",baseline:"top",maxWidth:c.width-h-h})),this.internal.__cell__.lastCell=c,this};e.table=function(c,d,h,g,b){if(r.call(this),!h)throw new Error("No data for PDF table.");var m,x,y,A,w=[],C=[],N=[],F={},R={},M=[],k=[],L=(b=b||{}).autoSize||!1,B=b.printHeaders!==!1,Q=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,j=b.margins||Object.assign({width:this.getPageWidth()},n),O=typeof b.padding=="number"?b.padding:3,z=b.headerBackgroundColor||"#c8c8c8",T=b.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=T,this.setFontSize(Q),g==null)C=w=Object.keys(h[0]),N=w.map(function(){return"left"});else if(Array.isArray(g)&&Jr(g[0])==="object")for(w=g.map(function($){return $.name}),C=g.map(function($){return $.prompt||$.name||""}),N=g.map(function($){return $.align||"left"}),m=0;m<g.length;m+=1)R[g[m].name]=g[m].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(C=w=g,N=w.map(function(){return"left"}));if(L||Array.isArray(g)&&typeof g[0]=="string")for(m=0;m<w.length;m+=1){for(F[A=w[m]]=h.map(function($){return $[A]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(C[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=F[A],this.setFont(void 0,"normal"),y=0;y<x.length;y+=1)M.push(this.getTextDimensions(x[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[A]=Math.max.apply(null,M)+O+O,M=[]}if(B){var G={};for(m=0;m<w.length;m+=1)G[w[m]]={},G[w[m]].text=C[m],G[w[m]].align=N[m];var W=l.call(this,G,R);k=w.map(function($){return new a(c,d,R[$],W,G[$].text,void 0,G[$].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var X=g.reduce(function($,ae){return $[ae.name]=ae.align,$},{});for(m=0;m<h.length;m+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:m,data:h[m]},this);var ie=l.call(this,h[m],R);for(y=0;y<w.length;y+=1){var ue=h[m][w[y]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:m,col:y,data:ue},this),s.call(this,new a(c,d,R[w[y]],ie,ue,m+2,X[w[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var h=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(c).map(function(m){var x=c[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,d[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*g/b+h+h},this).reduce(function(m,x){return Math.max(m,x)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,b.push(h)),h.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,h),this.setTextColor(x)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),t=!1}}(ln.API);var QO={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},KO=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],LS=GO(KO),XO=[100,200,300,400,500,600,700,800,900],GQ=GO(XO);function RS(e){var n=e.family.replace(/"|'/g,"").toLowerCase(),t=function(a){return QO[a=a||"normal"]?a:"normal"}(e.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof LS[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:n,style:t,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:n,style:[i,t,r].join(" ")}}}function Pk(e,n,t,r){var i;for(i=t;i>=0&&i<n.length;i+=r)if(e[n[i]])return e[n[i]];for(i=t;i>=0&&i<n.length;i-=r)if(e[n[i]])return e[n[i]]}var QQ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},zk={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function qk(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function KQ(e,n,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},QQ,t.genericFontFamilies||{}),a=null,s=null,l=0;l<n.length;++l)if(i[(a=RS(n[l])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){s=e[a.family];break}if(!(s=s||e[r]))throw new Error("Could not find a font-family for the rule '"+qk(a)+"' and default family '"+r+"'.");if(s=function(c,d){if(d[c])return d[c];var h=LS[c],g=h<=LS.normal?-1:1,b=Pk(d,KO,h,g);if(!b)throw new Error("Could not find a matching font-stretch value for "+c);return b}(a.stretch,s),s=function(c,d){if(d[c])return d[c];for(var h=QO[c],g=0;g<h.length;++g)if(d[h[g]])return d[h[g]];throw new Error("Could not find a matching font-style for "+c)}(a.style,s),!(s=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var h=GQ[c],g=Pk(d,XO,h,c<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+c);return g}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+qk(a)+"'.");return s}function Bk(e){return e.trimLeft()}function XQ(e,n){for(var t=0;t<e.length;){if(e.charAt(t)===n)return[e.substring(0,t),e.substring(t+1)];t+=1}return null}function ZQ(e){var n=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return n===null?null:[n[0],e.substring(n[0].length)]}var Ly,Uk,$k,ow=["times"];(function(e){var n,t,r,i,a,s,l,c,d,h=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new c,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new s,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new s,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new g(this),n=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new h}]);var g=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=U;Object.defineProperty(this,"pdf",{get:function(){return q}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(Se){Z=!!Se}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(Se){ee=!!Se}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(Se){isNaN(Se)||(se=Se)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(Se){isNaN(Se)||(we=Se)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Se){var te;typeof Se=="number"?te=[Se,Se,Se,Se]:((te=new Array(4))[0]=Se[0],te[1]=Se.length>=2?Se[1]:te[0],te[2]=Se.length>=3?Se[2]:te[0],te[3]=Se.length>=4?Se[3]:te[1]),d.margin=te}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(Se){ye=Se}});var Ce=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ce},set:function(Se){Ce=Se}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(Se){Oe=Se}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Se){Se instanceof h&&(d=Se)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Se){d.path=Se}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(Se){Le=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var te;te=b(Se),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var te=b(Se);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var He=null;function We(Se,te){if(He===null){var ge=function(ce){var ve=[];return Object.keys(ce).forEach(function(Ie){ce[Ie].forEach(function(Pe){var ke=null;switch(Pe){case"bold":ke={family:Ie,weight:"bold"};break;case"italic":ke={family:Ie,style:"italic"};break;case"bolditalic":ke={family:Ie,weight:"bold",style:"italic"};break;case"":case"normal":ke={family:Ie}}ke!==null&&(ke.ref={name:Ie,style:Pe},ve.push(ke))})}),ve}(Se.getFontList());He=function(ce){for(var ve={},Ie=0;Ie<ce.length;++Ie){var Pe=RS(ce[Ie]),ke=Pe.family,Ke=Pe.stretch,lt=Pe.style,tt=Pe.weight;ve[ke]=ve[ke]||{},ve[ke][Ke]=ve[ke][Ke]||{},ve[ke][Ke][lt]=ve[ke][Ke][lt]||{},ve[ke][Ke][lt][tt]=Pe}return ve}(ge.concat(te))}return He}var V=null;Object.defineProperty(this,"fontFaces",{get:function(){return V},set:function(Se){He=null,V=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var te;if(this.ctx.font=Se,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var ge=te[1];te[2];var ce=te[3],ve=te[4];te[5];var Ie=te[6],Pe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ve)[2];ve=Math.floor(Pe==="px"?parseFloat(ve)*this.pdf.internal.scaleFactor:Pe==="em"?parseFloat(ve)*this.pdf.getFontSize():parseFloat(ve)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ve);var ke=function(Ne){var ft,Ze,Mt=[],kt=Ne.trim();if(kt==="")return ow;if(kt in zk)return[zk[kt]];for(;kt!=="";){switch(Ze=null,ft=(kt=Bk(kt)).charAt(0)){case'"':case"'":Ze=XQ(kt.substring(1),ft);break;default:Ze=ZQ(kt)}if(Ze===null||(Mt.push(Ze[0]),(kt=Bk(Ze[1]))!==""&&kt.charAt(0)!==","))return ow;kt=kt.replace(/^,/,"")}return Mt}(Ie);if(this.fontFaces){var Ke=KQ(We(this.pdf,this.fontFaces),ke.map(function(Ne){return{family:Ne,stretch:"normal",weight:ce,style:ge}}));this.pdf.setFont(Ke.ref.name,Ke.ref.style)}else{var lt="";(ce==="bold"||parseInt(ce,10)>=700||ge==="bold")&&(lt="bold"),ge==="italic"&&(lt+="italic"),lt.length===0&&(lt="normal");for(var tt="",Me={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},xe=0;xe<ke.length;xe++){if(this.pdf.internal.getFont(ke[xe],lt,{noFallback:!0,disableWarning:!0})!==void 0){tt=ke[xe];break}if(lt==="bolditalic"&&this.pdf.internal.getFont(ke[xe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)tt=ke[xe],lt="bold";else if(this.pdf.internal.getFont(ke[xe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){tt=ke[xe],lt="normal";break}}if(tt===""){for(var _e=0;_e<ke.length;_e++)if(Me[ke[_e]]){tt=Me[ke[_e]];break}}tt=tt===""?"Times":tt,this.pdf.setFont(tt,lt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};g.prototype.setLineDash=function(U){this.lineDash=U},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){F.call(this,"fill",!1)},g.prototype.stroke=function(){F.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(U,q){if(isNaN(U)||isNaN(q))throw Zr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new s(U,q));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(U,q)},g.prototype.closePath=function(){var U=new s(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Jr(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){U=new s(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(U.x,U.y)},g.prototype.lineTo=function(U,q){if(isNaN(U)||isNaN(q))throw Zr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new s(U,q));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},g.prototype.quadraticCurveTo=function(U,q,Z,ee){if(isNaN(Z)||isNaN(ee)||isNaN(U)||isNaN(q))throw Zr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new s(Z,ee)),we=this.ctx.transform.applyToPoint(new s(U,q));this.path.push({type:"qct",x1:we.x,y1:we.y,x:se.x,y:se.y}),this.ctx.lastPoint=new s(se.x,se.y)},g.prototype.bezierCurveTo=function(U,q,Z,ee,se,we){if(isNaN(se)||isNaN(we)||isNaN(U)||isNaN(q)||isNaN(Z)||isNaN(ee))throw Zr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new s(se,we)),Ce=this.ctx.transform.applyToPoint(new s(U,q)),Oe=this.ctx.transform.applyToPoint(new s(Z,ee));this.path.push({type:"bct",x1:Ce.x,y1:Ce.y,x2:Oe.x,y2:Oe.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new s(ye.x,ye.y)},g.prototype.arc=function(U,q,Z,ee,se,we){if(isNaN(U)||isNaN(q)||isNaN(Z)||isNaN(ee)||isNaN(se))throw Zr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new s(U,q));U=ye.x,q=ye.y;var Ce=this.ctx.transform.applyToPoint(new s(0,Z)),Oe=this.ctx.transform.applyToPoint(new s(0,0));Z=Math.sqrt(Math.pow(Ce.x-Oe.x,2)+Math.pow(Ce.y-Oe.y,2))}Math.abs(se-ee)>=2*Math.PI&&(ee=0,se=2*Math.PI),this.path.push({type:"arc",x:U,y:q,radius:Z,startAngle:ee,endAngle:se,counterclockwise:we})},g.prototype.arcTo=function(U,q,Z,ee,se){throw new Error("arcTo not implemented.")},g.prototype.rect=function(U,q,Z,ee){if(isNaN(U)||isNaN(q)||isNaN(Z)||isNaN(ee))throw Zr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,q),this.lineTo(U+Z,q),this.lineTo(U+Z,q+ee),this.lineTo(U,q+ee),this.lineTo(U,q),this.lineTo(U+Z,q),this.lineTo(U,q)},g.prototype.fillRect=function(U,q,Z,ee){if(isNaN(U)||isNaN(q)||isNaN(Z)||isNaN(ee))throw Zr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,q,Z,ee),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},g.prototype.strokeRect=function(U,q,Z,ee){if(isNaN(U)||isNaN(q)||isNaN(Z)||isNaN(ee))throw Zr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(U,q,Z,ee),this.stroke())},g.prototype.clearRect=function(U,q,Z,ee){if(isNaN(U)||isNaN(q)||isNaN(Z)||isNaN(ee))throw Zr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,q,Z,ee))},g.prototype.save=function(U){U=typeof U!="boolean"||U;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},g.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(q),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(U){var q,Z,ee,se;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))q=0,Z=0,ee=0,se=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(we!==null)q=parseInt(we[1]),Z=parseInt(we[2]),ee=parseInt(we[3]),se=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)q=parseInt(we[1]),Z=parseInt(we[2]),ee=parseInt(we[3]),se=parseFloat(we[4]);else{if(se=1,typeof U=="string"&&U.charAt(0)!=="#"){var ye=new UO(U);U=ye.ok?ye.toHex():"#000000"}U.length===4?(q=U.substring(1,2),q+=q,Z=U.substring(2,3),Z+=Z,ee=U.substring(3,4),ee+=ee):(q=U.substring(1,3),Z=U.substring(3,5),ee=U.substring(5,7)),q=parseInt(q,16),Z=parseInt(Z,16),ee=parseInt(ee,16)}}return{r:q,g:Z,b:ee,a:se,style:U}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(U,q,Z,ee){if(isNaN(q)||isNaN(Z)||typeof U!="string")throw Zr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!m.call(this)){var se=ie(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;O.call(this,{text:U,x:q,y:Z,scale:we,angle:se,align:this.textAlign,maxWidth:ee})}},g.prototype.strokeText=function(U,q,Z,ee){if(isNaN(q)||isNaN(Z)||typeof U!="string")throw Zr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ee=isNaN(ee)?void 0:ee;var se=ie(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;O.call(this,{text:U,x:q,y:Z,scale:we,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:ee})}},g.prototype.measureText=function(U){if(typeof U!="string")throw Zr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,Z=this.pdf.internal.scaleFactor,ee=q.internal.getFontSize(),se=q.getStringUnitWidth(U)*ee/q.internal.scaleFactor,we=function(ye){var Ce=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this};return new we({width:se*=Math.round(96*Z/72*1e4)/1e4})},g.prototype.scale=function(U,q){if(isNaN(U)||isNaN(q))throw Zr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new c(U,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},g.prototype.rotate=function(U){if(isNaN(U))throw Zr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new c(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},g.prototype.translate=function(U,q){if(isNaN(U)||isNaN(q))throw Zr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new c(1,0,0,1,U,q);this.ctx.transform=this.ctx.transform.multiply(Z)},g.prototype.transform=function(U,q,Z,ee,se,we){if(isNaN(U)||isNaN(q)||isNaN(Z)||isNaN(ee)||isNaN(se)||isNaN(we))throw Zr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new c(U,q,Z,ee,se,we);this.ctx.transform=this.ctx.transform.multiply(ye)},g.prototype.setTransform=function(U,q,Z,ee,se,we){U=isNaN(U)?1:U,q=isNaN(q)?0:q,Z=isNaN(Z)?0:Z,ee=isNaN(ee)?1:ee,se=isNaN(se)?0:se,we=isNaN(we)?0:we,this.ctx.transform=new c(U,q,Z,ee,se,we)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(U,q,Z,ee,se,we,ye,Ce,Oe){var Le=this.pdf.getImageProperties(U),He=1,We=1,V=1,Se=1;ee!==void 0&&Ce!==void 0&&(V=Ce/ee,Se=Oe/se,He=Le.width/ee*Ce/ee,We=Le.height/se*Oe/se),we===void 0&&(we=q,ye=Z,q=0,Z=0),ee!==void 0&&Ce===void 0&&(Ce=ee,Oe=se),ee===void 0&&Ce===void 0&&(Ce=Le.width,Oe=Le.height);for(var te,ge=this.ctx.transform.decompose(),ce=ie(ge.rotate.shx),ve=new c,Ie=(ve=(ve=(ve=ve.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale)).applyToRectangle(new l(we-q*V,ye-Z*Se,ee*He,se*We)),Pe=A.call(this,Ie),ke=[],Ke=0;Ke<Pe.length;Ke+=1)ke.indexOf(Pe[Ke])===-1&&ke.push(Pe[Ke]);if(N(ke),this.autoPaging)for(var lt=ke[0],tt=ke[ke.length-1],Me=lt;Me<tt+1;Me++){this.pdf.setPage(Me);var xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_e=Me===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ze=Me===1?0:Ne+(Me-2)*ft;if(this.ctx.clip_path.length!==0){var Mt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(te,this.posX+this.margin[3],-Ze+_e+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=Mt}var kt=JSON.parse(JSON.stringify(Ie));kt=C([kt],this.posX+this.margin[3],-Ze+_e+this.ctx.prevPageLastElemOffset)[0];var Wt=(Me>lt||Me<tt)&&y.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xe,ft,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",kt.x,kt.y,kt.w,kt.h,null,null,ce),Wt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,ce)};var A=function(U,q,Z){var ee=[];q=q||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":ee.push(Math.floor((U.y+se)/Z)+1);break;case"arc":ee.push(Math.floor((U.y+se-U.radius)/Z)+1),ee.push(Math.floor((U.y+se+U.radius)/Z)+1);break;case"qct":var we=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);ee.push(Math.floor((we.y+se)/Z)+1),ee.push(Math.floor((we.y+we.h+se)/Z)+1);break;case"bct":var ye=$(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);ee.push(Math.floor((ye.y+se)/Z)+1),ee.push(Math.floor((ye.y+ye.h+se)/Z)+1);break;case"rect":ee.push(Math.floor((U.y+se)/Z)+1),ee.push(Math.floor((U.y+U.h+se)/Z)+1)}for(var Ce=0;Ce<ee.length;Ce+=1)for(;this.pdf.internal.getNumberOfPages()<ee[Ce];)w.call(this);return ee},w=function(){var U=this.fillStyle,q=this.strokeStyle,Z=this.font,ee=this.lineCap,se=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=q,this.font=Z,this.lineCap=ee,this.lineWidth=se,this.lineJoin=we},C=function(U,q,Z){for(var ee=0;ee<U.length;ee++)switch(U[ee].type){case"bct":U[ee].x2+=q,U[ee].y2+=Z;case"qct":U[ee].x1+=q,U[ee].y1+=Z;case"mt":case"lt":case"arc":default:U[ee].x+=q,U[ee].y+=Z}return U},N=function(U){return U.sort(function(q,Z){return q-Z})},F=function(U,q){for(var Z,ee,se=this.fillStyle,we=this.strokeStyle,ye=this.lineCap,Ce=this.lineWidth,Oe=Math.abs(Ce*this.ctx.transform.scaleX),Le=this.lineJoin,He=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),V=[],Se=0;Se<We.length;Se++)if(We[Se].x!==void 0)for(var te=A.call(this,We[Se]),ge=0;ge<te.length;ge+=1)V.indexOf(te[ge])===-1&&V.push(te[ge]);for(var ce=0;ce<V.length;ce++)for(;this.pdf.internal.getNumberOfPages()<V[ce];)w.call(this);if(N(V),this.autoPaging)for(var ve=V[0],Ie=V[V.length-1],Pe=ve;Pe<Ie+1;Pe++){this.pdf.setPage(Pe),this.fillStyle=se,this.strokeStyle=we,this.lineCap=ye,this.lineWidth=Oe,this.lineJoin=Le;var ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=Pe===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Me=Pe===1?0:lt+(Pe-2)*tt;if(this.ctx.clip_path.length!==0){var xe=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Z,this.posX+this.margin[3],-Me+Ke+this.ctx.prevPageLastElemOffset),R.call(this,U,!0),this.path=xe}if(ee=JSON.parse(JSON.stringify(He)),this.path=C(ee,this.posX+this.margin[3],-Me+Ke+this.ctx.prevPageLastElemOffset),q===!1||Pe===0){var _e=(Pe>ve||Pe<Ie)&&y.call(this);_e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,tt,null).clip().discardPath()),R.call(this,U,q),_e&&this.pdf.restoreGraphicsState()}this.lineWidth=Ce}else this.lineWidth=Oe,R.call(this,U,q),this.lineWidth=Ce;this.path=He},R=function(U,q){if((U!=="stroke"||q||!x.call(this))&&(U==="stroke"||q||!m.call(this))){for(var Z,ee,se=[],we=this.path,ye=0;ye<we.length;ye++){var Ce=we[ye];switch(Ce.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:Ce,deltas:[],abs:[]});break;case"lt":var Oe=se.length;if(we[ye-1]&&!isNaN(we[ye-1].x)&&(Z=[Ce.x-we[ye-1].x,Ce.y-we[ye-1].y],Oe>0)){for(;Oe>=0;Oe--)if(se[Oe-1].close!==!0&&se[Oe-1].begin!==!0){se[Oe-1].deltas.push(Z),se[Oe-1].abs.push(Ce);break}}break;case"bct":Z=[Ce.x1-we[ye-1].x,Ce.y1-we[ye-1].y,Ce.x2-we[ye-1].x,Ce.y2-we[ye-1].y,Ce.x-we[ye-1].x,Ce.y-we[ye-1].y],se[se.length-1].deltas.push(Z);break;case"qct":var Le=we[ye-1].x+2/3*(Ce.x1-we[ye-1].x),He=we[ye-1].y+2/3*(Ce.y1-we[ye-1].y),We=Ce.x+2/3*(Ce.x1-Ce.x),V=Ce.y+2/3*(Ce.y1-Ce.y),Se=Ce.x,te=Ce.y;Z=[Le-we[ye-1].x,He-we[ye-1].y,We-we[ye-1].x,V-we[ye-1].y,Se-we[ye-1].x,te-we[ye-1].y],se[se.length-1].deltas.push(Z);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(Ce)}}ee=q?null:U==="stroke"?"stroke":"fill";for(var ge=!1,ce=0;ce<se.length;ce++)if(se[ce].arc)for(var ve=se[ce].abs,Ie=0;Ie<ve.length;Ie++){var Pe=ve[Ie];Pe.type==="arc"?L.call(this,Pe.x,Pe.y,Pe.radius,Pe.startAngle,Pe.endAngle,Pe.counterclockwise,void 0,q,!ge):z.call(this,Pe.x,Pe.y),ge=!0}else if(se[ce].close===!0)this.pdf.internal.out("h"),ge=!1;else if(se[ce].begin!==!0){var ke=se[ce].start.x,Ke=se[ce].start.y;T.call(this,se[ce].deltas,ke,Ke),ge=!0}ee&&B.call(this,ee),q&&Q.call(this)}},M=function(U){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-Z;case"top":return U+q-Z;case"hanging":return U+q-2*Z;case"middle":return U+q/2-Z;case"ideographic":return U;case"alphabetic":default:return U}},k=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(q,Z){this.colorStops.push([q,Z])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(U,q,Z,ee,se,we,ye,Ce,Oe){for(var Le=W.call(this,Z,ee,se,we),He=0;He<Le.length;He++){var We=Le[He];He===0&&(Oe?j.call(this,We.x1+U,We.y1+q):z.call(this,We.x1+U,We.y1+q)),G.call(this,U,q,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}Ce?Q.call(this):B.call(this,ye)},B=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(U,q){this.pdf.internal.out(t(U)+" "+r(q)+" m")},O=function(U){var q;switch(U.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var Z=this.pdf.getTextDimensions(U.text),ee=M.call(this,U.y),se=k.call(this,ee)-Z.h,we=this.ctx.transform.applyToPoint(new s(U.x,ee)),ye=this.ctx.transform.decompose(),Ce=new c;Ce=(Ce=(Ce=Ce.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale);for(var Oe,Le,He,We=this.ctx.transform.applyToRectangle(new l(U.x,ee,Z.w,Z.h)),V=Ce.applyToRectangle(new l(U.x,se,Z.w,Z.h)),Se=A.call(this,V),te=[],ge=0;ge<Se.length;ge+=1)te.indexOf(Se[ge])===-1&&te.push(Se[ge]);if(N(te),this.autoPaging)for(var ce=te[0],ve=te[te.length-1],Ie=ce;Ie<ve+1;Ie++){this.pdf.setPage(Ie);var Pe=Ie===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[2],lt=Ke-this.margin[0],tt=this.pdf.internal.pageSize.width-this.margin[1],Me=tt-this.margin[3],xe=Ie===1?0:ke+(Ie-2)*lt;if(this.ctx.clip_path.length!==0){var _e=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(Oe,this.posX+this.margin[3],-1*xe+Pe),R.call(this,"fill",!0),this.path=_e}var Ne=C([JSON.parse(JSON.stringify(V))],this.posX+this.margin[3],-xe+Pe+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*U.scale),He=this.lineWidth,this.lineWidth=He*U.scale);var ft=this.autoPaging!=="text";if(ft||Ne.y+Ne.h<=Ke){if(ft||Ne.y>=Pe&&Ne.x<=tt){var Ze=ft?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||tt-Ne.x)[0],Mt=C([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-xe+Pe+this.ctx.prevPageLastElemOffset)[0],kt=ft&&(Ie>ce||Ie<ve)&&y.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,lt,null).clip().discardPath()),this.pdf.text(Ze,Mt.x,Mt.y,{angle:U.angle,align:q,renderingMode:U.renderingMode}),kt&&this.pdf.restoreGraphicsState()}}else Ne.y<Ke&&(this.ctx.prevPageLastElemOffset+=Ke-Ne.y);U.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=He)}else U.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*U.scale),He=this.lineWidth,this.lineWidth=He*U.scale),this.pdf.text(U.text,we.x+this.posX,we.y+this.posY,{angle:U.angle,align:q,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=He)},z=function(U,q,Z,ee){Z=Z||0,ee=ee||0,this.pdf.internal.out(t(U+Z)+" "+r(q+ee)+" l")},T=function(U,q,Z){return this.pdf.lines(U,q,Z,null,null)},G=function(U,q,Z,ee,se,we,ye,Ce){this.pdf.internal.out([n(i(Z+U)),n(a(ee+q)),n(i(se+U)),n(a(we+q)),n(i(ye+U)),n(a(Ce+q)),"c"].join(" "))},W=function(U,q,Z,ee){for(var se=2*Math.PI,we=Math.PI/2;q>Z;)q-=se;var ye=Math.abs(Z-q);ye<se&&ee&&(ye=se-ye);for(var Ce=[],Oe=ee?-1:1,Le=q;ye>1e-5;){var He=Le+Oe*Math.min(ye,we);Ce.push(X.call(this,U,Le,He)),ye-=Math.abs(He-Le),Le=He}return Ce},X=function(U,q,Z){var ee=(Z-q)/2,se=U*Math.cos(ee),we=U*Math.sin(ee),ye=se,Ce=-we,Oe=ye*ye+Ce*Ce,Le=Oe+ye*se+Ce*we,He=4/3*(Math.sqrt(2*Oe*Le)-Le)/(ye*we-Ce*se),We=ye-He*Ce,V=Ce+He*ye,Se=We,te=-V,ge=ee+q,ce=Math.cos(ge),ve=Math.sin(ge);return{x1:U*Math.cos(q),y1:U*Math.sin(q),x2:We*ce-V*ve,y2:We*ve+V*ce,x3:Se*ce-te*ve,y3:Se*ve+te*ce,x4:U*Math.cos(Z),y4:U*Math.sin(Z)}},ie=function(U){return 180*U/Math.PI},ue=function(U,q,Z,ee,se,we){var ye=U+.5*(Z-U),Ce=q+.5*(ee-q),Oe=se+.5*(Z-se),Le=we+.5*(ee-we),He=Math.min(U,se,ye,Oe),We=Math.max(U,se,ye,Oe),V=Math.min(q,we,Ce,Le),Se=Math.max(q,we,Ce,Le);return new l(He,V,We-He,Se-V)},$=function(U,q,Z,ee,se,we,ye,Ce){var Oe,Le,He,We,V,Se,te,ge,ce,ve,Ie,Pe,ke,Ke,lt=Z-U,tt=ee-q,Me=se-Z,xe=we-ee,_e=ye-se,Ne=Ce-we;for(Le=0;Le<41;Le++)ce=(te=(He=U+(Oe=Le/40)*lt)+Oe*((V=Z+Oe*Me)-He))+Oe*(V+Oe*(se+Oe*_e-V)-te),ve=(ge=(We=q+Oe*tt)+Oe*((Se=ee+Oe*xe)-We))+Oe*(Se+Oe*(we+Oe*Ne-Se)-ge),Le==0?(Ie=ce,Pe=ve,ke=ce,Ke=ve):(Ie=Math.min(Ie,ce),Pe=Math.min(Pe,ve),ke=Math.max(ke,ce),Ke=Math.max(Ke,ve));return new l(Math.round(Ie),Math.round(Pe),Math.round(ke-Ie),Math.round(Ke-Pe))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,q,Z=(U=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:q}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(ln.API),function(e){var n=function(a){var s,l,c,d,h,g,b,m,x,y;for(l=[],c=0,d=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;d>c;c+=4)(h=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(g=(h=((h=((h=((h=(h-(y=h%85))/85)-(x=h%85))/85)-(m=h%85))/85)-(b=h%85))/85)%85,l.push(g+33,b+33,m+33,x+33,y+33)):l.push(122);return function(A,w){for(var C=w;C>0;C--)A.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},t=function(a){var s,l,c,d,h,g=String,b="length",m=255,x="charCodeAt",y="slice",A="replace";for(a[y](-2),a=a[y](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),c=[],d=0,h=(a+=s="uuuuu"[y](a[b]%5||5))[b];h>d;d+=5)l=52200625*(a[x](d)-33)+614125*(a[x](d+1)-33)+7225*(a[x](d+2)-33)+85*(a[x](d+3)-33)+(a[x](d+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(w,C){for(var N=C;N>0;N--)w.pop()}(c,s[b]),g.fromCharCode.apply(g,c)},r=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},i=function(a){for(var s=new Uint8Array(a.length),l=a.length;l--;)s[l]=a.charCodeAt(l);return a=(s=NS(s)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(a,s){var l=0,c=a||"",d=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":c=t(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=n(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(ln.API),function(e){e.loadFile=function(n,t,r){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=function(c,d,h){var g=new XMLHttpRequest,b=0,m=function(x){var y=x.length,A=[],w=String.fromCharCode;for(b=0;b<y;b+=1)A.push(w(255&x.charCodeAt(b)));return A.join("")};if(g.open("GET",c,!d),g.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(g.onload=function(){g.status===200?h(m(this.responseText)):h(void 0)}),g.send(null),d&&g.status===200)return m(g.responseText)}(i,a,s)}catch{}return l}(n,t,r)},e.loadImageFile=e.loadFile}(ln.API),function(e){function n(){return(dn.html2canvas?Promise.resolve(dn.html2canvas):Li(()=>import("./html2canvas.esm-DadlvMMh.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function t(){return(dn.DOMPurify?Promise.resolve(dn.DOMPurify):Li(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var l=Jr(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(s,l){var c=document.createElement(s);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},a=function s(l){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),d=s.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,s,1,[s])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,l){return s.__proto__=l||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(t).then(function(c){return this.set({src:i("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(d,h){for(var g=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),b=d.firstChild;b;b=b.nextSibling)h!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||g.appendChild(c(b,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(g.width=d.width,g.height=d.height,g.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(g.value=d.value),g.addEventListener("load",function(){g.scrollTop=d.scrollTop,g.scrollLeft=d.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(n).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(n).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var b=0;b<d.length;++b){var m=d[b],x=m.src.find(function(y){return y.format==="truetype"});x&&c.addFont(x.url,m.ref.name,m.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},a.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(r(s)!=="object")return this;var l=Object.keys(s||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(s,l){return this.then(function(){var c=s in a.template.prop?this.prop[s]:this.opt[s];return l?l(c):c})},a.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(s=s||ln.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,l,c,d){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,l,c,d){return this.setProgress(s?this.progress.val+s:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(s,l){var c=this;return this.thenCore(s,l,function(d,h){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,d),g}).then(d,h).then(function(g){return c.updateProgress(1),g})})},a.prototype.thenCore=function(s,l,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),h=c.call(d,s,l);return a.convert(h,this.__proto__)},a.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},a.prototype.thenList=function(s){var l=this;return s.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return a.convert(l,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,ln.getPageSize=function(s,l,c){if(Jr(s)==="object"){var d=s;s=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var h,g=(""+c).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var m,x=0,y=0;if(b.hasOwnProperty(g))x=b[g][1]/h,y=b[g][0]/h;else try{x=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",y>x&&(m=y,y=x,x=m);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",x>y&&(m=y,y=x,x=m)}return{width:y,height:x,unit:l,k:h,orientation:s}},e.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(RS):null;var c=new a(l);return l.worker?c:c.from(s).doCallback()}}(ln.API),ln.API.addJS=function(e){return $k=e,this.internal.events.subscribe("postPutResources",function(){Ly=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ly+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Uk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+$k+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ly!==void 0&&Uk!==void 0&&this.internal.out("/Names <</JavaScript "+Ly+" 0 R>>")}),this},function(e){var n;e.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],l=r.exec(s);if(l!=null){var c=l[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(s)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(a=0;a<d;a++){var g=t.internal.newObject();h.push(g);var b=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<h.length;a++)t.internal.write("(page_"+(a+1)+")"+h[a]+" 0 R");t.internal.write(" ] >>","endobj"),n=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+n+" 0 R"))}]),e.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,a){var s={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(s),s},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var s=r.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=t.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(ln.API),function(e){var n=[192,193,194,195,196,197,198,199];e.processJPEG=function(t,r,i,a,s,l){var c,d=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=s||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(c=function(g){for(var b,m=256*g.charCodeAt(4)+g.charCodeAt(5),x=g.length,y={width:0,height:0,numcomponents:1},A=4;A<x;A+=2){if(A+=m,n.indexOf(g.charCodeAt(A+1))!==-1){b=256*g.charCodeAt(A+5)+g.charCodeAt(A+6),y={width:256*g.charCodeAt(A+7)+g.charCodeAt(A+8),height:b,numcomponents:g.charCodeAt(A+9)};break}m=256*g.charCodeAt(A+2)+g.charCodeAt(A+3)}return y}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}h={data:t,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:r,alias:i}}return h}}(ln.API);var c0,Ry,Hk,Wk,Vk,JQ=function(){var e,n,t;function r(a){var s,l,c,d,h,g,b,m,x,y,A,w,C,N;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(s=this.readUInt32(),x=(function(){var F,R;for(R=[],F=0;F<4;++F)R.push(String.fromCharCode(this.data[this.pos++]));return R}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),d=this.readUInt16()||100,g.delay=1e3*h/d,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,s-=4),a=(g!=null?g.data:void 0)||this.imgData,w=0;0<=s?w<s:w>s;0<=s?++w:--w)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((y=c-this.transparency.indexed.length)>0)for(C=0;0<=y?C<y:C>y;0<=y?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":b=(A=this.read(s)).indexOf(0),m=String.fromCharCode.apply(String,A.slice(0,b)),this.text[m]=String.fromCharCode.apply(String,A.slice(b+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var s,l;for(l=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)l.push(this.data[this.pos++]);return l},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),c=0,d=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function h(g,b,m,x){var y,A,w,C,N,F,R,M,k,L,B,Q,j,O,z,T,G,W,X,ie,ue,$=Math.ceil((d.width-g)/m),ae=Math.ceil((d.height-b)/x),U=d.width==$&&d.height==ae;for(O=s*$,Q=U?l:new Uint8Array(O*ae),F=a.length,j=0,A=0;j<ae&&c<F;){switch(a[c++]){case 0:for(C=G=0;G<O;C=G+=1)Q[A++]=a[c++];break;case 1:for(C=W=0;W<O;C=W+=1)y=a[c++],N=C<s?0:Q[A-s],Q[A++]=(y+N)%256;break;case 2:for(C=X=0;X<O;C=X+=1)y=a[c++],w=(C-C%s)/s,z=j&&Q[(j-1)*O+w*s+C%s],Q[A++]=(z+y)%256;break;case 3:for(C=ie=0;ie<O;C=ie+=1)y=a[c++],w=(C-C%s)/s,N=C<s?0:Q[A-s],z=j&&Q[(j-1)*O+w*s+C%s],Q[A++]=(y+Math.floor((N+z)/2))%256;break;case 4:for(C=ue=0;ue<O;C=ue+=1)y=a[c++],w=(C-C%s)/s,N=C<s?0:Q[A-s],j===0?z=T=0:(z=Q[(j-1)*O+w*s+C%s],T=w&&Q[(j-1)*O+(w-1)*s+C%s]),R=N+z-T,M=Math.abs(R-N),L=Math.abs(R-z),B=Math.abs(R-T),k=M<=L&&M<=B?N:L<=B?z:T,Q[A++]=(y+k)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!U){var q=((b+j*x)*d.width+g)*s,Z=j*O;for(C=0;C<$;C+=1){for(var ee=0;ee<s;ee+=1)l[q++]=Q[Z++];q+=(m-1)*s}}j++}}return a=OQ(a),d.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),l},r.prototype.decodePalette=function(){var a,s,l,c,d,h,g,b,m;for(l=this.palette,h=this.transparency.indexed||[],d=new Uint8Array((h.length||0)+l.length),c=0,a=0,s=g=0,b=l.length;g<b;s=g+=3)d[c++]=l[s],d[c++]=l[s+1],d[c++]=l[s+2],d[c++]=(m=h[a++])!=null?m:255;return d},r.prototype.copyToImageData=function(a,s){var l,c,d,h,g,b,m,x,y,A,w;if(c=this.colors,y=null,l=this.hasAlphaChannel,this.palette.length&&(y=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),c=4,l=!0),x=(d=a.data||a).length,g=y||s,h=b=0,c===1)for(;h<x;)m=y?4*s[h/4]:b,A=g[m++],d[h++]=A,d[h++]=A,d[h++]=A,d[h++]=l?g[m++]:255,b=m;else for(;h<x;)m=y?4*s[h/4]:b,d[h++]=g[m++],d[h++]=g[m++],d[h++]=g[m++],d[h++]=l?g[m++]:255,b=m},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(dn)==="[object Window]"){try{n=dn.document.createElement("canvas"),t=n.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var s;if(i()===!0)return t.width=a.width,t.height=a.height,t.clearRect(0,0,a.width,a.height),t.putImageData(a,0,0),(s=new Image).src=n.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var s,l,c,d,h,g,b,m;if(this.animation){for(m=[],l=h=0,g=(b=this.animation.frames).length;h<g;l=++h)s=b[l],c=a.createImageData(s.width,s.height),d=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,d),s.imageData=c,m.push(s.image=e(c));return m}},r.prototype.renderFrame=function(a,s){var l,c,d;return l=(c=this.animation.frames)[s],d=c[s-1],s===0&&a.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?a.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&a.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},r.prototype.animate=function(a){var s,l,c,d,h,g,b=this;return l=0,g=this.animation,d=g.numFrames,c=g.frames,h=g.numPlays,(s=function(){var m,x;if(m=l++%d,x=c[m],b.renderFrame(a,m),d>1&&l/d<h)return b.animation._timeout=setTimeout(s,x.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var s,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function eK(e){var n=0;if(e[n++]!==71||e[n++]!==73||e[n++]!==70||e[n++]!==56||(e[n++]+1&253)!=56||e[n++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=e[n++]|e[n++]<<8,r=e[n++]|e[n++]<<8,i=e[n++],a=i>>7,s=1<<(7&i)+1;e[n++],e[n++];var l=null,c=null;a&&(l=n,c=s,n+=3*s);var d=!0,h=[],g=0,b=null,m=0,x=null;for(this.width=t,this.height=r;d&&n<e.length;)switch(e[n++]){case 33:switch(e[n++]){case 255:if(e[n]!==11||e[n+1]==78&&e[n+2]==69&&e[n+3]==84&&e[n+4]==83&&e[n+5]==67&&e[n+6]==65&&e[n+7]==80&&e[n+8]==69&&e[n+9]==50&&e[n+10]==46&&e[n+11]==48&&e[n+12]==3&&e[n+13]==1&&e[n+16]==0)n+=14,x=e[n++]|e[n++]<<8,n++;else for(n+=12;;){if(!((j=e[n++])>=0))throw Error("Invalid block size");if(j===0)break;n+=j}break;case 249:if(e[n++]!==4||e[n+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[n++];g=e[n++]|e[n++]<<8,b=e[n++],(1&y)==0&&(b=null),m=y>>2&7,n++;break;case 254:for(;;){if(!((j=e[n++])>=0))throw Error("Invalid block size");if(j===0)break;n+=j}break;default:throw new Error("Unknown graphic control label: 0x"+e[n-1].toString(16))}break;case 44:var A=e[n++]|e[n++]<<8,w=e[n++]|e[n++]<<8,C=e[n++]|e[n++]<<8,N=e[n++]|e[n++]<<8,F=e[n++],R=F>>6&1,M=1<<(7&F)+1,k=l,L=c,B=!1;F>>7&&(B=!0,k=n,L=M,n+=3*M);var Q=n;for(n++;;){var j;if(!((j=e[n++])>=0))throw Error("Invalid block size");if(j===0)break;n+=j}h.push({x:A,y:w,width:C,height:N,has_local_palette:B,palette_offset:k,palette_size:L,data_offset:Q,data_length:n-Q,transparent_index:b,interlaced:!!R,delay:g,disposal:m});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[n-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return x},this.frameInfo=function(O){if(O<0||O>=h.length)throw new Error("Frame index out of range.");return h[O]},this.decodeAndBlitFrameBGRA=function(O,z){var T=this.frameInfo(O),G=T.width*T.height,W=new Uint8Array(G);Yk(e,T.data_offset,W,G);var X=T.palette_offset,ie=T.transparent_index;ie===null&&(ie=256);var ue=T.width,$=t-ue,ae=ue,U=4*(T.y*t+T.x),q=4*((T.y+T.height)*t+T.x),Z=U,ee=4*$;T.interlaced===!0&&(ee+=4*t*7);for(var se=8,we=0,ye=W.length;we<ye;++we){var Ce=W[we];if(ae===0&&(ae=ue,(Z+=ee)>=q&&(ee=4*$+4*t*(se-1),Z=U+(ue+$)*(se<<1),se>>=1)),Ce===ie)Z+=4;else{var Oe=e[X+3*Ce],Le=e[X+3*Ce+1],He=e[X+3*Ce+2];z[Z++]=He,z[Z++]=Le,z[Z++]=Oe,z[Z++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(O,z){var T=this.frameInfo(O),G=T.width*T.height,W=new Uint8Array(G);Yk(e,T.data_offset,W,G);var X=T.palette_offset,ie=T.transparent_index;ie===null&&(ie=256);var ue=T.width,$=t-ue,ae=ue,U=4*(T.y*t+T.x),q=4*((T.y+T.height)*t+T.x),Z=U,ee=4*$;T.interlaced===!0&&(ee+=4*t*7);for(var se=8,we=0,ye=W.length;we<ye;++we){var Ce=W[we];if(ae===0&&(ae=ue,(Z+=ee)>=q&&(ee=4*$+4*t*(se-1),Z=U+(ue+$)*(se<<1),se>>=1)),Ce===ie)Z+=4;else{var Oe=e[X+3*Ce],Le=e[X+3*Ce+1],He=e[X+3*Ce+2];z[Z++]=Oe,z[Z++]=Le,z[Z++]=He,z[Z++]=255}--ae}}}function Yk(e,n,t,r){for(var i=e[n++],a=1<<i,s=a+1,l=s+1,c=i+1,d=(1<<c)-1,h=0,g=0,b=0,m=e[n++],x=new Int32Array(4096),y=null;;){for(;h<16&&m!==0;)g|=e[n++]<<h,h+=8,m===1?m=e[n++]:--m;if(h<c)break;var A=g&d;if(g>>=c,h-=c,A!==a){if(A===s)break;for(var w=A<l?A:y,C=0,N=w;N>a;)N=x[N]>>8,++C;var F=N;if(b+C+(w!==A?1:0)>r)return void Zr.log("Warning, gif stream longer than expected.");t[b++]=F;var R=b+=C;for(w!==A&&(t[b++]=F),N=w;C--;)N=x[N],t[--R]=255&N,N>>=8;y!==null&&l<4096&&(x[l++]=y<<8|F,l>=d+1&&c<12&&(++c,d=d<<1|1)),y=A}else l=s+1,d=(1<<(c=i+1))-1,y=null}return b!==r&&Zr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function lw(e){var n,t,r,i,a,s=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(64),g=new Array(65535),b=new Array(65535),m=new Array(64),x=new Array(64),y=[],A=0,w=7,C=new Array(64),N=new Array(64),F=new Array(64),R=new Array(256),M=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(U,q){for(var Z=0,ee=0,se=new Array,we=1;we<=16;we++){for(var ye=1;ye<=U[we];ye++)se[q[ee]]=[],se[q[ee]][0]=Z,se[q[ee]][1]=we,ee++,Z++;Z*=2}return se}function X(U){for(var q=U[0],Z=U[1]-1;Z>=0;)q&1<<Z&&(A|=1<<w),Z--,--w<0&&(A==255?(ie(255),ie(0)):ie(A),w=7,A=0)}function ie(U){y.push(U)}function ue(U){ie(U>>8&255),ie(255&U)}function $(U,q,Z,ee,se){for(var we,ye=se[0],Ce=se[240],Oe=function(ve,Ie){var Pe,ke,Ke,lt,tt,Me,xe,_e,Ne,ft,Ze=0;for(Ne=0;Ne<8;++Ne){Pe=ve[Ze],ke=ve[Ze+1],Ke=ve[Ze+2],lt=ve[Ze+3],tt=ve[Ze+4],Me=ve[Ze+5],xe=ve[Ze+6];var Mt=Pe+(_e=ve[Ze+7]),kt=Pe-_e,Wt=ke+xe,Lt=ke-xe,Kt=Ke+Me,nn=Ke-Me,un=lt+tt,zn=lt-tt,qn=Mt+un,Qr=Mt-un,ar=Wt+Kt,Mn=Wt-Kt;ve[Ze]=qn+ar,ve[Ze+4]=qn-ar;var Vt=.707106781*(Mn+Qr);ve[Ze+2]=Qr+Vt,ve[Ze+6]=Qr-Vt;var En=.382683433*((qn=zn+nn)-(Mn=Lt+kt)),xa=.5411961*qn+En,Sr=1.306562965*Mn+En,li=.707106781*(ar=nn+Lt),va=kt+li,Dt=kt-li;ve[Ze+5]=Dt+xa,ve[Ze+3]=Dt-xa,ve[Ze+1]=va+Sr,ve[Ze+7]=va-Sr,Ze+=8}for(Ze=0,Ne=0;Ne<8;++Ne){Pe=ve[Ze],ke=ve[Ze+8],Ke=ve[Ze+16],lt=ve[Ze+24],tt=ve[Ze+32],Me=ve[Ze+40],xe=ve[Ze+48];var Wn=Pe+(_e=ve[Ze+56]),sr=Pe-_e,Mr=ke+xe,dr=ke-xe,fr=Ke+Me,Hn=Ke-Me,ys=lt+tt,jr=lt-tt,Ia=Wn+ys,zi=Wn-ys,qi=Mr+fr,er=Mr-fr;ve[Ze]=Ia+qi,ve[Ze+32]=Ia-qi;var Ci=.707106781*(er+zi);ve[Ze+16]=zi+Ci,ve[Ze+48]=zi-Ci;var tr=.382683433*((Ia=jr+Hn)-(er=dr+sr)),ro=.5411961*Ia+tr,Eo=1.306562965*er+tr,Fa=.707106781*(qi=Hn+dr),Fr=sr+Fa,al=sr-Fa;ve[Ze+40]=al+ro,ve[Ze+24]=al-ro,ve[Ze+8]=Fr+Eo,ve[Ze+56]=Fr-Eo,Ze++}for(Ne=0;Ne<64;++Ne)ft=ve[Ne]*Ie[Ne],m[Ne]=ft>0?ft+.5|0:ft-.5|0;return m}(U,q),Le=0;Le<64;++Le)x[k[Le]]=Oe[Le];var He=x[0]-Z;Z=x[0],He==0?X(ee[0]):(X(ee[b[we=32767+He]]),X(g[we]));for(var We=63;We>0&&x[We]==0;)We--;if(We==0)return X(ye),Z;for(var V,Se=1;Se<=We;){for(var te=Se;x[Se]==0&&Se<=We;)++Se;var ge=Se-te;if(ge>=16){V=ge>>4;for(var ce=1;ce<=V;++ce)X(Ce);ge&=15}we=32767+x[Se],X(se[(ge<<4)+b[we]]),X(g[we]),Se++}return We!=63&&X(ye),Z}function ae(U){U=Math.min(Math.max(U,1),100),a!=U&&(function(q){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var se=s((Z[ee]*q+50)/100);se=Math.min(Math.max(se,1),255),l[k[ee]]=se}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var Ce=s((we[ye]*q+50)/100);Ce=Math.min(Math.max(Ce,1),255),c[k[ye]]=Ce}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,He=0;He<8;He++)for(var We=0;We<8;We++)d[Le]=1/(l[k[Le]]*Oe[He]*Oe[We]*8),h[Le]=1/(c[k[Le]]*Oe[He]*Oe[We]*8),Le++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),a=U)}this.encode=function(U,q){q&&ae(q),y=new Array,A=0,w=7,ue(65496),ue(65504),ue(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),ue(1),ue(1),ie(0),ie(0),function(){ue(65499),ue(132),ie(0);for(var ke=0;ke<64;ke++)ie(l[ke]);ie(1);for(var Ke=0;Ke<64;Ke++)ie(c[Ke])}(),function(ke,Ke){ue(65472),ue(17),ie(8),ue(Ke),ue(ke),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)}(U.width,U.height),function(){ue(65476),ue(418),ie(0);for(var ke=0;ke<16;ke++)ie(L[ke+1]);for(var Ke=0;Ke<=11;Ke++)ie(B[Ke]);ie(16);for(var lt=0;lt<16;lt++)ie(Q[lt+1]);for(var tt=0;tt<=161;tt++)ie(j[tt]);ie(1);for(var Me=0;Me<16;Me++)ie(O[Me+1]);for(var xe=0;xe<=11;xe++)ie(z[xe]);ie(17);for(var _e=0;_e<16;_e++)ie(T[_e+1]);for(var Ne=0;Ne<=161;Ne++)ie(G[Ne])}(),ue(65498),ue(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var Z=0,ee=0,se=0;A=0,w=7,this.encode.displayName="_encode_";for(var we,ye,Ce,Oe,Le,He,We,V,Se,te=U.data,ge=U.width,ce=U.height,ve=4*ge,Ie=0;Ie<ce;){for(we=0;we<ve;){for(Le=ve*Ie+we,We=-1,V=0,Se=0;Se<64;Se++)He=Le+(V=Se>>3)*ve+(We=4*(7&Se)),Ie+V>=ce&&(He-=ve*(Ie+1+V-ce)),we+We>=ve&&(He-=we+We-ve+4),ye=te[He++],Ce=te[He++],Oe=te[He++],C[Se]=(M[ye]+M[Ce+256>>0]+M[Oe+512>>0]>>16)-128,N[Se]=(M[ye+768>>0]+M[Ce+1024>>0]+M[Oe+1280>>0]>>16)-128,F[Se]=(M[ye+1280>>0]+M[Ce+1536>>0]+M[Oe+1792>>0]>>16)-128;Z=$(C,d,Z,n,r),ee=$(N,h,ee,t,i),se=$(F,h,se,t,i),we+=32}Ie+=8}if(w>=0){var Pe=[];Pe[1]=w+1,Pe[0]=(1<<w+1)-1,X(Pe)}return ue(65497),new Uint8Array(y)},e=e||50,function(){for(var U=String.fromCharCode,q=0;q<256;q++)R[q]=U(q)}(),n=W(L,B),t=W(O,z),r=W(Q,j),i=W(T,G),function(){for(var U=1,q=2,Z=1;Z<=15;Z++){for(var ee=U;ee<q;ee++)b[32767+ee]=Z,g[32767+ee]=[],g[32767+ee][1]=Z,g[32767+ee][0]=ee;for(var se=-(q-1);se<=-U;se++)b[32767+se]=Z,g[32767+se]=[],g[32767+se][1]=Z,g[32767+se][0]=q-1+se;U<<=1,q<<=1}}(),function(){for(var U=0;U<256;U++)M[U]=19595*U,M[U+256>>0]=38470*U,M[U+512>>0]=7471*U+32768,M[U+768>>0]=-11059*U,M[U+1024>>0]=-21709*U,M[U+1280>>0]=32768*U+8421375,M[U+1536>>0]=-27439*U,M[U+1792>>0]=-5329*U}(),ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function hu(e,n){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!n,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Gk(e){function n(L){if(!L)throw Error("assert :P")}function t(L,B,Q){for(var j=0;4>j;j++)if(L[B+j]!=Q.charCodeAt(j))return!0;return!1}function r(L,B,Q,j,O){for(var z=0;z<O;z++)L[B+z]=Q[j+z]}function i(L,B,Q,j){for(var O=0;O<j;O++)L[B+O]=Q}function a(L){return new Int32Array(L)}function s(L,B){for(var Q=[],j=0;j<L;j++)Q.push(new B);return Q}function l(L,B){var Q=[];return function j(O,z,T){for(var G=T[z],W=0;W<G&&(O.push(T.length>z+1?[]:new B),!(T.length<z+1));W++)j(O[W],z+1,T)}(Q,0,L),Q}var c=function(){var L=this;function B(S,_){for(var P=1<<_-1>>>0;S&P;)P>>>=1;return P?(S&P-1)+P:S}function Q(S,_,P,Y,ne){n(!(Y%P));do S[_+(Y-=P)]=ne;while(0<Y)}function j(S,_,P,Y,ne){if(n(2328>=ne),512>=ne)var oe=a(512);else if((oe=a(ne))==null)return 0;return function(le,fe,be,Ae,Re,Qe){var Ye,Be,yt=fe,rt=1<<be,Fe=a(16),qe=a(16);for(n(Re!=0),n(Ae!=null),n(le!=null),n(0<be),Be=0;Be<Re;++Be){if(15<Ae[Be])return 0;++Fe[Ae[Be]]}if(Fe[0]==Re)return 0;for(qe[1]=0,Ye=1;15>Ye;++Ye){if(Fe[Ye]>1<<Ye)return 0;qe[Ye+1]=qe[Ye]+Fe[Ye]}for(Be=0;Be<Re;++Be)Ye=Ae[Be],0<Ae[Be]&&(Qe[qe[Ye]++]=Be);if(qe[15]==1)return(Ae=new O).g=0,Ae.value=Qe[0],Q(le,yt,1,rt,Ae),rt;var pt,vt=-1,gt=rt-1,Ot=0,jt=1,Yt=1,Nt=1<<be;for(Be=0,Ye=1,Re=2;Ye<=be;++Ye,Re<<=1){if(jt+=Yt<<=1,0>(Yt-=Fe[Ye]))return 0;for(;0<Fe[Ye];--Fe[Ye])(Ae=new O).g=Ye,Ae.value=Qe[Be++],Q(le,yt+Ot,Re,Nt,Ae),Ot=B(Ot,Ye)}for(Ye=be+1,Re=2;15>=Ye;++Ye,Re<<=1){if(jt+=Yt<<=1,0>(Yt-=Fe[Ye]))return 0;for(;0<Fe[Ye];--Fe[Ye]){if(Ae=new O,(Ot&gt)!=vt){for(yt+=Nt,pt=1<<(vt=Ye)-be;15>vt&&!(0>=(pt-=Fe[vt]));)++vt,pt<<=1;rt+=Nt=1<<(pt=vt-be),le[fe+(vt=Ot&gt)].g=pt+be,le[fe+vt].value=yt-fe-vt}Ae.g=Ye-be,Ae.value=Qe[Be++],Q(le,yt+(Ot>>be),Re,Nt,Ae),Ot=B(Ot,Ye)}}return jt!=2*qe[15]-1?0:rt}(S,_,P,Y,ne,oe)}function O(){this.value=this.g=0}function z(){this.value=this.g=0}function T(){this.G=s(5,O),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ra,z)}function G(S,_,P,Y){n(S!=null),n(_!=null),n(2147483648>Y),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=_,S.pa=P,S.Jd=_,S.Yc=P+Y,S.Zc=4<=Y?P+Y-4+1:P,we(S)}function W(S,_){for(var P=0;0<_--;)P|=Ce(S,128)<<_;return P}function X(S,_){var P=W(S,_);return ye(S)?-P:P}function ie(S,_,P,Y){var ne,oe=0;for(n(S!=null),n(_!=null),n(4294967288>Y),S.Sb=Y,S.Ra=0,S.u=0,S.h=0,4<Y&&(Y=4),ne=0;ne<Y;++ne)oe+=_[P+ne]<<8*ne;S.Ra=oe,S.bb=Y,S.oa=_,S.pa=P}function ue(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<Jc-8>>>0,++S.bb,S.u-=8;Z(S)&&(S.h=1,S.u=0)}function $(S,_){if(n(0<=_),!S.h&&_<=Zc){var P=q(S)&Uu[_];return S.u+=_,ue(S),P}return S.h=1,S.u=0}function ae(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(S){return S.Ra>>>(S.u&Jc-1)>>>0}function Z(S){return n(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>Jc}function ee(S,_){S.u=_,S.h=Z(S)}function se(S){S.u>=sf&&(n(S.u>=sf),ue(S))}function we(S){n(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(n(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function ye(S){return W(S,1)}function Ce(S,_){var P=S.Ca;0>S.b&&we(S);var Y=S.b,ne=P*_>>>8,oe=(S.I>>>Y>ne)+0;for(oe?(P-=ne,S.I-=ne+1<<Y>>>0):P=ne+1,Y=P,ne=0;256<=Y;)ne+=8,Y>>=8;return Y=7^ne+Es[Y],S.b-=Y,S.Ca=(P<<Y)-1,oe}function Oe(S,_,P){S[_+0]=P>>24&255,S[_+1]=P>>16&255,S[_+2]=P>>8&255,S[_+3]=P>>0&255}function Le(S,_){return S[_+0]<<0|S[_+1]<<8}function He(S,_){return Le(S,_)|S[_+2]<<16}function We(S,_){return Le(S,_)|Le(S,_+2)<<16}function V(S,_){var P=1<<_;return n(S!=null),n(0<_),S.X=a(P),S.X==null?0:(S.Mb=32-_,S.Xa=_,1)}function Se(S,_){n(S!=null),n(_!=null),n(S.Xa==_.Xa),r(_.X,0,S.X,0,1<<_.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function ge(S,_,P,Y){n(P!=null),n(Y!=null);var ne=P[0],oe=Y[0];return ne==0&&(ne=(S*oe+_/2)/_),oe==0&&(oe=(_*ne+S/2)/S),0>=ne||0>=oe?0:(P[0]=ne,Y[0]=oe,1)}function ce(S,_){return S+(1<<_)-1>>>_}function ve(S,_){return((4278255360&S)+(4278255360&_)>>>0&4278255360)+((16711935&S)+(16711935&_)>>>0&16711935)>>>0}function Ie(S,_){L[_]=function(P,Y,ne,oe,le,fe,be){var Ae;for(Ae=0;Ae<le;++Ae){var Re=L[S](fe[be+Ae-1],ne,oe+Ae);fe[be+Ae]=ve(P[Y+Ae],Re)}}}function Pe(){this.ud=this.hd=this.jd=0}function ke(S,_){return((4278124286&(S^_))>>>1)+(S&_)>>>0}function Ke(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function lt(S,_){return Ke(S+(S-_+.5>>1))}function tt(S,_,P){return Math.abs(_-P)-Math.abs(S-P)}function Me(S,_,P,Y,ne,oe,le){for(Y=oe[le-1],P=0;P<ne;++P)oe[le+P]=Y=ve(S[_+P],Y)}function xe(S,_,P,Y,ne){var oe;for(oe=0;oe<P;++oe){var le=S[_+oe],fe=le>>8&255,be=16711935&(be=(be=16711935&le)+((fe<<16)+fe));Y[ne+oe]=(4278255360&le)+be>>>0}}function _e(S,_){_.jd=S>>0&255,_.hd=S>>8&255,_.ud=S>>16&255}function Ne(S,_,P,Y,ne,oe){var le;for(le=0;le<Y;++le){var fe=_[P+le],be=fe>>>8,Ae=fe,Re=255&(Re=(Re=fe>>>16)+((S.jd<<24>>24)*(be<<24>>24)>>>5));Ae=255&(Ae=(Ae=Ae+((S.hd<<24>>24)*(be<<24>>24)>>>5))+((S.ud<<24>>24)*(Re<<24>>24)>>>5)),ne[oe+le]=(4278255360&fe)+(Re<<16)+Ae}}function ft(S,_,P,Y,ne){L[_]=function(oe,le,fe,be,Ae,Re,Qe,Ye,Be){for(be=Qe;be<Ye;++be)for(Qe=0;Qe<Be;++Qe)Ae[Re++]=ne(fe[Y(oe[le++])])},L[S]=function(oe,le,fe,be,Ae,Re,Qe){var Ye=8>>oe.b,Be=oe.Ea,yt=oe.K[0],rt=oe.w;if(8>Ye)for(oe=(1<<oe.b)-1,rt=(1<<Ye)-1;le<fe;++le){var Fe,qe=0;for(Fe=0;Fe<Be;++Fe)Fe&oe||(qe=Y(be[Ae++])),Re[Qe++]=ne(yt[qe&rt]),qe>>=Ye}else L["VP8LMapColor"+P](be,Ae,yt,rt,Re,Qe,le,fe,Be)}}function Ze(S,_,P,Y,ne){for(P=_+P;_<P;){var oe=S[_++];Y[ne++]=oe>>16&255,Y[ne++]=oe>>8&255,Y[ne++]=oe>>0&255}}function Mt(S,_,P,Y,ne){for(P=_+P;_<P;){var oe=S[_++];Y[ne++]=oe>>16&255,Y[ne++]=oe>>8&255,Y[ne++]=oe>>0&255,Y[ne++]=oe>>24&255}}function kt(S,_,P,Y,ne){for(P=_+P;_<P;){var oe=(le=S[_++])>>16&240|le>>12&15,le=le>>0&240|le>>28&15;Y[ne++]=oe,Y[ne++]=le}}function Wt(S,_,P,Y,ne){for(P=_+P;_<P;){var oe=(le=S[_++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;Y[ne++]=oe,Y[ne++]=le}}function Lt(S,_,P,Y,ne){for(P=_+P;_<P;){var oe=S[_++];Y[ne++]=oe>>0&255,Y[ne++]=oe>>8&255,Y[ne++]=oe>>16&255}}function Kt(S,_,P,Y,ne,oe){if(oe==0)for(P=_+P;_<P;)Oe(Y,((oe=S[_++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ne+=32;else r(Y,ne,S,_,P)}function nn(S,_){L[_][0]=L[S+"0"],L[_][1]=L[S+"1"],L[_][2]=L[S+"2"],L[_][3]=L[S+"3"],L[_][4]=L[S+"4"],L[_][5]=L[S+"5"],L[_][6]=L[S+"6"],L[_][7]=L[S+"7"],L[_][8]=L[S+"8"],L[_][9]=L[S+"9"],L[_][10]=L[S+"10"],L[_][11]=L[S+"11"],L[_][12]=L[S+"12"],L[_][13]=L[S+"13"],L[_][14]=L[S+"0"],L[_][15]=L[S+"0"]}function un(S){return S==Ch||S==Zu||S==Jl||S==cf}function zn(){this.eb=[],this.size=this.A=this.fb=0}function qn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Qr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zn,this.f.kb=new qn,this.sd=null}function ar(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Mn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Vt(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function En(S,_){var P=S.T,Y=_.ba.f.RGBA,ne=Y.eb,oe=Y.fb+S.ka*Y.A,le=Ea[_.ba.S],fe=S.y,be=S.O,Ae=S.f,Re=S.N,Qe=S.ea,Ye=S.W,Be=_.cc,yt=_.dc,rt=_.Mc,Fe=_.Nc,qe=S.ka,pt=S.ka+S.T,vt=S.U,gt=vt+1>>1;for(qe==0?le(fe,be,null,null,Ae,Re,Qe,Ye,Ae,Re,Qe,Ye,ne,oe,null,null,vt):(le(_.ec,_.fc,fe,be,Be,yt,rt,Fe,Ae,Re,Qe,Ye,ne,oe-Y.A,ne,oe,vt),++P);qe+2<pt;qe+=2)Be=Ae,yt=Re,rt=Qe,Fe=Ye,Re+=S.Rc,Ye+=S.Rc,oe+=2*Y.A,le(fe,(be+=2*S.fa)-S.fa,fe,be,Be,yt,rt,Fe,Ae,Re,Qe,Ye,ne,oe-Y.A,ne,oe,vt);return be+=S.fa,S.j+pt<S.o?(r(_.ec,_.fc,fe,be,vt),r(_.cc,_.dc,Ae,Re,gt),r(_.Mc,_.Nc,Qe,Ye,gt),P--):1&pt||le(fe,be,null,null,Ae,Re,Qe,Ye,Ae,Re,Qe,Ye,ne,oe+Y.A,null,null,vt),P}function xa(S,_,P){var Y=S.F,ne=[S.J];if(Y!=null){var oe=S.U,le=_.ba.S,fe=le==id||le==Jl;_=_.ba.f.RGBA;var be=[0],Ae=S.ka;be[0]=S.T,S.Kb&&(Ae==0?--be[0]:(--Ae,ne[0]-=S.width),S.j+S.ka+S.T==S.o&&(be[0]=S.o-S.j-Ae));var Re=_.eb;Ae=_.fb+Ae*_.A,S=Rn(Y,ne[0],S.width,oe,be,Re,Ae+(fe?0:3),_.A),n(P==be),S&&un(le)&&Ks(Re,Ae,fe,oe,be,_.A)}return 0}function Sr(S){var _=S.ma,P=_.ba.S,Y=11>P,ne=P==uf||P==Ah||P==id||P==Zl||P==12||un(P);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Bu(_.Oa,S,ne?11:12))return 0;if(ne&&un(P)&&Ct(),S.da)alert("todo:use_scaling");else{if(Y){if(_.Ib=Vt,S.Kb){if(P=S.U+1>>1,_.memory=a(S.U+2*P),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+S.U,_.Mc=_.cc,_.Nc=_.dc+P,_.Ib=En,Ct()}}else alert("todo:EmitYUV");ne&&(_.Jb=xa,Y&&Ve())}if(Y&&!yb){for(S=0;256>S;++S)m2[S]=89858*(S-128)+aa>>xl,kh[S]=-22014*(S-128)+aa,Cm[S]=-45773*(S-128),sa[S]=113618*(S-128)+aa>>xl;for(S=tc;S<Pp;++S)_=76283*(S-16)+aa>>xl,jh[S-tc]=Qs(_,255),Em[S-tc]=Qs(_+8>>4,15);yb=1}return 1}function li(S){var _=S.ma,P=S.U,Y=S.T;return n(!(1&S.ka)),0>=P||0>=Y?0:(P=_.Ib(S,_),_.Jb!=null&&_.Jb(S,_,P),_.Dc+=P,1)}function va(S){S.ma.memory=null}function Dt(S,_,P,Y){return $(S,8)!=47?0:(_[0]=$(S,14)+1,P[0]=$(S,14)+1,Y[0]=$(S,1),$(S,3)!=0?0:!S.h)}function Wn(S,_){if(4>S)return S+1;var P=S-2>>1;return(2+(1&S)<<P)+$(_,P)+1}function sr(S,_){return 120<_?_-120:1<=(P=((P=tu[_-1])>>4)*S+(8-(15&P)))?P:1;var P}function Mr(S,_,P){var Y=q(P),ne=S[_+=255&Y].g-8;return 0<ne&&(ee(P,P.u+8),Y=q(P),_+=S[_].value,_+=Y&(1<<ne)-1),ee(P,P.u+S[_].g),S[_].value}function dr(S,_,P){return P.g+=S.g,P.value+=S.value<<_>>>0,n(8>=P.g),S.g}function fr(S,_,P){var Y=S.xc;return n((_=Y==0?0:S.vc[S.md*(P>>Y)+(_>>Y)])<S.Wb),S.Ya[_]}function Hn(S,_,P,Y){var ne=S.ab,oe=S.c*_,le=S.C;_=le+_;var fe=P,be=Y;for(Y=S.Ta,P=S.Ua;0<ne--;){var Ae=S.gc[ne],Re=le,Qe=_,Ye=fe,Be=be,yt=(be=Y,fe=P,Ae.Ea);switch(n(Re<Qe),n(Qe<=Ae.nc),Ae.hc){case 2:Op(Ye,Be,(Qe-Re)*yt,be,fe);break;case 0:var rt=Re,Fe=Qe,qe=be,pt=fe,vt=(Nt=Ae).Ea;rt==0&&(Sm(Ye,Be,null,null,1,qe,pt),Me(Ye,Be+1,0,0,vt-1,qe,pt+1),Be+=vt,pt+=vt,++rt);for(var gt=1<<Nt.b,Ot=gt-1,jt=ce(vt,Nt.b),Yt=Nt.K,Nt=Nt.w+(rt>>Nt.b)*jt;rt<Fe;){var Yn=Yt,or=Nt,In=1;for(wh(Ye,Be,qe,pt-vt,1,qe,pt);In<vt;){var On=(In&~Ot)+gt;On>vt&&(On=vt),(0,Ql[Yn[or++]>>8&15])(Ye,Be+ +In,qe,pt+In-vt,On-In,qe,pt+In),In=On}Be+=vt,pt+=vt,++rt&Ot||(Nt+=jt)}Qe!=Ae.nc&&r(be,fe-yt,be,fe+(Qe-Re-1)*yt,yt);break;case 1:for(yt=Ye,Fe=Be,vt=(Ye=Ae.Ea)-(pt=Ye&~(qe=(Be=1<<Ae.b)-1)),rt=ce(Ye,Ae.b),gt=Ae.K,Ae=Ae.w+(Re>>Ae.b)*rt;Re<Qe;){for(Ot=gt,jt=Ae,Yt=new Pe,Nt=Fe+pt,Yn=Fe+Ye;Fe<Nt;)_e(Ot[jt++],Yt),Hu(Yt,yt,Fe,Be,be,fe),Fe+=Be,fe+=Be;Fe<Yn&&(_e(Ot[jt++],Yt),Hu(Yt,yt,Fe,vt,be,fe),Fe+=vt,fe+=vt),++Re&qe||(Ae+=rt)}break;case 3:if(Ye==be&&Be==fe&&0<Ae.b){for(Fe=be,Ye=yt=fe+(Qe-Re)*yt-(pt=(Qe-Re)*ce(Ae.Ea,Ae.b)),Be=be,qe=fe,rt=[],pt=(vt=pt)-1;0<=pt;--pt)rt[pt]=Be[qe+pt];for(pt=vt-1;0<=pt;--pt)Fe[Ye+pt]=rt[pt];lo(Ae,Re,Qe,be,yt,be,fe)}else lo(Ae,Re,Qe,Ye,Be,be,fe)}fe=Y,be=P}be!=P&&r(Y,P,fe,be,oe)}function ys(S,_){var P=S.V,Y=S.Ba+S.c*S.C,ne=_-S.C;if(n(_<=S.l.o),n(16>=ne),0<ne){var oe=S.l,le=S.Ta,fe=S.Ua,be=oe.width;if(Hn(S,ne,P,Y),ne=fe=[fe],n((P=S.C)<(Y=_)),n(oe.v<oe.va),Y>oe.o&&(Y=oe.o),P<oe.j){var Ae=oe.j-P;P=oe.j,ne[0]+=Ae*be}if(P>=Y?P=0:(ne[0]+=4*oe.v,oe.ka=P-oe.j,oe.U=oe.va-oe.v,oe.T=Y-P,P=1),P){if(fe=fe[0],11>(P=S.ca).S){var Re=P.f.RGBA,Qe=(Y=P.S,ne=oe.U,oe=oe.T,Ae=Re.eb,Re.A),Ye=oe;for(Re=Re.fb+S.Ma*Re.A;0<Ye--;){var Be=le,yt=fe,rt=ne,Fe=Ae,qe=Re;switch(Y){case Wa:os(Be,yt,rt,Fe,qe);break;case uf:La(Be,yt,rt,Fe,qe);break;case Ch:La(Be,yt,rt,Fe,qe),Ks(Fe,qe,0,rt,1,0);break;case ml:Do(Be,yt,rt,Fe,qe);break;case Ah:Kt(Be,yt,rt,Fe,qe,1);break;case Zu:Kt(Be,yt,rt,Fe,qe,1),Ks(Fe,qe,0,rt,1,0);break;case id:Kt(Be,yt,rt,Fe,qe,0);break;case Jl:Kt(Be,yt,rt,Fe,qe,0),Ks(Fe,qe,1,rt,1,0);break;case Zl:Wu(Be,yt,rt,Fe,qe);break;case cf:Wu(Be,yt,rt,Fe,qe),Ln(Fe,qe,rt,1,0);break;case Dp:_s(Be,yt,rt,Fe,qe);break;default:n(0)}fe+=be,Re+=Qe}S.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");n(S.Ma<=P.height)}}S.C=_,n(S.C<=S.i)}function jr(S){var _;if(0<S.ua)return 0;for(_=0;_<S.Wb;++_){var P=S.Ya[_].G,Y=S.Ya[_].H;if(0<P[1][Y[1]+0].g||0<P[2][Y[2]+0].g||0<P[3][Y[3]+0].g)return 0}return 1}function Ia(S,_,P,Y,ne,oe){if(S.Z!=0){var le=S.qd,fe=S.rd;for(n(bl[S.Z]!=null);_<P;++_)bl[S.Z](le,fe,Y,ne,Y,ne,oe),le=Y,fe=ne,ne+=oe;S.qd=le,S.rd=fe}}function zi(S,_){var P=S.l.ma,Y=P.Z==0||P.Z==1?S.l.j:S.C;if(Y=S.C<Y?Y:S.C,n(_<=S.l.o),_>Y){var ne=S.l.width,oe=P.ca,le=P.tb+ne*Y,fe=S.V,be=S.Ba+S.c*Y,Ae=S.gc;n(S.ab==1),n(Ae[0].hc==3),$u(Ae[0],Y,_,fe,be,oe,le),Ia(P,Y,_,oe,le,ne)}S.C=S.Ma=_}function qi(S,_,P,Y,ne,oe,le){var fe=S.$/Y,be=S.$%Y,Ae=S.m,Re=S.s,Qe=P+S.$,Ye=Qe;ne=P+Y*ne;var Be=P+Y*oe,yt=280+Re.ua,rt=S.Pb?fe:16777216,Fe=0<Re.ua?Re.Wa:null,qe=Re.wc,pt=Qe<Be?fr(Re,be,fe):null;n(S.C<oe),n(Be<=ne);var vt=!1;e:for(;;){for(;vt||Qe<Be;){var gt=0;if(fe>=rt){var Ot=Qe-P;n((rt=S).Pb),rt.wd=rt.m,rt.xd=Ot,0<rt.s.ua&&Se(rt.s.Wa,rt.s.vb),rt=fe+mb}if(be&qe||(pt=fr(Re,be,fe)),n(pt!=null),pt.Qb&&(_[Qe]=pt.qb,vt=!0),!vt)if(se(Ae),pt.jc){gt=Ae,Ot=_;var jt=Qe,Yt=pt.pd[q(gt)&ra-1];n(pt.jc),256>Yt.g?(ee(gt,gt.u+Yt.g),Ot[jt]=Yt.value,gt=0):(ee(gt,gt.u+Yt.g-256),n(256<=Yt.value),gt=Yt.value),gt==0&&(vt=!0)}else gt=Mr(pt.G[0],pt.H[0],Ae);if(Ae.h)break;if(vt||256>gt){if(!vt)if(pt.nd)_[Qe]=(pt.qb|gt<<8)>>>0;else{if(se(Ae),vt=Mr(pt.G[1],pt.H[1],Ae),se(Ae),Ot=Mr(pt.G[2],pt.H[2],Ae),jt=Mr(pt.G[3],pt.H[3],Ae),Ae.h)break;_[Qe]=(jt<<24|vt<<16|gt<<8|Ot)>>>0}if(vt=!1,++Qe,++be>=Y&&(be=0,++fe,le!=null&&fe<=oe&&!(fe%16)&&le(S,fe),Fe!=null))for(;Ye<Qe;)gt=_[Ye++],Fe.X[(506832829*gt&4294967295)>>>Fe.Mb]=gt}else if(280>gt){if(gt=Wn(gt-256,Ae),Ot=Mr(pt.G[4],pt.H[4],Ae),se(Ae),Ot=sr(Y,Ot=Wn(Ot,Ae)),Ae.h)break;if(Qe-P<Ot||ne-Qe<gt)break e;for(jt=0;jt<gt;++jt)_[Qe+jt]=_[Qe+jt-Ot];for(Qe+=gt,be+=gt;be>=Y;)be-=Y,++fe,le!=null&&fe<=oe&&!(fe%16)&&le(S,fe);if(n(Qe<=ne),be&qe&&(pt=fr(Re,be,fe)),Fe!=null)for(;Ye<Qe;)gt=_[Ye++],Fe.X[(506832829*gt&4294967295)>>>Fe.Mb]=gt}else{if(!(gt<yt))break e;for(vt=gt-280,n(Fe!=null);Ye<Qe;)gt=_[Ye++],Fe.X[(506832829*gt&4294967295)>>>Fe.Mb]=gt;gt=Qe,n(!(vt>>>(Ot=Fe).Xa)),_[gt]=Ot.X[vt],vt=!0}vt||n(Ae.h==Z(Ae))}if(S.Pb&&Ae.h&&Qe<ne)n(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&Se(S.s.vb,S.s.Wa);else{if(Ae.h)break e;le!=null&&le(S,fe>oe?oe:fe),S.a=0,S.$=Qe-P}return 1}return S.a=3,0}function er(S){n(S!=null),S.vc=null,S.yc=null,S.Ya=null;var _=S.Wa;_!=null&&(_.X=null),S.vb=null,n(S!=null)}function Ci(){var S=new wm;return S==null?null:(S.a=0,S.xb=df,nn("Predictor","VP8LPredictors"),nn("Predictor","VP8LPredictors_C"),nn("PredictorAdd","VP8LPredictorsAdd"),nn("PredictorAdd","VP8LPredictorsAdd_C"),Op=xe,Hu=Ne,os=Ze,La=Mt,Wu=kt,_s=Wt,Do=Lt,L.VP8LMapColor32b=Aa,L.VP8LMapColor8b=Sh,S)}function tr(S,_,P,Y,ne){var oe=1,le=[S],fe=[_],be=Y.m,Ae=Y.s,Re=null,Qe=0;e:for(;;){if(P)for(;oe&&$(be,1);){var Ye=le,Be=fe,yt=Y,rt=1,Fe=yt.m,qe=yt.gc[yt.ab],pt=$(Fe,2);if(yt.Oc&1<<pt)oe=0;else{switch(yt.Oc|=1<<pt,qe.hc=pt,qe.Ea=Ye[0],qe.nc=Be[0],qe.K=[null],++yt.ab,n(4>=yt.ab),pt){case 0:case 1:qe.b=$(Fe,3)+2,rt=tr(ce(qe.Ea,qe.b),ce(qe.nc,qe.b),0,yt,qe.K),qe.K=qe.K[0];break;case 3:var vt,gt=$(Fe,8)+1,Ot=16<gt?0:4<gt?1:2<gt?2:3;if(Ye[0]=ce(qe.Ea,Ot),qe.b=Ot,vt=rt=tr(gt,1,0,yt,qe.K)){var jt,Yt=gt,Nt=qe,Yn=1<<(8>>Nt.b),or=a(Yn);if(or==null)vt=0;else{var In=Nt.K[0],On=Nt.w;for(or[0]=Nt.K[0][0],jt=1;jt<1*Yt;++jt)or[jt]=ve(In[On+jt],or[jt-1]);for(;jt<4*Yn;++jt)or[jt]=0;Nt.K[0]=null,Nt.K[0]=or,vt=1}}rt=vt;break;case 2:break;default:n(0)}oe=rt}}if(le=le[0],fe=fe[0],oe&&$(be,1)&&!(oe=1<=(Qe=$(be,4))&&11>=Qe)){Y.a=3;break e}var Er;if(Er=oe)t:{var lr,bn,Tr,en=Y,cn=le,Vn=fe,Gn=Qe,_a=P,oa=en.m,Ni=en.s,Ti=[null],$i=1,ho=0,ur=sd[Gn];n:for(;;){if(_a&&$(oa,1)){var Hi=$(oa,3)+2,Mo=ce(cn,Hi),nc=ce(Vn,Hi),ud=Mo*nc;if(!tr(Mo,nc,0,en,Ti))break n;for(Ti=Ti[0],Ni.xc=Hi,lr=0;lr<ud;++lr){var rc=Ti[lr]>>8&65535;Ti[lr]=rc,rc>=$i&&($i=rc+1)}}if(oa.h)break n;for(bn=0;5>bn;++bn){var ni=Xs[bn];!bn&&0<Gn&&(ni+=1<<Gn),ho<ni&&(ho=ni)}var Nh=s($i*ur,O),zp=$i,us=s(zp,T);if(us==null)var di=null;else n(65536>=zp),di=us;var cd=a(ho);if(di==null||cd==null||Nh==null){en.a=1;break n}var ic=Nh;for(lr=Tr=0;lr<$i;++lr){var js=di[lr],ac=js.G,Ns=js.H,Th=0,hf=1,qp=0;for(bn=0;5>bn;++bn){ni=Xs[bn],ac[bn]=ic,Ns[bn]=Tr,!bn&&0<Gn&&(ni+=1<<Gn);i:{var Oh,Bp=ni,Ih=en,pf=cd,wb=ic,Sb=Tr,Dh=0,au=Ih.m,b2=$(au,1);if(i(pf,0,0,Bp),b2){var Ab=$(au,1)+1,Cb=$(au,1),_m=$(au,Cb==0?1:8);pf[_m]=1,Ab==2&&(pf[_m=$(au,8)]=1);var mf=1}else{var km=a(19),jm=$(au,4)+4;if(19<jm){Ih.a=3;var Lh=0;break i}for(Oh=0;Oh<jm;++Oh)km[eu[Oh]]=$(au,3);var Up=void 0,gf=void 0,Eb=Ih,_b=km,su=Bp,Rh=pf,$p=0,Fo=Eb.m,bf=8,Nm=s(128,O);r:for(;j(Nm,0,7,_b,19);){if($(Fo,1)){var kb=2+2*$(Fo,3);if((Up=2+$(Fo,kb))>su)break r}else Up=su;for(gf=0;gf<su&&Up--;){se(Fo);var Tm=Nm[0+(127&q(Fo))];ee(Fo,Fo.u+Tm.g);var dd=Tm.value;if(16>dd)Rh[gf++]=dd,dd!=0&&(bf=dd);else{var jb=dd==16,Om=dd-16,Im=fo[Om],Dm=$(Fo,Lp[Om])+Im;if(gf+Dm>su)break r;for(var Nb=jb?bf:0;0<Dm--;)Rh[gf++]=Nb}}$p=1;break r}$p||(Eb.a=3),mf=$p}(mf=mf&&!au.h)&&(Dh=j(wb,Sb,8,pf,Bp)),mf&&Dh!=0?Lh=Dh:(Ih.a=3,Lh=0)}if(Lh==0)break n;if(hf&&ad[bn]==1&&(hf=ic[Tr].g==0),Th+=ic[Tr].g,Tr+=Lh,3>=bn){var fd,Hp=cd[0];for(fd=1;fd<ni;++fd)cd[fd]>Hp&&(Hp=cd[fd]);qp+=Hp}}if(js.nd=hf,js.Qb=0,hf&&(js.qb=(ac[3][Ns[3]+0].value<<24|ac[1][Ns[1]+0].value<<16|ac[2][Ns[2]+0].value)>>>0,Th==0&&256>ac[0][Ns[0]+0].value&&(js.Qb=1,js.qb+=ac[0][Ns[0]+0].value<<8)),js.jc=!js.Qb&&6>qp,js.jc){var Mh,ou=js;for(Mh=0;Mh<ra;++Mh){var vl=Mh,lu=ou.pd[vl],Fh=ou.G[0][ou.H[0]+vl];256<=Fh.value?(lu.g=Fh.g+256,lu.value=Fh.value):(lu.g=0,lu.value=0,vl>>=dr(Fh,8,lu),vl>>=dr(ou.G[1][ou.H[1]+vl],16,lu),vl>>=dr(ou.G[2][ou.H[2]+vl],0,lu),dr(ou.G[3][ou.H[3]+vl],24,lu))}}}Ni.vc=Ti,Ni.Wb=$i,Ni.Ya=di,Ni.yc=Nh,Er=1;break t}Er=0}if(!(oe=Er)){Y.a=3;break e}if(0<Qe){if(Ae.ua=1<<Qe,!V(Ae.Wa,Qe)){Y.a=1,oe=0;break e}}else Ae.ua=0;var Ph=Y,Lm=le,Tb=fe,Rm=Ph.s,Mm=Rm.xc;if(Ph.c=Lm,Ph.i=Tb,Rm.md=ce(Lm,Mm),Rm.wc=Mm==0?-1:(1<<Mm)-1,P){Y.xb=bb;break e}if((Re=a(le*fe))==null){Y.a=1,oe=0;break e}oe=(oe=qi(Y,Re,0,le,fe,fe,null))&&!be.h;break e}return oe?(ne!=null?ne[0]=Re:(n(Re==null),n(P)),Y.$=0,P||er(Ae)):er(Ae),oe}function ro(S,_){var P=S.c*S.i,Y=P+_+16*_;return n(S.c<=_),S.V=a(Y),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+P+_,1)}function Eo(S,_){var P=S.C,Y=_-P,ne=S.V,oe=S.Ba+S.c*P;for(n(_<=S.l.o);0<Y;){var le=16<Y?16:Y,fe=S.l.ma,be=S.l.width,Ae=be*le,Re=fe.ca,Qe=fe.tb+be*P,Ye=S.Ta,Be=S.Ua;Hn(S,le,ne,oe),zr(Ye,Be,Re,Qe,Ae),Ia(fe,P,P+le,Re,Qe,be),Y-=le,ne+=le*S.c,P+=le}n(P==_),S.C=S.Ma=_}function Fa(){this.ub=this.yd=this.td=this.Rb=0}function Fr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function al(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function $l(){this.Yb=function(){var S=[];return function _(P,Y,ne){for(var oe=ne[Y],le=0;le<oe&&(P.push(ne.length>Y+1?[]:0),!(ne.length<Y+1));le++)_(P[le],Y+1,ne)}(S,0,[3,11]),S}()}function Fu(){this.jb=a(3),this.Wc=l([4,8],$l),this.Xc=l([4,17],$l)}function Gc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function $s(){this.ld=this.La=this.dd=this.tc=0}function xs(){this.Na=this.la=0}function Pa(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function vs(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function is(){this.uc=this.M=this.Nb=0,this.wa=Array(new $s),this.Y=0,this.ya=Array(new vs),this.aa=0,this.l=new io}function as(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Hl(){this.cb=this.a=0,this.sc="",this.m=new ae,this.Od=new Fa,this.Kc=new Fr,this.ed=new Gc,this.Qa=new al,this.Ic=this.$c=this.Aa=0,this.D=new is,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ae),this.ia=0,this.pb=s(4,Pa),this.Pa=new Fu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new as),this.Hd=0,this.rb=Array(new xs),this.sb=0,this.wa=Array(new $s),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new vs),this.L=this.aa=0,this.gd=l([4,2],$s),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function io(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Qc(){var S=new Hl;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,ia||(ia=sl)),S}function Pr(S,_,P){return S.a==0&&(S.a=_,S.sc=P,S.cb=0),0}function ta(S,_,P){return 3<=P&&S[_+0]==157&&S[_+1]==1&&S[_+2]==42}function ao(S,_){if(S==null)return 0;if(S.a=0,S.sc="OK",_==null)return Pr(S,2,"null VP8Io passed to VP8GetHeaders()");var P=_.data,Y=_.w,ne=_.ha;if(4>ne)return Pr(S,7,"Truncated header.");var oe=P[Y+0]|P[Y+1]<<8|P[Y+2]<<16,le=S.Od;if(le.Rb=!(1&oe),le.td=oe>>1&7,le.yd=oe>>4&1,le.ub=oe>>5,3<le.td)return Pr(S,3,"Incorrect keyframe parameters.");if(!le.yd)return Pr(S,4,"Frame not displayable.");Y+=3,ne-=3;var fe=S.Kc;if(le.Rb){if(7>ne)return Pr(S,7,"cannot parse picture header");if(!ta(P,Y,ne))return Pr(S,3,"Bad code word");fe.c=16383&(P[Y+4]<<8|P[Y+3]),fe.Td=P[Y+4]>>6,fe.i=16383&(P[Y+6]<<8|P[Y+5]),fe.Ud=P[Y+6]>>6,Y+=7,ne-=7,S.za=fe.c+15>>4,S.Ub=fe.i+15>>4,_.width=fe.c,_.height=fe.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((oe=S.Pa).jb,0,255,oe.jb.length),n((oe=S.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,i(oe.Zb,0,0,oe.Zb.length),i(oe.Lb,0,0,oe.Lb)}if(le.ub>ne)return Pr(S,7,"bad partition length");G(oe=S.m,P,Y,le.ub),Y+=le.ub,ne-=le.ub,le.Rb&&(fe.Ld=ye(oe),fe.Kd=ye(oe)),fe=S.Qa;var be,Ae=S.Pa;if(n(oe!=null),n(fe!=null),fe.Cb=ye(oe),fe.Cb){if(fe.Bb=ye(oe),ye(oe)){for(fe.Fb=ye(oe),be=0;4>be;++be)fe.Zb[be]=ye(oe)?X(oe,7):0;for(be=0;4>be;++be)fe.Lb[be]=ye(oe)?X(oe,6):0}if(fe.Bb)for(be=0;3>be;++be)Ae.jb[be]=ye(oe)?W(oe,8):255}else fe.Bb=0;if(oe.Ka)return Pr(S,3,"cannot parse segment header");if((fe=S.ed).zd=ye(oe),fe.Tb=W(oe,6),fe.wb=W(oe,3),fe.Pc=ye(oe),fe.Pc&&ye(oe)){for(Ae=0;4>Ae;++Ae)ye(oe)&&(fe.vd[Ae]=X(oe,6));for(Ae=0;4>Ae;++Ae)ye(oe)&&(fe.od[Ae]=X(oe,6))}if(S.L=fe.Tb==0?0:fe.zd?1:2,oe.Ka)return Pr(S,3,"cannot parse filter header");var Re=ne;if(ne=be=Y,Y=be+Re,fe=Re,S.Xb=(1<<W(S.m,2))-1,Re<3*(Ae=S.Xb))P=7;else{for(be+=3*Ae,fe-=3*Ae,Re=0;Re<Ae;++Re){var Qe=P[ne+0]|P[ne+1]<<8|P[ne+2]<<16;Qe>fe&&(Qe=fe),G(S.Jc[+Re],P,be,Qe),be+=Qe,fe-=Qe,ne+=3}G(S.Jc[+Ae],P,be,fe),P=be<Y?0:5}if(P!=0)return Pr(S,P,"cannot parse partitions");for(P=W(be=S.m,7),ne=ye(be)?X(be,4):0,Y=ye(be)?X(be,4):0,fe=ye(be)?X(be,4):0,Ae=ye(be)?X(be,4):0,be=ye(be)?X(be,4):0,Re=S.Qa,Qe=0;4>Qe;++Qe){if(Re.Cb){var Ye=Re.Zb[Qe];Re.Fb||(Ye+=P)}else{if(0<Qe){S.pb[Qe]=S.pb[0];continue}Ye=P}var Be=S.pb[Qe];Be.Sc[0]=Eh[Qs(Ye+ne,127)],Be.Sc[1]=_h[Qs(Ye+0,127)],Be.Eb[0]=2*Eh[Qs(Ye+Y,127)],Be.Eb[1]=101581*_h[Qs(Ye+fe,127)]>>16,8>Be.Eb[1]&&(Be.Eb[1]=8),Be.Qc[0]=Eh[Qs(Ye+Ae,117)],Be.Qc[1]=_h[Qs(Ye+be,127)],Be.lc=Ye+be}if(!le.Rb)return Pr(S,4,"Not a key frame.");for(ye(oe),le=S.Pa,P=0;4>P;++P){for(ne=0;8>ne;++ne)for(Y=0;3>Y;++Y)for(fe=0;11>fe;++fe)Ae=Ce(oe,od[P][ne][Y][fe])?W(oe,8):gl[P][ne][Y][fe],le.Wc[P][ne].Yb[Y][fe]=Ae;for(ne=0;17>ne;++ne)le.Xc[P][ne]=le.Wc[P][gb[ne]]}return S.kc=ye(oe),S.kc&&(S.Bd=W(oe,8)),S.cb=1}function sl(S,_,P,Y,ne,oe,le){var fe=_[ne].Yb[P];for(P=0;16>ne;++ne){if(!Ce(S,fe[P+0]))return ne;for(;!Ce(S,fe[P+1]);)if(fe=_[++ne].Yb[0],P=0,ne==16)return 16;var be=_[ne+1].Yb;if(Ce(S,fe[P+2])){var Ae=S,Re=0;if(Ce(Ae,(Ye=fe)[(Qe=P)+3]))if(Ce(Ae,Ye[Qe+6])){for(fe=0,Qe=2*(Re=Ce(Ae,Ye[Qe+8]))+(Ye=Ce(Ae,Ye[Qe+9+Re])),Re=0,Ye=yi[Qe];Ye[fe];++fe)Re+=Re+Ce(Ae,Ye[fe]);Re+=3+(8<<Qe)}else Ce(Ae,Ye[Qe+7])?(Re=7+2*Ce(Ae,165),Re+=Ce(Ae,145)):Re=5+Ce(Ae,159);else Re=Ce(Ae,Ye[Qe+4])?3+Ce(Ae,Ye[Qe+5]):2;fe=be[2]}else Re=1,fe=be[1];be=le+nr[ne],0>(Ae=S).b&&we(Ae);var Qe,Ye=Ae.b,Be=(Qe=Ae.Ca>>1)-(Ae.I>>Ye)>>31;--Ae.b,Ae.Ca+=Be,Ae.Ca|=1,Ae.I-=(Qe+1&Be)<<Ye,oe[be]=((Re^Be)-Be)*Y[(0<ne)+0]}return 16}function za(S){var _=S.rb[S.sb-1];_.la=0,_.Na=0,i(S.zc,0,0,S.zc.length),S.ja=0}function Wl(S,_){if(S==null)return 0;if(_==null)return Pr(S,2,"NULL VP8Io parameter in VP8Decode().");if(!S.cb&&!ao(S,_))return 0;if(n(S.cb),_.ac==null||_.ac(_)){_.ob&&(S.L=0);var P=iu[S.L];if(S.L==2?(S.yb=0,S.zb=0):(S.yb=_.v-P>>4,S.zb=_.j-P>>4,0>S.yb&&(S.yb=0),0>S.zb&&(S.zb=0)),S.Va=_.o+15+P>>4,S.Hb=_.va+15+P>>4,S.Hb>S.za&&(S.Hb=S.za),S.Va>S.Ub&&(S.Va=S.Ub),0<S.L){var Y=S.ed;for(P=0;4>P;++P){var ne;if(S.Qa.Cb){var oe=S.Qa.Lb[P];S.Qa.Fb||(oe+=Y.Tb)}else oe=Y.Tb;for(ne=0;1>=ne;++ne){var le=S.gd[P][ne],fe=oe;if(Y.Pc&&(fe+=Y.vd[0],ne&&(fe+=Y.od[0])),0<(fe=0>fe?0:63<fe?63:fe)){var be=fe;0<Y.wb&&(be=4<Y.wb?be>>2:be>>1)>9-Y.wb&&(be=9-Y.wb),1>be&&(be=1),le.dd=be,le.tc=2*fe+be,le.ld=40<=fe?2:15<=fe?1:0}else le.tc=0;le.La=ne}}}P=0}else Pr(S,6,"Frame setup failed"),P=S.a;if(P=P==0){if(P){S.$c=0,0<S.Aa||(S.Ic=xb);e:{P=S.Ic,Y=4*(be=S.za);var Ae=32*be,Re=be+1,Qe=0<S.L?be*(0<S.Aa?2:1):0,Ye=(S.Aa==2?2:1)*be;if((le=Y+832+(ne=3*(16*P+iu[S.L])/2*Ae)+(oe=S.Fa!=null&&0<S.Fa.length?S.Kc.c*S.Kc.i:0))!=le)P=0;else{if(le>S.Vb){if(S.Vb=0,S.Ec=a(le),S.Fc=0,S.Ec==null){P=Pr(S,1,"no memory during frame initialization.");break e}S.Vb=le}le=S.Ec,fe=S.Fc,S.Ac=le,S.Bc=fe,fe+=Y,S.Gd=s(Ae,as),S.Hd=0,S.rb=s(Re+1,xs),S.sb=1,S.wa=Qe?s(Qe,$s):null,S.Y=0,S.D.Nb=0,S.D.wa=S.wa,S.D.Y=S.Y,0<S.Aa&&(S.D.Y+=be),n(!0),S.oc=le,S.pc=fe,fe+=832,S.ya=s(Ye,vs),S.aa=0,S.D.ya=S.ya,S.D.aa=S.aa,S.Aa==2&&(S.D.aa+=be),S.R=16*be,S.B=8*be,be=(Ae=iu[S.L])*S.R,Ae=Ae/2*S.B,S.sa=le,S.ta=fe+be,S.qa=S.sa,S.ra=S.ta+16*P*S.R+Ae,S.Ha=S.qa,S.Ia=S.ra+8*P*S.B+Ae,S.$c=0,fe+=ne,S.mb=oe?le:null,S.nb=oe?fe:null,n(fe+oe<=S.Fc+S.Vb),za(S),i(S.Ac,S.Bc,0,Y),P=1}}if(P){if(_.ka=0,_.y=S.sa,_.O=S.ta,_.f=S.qa,_.N=S.ra,_.ea=S.Ha,_.Vd=S.Ia,_.fa=S.R,_.Rc=S.B,_.F=null,_.J=0,!Xl){for(P=-255;255>=P;++P)ji[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)uo[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)Ku[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)Xu[255+P]=0>P?0:255<P?255:P;Xl=1}hl=Bi,Lo=ko,Ro=Hs,Ui=Pu,ks=Ws,gi=Vl,ed=Kr,pl=Ha,of=Zd,Vu=fl,Yu=Gs,Gu=Cs,td=To,lf=Tp,Qu=pr,Kl=gn,nd=Nr,bi=wa,ls[0]=Ei,ls[1]=ws,ls[2]=so,ls[3]=cl,ls[4]=Ba,ls[5]=Ua,ls[6]=jo,ls[7]=Da,ls[8]=No,ls[9]=$a,nu[0]=ul,nu[1]=qa,nu[2]=Vs,nu[3]=ll,nu[4]=ui,nu[5]=ei,nu[6]=Ss,Zs[0]=H,Zs[1]=zu,Zs[2]=dl,Zs[3]=oo,Zs[4]=Te,Zs[5]=pe,Zs[6]=ot,P=1}else P=0}P&&(P=function(Be,yt){for(Be.M=0;Be.M<Be.Va;++Be.M){var rt,Fe=Be.Jc[Be.M&Be.Xb],qe=Be.m,pt=Be;for(rt=0;rt<pt.za;++rt){var vt=qe,gt=pt,Ot=gt.Ac,jt=gt.Bc+4*rt,Yt=gt.zc,Nt=gt.ya[gt.aa+rt];if(gt.Qa.Bb?Nt.$b=Ce(vt,gt.Pa.jb[0])?2+Ce(vt,gt.Pa.jb[2]):Ce(vt,gt.Pa.jb[1]):Nt.$b=0,gt.kc&&(Nt.Ad=Ce(vt,gt.Bd)),Nt.Za=!Ce(vt,145)+0,Nt.Za){var Yn=Nt.Ob,or=0;for(gt=0;4>gt;++gt){var In,On=Yt[0+gt];for(In=0;4>In;++In){On=Am[Ot[jt+In]][On];for(var Er=Ju[Ce(vt,On[0])];0<Er;)Er=Ju[2*Er+Ce(vt,On[Er])];On=-Er,Ot[jt+In]=On}r(Yn,or,Ot,jt,4),or+=4,Yt[0+gt]=On}}else On=Ce(vt,156)?Ce(vt,128)?1:3:Ce(vt,163)?2:0,Nt.Ob[0]=On,i(Ot,jt,On,4),i(Yt,0,On,4);Nt.Dd=Ce(vt,142)?Ce(vt,114)?Ce(vt,183)?1:3:2:0}if(pt.m.Ka)return Pr(Be,7,"Premature end-of-partition0 encountered.");for(;Be.ja<Be.za;++Be.ja){if(pt=Fe,vt=(qe=Be).rb[qe.sb-1],Ot=qe.rb[qe.sb+qe.ja],rt=qe.ya[qe.aa+qe.ja],jt=qe.kc?rt.Ad:0)vt.la=Ot.la=0,rt.Za||(vt.Na=Ot.Na=0),rt.Hc=0,rt.Gc=0,rt.ia=0;else{var lr,bn;if(vt=Ot,Ot=pt,jt=qe.Pa.Xc,Yt=qe.ya[qe.aa+qe.ja],Nt=qe.pb[Yt.$b],gt=Yt.ad,Yn=0,or=qe.rb[qe.sb-1],On=In=0,i(gt,Yn,0,384),Yt.Za)var Tr=0,en=jt[3];else{Er=a(16);var cn=vt.Na+or.Na;if(cn=ia(Ot,jt[1],cn,Nt.Eb,0,Er,0),vt.Na=or.Na=(0<cn)+0,1<cn)hl(Er,0,gt,Yn);else{var Vn=Er[0]+3>>3;for(Er=0;256>Er;Er+=16)gt[Yn+Er]=Vn}Tr=1,en=jt[0]}var Gn=15&vt.la,_a=15&or.la;for(Er=0;4>Er;++Er){var oa=1&_a;for(Vn=bn=0;4>Vn;++Vn)Gn=Gn>>1|(oa=(cn=ia(Ot,en,cn=oa+(1&Gn),Nt.Sc,Tr,gt,Yn))>Tr)<<7,bn=bn<<2|(3<cn?3:1<cn?2:gt[Yn+0]!=0),Yn+=16;Gn>>=4,_a=_a>>1|oa<<7,In=(In<<8|bn)>>>0}for(en=Gn,Tr=_a>>4,lr=0;4>lr;lr+=2){for(bn=0,Gn=vt.la>>4+lr,_a=or.la>>4+lr,Er=0;2>Er;++Er){for(oa=1&_a,Vn=0;2>Vn;++Vn)cn=oa+(1&Gn),Gn=Gn>>1|(oa=0<(cn=ia(Ot,jt[2],cn,Nt.Qc,0,gt,Yn)))<<3,bn=bn<<2|(3<cn?3:1<cn?2:gt[Yn+0]!=0),Yn+=16;Gn>>=2,_a=_a>>1|oa<<5}On|=bn<<4*lr,en|=Gn<<4<<lr,Tr|=(240&_a)<<lr}vt.la=en,or.la=Tr,Yt.Hc=In,Yt.Gc=On,Yt.ia=43690&On?0:Nt.ia,jt=!(In|On)}if(0<qe.L&&(qe.wa[qe.Y+qe.ja]=qe.gd[rt.$b][rt.Za],qe.wa[qe.Y+qe.ja].La|=!jt),pt.Ka)return Pr(Be,7,"Premature end-of-file encountered.")}if(za(Be),qe=yt,pt=1,rt=(Fe=Be).D,vt=0<Fe.L&&Fe.M>=Fe.zb&&Fe.M<=Fe.Va,Fe.Aa==0)e:{if(rt.M=Fe.M,rt.uc=vt,Gl(Fe,rt),pt=1,rt=(bn=Fe.D).Nb,vt=(On=iu[Fe.L])*Fe.R,Ot=On/2*Fe.B,Er=16*rt*Fe.R,Vn=8*rt*Fe.B,jt=Fe.sa,Yt=Fe.ta-vt+Er,Nt=Fe.qa,gt=Fe.ra-Ot+Vn,Yn=Fe.Ha,or=Fe.Ia-Ot+Vn,_a=(Gn=bn.M)==0,In=Gn>=Fe.Va-1,Fe.Aa==2&&Gl(Fe,bn),bn.uc)for(oa=(cn=Fe).D.M,n(cn.D.uc),bn=cn.yb;bn<cn.Hb;++bn){Tr=bn,en=oa;var Ni=(Ti=(ni=cn).D).Nb;lr=ni.R;var Ti=Ti.wa[Ti.Y+Tr],$i=ni.sa,ho=ni.ta+16*Ni*lr+16*Tr,ur=Ti.dd,Hi=Ti.tc;if(Hi!=0)if(n(3<=Hi),ni.L==1)0<Tr&&Kl($i,ho,lr,Hi+4),Ti.La&&bi($i,ho,lr,Hi),0<en&&Qu($i,ho,lr,Hi+4),Ti.La&&nd($i,ho,lr,Hi);else{var Mo=ni.B,nc=ni.qa,ud=ni.ra+8*Ni*Mo+8*Tr,rc=ni.Ha,ni=ni.Ia+8*Ni*Mo+8*Tr;Ni=Ti.ld,0<Tr&&(pl($i,ho,lr,Hi+4,ur,Ni),Vu(nc,ud,rc,ni,Mo,Hi+4,ur,Ni)),Ti.La&&(Gu($i,ho,lr,Hi,ur,Ni),lf(nc,ud,rc,ni,Mo,Hi,ur,Ni)),0<en&&(ed($i,ho,lr,Hi+4,ur,Ni),of(nc,ud,rc,ni,Mo,Hi+4,ur,Ni)),Ti.La&&(Yu($i,ho,lr,Hi,ur,Ni),td(nc,ud,rc,ni,Mo,Hi,ur,Ni))}}if(Fe.ia&&alert("todo:DitherRow"),qe.put!=null){if(bn=16*Gn,Gn=16*(Gn+1),_a?(qe.y=Fe.sa,qe.O=Fe.ta+Er,qe.f=Fe.qa,qe.N=Fe.ra+Vn,qe.ea=Fe.Ha,qe.W=Fe.Ia+Vn):(bn-=On,qe.y=jt,qe.O=Yt,qe.f=Nt,qe.N=gt,qe.ea=Yn,qe.W=or),In||(Gn-=On),Gn>qe.o&&(Gn=qe.o),qe.F=null,qe.J=null,Fe.Fa!=null&&0<Fe.Fa.length&&bn<Gn&&(qe.J=xh(Fe,qe,bn,Gn-bn),qe.F=Fe.mb,qe.F==null&&qe.F.length==0)){pt=Pr(Fe,3,"Could not decode alpha data.");break e}bn<qe.j&&(On=qe.j-bn,bn=qe.j,n(!(1&On)),qe.O+=Fe.R*On,qe.N+=Fe.B*(On>>1),qe.W+=Fe.B*(On>>1),qe.F!=null&&(qe.J+=qe.width*On)),bn<Gn&&(qe.O+=qe.v,qe.N+=qe.v>>1,qe.W+=qe.v>>1,qe.F!=null&&(qe.J+=qe.v),qe.ka=bn-qe.j,qe.U=qe.va-qe.v,qe.T=Gn-bn,pt=qe.put(qe))}rt+1!=Fe.Ic||In||(r(Fe.sa,Fe.ta-vt,jt,Yt+16*Fe.R,vt),r(Fe.qa,Fe.ra-Ot,Nt,gt+8*Fe.B,Ot),r(Fe.Ha,Fe.Ia-Ot,Yn,or+8*Fe.B,Ot))}if(!pt)return Pr(Be,6,"Output aborted.")}return 1}(S,_)),_.bc!=null&&_.bc(_),P&=1}return P?(S.cb=0,P):0}function na(S,_,P,Y,ne){ne=S[_+P+32*Y]+(ne>>3),S[_+P+32*Y]=-256&ne?0>ne?0:255:ne}function ol(S,_,P,Y,ne,oe){na(S,_,0,P,Y+ne),na(S,_,1,P,Y+oe),na(S,_,2,P,Y-oe),na(S,_,3,P,Y-ne)}function hr(S){return(20091*S>>16)+S}function _o(S,_,P,Y){var ne,oe=0,le=a(16);for(ne=0;4>ne;++ne){var fe=S[_+0]+S[_+8],be=S[_+0]-S[_+8],Ae=(35468*S[_+4]>>16)-hr(S[_+12]),Re=hr(S[_+4])+(35468*S[_+12]>>16);le[oe+0]=fe+Re,le[oe+1]=be+Ae,le[oe+2]=be-Ae,le[oe+3]=fe-Re,oe+=4,_++}for(ne=oe=0;4>ne;++ne)fe=(S=le[oe+0]+4)+le[oe+8],be=S-le[oe+8],Ae=(35468*le[oe+4]>>16)-hr(le[oe+12]),na(P,Y,0,0,fe+(Re=hr(le[oe+4])+(35468*le[oe+12]>>16))),na(P,Y,1,0,be+Ae),na(P,Y,2,0,be-Ae),na(P,Y,3,0,fe-Re),oe++,Y+=32}function Vl(S,_,P,Y){var ne=S[_+0]+4,oe=35468*S[_+4]>>16,le=hr(S[_+4]),fe=35468*S[_+1]>>16;ol(P,Y,0,ne+le,S=hr(S[_+1]),fe),ol(P,Y,1,ne+oe,S,fe),ol(P,Y,2,ne-oe,S,fe),ol(P,Y,3,ne-le,S,fe)}function ko(S,_,P,Y,ne){_o(S,_,P,Y),ne&&_o(S,_+16,P,Y+4)}function Hs(S,_,P,Y){Lo(S,_+0,P,Y,1),Lo(S,_+32,P,Y+128,1)}function Pu(S,_,P,Y){var ne;for(S=S[_+0]+4,ne=0;4>ne;++ne)for(_=0;4>_;++_)na(P,Y,_,ne,S)}function Ws(S,_,P,Y){S[_+0]&&Ui(S,_+0,P,Y),S[_+16]&&Ui(S,_+16,P,Y+4),S[_+32]&&Ui(S,_+32,P,Y+128),S[_+48]&&Ui(S,_+48,P,Y+128+4)}function Bi(S,_,P,Y){var ne,oe=a(16);for(ne=0;4>ne;++ne){var le=S[_+0+ne]+S[_+12+ne],fe=S[_+4+ne]+S[_+8+ne],be=S[_+4+ne]-S[_+8+ne],Ae=S[_+0+ne]-S[_+12+ne];oe[0+ne]=le+fe,oe[8+ne]=le-fe,oe[4+ne]=Ae+be,oe[12+ne]=Ae-be}for(ne=0;4>ne;++ne)le=(S=oe[0+4*ne]+3)+oe[3+4*ne],fe=oe[1+4*ne]+oe[2+4*ne],be=oe[1+4*ne]-oe[2+4*ne],Ae=S-oe[3+4*ne],P[Y+0]=le+fe>>3,P[Y+16]=Ae+be>>3,P[Y+32]=le-fe>>3,P[Y+48]=Ae-be>>3,Y+=64}function ss(S,_,P){var Y,ne=_-32,oe=Ca,le=255-S[ne-1];for(Y=0;Y<P;++Y){var fe,be=oe,Ae=le+S[_-1];for(fe=0;fe<P;++fe)S[_+fe]=be[Ae+S[ne+fe]];_+=32}}function ws(S,_){ss(S,_,4)}function zu(S,_){ss(S,_,8)}function qa(S,_){ss(S,_,16)}function Vs(S,_){var P;for(P=0;16>P;++P)r(S,_+32*P,S,_-32,16)}function ll(S,_){var P;for(P=16;0<P;--P)i(S,_,S[_-1],16),_+=32}function Ys(S,_,P){var Y;for(Y=0;16>Y;++Y)i(_,P+32*Y,S,16)}function ul(S,_){var P,Y=16;for(P=0;16>P;++P)Y+=S[_-1+32*P]+S[_+P-32];Ys(Y>>5,S,_)}function ui(S,_){var P,Y=8;for(P=0;16>P;++P)Y+=S[_-1+32*P];Ys(Y>>4,S,_)}function ei(S,_){var P,Y=8;for(P=0;16>P;++P)Y+=S[_+P-32];Ys(Y>>4,S,_)}function Ss(S,_){Ys(128,S,_)}function tn(S,_,P){return S+2*_+P+2>>2}function so(S,_){var P,Y=_-32;for(Y=new Uint8Array([tn(S[Y-1],S[Y+0],S[Y+1]),tn(S[Y+0],S[Y+1],S[Y+2]),tn(S[Y+1],S[Y+2],S[Y+3]),tn(S[Y+2],S[Y+3],S[Y+4])]),P=0;4>P;++P)r(S,_+32*P,Y,0,Y.length)}function cl(S,_){var P=S[_-1],Y=S[_-1+32],ne=S[_-1+64],oe=S[_-1+96];Oe(S,_+0,16843009*tn(S[_-1-32],P,Y)),Oe(S,_+32,16843009*tn(P,Y,ne)),Oe(S,_+64,16843009*tn(Y,ne,oe)),Oe(S,_+96,16843009*tn(ne,oe,oe))}function Ei(S,_){var P,Y=4;for(P=0;4>P;++P)Y+=S[_+P-32]+S[_-1+32*P];for(Y>>=3,P=0;4>P;++P)i(S,_+32*P,Y,4)}function Ba(S,_){var P=S[_-1+0],Y=S[_-1+32],ne=S[_-1+64],oe=S[_-1-32],le=S[_+0-32],fe=S[_+1-32],be=S[_+2-32],Ae=S[_+3-32];S[_+0+96]=tn(Y,ne,S[_-1+96]),S[_+1+96]=S[_+0+64]=tn(P,Y,ne),S[_+2+96]=S[_+1+64]=S[_+0+32]=tn(oe,P,Y),S[_+3+96]=S[_+2+64]=S[_+1+32]=S[_+0+0]=tn(le,oe,P),S[_+3+64]=S[_+2+32]=S[_+1+0]=tn(fe,le,oe),S[_+3+32]=S[_+2+0]=tn(be,fe,le),S[_+3+0]=tn(Ae,be,fe)}function jo(S,_){var P=S[_+1-32],Y=S[_+2-32],ne=S[_+3-32],oe=S[_+4-32],le=S[_+5-32],fe=S[_+6-32],be=S[_+7-32];S[_+0+0]=tn(S[_+0-32],P,Y),S[_+1+0]=S[_+0+32]=tn(P,Y,ne),S[_+2+0]=S[_+1+32]=S[_+0+64]=tn(Y,ne,oe),S[_+3+0]=S[_+2+32]=S[_+1+64]=S[_+0+96]=tn(ne,oe,le),S[_+3+32]=S[_+2+64]=S[_+1+96]=tn(oe,le,fe),S[_+3+64]=S[_+2+96]=tn(le,fe,be),S[_+3+96]=tn(fe,be,be)}function Ua(S,_){var P=S[_-1+0],Y=S[_-1+32],ne=S[_-1+64],oe=S[_-1-32],le=S[_+0-32],fe=S[_+1-32],be=S[_+2-32],Ae=S[_+3-32];S[_+0+0]=S[_+1+64]=oe+le+1>>1,S[_+1+0]=S[_+2+64]=le+fe+1>>1,S[_+2+0]=S[_+3+64]=fe+be+1>>1,S[_+3+0]=be+Ae+1>>1,S[_+0+96]=tn(ne,Y,P),S[_+0+64]=tn(Y,P,oe),S[_+0+32]=S[_+1+96]=tn(P,oe,le),S[_+1+32]=S[_+2+96]=tn(oe,le,fe),S[_+2+32]=S[_+3+96]=tn(le,fe,be),S[_+3+32]=tn(fe,be,Ae)}function Da(S,_){var P=S[_+0-32],Y=S[_+1-32],ne=S[_+2-32],oe=S[_+3-32],le=S[_+4-32],fe=S[_+5-32],be=S[_+6-32],Ae=S[_+7-32];S[_+0+0]=P+Y+1>>1,S[_+1+0]=S[_+0+64]=Y+ne+1>>1,S[_+2+0]=S[_+1+64]=ne+oe+1>>1,S[_+3+0]=S[_+2+64]=oe+le+1>>1,S[_+0+32]=tn(P,Y,ne),S[_+1+32]=S[_+0+96]=tn(Y,ne,oe),S[_+2+32]=S[_+1+96]=tn(ne,oe,le),S[_+3+32]=S[_+2+96]=tn(oe,le,fe),S[_+3+64]=tn(le,fe,be),S[_+3+96]=tn(fe,be,Ae)}function $a(S,_){var P=S[_-1+0],Y=S[_-1+32],ne=S[_-1+64],oe=S[_-1+96];S[_+0+0]=P+Y+1>>1,S[_+2+0]=S[_+0+32]=Y+ne+1>>1,S[_+2+32]=S[_+0+64]=ne+oe+1>>1,S[_+1+0]=tn(P,Y,ne),S[_+3+0]=S[_+1+32]=tn(Y,ne,oe),S[_+3+32]=S[_+1+64]=tn(ne,oe,oe),S[_+3+64]=S[_+2+64]=S[_+0+96]=S[_+1+96]=S[_+2+96]=S[_+3+96]=oe}function No(S,_){var P=S[_-1+0],Y=S[_-1+32],ne=S[_-1+64],oe=S[_-1+96],le=S[_-1-32],fe=S[_+0-32],be=S[_+1-32],Ae=S[_+2-32];S[_+0+0]=S[_+2+32]=P+le+1>>1,S[_+0+32]=S[_+2+64]=Y+P+1>>1,S[_+0+64]=S[_+2+96]=ne+Y+1>>1,S[_+0+96]=oe+ne+1>>1,S[_+3+0]=tn(fe,be,Ae),S[_+2+0]=tn(le,fe,be),S[_+1+0]=S[_+3+32]=tn(P,le,fe),S[_+1+32]=S[_+3+64]=tn(Y,P,le),S[_+1+64]=S[_+3+96]=tn(ne,Y,P),S[_+1+96]=tn(oe,ne,Y)}function dl(S,_){var P;for(P=0;8>P;++P)r(S,_+32*P,S,_-32,8)}function oo(S,_){var P;for(P=0;8>P;++P)i(S,_,S[_-1],8),_+=32}function As(S,_,P){var Y;for(Y=0;8>Y;++Y)i(_,P+32*Y,S,8)}function H(S,_){var P,Y=8;for(P=0;8>P;++P)Y+=S[_+P-32]+S[_-1+32*P];As(Y>>4,S,_)}function pe(S,_){var P,Y=4;for(P=0;8>P;++P)Y+=S[_+P-32];As(Y>>3,S,_)}function Te(S,_){var P,Y=4;for(P=0;8>P;++P)Y+=S[_-1+32*P];As(Y>>3,S,_)}function ot(S,_){As(128,S,_)}function Xt(S,_,P){var Y=S[_-P],ne=S[_+0],oe=3*(ne-Y)+Ip[1020+S[_-2*P]-S[_+P]],le=rd[112+(oe+4>>3)];S[_-P]=Ca[255+Y+rd[112+(oe+3>>3)]],S[_+0]=Ca[255+ne-le]}function qt(S,_,P,Y){var ne=S[_+0],oe=S[_+P];return co[255+S[_-2*P]-S[_-P]]>Y||co[255+oe-ne]>Y}function Tn(S,_,P,Y){return 4*co[255+S[_-P]-S[_+0]]+co[255+S[_-2*P]-S[_+P]]<=Y}function _n(S,_,P,Y,ne){var oe=S[_-3*P],le=S[_-2*P],fe=S[_-P],be=S[_+0],Ae=S[_+P],Re=S[_+2*P],Qe=S[_+3*P];return 4*co[255+fe-be]+co[255+le-Ae]>Y?0:co[255+S[_-4*P]-oe]<=ne&&co[255+oe-le]<=ne&&co[255+le-fe]<=ne&&co[255+Qe-Re]<=ne&&co[255+Re-Ae]<=ne&&co[255+Ae-be]<=ne}function pr(S,_,P,Y){var ne=2*Y+1;for(Y=0;16>Y;++Y)Tn(S,_+Y,P,ne)&&Xt(S,_+Y,P)}function gn(S,_,P,Y){var ne=2*Y+1;for(Y=0;16>Y;++Y)Tn(S,_+Y*P,1,ne)&&Xt(S,_+Y*P,1)}function Nr(S,_,P,Y){var ne;for(ne=3;0<ne;--ne)pr(S,_+=4*P,P,Y)}function wa(S,_,P,Y){var ne;for(ne=3;0<ne;--ne)gn(S,_+=4,P,Y)}function Ar(S,_,P,Y,ne,oe,le,fe){for(oe=2*oe+1;0<ne--;){if(_n(S,_,P,oe,le))if(qt(S,_,P,fe))Xt(S,_,P);else{var be=S,Ae=_,Re=P,Qe=be[Ae-2*Re],Ye=be[Ae-Re],Be=be[Ae+0],yt=be[Ae+Re],rt=be[Ae+2*Re],Fe=27*(pt=Ip[1020+3*(Be-Ye)+Ip[1020+Qe-yt]])+63>>7,qe=18*pt+63>>7,pt=9*pt+63>>7;be[Ae-3*Re]=Ca[255+be[Ae-3*Re]+pt],be[Ae-2*Re]=Ca[255+Qe+qe],be[Ae-Re]=Ca[255+Ye+Fe],be[Ae+0]=Ca[255+Be-Fe],be[Ae+Re]=Ca[255+yt-qe],be[Ae+2*Re]=Ca[255+rt-pt]}_+=Y}}function Cr(S,_,P,Y,ne,oe,le,fe){for(oe=2*oe+1;0<ne--;){if(_n(S,_,P,oe,le))if(qt(S,_,P,fe))Xt(S,_,P);else{var be=S,Ae=_,Re=P,Qe=be[Ae-Re],Ye=be[Ae+0],Be=be[Ae+Re],yt=rd[112+((rt=3*(Ye-Qe))+4>>3)],rt=rd[112+(rt+3>>3)],Fe=yt+1>>1;be[Ae-2*Re]=Ca[255+be[Ae-2*Re]+Fe],be[Ae-Re]=Ca[255+Qe+rt],be[Ae+0]=Ca[255+Ye-yt],be[Ae+Re]=Ca[255+Be-Fe]}_+=Y}}function Kr(S,_,P,Y,ne,oe){Ar(S,_,P,1,16,Y,ne,oe)}function Ha(S,_,P,Y,ne,oe){Ar(S,_,1,P,16,Y,ne,oe)}function Gs(S,_,P,Y,ne,oe){var le;for(le=3;0<le;--le)Cr(S,_+=4*P,P,1,16,Y,ne,oe)}function Cs(S,_,P,Y,ne,oe){var le;for(le=3;0<le;--le)Cr(S,_+=4,1,P,16,Y,ne,oe)}function Zd(S,_,P,Y,ne,oe,le,fe){Ar(S,_,ne,1,8,oe,le,fe),Ar(P,Y,ne,1,8,oe,le,fe)}function fl(S,_,P,Y,ne,oe,le,fe){Ar(S,_,1,ne,8,oe,le,fe),Ar(P,Y,1,ne,8,oe,le,fe)}function To(S,_,P,Y,ne,oe,le,fe){Cr(S,_+4*ne,ne,1,8,oe,le,fe),Cr(P,Y+4*ne,ne,1,8,oe,le,fe)}function Tp(S,_,P,Y,ne,oe,le,fe){Cr(S,_+4,1,ne,8,oe,le,fe),Cr(P,Y+4,1,ne,8,oe,le,fe)}function Jd(){this.ba=new Qr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Mn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function bh(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function yh(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ef(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new T,this.yc=new O}function wm(){this.xb=this.a=0,this.l=new io,this.ca=new Qr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ef,this.ab=0,this.gc=s(4,yh),this.Oc=0}function tf(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new io,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Kc(S,_,P,Y,ne,oe,le){for(S=S==null?0:S[_+0],_=0;_<le;++_)ne[oe+_]=S+P[Y+_]&255,S=ne[oe+_]}function nf(S,_,P,Y,ne,oe,le){var fe;if(S==null)Kc(null,null,P,Y,ne,oe,le);else for(fe=0;fe<le;++fe)ne[oe+fe]=S[_+fe]+P[Y+fe]&255}function qu(S,_,P,Y,ne,oe,le){if(S==null)Kc(null,null,P,Y,ne,oe,le);else{var fe,be=S[_+0],Ae=be,Re=be;for(fe=0;fe<le;++fe)Ae=Re+(be=S[_+fe])-Ae,Re=P[Y+fe]+(-256&Ae?0>Ae?0:255:Ae)&255,Ae=be,ne[oe+fe]=Re}}function xh(S,_,P,Y){var ne=_.width,oe=_.o;if(n(S!=null&&_!=null),0>P||0>=Y||P+Y>oe)return null;if(!S.Cc){if(S.ga==null){var le;if(S.ga=new tf,(le=S.ga==null)||(le=_.width*_.o,n(S.Gb.length==0),S.Gb=a(le),S.Uc=0,S.Gb==null?le=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,le=1),le=!le),!le){le=S.ga;var fe=S.Fa,be=S.P,Ae=S.qc,Re=S.mb,Qe=S.nb,Ye=be+1,Be=Ae-1,yt=le.l;if(n(fe!=null&&Re!=null&&_!=null),bl[0]=null,bl[1]=Kc,bl[2]=nf,bl[3]=qu,le.ca=Re,le.tb=Qe,le.c=_.width,le.i=_.height,n(0<le.c&&0<le.i),1>=Ae)_=0;else if(le.$a=fe[be+0]>>0&3,le.Z=fe[be+0]>>2&3,le.Lc=fe[be+0]>>4&3,be=fe[be+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||be)_=0;else if(yt.put=li,yt.ac=Sr,yt.bc=va,yt.ma=le,yt.width=_.width,yt.height=_.height,yt.Da=_.Da,yt.v=_.v,yt.va=_.va,yt.j=_.j,yt.o=_.o,le.$a)e:{n(le.$a==1),_=Ci();t:for(;;){if(_==null){_=0;break e}if(n(le!=null),le.mc=_,_.c=le.c,_.i=le.i,_.l=le.l,_.l.ma=le,_.l.width=le.c,_.l.height=le.i,_.a=0,ie(_.m,fe,Ye,Be),!tr(le.c,le.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&jr(_.s)?(le.ic=1,fe=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(fe),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(le.ic=0,_=ro(_,le.c)),!_))break t;_=1;break e}le.mc=null,_=0}else _=Be>=le.c*le.i;le=!_}if(le)return null;S.ga.Lc!=1?S.Ga=0:Y=oe-P}n(S.ga!=null),n(P+Y<=oe);e:{if(_=(fe=S.ga).c,oe=fe.l.o,fe.$a==0){if(Ye=S.rc,Be=S.Vc,yt=S.Fa,be=S.P+1+P*_,Ae=S.mb,Re=S.nb+P*_,n(be<=S.P+S.qc),fe.Z!=0)for(n(bl[fe.Z]!=null),le=0;le<Y;++le)bl[fe.Z](Ye,Be,yt,be,Ae,Re,_),Ye=Ae,Be=Re,Re+=_,be+=_;else for(le=0;le<Y;++le)r(Ae,Re,yt,be,_),Ye=Ae,Be=Re,Re+=_,be+=_;S.rc=Ye,S.Vc=Be}else{if(n(fe.mc!=null),_=P+Y,n((le=fe.mc)!=null),n(_<=le.i),le.C>=_)_=1;else if(fe.ic||Ve(),fe.ic){fe=le.V,Ye=le.Ba,Be=le.c;var rt=le.i,Fe=(yt=1,be=le.$/Be,Ae=le.$%Be,Re=le.m,Qe=le.s,le.$),qe=Be*rt,pt=Be*_,vt=Qe.wc,gt=Fe<pt?fr(Qe,Ae,be):null;n(Fe<=qe),n(_<=rt),n(jr(Qe));t:for(;;){for(;!Re.h&&Fe<pt;){if(Ae&vt||(gt=fr(Qe,Ae,be)),n(gt!=null),se(Re),256>(rt=Mr(gt.G[0],gt.H[0],Re)))fe[Ye+Fe]=rt,++Fe,++Ae>=Be&&(Ae=0,++be<=_&&!(be%16)&&zi(le,be));else{if(!(280>rt)){yt=0;break t}rt=Wn(rt-256,Re);var Ot,jt=Mr(gt.G[4],gt.H[4],Re);if(se(Re),!(Fe>=(jt=sr(Be,jt=Wn(jt,Re)))&&qe-Fe>=rt)){yt=0;break t}for(Ot=0;Ot<rt;++Ot)fe[Ye+Fe+Ot]=fe[Ye+Fe+Ot-jt];for(Fe+=rt,Ae+=rt;Ae>=Be;)Ae-=Be,++be<=_&&!(be%16)&&zi(le,be);Fe<pt&&Ae&vt&&(gt=fr(Qe,Ae,be))}n(Re.h==Z(Re))}zi(le,be>_?_:be);break t}!yt||Re.h&&Fe<qe?(yt=0,le.a=Re.h?5:3):le.$=Fe,_=yt}else _=qi(le,le.V,le.Ba,le.c,le.i,_,Eo);if(!_){Y=0;break e}}P+Y>=oe&&(S.Cc=1),Y=1}if(!Y)return null;if(S.Cc&&((Y=S.ga)!=null&&(Y.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+P*ne}function D(S,_,P,Y,ne,oe){for(;0<ne--;){var le,fe=S,be=_+(P?1:0),Ae=S,Re=_+(P?0:3);for(le=0;le<Y;++le){var Qe=Ae[Re+4*le];Qe!=255&&(Qe*=32897,fe[be+4*le+0]=fe[be+4*le+0]*Qe>>23,fe[be+4*le+1]=fe[be+4*le+1]*Qe>>23,fe[be+4*le+2]=fe[be+4*le+2]*Qe>>23)}_+=oe}}function re(S,_,P,Y,ne){for(;0<Y--;){var oe;for(oe=0;oe<P;++oe){var le=S[_+2*oe+0],fe=15&(Ae=S[_+2*oe+1]),be=4369*fe,Ae=(240&Ae|Ae>>4)*be>>16;S[_+2*oe+0]=(240&le|le>>4)*be>>16&240|(15&le|le<<4)*be>>16>>4&15,S[_+2*oe+1]=240&Ae|fe}_+=ne}}function Ee(S,_,P,Y,ne,oe,le,fe){var be,Ae,Re=255;for(Ae=0;Ae<ne;++Ae){for(be=0;be<Y;++be){var Qe=S[_+be];oe[le+4*be]=Qe,Re&=Qe}_+=P,le+=fe}return Re!=255}function De(S,_,P,Y,ne){var oe;for(oe=0;oe<ne;++oe)P[Y+oe]=S[_+oe]>>8}function Ve(){Ks=D,Ln=re,Rn=Ee,zr=De}function ct(S,_,P){L[S]=function(Y,ne,oe,le,fe,be,Ae,Re,Qe,Ye,Be,yt,rt,Fe,qe,pt,vt){var gt,Ot=vt-1>>1,jt=fe[be+0]|Ae[Re+0]<<16,Yt=Qe[Ye+0]|Be[yt+0]<<16;n(Y!=null);var Nt=3*jt+Yt+131074>>2;for(_(Y[ne+0],255&Nt,Nt>>16,rt,Fe),oe!=null&&(Nt=3*Yt+jt+131074>>2,_(oe[le+0],255&Nt,Nt>>16,qe,pt)),gt=1;gt<=Ot;++gt){var Yn=fe[be+gt]|Ae[Re+gt]<<16,or=Qe[Ye+gt]|Be[yt+gt]<<16,In=jt+Yn+Yt+or+524296,On=In+2*(Yn+Yt)>>3;Nt=On+jt>>1,jt=(In=In+2*(jt+or)>>3)+Yn>>1,_(Y[ne+2*gt-1],255&Nt,Nt>>16,rt,Fe+(2*gt-1)*P),_(Y[ne+2*gt-0],255&jt,jt>>16,rt,Fe+(2*gt-0)*P),oe!=null&&(Nt=In+Yt>>1,jt=On+or>>1,_(oe[le+2*gt-1],255&Nt,Nt>>16,qe,pt+(2*gt-1)*P),_(oe[le+2*gt+0],255&jt,jt>>16,qe,pt+(2*gt+0)*P)),jt=Yn,Yt=or}1&vt||(Nt=3*jt+Yt+131074>>2,_(Y[ne+vt-1],255&Nt,Nt>>16,rt,Fe+(vt-1)*P),oe!=null&&(Nt=3*Yt+jt+131074>>2,_(oe[le+vt-1],255&Nt,Nt>>16,qe,pt+(vt-1)*P)))}}function Ct(){Ea[Wa]=ru,Ea[uf]=yl,Ea[ml]=ec,Ea[Ah]=Rp,Ea[id]=Mp,Ea[Zl]=ff,Ea[Dp]=Fp,Ea[Ch]=yl,Ea[Zu]=Rp,Ea[Jl]=Mp,Ea[cf]=ff}function Tt(S){return S&-16384?0>S?0:255:S>>p2}function Ut(S,_){return Tt((19077*S>>8)+(26149*_>>8)-14234)}function vn(S,_,P){return Tt((19077*S>>8)-(6419*_>>8)-(13320*P>>8)+8708)}function pn(S,_){return Tt((19077*S>>8)+(33050*_>>8)-17685)}function Bn(S,_,P,Y,ne){Y[ne+0]=Ut(S,P),Y[ne+1]=vn(S,_,P),Y[ne+2]=pn(S,_)}function ti(S,_,P,Y,ne){Y[ne+0]=pn(S,_),Y[ne+1]=vn(S,_,P),Y[ne+2]=Ut(S,P)}function ci(S,_,P,Y,ne){var oe=vn(S,_,P);_=oe<<3&224|pn(S,_)>>3,Y[ne+0]=248&Ut(S,P)|oe>>5,Y[ne+1]=_}function _i(S,_,P,Y,ne){var oe=240&pn(S,_)|15;Y[ne+0]=240&Ut(S,P)|vn(S,_,P)>>4,Y[ne+1]=oe}function ki(S,_,P,Y,ne){Y[ne+0]=255,Bn(S,_,P,Y,ne+1)}function Sa(S,_,P,Y,ne){ti(S,_,P,Y,ne),Y[ne+3]=255}function Oo(S,_,P,Y,ne){Bn(S,_,P,Y,ne),Y[ne+3]=255}function Qs(S,_){return 0>S?0:S>_?_:S}function Io(S,_,P){L[S]=function(Y,ne,oe,le,fe,be,Ae,Re,Qe){for(var Ye=Re+(-2&Qe)*P;Re!=Ye;)_(Y[ne+0],oe[le+0],fe[be+0],Ae,Re),_(Y[ne+1],oe[le+0],fe[be+0],Ae,Re+P),ne+=2,++le,++be,Re+=2*P;1&Qe&&_(Y[ne+0],oe[le+0],fe[be+0],Ae,Re)}}function vh(S,_,P){return P==0?S==0?_==0?6:5:_==0?4:0:P}function Yl(S,_,P,Y,ne){switch(S>>>30){case 3:Lo(_,P,Y,ne,0);break;case 2:gi(_,P,Y,ne);break;case 1:Ui(_,P,Y,ne)}}function Gl(S,_){var P,Y,ne=_.M,oe=_.Nb,le=S.oc,fe=S.pc+40,be=S.oc,Ae=S.pc+584,Re=S.oc,Qe=S.pc+600;for(P=0;16>P;++P)le[fe+32*P-1]=129;for(P=0;8>P;++P)be[Ae+32*P-1]=129,Re[Qe+32*P-1]=129;for(0<ne?le[fe-1-32]=be[Ae-1-32]=Re[Qe-1-32]=129:(i(le,fe-32-1,127,21),i(be,Ae-32-1,127,9),i(Re,Qe-32-1,127,9)),Y=0;Y<S.za;++Y){var Ye=_.ya[_.aa+Y];if(0<Y){for(P=-1;16>P;++P)r(le,fe+32*P-4,le,fe+32*P+12,4);for(P=-1;8>P;++P)r(be,Ae+32*P-4,be,Ae+32*P+4,4),r(Re,Qe+32*P-4,Re,Qe+32*P+4,4)}var Be=S.Gd,yt=S.Hd+Y,rt=Ye.ad,Fe=Ye.Hc;if(0<ne&&(r(le,fe-32,Be[yt].y,0,16),r(be,Ae-32,Be[yt].f,0,8),r(Re,Qe-32,Be[yt].ea,0,8)),Ye.Za){var qe=le,pt=fe-32+16;for(0<ne&&(Y>=S.za-1?i(qe,pt,Be[yt].y[15],4):r(qe,pt,Be[yt+1].y,0,4)),P=0;4>P;P++)qe[pt+128+P]=qe[pt+256+P]=qe[pt+384+P]=qe[pt+0+P];for(P=0;16>P;++P,Fe<<=2)qe=le,pt=fe+ld[P],ls[Ye.Ob[P]](qe,pt),Yl(Fe,rt,16*+P,qe,pt)}else if(qe=vh(Y,ne,Ye.Ob[0]),nu[qe](le,fe),Fe!=0)for(P=0;16>P;++P,Fe<<=2)Yl(Fe,rt,16*+P,le,fe+ld[P]);for(P=Ye.Gc,qe=vh(Y,ne,Ye.Dd),Zs[qe](be,Ae),Zs[qe](Re,Qe),Fe=rt,qe=be,pt=Ae,255&(Ye=P>>0)&&(170&Ye?Ro(Fe,256,qe,pt):ks(Fe,256,qe,pt)),Ye=Re,Fe=Qe,255&(P>>=8)&&(170&P?Ro(rt,320,Ye,Fe):ks(rt,320,Ye,Fe)),ne<S.Ub-1&&(r(Be[yt].y,0,le,fe+480,16),r(Be[yt].f,0,be,Ae+224,8),r(Be[yt].ea,0,Re,Qe+224,8)),P=8*oe*S.B,Be=S.sa,yt=S.ta+16*Y+16*oe*S.R,rt=S.qa,Ye=S.ra+8*Y+P,Fe=S.Ha,qe=S.Ia+8*Y+P,P=0;16>P;++P)r(Be,yt+P*S.R,le,fe+32*P,16);for(P=0;8>P;++P)r(rt,Ye+P*S.B,be,Ae+32*P,8),r(Fe,qe+P*S.B,Re,Qe+32*P,8)}}function rf(S,_,P,Y,ne,oe,le,fe,be){var Ae=[0],Re=[0],Qe=0,Ye=be!=null?be.kd:0,Be=be??new bh;if(S==null||12>P)return 7;Be.data=S,Be.w=_,Be.ha=P,_=[_],P=[P],Be.gb=[Be.gb];e:{var yt=_,rt=P,Fe=Be.gb;if(n(S!=null),n(rt!=null),n(Fe!=null),Fe[0]=0,12<=rt[0]&&!t(S,yt[0],"RIFF")){if(t(S,yt[0]+8,"WEBP")){Fe=3;break e}var qe=We(S,yt[0]+4);if(12>qe||4294967286<qe){Fe=3;break e}if(Ye&&qe>rt[0]-8){Fe=7;break e}Fe[0]=qe,yt[0]+=12,rt[0]-=12}Fe=0}if(Fe!=0)return Fe;for(qe=0<Be.gb[0],P=P[0];;){e:{var pt=S;rt=_,Fe=P;var vt=Ae,gt=Re,Ot=yt=[0];if((Nt=Qe=[Qe])[0]=0,8>Fe[0])Fe=7;else{if(!t(pt,rt[0],"VP8X")){if(We(pt,rt[0]+4)!=10){Fe=3;break e}if(18>Fe[0]){Fe=7;break e}var jt=We(pt,rt[0]+8),Yt=1+He(pt,rt[0]+12);if(2147483648<=Yt*(pt=1+He(pt,rt[0]+15))){Fe=3;break e}Ot!=null&&(Ot[0]=jt),vt!=null&&(vt[0]=Yt),gt!=null&&(gt[0]=pt),rt[0]+=18,Fe[0]-=18,Nt[0]=1}Fe=0}}if(Qe=Qe[0],yt=yt[0],Fe!=0)return Fe;if(rt=!!(2&yt),!qe&&Qe)return 3;if(oe!=null&&(oe[0]=!!(16&yt)),le!=null&&(le[0]=rt),fe!=null&&(fe[0]=0),le=Ae[0],yt=Re[0],Qe&&rt&&be==null){Fe=0;break}if(4>P){Fe=7;break}if(qe&&Qe||!qe&&!Qe&&!t(S,_[0],"ALPH")){P=[P],Be.na=[Be.na],Be.P=[Be.P],Be.Sa=[Be.Sa];e:{jt=S,Fe=_,qe=P;var Nt=Be.gb;vt=Be.na,gt=Be.P,Ot=Be.Sa,Yt=22,n(jt!=null),n(qe!=null),pt=Fe[0];var Yn=qe[0];for(n(vt!=null),n(Ot!=null),vt[0]=null,gt[0]=null,Ot[0]=0;;){if(Fe[0]=pt,qe[0]=Yn,8>Yn){Fe=7;break e}var or=We(jt,pt+4);if(4294967286<or){Fe=3;break e}var In=8+or+1&-2;if(Yt+=In,0<Nt&&Yt>Nt){Fe=3;break e}if(!t(jt,pt,"VP8 ")||!t(jt,pt,"VP8L")){Fe=0;break e}if(Yn[0]<In){Fe=7;break e}t(jt,pt,"ALPH")||(vt[0]=jt,gt[0]=pt+8,Ot[0]=or),pt+=In,Yn-=In}}if(P=P[0],Be.na=Be.na[0],Be.P=Be.P[0],Be.Sa=Be.Sa[0],Fe!=0)break}P=[P],Be.Ja=[Be.Ja],Be.xa=[Be.xa];e:if(Nt=S,Fe=_,qe=P,vt=Be.gb[0],gt=Be.Ja,Ot=Be.xa,jt=Fe[0],pt=!t(Nt,jt,"VP8 "),Yt=!t(Nt,jt,"VP8L"),n(Nt!=null),n(qe!=null),n(gt!=null),n(Ot!=null),8>qe[0])Fe=7;else{if(pt||Yt){if(Nt=We(Nt,jt+4),12<=vt&&Nt>vt-12){Fe=3;break e}if(Ye&&Nt>qe[0]-8){Fe=7;break e}gt[0]=Nt,Fe[0]+=8,qe[0]-=8,Ot[0]=Yt}else Ot[0]=5<=qe[0]&&Nt[jt+0]==47&&!(Nt[jt+4]>>5),gt[0]=qe[0];Fe=0}if(P=P[0],Be.Ja=Be.Ja[0],Be.xa=Be.xa[0],_=_[0],Fe!=0)break;if(4294967286<Be.Ja)return 3;if(fe==null||rt||(fe[0]=Be.xa?2:1),le=[le],yt=[yt],Be.xa){if(5>P){Fe=7;break}fe=le,Ye=yt,rt=oe,S==null||5>P?S=0:5<=P&&S[_+0]==47&&!(S[_+4]>>5)?(qe=[0],Nt=[0],vt=[0],ie(gt=new U,S,_,P),Dt(gt,qe,Nt,vt)?(fe!=null&&(fe[0]=qe[0]),Ye!=null&&(Ye[0]=Nt[0]),rt!=null&&(rt[0]=vt[0]),S=1):S=0):S=0}else{if(10>P){Fe=7;break}fe=yt,S==null||10>P||!ta(S,_+3,P-3)?S=0:(Ye=S[_+0]|S[_+1]<<8|S[_+2]<<16,rt=16383&(S[_+7]<<8|S[_+6]),S=16383&(S[_+9]<<8|S[_+8]),1&Ye||3<(Ye>>1&7)||!(Ye>>4&1)||Ye>>5>=Be.Ja||!rt||!S?S=0:(le&&(le[0]=rt),fe&&(fe[0]=S),S=1))}if(!S||(le=le[0],yt=yt[0],Qe&&(Ae[0]!=le||Re[0]!=yt)))return 3;be!=null&&(be[0]=Be,be.offset=_-be.w,n(4294967286>_-be.w),n(be.offset==be.ha-P));break}return Fe==0||Fe==7&&Qe&&be==null?(oe!=null&&(oe[0]|=Be.na!=null&&0<Be.na.length),Y!=null&&(Y[0]=le),ne!=null&&(ne[0]=yt),0):Fe}function Bu(S,_,P){var Y=_.width,ne=_.height,oe=0,le=0,fe=Y,be=ne;if(_.Da=S!=null&&0<S.Da,_.Da&&(fe=S.cd,be=S.bd,oe=S.v,le=S.j,11>P||(oe&=-2,le&=-2),0>oe||0>le||0>=fe||0>=be||oe+fe>Y||le+be>ne))return 0;if(_.v=oe,_.j=le,_.va=oe+fe,_.o=le+be,_.U=fe,_.T=be,_.da=S!=null&&0<S.da,_.da){if(!ge(fe,be,P=[S.ib],oe=[S.hb]))return 0;_.ib=P[0],_.hb=oe[0]}return _.ob=S!=null&&S.ob,_.Kb=S==null||!S.Sd,_.da&&(_.ob=_.ib<3*Y/4&&_.hb<3*ne/4,_.Kb=0),1}function af(S){if(S==null)return 2;if(11>S.S){var _=S.f.RGBA;_.fb+=(S.height-1)*_.A,_.A=-_.A}else _=S.f.kb,S=S.height,_.O+=(S-1)*_.fa,_.fa=-_.fa,_.N+=(S-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(S-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(S-1)*_.lb,_.lb=-_.lb);return 0}function Xc(S,_,P,Y){if(Y==null||0>=S||0>=_)return 2;if(P!=null){if(P.Da){var ne=P.cd,oe=P.bd,le=-2&P.v,fe=-2&P.j;if(0>le||0>fe||0>=ne||0>=oe||le+ne>S||fe+oe>_)return 2;S=ne,_=oe}if(P.da){if(!ge(S,_,ne=[P.ib],oe=[P.hb]))return 2;S=ne[0],_=oe[0]}}Y.width=S,Y.height=_;e:{var be=Y.width,Ae=Y.height;if(S=Y.S,0>=be||0>=Ae||!(S>=Wa&&13>S))S=2;else{if(0>=Y.Rd&&Y.sd==null){le=oe=ne=_=0;var Re=(fe=be*vb[S])*Ae;if(11>S||(oe=(Ae+1)/2*(_=(be+1)/2),S==12&&(le=(ne=be)*Ae)),(Ae=a(Re+2*oe+le))==null){S=1;break e}Y.sd=Ae,11>S?((be=Y.f.RGBA).eb=Ae,be.fb=0,be.A=fe,be.size=Re):((be=Y.f.kb).y=Ae,be.O=0,be.fa=fe,be.Fd=Re,be.f=Ae,be.N=0+Re,be.Ab=_,be.Cd=oe,be.ea=Ae,be.W=0+Re+oe,be.Db=_,be.Ed=oe,S==12&&(be.F=Ae,be.J=0+Re+2*oe),be.Tc=le,be.lb=ne)}if(_=1,ne=Y.S,oe=Y.width,le=Y.height,ne>=Wa&&13>ne)if(11>ne)S=Y.f.RGBA,_&=(fe=Math.abs(S.A))*(le-1)+oe<=S.size,_&=fe>=oe*vb[ne],_&=S.eb!=null;else{S=Y.f.kb,fe=(oe+1)/2,Re=(le+1)/2,be=Math.abs(S.fa),Ae=Math.abs(S.Ab);var Qe=Math.abs(S.Db),Ye=Math.abs(S.lb),Be=Ye*(le-1)+oe;_&=be*(le-1)+oe<=S.Fd,_&=Ae*(Re-1)+fe<=S.Cd,_=(_&=Qe*(Re-1)+fe<=S.Ed)&be>=oe&Ae>=fe&Qe>=fe,_&=S.y!=null,_&=S.f!=null,_&=S.ea!=null,ne==12&&(_&=Ye>=oe,_&=Be<=S.Tc,_&=S.F!=null)}else _=0;S=_?0:2}}return S!=0||P!=null&&P.fd&&(S=af(Y)),S}var ra=64,Uu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zc=24,Jc=32,sf=8,Es=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(S){return S},L.Predictor2=function(S,_,P){return _[P+0]},L.Predictor3=function(S,_,P){return _[P+1]},L.Predictor4=function(S,_,P){return _[P-1]},L.Predictor5=function(S,_,P){return ke(ke(S,_[P+1]),_[P+0])},L.Predictor6=function(S,_,P){return ke(S,_[P-1])},L.Predictor7=function(S,_,P){return ke(S,_[P+0])},L.Predictor8=function(S,_,P){return ke(_[P-1],_[P+0])},L.Predictor9=function(S,_,P){return ke(_[P+0],_[P+1])},L.Predictor10=function(S,_,P){return ke(ke(S,_[P-1]),ke(_[P+0],_[P+1]))},L.Predictor11=function(S,_,P){var Y=_[P+0];return 0>=tt(Y>>24&255,S>>24&255,(_=_[P-1])>>24&255)+tt(Y>>16&255,S>>16&255,_>>16&255)+tt(Y>>8&255,S>>8&255,_>>8&255)+tt(255&Y,255&S,255&_)?Y:S},L.Predictor12=function(S,_,P){var Y=_[P+0];return(Ke((S>>24&255)+(Y>>24&255)-((_=_[P-1])>>24&255))<<24|Ke((S>>16&255)+(Y>>16&255)-(_>>16&255))<<16|Ke((S>>8&255)+(Y>>8&255)-(_>>8&255))<<8|Ke((255&S)+(255&Y)-(255&_)))>>>0},L.Predictor13=function(S,_,P){var Y=_[P-1];return(lt((S=ke(S,_[P+0]))>>24&255,Y>>24&255)<<24|lt(S>>16&255,Y>>16&255)<<16|lt(S>>8&255,Y>>8&255)<<8|lt(S>>0&255,Y>>0&255))>>>0};var Sm=L.PredictorAdd0;L.PredictorAdd1=Me,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var wh=L.PredictorAdd2;ft("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var Op,lo=L.ColorIndexInverseTransform,Aa=L.MapARGB,$u=L.VP8LColorIndexInverseTransformAlpha,Sh=L.MapAlpha,Ql=L.VP8LPredictorsAdd=[];Ql.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Hu,os,La,Wu,_s,Do,hl,Lo,gi,Ro,Ui,ks,ed,pl,of,Vu,Yu,Gu,td,lf,Qu,Kl,nd,bi,Ks,Ln,Rn,zr,ji=a(511),uo=a(2041),Ku=a(225),Xu=a(767),Xl=0,Ip=uo,rd=Ku,Ca=Xu,co=ji,Wa=0,uf=1,ml=2,Ah=3,id=4,Zl=5,Dp=6,Ch=7,Zu=8,Jl=9,cf=10,Lp=[2,3,7],fo=[3,3,11],Xs=[280,256,256,256,40],ad=[0,1,1,1,0],eu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],tu=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],sd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],mb=8,Eh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_h=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ia=null,yi=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],nr=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ju=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],gl=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Am=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],od=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],gb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],nu=[],ls=[],Zs=[],bb=1,df=2,bl=[],Ea=[];ct("UpsampleRgbLinePair",Bn,3),ct("UpsampleBgrLinePair",ti,3),ct("UpsampleRgbaLinePair",Oo,4),ct("UpsampleBgraLinePair",Sa,4),ct("UpsampleArgbLinePair",ki,4),ct("UpsampleRgba4444LinePair",_i,2),ct("UpsampleRgb565LinePair",ci,2);var ru=L.UpsampleRgbLinePair,ec=L.UpsampleBgrLinePair,yl=L.UpsampleRgbaLinePair,Rp=L.UpsampleBgraLinePair,Mp=L.UpsampleArgbLinePair,ff=L.UpsampleRgba4444LinePair,Fp=L.UpsampleRgb565LinePair,xl=16,aa=1<<xl-1,tc=-227,Pp=482,p2=6,yb=0,m2=a(256),sa=a(256),Cm=a(256),kh=a(256),jh=a(Pp-tc),Em=a(Pp-tc);Io("YuvToRgbRow",Bn,3),Io("YuvToBgrRow",ti,3),Io("YuvToRgbaRow",Oo,4),Io("YuvToBgraRow",Sa,4),Io("YuvToArgbRow",ki,4),Io("YuvToRgba4444Row",_i,2),Io("YuvToRgb565Row",ci,2);var ld=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],iu=[0,2,8],g2=[8,7,6,4,4,2,2,2,1,1,1,1],xb=1;this.WebPDecodeRGBA=function(S,_,P,Y,ne){var oe=uf,le=new Jd,fe=new Qr;le.ba=fe,fe.S=oe,fe.width=[fe.width],fe.height=[fe.height];var be=fe.width,Ae=fe.height,Re=new ar;if(Re==null||S==null)var Qe=2;else n(Re!=null),Qe=rf(S,_,P,Re.width,Re.height,Re.Pd,Re.Qd,Re.format,null);if(Qe!=0?be=0:(be!=null&&(be[0]=Re.width[0]),Ae!=null&&(Ae[0]=Re.height[0]),be=1),be){fe.width=fe.width[0],fe.height=fe.height[0],Y!=null&&(Y[0]=fe.width),ne!=null&&(ne[0]=fe.height);e:{if(Y=new io,(ne=new bh).data=S,ne.w=_,ne.ha=P,ne.kd=1,_=[0],n(ne!=null),((S=rf(ne.data,ne.w,ne.ha,null,null,null,_,null,ne))==0||S==7)&&_[0]&&(S=4),(_=S)==0){if(n(le!=null),Y.data=ne.data,Y.w=ne.w+ne.offset,Y.ha=ne.ha-ne.offset,Y.put=li,Y.ac=Sr,Y.bc=va,Y.ma=le,ne.xa){if((S=Ci())==null){le=1;break e}if(function(Ye,Be){var yt=[0],rt=[0],Fe=[0];t:for(;;){if(Ye==null)return 0;if(Be==null)return Ye.a=2,0;if(Ye.l=Be,Ye.a=0,ie(Ye.m,Be.data,Be.w,Be.ha),!Dt(Ye.m,yt,rt,Fe)){Ye.a=3;break t}if(Ye.xb=df,Be.width=yt[0],Be.height=rt[0],!tr(yt[0],rt[0],1,Ye,null))break t;return 1}return n(Ye.a!=0),0}(S,Y)){if(Y=(_=Xc(Y.width,Y.height,le.Oa,le.ba))==0){t:{Y=S;n:for(;;){if(Y==null){Y=0;break t}if(n(Y.s.yc!=null),n(Y.s.Ya!=null),n(0<Y.s.Wb),n((P=Y.l)!=null),n((ne=P.ma)!=null),Y.xb!=0){if(Y.ca=ne.ba,Y.tb=ne.tb,n(Y.ca!=null),!Bu(ne.Oa,P,Ah)){Y.a=2;break n}if(!ro(Y,P.width)||P.da)break n;if((P.da||un(Y.ca.S))&&Ve(),11>Y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Y.ca.f.kb.F!=null&&Ve()),Y.Pb&&0<Y.s.ua&&Y.s.vb.X==null&&!V(Y.s.vb,Y.s.Wa.Xa)){Y.a=1;break n}Y.xb=0}if(!qi(Y,Y.V,Y.Ba,Y.c,Y.i,P.o,ys))break n;ne.Dc=Y.Ma,Y=1;break t}n(Y.a!=0),Y=0}Y=!Y}Y&&(_=S.a)}else _=S.a}else{if((S=new Qc)==null){le=1;break e}if(S.Fa=ne.na,S.P=ne.P,S.qc=ne.Sa,ao(S,Y)){if((_=Xc(Y.width,Y.height,le.Oa,le.ba))==0){if(S.Aa=0,P=le.Oa,n((ne=S)!=null),P!=null){if(0<(be=0>(be=P.Md)?0:100<be?255:255*be/100)){for(Ae=Re=0;4>Ae;++Ae)12>(Qe=ne.pb[Ae]).lc&&(Qe.ia=be*g2[0>Qe.lc?0:Qe.lc]>>3),Re|=Qe.ia;Re&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=P.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}Wl(S,Y)||(_=S.a)}}else _=S.a}_==0&&le.Oa!=null&&le.Oa.fd&&(_=af(le.ba))}le=_}oe=le!=0?null:11>oe?fe.f.RGBA.eb:fe.f.kb.y}else oe=null;return oe};var vb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(L,B){for(var Q="",j=0;j<4;j++)Q+=String.fromCharCode(L[B++]);return Q}function h(L,B){return(L[B+0]<<0|L[B+1]<<8|L[B+2]<<16)>>>0}function g(L,B){return(L[B+0]<<0|L[B+1]<<8|L[B+2]<<16|L[B+3]<<24)>>>0}new c;var b=[0],m=[0],x=[],y=new c,A=e,w=function(L,B){var Q={},j=0,O=!1,z=0,T=0;if(Q.frames=[],!function(q,Z,ee,se){for(var we=0;we<se;we++)if(q[Z+we]!=ee.charCodeAt(we))return!0;return!1}(L,B,"RIFF",4)){for(g(L,B+=4),B+=8;B<L.length;){var G=d(L,B),W=g(L,B+=4);B+=4;var X=W+(1&W);switch(G){case"VP8 ":case"VP8L":Q.frames[j]===void 0&&(Q.frames[j]={}),($=Q.frames[j]).src_off=O?T:B-8,$.src_size=z+W+8,j++,O&&(O=!1,z=0,T=0);break;case"VP8X":($=Q.header={}).feature_flags=L[B];var ie=B+4;$.canvas_width=1+h(L,ie),ie+=3,$.canvas_height=1+h(L,ie),ie+=3;break;case"ALPH":O=!0,z=X+8,T=B-8;break;case"ANIM":($=Q.header).bgcolor=g(L,B),ie=B+4,$.loop_count=(ae=L)[(U=ie)+0]<<0|ae[U+1]<<8,ie+=2;break;case"ANMF":var ue,$;($=Q.frames[j]={}).offset_x=2*h(L,B),B+=3,$.offset_y=2*h(L,B),B+=3,$.width=1+h(L,B),B+=3,$.height=1+h(L,B),B+=3,$.duration=h(L,B),B+=3,ue=L[B++],$.dispose=1&ue,$.blend=ue>>1&1}G!="ANMF"&&(B+=X)}var ae,U;return Q}}(A,0);w.response=A,w.rgbaoutput=!0,w.dataurl=!1;var C=w.header?w.header:null,N=w.frames?w.frames:null;if(C){C.loop_counter=C.loop_count,b=[C.canvas_height],m=[C.canvas_width];for(var F=0;F<N.length&&N[F].blend!=0;F++);}var R=N[0],M=y.WebPDecodeRGBA(A,R.src_off,R.src_size,m,b);R.rgba=M,R.imgwidth=m[0],R.imgheight=b[0];for(var k=0;k<m[0]*b[0]*4;k++)x[k]=M[k];return this.width=m,this.height=b,this.data=x,this}(function(e){var n=function(){return typeof NS=="function"},t=function(b,m,x,y){var A=4,w=s;switch(y){case e.image_compression.FAST:A=1,w=a;break;case e.image_compression.MEDIUM:A=6,w=l;break;case e.image_compression.SLOW:A=9,w=c}b=r(b,m,x,w);var C=NS(b,{level:A});return e.__addimage__.arrayBufferToBinaryString(C)},r=function(b,m,x,y){for(var A,w,C,N=b.length/m,F=new Uint8Array(b.length+N),R=h(),M=0;M<N;M+=1){if(C=M*m,A=b.subarray(C,C+m),y)F.set(y(A,x,w),C+M);else{for(var k,L=R.length,B=[];k<L;k+=1)B[k]=R[k](A,x,w);var Q=g(B.concat());F.set(B[Q],C+M)}w=A}return F},i=function(b){var m=Array.apply([],b);return m.unshift(0),m},a=function(b,m){var x,y=[],A=b.length;y[0]=1;for(var w=0;w<A;w+=1)x=b[w-m]||0,y[w+1]=b[w]-x+256&255;return y},s=function(b,m,x){var y,A=[],w=b.length;A[0]=2;for(var C=0;C<w;C+=1)y=x&&x[C]||0,A[C+1]=b[C]-y+256&255;return A},l=function(b,m,x){var y,A,w=[],C=b.length;w[0]=3;for(var N=0;N<C;N+=1)y=b[N-m]||0,A=x&&x[N]||0,w[N+1]=b[N]+256-(y+A>>>1)&255;return w},c=function(b,m,x){var y,A,w,C,N=[],F=b.length;N[0]=4;for(var R=0;R<F;R+=1)y=b[R-m]||0,A=x&&x[R]||0,w=x&&x[R-m]||0,C=d(y,A,w),N[R+1]=b[R]-C+256&255;return N},d=function(b,m,x){if(b===m&&m===x)return b;var y=Math.abs(m-x),A=Math.abs(b-x),w=Math.abs(b+m-x-x);return y<=A&&y<=w?b:A<=w?m:x},h=function(){return[i,a,s,l,c]},g=function(b){var m=b.map(function(x){return x.reduce(function(y,A){return y+Math.abs(A)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(b,m,x,y){var A,w,C,N,F,R,M,k,L,B,Q,j,O,z,T,G=this.decode.FLATE_DECODE,W="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(C=new JQ(b)).imgData,w=C.bits,A=C.colorSpace,F=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){L=(k=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,Q=new Uint8Array(L*C.colors),B=new Uint8Array(L);var X,ie=C.pixelBitlength-C.bits;for(z=0,T=0;z<L;z++){for(O=k[z],X=0;X<ie;)Q[T++]=O>>>X&255,X+=C.bits;B[z]=O>>>X&255}}if(C.bits===16){L=(k=new Uint32Array(C.decodePixels().buffer)).length,Q=new Uint8Array(L*(32/C.pixelBitlength)*C.colors),B=new Uint8Array(L*(32/C.pixelBitlength)),j=C.colors>1,z=0,T=0;for(var ue=0;z<L;)O=k[z++],Q[T++]=O>>>0&255,j&&(Q[T++]=O>>>16&255,O=k[z++],Q[T++]=O>>>0&255),B[ue++]=O>>>16&255;w=8}y!==e.image_compression.NONE&&n()?(b=t(Q,C.width*C.colors,C.colors,y),M=t(B,C.width,1,y)):(b=Q,M=B,G=void 0)}if(C.colorType===3&&(A=this.color_spaces.INDEXED,R=C.palette,C.transparency.indexed)){var $=C.transparency.indexed,ae=0;for(z=0,L=$.length;z<L;++z)ae+=$[z];if((ae/=255)===L-1&&$.indexOf(0)!==-1)N=[$.indexOf(0)];else if(ae!==L){for(k=C.decodePixels(),B=new Uint8Array(k.length),z=0,L=k.length;z<L;z++)B[z]=$[k[z]];M=t(B,C.width,1)}}var U=function(q){var Z;switch(q){case e.image_compression.FAST:Z=11;break;case e.image_compression.MEDIUM:Z=13;break;case e.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(y);return G===this.decode.FLATE_DECODE&&(W="/Predictor "+U+" "),W+="/Colors "+F+" /BitsPerComponent "+w+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(M&&this.__addimage__.isArrayBuffer(M)||this.__addimage__.isArrayBufferView(M))&&(M=this.__addimage__.arrayBufferToBinaryString(M)),{alias:x,data:b,index:m,filter:G,decodeParameters:W,transparency:N,palette:R,sMask:M,predictor:U,width:C.width,height:C.height,bitsPerComponent:w,colorSpace:A}}}})(ln.API),function(e){e.processGIF89A=function(n,t,r,i){var a=new eK(n),s=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:s,height:l},h=new lw(100).encode(d,100);return e.processJPEG.call(this,h,t,r,i)},e.processGIF87A=e.processGIF89A}(ln.API),hu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var n=0;n<e;n++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[n]={red:i,green:r,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},hu.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,n=this.width*this.height*4;this.data=new Uint8Array(n),this[e]()}catch(t){Zr.log("bit decode error:"+t)}},hu.prototype.bit1=function(){var e,n=Math.ceil(this.width/8),t=n%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<n;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}t!==0&&(this.pos+=4-t)}},hu.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),n=e%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,l=a>>4,c=15&a,d=this.palette[l];if(this.data[s]=d.blue,this.data[s+1]=d.green,this.data[s+2]=d.red,this.data[s+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[s+4]=d.blue,this.data[s+4+1]=d.green,this.data[s+4+2]=d.red,this.data[s+4+3]=255}n!==0&&(this.pos+=4-n)}},hu.prototype.bit8=function(){for(var e=this.width%4,n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},hu.prototype.bit15=function(){for(var e=this.width%3,n=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&n)/n*255|0,l=(a>>5&n)/n*255|0,c=(a>>10&n)/n*255|0,d=a>>15?255:0,h=r*this.width*4+4*i;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=s,this.data[h+3]=d}this.pos+=e}},hu.prototype.bit16=function(){for(var e=this.width%3,n=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&n)/n*255|0,c=(s>>5&t)/t*255|0,d=(s>>11)/n*255|0,h=i*this.width*4+4*a;this.data[h]=d,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=e}},hu.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*t;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},hu.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var n=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*t;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=s}},hu.prototype.getData=function(){return this.data},function(e){e.processBMP=function(n,t,r,i){var a=new hu(n,!1),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},d=new lw(100).encode(c,100);return e.processJPEG.call(this,d,t,r,i)}}(ln.API),Gk.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(n,t,r,i){var a=new Gk(n),s=a.width,l=a.height,c={data:a.getData(),width:s,height:l},d=new lw(100).encode(c,100);return e.processJPEG.call(this,d,t,r,i)}}(ln.API),ln.API.processRGBA=function(e,n,t){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),l=0,c=0,d=0;d<i;d+=4){var h=r[d],g=r[d+1],b=r[d+2],m=r[d+3];a[l++]=h,a[l++]=g,a[l++]=b,s[c++]=m}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:x,index:n,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ln.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},c0=ln.API,Ry=c0.getCharWidthsArray=function(e,n){var t,r,i=(n=n||{}).font||this.internal.getFont(),a=n.fontSize||this.internal.getFontSize(),s=n.charSpace||this.internal.getCharSpace(),l=n.widths?n.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,d=n.kerning?n.kerning:i.metadata.Unicode.kerning,h=d.fof?d.fof:1,g=n.doKerning!==!1,b=0,m=e.length,x=0,y=l[0]||c,A=[];for(t=0;t<m;t++)r=e.charCodeAt(t),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/a)||0)/1e3):(b=g&&Jr(d[r])==="object"&&!isNaN(parseInt(d[r][x],10))?d[r][x]/h:0,A.push((l[r]||y)/c+b)),x=r;return A},Hk=c0.getStringUnitWidth=function(e,n){var t=(n=n||{}).fontSize||this.internal.getFontSize(),r=n.font||this.internal.getFont(),i=n.charSpace||this.internal.getCharSpace();return c0.processArabic&&(e=c0.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,t,i)/t:Ry.apply(this,arguments).reduce(function(a,s){return a+s},0)},Wk=function(e,n,t,r){for(var i=[],a=0,s=e.length,l=0;a!==s&&l+n[a]<t;)l+=n[a],a++;i.push(e.slice(0,a));var c=a;for(l=0;a!==s;)l+n[a]>r&&(i.push(e.slice(c,a)),l=0,c=a),l+=n[a],a++;return c!==a&&i.push(e.slice(c,a)),i},Vk=function(e,n,t){t||(t={});var r,i,a,s,l,c,d,h=[],g=[h],b=t.textIndent||0,m=0,x=0,y=e.split(" "),A=Ry.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?y[0].length+2:t.lineIndent||0){var w=Array(c).join(" "),C=[];y.map(function(F){(F=F.split(/\s*\n/)).length>1?C=C.concat(F.map(function(R,M){return(M&&R.length?`
`:"")+R})):C.push(F[0])}),y=C,c=Hk.apply(this,[w,t])}for(a=0,s=y.length;a<s;a++){var N=0;if(r=y[a],c&&r[0]==`
`&&(r=r.substr(1),N=1),b+m+(x=(i=Ry.apply(this,[r,t])).reduce(function(F,R){return F+R},0))>n||N){if(x>n){for(l=Wk.apply(this,[r,i,n-(b+m),n]),h.push(l.shift()),h=[l.pop()];l.length;)g.push([l.shift()]);x=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(F,R){return F+R},0)}else h=[r];g.push(h),b=x+c,m=A}else h.push(r),b+=m+x,m=A}return d=c?function(F,R){return(R?w:"")+F.join(" ")}:function(F){return F.join(" ")},g.map(d)},c0.splitTextToSize=function(e,n,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var g=this.internal.getFont(h.fontName,h.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*n/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var l,c,d=[];for(l=0,c=r.length;l<c;l++)d=d.concat(Vk.apply(this,[r[l],s,a]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var n="klmnopqrstuvwxyz",t={},r={},i=0;i<n.length;i++)t[n[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=n[i];var a=function(g){return"0x"+parseInt(g,10).toString(16)},s=e.__fontmetrics__.compress=function(g){var b,m,x,y,A=["{"];for(var w in g){if(b=g[w],isNaN(parseInt(w,10))?m="'"+w+"'":(w=parseInt(w,10),m=(m=a(w).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof b=="number")b<0?(x=a(b).slice(3),y="-"):(x=a(b).slice(2),y=""),x=y+x.slice(0,-1)+r[x.slice(-1)];else{if(Jr(b)!=="object")throw new Error("Don't know what to do with value type "+Jr(b)+".");x=s(b)}A.push(m+x)}return A.push("}"),A.join("")},l=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,m,x,y,A={},w=1,C=A,N=[],F="",R="",M=g.length-1,k=1;k<M;k+=1)(y=g[k])=="'"?b?(x=b.join(""),b=void 0):b=[]:b?b.push(y):y=="{"?(N.push([C,x]),C={},x=void 0):y=="}"?((m=N.pop())[0][m[1]]=C,x=void 0,C=m[0]):y=="-"?w=-1:x===void 0?t.hasOwnProperty(y)?(F+=t[y],x=parseInt(F,16)*w,w=1,F=""):F+=y:t.hasOwnProperty(y)?(R+=t[y],C[x]=parseInt(R,16)*w,w=1,x=void 0,R=""):R+=y;return A},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var b=g.font,m=h.Unicode[b.postScriptName];m&&(b.metadata.Unicode={},b.metadata.Unicode.widths=m.widths,b.metadata.Unicode.kerning=m.kerning);var x=d.Unicode[b.postScriptName];x&&(b.metadata.Unicode.encoding=x,b.encoding=x.codePages[0])}])}(ln.API),function(e){var n=function(t){for(var r=t.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=t.charCodeAt(a);return i};e.API.events.push(["addFont",function(t){var r=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?n(l):n(J1(l)),s.metadata=e.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(ln),function(e){function n(){return(dn.canvg?Promise.resolve(dn.canvg):Li(()=>import("./index.es-Cgm2RyeT.js"),__vite__mapDeps([6,4,1]))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}ln.API.addSvgAsImage=function(t,r,i,a,s,l,c,d){if(isNaN(r)||isNaN(i))throw Zr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Zr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=a,h.height=s;var g=h.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,h.width,h.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return n().then(function(x){return x.fromString(g,t,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(b)}).then(function(){m.addImage(h.toDataURL("image/jpeg",1),r,i,a,s,c,d)})}}(),ln.API.putTotalPages=function(e){var n,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(n=new RegExp(e,"g"),t=this.internal.getNumberOfPages()):(n=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(n,t);return this},ln.API.viewerPreferences=function(e,n){var t;e=e||{},n=n||!1;var r,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],d=0,h=0,g=0;function b(x,y){var A,w=!1;for(A=0;A<x.length;A+=1)x[A]===y&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,e==="reset"||n===!0){var m=l.length;for(g=0;g<m;g+=1)t[l[g]].value=t[l[g]].defaultValue,t[l[g]].explicitSet=!1}if(Jr(e)==="object"){for(i in e)if(a=e[i],b(l,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&b(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(d=0;d<a.length;d+=1)if(r=!0,a[d].length===1&&typeof a[d][0]=="number")c.push(String(a[d]-1));else if(a[d].length>1){for(h=0;h<a[d].length;h+=1)typeof a[d][h]!="number"&&(r=!1);r===!0&&c.push([a[d][0]-1,a[d][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,y=[];for(x in t)t[x].explicitSet===!0&&(t[x].type==="name"?y.push("/"+x+" /"+t[x].value):y.push("/"+x+" "+t[x].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(e){var n=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=a.length+s.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",n)),this}}(ln.API),function(e){var n=e.API,t=n.pdfEscape16=function(a,s){for(var l,c=s.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],g=0,b=a.length;g<b;++g){if(l=s.metadata.characterToGlyph(a.charCodeAt(g)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(g),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return h.join("");l=l.toString(16),h.push(d[4-l.length],l)}return h.join("")},r=function(a){var s,l,c,d,h,g,b;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],g=0,b=(l=Object.keys(a).sort(function(m,x){return m-x})).length;g<b;g++)s=l[g],c.length>=100&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(d=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+d+">"));return c.length&&(h+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};n.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,d=s.newObject,h=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var g=l.metadata.Unicode.widths,b=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",x=0;x<b.length;x++)m+=String.fromCharCode(b[x]);var y=d();h({data:m,addLength1:!0,objectId:y}),c("endobj");var A=d();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:A}),c("endobj");var w=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+O0(l.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var C=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+O0(l.fontName)),c("/FontDescriptor "+w+" 0 R"),c("/W "+e.API.PDFObject.convert(g)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+A+" 0 R"),c("/BaseFont /"+O0(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+C+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),n.events.push(["putFont",function(a){(function(s){var l=s.font,c=s.out,d=s.newObject,h=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var g=l.metadata.rawData,b="",m=0;m<g.length;m++)b+=String.fromCharCode(g[m]);var x=d();h({data:b,addLength1:!0,objectId:x}),c("endobj");var y=d();h({data:r(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var A=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+O0(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var w=0;w<l.metadata.hmtx.widths.length;w++)l.metadata.hmtx.widths[w]=parseInt(l.metadata.hmtx.widths[w]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+O0(l.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,l=a.text||"",c=a.x,d=a.y,h=a.options||{},g=a.mutex||{},b=g.pdfEscape,m=g.activeFontKey,x=g.fonts,y=m,A="",w=0,C="",N=x[y].encoding;if(x[y].encoding!=="Identity-H")return{text:l,x:c,y:d,options:h,mutex:g};for(C=l,y=m,Array.isArray(l)&&(C=l[0]),w=0;w<C.length;w+=1)x[y].metadata.hasOwnProperty("cmap")&&(s=x[y].metadata.cmap.unicode.codeMap[C[w].charCodeAt(0)]),s||C[w].charCodeAt(0)<256&&x[y].metadata.hasOwnProperty("Unicode")?A+=C[w]:A+="";var F="";return parseInt(y.slice(1))<14||N==="WinAnsiEncoding"?F=b(A,y).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(F=t(A,x[y])),g.isHex=!0,{text:F,x:c,y:d,options:h,mutex:g}};n.events.push(["postProcessText",function(a){var s=a.text||"",l=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var d=0;for(d=0;d<s.length;d+=1)Array.isArray(s[d])&&s[d].length===3?l.push([i(Object.assign({},c,{text:s[d][0]})).text,s[d][1],s[d][2]]):l.push(i(Object.assign({},c,{text:s[d]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:s})).text}])}(ln),function(e){var n=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0},e.addFileToVFS=function(t,r){return n.call(this),this.internal.vFS[t]=r,this},e.getFileFromVFS=function(t){return n.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(ln.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,s,l,c,d,h,g=n,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,N=0;this.__bidiEngine__={};var F=function(j){var O=j.charCodeAt(),z=O>>8,T=y[z];return T!==void 0?g[256*T+(255&O)]:z===252||z===253?"AL":w.test(z)?"L":z===8?"R":"N"},R=function(j){for(var O,z=0;z<j.length;z++){if((O=F(j.charAt(z)))==="L")return!1;if(O==="R")return!0}return!1},M=function(j,O,z,T){var G,W,X,ie,ue=O[T];switch(ue){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(ue="AN");break;case"AL":C=!0,ue="R";break;case"WS":ue="N";break;case"CS":T<1||T+1>=O.length||(G=z[T-1])!=="EN"&&G!=="AN"||(W=O[T+1])!=="EN"&&W!=="AN"?ue="N":C&&(W="AN"),ue=W===G?W:"N";break;case"ES":ue=(G=T>0?z[T-1]:"B")==="EN"&&T+1<O.length&&O[T+1]==="EN"?"EN":"N";break;case"ET":if(T>0&&z[T-1]==="EN"){ue="EN";break}if(C){ue="N";break}for(X=T+1,ie=O.length;X<ie&&O[X]==="ET";)X++;ue=X<ie&&O[X]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(ie=O.length,X=T+1;X<ie&&O[X]==="NSM";)X++;if(X<ie){var $=j[T],ae=$>=1425&&$<=2303||$===64286;if(G=O[X],ae&&(G==="R"||G==="AL")){ue="R";break}}}ue=T<1||(G=O[T-1])==="B"?"N":z[T-1];break;case"B":C=!1,i=!0,ue=N;break;case"S":a=!0,ue="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":ue="N"}return ue},k=function(j,O,z){var T=j.split("");return z&&L(T,z,{hiLevel:N}),T.reverse(),O&&O.reverse(),T.join("")},L=function(j,O,z){var T,G,W,X,ie,ue=-1,$=j.length,ae=0,U=[],q=N?m:b,Z=[];for(C=!1,i=!1,a=!1,G=0;G<$;G++)Z[G]=F(j[G]);for(W=0;W<$;W++){if(ie=ae,U[W]=M(j,Z,U,W),T=240&(ae=q[ie][x[U[W]]]),ae&=15,O[W]=X=q[ae][5],T>0)if(T===16){for(G=ue;G<W;G++)O[G]=1;ue=-1}else ue=-1;if(q[ae][6])ue===-1&&(ue=W);else if(ue>-1){for(G=ue;G<W;G++)O[G]=X;ue=-1}Z[W]==="B"&&(O[W]=0),z.hiLevel|=X}a&&function(ee,se,we){for(var ye=0;ye<we;ye++)if(ee[ye]==="S"){se[ye]=N;for(var Ce=ye-1;Ce>=0&&ee[Ce]==="WS";Ce--)se[Ce]=N}}(Z,O,$)},B=function(j,O,z,T,G){if(!(G.hiLevel<j)){if(j===1&&N===1&&!i)return O.reverse(),void(z&&z.reverse());for(var W,X,ie,ue,$=O.length,ae=0;ae<$;){if(T[ae]>=j){for(ie=ae+1;ie<$&&T[ie]>=j;)ie++;for(ue=ae,X=ie-1;ue<X;ue++,X--)W=O[ue],O[ue]=O[X],O[X]=W,z&&(W=z[ue],z[ue]=z[X],z[X]=W);ae=ie}ae++}}},Q=function(j,O,z){var T=j.split(""),G={hiLevel:N};return z||(z=[]),L(T,z,G),function(W,X,ie){if(ie.hiLevel!==0&&h)for(var ue,$=0;$<W.length;$++)X[$]===1&&(ue=A.indexOf(W[$]))>=0&&(W[$]=A[ue+1])}(T,z,G),B(2,T,O,z,G),B(1,T,O,z,G),T.join("")};return this.__bidiEngine__.doBidiReorder=function(j,O,z){if(function(G,W){if(W)for(var X=0;X<G.length;X++)W[X]=X;l===void 0&&(l=R(G)),d===void 0&&(d=R(G))}(j,O),s||!c||d)if(s&&c&&l^d)N=l?1:0,j=k(j,O,z);else if(!s&&c&&d)N=l?1:0,j=Q(j,O,z),j=k(j,O);else if(!s||l||c||d){if(s&&!c&&l^d)j=k(j,O),l?(N=0,j=Q(j,O,z)):(N=1,j=Q(j,O,z),j=k(j,O));else if(s&&l&&!c&&d)N=1,j=Q(j,O,z),j=k(j,O);else if(!s&&!c&&l^d){var T=h;l?(N=1,j=Q(j,O,z),N=0,h=!1,j=Q(j,O,z),h=T):(N=0,j=Q(j,O,z),j=k(j,O),N=1,h=!1,j=Q(j,O,z),h=T,j=k(j,O))}}else N=0,j=Q(j,O,z);else N=l?1:0,j=Q(j,O,z);return j},this.__bidiEngine__.setOptions=function(j){j&&(s=j.isInputVisual,c=j.isOutputVisual,l=j.isInputRtl,d=j.isOutputRtl,h=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var n=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(s=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?s.push([t.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):s.push([t.doBidiReorder(i[l])]);r.text=s}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(ln),ln.API.TTFFont=function(){function e(n){var t;if(this.rawData=n,t=this.contents=new oh(n),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new mK(this),this.registerTTF()}return e.open=function(n){return new e(n)},e.prototype.parse=function(){return this.directory=new tK(this.contents),this.head=new rK(this),this.name=new lK(this),this.cmap=new ZO(this),this.toUnicode={},this.hhea=new iK(this),this.maxp=new uK(this),this.hmtx=new cK(this),this.post=new sK(this),this.os2=new aK(this),this.loca=new pK(this),this.glyf=new dK(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var n,t,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,d;for(d=[],s=0,l=(c=this.bbox).length;s<l;s++)n=c[s],d.push(Math.round(n*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(n){var t;return((t=this.cmap.unicode)!=null?t.codeMap[n]:void 0)||0},e.prototype.widthOfGlyph=function(n){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(n).advance*t},e.prototype.widthOfString=function(n,t,r){var i,a,s,l;for(s=0,a=0,l=(n=""+n).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=n.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return s*(t/1e3)},e.prototype.lineHeight=function(n,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*n},e}();var Lu,oh=function(){function e(n){this.data=n??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(n){return this.data[this.pos++]=n},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(n){return this.writeByte(n>>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt32=function(){var n;return(n=this.readUInt32())>=2147483648?n-4294967296:n},e.prototype.writeInt32=function(n){return n<0&&(n+=4294967296),this.writeUInt32(n)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(n){return this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt16=function(){var n;return(n=this.readUInt16())>=32768?n-65536:n},e.prototype.writeInt16=function(n){return n<0&&(n+=65536),this.writeUInt16(n)},e.prototype.readString=function(n){var t,r;for(r=[],t=0;0<=n?t<n:t>n;t=0<=n?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(n){var t,r,i;for(i=[],t=0,r=n.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(n.charCodeAt(t)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(n){return this.writeInt16(n)},e.prototype.readLongLong=function(){var n,t,r,i,a,s,l,c;return n=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&n?-1*(72057594037927940*(255^n)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*n+281474976710656*t+1099511627776*r+4294967296*i+16777216*a+65536*s+256*l+c},e.prototype.writeLongLong=function(n){var t,r;return t=Math.floor(n/4294967296),r=4294967295&n,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(n){return this.writeInt32(n)},e.prototype.read=function(n){var t,r;for(t=[],r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)t.push(this.readByte());return t},e.prototype.write=function(n){var t,r,i,a;for(a=[],r=0,i=n.length;r<i;r++)t=n[r],a.push(this.writeByte(t));return a},e}(),tK=function(){var e;function n(t){var r,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return n.prototype.encode=function(t){var r,i,a,s,l,c,d,h,g,b,m,x,y;for(y in m=Object.keys(t).length,c=Math.log(2),g=16*Math.floor(Math.log(m)/c),s=Math.floor(g/c),h=16*m-g,(i=new oh).writeInt(this.scalarType),i.writeShort(m),i.writeShort(g),i.writeShort(s),i.writeShort(h),a=16*m,d=i.pos+a,l=null,x=[],t)for(b=t[y],i.writeString(y),i.writeInt(e(b)),i.writeInt(d),i.writeInt(b.length),x=x.concat(b),y==="head"&&(l=d),d+=b.length;d%4;)x.push(0),d++;return i.write(x),r=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(r),i.data},e=function(t){var r,i,a,s;for(t=JO.call(t);t.length%4;)t.push(0);for(a=new oh(t),i=0,r=0,s=t.length;r<s;r=r+=4)i+=a.readUInt32();return 4294967295&i},n}(),nK={}.hasOwnProperty,Yc=function(e,n){for(var t in n)nK.call(n,t)&&(e[t]=n[t]);function r(){this.constructor=e}return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};Lu=function(){function e(n){var t;this.file=n,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var rK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Yc(n,Lu),n.prototype.tag="head",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},n.prototype.encode=function(t){var r;return(r=new oh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},n}(),Qk=function(){function e(n,t){var r,i,a,s,l,c,d,h,g,b,m,x,y,A,w,C,N;switch(this.platformID=n.readUInt16(),this.encodingID=n.readShort(),this.offset=t+n.readInt(),g=n.pos,n.pos=this.offset,this.format=n.readUInt16(),this.length=n.readUInt16(),this.language=n.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=n.readByte();break;case 4:for(m=n.readUInt16(),b=m/2,n.pos+=6,a=function(){var F,R;for(R=[],c=F=0;0<=b?F<b:F>b;c=0<=b?++F:--F)R.push(n.readUInt16());return R}(),n.pos+=2,y=function(){var F,R;for(R=[],c=F=0;0<=b?F<b:F>b;c=0<=b?++F:--F)R.push(n.readUInt16());return R}(),d=function(){var F,R;for(R=[],c=F=0;0<=b?F<b:F>b;c=0<=b?++F:--F)R.push(n.readUInt16());return R}(),h=function(){var F,R;for(R=[],c=F=0;0<=b?F<b:F>b;c=0<=b?++F:--F)R.push(n.readUInt16());return R}(),i=(this.length-n.pos+this.offset)/2,l=function(){var F,R;for(R=[],c=F=0;0<=i?F<i:F>i;c=0<=i?++F:--F)R.push(n.readUInt16());return R}(),c=w=0,N=a.length;w<N;c=++w)for(A=a[c],r=C=x=y[c];x<=A?C<=A:C>=A;r=x<=A?++C:--C)h[c]===0?s=r+d[c]:(s=l[h[c]/2+(r-x)-(b-c)]||0)!==0&&(s+=d[c]),this.codeMap[r]=65535&s}n.pos=g}return e.encode=function(n,t){var r,i,a,s,l,c,d,h,g,b,m,x,y,A,w,C,N,F,R,M,k,L,B,Q,j,O,z,T,G,W,X,ie,ue,$,ae,U,q,Z,ee,se,we,ye,Ce,Oe,Le,He;switch(T=new oh,s=Object.keys(n).sort(function(We,V){return We-V}),t){case"macroman":for(y=0,A=function(){var We=[];for(x=0;x<256;++x)We.push(0);return We}(),C={0:0},a={},G=0,ue=s.length;G<ue;G++)C[Ce=n[i=s[G]]]==null&&(C[Ce]=++y),a[i]={old:n[i],new:C[n[i]]},A[i]=C[n[i]];return T.writeUInt16(1),T.writeUInt16(0),T.writeUInt32(12),T.writeUInt16(0),T.writeUInt16(262),T.writeUInt16(0),T.write(A),{charMap:a,subtable:T.data,maxGlyphID:y+1};case"unicode":for(O=[],g=[],N=0,C={},r={},w=d=null,W=0,$=s.length;W<$;W++)C[R=n[i=s[W]]]==null&&(C[R]=++N),r[i]={old:R,new:C[R]},l=C[R]-i,w!=null&&l===d||(w&&g.push(w),O.push(i),d=l),w=i;for(w&&g.push(w),g.push(65535),O.push(65535),Q=2*(B=O.length),L=2*Math.pow(Math.log(B)/Math.LN2,2),b=Math.log(L/2)/Math.LN2,k=2*B-L,c=[],M=[],m=[],x=X=0,ae=O.length;X<ae;x=++X){if(j=O[x],h=g[x],j===65535){c.push(0),M.push(0);break}if(j-(z=r[j].new)>=32768)for(c.push(0),M.push(2*(m.length+B-x)),i=ie=j;j<=h?ie<=h:ie>=h;i=j<=h?++ie:--ie)m.push(r[i].new);else c.push(z-j),M.push(0)}for(T.writeUInt16(3),T.writeUInt16(1),T.writeUInt32(12),T.writeUInt16(4),T.writeUInt16(16+8*B+2*m.length),T.writeUInt16(0),T.writeUInt16(Q),T.writeUInt16(L),T.writeUInt16(b),T.writeUInt16(k),we=0,U=g.length;we<U;we++)i=g[we],T.writeUInt16(i);for(T.writeUInt16(0),ye=0,q=O.length;ye<q;ye++)i=O[ye],T.writeUInt16(i);for(Oe=0,Z=c.length;Oe<Z;Oe++)l=c[Oe],T.writeUInt16(l);for(Le=0,ee=M.length;Le<ee;Le++)F=M[Le],T.writeUInt16(F);for(He=0,se=m.length;He<se;He++)y=m[He],T.writeUInt16(y);return{charMap:r,subtable:T.data,maxGlyphID:N+1}}},e}(),ZO=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Yc(n,Lu),n.prototype.tag="cmap",n.prototype.parse=function(t){var r,i,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new Qk(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},n.encode=function(t,r){var i,a;return r==null&&(r="macroman"),i=Qk.encode(t,r),(a=new oh).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},n}(),iK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Yc(n,Lu),n.prototype.tag="hhea",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},n}(),aK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Yc(n,Lu),n.prototype.tag="OS/2",n.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},n}(),sK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Yc(n,Lu),n.prototype.tag="post",n.prototype.parse=function(t){var r,i,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var s;for(i=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],s=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;s=0<=c?++l:--l)d.push(t.readUInt32());return d}).call(this)}},n}(),oK=function(e,n){this.raw=e,this.length=e.length,this.platformID=n.platformID,this.encodingID=n.encodingID,this.languageID=n.languageID},lK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Yc(n,Lu),n.prototype.tag="name",n.prototype.parse=function(t){var r,i,a,s,l,c,d,h,g,b,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),c=t.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(d={},s=g=0,b=i.length;g<b;s=++g)a=i[s],t.pos=a.offset,h=t.readString(a.length),l=new oK(h,a),d[m=a.nameID]==null&&(d[m]=[]),d[a.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},n}(),uK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Yc(n,Lu),n.prototype.tag="maxp",n.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},n}(),cK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Yc(n,Lu),n.prototype.tag="hmtx",n.prototype.parse=function(t){var r,i,a,s,l,c,d;for(t.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,g;for(g=[],r=h=0;0<=a?h<a:h>a;r=0<=a?++h:--h)g.push(t.readInt16());return g}(),this.widths=(function(){var h,g,b,m;for(m=[],h=0,g=(b=this.metrics).length;h<g;h++)s=b[h],m.push(s.advance);return m}).call(this),i=this.widths[this.widths.length-1],d=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)d.push(this.widths.push(i));return d},n.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},n}(),JO=[].slice,dK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Yc(n,Lu),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(t){var r,i,a,s,l,c,d,h,g,b;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(t),(a=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,l=(c=new oh(r.read(a))).readShort(),h=c.readShort(),b=c.readShort(),d=c.readShort(),g=c.readShort(),this.cache[t]=l===-1?new hK(c,h,b,d,g):new fK(c,l,h,b,d,g),this.cache[t]))},n.prototype.encode=function(t,r,i){var a,s,l,c,d;for(l=[],s=[],c=0,d=r.length;c<d;c++)a=t[r[c]],s.push(l.length),a&&(l=l.concat(a.encode(i)));return s.push(l.length),{table:l,offsets:s}},n}(),fK=function(){function e(n,t,r,i,a,s){this.raw=n,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),hK=function(){function e(n,t,r,i,a){var s,l;for(this.raw=n,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return e.prototype.encode=function(){var n,t,r;for(t=new oh(JO.call(this.raw.data)),n=0,r=this.glyphIDs.length;n<r;++n)t.pos=this.glyphOffsets[n];return t.data},e}(),pK=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return Yc(n,Lu),n.prototype.tag="loca",n.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],i=0,a=this.length;i<a;i+=4)s.push(t.readUInt32());return s}).call(this)},n.prototype.indexOf=function(t){return this.offsets[t]},n.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},n.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),a=0,s=0,l=0;l<i.length;++l)if(i[l]=a,s<r.length&&r[s]==l){++s,i[l]=a;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(a+=d)}for(var h=new Array(4*i.length),g=0;g<i.length;++g)h[4*g+3]=255&i[g],h[4*g+2]=(65280&i[g])>>8,h[4*g+1]=(16711680&i[g])>>16,h[4*g]=(4278190080&i[g])>>24;return h},n}(),mK=function(){function e(n){this.font=n,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var n,t,r,i,a;for(t in i=this.font.cmap.tables[0].codeMap,n={},a=this.subset)r=a[t],n[t]=i[r];return n},e.prototype.glyphsFor=function(n){var t,r,i,a,s,l,c;for(i={},s=0,l=n.length;s<l;s++)i[a=n[s]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(r=i[a])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(a in c=this.glyphsFor(t))r=c[a],i[a]=r;return i},e.prototype.encode=function(n,t){var r,i,a,s,l,c,d,h,g,b,m,x,y,A,w;for(i in r=ZO.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(n),m={0:0},w=r.charMap)m[(c=w[i]).old]=c.new;for(x in b=r.maxGlyphID,s)x in m||(m[x]=b++);return h=function(C){var N,F;for(N in F={},C)F[C[N]]=N;return F}(m),g=Object.keys(h).sort(function(C,N){return C-N}),y=function(){var C,N,F;for(F=[],C=0,N=g.length;C<N;C++)l=g[C],F.push(h[l]);return F}(),a=this.font.glyf.encode(s,y,m),d=this.font.loca.encode(a.offsets,y),A={cmap:this.font.cmap.raw(),glyf:a.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},e}();ln.API.PDFObject=function(){var e;function n(){}return e=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},n.convert=function(t){var r,i,a,s;if(Array.isArray(t))return"["+function(){var l,c,d;for(d=[],l=0,c=t.length;l<c;l++)r=t[l],d.push(n.convert(r));return d}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+e(t.getUTCFullYear(),4)+e(t.getUTCMonth(),2)+e(t.getUTCDate(),2)+e(t.getUTCHours(),2)+e(t.getUTCMinutes(),2)+e(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)s=t[i],a.push("/"+i+" "+n.convert(s));return a.push(">>"),a.join(`
`)}return""+t},n}();const gK=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),bK=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var uw;const yK=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Kk=(uw=String.fromCodePoint)!==null&&uw!==void 0?uw:function(e){let n="";return e>65535&&(e-=65536,n+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),n+=String.fromCharCode(e),n};function xK(e){var n;return e>=55296&&e<=57343||e>1114111?65533:(n=yK.get(e))!==null&&n!==void 0?n:e}var es;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(es||(es={}));const vK=32;var Gf;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Gf||(Gf={}));function MS(e){return e>=es.ZERO&&e<=es.NINE}function wK(e){return e>=es.UPPER_A&&e<=es.UPPER_F||e>=es.LOWER_A&&e<=es.LOWER_F}function SK(e){return e>=es.UPPER_A&&e<=es.UPPER_Z||e>=es.LOWER_A&&e<=es.LOWER_Z||MS(e)}function AK(e){return e===es.EQUALS||SK(e)}var Qa;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Qa||(Qa={}));var Sc;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Sc||(Sc={}));class CK{constructor(n,t,r){this.decodeTree=n,this.emitCodePoint=t,this.errors=r,this.state=Qa.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Sc.Strict}startEntity(n){this.decodeMode=n,this.state=Qa.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(n,t){switch(this.state){case Qa.EntityStart:return n.charCodeAt(t)===es.NUM?(this.state=Qa.NumericStart,this.consumed+=1,this.stateNumericStart(n,t+1)):(this.state=Qa.NamedEntity,this.stateNamedEntity(n,t));case Qa.NumericStart:return this.stateNumericStart(n,t);case Qa.NumericDecimal:return this.stateNumericDecimal(n,t);case Qa.NumericHex:return this.stateNumericHex(n,t);case Qa.NamedEntity:return this.stateNamedEntity(n,t)}}stateNumericStart(n,t){return t>=n.length?-1:(n.charCodeAt(t)|vK)===es.LOWER_X?(this.state=Qa.NumericHex,this.consumed+=1,this.stateNumericHex(n,t+1)):(this.state=Qa.NumericDecimal,this.stateNumericDecimal(n,t))}addToNumericResult(n,t,r,i){if(t!==r){const a=r-t;this.result=this.result*Math.pow(i,a)+Number.parseInt(n.substr(t,a),i),this.consumed+=a}}stateNumericHex(n,t){const r=t;for(;t<n.length;){const i=n.charCodeAt(t);if(MS(i)||wK(i))t+=1;else return this.addToNumericResult(n,r,t,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(n,r,t,16),-1}stateNumericDecimal(n,t){const r=t;for(;t<n.length;){const i=n.charCodeAt(t);if(MS(i))t+=1;else return this.addToNumericResult(n,r,t,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(n,r,t,10),-1}emitNumericEntity(n,t){var r;if(this.consumed<=t)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(n===es.SEMI)this.consumed+=1;else if(this.decodeMode===Sc.Strict)return 0;return this.emitCodePoint(xK(this.result),this.consumed),this.errors&&(n!==es.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(n,t){const{decodeTree:r}=this;let i=r[this.treeIndex],a=(i&Gf.VALUE_LENGTH)>>14;for(;t<n.length;t++,this.excess++){const s=n.charCodeAt(t);if(this.treeIndex=EK(r,i,this.treeIndex+Math.max(1,a),s),this.treeIndex<0)return this.result===0||this.decodeMode===Sc.Attribute&&(a===0||AK(s))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],a=(i&Gf.VALUE_LENGTH)>>14,a!==0){if(s===es.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==Sc.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var n;const{result:t,decodeTree:r}=this,i=(r[t]&Gf.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,i,this.consumed),(n=this.errors)===null||n===void 0||n.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(n,t,r){const{decodeTree:i}=this;return this.emitCodePoint(t===1?i[n]&~Gf.VALUE_LENGTH:i[n+1],r),t===3&&this.emitCodePoint(i[n+2],r),r}end(){var n;switch(this.state){case Qa.NamedEntity:return this.result!==0&&(this.decodeMode!==Sc.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Qa.NumericDecimal:return this.emitNumericEntity(0,2);case Qa.NumericHex:return this.emitNumericEntity(0,3);case Qa.NumericStart:return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Qa.EntityStart:return 0}}}function EK(e,n,t,r){const i=(n&Gf.BRANCH_LENGTH)>>7,a=n&Gf.JUMP_TABLE;if(i===0)return a!==0&&r===a?t:-1;if(a){const c=r-a;return c<0||c>=i?-1:e[t+c]-1}let s=t,l=s+i-1;for(;s<=l;){const c=s+l>>>1,d=e[c];if(d<r)s=c+1;else if(d>r)l=c-1;else return e[c+i]}return-1}var an;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(an||(an={}));var Et;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(Et||(Et={}));function Sd(e){return e===an.Space||e===an.NewLine||e===an.Tab||e===an.FormFeed||e===an.CarriageReturn}function My(e){return e===an.Slash||e===an.Gt||Sd(e)}function _K(e){return e>=an.LowerA&&e<=an.LowerZ||e>=an.UpperA&&e<=an.UpperZ}var Ac;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(Ac||(Ac={}));const ka={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class kK{constructor({xmlMode:n=!1,decodeEntities:t=!0},r){this.cbs=r,this.state=Et.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=Et.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=n,this.decodeEntities=t,this.entityDecoder=new CK(n?bK:gK,(i,a)=>this.emitCodePoint(i,a))}reset(){this.state=Et.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Et.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(n){this.offset+=this.buffer.length,this.buffer=n,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(n){n===an.Lt||!this.decodeEntities&&this.fastForwardTo(an.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Et.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&n===an.Amp&&this.startEntity()}stateSpecialStartSequence(n){const t=this.sequenceIndex===this.currentSequence.length;if(!(t?My(n):(n|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!t){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Et.InTagName,this.stateInTagName(n)}stateInSpecialTag(n){if(this.sequenceIndex===this.currentSequence.length){if(n===an.Gt||Sd(n)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const r=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=r}this.isSpecial=!1,this.sectionStart=t+2,this.stateInClosingTagName(n);return}this.sequenceIndex=0}(n|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===ka.TitleEnd?this.decodeEntities&&n===an.Amp&&this.startEntity():this.fastForwardTo(an.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(n===an.Lt)}stateCDATASequence(n){n===ka.Cdata[this.sequenceIndex]?++this.sequenceIndex===ka.Cdata.length&&(this.state=Et.InCommentLike,this.currentSequence=ka.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Et.InDeclaration,this.stateInDeclaration(n))}fastForwardTo(n){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===n)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(n){n===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===ka.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Et.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):n!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(n){return this.xmlMode?!My(n):_K(n)}startSpecial(n,t){this.isSpecial=!0,this.currentSequence=n,this.sequenceIndex=t,this.state=Et.SpecialStartSequence}stateBeforeTagName(n){if(n===an.ExclamationMark)this.state=Et.BeforeDeclaration,this.sectionStart=this.index+1;else if(n===an.Questionmark)this.state=Et.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(n)){const t=n|32;this.sectionStart=this.index,this.xmlMode?this.state=Et.InTagName:t===ka.ScriptEnd[2]?this.state=Et.BeforeSpecialS:t===ka.TitleEnd[2]||t===ka.XmpEnd[2]?this.state=Et.BeforeSpecialT:this.state=Et.InTagName}else n===an.Slash?this.state=Et.BeforeClosingTagName:(this.state=Et.Text,this.stateText(n))}stateInTagName(n){My(n)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n))}stateBeforeClosingTagName(n){Sd(n)||(n===an.Gt?this.state=Et.Text:(this.state=this.isTagStartChar(n)?Et.InClosingTagName:Et.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(n){(n===an.Gt||Sd(n))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Et.AfterClosingTagName,this.stateAfterClosingTagName(n))}stateAfterClosingTagName(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(n){n===an.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Et.InSpecialTag,this.sequenceIndex=0):this.state=Et.Text,this.sectionStart=this.index+1):n===an.Slash?this.state=Et.InSelfClosingTag:Sd(n)||(this.state=Et.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(n){n===an.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Et.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Sd(n)||(this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n))}stateInAttributeName(n){(n===an.Eq||My(n))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=Et.AfterAttributeName,this.stateAfterAttributeName(n))}stateAfterAttributeName(n){n===an.Eq?this.state=Et.BeforeAttributeValue:n===an.Slash||n===an.Gt?(this.cbs.onattribend(Ac.NoValue,this.sectionStart),this.sectionStart=-1,this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n)):Sd(n)||(this.cbs.onattribend(Ac.NoValue,this.sectionStart),this.state=Et.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(n){n===an.DoubleQuote?(this.state=Et.InAttributeValueDq,this.sectionStart=this.index+1):n===an.SingleQuote?(this.state=Et.InAttributeValueSq,this.sectionStart=this.index+1):Sd(n)||(this.sectionStart=this.index,this.state=Et.InAttributeValueNq,this.stateInAttributeValueNoQuotes(n))}handleInAttributeValue(n,t){n===t||!this.decodeEntities&&this.fastForwardTo(t)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(t===an.DoubleQuote?Ac.Double:Ac.Single,this.index+1),this.state=Et.BeforeAttributeName):this.decodeEntities&&n===an.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(n){this.handleInAttributeValue(n,an.DoubleQuote)}stateInAttributeValueSingleQuotes(n){this.handleInAttributeValue(n,an.SingleQuote)}stateInAttributeValueNoQuotes(n){Sd(n)||n===an.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Ac.Unquoted,this.index),this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(n)):this.decodeEntities&&n===an.Amp&&this.startEntity()}stateBeforeDeclaration(n){n===an.OpeningSquareBracket?(this.state=Et.CDATASequence,this.sequenceIndex=0):this.state=n===an.Dash?Et.BeforeComment:Et.InDeclaration}stateInDeclaration(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Et.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeComment(n){n===an.Dash?(this.state=Et.InCommentLike,this.currentSequence=ka.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Et.InDeclaration}stateInSpecialComment(n){(n===an.Gt||this.fastForwardTo(an.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(n){const t=n|32;t===ka.ScriptEnd[3]?this.startSpecial(ka.ScriptEnd,4):t===ka.StyleEnd[3]?this.startSpecial(ka.StyleEnd,4):(this.state=Et.InTagName,this.stateInTagName(n))}stateBeforeSpecialT(n){switch(n|32){case ka.TitleEnd[3]:{this.startSpecial(ka.TitleEnd,4);break}case ka.TextareaEnd[3]:{this.startSpecial(ka.TextareaEnd,4);break}case ka.XmpEnd[3]:{this.startSpecial(ka.XmpEnd,4);break}default:this.state=Et.InTagName,this.stateInTagName(n)}}startEntity(){this.baseState=this.state,this.state=Et.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?Sc.Strict:this.baseState===Et.Text||this.baseState===Et.InSpecialTag?Sc.Legacy:Sc.Attribute)}stateInEntity(){const n=this.entityDecoder.write(this.buffer,this.index-this.offset);n>=0?(this.state=this.baseState,n===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===Et.Text||this.state===Et.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Et.InAttributeValueDq||this.state===Et.InAttributeValueSq||this.state===Et.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const n=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Et.Text:{this.stateText(n);break}case Et.SpecialStartSequence:{this.stateSpecialStartSequence(n);break}case Et.InSpecialTag:{this.stateInSpecialTag(n);break}case Et.CDATASequence:{this.stateCDATASequence(n);break}case Et.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(n);break}case Et.InAttributeName:{this.stateInAttributeName(n);break}case Et.InCommentLike:{this.stateInCommentLike(n);break}case Et.InSpecialComment:{this.stateInSpecialComment(n);break}case Et.BeforeAttributeName:{this.stateBeforeAttributeName(n);break}case Et.InTagName:{this.stateInTagName(n);break}case Et.InClosingTagName:{this.stateInClosingTagName(n);break}case Et.BeforeTagName:{this.stateBeforeTagName(n);break}case Et.AfterAttributeName:{this.stateAfterAttributeName(n);break}case Et.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(n);break}case Et.BeforeAttributeValue:{this.stateBeforeAttributeValue(n);break}case Et.BeforeClosingTagName:{this.stateBeforeClosingTagName(n);break}case Et.AfterClosingTagName:{this.stateAfterClosingTagName(n);break}case Et.BeforeSpecialS:{this.stateBeforeSpecialS(n);break}case Et.BeforeSpecialT:{this.stateBeforeSpecialT(n);break}case Et.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(n);break}case Et.InSelfClosingTag:{this.stateInSelfClosingTag(n);break}case Et.InDeclaration:{this.stateInDeclaration(n);break}case Et.BeforeDeclaration:{this.stateBeforeDeclaration(n);break}case Et.BeforeComment:{this.stateBeforeComment(n);break}case Et.InProcessingInstruction:{this.stateInProcessingInstruction(n);break}case Et.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===Et.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const n=this.buffer.length+this.offset;this.sectionStart>=n||(this.state===Et.InCommentLike?this.currentSequence===ka.CdataEnd?this.cbs.oncdata(this.sectionStart,n,0):this.cbs.oncomment(this.sectionStart,n,0):this.state===Et.InTagName||this.state===Et.BeforeAttributeName||this.state===Et.BeforeAttributeValue||this.state===Et.AfterAttributeName||this.state===Et.InAttributeName||this.state===Et.InAttributeValueSq||this.state===Et.InAttributeValueDq||this.state===Et.InAttributeValueNq||this.state===Et.InClosingTagName||this.cbs.ontext(this.sectionStart,n))}emitCodePoint(n,t){this.baseState!==Et.Text&&this.baseState!==Et.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.onattribentity(n)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+t,this.index=this.sectionStart-1,this.cbs.ontextentity(n,this.sectionStart))}}const d0=new Set(["input","option","optgroup","select","button","datalist","textarea"]),Ur=new Set(["p"]),Xk=new Set(["thead","tbody"]),Zk=new Set(["dd","dt"]),Jk=new Set(["rt","rp"]),jK=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",Ur],["h1",Ur],["h2",Ur],["h3",Ur],["h4",Ur],["h5",Ur],["h6",Ur],["select",d0],["input",d0],["output",d0],["button",d0],["datalist",d0],["textarea",d0],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",Zk],["dt",Zk],["address",Ur],["article",Ur],["aside",Ur],["blockquote",Ur],["details",Ur],["div",Ur],["dl",Ur],["fieldset",Ur],["figcaption",Ur],["figure",Ur],["footer",Ur],["form",Ur],["header",Ur],["hr",Ur],["main",Ur],["nav",Ur],["ol",Ur],["pre",Ur],["section",Ur],["table",Ur],["ul",Ur],["rt",Jk],["rp",Jk],["tbody",Xk],["tfoot",Xk]]),NK=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),e4=new Set(["math","svg"]),t4=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),TK=/\s|\//;class OK{constructor(n,t={}){var r,i,a,s,l,c;this.options=t,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=n??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(r=t.lowerCaseTags)!==null&&r!==void 0?r:this.htmlMode,this.lowerCaseAttributeNames=(i=t.lowerCaseAttributeNames)!==null&&i!==void 0?i:this.htmlMode,this.recognizeSelfClosing=(a=t.recognizeSelfClosing)!==null&&a!==void 0?a:!this.htmlMode,this.tokenizer=new((s=t.Tokenizer)!==null&&s!==void 0?s:kK)(this.options,this),this.foreignContext=[!this.htmlMode],(c=(l=this.cbs).onparserinit)===null||c===void 0||c.call(l,this)}ontext(n,t){var r,i;const a=this.getSlice(n,t);this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,a),this.startIndex=t}ontextentity(n,t){var r,i;this.endIndex=t-1,(i=(r=this.cbs).ontext)===null||i===void 0||i.call(r,Kk(n)),this.startIndex=t}isVoidElement(n){return this.htmlMode&&NK.has(n)}onopentagname(n,t){this.endIndex=t;let r=this.getSlice(n,t);this.lowerCaseTagNames&&(r=r.toLowerCase()),this.emitOpenTag(r)}emitOpenTag(n){var t,r,i,a;this.openTagStart=this.startIndex,this.tagname=n;const s=this.htmlMode&&jK.get(n);if(s)for(;this.stack.length>0&&s.has(this.stack[0]);){const l=this.stack.shift();(r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,l,!0)}this.isVoidElement(n)||(this.stack.unshift(n),this.htmlMode&&(e4.has(n)?this.foreignContext.unshift(!0):t4.has(n)&&this.foreignContext.unshift(!1))),(a=(i=this.cbs).onopentagname)===null||a===void 0||a.call(i,n),this.cbs.onopentag&&(this.attribs={})}endOpenTag(n){var t,r;this.startIndex=this.openTagStart,this.attribs&&((r=(t=this.cbs).onopentag)===null||r===void 0||r.call(t,this.tagname,this.attribs,n),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(n){this.endIndex=n,this.endOpenTag(!1),this.startIndex=n+1}onclosetag(n,t){var r,i,a,s,l,c,d,h;this.endIndex=t;let g=this.getSlice(n,t);if(this.lowerCaseTagNames&&(g=g.toLowerCase()),this.htmlMode&&(e4.has(g)||t4.has(g))&&this.foreignContext.shift(),this.isVoidElement(g))this.htmlMode&&g==="br"&&((s=(a=this.cbs).onopentagname)===null||s===void 0||s.call(a,"br"),(c=(l=this.cbs).onopentag)===null||c===void 0||c.call(l,"br",{},!0),(h=(d=this.cbs).onclosetag)===null||h===void 0||h.call(d,"br",!1));else{const b=this.stack.indexOf(g);if(b!==-1)for(let m=0;m<=b;m++){const x=this.stack.shift();(i=(r=this.cbs).onclosetag)===null||i===void 0||i.call(r,x,m!==b)}else this.htmlMode&&g==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=t+1}onselfclosingtag(n){this.endIndex=n,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=n+1):this.onopentagend(n)}closeCurrentTag(n){var t,r;const i=this.tagname;this.endOpenTag(n),this.stack[0]===i&&((r=(t=this.cbs).onclosetag)===null||r===void 0||r.call(t,i,!n),this.stack.shift())}onattribname(n,t){this.startIndex=n;const r=this.getSlice(n,t);this.attribname=this.lowerCaseAttributeNames?r.toLowerCase():r}onattribdata(n,t){this.attribvalue+=this.getSlice(n,t)}onattribentity(n){this.attribvalue+=Kk(n)}onattribend(n,t){var r,i;this.endIndex=t,(i=(r=this.cbs).onattribute)===null||i===void 0||i.call(r,this.attribname,this.attribvalue,n===Ac.Double?'"':n===Ac.Single?"'":n===Ac.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(n){const t=n.search(TK);let r=t<0?n:n.substr(0,t);return this.lowerCaseTagNames&&(r=r.toLowerCase()),r}ondeclaration(n,t){this.endIndex=t;const r=this.getSlice(n,t);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`!${i}`,`!${r}`)}this.startIndex=t+1}onprocessinginstruction(n,t){this.endIndex=t;const r=this.getSlice(n,t);if(this.cbs.onprocessinginstruction){const i=this.getInstructionName(r);this.cbs.onprocessinginstruction(`?${i}`,`?${r}`)}this.startIndex=t+1}oncomment(n,t,r){var i,a,s,l;this.endIndex=t,(a=(i=this.cbs).oncomment)===null||a===void 0||a.call(i,this.getSlice(n,t-r)),(l=(s=this.cbs).oncommentend)===null||l===void 0||l.call(s),this.startIndex=t+1}oncdata(n,t,r){var i,a,s,l,c,d,h,g,b,m;this.endIndex=t;const x=this.getSlice(n,t-r);!this.htmlMode||this.options.recognizeCDATA?((a=(i=this.cbs).oncdatastart)===null||a===void 0||a.call(i),(l=(s=this.cbs).ontext)===null||l===void 0||l.call(s,x),(d=(c=this.cbs).oncdataend)===null||d===void 0||d.call(c)):((g=(h=this.cbs).oncomment)===null||g===void 0||g.call(h,`[CDATA[${x}]]`),(m=(b=this.cbs).oncommentend)===null||m===void 0||m.call(b)),this.startIndex=t+1}onend(){var n,t;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let r=0;r<this.stack.length;r++)this.cbs.onclosetag(this.stack[r],!0)}(t=(n=this.cbs).onend)===null||t===void 0||t.call(n)}reset(){var n,t,r,i;(t=(n=this.cbs).onreset)===null||t===void 0||t.call(n),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(i=(r=this.cbs).onparserinit)===null||i===void 0||i.call(r,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(n){this.reset(),this.end(n)}getSlice(n,t){for(;n-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let r=this.buffers[0].slice(n-this.bufferOffset,t-this.bufferOffset);for(;t-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),r+=this.buffers[0].slice(0,t-this.bufferOffset);return r}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(n){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".write() after done!"));return}this.buffers.push(n),this.tokenizer.running&&(this.tokenizer.write(n),this.writeIndex++)}end(n){var t,r;if(this.ended){(r=(t=this.cbs).onerror)===null||r===void 0||r.call(t,new Error(".end() after done!"));return}n&&this.write(n),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(n){this.write(n)}done(n){this.end(n)}}var kr;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(kr||(kr={}));function ox(e){return e.type===kr.Tag||e.type===kr.Script||e.type===kr.Style}kr.Root;kr.Text;kr.Directive;kr.Comment;kr.Script;kr.Style;kr.Tag;kr.CDATA;kr.Doctype;let eI=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(n){this.parent=n}get previousSibling(){return this.prev}set previousSibling(n){this.prev=n}get nextSibling(){return this.next}set nextSibling(n){this.next=n}cloneNode(n=!1){return lI(this,n)}};class mA extends eI{constructor(n){super(),this.data=n}get nodeValue(){return this.data}set nodeValue(n){this.data=n}}let FS=class extends mA{constructor(){super(...arguments),this.type=kr.Text}get nodeType(){return 3}};class tI extends mA{constructor(){super(...arguments),this.type=kr.Comment}get nodeType(){return 8}}class nI extends mA{constructor(n,t){super(t),this.name=n,this.type=kr.Directive}get nodeType(){return 1}}class gA extends eI{constructor(n){super(),this.children=n}get firstChild(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(n){this.children=n}}class rI extends gA{constructor(){super(...arguments),this.type=kr.CDATA}get nodeType(){return 4}}class PS extends gA{constructor(){super(...arguments),this.type=kr.Root}get nodeType(){return 9}}let iI=class extends gA{constructor(n,t,r=[],i=n==="script"?kr.Script:n==="style"?kr.Style:kr.Tag){super(r),this.name=n,this.attribs=t,this.type=i}get nodeType(){return 1}get tagName(){return this.name}set tagName(n){this.name=n}get attributes(){return Object.keys(this.attribs).map(n=>{var t,r;return{name:n,value:this.attribs[n],namespace:(t=this["x-attribsNamespace"])===null||t===void 0?void 0:t[n],prefix:(r=this["x-attribsPrefix"])===null||r===void 0?void 0:r[n]}})}};function aI(e){return ox(e)}function sI(e){return e.type===kr.CDATA}function oI(e){return e.type===kr.Text}function IK(e){return e.type===kr.Comment}function DK(e){return e.type===kr.Directive}function LK(e){return e.type===kr.Root}function lI(e,n=!1){let t;if(oI(e))t=new FS(e.data);else if(IK(e))t=new tI(e.data);else if(aI(e)){const r=n?cw(e.children):[],i=new iI(e.name,{...e.attribs},r);r.forEach(a=>a.parent=i),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]={...e["x-attribsPrefix"]}),t=i}else if(sI(e)){const r=n?cw(e.children):[],i=new rI(r);r.forEach(a=>a.parent=i),t=i}else if(LK(e)){const r=n?cw(e.children):[],i=new PS(r);r.forEach(a=>a.parent=i),e["x-mode"]&&(i["x-mode"]=e["x-mode"]),t=i}else if(DK(e)){const r=new nI(e.name,e.data);e["x-name"]!=null&&(r["x-name"]=e["x-name"],r["x-publicId"]=e["x-publicId"],r["x-systemId"]=e["x-systemId"]),t=r}else throw new Error(`Not implemented yet: ${e.type}`);return t.startIndex=e.startIndex,t.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(t.sourceCodeLocation=e.sourceCodeLocation),t}function cw(e){const n=e.map(t=>lI(t,!0));for(let t=1;t<n.length;t++)n[t].prev=n[t-1],n[t-1].next=n[t];return n}const n4={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class RK{constructor(n,t,r){this.dom=[],this.root=new PS(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof t=="function"&&(r=t,t=n4),typeof n=="object"&&(t=n,n=void 0),this.callback=n??null,this.options=t??n4,this.elementCB=r??null}onparserinit(n){this.parser=n}onreset(){this.dom=[],this.root=new PS(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(n){this.handleCallback(n)}onclosetag(){this.lastNode=null;const n=this.tagStack.pop();this.options.withEndIndices&&(n.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(n)}onopentag(n,t){const r=this.options.xmlMode?kr.Tag:void 0,i=new iI(n,t,void 0,r);this.addNode(i),this.tagStack.push(i)}ontext(n){const{lastNode:t}=this;if(t&&t.type===kr.Text)t.data+=n,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{const r=new FS(n);this.addNode(r),this.lastNode=r}}oncomment(n){if(this.lastNode&&this.lastNode.type===kr.Comment){this.lastNode.data+=n;return}const t=new tI(n);this.addNode(t),this.lastNode=t}oncommentend(){this.lastNode=null}oncdatastart(){const n=new FS(""),t=new rI([n]);this.addNode(t),n.parent=t,this.lastNode=n}oncdataend(){this.lastNode=null}onprocessinginstruction(n,t){const r=new nI(n,t);this.addNode(r)}handleCallback(n){if(typeof this.callback=="function")this.callback(n,this.dom);else if(n)throw n}addNode(n){const t=this.tagStack[this.tagStack.length-1],r=t.children[t.children.length-1];this.options.withStartIndices&&(n.startIndex=this.parser.startIndex),this.options.withEndIndices&&(n.endIndex=this.parser.endIndex),t.children.push(n),r&&(n.prev=r,r.next=n),n.parent=t,this.lastNode=null}}function Cd(e){return Array.isArray(e)?e.map(Cd).join(""):aI(e)?e.name==="br"?`
`:Cd(e.children):sI(e)?Cd(e.children):oI(e)?e.data:""}function MK(e,n){const t=new RK(void 0,n);return new OK(t,n).end(e),t.root}const FK=async(e,n)=>{var m,x,y,A,w,C,N,F;if(!e)return;const t=new ln("p","mm","a4",!0);let r=10;const i=297,a=R=>{r+R*6>i-20&&(t.addPage(),r=10)},s=e.sections.length+e.sections.reduce((R,M)=>R+M.subsections.length,0)+e.sections.reduce((R,M)=>R+M.subsections.reduce((k,L)=>k+L.subSubsections.length,0),0)+e.sections.reduce((R,M)=>{var k;return R+(((k=M.images)==null?void 0:k.length)||0)+M.subsections.reduce((L,B)=>{var Q;return L+(((Q=B.images)==null?void 0:Q.length)||0)+B.subSubsections.reduce((j,O)=>{var z;return j+(((z=O.images)==null?void 0:z.length)||0)},0)},0)},0);let l=0;const c=()=>{l+=1,n(Math.round(l/s*100))},d=async(R,M=150,k=150)=>new Promise(L=>{const B=new Image;B.crossOrigin="anonymous",B.src=R.url,B.onload=()=>{const Q=B.width/B.height;let j=M,O=k;Q>1?O=M/Q:j=k*Q,a(O+15);const z=(210-j)/2;if(t.addImage(B,"JPEG",z,r,j,O),r+=O+5,R.title){t.setFont("helvetica","italic"),t.setFontSize(10);const G=(210-t.getTextWidth(R.title))/2;t.text(R.title,G,r),t.setFont("helvetica","normal"),r+=6}c(),L()},B.onerror=()=>{console.warn(`Image failed to load: ${R.url}`),c(),L()}}),h=(R,M=10,k=12)=>{var Q;const L=MK(R),B=(j,O=0,z=!1)=>{var T,G,W,X,ie,ue,$;if(j){if(ox(j)){const ae=j,U=ae.name.toLowerCase();switch(U){case"p":r+=6,(T=ae.children)==null||T.forEach(q=>B(q,O)),r+=6;break;case"br":r+=6;break;case"strong":case"b":case"i":case"em":t.setFont("helvetica",U==="strong"||U==="b"?"bold":"italic"),(G=ae.children)==null||G.forEach(q=>B(q,O)),t.setFont("helvetica","normal");break;case"ul":case"ol":r+=4,(W=ae.children)==null||W.forEach(q=>B(q,O+1,!0));break;case"li":{const q=O===1?"-":"--";let Z="";(X=ae.children)==null||X.forEach(ee=>{if(ox(ee)){const se=ee;se.name==="strong"||se.name==="b"?(t.setFont("helvetica","bold"),Z+=` ${Cd(se)}`,t.setFont("helvetica","normal")):se.name!=="ul"&&se.name!=="ol"&&(Z+=` ${Cd(se)}`)}else ee.type==="text"&&"data"in ee&&(Z+=` ${ee.data.trim()}`)}),Z=Z.trim(),Z&&(O===0?g(`${q} ${Z}`,M,k+2,!0):g(`${q} ${Z}`,M+O*8,k),r+=6),(ie=ae.children)==null||ie.forEach(ee=>{if(ox(ee)){const se=ee;["ul","ol"].includes(se.name)&&B(se,O+1,!0)}});break}case"a":(ue=ae.attribs)!=null&&ue.href&&b(Cd(ae),ae.attribs.href);break;case"h1":g(Cd(ae),M,20,!0),r+=8;break;case"h2":g(Cd(ae),M,18,!0),r+=8;break;case"h3":g(Cd(ae),M,16,!0),r+=6;break;default:($=ae.children)==null||$.forEach(q=>B(q,O))}}else if(j.type==="text"&&"data"in j){const ae=j.data.trim();ae&&g(ae,M+O*8,k)}}};(Q=L.children)==null||Q.forEach(j=>B(j))},g=(R,M,k=12,L=!1,B=[0,0,0],Q=!1,j=200)=>{if(!R)return;t.setFontSize(k),t.setTextColor(B[0],B[1],B[2]),t.setFont("helvetica",L?Q?"bolditalic":"bold":Q?"italic":"normal"),t.splitTextToSize(R,j-M).forEach(z=>{a(1),t.text(z,M,r),r+=6})},b=(R,M)=>{a(1),t.setTextColor(10,104,71),t.textWithLink(R,10,r,{url:M}),r+=6};(m=e.header)!=null&&m.content&&(g("Header:",10,12,!0),h(e.header.content),r+=5),e.title&&(g(e.title,10,18,!0,[10,104,71]),r+=5);for(const R of e.sections){if(g(R.title,10,16,!0),h(R.content),(x=R.images)!=null&&x.length)for(const M of R.images)await d(M);c();for(const M of R.subsections){if(g(M.title,12,14,!0),h(M.content,12),(y=M.images)!=null&&y.length)for(const k of M.images)await d(k);c();for(const k of M.subSubsections){if(g(k.title,14,12,!0),h(k.content,14),(A=k.images)!=null&&A.length)for(const L of k.images)await d(L);c(),(w=k.links)!=null&&w.length&&(g("Links:",14,12,!0),k.links.forEach(L=>b(L.title,L.url)))}(C=M.links)!=null&&C.length&&(g("Links:",12,12,!0),M.links.forEach(k=>b(k.title,k.url)))}(N=R.links)!=null&&N.length&&(g("Links:",10,12,!0),R.links.forEach(M=>b(M.title,M.url))),r+=5}(F=e.footer)!=null&&F.content&&(g("Footer:",10,12,!0),h(e.footer.content)),t.save(`${e.title||"Material"}.pdf`),n(100)},PK=()=>{var F,R,M,k,L,B,Q,j,O,z,T,G,W,X,ie,ue,$,ae,U,q,Z,ee,se,we,ye,Ce,Oe,Le,He,We,V,Se,te,ge,ce,ve,Ie,Pe,ke,Ke,lt,tt;const{id:e}=T6(),[n,t]=Bg(),r=Jn(),[i,a]=K.useState(null),[s,l]=K.useState({sectionIndex:0}),[c,d]=K.useState(null),[h,g]=K.useState(0),[b,m]=K.useState(!0);G7((i==null?void 0:i.sections)||[],s.sectionIndex||0,!!i),K.useEffect(()=>{g(Me=>Me+1)},[s]);const x=async()=>{if(i!=null&&i.originalFile)try{console.log(" Starting original file download:",i.originalFile.name);const Me=document.createElement("a");Me.href=i.originalFile.url,Me.download=i.originalFile.name,Me.target="_blank",document.body.appendChild(Me),Me.click(),document.body.removeChild(Me),console.log(" Original file download initiated")}catch(Me){console.error(" Original file download failed:",Me)}};K.useEffect(()=>{e&&(async()=>{var xe,_e;try{m(!0);const Ne=xn(r,"materials",e),ft=await Oa(Ne);if(ft.exists()){const Ze={id:ft.id,...ft.data()};console.log("Material data from Firestore:",Ze),console.log("Sections type:",typeof Ze.sections),console.log("Sections value:",Ze.sections),Array.isArray(Ze.sections)||(console.warn("Sections is not an array, initializing as empty array. Original value:",Ze.sections),Ze.sections=[]),Ze.sections=Ze.sections.map(Mt=>({id:Mt.id||Ri(),title:Mt.title||"Untitled Section",content:Mt.content||"",images:Array.isArray(Mt.images)?Mt.images.map(Wt=>({...Wt,title:Wt.title||""})):[],links:Array.isArray(Mt.links)?Mt.links:[],subsections:Array.isArray(Mt.subsections)?Mt.subsections.map(Wt=>({id:Wt.id||Ri(),title:Wt.title||"Untitled Subsection",content:Wt.content||"",images:Array.isArray(Wt.images)?Wt.images.map(Lt=>({...Lt,title:Lt.title||""})):[],links:Array.isArray(Wt.links)?Wt.links:[],subSubsections:Array.isArray(Wt.subSubsections)?Wt.subSubsections.map(Lt=>({id:Lt.id||Ri(),title:Lt.title||"Untitled Sub-subsection",content:Lt.content||"",images:Array.isArray(Lt.images)?Lt.images.map(Kt=>({...Kt,title:Kt.title||""})):[],links:Array.isArray(Lt.links)?Lt.links:[]})):[]})):[]})),console.log("Loaded material from database:",{title:Ze.title,sectionsCount:((xe=Ze.sections)==null?void 0:xe.length)||0,sectionsWithImages:((_e=Ze.sections)==null?void 0:_e.filter(Mt=>{var kt;return((kt=Mt.images)==null?void 0:kt.length)>0}).length)||0}),a(Ze)}}catch(Ne){console.error("Error fetching material:",Ne)}finally{m(!1)}})()},[e,r]),K.useEffect(()=>{e&&n.get("material")!==e&&(console.log(" Updating URL: Adding material ID to query parameters:",e),t(Me=>{const xe=new URLSearchParams(Me);return xe.set("material",e),xe},{replace:!0}))},[e,n,t]);const y=(Me,xe,_e)=>{l({sectionIndex:typeof Me=="number"?Me:void 0,subsectionIndex:xe,subSubsectionIndex:_e,type:typeof Me=="string"?Me:void 0})},A=Me=>{var Ze,Mt,kt,Wt,Lt,Kt,nn,un,zn,qn,Qr,ar,Mn,Vt,En,xa,Sr,li,va,Dt,Wn,sr,Mr,dr,fr,Hn,ys;const{sectionIndex:xe,subsectionIndex:_e,subSubsectionIndex:Ne,type:ft}=s;if(Me==="prev")if(Ne!==void 0&&Ne>0)l({sectionIndex:xe,subsectionIndex:_e,subSubsectionIndex:Ne-1});else if(Ne!==void 0&&Ne===0)l({sectionIndex:xe,subsectionIndex:_e});else if(_e!==void 0&&_e>0)l({sectionIndex:xe,subsectionIndex:_e-1});else if(_e!==void 0&&_e===0)l({sectionIndex:xe});else if(xe>0){const jr=i==null?void 0:i.sections[xe-1];l({sectionIndex:xe-1,subsectionIndex:(Ze=jr==null?void 0:jr.subsections)!=null&&Ze.length?jr.subsections.length-1:void 0,subSubsectionIndex:(Mt=jr==null?void 0:jr.subsections)!=null&&Mt.length?((Wt=(kt=jr.subsections[jr.subsections.length-1])==null?void 0:kt.subSubsections)==null?void 0:Wt.length)-1:void 0})}else ft==="footer"?l({sectionIndex:((i==null?void 0:i.sections.length)??1)-1,type:"footer"}):xe===void 0&&ft==="header"&&l({sectionIndex:((i==null?void 0:i.sections.length)??1)-1});else Me==="next"&&(Ne===void 0&&_e!==void 0&&((un=(nn=(Kt=(Lt=i==null?void 0:i.sections[xe??0])==null?void 0:Lt.subsections)==null?void 0:Kt[_e])==null?void 0:nn.subSubsections)!=null&&un.length)?l({sectionIndex:xe,subsectionIndex:_e,subSubsectionIndex:0}):Ne!==void 0&&Ne<(((ar=(Qr=(qn=(zn=i==null?void 0:i.sections[xe??0])==null?void 0:zn.subsections)==null?void 0:qn[_e??0])==null?void 0:Qr.subSubsections)==null?void 0:ar.length)??1)-1?l({sectionIndex:xe,subsectionIndex:_e,subSubsectionIndex:Ne+1}):Ne!==void 0&&Ne===(((xa=(En=(Vt=(Mn=i==null?void 0:i.sections[xe??0])==null?void 0:Mn.subsections)==null?void 0:Vt[_e??0])==null?void 0:En.subSubsections)==null?void 0:xa.length)??1)-1&&(_e??0)<(((li=(Sr=i==null?void 0:i.sections[xe??0])==null?void 0:Sr.subsections)==null?void 0:li.length)??1)-1?l({sectionIndex:xe,subsectionIndex:(_e??0)+1}):_e===void 0&&((Dt=(va=i==null?void 0:i.sections[xe??0])==null?void 0:va.subsections)!=null&&Dt.length)?l({sectionIndex:xe,subsectionIndex:0}):_e!==void 0&&_e<(((sr=(Wn=i==null?void 0:i.sections[xe??0])==null?void 0:Wn.subsections)==null?void 0:sr.length)??1)-1?l({sectionIndex:xe,subsectionIndex:_e+1}):_e!==void 0&&_e===(((dr=(Mr=i==null?void 0:i.sections[xe??0])==null?void 0:Mr.subsections)==null?void 0:dr.length)??1)-1&&(xe??0)<(((fr=i==null?void 0:i.sections)==null?void 0:fr.length)??1)-1?l({sectionIndex:(xe??0)+1}):(xe??0)<(((Hn=i==null?void 0:i.sections)==null?void 0:Hn.length)??1)-1?l({sectionIndex:(xe??0)+1}):xe===(((ys=i==null?void 0:i.sections)==null?void 0:ys.length)??1)-1&&_e===void 0&&l({sectionIndex:void 0,type:"footer"}))};if(b)return f.jsx(me,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:f.jsx(Gr,{size:60,sx:{color:ht.palette.primary.main}})});if(!i)return f.jsx(C6,{maxWidth:"md",children:f.jsxs(me,{sx:{textAlign:"center",py:8,px:4,backgroundColor:ht.palette.background.paper,borderRadius:Zt["2xl"],border:`1px solid ${ht.palette.divider}`},children:[f.jsx(de,{variant:"h5",sx:{fontFamily:ht.typography.h5.fontFamily,fontWeight:ht.typography.h5.fontWeight,color:ht.palette.text.secondary,mb:2},children:"Material Not Found"}),f.jsx(de,{variant:"body1",sx:{color:ht.palette.text.secondary},children:"The requested material could not be found or you don't have permission to view it."})]})});const w=s.type==="header"||s.type==="footer"?"":s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((M=(R=(F=i.sections[s.sectionIndex])==null?void 0:F.subsections[s.subsectionIndex])==null?void 0:R.subSubsections[s.subSubsectionIndex])==null?void 0:M.content)||"":s.subsectionIndex!==void 0?((L=(k=i.sections[s.sectionIndex])==null?void 0:k.subsections[s.subsectionIndex])==null?void 0:L.content)||"":((B=i.sections[s.sectionIndex])==null?void 0:B.content)||"":"",C=s.type==="header"||s.type==="footer"?"":s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((O=(j=(Q=i.sections[s.sectionIndex])==null?void 0:Q.subsections[s.subsectionIndex])==null?void 0:j.subSubsections[s.subSubsectionIndex])==null?void 0:O.title)||"":s.subsectionIndex!==void 0?((T=(z=i.sections[s.sectionIndex])==null?void 0:z.subsections[s.subsectionIndex])==null?void 0:T.title)||"":((G=i.sections[s.sectionIndex])==null?void 0:G.title)||"":"",N=s.sectionIndex!==void 0?s.subSubsectionIndex!==void 0?((ie=(X=(W=i.sections[s.sectionIndex])==null?void 0:W.subsections[s.subsectionIndex])==null?void 0:X.subSubsections[s.subSubsectionIndex])==null?void 0:ie.links)||[]:s.subsectionIndex!==void 0?(($=(ue=i.sections[s.sectionIndex])==null?void 0:ue.subsections[s.subsectionIndex])==null?void 0:$.links)||[]:((ae=i.sections[s.sectionIndex])==null?void 0:ae.links)||[]:[];return f.jsxs(me,{sx:{display:"flex",flexGrow:1,flexDirection:"column",minHeight:"100vh"},children:[f.jsxs(fn,{elevation:1,sx:{p:3,mb:2,backgroundColor:ht.palette.background.paper,borderRadius:0},children:[f.jsx(me,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center"},children:f.jsxs(me,{sx:{display:"flex",gap:2,alignItems:"center"},children:[f.jsx(Dn,{label:i.published?"Published":i.scheduledTimestamp?"Scheduled":"Draft",color:i.published?"success":i.scheduledTimestamp?"info":"warning",variant:"outlined",sx:{fontWeight:600}}),f.jsxs(me,{sx:{display:"flex",gap:1},children:[(i==null?void 0:i.originalFile)&&f.jsx(si,{title:`Download original file: ${i.originalFile.name}`,arrow:!0,children:f.jsx(At,{variant:"outlined",startIcon:f.jsx(aR,{}),endIcon:f.jsx(WE,{}),onClick:x,sx:{borderRadius:"12px",textTransform:"none",fontWeight:600},children:"PPTX"})}),f.jsx(At,{variant:"outlined",startIcon:f.jsx(Sx,{}),endIcon:f.jsx(WE,{}),onClick:async()=>{i&&(d(0),await FK(i,d),d(null))},disabled:c!==null,sx:{borderRadius:"12px",textTransform:"none",fontWeight:600},children:c!==null?"Generating...":"PDF"})]})]})}),c!==null&&f.jsx(me,{sx:{width:"100%",mt:2},children:f.jsx(Xo,{variant:"determinate",value:c,sx:{borderRadius:Zt.xl,height:8}})})]}),f.jsxs(me,{sx:{display:"flex",flexGrow:1,minHeight:0},children:[f.jsx(sv,{children:f.jsx(BT,{sections:i.sections,selected:s,onAddSection:()=>{},onAddSubsection:()=>{},onAddSubSubsection:()=>{},onSelectSection:y,onUpdateSectionTitle:()=>{},onUpdateSubsectionTitle:()=>{},onUpdateSubSubsectionTitle:()=>{},onDeleteSection:()=>{},onDeleteSubsection:()=>{},onDeleteSubSubsection:()=>{},isViewMode:!0})}),f.jsxs(me,{sx:{flexGrow:1,p:4,overflow:"auto"},children:[f.jsx(fn,{elevation:0,sx:{p:3,mb:3,backgroundColor:ht.palette.background.paper,borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`},children:f.jsx(de,{dangerouslySetInnerHTML:{__html:i.header.content.replace(/\n/g,"<br />")},sx:{fontFamily:ht.typography.body1.fontFamily,color:ht.palette.text.secondary,lineHeight:1.6}})}),f.jsx(de,{variant:"h3",align:"center",sx:{fontFamily:ht.typography.h3.fontFamily,fontWeight:ht.typography.h3.fontWeight,color:ht.palette.text.primary,mb:4},children:i.title}),C&&f.jsx(de,{variant:"h4",align:"center",sx:{fontFamily:ht.typography.h4.fontFamily,fontWeight:ht.typography.h4.fontWeight,color:ht.palette.text.primary,mb:4},children:C}),s.type!=="header"&&s.type!=="footer"&&f.jsx(Uw,{in:!0,timeout:400,children:f.jsxs(me,{children:[f.jsxs(fn,{elevation:0,sx:{p:4,mb:3,backgroundColor:ht.palette.background.paper,borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`},children:[f.jsx(de,{dangerouslySetInnerHTML:{__html:w.replace(/\n/g,"<br />")},sx:{fontFamily:ht.typography.body1.fontFamily,color:ht.palette.text.primary,lineHeight:1.7,"& p":{mb:2}}}),f.jsx(me,{sx:{mt:3},children:s.sectionIndex!==void 0&&f.jsx(f.Fragment,{children:s.subSubsectionIndex!==void 0?(((we=(se=(ee=(Z=(q=(U=i.sections[s.sectionIndex])==null?void 0:U.subsections)==null?void 0:q[s.subsectionIndex])==null?void 0:Z.subSubsections)==null?void 0:ee[s.subSubsectionIndex])==null?void 0:se.images)==null?void 0:we.length)||0)>0&&f.jsx(J5,{images:((He=(Le=(Oe=(Ce=(ye=i.sections[s.sectionIndex])==null?void 0:ye.subsections)==null?void 0:Ce[s.subsectionIndex])==null?void 0:Oe.subSubsections)==null?void 0:Le[s.subSubsectionIndex])==null?void 0:He.images)||[]}):s.subsectionIndex!==void 0?(((te=(Se=(V=(We=i.sections[s.sectionIndex])==null?void 0:We.subsections)==null?void 0:V[s.subsectionIndex])==null?void 0:Se.images)==null?void 0:te.length)||0)>0&&f.jsx(J5,{images:((ve=(ce=(ge=i.sections[s.sectionIndex])==null?void 0:ge.subsections)==null?void 0:ce[s.subsectionIndex])==null?void 0:ve.images)||[]}):(((Pe=(Ie=i.sections[s.sectionIndex])==null?void 0:Ie.images)==null?void 0:Pe.length)||0)>0&&f.jsx(J5,{images:((ke=i.sections[s.sectionIndex])==null?void 0:ke.images)||[]})})})]}),N.length>0&&f.jsx(yQ,{links:N})]})},h),f.jsxs(me,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[f.jsx(si,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:f.jsx("span",{children:f.jsx(Cn,{onClick:()=>A("prev"),disabled:s.sectionIndex===0&&s.subsectionIndex===void 0&&s.type==="header",sx:{backgroundColor:ht.palette.primary.main,color:ht.palette.primary.contrastText,"&:hover":{backgroundColor:ht.palette.primary.dark},"&:disabled":{backgroundColor:ht.palette.action.disabled,color:ht.palette.action.disabled}},children:f.jsx(sR,{})})})}),f.jsx(si,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:f.jsx("span",{children:f.jsx(Cn,{onClick:()=>A("next"),disabled:s.sectionIndex===(((Ke=i.sections)==null?void 0:Ke.length)??1)-1&&(s.subsectionIndex===void 0||s.subsectionIndex===(((tt=(lt=i.sections[s.sectionIndex])==null?void 0:lt.subsections)==null?void 0:tt.length)??1)-1)&&s.type==="footer",sx:{backgroundColor:ht.palette.primary.main,color:ht.palette.primary.contrastText,"&:hover":{backgroundColor:ht.palette.primary.dark},"&:disabled":{backgroundColor:ht.palette.action.disabled,color:ht.palette.action.disabled}},children:f.jsx(oR,{})})})})]}),f.jsx(fn,{elevation:0,sx:{p:3,mt:4,backgroundColor:ht.palette.background.paper,borderRadius:Zt.xl,border:`1px solid ${ht.palette.divider}`},children:f.jsx(de,{dangerouslySetInnerHTML:{__html:i.footer.content.replace(/\n/g,"<br />")},sx:{fontFamily:ht.typography.body1.fontFamily,color:ht.palette.text.secondary,lineHeight:1.6}})})]})]})]})},uI=({value:e,onChange:n})=>{const[t,r]=K.useState([]),{userDetails:i}=Ai();return K.useEffect(()=>{if(i!=null&&i.classes){const a=Object.entries(i.classes).filter(([s,l])=>l.isCourseAdmin||i.isSuperAdmin).map(([s,l])=>({id:s,number:l.number,title:l.title}));r(a)}else r([])},[i]),f.jsxs(Pc,{fullWidth:!0,sx:{mb:2},children:[f.jsx(zc,{id:"course-selector-label",children:"Course"}),f.jsx(Rl,{labelId:"course-selector-label",value:e,onChange:a=>n(a.target.value),label:"Course",children:t.length>0?t.map(a=>f.jsx(Zn,{value:a.id,children:`${a.number} - ${a.title}`},a.id)):f.jsx(Zn,{disabled:!0,children:"No courses available"})}),!e&&f.jsx(lR,{children:"Please select a course"})]})},zK=()=>{const[e,n]=K.useState(""),[t,r]=K.useState(""),[i,a]=K.useState([{title:"",url:""}]),[s,l]=K.useState(""),c=ea(),d=Jn(),h=async()=>{if(!s){alert("Please select a course to post the message.");return}try{await Ma(wn(d,"messages"),{title:e,description:t,links:i,course:s,postedOn:Kf(),isPinned:!1}),c("/")}catch(x){console.error("Error adding message: ",x)}},g=()=>c("/"),b=(x,y,A)=>{const w=[...i];w[x][y]=A,a(w)},m=()=>a([...i,{title:"",url:""}]);return f.jsx(C6,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:f.jsxs(fn,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[f.jsx(de,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Add New Message"}),f.jsx(ts,{sx:{mb:3,backgroundColor:"#DADADA"}}),f.jsxs(me,{sx:{mt:4},children:[f.jsx(uI,{value:s,onChange:l}),f.jsx(Bt,{label:"Subject",fullWidth:!0,value:e,onChange:x=>n(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),f.jsx(Bt,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:t,onChange:x=>r(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),f.jsx(de,{variant:"h6",sx:{mb:2},children:""}),i.map((x,y)=>f.jsxs(me,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[f.jsx(Bt,{label:`URL Title ${y+1}`,fullWidth:!0,value:x.title,onChange:A=>b(y,"title",A.target.value),sx:{mb:1}}),f.jsx(Bt,{label:`URL Link ${y+1}`,fullWidth:!0,value:x.url,onChange:A=>b(y,"url",A.target.value)})]},y)),f.jsx(At,{variant:"outlined",onClick:m,startIcon:f.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),f.jsx(ts,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),f.jsxs(me,{sx:{display:"flex",justifyContent:"space-between"},children:[f.jsx(At,{variant:"outlined",onClick:g,className:"cancel-button",children:"Cancel"}),f.jsx(At,{variant:"outlined",onClick:h,className:"save-button",children:"Save"})]})]})]})})},qK=()=>{const{id:e}=T6(),[n,t]=K.useState(""),[r,i]=K.useState(""),[a,s]=K.useState([{title:"",url:""}]),[l,c]=K.useState(""),d=ea(),h=Jn();K.useEffect(()=>{(async()=>{try{const A=xn(h,"messages",e),w=await Oa(A);if(w.exists()){const C=w.data();t(C.title),i(C.description),s(C.links||[{title:"",url:""}]),c(C.course||"")}}catch(A){console.error("Error fetching message: ",A)}})()},[h,e]);const g=async()=>{try{if(!l){alert("Please select a valid course to update the message.");return}const y=xn(h,"messages",e);await Wr(y,{title:n,description:r,links:a,course:l,lastUpdatedOn:Kf()}),d("/")}catch(y){console.error("Error editing message: ",y)}},b=()=>d("/"),m=(y,A,w)=>{const C=[...a];C[y][A]=w,s(C)},x=()=>s([...a,{title:"",url:""}]);return f.jsx(C6,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:f.jsxs(fn,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[f.jsx(de,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Edit Message"}),f.jsx(ts,{sx:{mb:3,backgroundColor:"#DADADA"}}),f.jsxs(me,{sx:{mt:4},children:[f.jsx(uI,{value:l,onChange:c}),f.jsx(Bt,{label:"Subject",fullWidth:!0,value:n,onChange:y=>t(y.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),f.jsx(Bt,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:r,onChange:y=>i(y.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),f.jsx(de,{variant:"h6",sx:{mb:2},children:""}),a.map((y,A)=>f.jsxs(me,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[f.jsx(Bt,{label:`URL Title ${A+1}`,fullWidth:!0,value:y.title,onChange:w=>m(A,"title",w.target.value),sx:{mb:1}}),f.jsx(Bt,{label:`URL Link ${A+1}`,fullWidth:!0,value:y.url,onChange:w=>m(A,"url",w.target.value)})]},A)),f.jsx(At,{variant:"outlined",onClick:x,startIcon:f.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),f.jsx(ts,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),f.jsxs(me,{sx:{display:"flex",justifyContent:"space-between"},children:[f.jsx(At,{variant:"outlined",onClick:b,className:"cancel-button",children:"Cancel"}),f.jsx(At,{variant:"outlined",onClick:g,className:"save-button",children:"Save"})]})]})]})})},jv=e=>e?typeof e=="object"&&"toDate"in e?e.toDate().toLocaleString():typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3).toLocaleString():"N/A":"No data available",mhe=e=>e?typeof e=="object"&&"toDate"in e?e.toDate():typeof e=="object"&&"seconds"in e?new Date(e.seconds*1e3):null:null,BK=({users:e})=>{const n=(r,i)=>r?{backgroundColor:"#6a1b9a",color:"#fff"}:i?{backgroundColor:"#1976d2",color:"#fff"}:{backgroundColor:"#e0e0e0",color:"#000"},t=r=>r?Object.entries(r).map(([i,a])=>f.jsx(Dn,{label:`${a.isCourseAdmin?"[Course Admin] ":""}${a.number||"N/A"} - ${a.title||"Untitled Course"}`,sx:{backgroundColor:a.isCourseAdmin?"#ffcccb":"#d4edda",color:a.isCourseAdmin?"#b71c1c":"#155724",margin:"4px",fontSize:"0.9rem",fontWeight:"bold",borderRadius:"8px",padding:"4px 8px"}},i)):"None";return f.jsx(_u,{component:fn,children:f.jsxs(ku,{children:[f.jsx(ju,{children:f.jsxs(Fi,{children:[f.jsx(dt,{children:"ID"}),f.jsx(dt,{children:"Status"}),f.jsx(dt,{children:"Last Login"}),f.jsx(dt,{children:"Courses"})]})}),f.jsx(Nu,{children:e.map(r=>f.jsxs(Fi,{sx:{"&:hover":{backgroundColor:"#f5f5f5",cursor:"pointer"}},children:[f.jsx(dt,{children:f.jsx(Dn,{label:r.id,color:r.isSuperAdmin?"secondary":r.isAdmin?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",...n(r.isSuperAdmin,r.isAdmin)}})}),f.jsx(dt,{children:f.jsx(Dn,{label:r.isSuperAdmin?"Super Admin":r.isAdmin?"Educator":"Student",color:r.isSuperAdmin?"secondary":r.isAdmin?"primary":"default"})}),f.jsx(dt,{children:jv(r.lastLogin)}),f.jsx(dt,{children:t(r.classes)||f.jsx(Dn,{label:"No courses assigned",sx:{backgroundColor:"#e0e0e0",color:"#000"}})})]},r.id))})]})})},UK=({userId:e,onUserDeleted:n})=>{const[t,r]=K.useState(!1),[i,a]=K.useState(!1),s=Jn(),l=()=>{r(!0)},c=()=>{r(!1)},d=async()=>{a(!0);try{const h=xn(s,"users",e);await _6(h),n(!0)}catch(h){console.error("Error deleting user:",h),n(!1)}a(!1),r(!1)};return f.jsxs(f.Fragment,{children:[f.jsx(At,{variant:"text",color:"error",onClick:l,children:"Delete User Account"}),f.jsxs(Xi,{open:t,onClose:c,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[f.jsx(pa,{id:"alert-dialog-title",children:"Confirm Deletion"}),f.jsx(Zi,{children:f.jsx(Fl,{id:"alert-dialog-description",children:"Are you sure you want to delete this user account? This action cannot be undone."})}),f.jsxs(ma,{children:[f.jsx(At,{onClick:c,color:"primary",disabled:i,children:"Cancel"}),f.jsx(At,{onClick:d,color:"error",autoFocus:!0,disabled:i,children:i?f.jsx(Gr,{size:24}):"Delete"})]})]})]})},$K=({userId:e,userClasses:n,courses:t,onCourseAssigned:r})=>{const[i,a]=K.useState(""),[s,l]=K.useState(!1),[c,d]=K.useState(!1),[h,g]=K.useState(""),[b,m]=K.useState(!1),[x,y]=K.useState(!1),[A,w]=K.useState(!1),[C,N]=K.useState(!1),F=Jn(),R=async()=>{if(!e||!i){g("Please enter a User ID and select a course."),w(!1),m(!0);return}d(!0);try{const B=xn(F,"users",e),Q=t.find(j=>j.id===i);if(Q){const j=xn(F,"courses",i),O=await Oa(j),z=O.exists()?O.data():null,T=(z==null?void 0:z.courseCreatedAt)||(z==null?void 0:z.createdAt)||(z==null?void 0:z.timestamp)||new Date;await Wr(B,{[`classes.${i}`]:{number:Q.number,title:Q.title,isCourseAdmin:s,courseCreatedAt:T,enrolledAt:new Date}}),g(`Course ${Q.title} assigned successfully to user ${e}${s?" as Course Admin.":"."}`),r(i,{number:Q.number,title:Q.title,isCourseAdmin:s}),N(!0),setTimeout(()=>N(!1),1e3),y(!1),a(""),l(!1),w(!0)}else g("Selected course not found."),w(!1)}catch(B){console.error("Error assigning course:",B),g("Error assigning course."),w(!1)}d(!1),m(!0)},M=()=>{m(!1)},k=()=>y(!0),L=()=>y(!1);return f.jsxs(f.Fragment,{children:[f.jsxs(me,{sx:{display:"flex",alignItems:"center",mt:2,p:2,borderRadius:2,transition:"background-color 0.3s ease",backgroundColor:C?"#e8f5e8":"transparent",border:C?"2px solid #4caf50":"2px solid transparent"},children:[f.jsx(de,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Courses:"}),f.jsx(me,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:n&&Object.keys(n).length>0?Object.values(n).map((B,Q)=>f.jsx(Dn,{label:`${B.isCourseAdmin?"[Course Admin] ":""}${B.number} - ${B.title}`,style:{backgroundColor:B.isCourseAdmin?"#ffcccb":"#d4edda",color:B.isCourseAdmin?"#b71c1c":"#155724",margin:"4px"}},Q)):f.jsx(de,{children:"No courses assigned."})}),f.jsxs(Pc,{sx:{minWidth:200,mr:2},children:[f.jsx(zc,{children:"Course"}),f.jsx(Rl,{value:i,onChange:B=>a(B.target.value),children:t.map(B=>f.jsx(Zn,{value:B.id,children:`${B.number} - ${B.title}`},B.id))})]}),f.jsxs(Pc,{sx:{mr:2},children:[f.jsx(zc,{children:"Role"}),f.jsxs(Rl,{value:s?"admin":"student",onChange:B=>l(B.target.value==="admin"),children:[f.jsx(Zn,{value:"admin",children:"Course Admin"}),f.jsx(Zn,{value:"student",children:"Student"})]})]}),f.jsx(At,{variant:"contained",color:"primary",onClick:k,disabled:c||!i,children:c?f.jsx(Gr,{size:24}):"Assign Course"})]}),f.jsx(rl,{open:b,autoHideDuration:6e3,onClose:M,children:f.jsx(vr,{onClose:M,severity:A?"success":"error",children:h})}),f.jsxs(Xi,{open:x,onClose:L,"aria-labelledby":"assign-dialog-title",children:[f.jsx(pa,{id:"assign-dialog-title",children:"Assign Course"}),f.jsx(Zi,{children:f.jsxs(Fl,{children:["Are you sure you want to assign the course ",i," to this user",s?" as a Course Admin?":"?"]})}),f.jsxs(ma,{children:[f.jsx(At,{onClick:L,color:"primary",children:"Cancel"}),f.jsx(At,{onClick:R,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},HK=()=>{const[e,n]=K.useState(""),[t,r]=K.useState(!1),[i,a]=K.useState(!1),[s,l]=K.useState(void 0),[c,d]=K.useState(!1),[h,g]=K.useState(""),[b,m]=K.useState(!1),[x,y]=K.useState(!1),[A,w]=K.useState(!1),[C,N]=K.useState([]),[F,R]=K.useState(""),[M,k]=K.useState([]),L=Jn(),[B,Q]=K.useState("");ea(),K.useEffect(()=>{(async()=>{try{const Z=wn(L,"courses"),se=(await mi(Z)).docs.map(we=>({id:we.id,number:we.data().number,title:we.data().title}));k(se)}catch(Z){console.error("Error fetching courses:",Z)}})()},[L]);const j=async()=>{if(e){d(!0),a(!1);try{const q=xn(L,"users",e),Z=await Oa(q);if(Z.exists()){const ee=Z.data();r(ee.isAdmin),l(ee.classes),a(!0)}else g("User not found."),m(!0)}catch(q){console.error("Error fetching user:",q),g("Error fetching user."),m(!0)}d(!1)}},O=K.useCallback(async()=>{d(!0);try{const q=wn(L,"users"),ee=(await mi(q)).docs.map(se=>({id:se.id,...se.data()}));N(ee)}catch(q){console.error("Error fetching users:",q),g("Error fetching users."),m(!0)}d(!1)},[L]);K.useEffect(()=>{O()},[O]);const z=async()=>{try{const q=xn(L,"users",e);await Wr(q,{isAdmin:A}),g(`User ${A?"granted":"revoked"} admin privileges successfully.`),r(A);const Z=C.map(ee=>ee.id===e?{...ee,isAdmin:A}:ee);N(Z)}catch(q){console.error("Error updating user:",q),g("Error updating user.")}m(!0),y(!1)},T=q=>{q.preventDefault(),i?(w(!t),y(!0)):(g("User not found."),m(!0))},G=()=>{m(!1)},W=()=>{y(!1)},X=q=>{R(q.target.value)},ie=q=>F?q.classes&&F in q.classes:!0,ue=q=>B==="superAdmin"?q.isSuperAdmin:B==="educator"?q.isAdmin&&!q.isSuperAdmin:B==="student"?!q.isAdmin&&!q.isSuperAdmin:!0,$=q=>q.filter(Z=>ie(Z)&&ue(Z)),ae=q=>{q?(g("User account deleted successfully."),a(!1),n(""),O()):g("Error deleting user account."),m(!0)},U=(q,Z)=>{l(ee=>({...ee,[q]:Z}))};return f.jsxs(me,{sx:{padding:3},children:[f.jsx(Pl,{title:"User Management"}),f.jsx(de,{variant:"body1",gutterBottom:!0,children:"Use this page to view and manage user permissions. Enter the User ID to grant or revoke admin privileges, or delete user account."}),f.jsx(me,{sx:{display:"flex",justifyContent:"flex-start"},children:f.jsxs("form",{onSubmit:T,children:[f.jsx(Bt,{label:"User ID",value:e,onChange:q=>n(q.target.value),fullWidth:!0,required:!0,margin:"normal",onKeyPress:q=>{q.key==="Enter"&&(j(),q.preventDefault())},sx:{minWidth:"300px"}}),c?f.jsx(Gr,{}):i&&f.jsxs(fn,{variant:"outlined",sx:{padding:2,borderRadius:"15px",mb:1},children:[f.jsxs(me,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #e0e0e0",padding:"16px",borderRadius:"8px",backgroundColor:"#f9f9f9",mb:2},children:[f.jsxs(me,{sx:{display:"flex",alignItems:"center"},children:[f.jsx(de,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Status:"}),f.jsx(Dn,{label:t?"Educator (Admin)":"Student (Non-Admin)",color:t?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",backgroundColor:t?"#1976d2":"#e0e0e0",color:t?"#fff":"#000"}})]}),f.jsx(At,{type:"submit",variant:"contained",color:t?"secondary":"primary",sx:{padding:"8px 16px",textTransform:"none",fontSize:"0.9rem",borderRadius:"8px",fontWeight:"bold",boxShadow:"none","&:hover":{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)"}},children:t?"Revoke Educator Access":"Grant Educator Access"})]}),f.jsx($K,{userId:e,userClasses:s,courses:M,onCourseAssigned:U}),f.jsx(UK,{userId:e,onUserDeleted:ae})]})]})}),f.jsx(de,{variant:"h5",component:"h2",gutterBottom:!0,children:"Current Users"}),f.jsxs(Pc,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[f.jsx(zc,{children:"Filter by Course"}),f.jsxs(Rl,{value:F,onChange:X,children:[f.jsx(Zn,{value:"",children:"All Courses"}),M.map(q=>f.jsx(Zn,{value:q.id,children:q.number},q.id))]})]}),f.jsxs(Pc,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[f.jsx(zc,{children:"User Status"}),f.jsxs(Rl,{value:B,onChange:q=>Q(q.target.value),children:[f.jsx(Zn,{value:"",children:"All Statuses"}),f.jsx(Zn,{value:"superAdmin",children:"Super Admin"}),f.jsx(Zn,{value:"educator",children:"Educator"}),f.jsx(Zn,{value:"student",children:"Student"})]})]}),f.jsx(BK,{users:$(C)}),f.jsxs(Xi,{open:x,onClose:W,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[f.jsx(pa,{id:"alert-dialog-title",children:t?"Revoke Admin Privileges":"Grant Admin Privileges"}),f.jsx(Zi,{children:f.jsxs(Fl,{id:"alert-dialog-description",children:["Are you sure you want to ",t?"revoke":"grant"," admin privileges for this user?"]})}),f.jsxs(ma,{children:[f.jsx(At,{onClick:W,color:"primary",children:"Cancel"}),f.jsx(At,{onClick:z,color:"primary",autoFocus:!0,children:"Confirm"})]})]}),f.jsx(rl,{open:b,autoHideDuration:6e3,onClose:G,children:f.jsx(vr,{onClose:G,severity:"info",children:h})})]})},WK=({onCourseAdded:e})=>{const[n,t]=K.useState(""),{userDetails:r,setUserDetails:i}=Ai(),a=Jn(),s=c=>{t(c.target.value)},l=async()=>{try{const h=(await mi(wn(a,"courses"))).docs.map(g=>({id:g.id,passcode:g.data().passcode,number:g.data().number,title:g.data().title})).find(g=>g.passcode===n);if(h){if(r)if((r.classes||{})[h.id])e(`Course access for ${h.number} is already added to your account!`,"info");else{const b=xn(a,"users",r.uid),m=xn(a,"courses",h.id),x=await Oa(m),y=x.exists()?x.data():null,A=(y==null?void 0:y.courseCreatedAt)||(y==null?void 0:y.createdAt)||(y==null?void 0:y.timestamp)||new Date;await Wr(b,{[`classes.${h.id}`]:{number:h.number,title:h.title,isCourseAdmin:!1,courseCreatedAt:A,enrolledAt:new Date}});const w=await Oa(b);if(w.exists()){const C=w.data();i({...C,uid:r.uid})}e(`Course access for ${h.number} added to your account successfully!`,"success"),t("")}}else e("Invalid passcode. Course not found.","error")}catch(c){console.error("Error updating document: ",c),e("Error adding course access to your account.","error")}};return f.jsx("div",{children:f.jsxs(xt,{container:!0,spacing:2,sx:{maxWidth:"50%"},children:[f.jsx(xt,{item:!0,xs:10,children:f.jsx(Bt,{label:"Enter Course Passcode",value:n,onChange:s,fullWidth:!0,sx:{mb:2}})}),f.jsx(xt,{item:!0,xs:2,sx:{display:"flex",alignItems:"center"},children:f.jsx(At,{variant:"contained",onClick:l,children:"Add Course"})})]})})};var w1={},r4;function VK(){if(r4)return w1;r4=1;var e=Wd();Object.defineProperty(w1,"__esModule",{value:!0}),w1.default=void 0;var n=e(Yd()),t=Vd();return w1.default=(0,n.default)((0,t.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),w1}var YK=VK();const GK=ns(YK),QK=({userDetails:e,getAccountStatus:n,renderCourses:t})=>f.jsxs(fn,{elevation:3,sx:{padding:3,borderRadius:"12px",backgroundColor:"#ffffff",maxWidth:"500px",margin:"auto"},children:[f.jsx(me,{sx:{display:"flex",justifyContent:"center",mb:2},children:f.jsx(uR,{sx:{width:72,height:72,bgcolor:"#1054c4"},children:f.jsx(GK,{sx:{fontSize:48,color:"#f8f4fc"}})})}),f.jsxs(me,{sx:{display:"flex",flexDirection:"column",gap:1,alignItems:"left"},children:[f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(de,{sx:{fontWeight:"bold"},children:"User ID:"}),f.jsx(Dn,{label:e.uid,variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#E3F2FD",color:"#1565C0"}})]}),f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(de,{sx:{fontWeight:"bold"},children:"Account Status:"}),f.jsx(Dn,{label:n(),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#C8E6C9",color:"#2E7D32"}})]}),f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(de,{sx:{fontWeight:"bold"},children:"Last Login:"}),f.jsx(Dn,{label:jv(e.lastLogin),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#FFF3E0",color:"#EF6C00"}})]})]}),f.jsx(ts,{sx:{my:2}}),f.jsx(de,{sx:{fontWeight:"bold",mb:1},children:"Current Courses:"}),f.jsx(me,{sx:{display:"flex",flexWrap:"wrap"},children:t()})]}),KK=()=>{const{userDetails:e,setUserDetails:n}=Ai(),[t,r]=K.useState(!1),[i,a]=K.useState(!1),[s,l]=K.useState(!1),[c,d]=K.useState(""),[h,g]=K.useState("success"),b=ea(),m=Jn(),x=()=>{e!=null&&e.isAdmin||b("/request-educator-permissions")},y=(R,M)=>{l(!0),d(R),g(M),M==="success"&&e&&(async()=>{const L=xn(m,"users",e.uid),B=await Oa(L);if(B.exists()){const Q=B.data();n({...Q,uid:e.uid})}})()},A=()=>{r(!t)},w=()=>{a(!i)},C=()=>e!=null&&e.isSuperAdmin?"Super Admin":e!=null&&e.isAdmin?"Educator":"Student",N=()=>{l(!1)},F=()=>e!=null&&e.classes?Object.entries(e.classes).map(([R,M])=>f.jsx(Dn,{label:`${M.number} - ${M.title}${M.isCourseAdmin?" (Admin)":""}`,variant:"outlined",sx:{margin:"4px",fontSize:"14px",fontWeight:"bold",bgcolor:M.isCourseAdmin?"#FFCDD2":"#E3F2FD",color:M.isCourseAdmin?"#C62828":"#1565C0"}},R)):"None";return f.jsxs(me,{className:"profile-container",children:[f.jsx(Pl,{title:"My Account",subtitle:"Manage your account settings, course enrollments, and permissions"}),e&&f.jsx(QK,{userDetails:e,getAccountStatus:C,renderCourses:F}),!(e!=null&&e.isAdmin)&&f.jsxs(me,{className:"profile-switch-container",children:[f.jsx(Td,{control:f.jsx(Od,{checked:t,onChange:A}),label:"Enroll in a Course (As a Student)"}),t&&f.jsxs(me,{sx:{mt:2},children:[f.jsx(de,{variant:"body1",className:"profile-text",children:"Use the area below to add a course access to your account."}),f.jsx(WK,{onCourseAdded:y})]})]}),f.jsxs(me,{className:"profile-advanced-section",children:[f.jsx(Td,{control:f.jsx(Od,{checked:i,onChange:w}),label:"Advanced"}),i&&f.jsx(f.Fragment,{children:f.jsx(me,{sx:{mt:2},children:f.jsx(At,{variant:"text",onClick:x,disabled:e==null?void 0:e.isAdmin,className:"profile-button",children:e!=null&&e.isAdmin?f.jsx(de,{children:f.jsx("span",{className:"success-text",children:" Educator Account Approved"})}):"Request Educator Permissions"})})})]}),f.jsx(rl,{open:s,autoHideDuration:6e3,onClose:N,children:f.jsx(vr,{onClose:N,severity:h,sx:{width:"100%"},children:c})})]})},XK=({selectedCourse:e,selectedCourseDetails:n,onStudentChange:t})=>{const[r,i]=K.useState(""),[a,s]=K.useState(!1),[l,c]=K.useState(""),[d,h]=K.useState(!1),[g,b]=K.useState(!1),m=Jn(),x=async()=>{if(!r||!e){c("Please enter a Student ID and select a course."),h(!0);return}s(!0);try{const C=xn(m,"users",r),N=await Oa(C);if(N.exists()){const R=N.data().classes||{};e in R?b(!0):(c(`Student ${r} is not enrolled in course ${(n==null?void 0:n.number)||e}, cannot remove.`),h(!0))}else c(`Student ${r} does not exist.`),h(!0)}catch(C){console.error("Error checking student course:",C),c("Error checking student course."),h(!0)}s(!1)},y=async()=>{s(!0);try{const C=xn(m,"users",r);await Wr(C,{[`classes.${e}`]:XR()}),c(`Student ${r} removed from course ${(n==null?void 0:n.number)||e}.`),i(""),t()}catch(C){console.error("Error updating student course:",C),c("Error updating student course.")}s(!1),h(!0),b(!1)},A=()=>{h(!1)},w=()=>{b(!1)};return f.jsxs(me,{sx:{mt:4},children:[f.jsxs(de,{variant:"h6",component:"h2",children:["Remove Students from ",n?`${n.number}`:e]}),f.jsxs(me,{sx:{display:"flex",alignItems:"center",mt:2},children:[f.jsx(Bt,{label:"Student ID",value:r,onChange:C=>i(C.target.value),fullWidth:!0,required:!0,margin:"normal",sx:{mr:2}}),f.jsx(At,{variant:"contained",color:"primary",onClick:x,disabled:a,children:a?f.jsx(Gr,{size:24}):"Remove"})]}),f.jsx(rl,{open:d,autoHideDuration:6e3,onClose:A,children:f.jsx(vr,{onClose:A,severity:"info",children:l})}),f.jsxs(Xi,{open:g,onClose:w,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[f.jsx(pa,{id:"confirm-dialog-title",children:"Confirm Removal"}),f.jsx(Zi,{children:f.jsx(Fl,{id:"confirm-dialog-description",children:"Are you sure you want to remove the student from the course? This action cannot be undone."})}),f.jsxs(ma,{children:[f.jsx(At,{onClick:w,color:"primary",children:"Cancel"}),f.jsx(At,{onClick:y,color:"secondary",autoFocus:!0,children:"Confirm"})]})]})]})},ZK=({students:e,selectedCourse:n})=>{const t=()=>{if(e.length>0){const r=["User ID","Courses","Last Login"],i=e.map(d=>[`"${d.id||d.uid}"`,`"${d.classes?Object.values(d.classes).map(h=>`${h.number} - ${h.title}`).join(", "):"None"}"`,`"${jv(d.lastLogin)}"`]),a=[r.join(","),...i.map(d=>d.join(","))].join(`
`),s=new Blob([a],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(s),c=document.createElement("a");c.href=l,c.setAttribute("download",`${n}_students.csv`),document.body.appendChild(c),c.click(),document.body.removeChild(c)}};return f.jsx(me,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:f.jsx(At,{variant:"contained",color:"primary",onClick:t,disabled:e.length===0,sx:{background:"linear-gradient(45deg, #3f51b5 30%, #1e88e5 90%)",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"white",padding:"0 30px",fontSize:"16px",fontWeight:"bold",textTransform:"none","&:hover":{background:"linear-gradient(45deg, #1e88e5 30%, #3f51b5 90%)",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)"}},children:"Export as CSV"})})},JK=({userClasses:e,selectedCourse:n,onCourseChange:t})=>f.jsx(me,{sx:{mb:3},children:f.jsxs(Pc,{fullWidth:!0,variant:"outlined",children:[f.jsx(zc,{id:"course-selector-label",children:"Select a Course"}),f.jsx(Rl,{"aria-label":"Select a course",labelId:"course-selector-label",value:n,onChange:r=>t(r.target.value),label:"Select a Course",children:Object.entries(e).map(([r,i])=>f.jsx(Zn,{value:r,children:`${i.number} - ${i.title}`},r))})]})}),eX=({selectedCourse:e,selectedCourseDetails:n,onCourseUpdate:t})=>{const[r,i]=K.useState(!1),[a,s]=K.useState(""),[l,c]=K.useState(""),d=Jn(),{userDetails:h,refreshUserDetails:g}=Ai(),b=()=>{n&&(s(n.number||""),c(n.title||"")),i(!0)},m=()=>{i(!1),x()},x=()=>{s(""),c("")},y=async()=>{if(!e||!(h!=null&&h.uid)){console.error("Selected course or user details are missing.");return}try{const A=xn(d,"courses",e);await Wr(A,{number:a,title:l});const w=xn(d,"users",h.uid),C=await Oa(w);if(C.exists()){const N=C.data();if(N.classes&&N.classes[e]){const F=N.classes[e],R={...N.classes,[e]:{...F,number:a,title:l}};await Wr(w,{classes:R})}}await g(),t(),m()}catch(A){console.error("Error updating course:",A)}};return f.jsxs(me,{sx:{mt:2},children:[f.jsx(At,{variant:"outlined",onClick:b,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#4CAF50",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#388E3C",transform:"scale(1.03)"}},children:"Edit Course Details"}),f.jsxs(Xi,{open:r,onClose:m,children:[f.jsx(pa,{children:"Edit Course Details"}),f.jsxs(Zi,{children:[f.jsx(Bt,{label:"Course Number",value:a,onChange:A=>s(A.target.value),fullWidth:!0,sx:{mb:2}}),f.jsx(Bt,{label:"Course Title",value:l,onChange:A=>c(A.target.value),fullWidth:!0})]}),f.jsxs(ma,{children:[f.jsx(At,{onClick:m,children:"Cancel"}),f.jsx(At,{onClick:y,variant:"contained",color:"primary",disabled:!a||!l,children:"Save"})]})]})]})},tX=({selectedCourse:e,onInfoUpdate:n})=>{var z,T,G,W,X,ie,ue,$,ae,U,q,Z,ee;const[t,r]=K.useState(!1),[i,a]=K.useState(!1),[s,l]=K.useState(null),[c,d]=K.useState({}),[h,g]=K.useState("contact"),b=Jn();K.useEffect(()=>{t&&e&&m()},[t,e]);const m=async()=>{try{a(!0);const se=xn(b,"courses",e),we=await Oa(se);if(we.exists()){const ye=we.data();d(ye.additionalInfo||{})}}catch(se){console.error("Error fetching course info:",se),l("Failed to load course information")}finally{a(!1)}},x=()=>{r(!0),l(null)},y=()=>{r(!1),l(null)},A=async()=>{try{a(!0);const se=xn(b,"courses",e);await Wr(se,{additionalInfo:{...c,lastUpdated:new Date}}),n(),y()}catch(se){console.error("Error updating course info:",se),l("Failed to save course information")}finally{a(!1)}},w=(se,we)=>{d(ye=>({...ye,contactInfo:{...ye.contactInfo,[se]:we}}))},C=(se,we)=>{d(ye=>({...ye,policies:{...ye.policies,[se]:we}}))},N=()=>{d(se=>({...se,textbooks:[...se.textbooks||[],{title:"",author:"",edition:"",isbn:"",required:!0}]}))},F=(se,we,ye)=>{d(Ce=>{var Oe;return{...Ce,textbooks:(Oe=Ce.textbooks)==null?void 0:Oe.map((Le,He)=>He===se?{...Le,[we]:ye}:Le)}})},R=se=>{d(we=>{var ye;return{...we,textbooks:(ye=we.textbooks)==null?void 0:ye.filter((Ce,Oe)=>Oe!==se)}})},M=()=>{d(se=>({...se,gradingPolicy:[...se.gradingPolicy||[],{component:"",percentage:0,description:""}]}))},k=(se,we,ye)=>{d(Ce=>{var Oe;return{...Ce,gradingPolicy:(Oe=Ce.gradingPolicy)==null?void 0:Oe.map((Le,He)=>He===se?{...Le,[we]:ye}:Le)}})},L=se=>{d(we=>{var ye;return{...we,gradingPolicy:(ye=we.gradingPolicy)==null?void 0:ye.filter((Ce,Oe)=>Oe!==se)}})},B=(se,we)=>{d(ye=>{var Ce;return{...ye,[se]:{...ye[se],[we]:[...((Ce=ye[se])==null?void 0:Ce[we])||[],""]}}})},Q=(se,we,ye,Ce)=>{d(Oe=>{var Le;return{...Oe,[se]:{...Oe[se],[we]:(((Le=Oe[se])==null?void 0:Le[we])||[]).map((He,We)=>We===ye?Ce:He)}}})},j=(se,we,ye)=>{d(Ce=>{var Oe;return{...Ce,[se]:{...Ce[se],[we]:(((Oe=Ce[se])==null?void 0:Oe[we])||[]).filter((Le,He)=>He!==ye)}}})},O=se=>(we,ye)=>{g(ye?se:!1)};return f.jsxs(me,{sx:{mt:2},children:[f.jsx(At,{variant:"outlined",onClick:x,startIcon:f.jsx(wu,{}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#2196F3",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#1976D2",transform:"scale(1.03)"}},children:"Edit Additional Info"}),f.jsxs(Xi,{open:t,onClose:y,maxWidth:"md",fullWidth:!0,children:[f.jsx(pa,{children:f.jsx(de,{variant:"h5",children:"Edit Additional Course Information"})}),f.jsxs(Zi,{sx:{minHeight:"500px"},children:[s&&f.jsx(vr,{severity:"error",sx:{mb:2},children:s}),f.jsxs(kd,{expanded:h==="contact",onChange:O("contact"),children:[f.jsx(jd,{expandIcon:f.jsx(Vo,{}),children:f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(cR,{color:"primary"}),f.jsx(de,{variant:"h6",children:"Contact Information"})]})}),f.jsx(Nd,{children:f.jsxs(xt,{container:!0,spacing:2,children:[f.jsx(xt,{item:!0,xs:12,md:6,children:f.jsx(Bt,{label:"Email",fullWidth:!0,value:((z=c.contactInfo)==null?void 0:z.email)||"",onChange:se=>w("email",se.target.value)})}),f.jsx(xt,{item:!0,xs:12,md:6,children:f.jsx(Bt,{label:"Phone",fullWidth:!0,value:((T=c.contactInfo)==null?void 0:T.phone)||"",onChange:se=>w("phone",se.target.value)})}),f.jsx(xt,{item:!0,xs:12,md:6,children:f.jsx(Bt,{label:"Office",fullWidth:!0,value:((G=c.contactInfo)==null?void 0:G.office)||"",onChange:se=>w("office",se.target.value)})}),f.jsx(xt,{item:!0,xs:12,md:6,children:f.jsx(Bt,{label:"Office Hours",fullWidth:!0,value:((W=c.contactInfo)==null?void 0:W.officeHours)||"",onChange:se=>w("officeHours",se.target.value)})}),f.jsx(xt,{item:!0,xs:12,children:f.jsx(Bt,{label:"Website",fullWidth:!0,value:((X=c.contactInfo)==null?void 0:X.website)||"",onChange:se=>w("website",se.target.value)})})]})})]}),f.jsxs(kd,{expanded:h==="textbooks",onChange:O("textbooks"),children:[f.jsx(jd,{expandIcon:f.jsx(Vo,{}),children:f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(dR,{color:"primary"}),f.jsx(de,{variant:"h6",children:"Textbooks & Resources"})]})}),f.jsxs(Nd,{children:[f.jsx(me,{sx:{mb:2},children:f.jsx(At,{startIcon:f.jsx(yu,{}),onClick:N,variant:"outlined",children:"Add Textbook"})}),(ie=c.textbooks)==null?void 0:ie.map((se,we)=>f.jsx(me,{sx:{mb:3,p:2,border:"1px solid #ddd",borderRadius:1},children:f.jsxs(xt,{container:!0,spacing:2,children:[f.jsx(xt,{item:!0,xs:12,children:f.jsx(Bt,{label:"Title",fullWidth:!0,value:se.title,onChange:ye=>F(we,"title",ye.target.value)})}),f.jsx(xt,{item:!0,xs:12,md:4,children:f.jsx(Bt,{label:"Author",fullWidth:!0,value:se.author||"",onChange:ye=>F(we,"author",ye.target.value)})}),f.jsx(xt,{item:!0,xs:12,md:4,children:f.jsx(Bt,{label:"Edition",fullWidth:!0,value:se.edition||"",onChange:ye=>F(we,"edition",ye.target.value)})}),f.jsx(xt,{item:!0,xs:12,md:4,children:f.jsx(Bt,{label:"ISBN",fullWidth:!0,value:se.isbn||"",onChange:ye=>F(we,"isbn",ye.target.value)})}),f.jsx(xt,{item:!0,xs:12,children:f.jsxs(me,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx(Td,{control:f.jsx(Od,{checked:se.required,onChange:ye=>F(we,"required",ye.target.checked)}),label:"Required"}),f.jsx(Cn,{onClick:()=>R(we),color:"error",children:f.jsx(_d,{})})]})})]})},we))]})]}),f.jsxs(kd,{expanded:h==="grading",onChange:O("grading"),children:[f.jsx(jd,{expandIcon:f.jsx(Vo,{}),children:f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(fR,{color:"primary"}),f.jsx(de,{variant:"h6",children:"Grading Policy"})]})}),f.jsxs(Nd,{children:[f.jsx(me,{sx:{mb:2},children:f.jsx(At,{startIcon:f.jsx(yu,{}),onClick:M,variant:"outlined",children:"Add Grading Component"})}),(ue=c.gradingPolicy)==null?void 0:ue.map((se,we)=>f.jsx(me,{sx:{mb:2,p:2,border:"1px solid #ddd",borderRadius:1},children:f.jsxs(xt,{container:!0,spacing:2,children:[f.jsx(xt,{item:!0,xs:12,md:4,children:f.jsx(Bt,{label:"Component",fullWidth:!0,value:se.component,onChange:ye=>k(we,"component",ye.target.value)})}),f.jsx(xt,{item:!0,xs:12,md:3,children:f.jsx(Bt,{label:"Percentage",type:"number",fullWidth:!0,value:se.percentage,onChange:ye=>k(we,"percentage",parseInt(ye.target.value)||0),inputProps:{min:0,max:100}})}),f.jsx(xt,{item:!0,xs:12,md:4,children:f.jsx(Bt,{label:"Description",fullWidth:!0,value:se.description||"",onChange:ye=>k(we,"description",ye.target.value)})}),f.jsx(xt,{item:!0,xs:12,md:1,children:f.jsx(Cn,{onClick:()=>L(we),color:"error",children:f.jsx(_d,{})})})]})},we))]})]}),f.jsxs(kd,{expanded:h==="policies",onChange:O("policies"),children:[f.jsx(jd,{expandIcon:f.jsx(Vo,{}),children:f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(hR,{color:"primary"}),f.jsx(de,{variant:"h6",children:"Course Policies"})]})}),f.jsx(Nd,{children:f.jsx(xt,{container:!0,spacing:2,children:[{key:"attendance",label:"Attendance Policy"},{key:"lateWork",label:"Late Work Policy"},{key:"academicIntegrity",label:"Academic Integrity"},{key:"accommodations",label:"Accommodations"},{key:"communication",label:"Communication Policy"},{key:"safety",label:"Safety Policy"},{key:"groupWork",label:"Group Work Policy"},{key:"makeupPolicy",label:"Make-up Policy"}].map(({key:se,label:we})=>{var ye;return f.jsx(xt,{item:!0,xs:12,children:f.jsx(Bt,{label:we,multiline:!0,rows:3,fullWidth:!0,value:((ye=c.policies)==null?void 0:ye[se])||"",onChange:Ce=>C(se,Ce.target.value)})},se)})})})]}),f.jsxs(kd,{expanded:h==="lab",onChange:O("lab"),children:[f.jsx(jd,{expandIcon:f.jsx(Vo,{}),children:f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(v6,{color:"primary"}),f.jsx(de,{variant:"h6",children:"Laboratory Information"})]})}),f.jsx(Nd,{children:f.jsxs(xt,{container:!0,spacing:3,children:[f.jsxs(xt,{item:!0,xs:12,children:[f.jsx(de,{variant:"subtitle2",sx:{mb:1},children:"Safety Requirements"}),f.jsx(me,{sx:{mb:2},children:f.jsx(At,{startIcon:f.jsx(yu,{}),onClick:()=>B("labSpecific","safetyRequirements"),size:"small",variant:"outlined",children:"Add Safety Requirement"})}),(ae=($=c.labSpecific)==null?void 0:$.safetyRequirements)==null?void 0:ae.map((se,we)=>f.jsxs(me,{sx:{display:"flex",gap:1,mb:1},children:[f.jsx(Bt,{fullWidth:!0,size:"small",value:se,onChange:ye=>Q("labSpecific","safetyRequirements",we,ye.target.value),placeholder:"Safety requirement"}),f.jsx(Cn,{onClick:()=>j("labSpecific","safetyRequirements",we),color:"error",size:"small",children:f.jsx(_d,{})})]},we))]}),f.jsxs(xt,{item:!0,xs:12,md:6,children:[f.jsx(de,{variant:"subtitle2",sx:{mb:1},children:"Required Equipment"}),f.jsx(me,{sx:{mb:2},children:f.jsx(At,{startIcon:f.jsx(yu,{}),onClick:()=>B("labSpecific","requiredEquipment"),size:"small",variant:"outlined",children:"Add Equipment"})}),(q=(U=c.labSpecific)==null?void 0:U.requiredEquipment)==null?void 0:q.map((se,we)=>f.jsxs(me,{sx:{display:"flex",gap:1,mb:1},children:[f.jsx(Bt,{fullWidth:!0,size:"small",value:se,onChange:ye=>Q("labSpecific","requiredEquipment",we,ye.target.value),placeholder:"Equipment item"}),f.jsx(Cn,{onClick:()=>j("labSpecific","requiredEquipment",we),color:"error",size:"small",children:f.jsx(_d,{})})]},we))]}),f.jsxs(xt,{item:!0,xs:12,md:6,children:[f.jsx(de,{variant:"subtitle2",sx:{mb:1},children:"Dress Code"}),f.jsx(me,{sx:{mb:2},children:f.jsx(At,{startIcon:f.jsx(yu,{}),onClick:()=>B("labSpecific","dresscode"),size:"small",variant:"outlined",children:"Add Dress Code Item"})}),(ee=(Z=c.labSpecific)==null?void 0:Z.dresscode)==null?void 0:ee.map((se,we)=>f.jsxs(me,{sx:{display:"flex",gap:1,mb:1},children:[f.jsx(Bt,{fullWidth:!0,size:"small",value:se,onChange:ye=>Q("labSpecific","dresscode",we,ye.target.value),placeholder:"Dress code requirement"}),f.jsx(Cn,{onClick:()=>j("labSpecific","dresscode",we),color:"error",size:"small",children:f.jsx(_d,{})})]},we))]})]})})]})]}),f.jsxs(ma,{children:[f.jsx(At,{onClick:y,children:"Cancel"}),f.jsx(At,{onClick:A,variant:"contained",disabled:i,children:i?"Saving...":"Save Changes"})]})]})]})},nX=async(e,n,t)=>{const r=ch(),i=e.name.split(".").pop()||"txt",a=`${e.name.replace(/\.[^/.]+$/,"")}_${Ri()}.${i}`,s=`syllabi/${n}/${a}`,l=vu(r,s);try{const c=await Xf(l,e),d=await Id(c.ref),h={originalFilename:e.name,fileSize:e.size,fileType:e.type||"application/octet-stream",uploadedAt:new Date,uploadedBy:n,courseId:t};return console.log(`Successfully uploaded syllabus file: ${a}`,{size:e.size,type:e.type,url:d}),{url:d,path:c.ref.fullPath,metadata:h}}catch(c){throw console.error("Failed to upload syllabus file:",c),new Error(`Failed to upload syllabus file: ${c instanceof Error?c.message:"Unknown error"}`)}},i4=e=>{switch(e.toLowerCase()){case"application/pdf":return"PDF Document";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"Word Document";case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return"PowerPoint Presentation";case"text/plain":return"Text File";default:return"Document"}},a4=e=>{if(e===0)return"0 Bytes";const n=1024,t=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,r)).toFixed(2))+" "+t[r]},rX=({courseId:e})=>{const[n,t]=K.useState(null),[r,i]=K.useState(!0),[a,s]=K.useState(null),[l,c]=K.useState(!1),d=Jn();K.useEffect(()=>{e&&(async()=>{try{i(!0);const m=xn(d,"courses",e),x=await Oa(m);if(x.exists()){const y=x.data();t(y.syllabusFile||null)}else s("Course not found")}catch(m){console.error("Error fetching syllabus file:",m),s("Failed to load syllabus file information")}finally{i(!1)}})()},[e,d]);const h=()=>{n!=null&&n.url&&window.open(n.url,"_blank")},g=()=>{c(!0)};return r?f.jsx(me,{sx:{display:"flex",justifyContent:"center",p:2},children:f.jsx(Gr,{size:24})}):a?f.jsx(vr,{severity:"error",sx:{mb:2},children:a}):n?f.jsxs(fn,{sx:{p:3,mb:3,backgroundColor:"info.50"},children:[f.jsxs(de,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[f.jsx(Sx,{color:"primary"}),"Original Syllabus Document"]}),f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[f.jsx(de,{variant:"body1",sx:{flexGrow:1},children:f.jsx("strong",{children:n.metadata.originalFilename})}),f.jsxs(de,{variant:"body2",color:"text.secondary",children:[i4(n.metadata.fileType),"  ",a4(n.metadata.fileSize)]})]}),f.jsxs(de,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Uploaded: ",new Date(n.metadata.uploadedAt).toLocaleDateString()]}),f.jsxs(me,{sx:{display:"flex",gap:2},children:[f.jsx(At,{variant:"outlined",startIcon:f.jsx(E6,{}),onClick:g,size:"small",children:"View Details"}),f.jsx(At,{variant:"contained",startIcon:f.jsx(lg,{}),onClick:h,size:"small",children:"Download"})]}),f.jsxs(Xi,{open:l,onClose:()=>c(!1),maxWidth:"sm",fullWidth:!0,children:[f.jsxs(pa,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(Sx,{}),"Syllabus File Details"]}),f.jsx(Zi,{children:f.jsxs(me,{sx:{mb:2},children:[f.jsx(de,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"Filename:"})}),f.jsx(de,{variant:"body1",sx:{mb:2},children:n.metadata.originalFilename}),f.jsx(de,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"File Type:"})}),f.jsx(de,{variant:"body1",sx:{mb:2},children:i4(n.metadata.fileType)}),f.jsx(de,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"File Size:"})}),f.jsx(de,{variant:"body1",sx:{mb:2},children:a4(n.metadata.fileSize)}),f.jsx(de,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"Uploaded:"})}),f.jsx(de,{variant:"body1",sx:{mb:2},children:new Date(n.metadata.uploadedAt).toLocaleString()}),f.jsx(de,{variant:"body2",color:"text.secondary",children:f.jsx("strong",{children:"Storage Path:"})}),f.jsx(de,{variant:"body2",sx:{fontFamily:"monospace",backgroundColor:"grey.100",p:1,borderRadius:1},children:n.path})]})}),f.jsxs(ma,{children:[f.jsx(At,{onClick:()=>c(!1),children:"Close"}),f.jsx(At,{onClick:h,variant:"contained",startIcon:f.jsx(lg,{}),children:"Download File"})]})]})]}):null},iX=({selectedCourse:e,onCourseDelete:n})=>{const[t,r]=K.useState(!1),i=Jn(),{refreshUserDetails:a}=Ai(),s=()=>r(!0),l=()=>r(!1),c=async()=>{if(e)try{const d=k6(i),h=xn(i,"courses",e);d.delete(h);const g=wn(i,"users");(await mi(g)).forEach(m=>{const x=xn(i,"users",m.id),y=m.data().classes||{};y&&y[e]&&(delete y[e],d.update(x,{classes:y}))}),await d.commit(),await a(),n(),l()}catch(d){console.error("Error deleting course:",d)}};return f.jsxs(me,{sx:{mt:2},children:[f.jsx(At,{variant:"contained",onClick:s,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#F44336",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#D32F2F",transform:"scale(1.03)"}},children:"Delete Course"}),f.jsxs(Xi,{open:t,onClose:l,children:[f.jsx(pa,{children:"Confirm Delete"}),f.jsx(Zi,{children:f.jsx(Fl,{children:"Are you sure you want to delete this course? This action cannot be undone."})}),f.jsxs(ma,{children:[f.jsx(At,{onClick:l,children:"Cancel"}),f.jsx(At,{onClick:c,variant:"contained",color:"error",children:"Delete"})]})]})]})},aX=({text:e,tooltipText:n="Click to Copy",successText:t="Copied!"})=>{const[r,i]=K.useState(!1),a=()=>{navigator.clipboard.writeText(e).then(()=>{i(!0),setTimeout(()=>i(!1),2e3)}).catch(s=>console.error("Could not copy text: ",s))};return f.jsx(si,{title:r?t:n,enterDelay:300,leaveDelay:200,children:f.jsx(Dn,{label:e,variant:"outlined",onClick:a,sx:{borderRadius:"15px",fontSize:"16px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",fontFamily:"Gabarito, sans-serif"}})})},sX=()=>{const{userDetails:e}=Ai(),[n,t]=K.useState(""),[r,i]=K.useState([]),[a,s]=K.useState(null),[l,c]=K.useState(!1),[d,h]=K.useState(""),[g,b]=K.useState("success"),m=Jn();K.useEffect(()=>{(async()=>{if(e!=null&&e.isAdmin){const w=nl(wn(m,"courses"),Si("courseAdmin","array-contains",e.uid)),N=(await mi(w)).docs.map(F=>({id:F.id,number:F.data().number,title:F.data().title,passcode:F.data().passcode}));i(N)}})()},[m,e]);const x=A=>{const w=A.target.value;t(w);const C=r.find(N=>N.id===w);C?(s(C.passcode),h(`Passcode for course "${C.number} - ${C.title}" retrieved successfully.`),b("success"),c(!0)):(s(null),h("Course not found."),b("error"),c(!0))},y=()=>{c(!1)};return f.jsxs(me,{sx:{mt:4},children:[f.jsx(de,{variant:"subtitle1",component:"h2",sx:{mb:2},children:"Retrieve Course Passcode"}),f.jsx(xt,{container:!0,spacing:2,sx:{maxWidth:"75%"},children:f.jsxs(xt,{item:!0,xs:12,sx:{display:"flex",alignItems:"center"},children:[f.jsx(Bt,{select:!0,label:"Select Course Number",value:n,onChange:x,fullWidth:!0,sx:{mb:2,mr:2},children:r.map(A=>f.jsx(Zn,{value:A.id,children:`${A.number} - ${A.title}`},A.id))}),a&&f.jsxs(me,{sx:{display:"flex",alignItems:"center",ml:2},children:[f.jsx(de,{variant:"body1",sx:{mr:1},children:"Passcode:"}),f.jsx(aX,{text:`${a}`})]})]})}),f.jsx(rl,{open:l,autoHideDuration:6e3,onClose:y,children:f.jsx(vr,{onClose:y,severity:g,sx:{width:"100%"},children:d})})]})},oX=()=>{const{userDetails:e}=Ai(),[n,t]=K.useState([]),[r,i]=K.useState(""),[a,s]=K.useState(!1),[l,c]=K.useState(!1),[d,h]=K.useState(!1),g=Jn(),b=ea(),x=e!=null&&e.classes?Object.entries(e.classes).filter(([F,R])=>R.isCourseAdmin).reduce((F,[R,M])=>({...F,[R]:M}),{}):{};K.useEffect(()=>{x[r]||i(Object.keys(x)[0]||"")},[x,r]),K.useEffect(()=>{(async()=>{if(r)try{const R=nl(wn(g,"users"),Si("isAdmin","==",!1)),L=(await mi(R)).docs.map(B=>({uid:B.id,...B.data()})).filter(B=>B.classes&&B.classes[r]);t(L)}catch(R){console.error("Error fetching students:",R)}})()},[r,g]);const y=F=>{i(F)},A=()=>{b("/request-new-course")},w=x[r],C=w?`${w.number} - ${w.title}`:"",N=!!(r&&w);return f.jsxs(me,{className:"profile-container",sx:{p:4},children:[f.jsx(Pl,{title:"Course Management"}),f.jsxs(me,{sx:{mb:4,p:3,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[f.jsx(de,{variant:"h6",sx:{fontFamily:"Staatliches, sans-serif",mb:2,color:"#0B53C0"},children:"Select a Course"}),Object.keys(x).length>0?f.jsx(JK,{userClasses:x,selectedCourse:r,onCourseChange:y}):f.jsx(de,{variant:"body1",sx:{color:"#9E9E9E"},children:"No courses available for selection."})]}),f.jsx(me,{children:N&&f.jsxs(f.Fragment,{children:[f.jsx(rX,{courseId:r}),f.jsxs(me,{sx:{flex:2,display:"flex",justifyContent:"flex-end",gap:2},children:[f.jsx(eX,{selectedCourse:r,selectedCourseDetails:w,onCourseUpdate:()=>{}}),f.jsx(tX,{selectedCourse:r,onInfoUpdate:()=>{}}),f.jsx(iX,{selectedCourse:r,onCourseDelete:()=>i("")})]})]})}),N&&f.jsxs(fn,{elevation:3,sx:{p:3,mb:4,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",backgroundColor:"#F9FAFB"},children:[f.jsx(de,{variant:"h6",component:"h2",sx:{fontFamily:"Staatliches, sans-serif",fontWeight:"bold",mb:2,color:"#0B53C0"},children:"Students Enrolled in a Course"}),n.length===0?f.jsxs(de,{sx:{color:"#757575",textAlign:"center",p:3},children:["No students are currently enrolled in ",f.jsx("strong",{children:C}),"."]}):f.jsxs(f.Fragment,{children:[f.jsx(_u,{component:fn,children:f.jsxs(ku,{children:[f.jsx(ju,{children:f.jsxs(Fi,{children:[f.jsx(dt,{sx:{fontWeight:"bold"},children:"User ID"}),f.jsx(dt,{sx:{fontWeight:"bold"},children:"Last Login"})]})}),f.jsx(Nu,{children:n.map(F=>f.jsxs(Fi,{children:[f.jsx(dt,{children:F.uid}),f.jsx(dt,{children:jv(F.lastLogin)})]},F.uid))})]})}),f.jsx(ZK,{students:n,selectedCourse:r})]}),n.length>0&&f.jsxs(fn,{sx:{mt:4,p:3,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[f.jsx(Td,{control:f.jsx(Od,{checked:d,onChange:()=>h(F=>!F)}),label:"Remove Student(s) from the Course"}),d&&f.jsx(XK,{selectedCourse:r,selectedCourseDetails:w,onStudentChange:()=>{}})]})]}),f.jsxs(me,{sx:{display:"flex",gap:4,mb:4},children:[f.jsxs(me,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[f.jsx(Td,{control:f.jsx(Od,{checked:l,onChange:()=>c(F=>!F)}),label:"Retrieve Course Passcode"}),l&&f.jsx(me,{sx:{mt:2},children:f.jsx(sX,{})})]}),f.jsxs(me,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[f.jsx(Td,{control:f.jsx(Od,{checked:a,onChange:()=>s(F=>!F)}),label:"Request Creating a New Course"}),a&&f.jsx(me,{sx:{mt:2},children:f.jsx(At,{variant:"contained",onClick:A,sx:{backgroundColor:"#4CAF50",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",textTransform:"none","&:hover":{backgroundColor:"#388E3C"}},children:"Request New Course"})})]})]})]})};class lX{constructor(n){Je(this,"genAI");Je(this,"model");this.genAI=new MT(n),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.1,topK:1,topP:.8,maxOutputTokens:16384}})}async processSyllabusText(n,t,r){return n.length>3e4?(console.log("Large document detected, using chunked processing"),this.processLargeDocument(n,t,r)):this.processSingleDocument(n,t,r)}async processSingleDocument(n,t,r){const i=this.buildSyllabusAnalysisPrompt(n,t);try{const l=(await(await this.model.generateContent(i)).response).text();if(!l||l.trim().length===0)throw new Error("Empty response from AI service");const c=l.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();let d;try{d=JSON.parse(c)}catch(h){throw console.error("JSON parsing failed:",h),console.error("Raw response text:",l),console.error("Cleaned text:",c),new Error("AI response format invalid - unable to parse JSON")}if(!d||typeof d!="object")throw new Error("AI response is not a valid object");return d.courseInfo||(console.warn("Missing courseInfo in AI response, using defaults"),d.courseInfo={}),this.validateAndSanitizeResponse(d)}catch(a){if(console.error("Gemini API Error:",a),a instanceof Error){if(a.message.includes("AI response")||a.message.includes("JSON parsing"))throw a;if(a.message.includes("API key"))throw new Error("Invalid or missing Gemini API key. Please check your environment configuration.");if(a.message.includes("quota")||a.message.includes("rate limit"))throw new Error("API rate limit exceeded. Please try again later.")}throw new Error(`Failed to process syllabus with AI: ${a instanceof Error?a.message:"Unknown error"}`)}}async processLargeDocument(n,t,r){const a=this.chunkText(n,35e3);console.log(`Processing ${a.length} chunks for large document`);const s=await this.processSingleDocument(a[0],t,r),l=await Promise.allSettled(a.slice(1).map(c=>this.processChunkForDetails(c,t)));return this.mergeChunkedResults(s,l)}chunkText(n,t){const r=[],i=n.split(`
`);let a="";const s=["schedule","session","unit","week","topic","assignment","objective","learning outcome","reading","textbook","prerequisite"];for(let l=0;l<i.length;l++){const c=i[l],d=i[l+1]||"",h=s.some(g=>c.toLowerCase().includes(g)||d.toLowerCase().includes(g));a.length+c.length>t&&a.length>0&&(h||a.length>t*.8)?(r.push(a.trim()),a=c):a+=`
`+c}return a.trim()&&r.push(a.trim()),r}async processChunkForDetails(n,t){const r=`
Extract additional course details from this syllabus section. Focus heavily on:
- ALL schedule items, sessions, units, weeks, and topics
- Session numbers, titles, and descriptions
- Learning outcomes for each session
- Reading assignments and resources
- Assignment details and due dates
- Any additional objectives or policies

IMPORTANT: Extract ALL schedule/session information - do not limit the number of items.
Convert session numbers to week numbers (Session 1 = Week 1, etc.).

Return JSON with only the fields you can extract from this section:
${n}
`;try{const l=(await(await this.model.generateContent(r)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(l)}catch(i){return console.warn("Failed to process chunk:",i),{}}}mergeChunkedResults(n,t){const r={...n};return t.forEach(i=>{if(i.status==="fulfilled"&&i.value){const a=i.value;if(a.learningObjectives&&(r.learningObjectives=[...r.learningObjectives,...a.learningObjectives]),a.schedule){const s=new Set(r.schedule.map(c=>`${c.week}-${c.topic}`)),l=a.schedule.filter(c=>!s.has(`${c.week}-${c.topic}`));r.schedule=[...r.schedule,...l]}a.assignments&&(r.assignments=[...r.assignments,...a.assignments]),a.prerequisites&&(r.prerequisites=[...r.prerequisites,...a.prerequisites]),a.contactInfo&&(r.contactInfo={...r.contactInfo,...a.contactInfo}),a.policies&&(r.policies={...r.policies,...a.policies}),a.additionalResources&&(r.additionalResources={...r.additionalResources,...a.additionalResources})}}),r.learningObjectives=[...new Set(r.learningObjectives)],r.prerequisites=[...new Set(r.prerequisites)],r.schedule=r.schedule.sort((i,a)=>i.week-a.week),r}buildSyllabusAnalysisPrompt(n,t){return`
You are an expert educational content analyzer. Analyze the following course syllabus and extract structured information in JSON format.

IMPORTANT INSTRUCTIONS:
1. Return ONLY valid JSON - no markdown, no explanations, no additional text
2. If information is not available, use null or empty arrays/objects
3. Be thorough but accurate - don't invent information
4. For percentages in grading, ensure they are numbers (not strings)
5. For week numbers, ensure they are integers
6. Extract all learning objectives, even if they're not numbered
7. Look for course schedules in various formats (weekly, by date, by topic, by session/unit)
8. IMPORTANT: Extract ALL schedule items, sessions, units, and topics - do not limit to just a few weeks
9. For session-based schedules, convert sessions to week numbers (e.g., Session 1 = Week 1)
10. LABORATORY COURSES: Pay special attention to safety requirements, lab equipment, dress codes, group work policies, and experiment-based schedules
11. Identify course type: determine if this is a lecture, lab, seminar, or hybrid course based on content

Required JSON structure:
{
  "courseInfo": {
    "title": "string",
    "number": "string (e.g., CS 350, BIOL 301, CHEM 315)",
    "description": "string",
    "instructor": "string or null",
    "department": "string or null",
    "institution": "string or null",
    "credits": "number or null",
    "meetingTimes": "string or null (include lab times if applicable)",
    "semester": "string or null",
    "year": "string or null",
    "courseType": "lecture|lab|seminar|hybrid",
    "location": "string or null (lab room, classroom, etc.)"
  },
  "learningObjectives": [
    "string (each objective as separate item)"
  ],
  "schedule": [
    {
      "week": "number",
      "topic": "string",
      "description": "string or null",
      "readings": ["string"] or null,
      "assignments": ["string"] or null,
      "dueDate": "string or null",
      "notes": "string or null",
      "experimentType": "string or null (for lab courses)",
      "equipmentNeeded": ["string"] or null
    }
  ],
  "prerequisites": [
    "string (each prerequisite course/requirement)"
  ],
  "textbooks": [
    {
      "title": "string",
      "author": "string or null",
      "edition": "string or null",
      "isbn": "string or null",
      "required": "boolean"
    }
  ],
  "gradingPolicy": [
    {
      "component": "string (e.g., Exams, Homework, Projects)",
      "percentage": "number (e.g., 40, not '40%')",
      "description": "string or null"
    }
  ],
  "assignments": [
    {
      "name": "string",
      "description": "string",
      "type": "string (exam|project|homework|quiz|presentation|lab_report|lab_practical)",
      "dueDate": "string or null",
      "points": "number or null",
      "weight": "number or null (for weighted assignments)"
    }
  ],
  "policies": {
    "attendance": "string or null",
    "lateWork": "string or null",
    "academicIntegrity": "string or null",
    "accommodations": "string or null",
    "communication": "string or null",
    "safety": "string or null (lab safety requirements)",
    "groupWork": "string or null (partner/group work policies)",
    "makeupPolicy": "string or null (make-up lab/exam policies)"
  },
  "contactInfo": {
    "email": "string or null",
    "phone": "string or null",
    "office": "string or null",
    "officeHours": "string or null",
    "website": "string or null"
  },
  "additionalResources": {
    "software": ["string"] or null,
    "equipment": ["string"] or null,
    "websites": ["string"] or null,
    "tutoring": "string or null",
    "learningPlatform": "string or null (Moodle, Blackboard, etc.)"
  },
  "labSpecific": {
    "safetyRequirements": ["string"] or null,
    "requiredEquipment": ["string"] or null,
    "dresscode": ["string"] or null,
    "notebookRequirements": "string or null",
    "groupWorkStructure": "string or null",
    "makeupPolicy": "string or null"
  }
}

${t?`File name: ${t}`:""}

Syllabus content to analyze:
${n}
`}validateAndSanitizeResponse(n){var r,i,a,s,l,c,d,h,g,b,m,x,y,A;const t={courseInfo:{title:"Course Title",number:"COURSE 101",description:"Course description not available"},learningObjectives:[],schedule:[],prerequisites:[],textbooks:[],gradingPolicy:[],assignments:[],policies:{},contactInfo:{},additionalResources:{}};try{return{courseInfo:{...t.courseInfo,...n.courseInfo},learningObjectives:Array.isArray(n.learningObjectives)?n.learningObjectives:[],schedule:Array.isArray(n.schedule)?n.schedule.map((C,N)=>({week:typeof C.week=="number"?C.week:N+1,topic:C.topic||`Week ${N+1} Topic`,description:C.description||null,readings:Array.isArray(C.readings)?C.readings:null,assignments:Array.isArray(C.assignments)?C.assignments:null,dueDate:C.dueDate||null,notes:C.notes||null})):[],prerequisites:Array.isArray(n.prerequisites)?n.prerequisites:[],textbooks:Array.isArray(n.textbooks)?n.textbooks.map(C=>({title:C.title||"Unknown Textbook",author:C.author||null,edition:C.edition||null,isbn:C.isbn||null,required:typeof C.required=="boolean"?C.required:!0})):[],gradingPolicy:Array.isArray(n.gradingPolicy)?n.gradingPolicy.map(C=>({component:C.component||"Unknown Component",percentage:typeof C.percentage=="number"?C.percentage:0,description:C.description||null})):[],assignments:Array.isArray(n.assignments)?n.assignments.map(C=>({name:C.name||"Assignment",description:C.description||"",type:C.type||"homework",dueDate:C.dueDate||null,points:typeof C.points=="number"?C.points:null})):[],policies:{attendance:((r=n.policies)==null?void 0:r.attendance)||null,lateWork:((i=n.policies)==null?void 0:i.lateWork)||null,academicIntegrity:((a=n.policies)==null?void 0:a.academicIntegrity)||null,accommodations:((s=n.policies)==null?void 0:s.accommodations)||null,communication:((l=n.policies)==null?void 0:l.communication)||null},contactInfo:{email:((c=n.contactInfo)==null?void 0:c.email)||null,phone:((d=n.contactInfo)==null?void 0:d.phone)||null,office:((h=n.contactInfo)==null?void 0:h.office)||null,officeHours:((g=n.contactInfo)==null?void 0:g.officeHours)||null,website:((b=n.contactInfo)==null?void 0:b.website)||null},additionalResources:{software:Array.isArray((m=n.additionalResources)==null?void 0:m.software)?n.additionalResources.software:null,equipment:Array.isArray((x=n.additionalResources)==null?void 0:x.equipment)?n.additionalResources.equipment:null,websites:Array.isArray((y=n.additionalResources)==null?void 0:y.websites)?n.additionalResources.websites:null,tutoring:((A=n.additionalResources)==null?void 0:A.tutoring)||null}}}catch(w){return console.error("Error validating AI response:",w),t}}async generateCourseMaterials(n,t){const r=`
Based on the following course information, generate detailed course materials in JSON format.

CRITICAL REQUIREMENTS:
1. Return ONLY valid JSON - absolutely NO explanatory text, comments, or additional content
2. Do not add any text before or after the JSON array
3. Do not include comments like "// ..." in the JSON
4. Generate materials for ALL available weeks/sessions from the course information

Create materials for:
1. Course Overview (with detailed description, objectives, and policies)  
2. Weekly/session materials for ALL weeks found in the schedule
3. Assignment descriptions where applicable

Course Information:
${JSON.stringify(n,null,2)}

Generate materials for ${(t==null?void 0:t.includeWeeks)||n.schedule.length} weeks/sessions.

Return ONLY a JSON array of materials with this structure:
[
  {
    "id": "unique-id",
    "title": "Material Title",
    "type": "overview|weekly|assignment|resource",
    "header": {"title": "string", "content": "string"},
    "sections": [
      {
        "id": "section-id",
        "title": "Section Title",
        "content": "HTML formatted content",
        "subsections": [
          {
            "id": "subsection-id",
            "title": "Subsection Title",
            "content": "HTML formatted content"
          }
        ]
      }
    ],
    "footer": {"title": "string", "content": "string"},
    "published": false,
    "scheduledTimestamp": "ISO date string or null"
  }
]
`;try{const s=(await(await this.model.generateContent(r)).response).text();if(!s||s.trim().length===0)return console.warn("Empty response from AI service for material generation"),[];let l=s.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();const c=l.lastIndexOf("]");c!==-1&&(l=l.substring(0,c+1));let d;try{d=JSON.parse(l)}catch(h){return console.error("JSON parsing failed for material generation:",h),console.error("Raw response text:",s),console.error("Cleaned text:",l),console.warn("Falling back to empty materials array"),[]}return Array.isArray(d)?d:(console.warn("AI response is not an array, wrapping in array:",d),d?[d]:[])}catch(i){return console.error("Error generating materials:",i),[]}}}let Fy=null;const s4=e=>{const n="AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8";if(!Fy&&n&&(Fy=new lX(n)),!Fy)throw new Error("Gemini service not initialized. Please configure VITE_GEMINI_API_KEY environment variable.");return Fy},$h=()=>Math.random().toString(36).substr(2,9),uX=e=>e.length?`<ul>${e.map(t=>`<li>${t}</li>`).join("")}</ul>`:"<p>No objectives specified</p>",cX=e=>e.length?`<ul>${e.map(t=>`<li>${t}</li>`).join("")}</ul>`:"<p>No readings assigned</p>",jp=xp()(Ug(ov((e,n)=>({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null,setUploadedFile:t=>e({uploadedFile:t}),setUploadProgress:t=>e({uploadProgress:t}),setExtractedText:t=>e({extractedText:t}),setStoredSyllabusFile:t=>e({storedSyllabusFile:t}),setAIExtractedInfo:t=>e({aiExtractedInfo:t}),setUseAIProcessing:t=>e({useAIProcessing:t}),setParsedCourseInfo:t=>e({parsedCourseInfo:t}),setGeneratedMaterials:t=>e({generatedMaterials:t}),setCurrentStep:t=>e({currentStep:t}),setIsProcessing:t=>e({isProcessing:t}),setError:t=>e({error:t}),setProcessingProgress:t=>e({processingProgress:t}),uploadSyllabus:async(t,r)=>{const i=zT(t);if(!i.isValid){e({error:i.error,currentStep:"upload"});return}const a=CF(t);e({uploadedFile:t,uploadProgress:0,error:null,extractionMetadata:{fileName:t.name,fileSize:t.size,fileType:qT(t),estimatedProcessingTime:a},processingProgress:{stage:"uploading",percentage:0,currentOperation:"Preparing file for processing..."}});try{for(let s=0;s<=100;s+=20)e({uploadProgress:s,processingProgress:{stage:"uploading",percentage:s,currentOperation:s===100?"Upload complete, starting text extraction...":`Uploading file... ${s}%`}}),await new Promise(l=>setTimeout(l,100));if(e({currentStep:"processing",isProcessing:!0,processingProgress:{stage:"extracting",percentage:0,currentOperation:"Extracting text from document..."}}),await n().extractTextFromFile(),r)try{e({processingProgress:{stage:"uploading",percentage:90,currentOperation:"Storing syllabus file..."}});const s=await nX(t,r);e({storedSyllabusFile:s}),console.log("Syllabus file stored successfully:",s.url)}catch(s){console.warn("Failed to store syllabus file, continuing with processing:",s)}e({processingProgress:{stage:"analyzing",percentage:0,currentOperation:n().useAIProcessing?"Analyzing syllabus with AI...":"Parsing syllabus content..."}}),await n().parseSyllabus()}catch(s){e({error:s instanceof Error?s.message:"Failed to upload file",currentStep:"upload"})}},extractTextFromFile:async()=>{const{uploadedFile:t}=n();if(!t){e({error:"No file uploaded"});return}e({isProcessing:!0,error:null});try{const r=await PT(t);e({extractedText:r.text,extractionMetadata:{...n().extractionMetadata,...r.metadata},isProcessing:!1})}catch(r){e({error:r.message||"Failed to extract text from file",isProcessing:!1})}},parseSyllabus:async()=>{const{extractedText:t,uploadedFile:r,useAIProcessing:i}=n();if(!t){e({error:"No text to parse"});return}e({isProcessing:!0,error:null});try{let a;if(i)try{e({processingProgress:{stage:"analyzing",percentage:25,currentOperation:"Sending syllabus to AI for analysis..."}});const l=await s4().processSyllabusText(t,r==null?void 0:r.name);e({processingProgress:{stage:"analyzing",percentage:75,currentOperation:"Processing AI analysis results..."}}),e({aiExtractedInfo:l}),a={suggestedTitle:l.courseInfo.title||"Course Title",suggestedNumber:l.courseInfo.number||"COURSE 101",suggestedDescription:l.courseInfo.description||"Course description not available",objectives:l.learningObjectives.length>0?l.learningObjectives:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:l.schedule.map(c=>({week:c.week,topic:c.topic,description:c.description,readings:c.readings||[],assignments:c.assignments||[],date:c.dueDate?new Date(c.dueDate):void 0})),prerequisites:l.prerequisites,textbook:l.textbooks.length>0?l.textbooks[0].title:"",grading:l.gradingPolicy.map(c=>`${c.component}: ${c.percentage}%`).join(", "),instructor:l.courseInfo.instructor,department:l.courseInfo.department,institution:l.courseInfo.institution,credits:l.courseInfo.credits,semester:l.courseInfo.semester,year:l.courseInfo.year,contactInfo:l.contactInfo,policies:l.policies,textbooks:l.textbooks,gradingComponents:l.gradingPolicy,assignments:l.assignments}}catch(s){console.warn("AI processing failed, falling back to pattern-based parsing:",s),e({error:`AI analysis failed: ${s instanceof Error?s.message:"Unknown error"}. Using pattern-based parsing instead.`,processingProgress:{stage:"analyzing",percentage:50,currentOperation:"AI failed, using pattern-based parsing..."}}),a=await n().fallbackParsing(t)}else a=await n().fallbackParsing(t);e({parsedCourseInfo:a}),e({processingProgress:{stage:"generating",percentage:0,currentOperation:"Generating course materials..."}}),await n().generateMaterials()}catch(a){e({error:a instanceof Error?a.message:"Failed to parse syllabus",isProcessing:!1})}},fallbackParsing:async t=>{var g,b;const r=t.split(`
`).filter(m=>m.trim()),i=r.find(m=>{const x=m.toLowerCase();return(x.includes("course")||x.includes("class"))&&(x.includes("title")||x.includes("name")||m.includes(":"))}),a=r.find(m=>{const x=m.toLowerCase();return x.includes("description")||x.includes("overview")||x.includes("about this course")}),s=r.find(m=>/[A-Z]{2,4}\s*\d{3,4}/.test(m)||m.toLowerCase().includes("course number")),l=r.findIndex(m=>{const x=m.toLowerCase();return x.includes("objective")||x.includes("learning outcome")||x.includes("goals")||x.includes("by the end of this course")}),c=[];if(l!==-1)for(let m=l+1;m<r.length&&m<l+15;m++){const x=r[m].trim();x&&(x.startsWith("-")||x.startsWith("")||x.match(/^\d+\./)||x.startsWith("*"))?c.push(x.replace(/^[-\d.*]\s*/,"")):x&&c.length===0&&c.push(x)}const d=[];for(let m=1;m<=16;m++){const x=new RegExp(`week\\s*${m}|${m}\\s*week`,"i"),y=r.find(A=>x.test(A));if(y){const A=y.replace(/week\s*\d+:?\s*/i,"").trim()||`Week ${m} Topic`;d.push({week:m,topic:A,description:`Content and activities for week ${m}`,readings:[],assignments:[]})}else d.push({week:m,topic:`Week ${m} Topic`,description:`Content for week ${m}`,readings:[],assignments:[]})}let h="COURSE 101";if(s){const m=s.match(/[A-Z]{2,4}\s*\d{3,4}/);m&&(h=m[0])}return{suggestedTitle:i&&((g=i.split(":").slice(-1)[0])==null?void 0:g.trim())||"Course Title",suggestedNumber:h,suggestedDescription:a&&((b=a.split(":").slice(-1)[0])==null?void 0:b.trim())||t.substring(0,300)+"...",objectives:c.length>0?c:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:d.slice(0,15),prerequisites:[],textbook:"",grading:""}},generateMaterials:async()=>{const{parsedCourseInfo:t,aiExtractedInfo:r,useAIProcessing:i}=n();if(!t){e({error:"No parsed course info available"});return}e({isProcessing:!0,error:null});try{let a=[];if(i&&r)try{const l=await s4().generateCourseMaterials(r,{includeWeeks:r.schedule.length,materialTypes:["overview","weekly","assignment"]});l&&l.length>0?a=l.map(c=>({id:c.id||$h(),title:c.title||"Generated Material",header:c.header||{title:"Header",content:`<p>${c.title||"Material"}</p>`},footer:c.footer||{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:c.sections||[],published:c.published||!1,scheduledTimestamp:c.scheduledTimestamp?new Date(c.scheduledTimestamp):void 0})):(console.warn("AI material generation returned empty results, using fallback"),a=n().generateFallbackMaterials(t))}catch(s){console.warn("AI material generation failed, using fallback:",s),e({error:`AI material generation failed: ${s instanceof Error?s.message:"Unknown error"}. Using fallback material generation instead.`,processingProgress:{stage:"generating",percentage:75,currentOperation:"AI material generation failed, using fallback..."}}),a=n().generateFallbackMaterials(t)}else a=n().generateFallbackMaterials(t);e({generatedMaterials:a,isProcessing:!1,currentStep:"review",processingProgress:{stage:"complete",percentage:100,currentOperation:"Processing complete! Review your course materials below."}})}catch(a){e({error:a instanceof Error?a.message:"Failed to generate materials",isProcessing:!1})}},generateFallbackMaterials:t=>{const r=[];return r.push({id:$h(),title:`${t.suggestedNumber} - Course Overview`,header:{title:"Course Overview",content:`<p>${t.suggestedTitle}</p>`},footer:{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:[{id:$h(),title:"Course Description",content:`<p>${t.suggestedDescription}</p>`,subsections:[],images:[],links:[]},{id:$h(),title:"Learning Objectives",content:uX(t.objectives),subsections:[],images:[],links:[]}],published:!1}),t.schedule.slice(0,6).forEach(i=>{r.push({id:$h(),title:`Week ${i.week}: ${i.topic}`,header:{title:`Week ${i.week}`,content:`<p>${i.topic}</p>`},footer:{title:"Footer",content:"<p>Review materials before next class</p>"},sections:[{id:$h(),title:"Overview",content:`<p>${i.description||`Topics and activities for week ${i.week}`}</p>`,subsections:i.readings&&i.readings.length>0?[{id:$h(),title:"Required Readings",content:cX(i.readings),subSubsections:[],images:[],links:[]}]:[],images:[],links:[]}],published:!1,scheduledTimestamp:i.date})}),r},editMaterial:(t,r)=>{const{generatedMaterials:i}=n(),a=[...i];a[t]={...a[t],...r},e({generatedMaterials:a})},editCourseInfo:t=>{const{parsedCourseInfo:r}=n();r&&e({parsedCourseInfo:{...r,...t}})},reset:()=>e({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null})}),{name:"syllabus-store",partialize:e=>({extractedText:e.extractedText,extractionMetadata:e.extractionMetadata,storedSyllabusFile:e.storedSyllabusFile,aiExtractedInfo:e.aiExtractedInfo,useAIProcessing:e.useAIProcessing,parsedCourseInfo:e.parsedCourseInfo,generatedMaterials:e.generatedMaterials,currentStep:e.currentStep})}))),S1={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"ce5f7921-a3a0-4ea7-b95f-10fe41becda5",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},A1={GEMINI_API_KEY:"VITE_GEMINI_API_KEY",ENABLE_AI_PROCESSING:"VITE_ENABLE_AI_PROCESSING",MAX_RETRIES:"VITE_AI_MAX_RETRIES",TIMEOUT:"VITE_AI_TIMEOUT",FALLBACK_TO_PATTERN:"VITE_AI_FALLBACK_TO_PATTERN"},dX=()=>({geminiApiKey:S1[A1.GEMINI_API_KEY],enableAIProcessing:S1[A1.ENABLE_AI_PROCESSING]!=="false",maxRetries:parseInt(S1[A1.MAX_RETRIES]||"3",10),timeout:parseInt(S1[A1.TIMEOUT]||"30000",10),fallbackToPatternParsing:S1[A1.FALLBACK_TO_PATTERN]!=="false"}),cI=e=>{const n=[];return e.enableAIProcessing&&!e.geminiApiKey&&n.push("Gemini API key is required when AI processing is enabled"),(e.maxRetries<0||e.maxRetries>10)&&n.push("Max retries must be between 0 and 10"),(e.timeout<1e3||e.timeout>12e4)&&n.push("Timeout must be between 1 second and 2 minutes"),{isValid:n.length===0,errors:n}},dI=()=>{const e=dX(),n=cI(e);return{config:e,...n}},o4=({onUploadComplete:e,apiKey:n,educatorUid:t})=>{const{uploadedFile:r,uploadProgress:i,error:a,isProcessing:s,useAIProcessing:l,processingProgress:c,uploadSyllabus:d,setUploadedFile:h,setError:g}=jp(),[b,m]=K.useState(!1),x=K.useMemo(()=>["text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],[]),y=K.useMemo(()=>[".txt",".pdf",".docx"],[]),A=K.useCallback(async L=>{const Q=(j=>{if(!x.includes(j.type))return`Unsupported file type. Please upload ${y.join(", ")} files.`;const O=10*1024*1024;return j.size>O?"File size too large. Please upload files smaller than 10MB.":null})(L);if(Q){g(Q);return}try{await d(L,t),e==null||e(L)}catch(j){console.error("Upload error:",j)}},[d,e,g,x,y,n,t]),w=K.useCallback(L=>{L.preventDefault(),m(!1);const B=Array.from(L.dataTransfer.files);B.length>0&&A(B[0])},[A]),C=K.useCallback(L=>{L.preventDefault(),m(!0)},[]),N=K.useCallback(L=>{L.preventDefault(),m(!1)},[]),F=K.useCallback(L=>{const B=L.target.files;B&&B.length>0&&A(B[0]),L.target.value=""},[A]),R=K.useCallback(()=>{h(null),g(null)},[h,g]),M=L=>{if(L===0)return"0 Bytes";const B=1024,Q=["Bytes","KB","MB","GB"],j=Math.floor(Math.log(L)/Math.log(B));return parseFloat((L/Math.pow(B,j)).toFixed(2))+" "+Q[j]},k=()=>f.jsx(mR,{color:"primary"});return f.jsxs(me,{sx:{width:"100%",maxWidth:600,mx:"auto"},children:[!r&&f.jsxs(fn,{sx:{p:4,border:"2px dashed",borderColor:b?"primary.main":"grey.300",backgroundColor:b?"primary.50":"background.paper",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center","&:hover":{borderColor:"primary.main",backgroundColor:"primary.50"}},onDragOver:C,onDragLeave:N,onDrop:w,onClick:()=>{var L;return(L=document.getElementById("syllabus-file-input"))==null?void 0:L.click()},children:[f.jsx(pR,{sx:{fontSize:48,color:b?"primary.main":"grey.400",mb:2}}),f.jsx(de,{variant:"h6",gutterBottom:!0,children:"Upload Your Syllabus"}),f.jsx(de,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Drag and drop your syllabus file here, or click to browse"}),f.jsx(me,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center"},children:y.map(L=>f.jsx(Dn,{label:L.toUpperCase(),size:"small",variant:"outlined",color:"primary"},L))}),f.jsx(de,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"Maximum file size: 10MB"}),f.jsx("input",{id:"syllabus-file-input",type:"file",accept:x.join(","),onChange:F,style:{display:"none"}})]}),r&&f.jsxs(fn,{sx:{p:3,mb:2},children:[f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:2},children:[k(),f.jsxs(me,{sx:{flexGrow:1},children:[f.jsx(de,{variant:"subtitle1",sx:{fontWeight:500},children:r.name}),f.jsx(de,{variant:"body2",color:"text.secondary",children:M(r.size)})]}),!s&&f.jsx(Cn,{onClick:R,color:"error",size:"small",children:f.jsx(_d,{})})]}),i>0&&i<100&&f.jsxs(me,{sx:{mt:2},children:[f.jsx(Xo,{variant:"determinate",value:i,sx:{height:6,borderRadius:3}}),f.jsxs(de,{variant:"caption",sx:{mt:1,display:"block"},children:["Uploading... ",i,"%"]})]}),s&&f.jsx(me,{sx:{mt:2},children:c?f.jsxs(f.Fragment,{children:[f.jsxs(me,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[f.jsx(Dn,{label:c.stage.charAt(0).toUpperCase()+c.stage.slice(1),size:"small",color:"primary",variant:"outlined"}),f.jsxs(de,{variant:"caption",color:"text.secondary",children:[c.percentage,"%"]})]}),f.jsx(Xo,{variant:"determinate",value:c.percentage,sx:{height:6,borderRadius:3,mb:1}}),f.jsx(de,{variant:"caption",sx:{display:"block",color:"text.secondary"},children:c.currentOperation})]}):f.jsxs(f.Fragment,{children:[f.jsx(Xo,{sx:{height:6,borderRadius:3}}),f.jsx(de,{variant:"caption",sx:{mt:1,display:"block"},children:l?"AI is analyzing your syllabus...":"Processing syllabus..."})]})})]}),a&&f.jsx(vr,{severity:"error",sx:{mt:2},onClose:()=>g(null),children:a}),f.jsxs(fn,{sx:{p:2,mt:2,backgroundColor:"info.50"},children:[f.jsx(de,{variant:"body2",color:"info.main",sx:{fontWeight:500,mb:1},children:" Tips for best results:"}),f.jsxs(de,{variant:"body2",color:"text.secondary",component:"ul",sx:{m:0,pl:2},children:[f.jsx("li",{children:"Include course objectives and weekly schedule"}),f.jsx("li",{children:"List reading assignments and materials"}),f.jsx("li",{children:"Text files (.txt) work best for parsing"}),f.jsx("li",{children:"Ensure text is well-structured with clear headings"})]})]})]})},fX=({onContinue:e})=>{var C;const{parsedCourseInfo:n,editCourseInfo:t,error:r,isProcessing:i,currentStep:a}=jp(),[s,l]=K.useState(!1),[c,d]=K.useState(null);if(!n)return f.jsx(vr,{severity:"warning",children:"No course information available. Please upload and process a syllabus first."});if(i||a==="processing")return f.jsx(vr,{severity:"info",children:f.jsx(de,{variant:"body2",children:" Processing complete! Preparing course information for review..."})});const h=()=>{d({...n}),l(!0)},g=()=>{c&&(t(c),l(!1),d(null))},b=()=>{l(!1),d(null)},m=()=>{c&&d({...c,objectives:[...c.objectives,"New objective"]})},x=N=>{if(c){const F=c.objectives.filter((R,M)=>M!==N);d({...c,objectives:F})}},y=(N,F)=>{if(c){const R=[...c.objectives];R[N]=F,d({...c,objectives:R})}},A=(N,F,R)=>{if(c){const M=[...c.schedule];M[N]={...M[N],[F]:R},d({...c,schedule:M})}},w=s?c:n;return w?f.jsx(me,{sx:{maxWidth:800,mx:"auto"},children:f.jsxs(fn,{sx:{p:3},children:[f.jsxs(me,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[f.jsx(de,{variant:"h5",component:"h2",children:"Course Information Preview"}),s?f.jsxs(me,{sx:{display:"flex",gap:1},children:[f.jsx(At,{startIcon:f.jsx(D0,{}),onClick:g,variant:"contained",color:"primary",children:"Save"}),f.jsx(At,{startIcon:f.jsx(w6,{}),onClick:b,variant:"outlined",children:"Cancel"})]}):f.jsx(At,{startIcon:f.jsx(wu,{}),onClick:h,variant:"outlined",children:"Edit Details"})]}),r&&f.jsx(vr,{severity:"error",sx:{mb:3},children:r}),f.jsxs(xt,{container:!0,spacing:3,children:[f.jsx(xt,{item:!0,xs:12,md:6,children:f.jsx(Bt,{fullWidth:!0,label:"Course Number",value:w.suggestedNumber,onChange:N=>s&&c&&d({...c,suggestedNumber:N.target.value}),disabled:!s,variant:s?"outlined":"filled"})}),f.jsx(xt,{item:!0,xs:12,md:6,children:f.jsx(Bt,{fullWidth:!0,label:"Course Title",value:w.suggestedTitle,onChange:N=>s&&c&&d({...c,suggestedTitle:N.target.value}),disabled:!s,variant:s?"outlined":"filled"})}),f.jsx(xt,{item:!0,xs:12,children:f.jsx(Bt,{fullWidth:!0,multiline:!0,rows:4,label:"Course Description",value:w.suggestedDescription,onChange:N=>s&&c&&d({...c,suggestedDescription:N.target.value}),disabled:!s,variant:s?"outlined":"filled"})})]}),f.jsx(ts,{sx:{my:3}}),f.jsxs(me,{sx:{mb:3},children:[f.jsxs(me,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[f.jsxs(de,{variant:"h6",children:["Learning Objectives (",w.objectives.length,")"]}),s&&f.jsx(Cn,{onClick:m,color:"primary",children:f.jsx(yu,{})})]}),f.jsx(me,{sx:{display:"flex",flexDirection:"column",gap:2},children:w.objectives.map((N,F)=>f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsxs(de,{variant:"body2",sx:{minWidth:24,color:"text.secondary"},children:[F+1,"."]}),s?f.jsxs(f.Fragment,{children:[f.jsx(Bt,{fullWidth:!0,multiline:!0,value:N,onChange:R=>y(F,R.target.value),size:"small"}),f.jsx(Cn,{onClick:()=>x(F),color:"error",size:"small",children:f.jsx(_d,{})})]}):f.jsx(de,{variant:"body2",children:N})]},F))})]}),f.jsx(ts,{sx:{my:3}}),f.jsxs(kd,{children:[f.jsx(jd,{expandIcon:f.jsx(Vo,{}),children:f.jsxs(de,{variant:"h6",children:["Course Schedule (",w.schedule.length," weeks)"]})}),f.jsx(Nd,{children:f.jsx(me,{sx:{display:"flex",flexDirection:"column",gap:2},children:w.schedule.map((N,F)=>f.jsx(fn,{sx:{p:2,backgroundColor:"grey.50"},children:f.jsxs(xt,{container:!0,spacing:2,alignItems:"center",children:[f.jsx(xt,{item:!0,xs:12,sm:1,children:f.jsx(Dn,{label:`W${N.week}`,size:"small",color:"primary"})}),f.jsx(xt,{item:!0,xs:12,sm:5,children:s?f.jsx(Bt,{fullWidth:!0,size:"small",label:"Topic",value:N.topic,onChange:R=>A(F,"topic",R.target.value)}):f.jsx(de,{variant:"body2",sx:{fontWeight:500},children:N.topic})}),f.jsx(xt,{item:!0,xs:12,sm:6,children:s?f.jsx(Bt,{fullWidth:!0,size:"small",label:"Description",value:N.description||"",onChange:R=>A(F,"description",R.target.value)}):f.jsx(de,{variant:"body2",color:"text.secondary",children:N.description||"No description"})})]})},F))})})]}),(((C=w.prerequisites)==null?void 0:C.length)||w.textbook||w.grading)&&f.jsxs(f.Fragment,{children:[f.jsx(ts,{sx:{my:3}}),f.jsx(de,{variant:"h6",sx:{mb:2},children:"Additional Information"}),f.jsxs(xt,{container:!0,spacing:2,children:[w.prerequisites&&w.prerequisites.length>0&&f.jsxs(xt,{item:!0,xs:12,md:4,children:[f.jsx(de,{variant:"subtitle2",sx:{mb:1},children:"Prerequisites:"}),f.jsx(de,{variant:"body2",color:"text.secondary",children:w.prerequisites.join(", ")})]}),w.textbook&&f.jsxs(xt,{item:!0,xs:12,md:4,children:[f.jsx(de,{variant:"subtitle2",sx:{mb:1},children:"Textbook:"}),f.jsx(de,{variant:"body2",color:"text.secondary",children:w.textbook})]}),w.grading&&f.jsxs(xt,{item:!0,xs:12,md:4,children:[f.jsx(de,{variant:"subtitle2",sx:{mb:1},children:"Grading:"}),f.jsx(de,{variant:"body2",color:"text.secondary",children:w.grading})]})]})]}),e&&f.jsx(me,{sx:{mt:4,textAlign:"right"},children:f.jsx(At,{variant:"contained",color:"primary",size:"large",onClick:e,disabled:s,children:"Continue to Materials Preview"})})]})}):null},hX=({onContinue:e,onBack:n})=>{const{generatedMaterials:t,editMaterial:r,error:i}=jp(),[a,s]=K.useState(null),[l,c]=K.useState(null);if(!t.length)return f.jsx(vr,{severity:"warning",children:"No materials generated. Please go back and process a syllabus first."});const d=w=>{s({index:w,material:{...t[w]}})},h=()=>{a&&(r(a.index,a.material),s(null))},g=()=>{s(null)},b=w=>{c(w)},m=w=>{const C=t[w];r(w,{published:!C.published})},x=(w,C=150)=>{const N=w.replace(/<[^>]*>/g,"");return N.length>C?N.substring(0,C)+"...":N},y=w=>w.toLowerCase().includes("overview")?f.jsx(Pd,{color:"primary"}):w.toLowerCase().includes("week")?f.jsx(Q0,{color:"secondary"}):f.jsx(Pd,{color:"action"}),A=t.filter(w=>w.published).length;return f.jsxs(me,{sx:{maxWidth:1e3,mx:"auto"},children:[f.jsxs(fn,{sx:{p:3,mb:3},children:[f.jsxs(me,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[f.jsx(de,{variant:"h5",component:"h2",children:"Generated Course Materials"}),f.jsx(Dn,{label:`${A}/${t.length} will be published`,color:"primary",variant:"outlined"})]}),f.jsx(de,{variant:"body2",color:"text.secondary",children:"Review and customize the course materials generated from your syllabus. You can edit content, toggle publication status, and organize materials before creating your course."}),i&&f.jsx(vr,{severity:"error",sx:{mt:2},children:i})]}),f.jsx(xt,{container:!0,spacing:3,children:t.map((w,C)=>f.jsx(xt,{item:!0,xs:12,md:6,lg:4,children:f.jsxs(Xa,{sx:{height:"100%",display:"flex",flexDirection:"column",border:w.published?"2px solid":"1px solid",borderColor:w.published?"success.main":"divider"},children:[f.jsxs(Za,{sx:{flexGrow:1},children:[f.jsxs(me,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:2},children:[y(w.title),f.jsxs(me,{sx:{flexGrow:1},children:[f.jsx(de,{variant:"h6",component:"h3",sx:{fontSize:"1rem",lineHeight:1.3,mb:1},children:w.title}),f.jsxs(me,{sx:{display:"flex",gap:1,alignItems:"center"},children:[f.jsx(Td,{control:f.jsx(Od,{checked:w.published,onChange:()=>m(C),size:"small"}),label:f.jsx(de,{variant:"caption",children:w.published?"Publish":"Draft"}),sx:{mr:0}}),w.scheduledTimestamp&&f.jsx(Dn,{label:"Scheduled",size:"small",variant:"outlined",color:"info"})]})]})]}),f.jsxs(de,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[f.jsx("strong",{children:"Sections:"})," ",w.sections.length]}),w.sections[0]&&f.jsxs(me,{sx:{mb:2},children:[f.jsx(de,{variant:"subtitle2",sx:{mb:1},children:w.sections[0].title}),f.jsx(de,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem",fontStyle:"italic"},children:x(w.sections[0].content)})]})]}),f.jsxs(KN,{children:[f.jsx(At,{size:"small",startIcon:f.jsx(E6,{}),onClick:()=>b(w),children:"Preview"}),f.jsx(At,{size:"small",startIcon:f.jsx(wu,{}),onClick:()=>d(C),children:"Edit"})]})]})},w.id))}),f.jsxs(me,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[n&&f.jsx(At,{variant:"outlined",onClick:n,size:"large",children:"Back to Course Info"}),e&&f.jsxs(At,{variant:"contained",color:"primary",onClick:e,size:"large",disabled:A===0,children:["Create Course with ",A," Materials"]})]}),f.jsxs(Xi,{open:a!==null,onClose:g,maxWidth:"md",fullWidth:!0,children:[f.jsxs(pa,{children:["Edit Material: ",a==null?void 0:a.material.title]}),f.jsx(Zi,{children:a&&f.jsxs(me,{sx:{pt:1},children:[f.jsx(Bt,{fullWidth:!0,label:"Material Title",value:a.material.title,onChange:w=>s({...a,material:{...a.material,title:w.target.value}}),sx:{mb:3}}),f.jsx(de,{variant:"h6",sx:{mb:2},children:"Header"}),f.jsx(Bt,{fullWidth:!0,label:"Header Title",value:a.material.header.title,onChange:w=>s({...a,material:{...a.material,header:{...a.material.header,title:w.target.value}}}),sx:{mb:2}}),f.jsx(Bt,{fullWidth:!0,multiline:!0,rows:2,label:"Header Content",value:a.material.header.content,onChange:w=>s({...a,material:{...a.material,header:{...a.material.header,content:w.target.value}}}),sx:{mb:3}}),f.jsx(de,{variant:"h6",sx:{mb:2},children:"Sections"}),a.material.sections.map((w,C)=>f.jsxs(kd,{sx:{mb:2},children:[f.jsx(jd,{expandIcon:f.jsx(Vo,{}),children:f.jsx(de,{children:w.title})}),f.jsxs(Nd,{children:[f.jsx(Bt,{fullWidth:!0,label:"Section Title",value:w.title,onChange:N=>{const F=[...a.material.sections];F[C]={...F[C],title:N.target.value},s({...a,material:{...a.material,sections:F}})},sx:{mb:2}}),f.jsx(Bt,{fullWidth:!0,multiline:!0,rows:4,label:"Section Content",value:w.content,onChange:N=>{const F=[...a.material.sections];F[C]={...F[C],content:N.target.value},s({...a,material:{...a.material,sections:F}})}})]})]},w.id))]})}),f.jsxs(ma,{children:[f.jsx(At,{onClick:g,children:"Cancel"}),f.jsx(At,{onClick:h,variant:"contained",children:"Save Changes"})]})]}),f.jsxs(Xi,{open:l!==null,onClose:()=>c(null),maxWidth:"md",fullWidth:!0,children:[f.jsx(pa,{children:l==null?void 0:l.title}),f.jsx(Zi,{children:l&&f.jsxs(me,{sx:{pt:1},children:[f.jsxs(fn,{sx:{p:2,mb:3,backgroundColor:"primary.50"},children:[f.jsx(de,{variant:"h6",color:"primary",children:l.header.title}),f.jsx(de,{variant:"body2",sx:{mt:1},children:l.header.content.replace(/<[^>]*>/g,"")})]}),l.sections.map(w=>f.jsxs(me,{sx:{mb:3},children:[f.jsx(de,{variant:"h6",sx:{mb:2},children:w.title}),f.jsx(de,{variant:"body1",sx:{mb:2},children:w.content.replace(/<[^>]*>/g,"")}),w.subsections.map(C=>f.jsxs(me,{sx:{ml:2,mb:2},children:[f.jsx(de,{variant:"subtitle1",sx:{mb:1},children:C.title}),f.jsx(de,{variant:"body2",color:"text.secondary",children:C.content.replace(/<[^>]*>/g,"")})]},C.id))]},w.id)),f.jsx(fn,{sx:{p:2,backgroundColor:"grey.50"},children:f.jsx(de,{variant:"body2",color:"text.secondary",children:l.footer.content.replace(/<[^>]*>/g,"")})})]})}),f.jsx(ma,{children:f.jsx(At,{onClick:()=>c(null),children:"Close"})})]})]})},pX=({onConfigChange:e,compact:n=!1})=>{const{useAIProcessing:t,setUseAIProcessing:r}=jp(),[i,a]=K.useState(null);K.useEffect(()=>{const{config:h,isValid:g,errors:b}=dI();a({config:h,isValid:g,errors:b})},[]);const s=h=>{if(r(h),i){const g={...i.config,enableAIProcessing:h},b=cI(g);a({config:g,...b}),e==null||e(g)}},l=()=>i?i.isValid&&t?f.jsx(Mg,{color:"success"}):!i.isValid&&t?f.jsx(bR,{color:"error"}):f.jsx(Ax,{color:"action"}):f.jsx(Ax,{color:"action"}),c=()=>t?i?i.isValid?"AI processing ready - enhanced syllabus analysis enabled":`Configuration issues: ${i.errors.join(", ")}`:"Loading configuration...":"AI processing disabled - using pattern-based parsing",d=()=>t?i?i.isValid?"success":"error":"info":"warning";return n?f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:2},children:[l(),f.jsx(Td,{control:f.jsx(Od,{checked:t,onChange:h=>s(h.target.checked),size:"small"}),label:"AI Processing"}),f.jsx(si,{title:c(),children:f.jsx(gR,{fontSize:"small",color:"action"})})]}):f.jsx(fn,{sx:{p:2,mb:2},children:f.jsxs(kd,{children:[f.jsx(jd,{expandIcon:f.jsx(Vo,{}),children:f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[l(),f.jsxs(me,{sx:{flexGrow:1},children:[f.jsx(de,{variant:"subtitle1",sx:{fontWeight:500},children:"AI-Powered Processing Settings"}),f.jsx(de,{variant:"caption",color:"text.secondary",children:c()})]}),f.jsx(Dn,{label:t?"Enabled":"Disabled",color:t?"success":"default",size:"small"})]})}),f.jsx(Nd,{children:f.jsxs(xt,{container:!0,spacing:3,children:[f.jsx(xt,{item:!0,xs:12,children:f.jsx(Td,{control:f.jsx(Od,{checked:t,onChange:h=>s(h.target.checked)}),label:f.jsxs(me,{children:[f.jsx(de,{variant:"body2",sx:{fontWeight:500},children:"Enable AI-Powered Analysis"}),f.jsx(de,{variant:"caption",color:"text.secondary",children:"Use Google Gemini to extract structured information from syllabi"})]})})}),t&&f.jsx(xt,{item:!0,xs:12,children:f.jsxs(fn,{sx:{p:2,backgroundColor:i!=null&&i.isValid?"success.50":"error.50",border:"1px solid",borderColor:i!=null&&i.isValid?"success.200":"error.200"},children:[f.jsx(de,{variant:"subtitle2",sx:{mb:1,color:i!=null&&i.isValid?"success.main":"error.main"},children:i!=null&&i.isValid?" API Configuration":" API Configuration"}),f.jsx(de,{variant:"body2",color:"text.secondary",children:i!=null&&i.isValid?"Gemini API key is configured and ready for use.":"Gemini API key is required. Please add VITE_GEMINI_API_KEY to your environment variables."})]})}),f.jsx(xt,{item:!0,xs:12,children:f.jsxs(vr,{severity:d(),sx:{mb:2},children:[f.jsx(de,{variant:"body2",children:c()}),(i==null?void 0:i.errors)&&i.errors.length>0&&f.jsx(me,{sx:{mt:1},children:i.errors.map((h,g)=>f.jsxs(de,{variant:"caption",display:"block",children:[" ",h]},g))})]})}),t&&(i==null?void 0:i.isValid)&&f.jsx(xt,{item:!0,xs:12,children:f.jsxs(fn,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200"},children:[f.jsx(de,{variant:"subtitle2",sx:{mb:1,color:"primary.main"},children:" Enhanced Features with AI:"}),f.jsxs(xt,{container:!0,spacing:1,children:[f.jsxs(xt,{item:!0,xs:12,sm:6,children:[f.jsx(de,{variant:"caption",display:"block",children:" Intelligent course information extraction"}),f.jsx(de,{variant:"caption",display:"block",children:" Automatic learning objectives identification"}),f.jsx(de,{variant:"caption",display:"block",children:" Smart schedule parsing and organization"})]}),f.jsxs(xt,{item:!0,xs:12,sm:6,children:[f.jsx(de,{variant:"caption",display:"block",children:" Grading policy analysis"}),f.jsx(de,{variant:"caption",display:"block",children:" Assignment and due date extraction"}),f.jsx(de,{variant:"caption",display:"block",children:" Enhanced material generation"})]})]})]})}),!t&&f.jsx(xt,{item:!0,xs:12,children:f.jsxs(fn,{sx:{p:2,backgroundColor:"warning.50",border:"1px solid",borderColor:"warning.200"},children:[f.jsx(de,{variant:"subtitle2",sx:{mb:1,color:"warning.main"},children:" Pattern-Based Processing:"}),f.jsx(de,{variant:"caption",color:"text.secondary",children:"Using traditional text parsing methods. Results may be less accurate than AI processing. Enable AI processing for better extraction accuracy."})]})})]})})]})})},fI=({onComplete:e,onCancel:n,educatorUid:t})=>{const{currentStep:r,setCurrentStep:i,parsedCourseInfo:a,generatedMaterials:s,isProcessing:l,error:c,useAIProcessing:d,processingProgress:h,reset:g}=jp(),[b,m]=K.useState(null);it.useEffect(()=>{const{config:M}=dI();m(M)},[]);const x=[{label:"Upload Syllabus",description:"Upload your syllabus document"},{label:"Review Course Info",description:"Verify and edit course information"},{label:"Review Materials",description:"Customize generated course materials"}],y=()=>{switch(r){case"upload":case"processing":return 0;case"review":return 1;case"editing":return 2;case"complete":return 2;default:return 0}},A=()=>{i("editing")},w=()=>{i("review")},C=()=>{if(a&&s.length>0){const M=s.filter(k=>k.published);e==null||e({courseInfo:a,materials:M})}},N=()=>{g(),n==null||n()},F=M=>{m(M)},R=()=>{switch(r){case"upload":case"processing":return f.jsx(o4,{onUploadComplete:()=>{},educatorUid:t});case"review":return f.jsx(fX,{onContinue:A});case"editing":case"complete":return f.jsx(hX,{onContinue:C,onBack:w});default:return f.jsx(o4,{onUploadComplete:()=>{},educatorUid:t})}};return f.jsxs(me,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:3},children:[f.jsxs(fn,{sx:{p:3,mb:4},children:[f.jsx(de,{variant:"h4",component:"h1",gutterBottom:!0,children:"Import Course from Syllabus"}),f.jsx(de,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Upload your syllabus document and we'll automatically create a course structure with organized materials based on your content."}),f.jsx(yR,{activeStep:y(),alternativeLabel:!0,children:x.map(M=>f.jsx(xR,{children:f.jsxs(vR,{children:[f.jsx(de,{variant:"body2",sx:{fontWeight:500},children:M.label}),f.jsx(de,{variant:"caption",color:"text.secondary",children:M.description})]})},M.label))})]}),r==="upload"&&f.jsx(pX,{onConfigChange:F,compact:!1}),c&&f.jsx(vr,{severity:"error",sx:{mb:3},onClose:()=>{},children:c}),l&&f.jsx(vr,{severity:"info",sx:{mb:3},children:f.jsx(de,{variant:"body2",children:d?" AI is analyzing your syllabus for enhanced data extraction... This usually takes 10-30 seconds.":" Processing your syllabus with pattern-based analysis... This usually takes a moment."})}),f.jsx(me,{sx:{minHeight:400},children:R()}),r!=="upload"&&n&&f.jsx(me,{sx:{display:"flex",justifyContent:"center",mt:3},children:f.jsx(At,{variant:"outlined",color:"secondary",onClick:N,size:"small",children:"Cancel & Return to Manual Entry"})})]})},Vx=e=>{if(e==null)return null;if(e instanceof Date)return e;if(Array.isArray(e))return e.map(Vx).filter(n=>n!=null);if(typeof e=="object"){const n={};return Object.keys(e).forEach(t=>{const r=e[t];if(r!==void 0){const i=Vx(r);i!=null&&(n[t]=i)}}),n}return e},mX=()=>{const{userDetails:e}=Ai(),n=ea(),t=Jn(),[r,i]=K.useState(""),[a,s]=K.useState(""),[l,c]=K.useState(""),[d,h]=K.useState(""),[g,b]=K.useState(""),[m,x]=K.useState(""),[y,A]=K.useState(""),[w,C]=K.useState("primary"),[N,F]=K.useState("manual"),{parsedCourseInfo:R,generatedMaterials:M,reset:k,currentStep:L}=jp(),[B,Q]=K.useState(!1),[j,O]=K.useState(!1),[z,T]=K.useState("");K.useEffect(()=>{(N==="manual"||w==="co-instructor")&&k()},[N,w,k]),K.useEffect(()=>{w==="primary"&&N==="syllabus"&&R&&(b(R.suggestedNumber||""),x(R.suggestedTitle||""),A(R.suggestedDescription||""))},[w,N,R]);const G=Z=>ee=>{Z(ee.target.value)},W=Z=>{const ee=Z.target.value;C(ee),ee==="co-instructor"&&(F("manual"),b(""),x(""),A(""))},X=(Z,ee)=>{ee!==null&&(F(ee),ee==="syllabus"&&(b(""),x(""),A("")))},ie=()=>{if(!r||!a||!l||!d||!g||!m)return"Please fill in all required fields.";if(w==="primary"){if(N==="manual"&&!y)return"Please provide a course description.";if(N==="syllabus"){if(!R)return"Please complete the syllabus import process first.";if(!y)return"Please ensure course description is properly filled from your syllabus."}}return null},ue=Z=>{console.log("Syllabus import completed for educator request:",Z)},$=async()=>{const Z=ie();if(Z){T(Z),O(!0);return}Q(!0);try{const ee={uid:(e==null?void 0:e.uid)||"",firstName:r||"",lastName:a||"",institution:l||"",email:d||"",courseNumber:g||"",courseTitle:m||"",courseDescription:w==="primary"?y||"":"CO-INSTRUCTOR REQUEST",requestType:w||"primary",status:"pending",timestamp:new Date,syllabusImported:!1};if(w==="primary"&&N==="syllabus"&&R&&M.length>0){const Ce={parsedCourseInfo:R,generatedMaterials:M.filter(Le=>Le.published)},Oe=Vx(Ce);ee.syllabusImported=!0,ee.syllabusData=Oe}const se=Vx(ee);console.log("Submitting clean educator request document:",se);const we=await Ma(wn(t,"educatorRequests"),se),ye={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Educator Request Submitted${w==="primary"&&N==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new educator request has been submitted:</p>
            <p><strong>Name:</strong> ${r} ${a}</p>
            <p><strong>Email:</strong> ${d}</p>
            <p><strong>Institution:</strong> ${l}</p>
            <p><strong>Course:</strong> ${g} - ${m}</p>
            <p><strong>Request Type:</strong> ${w}</p>
            ${w==="primary"?`<p><strong>Course Creation Method:</strong> ${N==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>`:""}
            ${w==="primary"&&N==="syllabus"&&M.length>0?`<p><strong>Generated Materials:</strong> ${M.filter(Ce=>Ce.published).length} materials ready for publication</p>`:""}
            <p><strong>Description:</strong> ${y}</p>
            <p><strong>Request ID:</strong> ${we.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/educator-requests">
            Click here to review the request.
            </a></p>
          `}};await Ma(wn(t,"mail"),ye),T(w==="primary"&&N==="syllabus"&&M.length>0?`Your educator request has been submitted for review with ${M.filter(Ce=>Ce.published).length} auto-generated course materials.`:"Your request has been submitted for review."),i(""),s(""),c(""),h(""),b(""),x(""),A(""),C("primary"),F("manual"),N==="syllabus"&&k(),O(!0),setTimeout(()=>{n("/my-profile")},3e3)}catch(ee){console.error("Error submitting request: ",ee),ee instanceof Error&&console.error("Error details:",{message:ee.message,name:ee.name,stack:ee.stack}),T("Error submitting your request. Please try again."),O(!0)}finally{Q(!1)}},ae=()=>{O(!1)},U=w==="primary"&&N==="syllabus"&&L!=="upload"&&!R,q=w==="primary"&&N==="syllabus"&&(L==="review"||L==="editing"||L==="complete")&&R;return f.jsx(me,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:f.jsxs(me,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[f.jsx(de,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Educator Permissions"}),f.jsxs(xt,{item:!0,xs:12,sx:{mb:3},children:[f.jsx(mu,{htmlFor:"request-type",required:!0,children:"Request Type"}),f.jsxs(Rl,{id:"request-type",name:"request-type",value:w,onChange:W,fullWidth:!0,required:!0,disabled:B,sx:{mt:1},children:[f.jsx(Zn,{value:"primary",children:"I am a primary course instructor, I want to create a new course"}),f.jsx(Zn,{value:"co-instructor",children:"I am a co-instructor, I want to be added to an existing course"})]})]}),f.jsx(de,{variant:"h6",component:"h2",sx:{mb:2},children:"Personal Information"}),f.jsxs(xt,{container:!0,spacing:3,children:[f.jsxs(xt,{item:!0,xs:12,md:6,children:[f.jsx(mu,{htmlFor:"first-name",required:!0,children:"First Name"}),f.jsx(mc,{id:"first-name",name:"first-name",value:r,onChange:G(i),placeholder:"John",fullWidth:!0,required:!0,disabled:B})]}),f.jsxs(xt,{item:!0,xs:12,md:6,children:[f.jsx(mu,{htmlFor:"last-name",required:!0,children:"Last Name"}),f.jsx(mc,{id:"last-name",name:"last-name",value:a,onChange:G(s),placeholder:"Doe",fullWidth:!0,required:!0,disabled:B})]}),f.jsxs(xt,{item:!0,xs:12,children:[f.jsx(mu,{htmlFor:"institution",required:!0,children:"Institution Affiliation"}),f.jsx(mc,{id:"institution",name:"institution",value:l,onChange:G(c),placeholder:"University Name",fullWidth:!0,required:!0,disabled:B})]}),f.jsxs(xt,{item:!0,xs:12,children:[f.jsx(mu,{htmlFor:"email",required:!0,children:"Institutional Email"}),f.jsx(mc,{id:"email",name:"email",value:d,onChange:G(h),placeholder:"name@institution.edu",fullWidth:!0,required:!0,disabled:B}),f.jsx(de,{variant:"caption",sx:{mt:1},children:"Please use your institutional email to confirm your affiliation."})]})]}),f.jsx(ts,{sx:{my:4}}),f.jsx(de,{variant:"h6",component:"h2",sx:{mb:2},children:w==="primary"?"New Course Details":"Existing Course Details"}),w==="primary"&&f.jsxs(fn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[f.jsx(de,{variant:"subtitle1",sx:{mb:2},children:"How would you like to create your course?"}),f.jsxs(S6,{value:N,exclusive:!0,onChange:X,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[f.jsxs(K0,{value:"manual","aria-label":"manual entry",children:[f.jsx(wu,{sx:{mr:1}}),"Manual Entry"]}),f.jsxs(K0,{value:"syllabus","aria-label":"syllabus import",children:[f.jsx(XN,{sx:{mr:1}}),"Import from Syllabus"]})]}),f.jsx(de,{variant:"body2",color:"text.secondary",children:N==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),w==="primary"&&N==="syllabus"&&f.jsx(me,{sx:{mb:4},children:f.jsx(fI,{onComplete:ue,onCancel:()=>F("manual")})}),(w==="co-instructor"||w==="primary"&&N==="manual")&&f.jsxs(xt,{container:!0,spacing:3,sx:{mb:4},children:[f.jsxs(xt,{item:!0,xs:12,md:6,children:[f.jsx(mu,{htmlFor:"course-number",required:!0,children:"Course Number"}),f.jsx(mc,{id:"course-number",name:"course-number",value:g,onChange:G(b),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:B})]}),f.jsxs(xt,{item:!0,xs:12,md:6,children:[f.jsx(mu,{htmlFor:"course-title",required:!0,children:"Course Title"}),f.jsx(mc,{id:"course-title",name:"course-title",value:m,onChange:G(x),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:B})]}),w==="primary"&&f.jsxs(xt,{item:!0,xs:12,children:[f.jsx(mu,{htmlFor:"course-description",required:!0,children:"Course Description"}),f.jsx(mc,{id:"course-description",name:"course-description",value:y,onChange:G(A),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:B})]})]}),(w==="co-instructor"||w==="primary"&&N==="manual"||q)&&f.jsxs(me,{sx:{mt:4},children:[f.jsx(At,{variant:"contained",color:"primary",onClick:$,fullWidth:!0,className:"submit-button",sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},disabled:B||U,children:B?f.jsxs(f.Fragment,{children:[f.jsx(Gr,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${w==="primary"&&N==="syllabus"&&M.length>0?` with ${M.filter(Z=>Z.published).length} Materials`:""}`}),f.jsxs(de,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",f.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),f.jsxs(Xi,{open:j,onClose:ae,children:[f.jsx(pa,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(Mg,{sx:{color:"green",fontSize:50,marginRight:1}})}),f.jsx(Zi,{children:f.jsx(Fl,{sx:{textAlign:"center"},children:z})}),f.jsx(ma,{children:f.jsx(At,{onClick:ae,color:"primary",autoFocus:!0,children:"Close"})})]})]})})},gX=()=>{const[e,n]=K.useState([]),[t,r]=K.useState([]),[i,a]=K.useState(""),[s,l]=K.useState(!1),[c,d]=K.useState(""),[h,g]=K.useState("success"),[b,m]=K.useState(!1),[x,y]=K.useState(null),[A,w]=K.useState(null),[C,N]=K.useState(null),F=Jn();ea(),K.useEffect(()=>{(async()=>{const z=(await mi(wn(F,"educatorRequests"))).docs.map(W=>({id:W.id,...W.data()})),G=(await mi(wn(F,"courses"))).docs.map(W=>({id:W.id,...W.data()}));n(z),r(G)})()},[F]);function R(){const j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let O="";for(let z=0;z<28;z++)O+=j.charAt(Math.floor(Math.random()*j.length));return O}const M=async()=>{var j,O;if(!(!A||!C)){if(!C.courseNumber||!C.courseTitle){d("Course number or title is missing. Cannot approve request."),g("error"),l(!0);return}if(C.requestType==="co-instructor"&&!i){d("Please select a course for the co-instructor request."),g("error"),l(!0);return}if(C.status!=="pending"){d("This request has already been processed."),g("warning"),l(!0);return}try{const z=xn(F,"users",C.uid);if(C.requestType==="primary"){const T=R(),G=await Ma(wn(F,"courses"),{number:C.courseNumber,title:C.courseTitle,passcode:T,courseAdmin:[C.uid],createdAt:new Date,courseCreatedAt:new Date}),W=await Oa(z),X=W.exists()?((j=W.data())==null?void 0:j.classes)||{}:{};await Wr(z,{isAdmin:!0,classes:{...X,[G.id]:{number:C.courseNumber,title:C.courseTitle,isCourseAdmin:!0,courseCreatedAt:new Date,enrolledAt:new Date}}}),await Wr(xn(F,"educatorRequests",A),{status:"approved",courseId:G.id,passcode:T})}else if(C.requestType==="co-instructor"){if(!i){d("Please select a course for the co-instructor request."),g("error"),l(!0);return}const T=xn(F,"courses",i);await Wr(T,{courseAdmin:ZR(C.uid)});const G=await Oa(z),W=G.exists()?((O=G.data())==null?void 0:O.classes)||{}:{};await Wr(z,{isAdmin:!0,classes:{...W,[i]:{number:C.courseNumber,title:C.courseTitle,isCourseAdmin:!0,courseCreatedAt:new Date,enrolledAt:new Date}}}),await Wr(xn(F,"educatorRequests",A),{status:"approved",courseId:i})}d("Request approved, and user promoted to educator."),g("success"),n(T=>T.map(G=>G.id===A?{...G,status:"approved"}:G))}catch(z){console.error("Error approving request: ",z),d("Error approving the request. Please try again."),g("error")}l(!0),B()}},k=async()=>{if(A){try{await Wr(xn(F,"educatorRequests",A),{status:"denied"}),d("Request denied."),g("success"),n(e.map(j=>j.id===A?{...j,status:"denied"}:j))}catch(j){console.error("Error denying request: ",j),d("Error denying the request. Please try again."),g("error")}l(!0),B()}},L=(j,O,z)=>{y(j),w(O),N(z),a(""),m(!0)},B=()=>{m(!1),y(null),w(null),N(null)},Q=()=>{l(!1)};return f.jsxs(me,{sx:{padding:3},children:[f.jsx(Pl,{title:"Educator Permission Requests"}),f.jsx(_u,{component:fn,children:f.jsxs(ku,{children:[f.jsx(ju,{children:f.jsxs(Fi,{children:[f.jsx(dt,{children:"Name"}),f.jsx(dt,{children:"User ID"}),f.jsx(dt,{children:"Institution"}),f.jsx(dt,{children:"Email"}),f.jsx(dt,{children:"Course Number"}),f.jsx(dt,{children:"Course Title"}),f.jsx(dt,{children:"Course Description"}),f.jsx(dt,{children:"Timestamp"}),f.jsx(dt,{children:"Actions"})]})}),f.jsx(Nu,{children:e.map(j=>f.jsxs(Fi,{children:[f.jsx(dt,{children:`${j.firstName} ${j.lastName}`}),f.jsx(dt,{children:j.uid}),f.jsx(dt,{children:j.institution}),f.jsx(dt,{children:j.email}),f.jsx(dt,{children:j.courseNumber}),f.jsx(dt,{children:j.courseTitle}),f.jsx(dt,{children:j.courseDescription}),f.jsx(dt,{children:new Date(j.timestamp.seconds*1e3).toLocaleString()}),f.jsxs(dt,{children:[j.status==="pending"&&f.jsxs(f.Fragment,{children:[f.jsx(At,{variant:"contained",color:"primary",sx:{mr:1},onClick:()=>L("approve",j.id,j),children:"Approve"}),f.jsx(At,{variant:"contained",color:"secondary",onClick:()=>L("deny",j.id,j),children:"Deny"})]}),j.status==="approved"&&f.jsx(de,{color:"success.main",children:"Approved"}),j.status==="denied"&&f.jsx(de,{color:"error.main",children:"Denied"})]})]},j.id))})]})}),f.jsx(rl,{open:s,autoHideDuration:6e3,onClose:Q,children:f.jsx(vr,{onClose:Q,severity:h,sx:{width:"100%"},children:c})}),f.jsxs(Xi,{open:b,onClose:B,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[f.jsx(pa,{id:"confirmation-dialog-title",children:x==="approve"?"Confirm Approval":"Confirm Denial"}),f.jsxs(Zi,{children:[f.jsxs(Fl,{id:"confirmation-dialog-description",children:["Are you sure you want to ",x," this request for ",C==null?void 0:C.firstName," ",C==null?void 0:C.lastName,"?"]}),x==="approve"&&(C==null?void 0:C.requestType)==="co-instructor"&&f.jsxs(me,{sx:{mt:2},children:[f.jsx(de,{children:"Select Course:"}),f.jsx(Rl,{fullWidth:!0,value:i,onChange:j=>a(j.target.value),children:t.map(j=>f.jsx(Zn,{value:j.id,children:`${j.number} - ${j.title}`},j.id))})]})]}),f.jsxs(ma,{children:[f.jsx(At,{onClick:B,color:"primary",children:"Cancel"}),f.jsx(At,{onClick:x==="approve"?M:k,color:"primary",variant:"contained",autoFocus:!0,disabled:(C==null?void 0:C.requestType)==="co-instructor"&&!i,children:"Confirm"})]})]})]})},Yx=e=>{if(e==null)return null;if(e instanceof Date)return e;if(Array.isArray(e))return e.map(Yx).filter(n=>n!=null);if(typeof e=="object"){const n={};return Object.keys(e).forEach(t=>{const r=e[t];if(r!==void 0){const i=Yx(r);i!=null&&(n[t]=i)}}),n}return e},bX=()=>{const{userDetails:e}=Ai(),n=ea(),t=Jn(),[r,i]=K.useState("manual"),[a,s]=K.useState(""),[l,c]=K.useState(""),[d,h]=K.useState(""),{parsedCourseInfo:g,generatedMaterials:b,aiExtractedInfo:m,storedSyllabusFile:x,reset:y,currentStep:A}=jp(),[w,C]=K.useState(!1),[N,F]=K.useState(!1),[R,M]=K.useState("");K.useEffect(()=>{r==="manual"&&y()},[r,y]),K.useEffect(()=>{r==="syllabus"&&g&&(s(g.suggestedNumber||""),c(g.suggestedTitle||""),h(g.suggestedDescription||""))},[r,g]);const k=G=>W=>{G(W.target.value)},L=(G,W)=>{W!==null&&(i(W),W==="syllabus"&&(s(""),c(""),h("")))},B=()=>{if(r==="manual"){if(!a||!l||!d)return"Please fill in all required fields."}else if(r==="syllabus"){if(!g)return"Please complete the syllabus import process first.";if(!a||!l||!d)return"Please ensure course information is properly filled from your syllabus."}return null},Q=G=>{console.log("Syllabus import completed:",G),j()},j=async()=>{const G=B();if(G){M(G),F(!0);return}C(!0);try{const W={uid:(e==null?void 0:e.uid)||"",courseNumber:a||"",courseTitle:l||"",courseDescription:d||"",status:"pending",timestamp:new Date,syllabusImported:!1};if(r==="syllabus"&&g&&b.length>0){const $={parsedCourseInfo:g,generatedMaterials:b.filter(U=>U.published),additionalInfo:m?{contactInfo:m.contactInfo,policies:m.policies,additionalResources:m.additionalResources,labSpecific:m.labSpecific,textbooks:m.textbooks,gradingPolicy:m.gradingPolicy,assignments:m.assignments,prerequisites:m.prerequisites}:null,syllabusFile:x?{url:x.url,path:x.path,metadata:x.metadata}:null},ae=Yx($);W.syllabusImported=!0,W.syllabusData=ae}const X=Yx(W);console.log("Submitting clean request document:",X);const ie=await Ma(wn(t,"courseRequests"),X),ue={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Course Request Submitted${r==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new course request has been submitted:</p>
            <p><strong>Educator ID:</strong> ${(e==null?void 0:e.uid)||"Unknown"}</p>
            <p><strong>Course:</strong> ${a} - ${l}</p>
            <p><strong>Description:</strong> ${d}</p>
            <p><strong>Creation Method:</strong> ${r==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>
            ${r==="syllabus"&&b.length>0?`<p><strong>Generated Materials:</strong> ${b.filter($=>$.published).length} materials ready for publication</p>`:""}
            <p><strong>Request ID:</strong> ${ie.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/course-requests">
            Click here to review the request.
            </a></p>
          `}};await Ma(wn(t,"mail"),ue),M(r==="syllabus"?`Your course request has been submitted for review with ${b.filter($=>$.published).length} auto-generated materials.`:"Your course request has been submitted for review."),s(""),c(""),h(""),r==="syllabus"&&y(),F(!0),setTimeout(()=>{n("/course-management")},3e3)}catch(W){console.error("Error submitting course request: ",W),W instanceof Error&&console.error("Error details:",{message:W.message,name:W.name,stack:W.stack}),M("Error submitting your course request. Please try again."),F(!0)}finally{C(!1)}},O=()=>{F(!1)},z=r==="syllabus"&&A!=="upload"&&!g,T=r==="syllabus"&&(A==="review"||A==="editing"||A==="complete")&&g;return f.jsx(me,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:f.jsxs(me,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[f.jsx(de,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Creating a New Course"}),f.jsxs(fn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[f.jsx(de,{variant:"h6",sx:{mb:2},children:"How would you like to create your course?"}),f.jsxs(S6,{value:r,exclusive:!0,onChange:L,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[f.jsxs(K0,{value:"manual","aria-label":"manual entry",children:[f.jsx(wu,{sx:{mr:1}}),"Manual Entry"]}),f.jsxs(K0,{value:"syllabus","aria-label":"syllabus import",children:[f.jsx(XN,{sx:{mr:1}}),"Import from Syllabus"]})]}),f.jsx(de,{variant:"body2",color:"text.secondary",children:r==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),r==="syllabus"&&f.jsx(me,{sx:{mb:4},children:f.jsx(fI,{onComplete:Q,onCancel:()=>i("manual"),educatorUid:e==null?void 0:e.uid})}),r==="manual"&&f.jsxs(xt,{container:!0,spacing:3,children:[f.jsxs(xt,{item:!0,xs:12,md:6,children:[f.jsx(mu,{htmlFor:"course-number",required:!0,children:"Course Number"}),f.jsx(mc,{id:"course-number",name:"course-number",value:a,onChange:k(s),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:w})]}),f.jsxs(xt,{item:!0,xs:12,md:6,children:[f.jsx(mu,{htmlFor:"course-title",required:!0,children:"Course Title"}),f.jsx(mc,{id:"course-title",name:"course-title",value:l,onChange:k(c),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:w})]}),f.jsxs(xt,{item:!0,xs:12,children:[f.jsx(mu,{htmlFor:"course-description",required:!0,children:"Course Description"}),f.jsx(mc,{id:"course-description",name:"course-description",value:d,onChange:k(h),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:w})]})]}),(r==="manual"||T)&&f.jsxs(me,{sx:{mt:4},children:[f.jsx(At,{variant:"contained",color:"primary",onClick:j,fullWidth:!0,className:"submit-button",disabled:w||z,sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},children:w?f.jsxs(f.Fragment,{children:[f.jsx(Gr,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${r==="syllabus"&&b.length>0?` with ${b.filter(G=>G.published).length} Materials`:""}`}),f.jsxs(de,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",f.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),f.jsxs(Xi,{open:N,onClose:O,children:[f.jsx(pa,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsx(Mg,{sx:{color:"green",fontSize:50,marginRight:1}})}),f.jsx(Zi,{children:f.jsx(Fl,{sx:{textAlign:"center"},children:R})}),f.jsx(ma,{children:f.jsx(At,{onClick:O,color:"primary",autoFocus:!0,children:"Close"})})]})]})})},yX=()=>{var k,L,B,Q;const[e,n]=K.useState([]),[t,r]=K.useState(!1),[i,a]=K.useState(""),[s,l]=K.useState("success"),[c,d]=K.useState(!1),[h,g]=K.useState(null),[b,m]=K.useState(null),[x,y]=K.useState(null),A=Jn();ea(),K.useEffect(()=>{(async()=>{try{const z=(await mi(wn(A,"courseRequests"))).docs.map(T=>({id:T.id,...T.data()}));z.sort((T,G)=>T.status==="pending"&&G.status!=="pending"||T.status==="approved"&&G.status==="denied"?-1:T.status==="denied"&&G.status==="approved"?1:0),n(z)}catch(O){console.error("Error fetching course requests: ",O)}})()},[A]);function w(){const j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let O="";for(let z=0;z<28;z++)O+=j.charAt(Math.floor(Math.random()*j.length));return O}const C=async()=>{var j,O,z,T;if(!(!b||!x)){try{const G=w(),W={number:x.courseNumber,title:x.courseTitle,description:x.courseDescription,passcode:G,courseAdmin:[x.uid],createdAt:new Date,courseCreatedAt:new Date};if(x.syllabusImported&&((j=x.syllabusData)!=null&&j.additionalInfo)){const q=x.syllabusData.additionalInfo;W.additionalInfo={contactInfo:q.contactInfo||{},policies:q.policies||{},additionalResources:q.additionalResources||{},labSpecific:q.labSpecific||{},textbooks:q.textbooks||[],gradingPolicy:q.gradingPolicy||[],assignments:q.assignments||[],prerequisites:q.prerequisites||[],lastUpdated:new Date}}x.syllabusImported&&((O=x.syllabusData)!=null&&O.syllabusFile)&&(W.syllabusFile=x.syllabusData.syllabusFile);const X=await Ma(wn(A,"courses"),W),ie=xn(A,"users",x.uid),ue=await Oa(ie),$=ue.exists()?((z=ue.data())==null?void 0:z.classes)||{}:{};await Wr(ie,{classes:{...$,[X.id]:{number:x.courseNumber,title:x.courseTitle,isCourseAdmin:!0,courseCreatedAt:new Date,enrolledAt:new Date}}});let ae=0;if(x.syllabusImported&&((T=x.syllabusData)!=null&&T.generatedMaterials)){const q=k6(A);x.syllabusData.generatedMaterials.forEach(Z=>{const ee=xn(wn(A,"materials")),se={title:Z.title||"Untitled Material",header:Z.header||{title:"",content:""},footer:Z.footer||{title:"",content:""},sections:(Z.sections||[]).map(we=>({...we,images:we.images||[],links:we.links||[],subsections:(we.subsections||[]).map(ye=>({...ye,images:ye.images||[],links:ye.links||[],subSubsections:(ye.subSubsections||[]).map(Ce=>({...Ce,images:Ce.images||[],links:Ce.links||[]}))}))})),published:!0,course:X.id,author:x.uid,timestamp:Ja.now(),createdAt:new Date,updatedAt:new Date};Z.scheduledTimestamp&&(se.scheduledTimestamp=Ja.fromDate(Z.scheduledTimestamp)),q.set(ee,se),ae++}),await q.commit(),console.log(`Created ${ae} materials from syllabus`)}await Wr(xn(A,"courseRequests",b),{status:"approved",courseId:X.id,passcode:G});const U={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"Your Course Request Has Been Approved",html:`
            <p>Your course request has been approved:</p>
            <p><strong>Course:</strong> ${x.courseNumber} - ${x.courseTitle}</p>
            <p><strong>Passcode:</strong> ${G}</p>
            ${x.syllabusImported&&ae>0?`<p><strong>Materials Created:</strong> ${ae} materials have been automatically added to your course from your syllabus import.</p>`:""}
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/supplemental-materials">
            Click here to view your course.
            </a></p>
          `}};await Ma(wn(A,"mail"),U),a(`Course request approved, course added${ae>0?` with ${ae} materials`:""}.`),l("success"),n(q=>q.map(Z=>Z.id===b?{...Z,status:"approved"}:Z))}catch(G){console.error("Error approving request: ",G),a("Error approving the request. Please try again."),l("error")}r(!0),R()}},N=async()=>{if(b){try{await Wr(xn(A,"courseRequests",b),{status:"denied"}),a("Course request denied."),l("success"),n(e.map(j=>j.id===b?{...j,status:"denied"}:j))}catch(j){console.error("Error denying request: ",j),a("Error denying the request. Please try again."),l("error")}r(!0),R()}},F=(j,O,z)=>{g(j),m(O),y(z),d(!0)},R=()=>{d(!1),g(null),m(null),y(null)},M=()=>{r(!1)};return f.jsxs(me,{sx:{padding:3},children:[f.jsx(Pl,{title:"Course Creation Requests"}),f.jsx(_u,{component:fn,children:f.jsxs(ku,{children:[f.jsx(ju,{children:f.jsxs(Fi,{children:[f.jsx(dt,{children:"Educator ID"}),f.jsx(dt,{children:"Course Number"}),f.jsx(dt,{children:"Course Title"}),f.jsx(dt,{children:"Course Description"}),f.jsx(dt,{children:"Creation Method"}),f.jsx(dt,{children:"Timestamp"}),f.jsx(dt,{children:"Actions"})]})}),f.jsx(Nu,{children:e.map(j=>{var O,z,T,G,W;return f.jsxs(Fi,{children:[f.jsx(dt,{children:j.uid}),f.jsx(dt,{children:j.courseNumber}),f.jsx(dt,{children:j.courseTitle}),f.jsx(dt,{children:j.courseDescription.length>100?`${j.courseDescription.substring(0,100)}...`:j.courseDescription}),f.jsx(dt,{children:j.syllabusImported?f.jsxs(me,{children:[f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[f.jsx(de,{variant:"body2",color:"primary",sx:{fontWeight:"bold"},children:"Syllabus Import"}),((O=j.syllabusData)==null?void 0:O.syllabusFile)&&f.jsx(si,{title:`Download: ${j.syllabusData.syllabusFile.metadata.originalFilename}`,children:f.jsx(Cn,{size:"small",onClick:()=>window.open(j.syllabusData.syllabusFile.url,"_blank"),sx:{color:"primary.main"},children:f.jsx(Sx,{fontSize:"small"})})})]}),f.jsxs(de,{variant:"caption",color:"text.secondary",children:[((T=(z=j.syllabusData)==null?void 0:z.generatedMaterials)==null?void 0:T.length)||0," materials"]}),((G=j.syllabusData)==null?void 0:G.syllabusFile)&&f.jsx(de,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:j.syllabusData.syllabusFile.metadata.originalFilename})]}):f.jsx(de,{variant:"body2",color:"text.secondary",children:"Manual Entry"})}),f.jsx(dt,{children:(W=j.timestamp)!=null&&W.seconds?new Date(j.timestamp.seconds*1e3).toLocaleString():"Invalid Date"}),f.jsxs(dt,{children:[j.status==="pending"&&f.jsxs(f.Fragment,{children:[f.jsx(At,{variant:"contained",color:"success",size:"small",onClick:()=>F("approve",j.id,j),sx:{mr:1},children:"Approve"}),f.jsx(At,{variant:"outlined",color:"error",size:"small",onClick:()=>F("deny",j.id,j),children:"Deny"})]}),j.status==="approved"&&f.jsx(de,{variant:"body2",color:"success.main",sx:{fontWeight:"bold"},children:"Approved"}),j.status==="denied"&&f.jsx(de,{variant:"body2",color:"error.main",sx:{fontWeight:"bold"},children:"Denied"})]})]},j.id)})})]})}),f.jsxs(Xi,{open:c,onClose:R,children:[f.jsx(pa,{children:h==="approve"?"Approve Course Request":"Deny Course Request"}),f.jsx(Zi,{children:f.jsx(Fl,{children:h==="approve"?f.jsxs(f.Fragment,{children:["Are you sure you want to approve this course request?",(x==null?void 0:x.syllabusImported)&&f.jsxs(me,{sx:{mt:2,p:2,backgroundColor:"#ECF4FE",borderRadius:1},children:[f.jsx(de,{variant:"body2",sx:{fontWeight:"bold"},children:" Syllabus Import Detected"}),f.jsxs(de,{variant:"body2",children:["This request includes ",((L=(k=x==null?void 0:x.syllabusData)==null?void 0:k.generatedMaterials)==null?void 0:L.length)||0," auto-generated materials that will be added to the course."]}),((B=x==null?void 0:x.syllabusData)==null?void 0:B.syllabusFile)&&f.jsxs(me,{sx:{mt:1},children:[f.jsxs(de,{variant:"body2",sx:{mb:1},children:[f.jsx("strong",{children:"Syllabus File:"})," ",x.syllabusData.syllabusFile.metadata.originalFilename," ","(",(x.syllabusData.syllabusFile.metadata.fileSize/1024/1024).toFixed(2)," MB)"]}),f.jsx(At,{size:"small",variant:"outlined",startIcon:f.jsx(lg,{}),onClick:()=>window.open(x.syllabusData.syllabusFile.url,"_blank"),sx:{mt:.5},children:"View/Download Syllabus"})]}),((Q=x==null?void 0:x.syllabusData)==null?void 0:Q.additionalInfo)&&f.jsxs(de,{variant:"body2",sx:{mt:1},children:[f.jsx("strong",{children:"Additional Info:"})," Contact info, policies, textbooks, and other course details extracted"]})]})]}):"Are you sure you want to deny this course request?"})}),f.jsxs(ma,{children:[f.jsx(At,{onClick:R,color:"primary",children:"Cancel"}),f.jsx(At,{onClick:h==="approve"?C:N,color:h==="approve"?"success":"error",variant:"contained",children:h==="approve"?"Approve":"Deny"})]})]}),f.jsx(rl,{open:t,autoHideDuration:6e3,onClose:M,children:f.jsx(vr,{onClose:M,severity:s,sx:{width:"100%"},children:i})})]})};var C1={},l4;function xX(){if(l4)return C1;l4=1;var e=Wd();Object.defineProperty(C1,"__esModule",{value:!0}),C1.default=void 0;var n=e(Yd()),t=Vd();return C1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),C1}var vX=xX();const wX=ns(vX),SX=()=>{const e=Jn(),{userDetails:n}=Ai(),[t,r]=K.useState([]),[i,a]=K.useState(!0),[s,l]=K.useState(!1),[c,d]=K.useState(""),[h,g]=K.useState("info"),[b,m]=K.useState(!1),[x,y]=K.useState(""),[A,w]=K.useState("");ea(),K.useEffect(()=>{(async()=>{a(!0);try{const Q=(await mi(wn(e,"courses"))).docs.map(j=>{const O=j.data();return{id:j.id,title:O.title||"Untitled",number:O.number||"N/A",courseAdmin:O.courseAdmin||[]}});r(Q)}catch(B){console.error("Error fetching courses: ",B)}finally{a(!1)}})()},[e]);const C=async L=>{if(!n){R("User details are not available.","error");return}const B=t.find(Q=>Q.id===L);if(B&&n)try{if(B.courseAdmin.includes(n.uid)){R("You are already an admin for this course.","warning");return}const Q=xn(e,"courses",L),j=[...B.courseAdmin,n.uid];await Wr(Q,{courseAdmin:j});const O=await Oa(Q),z=O.exists()?O.data():null,T=(z==null?void 0:z.courseCreatedAt)||(z==null?void 0:z.createdAt)||(z==null?void 0:z.timestamp)||new Date,G=xn(e,"users",n.uid);await Wr(G,{[`classes.${L}`]:{number:B.number,title:B.title,isCourseAdmin:!0,courseCreatedAt:T,enrolledAt:new Date}}),r(t.map(W=>W.id===L?{...W,courseAdmin:j}:W)),R("You have been successfully added as an admin to this course.","success")}catch(Q){console.error("Error adding super-admin to course: ",Q),R("Failed to add admin to course.","error")}},N=L=>{w(L),m(!0)},F=async()=>{if(n&&x===n.uid){const L=t.find(B=>B.id===A);if(L&&L.courseAdmin.includes(n.uid))try{await _6(xn(e,"courses",A));const B=await mi(wn(e,"users")),Q=k6(e);B.forEach(j=>{const O=xn(e,"users",j.id),T={...j.data().classes};delete T[A],Q.update(O,{classes:T})}),await Q.commit(),r(t.filter(j=>j.id!==A)),R("Course deleted successfully.","success")}catch(B){console.error("Error deleting course: ",B),R("Failed to delete course.","error")}finally{m(!1),y("")}else R("You are not authorized to delete this course.","warning"),m(!1)}else R("User ID does not match. Please try again.","error")},R=(L,B)=>{d(L),g(B),l(!0)},M=(L,B)=>{B!=="clickaway"&&l(!1)},k=()=>{m(!1),y("")};return f.jsxs(me,{sx:{p:3},children:[f.jsx(Pl,{title:"Super Admin Course Management"}),i?f.jsx(de,{children:"Loading courses..."}):f.jsx(_u,{component:fn,children:f.jsxs(ku,{"aria-label":"courses table",children:[f.jsx(ju,{children:f.jsxs(Fi,{children:[f.jsx(dt,{sx:{fontWeight:"bold"},children:"Course ID"}),f.jsx(dt,{sx:{fontWeight:"bold"},children:"Course Number"}),f.jsx(dt,{sx:{fontWeight:"bold"},children:"Course Title"}),f.jsx(dt,{sx:{fontWeight:"bold"},children:"Instructors"}),f.jsx(dt,{align:"right",sx:{fontWeight:"bold"},children:"Actions"})]})}),f.jsx(Nu,{children:t.map(L=>{const B=!!(n!=null&&n.uid)&&L.courseAdmin.includes(n.uid);return f.jsxs(Fi,{sx:{backgroundColor:B?"#e0f7fa":"transparent"},children:[f.jsx(dt,{children:L.id}),f.jsx(dt,{children:L.number}),f.jsx(dt,{children:L.title}),f.jsx(dt,{children:L.courseAdmin.length>0?L.courseAdmin.join(", "):"No admins assigned"}),f.jsxs(dt,{align:"right",children:[f.jsx(si,{title:"Add yourself as an instructor",children:f.jsx("span",{children:f.jsx(Cn,{edge:"end","aria-label":"add",onClick:()=>C(L.id),disabled:B,children:f.jsx(wX,{})})})}),f.jsx(si,{title:B?"Delete this course":"You are not authorized to delete this course",children:f.jsx("span",{children:f.jsx(Cn,{edge:"end","aria-label":"delete",onClick:()=>N(L.id),disabled:!B,children:f.jsx(D6,{})})})})]})]},L.id)})})]})}),f.jsx(rl,{open:s,autoHideDuration:6e3,onClose:M,children:f.jsx(vr,{onClose:M,severity:h,sx:{width:"100%"},children:c})}),f.jsxs(Xi,{open:b,onClose:k,children:[f.jsx(pa,{children:"Confirm Delete"}),f.jsxs(Zi,{children:[f.jsx(Fl,{children:"To confirm the deletion of this course, please enter your User ID:"}),f.jsx(Bt,{autoFocus:!0,margin:"dense",id:"userId",label:"User ID",type:"text",fullWidth:!0,variant:"outlined",value:x,onChange:L=>y(L.target.value)})]}),f.jsxs(ma,{children:[f.jsx(At,{onClick:k,color:"primary",children:"Cancel"}),f.jsx(At,{onClick:F,color:"primary",children:"Confirm"})]})]})]})};var E1={},u4;function AX(){if(u4)return E1;u4=1;var e=Wd();Object.defineProperty(E1,"__esModule",{value:!0}),E1.default=void 0;var n=e(Yd()),t=Vd();return E1.default=(0,n.default)((0,t.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),E1}var CX=AX();const hI=ns(CX),pI=({filePath:e,fileLabel:n})=>{const[t,r]=K.useState(null),[i,a]=K.useState(!0);return K.useEffect(()=>{(async()=>{try{const l=ch(),c=vu(l,e),d=await Id(c);r(d)}catch(l){console.error("Error fetching download URL:",l),alert("Failed to fetch file URL. Please check your permissions.")}finally{a(!1)}})()},[e]),i?f.jsx(Gr,{size:20}):t?f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(A6,{href:t,target:"_blank",rel:"noopener noreferrer",sx:{textDecoration:"none",color:"#1976d2","&:hover":{textDecoration:"underline"}},children:n}),f.jsx(Cn,{component:"a",href:t,target:"_blank",rel:"noopener noreferrer","aria-label":"Open in new tab",size:"small",children:f.jsx(hI,{})})]}):f.jsx(me,{children:f.jsx(de,{color:"error",children:"Failed to load file link"})})},EX=()=>{const{userDetails:e}=Ai(),[n,t]=K.useState([]),[r,i]=K.useState(!0);return K.useEffect(()=>{(async()=>{if(!(e!=null&&e.uid))return;const s=Jn(),l=wn(s,"chatbotRequests"),c=nl(l,Si("educatorId","==",e.uid));try{const h=(await mi(c)).docs.map(g=>({id:g.id,...g.data()}));t(h)}catch(d){console.error("Error fetching chatbot requests:",d)}finally{i(!1)}})()},[e==null?void 0:e.uid]),r?f.jsx(me,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:f.jsx(Gr,{})}):n.length===0?f.jsx(de,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):f.jsxs(me,{children:[f.jsx(de,{variant:"h6",sx:{mb:2},children:"Your Chatbot Requests"}),f.jsx(_u,{component:fn,elevation:3,sx:{maxHeight:400},children:f.jsxs(ku,{stickyHeader:!0,children:[f.jsx(ju,{children:f.jsxs(Fi,{children:[f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"})]})}),f.jsx(Nu,{children:n.map((a,s)=>f.jsxs(Fi,{sx:{backgroundColor:s%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[f.jsx(dt,{children:a.title}),f.jsx(dt,{children:`${a.courseNumber} - ${a.courseTitle}`}),f.jsx(dt,{children:a.materialTitle||"N/A"}),f.jsx(dt,{children:new Date(a.timestamp).toLocaleString()}),f.jsx(dt,{children:f.jsx(de,{variant:"body2",sx:{color:a.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:a.status})}),f.jsx(dt,{children:a.files.map((l,c)=>f.jsx(pI,{filePath:l,fileLabel:`File ${c+1}`},c))})]},a.id))})]})})]})},_X=()=>{const e=ea();return f.jsxs(me,{className:"profile-container",sx:{p:4},children:[f.jsx(Pl,{title:"Chatbot Management"}),f.jsx(de,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Manage your chatbots or create new chatbot requests."}),f.jsx(At,{variant:"contained",onClick:()=>e("/request-chatbot"),sx:{mt:2},className:"submit-button",children:"Request a New Chatbot"}),f.jsx(EX,{})]})},kX=({folderPath:e,onUploadComplete:n})=>{const[t,r]=K.useState(!1),[i,a]=K.useState([]),[s,l]=K.useState(null),c=5*1024*1024,d=[".pdf",".ppt",".pptx",".doc",".docx",".txt"],h=async g=>{if(!g.target.files)return;const b=Array.from(g.target.files),m=ch(),x=[];r(!0),l(null);try{for(const y of b){const A=y.name.slice(y.name.lastIndexOf(".")).toLowerCase();if(!d.includes(A)){l(`File ${y.name} is not a supported format.`);continue}if(y.size>c){l(`File ${y.name} exceeds the 5 MB limit and cannot be uploaded.`);continue}const w=vu(m,`${e}/files/${y.name}`);await Xf(w,y);const C=await Id(w);x.push(C)}a(y=>[...y,...b]),n(x)}catch(y){console.error("Error uploading files:",y),l("Failed to upload files. Please try again.")}finally{r(!1)}};return f.jsxs(me,{children:[f.jsx("input",{type:"file",accept:".pdf,.ppt,.pptx,.doc,.docx,.txt",multiple:!0,onChange:h,style:{display:"none"},id:"file-upload"}),f.jsx("label",{htmlFor:"file-upload",children:f.jsx(At,{variant:"contained",component:"span",disabled:t,startIcon:t?f.jsx(Gr,{size:20}):null,children:t?"Uploading...":"Select and Upload Files"})}),s&&f.jsx(vr,{severity:"error",sx:{mt:2},children:s}),f.jsx(me,{sx:{marginTop:2},children:i.map((g,b)=>f.jsx(de,{children:g.name},b))})]})},jX=xp()(Ug((e,n)=>({materials:[],selectedCourse:null,loading:!1,error:null,isEditing:!1,selectedMaterial:null,setMaterials:t=>e({materials:t}),addMaterial:t=>e(r=>({materials:[...r.materials,t]})),updateMaterial:(t,r)=>e(i=>({materials:i.materials.map(a=>a.id===t?{...a,...r}:a)})),deleteMaterial:t=>e(r=>({materials:r.materials.filter(i=>i.id!==t)})),setSelectedCourse:t=>e({selectedCourse:t}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),setIsEditing:t=>e({isEditing:t}),setSelectedMaterial:t=>e({selectedMaterial:t}),fetchMaterials:async t=>{e({loading:!0,error:null});try{const{db:r}=await Li(async()=>{const{db:h}=await Promise.resolve().then(()=>np);return{db:h}},void 0),{collection:i,query:a,where:s,onSnapshot:l,orderBy:c}=await Li(async()=>{const{collection:h,query:g,where:b,onSnapshot:m,orderBy:x}=await import("./firebase-DpGenoA-.js").then(y=>y.B);return{collection:h,query:g,where:b,onSnapshot:m,orderBy:x}},[]),d=a(i(r,"materials"),s("course","==",t),c("timestamp","desc"));return new Promise(h=>{l(d,g=>{const b=g.docs.map(m=>({id:m.id,...m.data()}));e({materials:b,loading:!1}),h(void 0)})})}catch(r){e({error:r instanceof Error?r.message:"Failed to fetch materials",loading:!1})}},publishMaterial:async t=>{try{const{db:r}=await Li(async()=>{const{db:s}=await Promise.resolve().then(()=>np);return{db:s}},void 0),{doc:i,updateDoc:a}=await Li(async()=>{const{doc:s,updateDoc:l}=await import("./firebase-DpGenoA-.js").then(c=>c.B);return{doc:s,updateDoc:l}},[]);await a(i(r,"materials",t),{published:!0}),n().updateMaterial(t,{published:!0})}catch{e({error:"Failed to publish material"})}},unpublishMaterial:async t=>{try{const{db:r}=await Li(async()=>{const{db:s}=await Promise.resolve().then(()=>np);return{db:s}},void 0),{doc:i,updateDoc:a}=await Li(async()=>{const{doc:s,updateDoc:l}=await import("./firebase-DpGenoA-.js").then(c=>c.B);return{doc:s,updateDoc:l}},[]);await a(i(r,"materials",t),{published:!1}),n().updateMaterial(t,{published:!1})}catch{e({error:"Failed to unpublish material"})}}}))),NX=()=>{const{userDetails:e}=Ai(),n=ea(),t=Jn(),[r,i]=K.useState(""),[a,s]=K.useState(""),[l,c]=K.useState(""),[d,h]=K.useState([]),[g,b]=K.useState(!1),[m,x]=K.useState(""),[y,A]=K.useState("success"),{materials:w,loading:C,error:N,fetchMaterials:F}=jX();K.useEffect(()=>{c(""),a&&F(a)},[a,F]);const R=L=>{h(B=>[...B,...L])},M=async()=>{var z;if(!r||!a||!l||d.length===0){x("Please fill all required fields and upload at least one file."),A("error"),b(!0);return}const L=(z=e==null?void 0:e.classes)==null?void 0:z[a];if(!L||!L.isCourseAdmin){x("You are not authorized to request a chatbot for this course."),A("error"),b(!0);return}const B=(L==null?void 0:L.number)??"N/A",Q=(L==null?void 0:L.title)??"Untitled Course",j=w.find(T=>T.id===l);if(!j){x("Selected material details could not be found."),A("error"),b(!0);return}const{title:O}=j;try{const T=await Ma(wn(t,"chatbotRequests"),{educatorId:e==null?void 0:e.uid,courseId:a,courseNumber:B,courseTitle:Q,materialId:l,materialTitle:O,title:r,files:d,status:"pending",timestamp:new Date().toISOString()});await Ma(wn(t,"mail"),{to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"New Chatbot Request Submitted",html:`
            <p>A new chatbot request has been submitted:</p>
            <p><strong>Title:</strong> ${r}</p>
            <p><strong>Educator ID:</strong> ${e==null?void 0:e.uid}</p>
            <p><strong>Course:</strong> ${B} - ${Q}</p>
            <p><strong>Material:</strong> ${O}</p>
            <p><strong>Request ID:</strong> ${T.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/super-admin-chatbot-requests">
            Click here to review the request.
            </a></p>
          `}}),x("Chatbot request submitted successfully!"),A("success"),b(!0),setTimeout(()=>n("/chatbot-management"),1500)}catch(T){console.error("Error submitting chatbot request:",T),x("Failed to submit the chatbot request. Please try again."),A("error"),b(!0)}},k=()=>{b(!1)};return f.jsxs(me,{className:"profile-container",sx:{p:4},children:[f.jsx(Pl,{title:"Request to Create a Chatbot"}),f.jsx(de,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Fill out the form below to request a chatbot. Please upload all related materials for the chatbot's knowledge base."}),f.jsx(Bt,{label:"Chatbot Title",value:r,onChange:L=>i(L.target.value),fullWidth:!0,margin:"normal",required:!0,className:"form-field"}),f.jsx(Bt,{label:"Course ID",value:a,onChange:L=>s(L.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,helperText:"Only courses where you are an admin are available for chatbot requests.",className:"form-field",children:Object.keys((e==null?void 0:e.classes)||{}).filter(L=>{var B,Q;return(Q=(B=e==null?void 0:e.classes)==null?void 0:B[L])==null?void 0:Q.isCourseAdmin}).map(L=>{var B,Q;return f.jsx(Zn,{value:L,children:((Q=(B=e==null?void 0:e.classes)==null?void 0:B[L])==null?void 0:Q.title)||"Untitled Course"},L)})}),f.jsx(Bt,{label:"Material",value:l,onChange:L=>c(L.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,disabled:!a||C,helperText:a?N||(C?"Loading materials...":w.length===0?"No materials available for this course.":""):"Please select a course first.",children:a?C?f.jsxs(Zn,{disabled:!0,children:[f.jsx(Gr,{size:20,sx:{marginRight:2}}),"Loading..."]}):w.length===0?f.jsx(Zn,{disabled:!0,children:"No materials found"}):w.map(L=>f.jsx(Zn,{value:L.id,children:L.title},L.id)):f.jsx(Zn,{disabled:!0,children:"Please select a course first"})}),f.jsxs(me,{sx:{mt:3},children:[f.jsx(de,{variant:"body1",className:"profile-text",sx:{mb:2},children:"Upload your files below (PDF, PPT, DOC/DOCX, TXT formats only):"}),f.jsx(kX,{folderPath:`chatbotRequests/${e==null?void 0:e.uid}`,onUploadComplete:R})]}),f.jsx(At,{variant:"contained",onClick:M,sx:{mt:4},className:"submit-button",children:"Submit Request"}),f.jsx(rl,{open:g,autoHideDuration:6e3,onClose:k,children:f.jsx(vr,{severity:y,onClose:k,children:m})})]})};var _1={},c4;function TX(){if(c4)return _1;c4=1;var e=Wd();Object.defineProperty(_1,"__esModule",{value:!0}),_1.default=void 0;var n=e(Yd()),t=Vd();return _1.default=(0,n.default)((0,t.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),_1}var OX=TX();const IX=ns(OX),k1=Fc(dt)({fontWeight:"bold",color:"#fff",backgroundColor:"#123372",fontSize:"1rem",textAlign:"center"}),DX=Fc(Fi)({"& td, & th":{padding:"12px 16px"},"&:nth-of-type(odd)":{backgroundColor:"#f9f9f9"},"&:hover":{backgroundColor:"#e0e0e0"}}),d4=Fc(Cn)({width:40,height:40,padding:0,display:"flex",alignItems:"center",justifyContent:"center",textTransform:"capitalize",borderRadius:"8px",color:"#123372"}),LX=({conversations:e,onViewHistory:n,onDeleteConversation:t,loadingMap:r})=>e.length===0?f.jsx(de,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No conversations available to display."}):f.jsx(me,{sx:{mt:3},children:f.jsx(_u,{component:fn,sx:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.1)",borderRadius:"10px"},children:f.jsxs(ku,{children:[f.jsx(ju,{children:f.jsxs(Fi,{children:[f.jsx(k1,{children:"Conversation ID"}),f.jsx(k1,{children:"User ID"}),f.jsx(k1,{children:"Chatbot ID"}),f.jsx(k1,{children:"Timestamp (Started At)"}),f.jsx(k1,{children:"Actions"})]})}),f.jsx(Nu,{children:e.length>0?e.map(i=>f.jsxs(DX,{children:[f.jsx(dt,{align:"center",children:i.id}),f.jsx(dt,{align:"center",children:i.userId}),f.jsx(dt,{align:"center",children:i.chatbotId}),f.jsx(dt,{align:"center",children:i.startedAt?new Date(i.startedAt).toLocaleString():"Invalid date"}),f.jsx(dt,{align:"center",children:f.jsxs(me,{sx:{display:"flex",justifyContent:"center",gap:1},children:[f.jsx(si,{title:"View Data",children:f.jsx(d4,{onClick:()=>n(i.chatbotId,i.id,i.userId,i.startedAt),color:"primary",disabled:r[i.id],children:r[i.id]?f.jsx(Gr,{size:20,color:"inherit"}):f.jsx(IX,{})})}),f.jsx(si,{title:"Delete Conversation",children:f.jsx(d4,{onClick:()=>t(i.id),color:"error",children:f.jsx(D6,{})})})]})})]},i.id)):f.jsx(Fi,{children:f.jsx(dt,{colSpan:5,align:"center",children:"No conversations available for the selected filters."})})})]})})});function mI(e,n){return function(){return e.apply(n,arguments)}}const{toString:RX}=Object.prototype,{getPrototypeOf:bA}=Object,{iterator:Nv,toStringTag:gI}=Symbol,Tv=(e=>n=>{const t=RX.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ru=e=>(e=e.toLowerCase(),n=>Tv(n)===e),Ov=e=>n=>typeof n===e,{isArray:fm}=Array,Cg=Ov("undefined");function MX(e){return e!==null&&!Cg(e)&&e.constructor!==null&&!Cg(e.constructor)&&yo(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const bI=Ru("ArrayBuffer");function FX(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&bI(e.buffer),n}const PX=Ov("string"),yo=Ov("function"),yI=Ov("number"),Iv=e=>e!==null&&typeof e=="object",zX=e=>e===!0||e===!1,lx=e=>{if(Tv(e)!=="object")return!1;const n=bA(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(gI in e)&&!(Nv in e)},qX=Ru("Date"),BX=Ru("File"),UX=Ru("Blob"),$X=Ru("FileList"),HX=e=>Iv(e)&&yo(e.pipe),WX=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||yo(e.append)&&((n=Tv(e))==="formdata"||n==="object"&&yo(e.toString)&&e.toString()==="[object FormData]"))},VX=Ru("URLSearchParams"),[YX,GX,QX,KX]=["ReadableStream","Request","Response","Headers"].map(Ru),XX=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Jg(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),fm(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const a=t?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let l;for(r=0;r<s;r++)l=a[r],n.call(null,e[l],l,e)}}function xI(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,i;for(;r-- >0;)if(i=t[r],n===i.toLowerCase())return i;return null}const Jh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,vI=e=>!Cg(e)&&e!==Jh;function zS(){const{caseless:e}=vI(this)&&this||{},n={},t=(r,i)=>{const a=e&&xI(n,i)||i;lx(n[a])&&lx(r)?n[a]=zS(n[a],r):lx(r)?n[a]=zS({},r):fm(r)?n[a]=r.slice():n[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Jg(arguments[r],t);return n}const ZX=(e,n,t,{allOwnKeys:r}={})=>(Jg(n,(i,a)=>{t&&yo(i)?e[a]=mI(i,t):e[a]=i},{allOwnKeys:r}),e),JX=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),eZ=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},tZ=(e,n,t,r)=>{let i,a,s;const l={};if(n=n||{},e==null)return n;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,n))&&!l[s]&&(n[s]=e[s],l[s]=!0);e=t!==!1&&bA(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},nZ=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},rZ=e=>{if(!e)return null;if(fm(e))return e;let n=e.length;if(!yI(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},iZ=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&bA(Uint8Array)),aZ=(e,n)=>{const r=(e&&e[Nv]).call(e);let i;for(;(i=r.next())&&!i.done;){const a=i.value;n.call(e,a[0],a[1])}},sZ=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},oZ=Ru("HTMLFormElement"),lZ=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),f4=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),uZ=Ru("RegExp"),wI=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};Jg(t,(i,a)=>{let s;(s=n(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},cZ=e=>{wI(e,(n,t)=>{if(yo(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(yo(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},dZ=(e,n)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return fm(e)?r(e):r(String(e).split(n)),t},fZ=()=>{},hZ=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function pZ(e){return!!(e&&yo(e.append)&&e[gI]==="FormData"&&e[Nv])}const mZ=e=>{const n=new Array(10),t=(r,i)=>{if(Iv(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const a=fm(r)?[]:{};return Jg(r,(s,l)=>{const c=t(s,i+1);!Cg(c)&&(a[l]=c)}),n[i]=void 0,a}}return r};return t(e,0)},gZ=Ru("AsyncFunction"),bZ=e=>e&&(Iv(e)||yo(e))&&yo(e.then)&&yo(e.catch),SI=((e,n)=>e?setImmediate:n?((t,r)=>(Jh.addEventListener("message",({source:i,data:a})=>{i===Jh&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Jh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",yo(Jh.postMessage)),yZ=typeof queueMicrotask<"u"?queueMicrotask.bind(Jh):typeof process<"u"&&process.nextTick||SI,xZ=e=>e!=null&&yo(e[Nv]),st={isArray:fm,isArrayBuffer:bI,isBuffer:MX,isFormData:WX,isArrayBufferView:FX,isString:PX,isNumber:yI,isBoolean:zX,isObject:Iv,isPlainObject:lx,isReadableStream:YX,isRequest:GX,isResponse:QX,isHeaders:KX,isUndefined:Cg,isDate:qX,isFile:BX,isBlob:UX,isRegExp:uZ,isFunction:yo,isStream:HX,isURLSearchParams:VX,isTypedArray:iZ,isFileList:$X,forEach:Jg,merge:zS,extend:ZX,trim:XX,stripBOM:JX,inherits:eZ,toFlatObject:tZ,kindOf:Tv,kindOfTest:Ru,endsWith:nZ,toArray:rZ,forEachEntry:aZ,matchAll:sZ,isHTMLForm:oZ,hasOwnProperty:f4,hasOwnProp:f4,reduceDescriptors:wI,freezeMethods:cZ,toObjectSet:dZ,toCamelCase:lZ,noop:fZ,toFiniteNumber:hZ,findKey:xI,global:Jh,isContextDefined:vI,isSpecCompliantForm:pZ,toJSONObject:mZ,isAsyncFn:gZ,isThenable:bZ,setImmediate:SI,asap:yZ,isIterable:xZ};function jn(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}st.inherits(jn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:st.toJSONObject(this.config),code:this.code,status:this.status}}});const AI=jn.prototype,CI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{CI[e]={value:e}});Object.defineProperties(jn,CI);Object.defineProperty(AI,"isAxiosError",{value:!0});jn.from=(e,n,t,r,i,a)=>{const s=Object.create(AI);return st.toFlatObject(e,s,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),jn.call(s,e.message,n,t,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const vZ=null;function qS(e){return st.isPlainObject(e)||st.isArray(e)}function EI(e){return st.endsWith(e,"[]")?e.slice(0,-2):e}function h4(e,n,t){return e?e.concat(n).map(function(i,a){return i=EI(i),!t&&a?"["+i+"]":i}).join(t?".":""):n}function wZ(e){return st.isArray(e)&&!e.some(qS)}const SZ=st.toFlatObject(st,{},null,function(n){return/^is[A-Z]/.test(n)});function Dv(e,n,t){if(!st.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=st.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,A){return!st.isUndefined(A[y])});const r=t.metaTokens,i=t.visitor||h,a=t.dots,s=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&st.isSpecCompliantForm(n);if(!st.isFunction(i))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(st.isDate(x))return x.toISOString();if(st.isBoolean(x))return x.toString();if(!c&&st.isBlob(x))throw new jn("Blob is not supported. Use a Buffer instead.");return st.isArrayBuffer(x)||st.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,y,A){let w=x;if(x&&!A&&typeof x=="object"){if(st.endsWith(y,"{}"))y=r?y:y.slice(0,-2),x=JSON.stringify(x);else if(st.isArray(x)&&wZ(x)||(st.isFileList(x)||st.endsWith(y,"[]"))&&(w=st.toArray(x)))return y=EI(y),w.forEach(function(N,F){!(st.isUndefined(N)||N===null)&&n.append(s===!0?h4([y],F,a):s===null?y:y+"[]",d(N))}),!1}return qS(x)?!0:(n.append(h4(A,y,a),d(x)),!1)}const g=[],b=Object.assign(SZ,{defaultVisitor:h,convertValue:d,isVisitable:qS});function m(x,y){if(!st.isUndefined(x)){if(g.indexOf(x)!==-1)throw Error("Circular reference detected in "+y.join("."));g.push(x),st.forEach(x,function(w,C){(!(st.isUndefined(w)||w===null)&&i.call(n,w,st.isString(C)?C.trim():C,y,b))===!0&&m(w,y?y.concat(C):[C])}),g.pop()}}if(!st.isObject(e))throw new TypeError("data must be an object");return m(e),n}function p4(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function yA(e,n){this._pairs=[],e&&Dv(e,this,n)}const _I=yA.prototype;_I.append=function(n,t){this._pairs.push([n,t])};_I.toString=function(n){const t=n?function(r){return n.call(this,r,p4)}:p4;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function AZ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kI(e,n,t){if(!n)return e;const r=t&&t.encode||AZ;st.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(n,t):a=st.isURLSearchParams(n)?n.toString():new yA(n,t).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class m4{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){st.forEach(this.handlers,function(r){r!==null&&n(r)})}}const jI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CZ=typeof URLSearchParams<"u"?URLSearchParams:yA,EZ=typeof FormData<"u"?FormData:null,_Z=typeof Blob<"u"?Blob:null,kZ={isBrowser:!0,classes:{URLSearchParams:CZ,FormData:EZ,Blob:_Z},protocols:["http","https","file","blob","url","data"]},xA=typeof window<"u"&&typeof document<"u",BS=typeof navigator=="object"&&navigator||void 0,jZ=xA&&(!BS||["ReactNative","NativeScript","NS"].indexOf(BS.product)<0),NZ=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",TZ=xA&&window.location.href||"http://localhost",OZ=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xA,hasStandardBrowserEnv:jZ,hasStandardBrowserWebWorkerEnv:NZ,navigator:BS,origin:TZ},Symbol.toStringTag,{value:"Module"})),zs={...OZ,...kZ};function IZ(e,n){return Dv(e,new zs.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return zs.isNode&&st.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function DZ(e){return st.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function LZ(e){const n={},t=Object.keys(e);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],n[a]=e[a];return n}function NI(e){function n(t,r,i,a){let s=t[a++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),c=a>=t.length;return s=!s&&st.isArray(i)?i.length:s,c?(st.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!st.isObject(i[s]))&&(i[s]=[]),n(t,r,i[s],a)&&st.isArray(i[s])&&(i[s]=LZ(i[s])),!l)}if(st.isFormData(e)&&st.isFunction(e.entries)){const t={};return st.forEachEntry(e,(r,i)=>{n(DZ(r),i,t,0)}),t}return null}function RZ(e,n,t){if(st.isString(e))try{return(n||JSON.parse)(e),st.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(e)}const eb={transitional:jI,adapter:["xhr","http","fetch"],transformRequest:[function(n,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=st.isObject(n);if(a&&st.isHTMLForm(n)&&(n=new FormData(n)),st.isFormData(n))return i?JSON.stringify(NI(n)):n;if(st.isArrayBuffer(n)||st.isBuffer(n)||st.isStream(n)||st.isFile(n)||st.isBlob(n)||st.isReadableStream(n))return n;if(st.isArrayBufferView(n))return n.buffer;if(st.isURLSearchParams(n))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return IZ(n,this.formSerializer).toString();if((l=st.isFileList(n))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Dv(l?{"files[]":n}:n,c&&new c,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),RZ(n)):n}],transformResponse:[function(n){const t=this.transitional||eb.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(st.isResponse(n)||st.isReadableStream(n))return n;if(n&&st.isString(n)&&(r&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(n)}catch(l){if(s)throw l.name==="SyntaxError"?jn.from(l,jn.ERR_BAD_RESPONSE,this,null,this.response):l}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:zs.classes.FormData,Blob:zs.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};st.forEach(["delete","get","head","post","put","patch"],e=>{eb.headers[e]={}});const MZ=st.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FZ=e=>{const n={};let t,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||n[t]&&MZ[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},g4=Symbol("internals");function j1(e){return e&&String(e).trim().toLowerCase()}function ux(e){return e===!1||e==null?e:st.isArray(e)?e.map(ux):String(e)}function PZ(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const zZ=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function dw(e,n,t,r,i){if(st.isFunction(r))return r.call(this,n,t);if(i&&(n=t),!!st.isString(n)){if(st.isString(r))return n.indexOf(r)!==-1;if(st.isRegExp(r))return r.test(n)}}function qZ(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function BZ(e,n){const t=st.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,a,s){return this[r].call(this,n,i,a,s)},configurable:!0})})}let xo=class{constructor(n){n&&this.set(n)}set(n,t,r){const i=this;function a(l,c,d){const h=j1(c);if(!h)throw new Error("header name must be a non-empty string");const g=st.findKey(i,h);(!g||i[g]===void 0||d===!0||d===void 0&&i[g]!==!1)&&(i[g||c]=ux(l))}const s=(l,c)=>st.forEach(l,(d,h)=>a(d,h,c));if(st.isPlainObject(n)||n instanceof this.constructor)s(n,t);else if(st.isString(n)&&(n=n.trim())&&!zZ(n))s(FZ(n),t);else if(st.isObject(n)&&st.isIterable(n)){let l={},c,d;for(const h of n){if(!st.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[d=h[0]]=(c=l[d])?st.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}s(l,t)}else n!=null&&a(t,n,r);return this}get(n,t){if(n=j1(n),n){const r=st.findKey(this,n);if(r){const i=this[r];if(!t)return i;if(t===!0)return PZ(i);if(st.isFunction(t))return t.call(this,i,r);if(st.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=j1(n),n){const r=st.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||dw(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let i=!1;function a(s){if(s=j1(s),s){const l=st.findKey(r,s);l&&(!t||dw(r,r[l],l,t))&&(delete r[l],i=!0)}}return st.isArray(n)?n.forEach(a):a(n),i}clear(n){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!n||dw(this,this[a],a,n,!0))&&(delete this[a],i=!0)}return i}normalize(n){const t=this,r={};return st.forEach(this,(i,a)=>{const s=st.findKey(r,a);if(s){t[s]=ux(i),delete t[a];return}const l=n?qZ(a):String(a).trim();l!==a&&delete t[a],t[l]=ux(i),r[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return st.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=n&&st.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(i=>r.set(i)),r}static accessor(n){const r=(this[g4]=this[g4]={accessors:{}}).accessors,i=this.prototype;function a(s){const l=j1(s);r[l]||(BZ(i,s),r[l]=!0)}return st.isArray(n)?n.forEach(a):a(n),this}};xo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);st.reduceDescriptors(xo.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});st.freezeMethods(xo);function fw(e,n){const t=this||eb,r=n||t,i=xo.from(r.headers);let a=r.data;return st.forEach(e,function(l){a=l.call(t,a,i.normalize(),n?n.status:void 0)}),i.normalize(),a}function TI(e){return!!(e&&e.__CANCEL__)}function hm(e,n,t){jn.call(this,e??"canceled",jn.ERR_CANCELED,n,t),this.name="CanceledError"}st.inherits(hm,jn,{__CANCEL__:!0});function OI(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new jn("Request failed with status code "+t.status,[jn.ERR_BAD_REQUEST,jn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function UZ(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function $Z(e,n){e=e||10;const t=new Array(e),r=new Array(e);let i=0,a=0,s;return n=n!==void 0?n:1e3,function(c){const d=Date.now(),h=r[a];s||(s=d),t[i]=c,r[i]=d;let g=a,b=0;for(;g!==i;)b+=t[g++],g=g%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-s<n)return;const m=h&&d-h;return m?Math.round(b*1e3/m):void 0}}function HZ(e,n){let t=0,r=1e3/n,i,a;const s=(d,h=Date.now())=>{t=h,i=null,a&&(clearTimeout(a),a=null),e.apply(null,d)};return[(...d)=>{const h=Date.now(),g=h-t;g>=r?s(d,h):(i=d,a||(a=setTimeout(()=>{a=null,s(i)},r-g)))},()=>i&&s(i)]}const Gx=(e,n,t=3)=>{let r=0;const i=$Z(50,250);return HZ(a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,c=s-r,d=i(c),h=s<=l;r=s;const g={loaded:s,total:l,progress:l?s/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&h?(l-s)/d:void 0,event:a,lengthComputable:l!=null,[n?"download":"upload"]:!0};e(g)},t)},b4=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},y4=e=>(...n)=>st.asap(()=>e(...n)),WZ=zs.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,zs.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(zs.origin),zs.navigator&&/(msie|trident)/i.test(zs.navigator.userAgent)):()=>!0,VZ=zs.hasStandardBrowserEnv?{write(e,n,t,r,i,a){const s=[e+"="+encodeURIComponent(n)];st.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),st.isString(r)&&s.push("path="+r),st.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function YZ(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function GZ(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function II(e,n,t){let r=!YZ(n);return e&&(r||t==!1)?GZ(e,n):n}const x4=e=>e instanceof xo?{...e}:e;function bp(e,n){n=n||{};const t={};function r(d,h,g,b){return st.isPlainObject(d)&&st.isPlainObject(h)?st.merge.call({caseless:b},d,h):st.isPlainObject(h)?st.merge({},h):st.isArray(h)?h.slice():h}function i(d,h,g,b){if(st.isUndefined(h)){if(!st.isUndefined(d))return r(void 0,d,g,b)}else return r(d,h,g,b)}function a(d,h){if(!st.isUndefined(h))return r(void 0,h)}function s(d,h){if(st.isUndefined(h)){if(!st.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function l(d,h,g){if(g in n)return r(d,h);if(g in e)return r(void 0,d)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(d,h,g)=>i(x4(d),x4(h),g,!0)};return st.forEach(Object.keys(Object.assign({},e,n)),function(h){const g=c[h]||i,b=g(e[h],n[h],h);st.isUndefined(b)&&g!==l||(t[h]=b)}),t}const DI=e=>{const n=bp({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=n;n.headers=s=xo.from(s),n.url=kI(II(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(st.isFormData(t)){if(zs.hasStandardBrowserEnv||zs.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[d,...h]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...h].join("; "))}}if(zs.hasStandardBrowserEnv&&(r&&st.isFunction(r)&&(r=r(n)),r||r!==!1&&WZ(n.url))){const d=i&&a&&VZ.read(a);d&&s.set(i,d)}return n},QZ=typeof XMLHttpRequest<"u",KZ=QZ&&function(e){return new Promise(function(t,r){const i=DI(e);let a=i.data;const s=xo.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,h,g,b,m,x;function y(){m&&m(),x&&x(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function w(){if(!A)return;const N=xo.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),R={data:!l||l==="text"||l==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:N,config:e,request:A};OI(function(k){t(k),y()},function(k){r(k),y()},R),A=null}"onloadend"in A?A.onloadend=w:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(w)},A.onabort=function(){A&&(r(new jn("Request aborted",jn.ECONNABORTED,e,A)),A=null)},A.onerror=function(){r(new jn("Network Error",jn.ERR_NETWORK,e,A)),A=null},A.ontimeout=function(){let F=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||jI;i.timeoutErrorMessage&&(F=i.timeoutErrorMessage),r(new jn(F,R.clarifyTimeoutError?jn.ETIMEDOUT:jn.ECONNABORTED,e,A)),A=null},a===void 0&&s.setContentType(null),"setRequestHeader"in A&&st.forEach(s.toJSON(),function(F,R){A.setRequestHeader(R,F)}),st.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),l&&l!=="json"&&(A.responseType=i.responseType),d&&([b,x]=Gx(d,!0),A.addEventListener("progress",b)),c&&A.upload&&([g,m]=Gx(c),A.upload.addEventListener("progress",g),A.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(h=N=>{A&&(r(!N||N.type?new hm(null,e,A):N),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const C=UZ(i.url);if(C&&zs.protocols.indexOf(C)===-1){r(new jn("Unsupported protocol "+C+":",jn.ERR_BAD_REQUEST,e));return}A.send(a||null)})},XZ=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,i;const a=function(d){if(!i){i=!0,l();const h=d instanceof Error?d:this.reason;r.abort(h instanceof jn?h:new hm(h instanceof Error?h.message:h))}};let s=n&&setTimeout(()=>{s=null,a(new jn(`timeout ${n} of ms exceeded`,jn.ETIMEDOUT))},n);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>st.asap(l),c}},ZZ=function*(e,n){let t=e.byteLength;if(t<n){yield e;return}let r=0,i;for(;r<t;)i=r+n,yield e.slice(r,i),r=i},JZ=async function*(e,n){for await(const t of eJ(e))yield*ZZ(t,n)},eJ=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},v4=(e,n,t,r)=>{const i=JZ(e,n);let a=0,s,l=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await i.next();if(d){l(),c.close();return}let g=h.byteLength;if(t){let b=a+=g;t(b)}c.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Lv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",LI=Lv&&typeof ReadableStream=="function",tJ=Lv&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),RI=(e,...n)=>{try{return!!e(...n)}catch{return!1}},nJ=LI&&RI(()=>{let e=!1;const n=new Request(zs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),w4=64*1024,US=LI&&RI(()=>st.isReadableStream(new Response("").body)),Qx={stream:US&&(e=>e.body)};Lv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!Qx[n]&&(Qx[n]=st.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new jn(`Response type '${n}' is not supported`,jn.ERR_NOT_SUPPORT,r)})})})(new Response);const rJ=async e=>{if(e==null)return 0;if(st.isBlob(e))return e.size;if(st.isSpecCompliantForm(e))return(await new Request(zs.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(st.isArrayBufferView(e)||st.isArrayBuffer(e))return e.byteLength;if(st.isURLSearchParams(e)&&(e=e+""),st.isString(e))return(await tJ(e)).byteLength},iJ=async(e,n)=>{const t=st.toFiniteNumber(e.getContentLength());return t??rJ(n)},aJ=Lv&&(async e=>{let{url:n,method:t,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:h,withCredentials:g="same-origin",fetchOptions:b}=DI(e);d=d?(d+"").toLowerCase():"text";let m=XZ([i,a&&a.toAbortSignal()],s),x;const y=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let A;try{if(c&&nJ&&t!=="get"&&t!=="head"&&(A=await iJ(h,r))!==0){let R=new Request(n,{method:"POST",body:r,duplex:"half"}),M;if(st.isFormData(r)&&(M=R.headers.get("content-type"))&&h.setContentType(M),R.body){const[k,L]=b4(A,Gx(y4(c)));r=v4(R.body,w4,k,L)}}st.isString(g)||(g=g?"include":"omit");const w="credentials"in Request.prototype;x=new Request(n,{...b,signal:m,method:t.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:w?g:void 0});let C=await fetch(x,b);const N=US&&(d==="stream"||d==="response");if(US&&(l||N&&y)){const R={};["status","statusText","headers"].forEach(B=>{R[B]=C[B]});const M=st.toFiniteNumber(C.headers.get("content-length")),[k,L]=l&&b4(M,Gx(y4(l),!0))||[];C=new Response(v4(C.body,w4,k,()=>{L&&L(),y&&y()}),R)}d=d||"text";let F=await Qx[st.findKey(Qx,d)||"text"](C,e);return!N&&y&&y(),await new Promise((R,M)=>{OI(R,M,{data:F,headers:xo.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:x})})}catch(w){throw y&&y(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new jn("Network Error",jn.ERR_NETWORK,e,x),{cause:w.cause||w}):jn.from(w,w&&w.code,e,x)}}),$S={http:vZ,xhr:KZ,fetch:aJ};st.forEach($S,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const S4=e=>`- ${e}`,sJ=e=>st.isFunction(e)||e===null||e===!1,MI={getAdapter:e=>{e=st.isArray(e)?e:[e];const{length:n}=e;let t,r;const i={};for(let a=0;a<n;a++){t=e[a];let s;if(r=t,!sJ(t)&&(r=$S[(s=String(t)).toLowerCase()],r===void 0))throw new jn(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=n?a.length>1?`since :
`+a.map(S4).join(`
`):" "+S4(a[0]):"as no adapter specified";throw new jn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:$S};function hw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new hm(null,e)}function A4(e){return hw(e),e.headers=xo.from(e.headers),e.data=fw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),MI.getAdapter(e.adapter||eb.adapter)(e).then(function(r){return hw(e),r.data=fw.call(e,e.transformResponse,r),r.headers=xo.from(r.headers),r},function(r){return TI(r)||(hw(e),r&&r.response&&(r.response.data=fw.call(e,e.transformResponse,r.response),r.response.headers=xo.from(r.response.headers))),Promise.reject(r)})}const FI="1.10.0",Rv={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{Rv[e]=function(r){return typeof r===e||"a"+(n<1?"n ":" ")+e}});const C4={};Rv.transitional=function(n,t,r){function i(a,s){return"[Axios v"+FI+"] Transitional option '"+a+"'"+s+(r?". "+r:"")}return(a,s,l)=>{if(n===!1)throw new jn(i(s," has been removed"+(t?" in "+t:"")),jn.ERR_DEPRECATED);return t&&!C4[s]&&(C4[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),n?n(a,s,l):!0}};Rv.spelling=function(n){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${n}`),!0)};function oJ(e,n,t){if(typeof e!="object")throw new jn("options must be an object",jn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=n[a];if(s){const l=e[a],c=l===void 0||s(l,a,e);if(c!==!0)throw new jn("option "+a+" must be "+c,jn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new jn("Unknown option "+a,jn.ERR_BAD_OPTION)}}const cx={assertOptions:oJ,validators:Rv},cc=cx.validators;let lp=class{constructor(n){this.defaults=n||{},this.interceptors={request:new m4,response:new m4}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=bp(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&cx.assertOptions(r,{silentJSONParsing:cc.transitional(cc.boolean),forcedJSONParsing:cc.transitional(cc.boolean),clarifyTimeoutError:cc.transitional(cc.boolean)},!1),i!=null&&(st.isFunction(i)?t.paramsSerializer={serialize:i}:cx.assertOptions(i,{encode:cc.function,serialize:cc.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),cx.assertOptions(t,{baseUrl:cc.spelling("baseURL"),withXsrfToken:cc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&st.merge(a.common,a[t.method]);a&&st.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),t.headers=xo.concat(s,a);const l=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(t)===!1||(c=c&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const d=[];this.interceptors.response.forEach(function(y){d.push(y.fulfilled,y.rejected)});let h,g=0,b;if(!c){const x=[A4.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,d),b=x.length,h=Promise.resolve(t);g<b;)h=h.then(x[g++],x[g++]);return h}b=l.length;let m=t;for(g=0;g<b;){const x=l[g++],y=l[g++];try{m=x(m)}catch(A){y.call(this,A);break}}try{h=A4.call(this,m)}catch(x){return Promise.reject(x)}for(g=0,b=d.length;g<b;)h=h.then(d[g++],d[g++]);return h}getUri(n){n=bp(this.defaults,n);const t=II(n.baseURL,n.url,n.allowAbsoluteUrls);return kI(t,n.params,n.paramsSerializer)}};st.forEach(["delete","get","head","options"],function(n){lp.prototype[n]=function(t,r){return this.request(bp(r||{},{method:n,url:t,data:(r||{}).data}))}});st.forEach(["post","put","patch"],function(n){function t(r){return function(a,s,l){return this.request(bp(l||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}lp.prototype[n]=t(),lp.prototype[n+"Form"]=t(!0)});let lJ=class PI{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(l=>{r.subscribe(l),a=l}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},n(function(a,s,l){r.reason||(r.reason=new hm(a,s,l),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new PI(function(i){n=i}),cancel:n}}};function uJ(e){return function(t){return e.apply(null,t)}}function cJ(e){return st.isObject(e)&&e.isAxiosError===!0}const HS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HS).forEach(([e,n])=>{HS[n]=e});function zI(e){const n=new lp(e),t=mI(lp.prototype.request,n);return st.extend(t,lp.prototype,n,{allOwnKeys:!0}),st.extend(t,n,null,{allOwnKeys:!0}),t.create=function(i){return zI(bp(e,i))},t}const ga=zI(eb);ga.Axios=lp;ga.CanceledError=hm;ga.CancelToken=lJ;ga.isCancel=TI;ga.VERSION=FI;ga.toFormData=Dv;ga.AxiosError=jn;ga.Cancel=ga.CanceledError;ga.all=function(n){return Promise.all(n)};ga.spread=uJ;ga.isAxiosError=cJ;ga.mergeConfig=bp;ga.AxiosHeaders=xo;ga.formToJSON=e=>NI(st.isHTMLForm(e)?new FormData(e):e);ga.getAdapter=MI.getAdapter;ga.HttpStatusCode=HS;ga.default=ga;const{Axios:yhe,AxiosError:xhe,CanceledError:vhe,isCancel:whe,CancelToken:She,VERSION:Ahe,all:Che,Cancel:Ehe,isAxiosError:_he,spread:khe,toFormData:jhe,AxiosHeaders:Nhe,HttpStatusCode:The,formToJSON:Ohe,getAdapter:Ihe,mergeConfig:Dhe}=ga;function Py(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pw={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var E4;function dJ(){return E4||(E4=1,function(e,n){(function(t){e.exports=t()})(function(){return function t(r,i,a){function s(d,h){if(!i[d]){if(!r[d]){var g=typeof Py=="function"&&Py;if(!h&&g)return g(d,!0);if(l)return l(d,!0);var b=new Error("Cannot find module '"+d+"'");throw b.code="MODULE_NOT_FOUND",b}var m=i[d]={exports:{}};r[d][0].call(m.exports,function(x){var y=r[d][1][x];return s(y||x)},m,m.exports,t,r,i,a)}return i[d].exports}for(var l=typeof Py=="function"&&Py,c=0;c<a.length;c++)s(a[c]);return s}({1:[function(t,r,i){var a=t("./utils"),s=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var d,h,g,b,m,x,y,A=[],w=0,C=c.length,N=C,F=a.getTypeOf(c)!=="string";w<c.length;)N=C-w,g=F?(d=c[w++],h=w<C?c[w++]:0,w<C?c[w++]:0):(d=c.charCodeAt(w++),h=w<C?c.charCodeAt(w++):0,w<C?c.charCodeAt(w++):0),b=d>>2,m=(3&d)<<4|h>>4,x=1<N?(15&h)<<2|g>>6:64,y=2<N?63&g:64,A.push(l.charAt(b)+l.charAt(m)+l.charAt(x)+l.charAt(y));return A.join("")},i.decode=function(c){var d,h,g,b,m,x,y=0,A=0,w="data:";if(c.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var C,N=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&N--,c.charAt(c.length-2)===l.charAt(64)&&N--,N%1!=0)throw new Error("Invalid base64 input, bad content length.");for(C=s.uint8array?new Uint8Array(0|N):new Array(0|N);y<c.length;)d=l.indexOf(c.charAt(y++))<<2|(b=l.indexOf(c.charAt(y++)))>>4,h=(15&b)<<4|(m=l.indexOf(c.charAt(y++)))>>2,g=(3&m)<<6|(x=l.indexOf(c.charAt(y++))),C[A++]=d,m!==64&&(C[A++]=h),x!==64&&(C[A++]=g);return C}},{"./support":30,"./utils":32}],2:[function(t,r,i){var a=t("./external"),s=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),c=t("./stream/DataLengthProbe");function d(h,g,b,m,x){this.compressedSize=h,this.uncompressedSize=g,this.crc32=b,this.compression=m,this.compressedContent=x}d.prototype={getContentWorker:function(){var h=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),g=this;return h.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(h,g,b){return h.pipe(new l).pipe(new c("uncompressedSize")).pipe(g.compressWorker(b)).pipe(new c("compressedSize")).withStreamInfo("compression",g)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var a=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var a=t("./utils"),s=function(){for(var l,c=[],d=0;d<256;d++){l=d;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;c[d]=l}return c}();r.exports=function(l,c){return l!==void 0&&l.length?a.getTypeOf(l)!=="string"?function(d,h,g,b){var m=s,x=b+g;d^=-1;for(var y=b;y<x;y++)d=d>>>8^m[255&(d^h[y])];return-1^d}(0|c,l,l.length,0):function(d,h,g,b){var m=s,x=b+g;d^=-1;for(var y=b;y<x;y++)d=d>>>8^m[255&(d^h.charCodeAt(y))];return-1^d}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var a=null;a=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:a}},{lie:37}],7:[function(t,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),l=t("./utils"),c=t("./stream/GenericWorker"),d=a?"uint8array":"array";function h(g,b){c.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=b,this.meta={}}i.magic="\b\0",l.inherits(h,c),h.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(d,g.data),!1)},h.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(b){g.push({data:b,meta:g.meta})}},i.compressWorker=function(g){return new h("Deflate",g)},i.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function a(m,x){var y,A="";for(y=0;y<x;y++)A+=String.fromCharCode(255&m),m>>>=8;return A}function s(m,x,y,A,w,C){var N,F,R=m.file,M=m.compression,k=C!==d.utf8encode,L=l.transformTo("string",C(R.name)),B=l.transformTo("string",d.utf8encode(R.name)),Q=R.comment,j=l.transformTo("string",C(Q)),O=l.transformTo("string",d.utf8encode(Q)),z=B.length!==R.name.length,T=O.length!==Q.length,G="",W="",X="",ie=R.dir,ue=R.date,$={crc32:0,compressedSize:0,uncompressedSize:0};x&&!y||($.crc32=m.crc32,$.compressedSize=m.compressedSize,$.uncompressedSize=m.uncompressedSize);var ae=0;x&&(ae|=8),k||!z&&!T||(ae|=2048);var U=0,q=0;ie&&(U|=16),w==="UNIX"?(q=798,U|=function(ee,se){var we=ee;return ee||(we=se?16893:33204),(65535&we)<<16}(R.unixPermissions,ie)):(q=20,U|=function(ee){return 63&(ee||0)}(R.dosPermissions)),N=ue.getUTCHours(),N<<=6,N|=ue.getUTCMinutes(),N<<=5,N|=ue.getUTCSeconds()/2,F=ue.getUTCFullYear()-1980,F<<=4,F|=ue.getUTCMonth()+1,F<<=5,F|=ue.getUTCDate(),z&&(W=a(1,1)+a(h(L),4)+B,G+="up"+a(W.length,2)+W),T&&(X=a(1,1)+a(h(j),4)+O,G+="uc"+a(X.length,2)+X);var Z="";return Z+=`
\0`,Z+=a(ae,2),Z+=M.magic,Z+=a(N,2),Z+=a(F,2),Z+=a($.crc32,4),Z+=a($.compressedSize,4),Z+=a($.uncompressedSize,4),Z+=a(L.length,2),Z+=a(G.length,2),{fileRecord:g.LOCAL_FILE_HEADER+Z+L+G,dirRecord:g.CENTRAL_FILE_HEADER+a(q,2)+Z+a(j.length,2)+"\0\0\0\0"+a(U,4)+a(A,4)+L+G+j}}var l=t("../utils"),c=t("../stream/GenericWorker"),d=t("../utf8"),h=t("../crc32"),g=t("../signature");function b(m,x,y,A){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=y,this.encodeFileName=A,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(b,c),b.prototype.push=function(m){var x=m.meta.percent||0,y=this.entriesCount,A=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,c.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:y?(x+100*(y-A-1))/y:100}}))},b.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var x=this.streamFiles&&!m.file.dir;if(x){var y=s(m,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(m){this.accumulate=!1;var x=this.streamFiles&&!m.file.dir,y=s(m,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),x)this.push({data:function(A){return g.DATA_DESCRIPTOR+a(A.crc32,4)+a(A.compressedSize,4)+a(A.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var m=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var y=this.bytesWritten-m,A=function(w,C,N,F,R){var M=l.transformTo("string",R(F));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(w,2)+a(w,2)+a(C,4)+a(N,4)+a(M.length,2)+M}(this.dirRecords.length,y,m,this.zipComment,this.encodeFileName);this.push({data:A,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(m){this._sources.push(m);var x=this;return m.on("data",function(y){x.processChunk(y)}),m.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),m.on("error",function(y){x.error(y)}),this},b.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(m){var x=this._sources;if(!c.prototype.error.call(this,m))return!1;for(var y=0;y<x.length;y++)try{x[y].error(m)}catch{}return!0},b.prototype.lock=function(){c.prototype.lock.call(this);for(var m=this._sources,x=0;x<m.length;x++)m[x].lock()},r.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var a=t("../compressions"),s=t("./ZipFileWorker");i.generateWorker=function(l,c,d){var h=new s(c.streamFiles,d,c.platform,c.encodeFileName),g=0;try{l.forEach(function(b,m){g++;var x=function(C,N){var F=C||N,R=a[F];if(!R)throw new Error(F+" is not a valid compression method !");return R}(m.options.compression,c.compression),y=m.options.compressionOptions||c.compressionOptions||{},A=m.dir,w=m.date;m._compressWorker(x,y).withStreamInfo("file",{name:b,dir:A,date:w,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(h)}),h.entriesCount=g}catch(b){h.error(b)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var l in this)typeof this[l]!="function"&&(s[l]=this[l]);return s}}(a.prototype=t("./object")).loadAsync=t("./load"),a.support=t("./support"),a.defaults=t("./defaults"),a.version="3.10.1",a.loadAsync=function(s,l){return new a().loadAsync(s,l)},a.external=t("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var a=t("./utils"),s=t("./external"),l=t("./utf8"),c=t("./zipEntries"),d=t("./stream/Crc32Probe"),h=t("./nodejsUtils");function g(b){return new s.Promise(function(m,x){var y=b.decompressed.getContentWorker().pipe(new d);y.on("error",function(A){x(A)}).on("end",function(){y.streamInfo.crc32!==b.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(b,m){var x=this;return m=a.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),h.isNode&&h.isStream(b)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",b,!0,m.optimizedBinaryString,m.base64).then(function(y){var A=new c(m);return A.load(y),A}).then(function(y){var A=[s.Promise.resolve(y)],w=y.files;if(m.checkCRC32)for(var C=0;C<w.length;C++)A.push(g(w[C]));return s.Promise.all(A)}).then(function(y){for(var A=y.shift(),w=A.files,C=0;C<w.length;C++){var N=w[C],F=N.fileNameStr,R=a.resolve(N.fileNameStr);x.file(R,N.decompressed,{binary:!0,optimizedBinaryString:!0,date:N.date,dir:N.dir,comment:N.fileCommentStr.length?N.fileCommentStr:null,unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions,createFolders:m.createFolders}),N.dir||(x.file(R).unsafeOriginalName=F)}return A.zipComment.length&&(x.comment=A.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var a=t("../utils"),s=t("../stream/GenericWorker");function l(c,d){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(d)}a.inherits(l,s),l.prototype._bindStream=function(c){var d=this;(this._stream=c).pause(),c.on("data",function(h){d.push({data:h,meta:{percent:0}})}).on("error",function(h){d.isPaused?this.generatedError=h:d.error(h)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},l.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var a=t("readable-stream").Readable;function s(l,c,d){a.call(this,c),this._helper=l;var h=this;l.on("data",function(g,b){h.push(g)||h._helper.pause(),d&&d(b)}).on("error",function(g){h.emit("error",g)}).on("end",function(){h.push(null)})}t("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(t,r,i){function a(R,M,k){var L,B=l.getTypeOf(M),Q=l.extend(k||{},h);Q.date=Q.date||new Date,Q.compression!==null&&(Q.compression=Q.compression.toUpperCase()),typeof Q.unixPermissions=="string"&&(Q.unixPermissions=parseInt(Q.unixPermissions,8)),Q.unixPermissions&&16384&Q.unixPermissions&&(Q.dir=!0),Q.dosPermissions&&16&Q.dosPermissions&&(Q.dir=!0),Q.dir&&(R=w(R)),Q.createFolders&&(L=A(R))&&C.call(this,L,!0);var j=B==="string"&&Q.binary===!1&&Q.base64===!1;k&&k.binary!==void 0||(Q.binary=!j),(M instanceof g&&M.uncompressedSize===0||Q.dir||!M||M.length===0)&&(Q.base64=!1,Q.binary=!0,M="",Q.compression="STORE",B="string");var O=null;O=M instanceof g||M instanceof c?M:x.isNode&&x.isStream(M)?new y(R,M):l.prepareContent(R,M,Q.binary,Q.optimizedBinaryString,Q.base64);var z=new b(R,O,Q);this.files[R]=z}var s=t("./utf8"),l=t("./utils"),c=t("./stream/GenericWorker"),d=t("./stream/StreamHelper"),h=t("./defaults"),g=t("./compressedObject"),b=t("./zipObject"),m=t("./generate"),x=t("./nodejsUtils"),y=t("./nodejs/NodejsStreamInputAdapter"),A=function(R){R.slice(-1)==="/"&&(R=R.substring(0,R.length-1));var M=R.lastIndexOf("/");return 0<M?R.substring(0,M):""},w=function(R){return R.slice(-1)!=="/"&&(R+="/"),R},C=function(R,M){return M=M!==void 0?M:h.createFolders,R=w(R),this.files[R]||a.call(this,R,null,{dir:!0,createFolders:M}),this.files[R]};function N(R){return Object.prototype.toString.call(R)==="[object RegExp]"}var F={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(R){var M,k,L;for(M in this.files)L=this.files[M],(k=M.slice(this.root.length,M.length))&&M.slice(0,this.root.length)===this.root&&R(k,L)},filter:function(R){var M=[];return this.forEach(function(k,L){R(k,L)&&M.push(L)}),M},file:function(R,M,k){if(arguments.length!==1)return R=this.root+R,a.call(this,R,M,k),this;if(N(R)){var L=R;return this.filter(function(Q,j){return!j.dir&&L.test(Q)})}var B=this.files[this.root+R];return B&&!B.dir?B:null},folder:function(R){if(!R)return this;if(N(R))return this.filter(function(B,Q){return Q.dir&&R.test(B)});var M=this.root+R,k=C.call(this,M),L=this.clone();return L.root=k.name,L},remove:function(R){R=this.root+R;var M=this.files[R];if(M||(R.slice(-1)!=="/"&&(R+="/"),M=this.files[R]),M&&!M.dir)delete this.files[R];else for(var k=this.filter(function(B,Q){return Q.name.slice(0,R.length)===R}),L=0;L<k.length;L++)delete this.files[k[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(R){var M,k={};try{if((k=l.extend(R||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),k.type==="binarystring"&&(k.type="string"),!k.type)throw new Error("No output type specified.");l.checkSupport(k.type),k.platform!=="darwin"&&k.platform!=="freebsd"&&k.platform!=="linux"&&k.platform!=="sunos"||(k.platform="UNIX"),k.platform==="win32"&&(k.platform="DOS");var L=k.comment||this.comment||"";M=m.generateWorker(this,k,L)}catch(B){(M=new c("error")).error(B)}return new d(M,k.type||"string",k.mimeType)},generateAsync:function(R,M){return this.generateInternalStream(R).accumulate(M)},generateNodeStream:function(R,M){return(R=R||{}).type||(R.type="nodebuffer"),this.generateInternalStream(R).toNodejsStream(M)}};r.exports=F},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var a=t("./DataReader");function s(l){a.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}t("../utils").inherits(s,a),s.prototype.byteAt=function(l){return this.data[this.zero+l]},s.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),d=l.charCodeAt(1),h=l.charCodeAt(2),g=l.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===c&&this.data[b+1]===d&&this.data[b+2]===h&&this.data[b+3]===g)return b-this.zero;return-1},s.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),d=l.charCodeAt(1),h=l.charCodeAt(2),g=l.charCodeAt(3),b=this.readData(4);return c===b[0]&&d===b[1]&&h===b[2]&&g===b[3]},s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var a=t("../utils");function s(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,d=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)d=(d<<8)+this.byteAt(c);return this.index+=l,d},readString:function(l){return a.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=s},{"../utils":32}],19:[function(t,r,i){var a=t("./Uint8ArrayReader");function s(l){a.call(this,l)}t("../utils").inherits(s,a),s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var a=t("./DataReader");function s(l){a.call(this,l)}t("../utils").inherits(s,a),s.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},s.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},s.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var a=t("./ArrayReader");function s(l){a.call(this,l)}t("../utils").inherits(s,a),s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var a=t("../utils"),s=t("../support"),l=t("./ArrayReader"),c=t("./StringReader"),d=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");r.exports=function(g){var b=a.getTypeOf(g);return a.checkSupport(b),b!=="string"||s.uint8array?b==="nodebuffer"?new d(g):s.uint8array?new h(a.transformTo("uint8array",g)):new l(a.transformTo("array",g)):new c(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var a=t("./GenericWorker"),s=t("../utils");function l(c){a.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(l,a),l.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var a=t("./GenericWorker"),s=t("../crc32");function l(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,a),l.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var a=t("../utils"),s=t("./GenericWorker");function l(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(l,s),l.prototype.processChunk=function(c){if(c){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+c.data.length}s.prototype.processChunk.call(this,c)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var a=t("../utils"),s=t("./GenericWorker");function l(c){s.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(h){d.dataIsReady=!0,d.data=h,d.max=h&&h.length||0,d.type=a.getTypeOf(h),d.isPaused||d._tickAndRepeat()},function(h){d.error(h)})}a.inherits(l,s),l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d)}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,l){return this._listeners[s].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,l){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,l)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var l=this;return s.on("data",function(c){l.processChunk(c)}),s.on("end",function(){l.end()}),s.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,l){return this.extraStreamInfo[s]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(t,r,i){var a=t("../utils"),s=t("./ConvertWorker"),l=t("./GenericWorker"),c=t("../base64"),d=t("../support"),h=t("../external"),g=null;if(d.nodestream)try{g=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(x,y){return new h.Promise(function(A,w){var C=[],N=x._internalType,F=x._outputType,R=x._mimeType;x.on("data",function(M,k){C.push(M),y&&y(k)}).on("error",function(M){C=[],w(M)}).on("end",function(){try{var M=function(k,L,B){switch(k){case"blob":return a.newBlob(a.transformTo("arraybuffer",L),B);case"base64":return c.encode(L);default:return a.transformTo(k,L)}}(F,function(k,L){var B,Q=0,j=null,O=0;for(B=0;B<L.length;B++)O+=L[B].length;switch(k){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(j=new Uint8Array(O),B=0;B<L.length;B++)j.set(L[B],Q),Q+=L[B].length;return j;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+k+"'")}}(N,C),R);A(M)}catch(k){w(k)}C=[]}).resume()})}function m(x,y,A){var w=y;switch(y){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=y,this._mimeType=A,a.checkSupport(w),this._worker=x.pipe(new s(w)),x.lock()}catch(C){this._worker=new l("error"),this._worker.error(C)}}m.prototype={accumulate:function(x){return b(this,x)},on:function(x,y){var A=this;return x==="data"?this._worker.on(x,function(w){y.call(A,w.data,w.meta)}):this._worker.on(x,function(){a.delay(y,arguments,A)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},x)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var a=t("./utils"),s=t("./support"),l=t("./nodejsUtils"),c=t("./stream/GenericWorker"),d=new Array(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;d[254]=d[254]=1;function g(){c.call(this,"utf-8 decode"),this.leftOver=null}function b(){c.call(this,"utf-8 encode")}i.utf8encode=function(m){return s.nodebuffer?l.newBufferFrom(m,"utf-8"):function(x){var y,A,w,C,N,F=x.length,R=0;for(C=0;C<F;C++)(64512&(A=x.charCodeAt(C)))==55296&&C+1<F&&(64512&(w=x.charCodeAt(C+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),C++),R+=A<128?1:A<2048?2:A<65536?3:4;for(y=s.uint8array?new Uint8Array(R):new Array(R),C=N=0;N<R;C++)(64512&(A=x.charCodeAt(C)))==55296&&C+1<F&&(64512&(w=x.charCodeAt(C+1)))==56320&&(A=65536+(A-55296<<10)+(w-56320),C++),A<128?y[N++]=A:(A<2048?y[N++]=192|A>>>6:(A<65536?y[N++]=224|A>>>12:(y[N++]=240|A>>>18,y[N++]=128|A>>>12&63),y[N++]=128|A>>>6&63),y[N++]=128|63&A);return y}(m)},i.utf8decode=function(m){return s.nodebuffer?a.transformTo("nodebuffer",m).toString("utf-8"):function(x){var y,A,w,C,N=x.length,F=new Array(2*N);for(y=A=0;y<N;)if((w=x[y++])<128)F[A++]=w;else if(4<(C=d[w]))F[A++]=65533,y+=C-1;else{for(w&=C===2?31:C===3?15:7;1<C&&y<N;)w=w<<6|63&x[y++],C--;1<C?F[A++]=65533:w<65536?F[A++]=w:(w-=65536,F[A++]=55296|w>>10&1023,F[A++]=56320|1023&w)}return F.length!==A&&(F.subarray?F=F.subarray(0,A):F.length=A),a.applyFromCharCode(F)}(m=a.transformTo(s.uint8array?"uint8array":"array",m))},a.inherits(g,c),g.prototype.processChunk=function(m){var x=a.transformTo(s.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=x;(x=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),x.set(y,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var A=function(C,N){var F;for((N=N||C.length)>C.length&&(N=C.length),F=N-1;0<=F&&(192&C[F])==128;)F--;return F<0||F===0?N:F+d[C[F]]>N?F:N}(x),w=x;A!==x.length&&(s.uint8array?(w=x.subarray(0,A),this.leftOver=x.subarray(A,x.length)):(w=x.slice(0,A),this.leftOver=x.slice(A,x.length))),this.push({data:i.utf8decode(w),meta:m.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=g,a.inherits(b,c),b.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var a=t("./support"),s=t("./base64"),l=t("./nodejsUtils"),c=t("./external");function d(y){return y}function h(y,A){for(var w=0;w<y.length;++w)A[w]=255&y.charCodeAt(w);return A}t("setimmediate"),i.newBlob=function(y,A){i.checkSupport("blob");try{return new Blob([y],{type:A})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(y),w.getBlob(A)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(y,A,w){var C=[],N=0,F=y.length;if(F<=w)return String.fromCharCode.apply(null,y);for(;N<F;)A==="array"||A==="nodebuffer"?C.push(String.fromCharCode.apply(null,y.slice(N,Math.min(N+w,F)))):C.push(String.fromCharCode.apply(null,y.subarray(N,Math.min(N+w,F)))),N+=w;return C.join("")},stringifyByChar:function(y){for(var A="",w=0;w<y.length;w++)A+=String.fromCharCode(y[w]);return A},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function b(y){var A=65536,w=i.getTypeOf(y),C=!0;if(w==="uint8array"?C=g.applyCanBeUsed.uint8array:w==="nodebuffer"&&(C=g.applyCanBeUsed.nodebuffer),C)for(;1<A;)try{return g.stringifyByChunk(y,w,A)}catch{A=Math.floor(A/2)}return g.stringifyByChar(y)}function m(y,A){for(var w=0;w<y.length;w++)A[w]=y[w];return A}i.applyFromCharCode=b;var x={};x.string={string:d,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return x.string.uint8array(y).buffer},uint8array:function(y){return h(y,new Uint8Array(y.length))},nodebuffer:function(y){return h(y,l.allocBuffer(y.length))}},x.array={string:b,array:d,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(y)}},x.arraybuffer={string:function(y){return b(new Uint8Array(y))},array:function(y){return m(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:d,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(new Uint8Array(y))}},x.uint8array={string:b,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:d,nodebuffer:function(y){return l.newBufferFrom(y)}},x.nodebuffer={string:b,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return x.nodebuffer.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:d},i.transformTo=function(y,A){if(A=A||"",!y)return A;i.checkSupport(y);var w=i.getTypeOf(A);return x[w][y](A)},i.resolve=function(y){for(var A=y.split("/"),w=[],C=0;C<A.length;C++){var N=A[C];N==="."||N===""&&C!==0&&C!==A.length-1||(N===".."?w.pop():w.push(N))}return w.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":a.nodebuffer&&l.isBuffer(y)?"nodebuffer":a.uint8array&&y instanceof Uint8Array?"uint8array":a.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!a[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var A,w,C="";for(w=0;w<(y||"").length;w++)C+="\\x"+((A=y.charCodeAt(w))<16?"0":"")+A.toString(16).toUpperCase();return C},i.delay=function(y,A,w){setImmediate(function(){y.apply(w||null,A||[])})},i.inherits=function(y,A){function w(){}w.prototype=A.prototype,y.prototype=new w},i.extend=function(){var y,A,w={};for(y=0;y<arguments.length;y++)for(A in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],A)&&w[A]===void 0&&(w[A]=arguments[y][A]);return w},i.prepareContent=function(y,A,w,C,N){return c.Promise.resolve(A).then(function(F){return a.blob&&(F instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(F))!==-1)&&typeof FileReader<"u"?new c.Promise(function(R,M){var k=new FileReader;k.onload=function(L){R(L.target.result)},k.onerror=function(L){M(L.target.error)},k.readAsArrayBuffer(F)}):F}).then(function(F){var R=i.getTypeOf(F);return R?(R==="arraybuffer"?F=i.transformTo("uint8array",F):R==="string"&&(N?F=s.decode(F):w&&C!==!0&&(F=function(M){return h(M,a.uint8array?new Uint8Array(M.length):new Array(M.length))}(F))),F):c.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var a=t("./reader/readerFor"),s=t("./utils"),l=t("./signature"),c=t("./zipEntry"),d=t("./support");function h(g){this.files=[],this.loadOptions=g}h.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(b)+", expected "+s.pretty(g)+")")}},isSignature:function(g,b){var m=this.reader.index;this.reader.setIndex(g);var x=this.reader.readString(4)===b;return this.reader.setIndex(m),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),b=d.uint8array?"uint8array":"array",m=s.transformTo(b,g);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,b,m,x=this.zip64EndOfCentralSize-44;0<x;)g=this.reader.readInt(2),b=this.reader.readInt(4),m=this.reader.readData(b),this.zip64ExtensibleData[g]={id:g,length:b,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,b;for(g=0;g<this.files.length;g++)b=this.files[g],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(g=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var b=g;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var x=b-m;if(0<x)this.isSignature(b,l.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(g){this.reader=a(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var a=t("./reader/readerFor"),s=t("./utils"),l=t("./compressedObject"),c=t("./crc32"),d=t("./utf8"),h=t("./compressions"),g=t("./support");function b(m,x){this.options=m,this.loadOptions=x}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var x,y;if(m.skip(22),this.fileNameLength=m.readInt(2),y=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(A){for(var w in h)if(Object.prototype.hasOwnProperty.call(h,w)&&h[w].magic===A)return h[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,x,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var x=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(x),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var x,y,A,w=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<w;)x=m.readInt(2),y=m.readInt(2),A=m.readData(y),this.extraFields[x]={id:x,length:y,value:A};m.setIndex(w)},handleUTF8:function(){var m=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var y=s.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var A=this.findExtraFieldUnicodeComment();if(A!==null)this.fileCommentStr=A;else{var w=s.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var x=a(m.value);return x.readInt(1)!==1||c(this.fileName)!==x.readInt(4)?null:d.utf8decode(x.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var x=a(m.value);return x.readInt(1)!==1||c(this.fileComment)!==x.readInt(4)?null:d.utf8decode(x.readData(m.length-5))}return null}},r.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function a(x,y,A){this.name=x,this.dir=A.dir,this.date=A.date,this.comment=A.comment,this.unixPermissions=A.unixPermissions,this.dosPermissions=A.dosPermissions,this._data=y,this._dataBinary=A.binary,this.options={compression:A.compression,compressionOptions:A.compressionOptions}}var s=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),c=t("./utf8"),d=t("./compressedObject"),h=t("./stream/GenericWorker");a.prototype={internalStream:function(x){var y=null,A="string";try{if(!x)throw new Error("No output type specified.");var w=(A=x.toLowerCase())==="string"||A==="text";A!=="binarystring"&&A!=="text"||(A="string"),y=this._decompressWorker();var C=!this._dataBinary;C&&!w&&(y=y.pipe(new c.Utf8EncodeWorker)),!C&&w&&(y=y.pipe(new c.Utf8DecodeWorker))}catch(N){(y=new h("error")).error(N)}return new s(y,A,"")},async:function(x,y){return this.internalStream(x).accumulate(y)},nodeStream:function(x,y){return this.internalStream(x||"nodebuffer").toNodejsStream(y)},_compressWorker:function(x,y){if(this._data instanceof d&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var A=this._decompressWorker();return this._dataBinary||(A=A.pipe(new c.Utf8EncodeWorker)),d.createWorkerFrom(A,x,y)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof h?this._data:new l(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<g.length;m++)a.prototype[g[m]]=b;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(a){var s,l,c=a.MutationObserver||a.WebKitMutationObserver;if(c){var d=0,h=new c(x),g=a.document.createTextNode("");h.observe(g,{characterData:!0}),s=function(){g.data=d=++d%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var y=a.document.createElement("script");y.onreadystatechange=function(){x(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},a.document.documentElement.appendChild(y)}:function(){setTimeout(x,0)};else{var b=new a.MessageChannel;b.port1.onmessage=x,s=function(){b.port2.postMessage(0)}}var m=[];function x(){var y,A;l=!0;for(var w=m.length;w;){for(A=m,m=[],y=-1;++y<w;)A[y]();w=m.length}l=!1}r.exports=function(y){m.push(y)!==1||l||s()}}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var a=t("immediate");function s(){}var l={},c=["REJECTED"],d=["FULFILLED"],h=["PENDING"];function g(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,w!==s&&y(this,w)}function b(w,C,N){this.promise=w,typeof C=="function"&&(this.onFulfilled=C,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}function m(w,C,N){a(function(){var F;try{F=C(N)}catch(R){return l.reject(w,R)}F===w?l.reject(w,new TypeError("Cannot resolve promise with itself")):l.resolve(w,F)})}function x(w){var C=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof C=="function")return function(){C.apply(w,arguments)}}function y(w,C){var N=!1;function F(k){N||(N=!0,l.reject(w,k))}function R(k){N||(N=!0,l.resolve(w,k))}var M=A(function(){C(R,F)});M.status==="error"&&F(M.value)}function A(w,C){var N={};try{N.value=w(C),N.status="success"}catch(F){N.status="error",N.value=F}return N}(r.exports=g).prototype.finally=function(w){if(typeof w!="function")return this;var C=this.constructor;return this.then(function(N){return C.resolve(w()).then(function(){return N})},function(N){return C.resolve(w()).then(function(){throw N})})},g.prototype.catch=function(w){return this.then(null,w)},g.prototype.then=function(w,C){if(typeof w!="function"&&this.state===d||typeof C!="function"&&this.state===c)return this;var N=new this.constructor(s);return this.state!==h?m(N,this.state===d?w:C,this.outcome):this.queue.push(new b(N,w,C)),N},b.prototype.callFulfilled=function(w){l.resolve(this.promise,w)},b.prototype.otherCallFulfilled=function(w){m(this.promise,this.onFulfilled,w)},b.prototype.callRejected=function(w){l.reject(this.promise,w)},b.prototype.otherCallRejected=function(w){m(this.promise,this.onRejected,w)},l.resolve=function(w,C){var N=A(x,C);if(N.status==="error")return l.reject(w,N.value);var F=N.value;if(F)y(w,F);else{w.state=d,w.outcome=C;for(var R=-1,M=w.queue.length;++R<M;)w.queue[R].callFulfilled(C)}return w},l.reject=function(w,C){w.state=c,w.outcome=C;for(var N=-1,F=w.queue.length;++N<F;)w.queue[N].callRejected(C);return w},g.resolve=function(w){return w instanceof this?w:l.resolve(new this(s),w)},g.reject=function(w){var C=new this(s);return l.reject(C,w)},g.all=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=w.length,F=!1;if(!N)return this.resolve([]);for(var R=new Array(N),M=0,k=-1,L=new this(s);++k<N;)B(w[k],k);return L;function B(Q,j){C.resolve(Q).then(function(O){R[j]=O,++M!==N||F||(F=!0,l.resolve(L,R))},function(O){F||(F=!0,l.reject(L,O))})}},g.race=function(w){var C=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=w.length,F=!1;if(!N)return this.resolve([]);for(var R=-1,M=new this(s);++R<N;)k=w[R],C.resolve(k).then(function(L){F||(F=!0,l.resolve(M,L))},function(L){F||(F=!0,l.reject(M,L))});var k;return M}},{immediate:36}],38:[function(t,r,i){var a={};(0,t("./lib/utils/common").assign)(a,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var a=t("./zlib/deflate"),s=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/messages"),d=t("./zlib/zstream"),h=Object.prototype.toString,g=0,b=-1,m=0,x=8;function y(w){if(!(this instanceof y))return new y(w);this.options=s.assign({level:b,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},w||{});var C=this.options;C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&C.windowBits<16&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var N=a.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(N!==g)throw new Error(c[N]);if(C.header&&a.deflateSetHeader(this.strm,C.header),C.dictionary){var F;if(F=typeof C.dictionary=="string"?l.string2buf(C.dictionary):h.call(C.dictionary)==="[object ArrayBuffer]"?new Uint8Array(C.dictionary):C.dictionary,(N=a.deflateSetDictionary(this.strm,F))!==g)throw new Error(c[N]);this._dict_set=!0}}function A(w,C){var N=new y(C);if(N.push(w,!0),N.err)throw N.msg||c[N.err];return N.result}y.prototype.push=function(w,C){var N,F,R=this.strm,M=this.options.chunkSize;if(this.ended)return!1;F=C===~~C?C:C===!0?4:0,typeof w=="string"?R.input=l.string2buf(w):h.call(w)==="[object ArrayBuffer]"?R.input=new Uint8Array(w):R.input=w,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new s.Buf8(M),R.next_out=0,R.avail_out=M),(N=a.deflate(R,F))!==1&&N!==g)return this.onEnd(N),!(this.ended=!0);R.avail_out!==0&&(R.avail_in!==0||F!==4&&F!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(s.shrinkBuf(R.output,R.next_out))):this.onData(s.shrinkBuf(R.output,R.next_out)))}while((0<R.avail_in||R.avail_out===0)&&N!==1);return F===4?(N=a.deflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===g):F!==2||(this.onEnd(g),!(R.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Deflate=y,i.deflate=A,i.deflateRaw=function(w,C){return(C=C||{}).raw=!0,A(w,C)},i.gzip=function(w,C){return(C=C||{}).gzip=!0,A(w,C)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var a=t("./zlib/inflate"),s=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/constants"),d=t("./zlib/messages"),h=t("./zlib/zstream"),g=t("./zlib/gzheader"),b=Object.prototype.toString;function m(y){if(!(this instanceof m))return new m(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var A=this.options;A.raw&&0<=A.windowBits&&A.windowBits<16&&(A.windowBits=-A.windowBits,A.windowBits===0&&(A.windowBits=-15)),!(0<=A.windowBits&&A.windowBits<16)||y&&y.windowBits||(A.windowBits+=32),15<A.windowBits&&A.windowBits<48&&(15&A.windowBits)==0&&(A.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var w=a.inflateInit2(this.strm,A.windowBits);if(w!==c.Z_OK)throw new Error(d[w]);this.header=new g,a.inflateGetHeader(this.strm,this.header)}function x(y,A){var w=new m(A);if(w.push(y,!0),w.err)throw w.msg||d[w.err];return w.result}m.prototype.push=function(y,A){var w,C,N,F,R,M,k=this.strm,L=this.options.chunkSize,B=this.options.dictionary,Q=!1;if(this.ended)return!1;C=A===~~A?A:A===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof y=="string"?k.input=l.binstring2buf(y):b.call(y)==="[object ArrayBuffer]"?k.input=new Uint8Array(y):k.input=y,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new s.Buf8(L),k.next_out=0,k.avail_out=L),(w=a.inflate(k,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&B&&(M=typeof B=="string"?l.string2buf(B):b.call(B)==="[object ArrayBuffer]"?new Uint8Array(B):B,w=a.inflateSetDictionary(this.strm,M)),w===c.Z_BUF_ERROR&&Q===!0&&(w=c.Z_OK,Q=!1),w!==c.Z_STREAM_END&&w!==c.Z_OK)return this.onEnd(w),!(this.ended=!0);k.next_out&&(k.avail_out!==0&&w!==c.Z_STREAM_END&&(k.avail_in!==0||C!==c.Z_FINISH&&C!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(N=l.utf8border(k.output,k.next_out),F=k.next_out-N,R=l.buf2string(k.output,N),k.next_out=F,k.avail_out=L-F,F&&s.arraySet(k.output,k.output,N,F,0),this.onData(R)):this.onData(s.shrinkBuf(k.output,k.next_out)))),k.avail_in===0&&k.avail_out===0&&(Q=!0)}while((0<k.avail_in||k.avail_out===0)&&w!==c.Z_STREAM_END);return w===c.Z_STREAM_END&&(C=c.Z_FINISH),C===c.Z_FINISH?(w=a.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===c.Z_OK):C!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(k.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=m,i.inflate=x,i.inflateRaw=function(y,A){return(A=A||{}).raw=!0,x(y,A)},i.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var h=d.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var g in h)h.hasOwnProperty(g)&&(c[g]=h[g])}}return c},i.shrinkBuf=function(c,d){return c.length===d?c:c.subarray?c.subarray(0,d):(c.length=d,c)};var s={arraySet:function(c,d,h,g,b){if(d.subarray&&c.subarray)c.set(d.subarray(h,h+g),b);else for(var m=0;m<g;m++)c[b+m]=d[h+m]},flattenChunks:function(c){var d,h,g,b,m,x;for(d=g=0,h=c.length;d<h;d++)g+=c[d].length;for(x=new Uint8Array(g),d=b=0,h=c.length;d<h;d++)m=c[d],x.set(m,b),b+=m.length;return x}},l={arraySet:function(c,d,h,g,b){for(var m=0;m<g;m++)c[b+m]=d[h+m]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(a)},{}],42:[function(t,r,i){var a=t("./common"),s=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new a.Buf8(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function h(g,b){if(b<65537&&(g.subarray&&l||!g.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(g,b));for(var m="",x=0;x<b;x++)m+=String.fromCharCode(g[x]);return m}c[254]=c[254]=1,i.string2buf=function(g){var b,m,x,y,A,w=g.length,C=0;for(y=0;y<w;y++)(64512&(m=g.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=g.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),y++),C+=m<128?1:m<2048?2:m<65536?3:4;for(b=new a.Buf8(C),y=A=0;A<C;y++)(64512&(m=g.charCodeAt(y)))==55296&&y+1<w&&(64512&(x=g.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(x-56320),y++),m<128?b[A++]=m:(m<2048?b[A++]=192|m>>>6:(m<65536?b[A++]=224|m>>>12:(b[A++]=240|m>>>18,b[A++]=128|m>>>12&63),b[A++]=128|m>>>6&63),b[A++]=128|63&m);return b},i.buf2binstring=function(g){return h(g,g.length)},i.binstring2buf=function(g){for(var b=new a.Buf8(g.length),m=0,x=b.length;m<x;m++)b[m]=g.charCodeAt(m);return b},i.buf2string=function(g,b){var m,x,y,A,w=b||g.length,C=new Array(2*w);for(m=x=0;m<w;)if((y=g[m++])<128)C[x++]=y;else if(4<(A=c[y]))C[x++]=65533,m+=A-1;else{for(y&=A===2?31:A===3?15:7;1<A&&m<w;)y=y<<6|63&g[m++],A--;1<A?C[x++]=65533:y<65536?C[x++]=y:(y-=65536,C[x++]=55296|y>>10&1023,C[x++]=56320|1023&y)}return h(C,x)},i.utf8border=function(g,b){var m;for((b=b||g.length)>g.length&&(b=g.length),m=b-1;0<=m&&(192&g[m])==128;)m--;return m<0||m===0?b:m+c[g[m]]>b?m:b}},{"./common":41}],43:[function(t,r,i){r.exports=function(a,s,l,c){for(var d=65535&a|0,h=a>>>16&65535|0,g=0;l!==0;){for(l-=g=2e3<l?2e3:l;h=h+(d=d+s[c++]|0)|0,--g;);d%=65521,h%=65521}return d|h<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var a=function(){for(var s,l=[],c=0;c<256;c++){s=c;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;l[c]=s}return l}();r.exports=function(s,l,c,d){var h=a,g=d+c;s^=-1;for(var b=d;b<g;b++)s=s>>>8^h[255&(s^l[b])];return-1^s}},{}],46:[function(t,r,i){var a,s=t("../utils/common"),l=t("./trees"),c=t("./adler32"),d=t("./crc32"),h=t("./messages"),g=0,b=4,m=0,x=-2,y=-1,A=4,w=2,C=8,N=9,F=286,R=30,M=19,k=2*F+1,L=15,B=3,Q=258,j=Q+B+1,O=42,z=113,T=1,G=2,W=3,X=4;function ie(V,Se){return V.msg=h[Se],Se}function ue(V){return(V<<1)-(4<V?9:0)}function $(V){for(var Se=V.length;0<=--Se;)V[Se]=0}function ae(V){var Se=V.state,te=Se.pending;te>V.avail_out&&(te=V.avail_out),te!==0&&(s.arraySet(V.output,Se.pending_buf,Se.pending_out,te,V.next_out),V.next_out+=te,Se.pending_out+=te,V.total_out+=te,V.avail_out-=te,Se.pending-=te,Se.pending===0&&(Se.pending_out=0))}function U(V,Se){l._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,Se),V.block_start=V.strstart,ae(V.strm)}function q(V,Se){V.pending_buf[V.pending++]=Se}function Z(V,Se){V.pending_buf[V.pending++]=Se>>>8&255,V.pending_buf[V.pending++]=255&Se}function ee(V,Se){var te,ge,ce=V.max_chain_length,ve=V.strstart,Ie=V.prev_length,Pe=V.nice_match,ke=V.strstart>V.w_size-j?V.strstart-(V.w_size-j):0,Ke=V.window,lt=V.w_mask,tt=V.prev,Me=V.strstart+Q,xe=Ke[ve+Ie-1],_e=Ke[ve+Ie];V.prev_length>=V.good_match&&(ce>>=2),Pe>V.lookahead&&(Pe=V.lookahead);do if(Ke[(te=Se)+Ie]===_e&&Ke[te+Ie-1]===xe&&Ke[te]===Ke[ve]&&Ke[++te]===Ke[ve+1]){ve+=2,te++;do;while(Ke[++ve]===Ke[++te]&&Ke[++ve]===Ke[++te]&&Ke[++ve]===Ke[++te]&&Ke[++ve]===Ke[++te]&&Ke[++ve]===Ke[++te]&&Ke[++ve]===Ke[++te]&&Ke[++ve]===Ke[++te]&&Ke[++ve]===Ke[++te]&&ve<Me);if(ge=Q-(Me-ve),ve=Me-Q,Ie<ge){if(V.match_start=Se,Pe<=(Ie=ge))break;xe=Ke[ve+Ie-1],_e=Ke[ve+Ie]}}while((Se=tt[Se&lt])>ke&&--ce!=0);return Ie<=V.lookahead?Ie:V.lookahead}function se(V){var Se,te,ge,ce,ve,Ie,Pe,ke,Ke,lt,tt=V.w_size;do{if(ce=V.window_size-V.lookahead-V.strstart,V.strstart>=tt+(tt-j)){for(s.arraySet(V.window,V.window,tt,tt,0),V.match_start-=tt,V.strstart-=tt,V.block_start-=tt,Se=te=V.hash_size;ge=V.head[--Se],V.head[Se]=tt<=ge?ge-tt:0,--te;);for(Se=te=tt;ge=V.prev[--Se],V.prev[Se]=tt<=ge?ge-tt:0,--te;);ce+=tt}if(V.strm.avail_in===0)break;if(Ie=V.strm,Pe=V.window,ke=V.strstart+V.lookahead,Ke=ce,lt=void 0,lt=Ie.avail_in,Ke<lt&&(lt=Ke),te=lt===0?0:(Ie.avail_in-=lt,s.arraySet(Pe,Ie.input,Ie.next_in,lt,ke),Ie.state.wrap===1?Ie.adler=c(Ie.adler,Pe,lt,ke):Ie.state.wrap===2&&(Ie.adler=d(Ie.adler,Pe,lt,ke)),Ie.next_in+=lt,Ie.total_in+=lt,lt),V.lookahead+=te,V.lookahead+V.insert>=B)for(ve=V.strstart-V.insert,V.ins_h=V.window[ve],V.ins_h=(V.ins_h<<V.hash_shift^V.window[ve+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[ve+B-1])&V.hash_mask,V.prev[ve&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=ve,ve++,V.insert--,!(V.lookahead+V.insert<B)););}while(V.lookahead<j&&V.strm.avail_in!==0)}function we(V,Se){for(var te,ge;;){if(V.lookahead<j){if(se(V),V.lookahead<j&&Se===g)return T;if(V.lookahead===0)break}if(te=0,V.lookahead>=B&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+B-1])&V.hash_mask,te=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),te!==0&&V.strstart-te<=V.w_size-j&&(V.match_length=ee(V,te)),V.match_length>=B)if(ge=l._tr_tally(V,V.strstart-V.match_start,V.match_length-B),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=B){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+B-1])&V.hash_mask,te=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else ge=l._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(ge&&(U(V,!1),V.strm.avail_out===0))return T}return V.insert=V.strstart<B-1?V.strstart:B-1,Se===b?(U(V,!0),V.strm.avail_out===0?W:X):V.last_lit&&(U(V,!1),V.strm.avail_out===0)?T:G}function ye(V,Se){for(var te,ge,ce;;){if(V.lookahead<j){if(se(V),V.lookahead<j&&Se===g)return T;if(V.lookahead===0)break}if(te=0,V.lookahead>=B&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+B-1])&V.hash_mask,te=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=B-1,te!==0&&V.prev_length<V.max_lazy_match&&V.strstart-te<=V.w_size-j&&(V.match_length=ee(V,te),V.match_length<=5&&(V.strategy===1||V.match_length===B&&4096<V.strstart-V.match_start)&&(V.match_length=B-1)),V.prev_length>=B&&V.match_length<=V.prev_length){for(ce=V.strstart+V.lookahead-B,ge=l._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-B),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=ce&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+B-1])&V.hash_mask,te=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=B-1,V.strstart++,ge&&(U(V,!1),V.strm.avail_out===0))return T}else if(V.match_available){if((ge=l._tr_tally(V,0,V.window[V.strstart-1]))&&U(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return T}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(ge=l._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<B-1?V.strstart:B-1,Se===b?(U(V,!0),V.strm.avail_out===0?W:X):V.last_lit&&(U(V,!1),V.strm.avail_out===0)?T:G}function Ce(V,Se,te,ge,ce){this.good_length=V,this.max_lazy=Se,this.nice_length=te,this.max_chain=ge,this.func=ce}function Oe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=C,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*k),this.dyn_dtree=new s.Buf16(2*(2*R+1)),this.bl_tree=new s.Buf16(2*(2*M+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(L+1),this.heap=new s.Buf16(2*F+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*F+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Le(V){var Se;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=w,(Se=V.state).pending=0,Se.pending_out=0,Se.wrap<0&&(Se.wrap=-Se.wrap),Se.status=Se.wrap?O:z,V.adler=Se.wrap===2?0:1,Se.last_flush=g,l._tr_init(Se),m):ie(V,x)}function He(V){var Se=Le(V);return Se===m&&function(te){te.window_size=2*te.w_size,$(te.head),te.max_lazy_match=a[te.level].max_lazy,te.good_match=a[te.level].good_length,te.nice_match=a[te.level].nice_length,te.max_chain_length=a[te.level].max_chain,te.strstart=0,te.block_start=0,te.lookahead=0,te.insert=0,te.match_length=te.prev_length=B-1,te.match_available=0,te.ins_h=0}(V.state),Se}function We(V,Se,te,ge,ce,ve){if(!V)return x;var Ie=1;if(Se===y&&(Se=6),ge<0?(Ie=0,ge=-ge):15<ge&&(Ie=2,ge-=16),ce<1||N<ce||te!==C||ge<8||15<ge||Se<0||9<Se||ve<0||A<ve)return ie(V,x);ge===8&&(ge=9);var Pe=new Oe;return(V.state=Pe).strm=V,Pe.wrap=Ie,Pe.gzhead=null,Pe.w_bits=ge,Pe.w_size=1<<Pe.w_bits,Pe.w_mask=Pe.w_size-1,Pe.hash_bits=ce+7,Pe.hash_size=1<<Pe.hash_bits,Pe.hash_mask=Pe.hash_size-1,Pe.hash_shift=~~((Pe.hash_bits+B-1)/B),Pe.window=new s.Buf8(2*Pe.w_size),Pe.head=new s.Buf16(Pe.hash_size),Pe.prev=new s.Buf16(Pe.w_size),Pe.lit_bufsize=1<<ce+6,Pe.pending_buf_size=4*Pe.lit_bufsize,Pe.pending_buf=new s.Buf8(Pe.pending_buf_size),Pe.d_buf=1*Pe.lit_bufsize,Pe.l_buf=3*Pe.lit_bufsize,Pe.level=Se,Pe.strategy=ve,Pe.method=te,He(V)}a=[new Ce(0,0,0,0,function(V,Se){var te=65535;for(te>V.pending_buf_size-5&&(te=V.pending_buf_size-5);;){if(V.lookahead<=1){if(se(V),V.lookahead===0&&Se===g)return T;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var ge=V.block_start+te;if((V.strstart===0||V.strstart>=ge)&&(V.lookahead=V.strstart-ge,V.strstart=ge,U(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-j&&(U(V,!1),V.strm.avail_out===0))return T}return V.insert=0,Se===b?(U(V,!0),V.strm.avail_out===0?W:X):(V.strstart>V.block_start&&(U(V,!1),V.strm.avail_out),T)}),new Ce(4,4,8,4,we),new Ce(4,5,16,8,we),new Ce(4,6,32,32,we),new Ce(4,4,16,16,ye),new Ce(8,16,32,32,ye),new Ce(8,16,128,128,ye),new Ce(8,32,128,256,ye),new Ce(32,128,258,1024,ye),new Ce(32,258,258,4096,ye)],i.deflateInit=function(V,Se){return We(V,Se,C,15,8,0)},i.deflateInit2=We,i.deflateReset=He,i.deflateResetKeep=Le,i.deflateSetHeader=function(V,Se){return V&&V.state?V.state.wrap!==2?x:(V.state.gzhead=Se,m):x},i.deflate=function(V,Se){var te,ge,ce,ve;if(!V||!V.state||5<Se||Se<0)return V?ie(V,x):x;if(ge=V.state,!V.output||!V.input&&V.avail_in!==0||ge.status===666&&Se!==b)return ie(V,V.avail_out===0?-5:x);if(ge.strm=V,te=ge.last_flush,ge.last_flush=Se,ge.status===O)if(ge.wrap===2)V.adler=0,q(ge,31),q(ge,139),q(ge,8),ge.gzhead?(q(ge,(ge.gzhead.text?1:0)+(ge.gzhead.hcrc?2:0)+(ge.gzhead.extra?4:0)+(ge.gzhead.name?8:0)+(ge.gzhead.comment?16:0)),q(ge,255&ge.gzhead.time),q(ge,ge.gzhead.time>>8&255),q(ge,ge.gzhead.time>>16&255),q(ge,ge.gzhead.time>>24&255),q(ge,ge.level===9?2:2<=ge.strategy||ge.level<2?4:0),q(ge,255&ge.gzhead.os),ge.gzhead.extra&&ge.gzhead.extra.length&&(q(ge,255&ge.gzhead.extra.length),q(ge,ge.gzhead.extra.length>>8&255)),ge.gzhead.hcrc&&(V.adler=d(V.adler,ge.pending_buf,ge.pending,0)),ge.gzindex=0,ge.status=69):(q(ge,0),q(ge,0),q(ge,0),q(ge,0),q(ge,0),q(ge,ge.level===9?2:2<=ge.strategy||ge.level<2?4:0),q(ge,3),ge.status=z);else{var Ie=C+(ge.w_bits-8<<4)<<8;Ie|=(2<=ge.strategy||ge.level<2?0:ge.level<6?1:ge.level===6?2:3)<<6,ge.strstart!==0&&(Ie|=32),Ie+=31-Ie%31,ge.status=z,Z(ge,Ie),ge.strstart!==0&&(Z(ge,V.adler>>>16),Z(ge,65535&V.adler)),V.adler=1}if(ge.status===69)if(ge.gzhead.extra){for(ce=ge.pending;ge.gzindex<(65535&ge.gzhead.extra.length)&&(ge.pending!==ge.pending_buf_size||(ge.gzhead.hcrc&&ge.pending>ce&&(V.adler=d(V.adler,ge.pending_buf,ge.pending-ce,ce)),ae(V),ce=ge.pending,ge.pending!==ge.pending_buf_size));)q(ge,255&ge.gzhead.extra[ge.gzindex]),ge.gzindex++;ge.gzhead.hcrc&&ge.pending>ce&&(V.adler=d(V.adler,ge.pending_buf,ge.pending-ce,ce)),ge.gzindex===ge.gzhead.extra.length&&(ge.gzindex=0,ge.status=73)}else ge.status=73;if(ge.status===73)if(ge.gzhead.name){ce=ge.pending;do{if(ge.pending===ge.pending_buf_size&&(ge.gzhead.hcrc&&ge.pending>ce&&(V.adler=d(V.adler,ge.pending_buf,ge.pending-ce,ce)),ae(V),ce=ge.pending,ge.pending===ge.pending_buf_size)){ve=1;break}ve=ge.gzindex<ge.gzhead.name.length?255&ge.gzhead.name.charCodeAt(ge.gzindex++):0,q(ge,ve)}while(ve!==0);ge.gzhead.hcrc&&ge.pending>ce&&(V.adler=d(V.adler,ge.pending_buf,ge.pending-ce,ce)),ve===0&&(ge.gzindex=0,ge.status=91)}else ge.status=91;if(ge.status===91)if(ge.gzhead.comment){ce=ge.pending;do{if(ge.pending===ge.pending_buf_size&&(ge.gzhead.hcrc&&ge.pending>ce&&(V.adler=d(V.adler,ge.pending_buf,ge.pending-ce,ce)),ae(V),ce=ge.pending,ge.pending===ge.pending_buf_size)){ve=1;break}ve=ge.gzindex<ge.gzhead.comment.length?255&ge.gzhead.comment.charCodeAt(ge.gzindex++):0,q(ge,ve)}while(ve!==0);ge.gzhead.hcrc&&ge.pending>ce&&(V.adler=d(V.adler,ge.pending_buf,ge.pending-ce,ce)),ve===0&&(ge.status=103)}else ge.status=103;if(ge.status===103&&(ge.gzhead.hcrc?(ge.pending+2>ge.pending_buf_size&&ae(V),ge.pending+2<=ge.pending_buf_size&&(q(ge,255&V.adler),q(ge,V.adler>>8&255),V.adler=0,ge.status=z)):ge.status=z),ge.pending!==0){if(ae(V),V.avail_out===0)return ge.last_flush=-1,m}else if(V.avail_in===0&&ue(Se)<=ue(te)&&Se!==b)return ie(V,-5);if(ge.status===666&&V.avail_in!==0)return ie(V,-5);if(V.avail_in!==0||ge.lookahead!==0||Se!==g&&ge.status!==666){var Pe=ge.strategy===2?function(ke,Ke){for(var lt;;){if(ke.lookahead===0&&(se(ke),ke.lookahead===0)){if(Ke===g)return T;break}if(ke.match_length=0,lt=l._tr_tally(ke,0,ke.window[ke.strstart]),ke.lookahead--,ke.strstart++,lt&&(U(ke,!1),ke.strm.avail_out===0))return T}return ke.insert=0,Ke===b?(U(ke,!0),ke.strm.avail_out===0?W:X):ke.last_lit&&(U(ke,!1),ke.strm.avail_out===0)?T:G}(ge,Se):ge.strategy===3?function(ke,Ke){for(var lt,tt,Me,xe,_e=ke.window;;){if(ke.lookahead<=Q){if(se(ke),ke.lookahead<=Q&&Ke===g)return T;if(ke.lookahead===0)break}if(ke.match_length=0,ke.lookahead>=B&&0<ke.strstart&&(tt=_e[Me=ke.strstart-1])===_e[++Me]&&tt===_e[++Me]&&tt===_e[++Me]){xe=ke.strstart+Q;do;while(tt===_e[++Me]&&tt===_e[++Me]&&tt===_e[++Me]&&tt===_e[++Me]&&tt===_e[++Me]&&tt===_e[++Me]&&tt===_e[++Me]&&tt===_e[++Me]&&Me<xe);ke.match_length=Q-(xe-Me),ke.match_length>ke.lookahead&&(ke.match_length=ke.lookahead)}if(ke.match_length>=B?(lt=l._tr_tally(ke,1,ke.match_length-B),ke.lookahead-=ke.match_length,ke.strstart+=ke.match_length,ke.match_length=0):(lt=l._tr_tally(ke,0,ke.window[ke.strstart]),ke.lookahead--,ke.strstart++),lt&&(U(ke,!1),ke.strm.avail_out===0))return T}return ke.insert=0,Ke===b?(U(ke,!0),ke.strm.avail_out===0?W:X):ke.last_lit&&(U(ke,!1),ke.strm.avail_out===0)?T:G}(ge,Se):a[ge.level].func(ge,Se);if(Pe!==W&&Pe!==X||(ge.status=666),Pe===T||Pe===W)return V.avail_out===0&&(ge.last_flush=-1),m;if(Pe===G&&(Se===1?l._tr_align(ge):Se!==5&&(l._tr_stored_block(ge,0,0,!1),Se===3&&($(ge.head),ge.lookahead===0&&(ge.strstart=0,ge.block_start=0,ge.insert=0))),ae(V),V.avail_out===0))return ge.last_flush=-1,m}return Se!==b?m:ge.wrap<=0?1:(ge.wrap===2?(q(ge,255&V.adler),q(ge,V.adler>>8&255),q(ge,V.adler>>16&255),q(ge,V.adler>>24&255),q(ge,255&V.total_in),q(ge,V.total_in>>8&255),q(ge,V.total_in>>16&255),q(ge,V.total_in>>24&255)):(Z(ge,V.adler>>>16),Z(ge,65535&V.adler)),ae(V),0<ge.wrap&&(ge.wrap=-ge.wrap),ge.pending!==0?m:1)},i.deflateEnd=function(V){var Se;return V&&V.state?(Se=V.state.status)!==O&&Se!==69&&Se!==73&&Se!==91&&Se!==103&&Se!==z&&Se!==666?ie(V,x):(V.state=null,Se===z?ie(V,-3):m):x},i.deflateSetDictionary=function(V,Se){var te,ge,ce,ve,Ie,Pe,ke,Ke,lt=Se.length;if(!V||!V.state||(ve=(te=V.state).wrap)===2||ve===1&&te.status!==O||te.lookahead)return x;for(ve===1&&(V.adler=c(V.adler,Se,lt,0)),te.wrap=0,lt>=te.w_size&&(ve===0&&($(te.head),te.strstart=0,te.block_start=0,te.insert=0),Ke=new s.Buf8(te.w_size),s.arraySet(Ke,Se,lt-te.w_size,te.w_size,0),Se=Ke,lt=te.w_size),Ie=V.avail_in,Pe=V.next_in,ke=V.input,V.avail_in=lt,V.next_in=0,V.input=Se,se(te);te.lookahead>=B;){for(ge=te.strstart,ce=te.lookahead-(B-1);te.ins_h=(te.ins_h<<te.hash_shift^te.window[ge+B-1])&te.hash_mask,te.prev[ge&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=ge,ge++,--ce;);te.strstart=ge,te.lookahead=B-1,se(te)}return te.strstart+=te.lookahead,te.block_start=te.strstart,te.insert=te.lookahead,te.lookahead=0,te.match_length=te.prev_length=B-1,te.match_available=0,V.next_in=Pe,V.input=ke,V.avail_in=Ie,te.wrap=ve,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(a,s){var l,c,d,h,g,b,m,x,y,A,w,C,N,F,R,M,k,L,B,Q,j,O,z,T,G;l=a.state,c=a.next_in,T=a.input,d=c+(a.avail_in-5),h=a.next_out,G=a.output,g=h-(s-a.avail_out),b=h+(a.avail_out-257),m=l.dmax,x=l.wsize,y=l.whave,A=l.wnext,w=l.window,C=l.hold,N=l.bits,F=l.lencode,R=l.distcode,M=(1<<l.lenbits)-1,k=(1<<l.distbits)-1;e:do{N<15&&(C+=T[c++]<<N,N+=8,C+=T[c++]<<N,N+=8),L=F[C&M];t:for(;;){if(C>>>=B=L>>>24,N-=B,(B=L>>>16&255)===0)G[h++]=65535&L;else{if(!(16&B)){if((64&B)==0){L=F[(65535&L)+(C&(1<<B)-1)];continue t}if(32&B){l.mode=12;break e}a.msg="invalid literal/length code",l.mode=30;break e}Q=65535&L,(B&=15)&&(N<B&&(C+=T[c++]<<N,N+=8),Q+=C&(1<<B)-1,C>>>=B,N-=B),N<15&&(C+=T[c++]<<N,N+=8,C+=T[c++]<<N,N+=8),L=R[C&k];n:for(;;){if(C>>>=B=L>>>24,N-=B,!(16&(B=L>>>16&255))){if((64&B)==0){L=R[(65535&L)+(C&(1<<B)-1)];continue n}a.msg="invalid distance code",l.mode=30;break e}if(j=65535&L,N<(B&=15)&&(C+=T[c++]<<N,(N+=8)<B&&(C+=T[c++]<<N,N+=8)),m<(j+=C&(1<<B)-1)){a.msg="invalid distance too far back",l.mode=30;break e}if(C>>>=B,N-=B,(B=h-g)<j){if(y<(B=j-B)&&l.sane){a.msg="invalid distance too far back",l.mode=30;break e}if(z=w,(O=0)===A){if(O+=x-B,B<Q){for(Q-=B;G[h++]=w[O++],--B;);O=h-j,z=G}}else if(A<B){if(O+=x+A-B,(B-=A)<Q){for(Q-=B;G[h++]=w[O++],--B;);if(O=0,A<Q){for(Q-=B=A;G[h++]=w[O++],--B;);O=h-j,z=G}}}else if(O+=A-B,B<Q){for(Q-=B;G[h++]=w[O++],--B;);O=h-j,z=G}for(;2<Q;)G[h++]=z[O++],G[h++]=z[O++],G[h++]=z[O++],Q-=3;Q&&(G[h++]=z[O++],1<Q&&(G[h++]=z[O++]))}else{for(O=h-j;G[h++]=G[O++],G[h++]=G[O++],G[h++]=G[O++],2<(Q-=3););Q&&(G[h++]=G[O++],1<Q&&(G[h++]=G[O++]))}break}}break}}while(c<d&&h<b);c-=Q=N>>3,C&=(1<<(N-=Q<<3))-1,a.next_in=c,a.next_out=h,a.avail_in=c<d?d-c+5:5-(c-d),a.avail_out=h<b?b-h+257:257-(h-b),l.hold=C,l.bits=N}},{}],49:[function(t,r,i){var a=t("../utils/common"),s=t("./adler32"),l=t("./crc32"),c=t("./inffast"),d=t("./inftrees"),h=1,g=2,b=0,m=-2,x=1,y=852,A=592;function w(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function N(O){var z;return O&&O.state?(z=O.state,O.total_in=O.total_out=z.total=0,O.msg="",z.wrap&&(O.adler=1&z.wrap),z.mode=x,z.last=0,z.havedict=0,z.dmax=32768,z.head=null,z.hold=0,z.bits=0,z.lencode=z.lendyn=new a.Buf32(y),z.distcode=z.distdyn=new a.Buf32(A),z.sane=1,z.back=-1,b):m}function F(O){var z;return O&&O.state?((z=O.state).wsize=0,z.whave=0,z.wnext=0,N(O)):m}function R(O,z){var T,G;return O&&O.state?(G=O.state,z<0?(T=0,z=-z):(T=1+(z>>4),z<48&&(z&=15)),z&&(z<8||15<z)?m:(G.window!==null&&G.wbits!==z&&(G.window=null),G.wrap=T,G.wbits=z,F(O))):m}function M(O,z){var T,G;return O?(G=new C,(O.state=G).window=null,(T=R(O,z))!==b&&(O.state=null),T):m}var k,L,B=!0;function Q(O){if(B){var z;for(k=new a.Buf32(512),L=new a.Buf32(32),z=0;z<144;)O.lens[z++]=8;for(;z<256;)O.lens[z++]=9;for(;z<280;)O.lens[z++]=7;for(;z<288;)O.lens[z++]=8;for(d(h,O.lens,0,288,k,0,O.work,{bits:9}),z=0;z<32;)O.lens[z++]=5;d(g,O.lens,0,32,L,0,O.work,{bits:5}),B=!1}O.lencode=k,O.lenbits=9,O.distcode=L,O.distbits=5}function j(O,z,T,G){var W,X=O.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new a.Buf8(X.wsize)),G>=X.wsize?(a.arraySet(X.window,z,T-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(G<(W=X.wsize-X.wnext)&&(W=G),a.arraySet(X.window,z,T-G,W,X.wnext),(G-=W)?(a.arraySet(X.window,z,T-G,G,0),X.wnext=G,X.whave=X.wsize):(X.wnext+=W,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=W))),0}i.inflateReset=F,i.inflateReset2=R,i.inflateResetKeep=N,i.inflateInit=function(O){return M(O,15)},i.inflateInit2=M,i.inflate=function(O,z){var T,G,W,X,ie,ue,$,ae,U,q,Z,ee,se,we,ye,Ce,Oe,Le,He,We,V,Se,te,ge,ce=0,ve=new a.Buf8(4),Ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return m;(T=O.state).mode===12&&(T.mode=13),ie=O.next_out,W=O.output,$=O.avail_out,X=O.next_in,G=O.input,ue=O.avail_in,ae=T.hold,U=T.bits,q=ue,Z=$,Se=b;e:for(;;)switch(T.mode){case x:if(T.wrap===0){T.mode=13;break}for(;U<16;){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}if(2&T.wrap&&ae===35615){ve[T.check=0]=255&ae,ve[1]=ae>>>8&255,T.check=l(T.check,ve,2,0),U=ae=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&ae)<<8)+(ae>>8))%31){O.msg="incorrect header check",T.mode=30;break}if((15&ae)!=8){O.msg="unknown compression method",T.mode=30;break}if(U-=4,V=8+(15&(ae>>>=4)),T.wbits===0)T.wbits=V;else if(V>T.wbits){O.msg="invalid window size",T.mode=30;break}T.dmax=1<<V,O.adler=T.check=1,T.mode=512&ae?10:12,U=ae=0;break;case 2:for(;U<16;){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}if(T.flags=ae,(255&T.flags)!=8){O.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){O.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=ae>>8&1),512&T.flags&&(ve[0]=255&ae,ve[1]=ae>>>8&255,T.check=l(T.check,ve,2,0)),U=ae=0,T.mode=3;case 3:for(;U<32;){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}T.head&&(T.head.time=ae),512&T.flags&&(ve[0]=255&ae,ve[1]=ae>>>8&255,ve[2]=ae>>>16&255,ve[3]=ae>>>24&255,T.check=l(T.check,ve,4,0)),U=ae=0,T.mode=4;case 4:for(;U<16;){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}T.head&&(T.head.xflags=255&ae,T.head.os=ae>>8),512&T.flags&&(ve[0]=255&ae,ve[1]=ae>>>8&255,T.check=l(T.check,ve,2,0)),U=ae=0,T.mode=5;case 5:if(1024&T.flags){for(;U<16;){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}T.length=ae,T.head&&(T.head.extra_len=ae),512&T.flags&&(ve[0]=255&ae,ve[1]=ae>>>8&255,T.check=l(T.check,ve,2,0)),U=ae=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(ue<(ee=T.length)&&(ee=ue),ee&&(T.head&&(V=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),a.arraySet(T.head.extra,G,X,ee,V)),512&T.flags&&(T.check=l(T.check,G,ee,X)),ue-=ee,X+=ee,T.length-=ee),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(ue===0)break e;for(ee=0;V=G[X+ee++],T.head&&V&&T.length<65536&&(T.head.name+=String.fromCharCode(V)),V&&ee<ue;);if(512&T.flags&&(T.check=l(T.check,G,ee,X)),ue-=ee,X+=ee,V)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(ue===0)break e;for(ee=0;V=G[X+ee++],T.head&&V&&T.length<65536&&(T.head.comment+=String.fromCharCode(V)),V&&ee<ue;);if(512&T.flags&&(T.check=l(T.check,G,ee,X)),ue-=ee,X+=ee,V)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;U<16;){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}if(ae!==(65535&T.check)){O.msg="header crc mismatch",T.mode=30;break}U=ae=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),O.adler=T.check=0,T.mode=12;break;case 10:for(;U<32;){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}O.adler=T.check=w(ae),U=ae=0,T.mode=11;case 11:if(T.havedict===0)return O.next_out=ie,O.avail_out=$,O.next_in=X,O.avail_in=ue,T.hold=ae,T.bits=U,2;O.adler=T.check=1,T.mode=12;case 12:if(z===5||z===6)break e;case 13:if(T.last){ae>>>=7&U,U-=7&U,T.mode=27;break}for(;U<3;){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}switch(T.last=1&ae,U-=1,3&(ae>>>=1)){case 0:T.mode=14;break;case 1:if(Q(T),T.mode=20,z!==6)break;ae>>>=2,U-=2;break e;case 2:T.mode=17;break;case 3:O.msg="invalid block type",T.mode=30}ae>>>=2,U-=2;break;case 14:for(ae>>>=7&U,U-=7&U;U<32;){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}if((65535&ae)!=(ae>>>16^65535)){O.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&ae,U=ae=0,T.mode=15,z===6)break e;case 15:T.mode=16;case 16:if(ee=T.length){if(ue<ee&&(ee=ue),$<ee&&(ee=$),ee===0)break e;a.arraySet(W,G,X,ee,ie),ue-=ee,X+=ee,$-=ee,ie+=ee,T.length-=ee;break}T.mode=12;break;case 17:for(;U<14;){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}if(T.nlen=257+(31&ae),ae>>>=5,U-=5,T.ndist=1+(31&ae),ae>>>=5,U-=5,T.ncode=4+(15&ae),ae>>>=4,U-=4,286<T.nlen||30<T.ndist){O.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;U<3;){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}T.lens[Ie[T.have++]]=7&ae,ae>>>=3,U-=3}for(;T.have<19;)T.lens[Ie[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,te={bits:T.lenbits},Se=d(0,T.lens,0,19,T.lencode,0,T.work,te),T.lenbits=te.bits,Se){O.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;Ce=(ce=T.lencode[ae&(1<<T.lenbits)-1])>>>16&255,Oe=65535&ce,!((ye=ce>>>24)<=U);){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}if(Oe<16)ae>>>=ye,U-=ye,T.lens[T.have++]=Oe;else{if(Oe===16){for(ge=ye+2;U<ge;){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}if(ae>>>=ye,U-=ye,T.have===0){O.msg="invalid bit length repeat",T.mode=30;break}V=T.lens[T.have-1],ee=3+(3&ae),ae>>>=2,U-=2}else if(Oe===17){for(ge=ye+3;U<ge;){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}U-=ye,V=0,ee=3+(7&(ae>>>=ye)),ae>>>=3,U-=3}else{for(ge=ye+7;U<ge;){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}U-=ye,V=0,ee=11+(127&(ae>>>=ye)),ae>>>=7,U-=7}if(T.have+ee>T.nlen+T.ndist){O.msg="invalid bit length repeat",T.mode=30;break}for(;ee--;)T.lens[T.have++]=V}}if(T.mode===30)break;if(T.lens[256]===0){O.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,te={bits:T.lenbits},Se=d(h,T.lens,0,T.nlen,T.lencode,0,T.work,te),T.lenbits=te.bits,Se){O.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,te={bits:T.distbits},Se=d(g,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,te),T.distbits=te.bits,Se){O.msg="invalid distances set",T.mode=30;break}if(T.mode=20,z===6)break e;case 20:T.mode=21;case 21:if(6<=ue&&258<=$){O.next_out=ie,O.avail_out=$,O.next_in=X,O.avail_in=ue,T.hold=ae,T.bits=U,c(O,Z),ie=O.next_out,W=O.output,$=O.avail_out,X=O.next_in,G=O.input,ue=O.avail_in,ae=T.hold,U=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;Ce=(ce=T.lencode[ae&(1<<T.lenbits)-1])>>>16&255,Oe=65535&ce,!((ye=ce>>>24)<=U);){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}if(Ce&&(240&Ce)==0){for(Le=ye,He=Ce,We=Oe;Ce=(ce=T.lencode[We+((ae&(1<<Le+He)-1)>>Le)])>>>16&255,Oe=65535&ce,!(Le+(ye=ce>>>24)<=U);){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}ae>>>=Le,U-=Le,T.back+=Le}if(ae>>>=ye,U-=ye,T.back+=ye,T.length=Oe,Ce===0){T.mode=26;break}if(32&Ce){T.back=-1,T.mode=12;break}if(64&Ce){O.msg="invalid literal/length code",T.mode=30;break}T.extra=15&Ce,T.mode=22;case 22:if(T.extra){for(ge=T.extra;U<ge;){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}T.length+=ae&(1<<T.extra)-1,ae>>>=T.extra,U-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;Ce=(ce=T.distcode[ae&(1<<T.distbits)-1])>>>16&255,Oe=65535&ce,!((ye=ce>>>24)<=U);){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}if((240&Ce)==0){for(Le=ye,He=Ce,We=Oe;Ce=(ce=T.distcode[We+((ae&(1<<Le+He)-1)>>Le)])>>>16&255,Oe=65535&ce,!(Le+(ye=ce>>>24)<=U);){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}ae>>>=Le,U-=Le,T.back+=Le}if(ae>>>=ye,U-=ye,T.back+=ye,64&Ce){O.msg="invalid distance code",T.mode=30;break}T.offset=Oe,T.extra=15&Ce,T.mode=24;case 24:if(T.extra){for(ge=T.extra;U<ge;){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}T.offset+=ae&(1<<T.extra)-1,ae>>>=T.extra,U-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){O.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if($===0)break e;if(ee=Z-$,T.offset>ee){if((ee=T.offset-ee)>T.whave&&T.sane){O.msg="invalid distance too far back",T.mode=30;break}se=ee>T.wnext?(ee-=T.wnext,T.wsize-ee):T.wnext-ee,ee>T.length&&(ee=T.length),we=T.window}else we=W,se=ie-T.offset,ee=T.length;for($<ee&&(ee=$),$-=ee,T.length-=ee;W[ie++]=we[se++],--ee;);T.length===0&&(T.mode=21);break;case 26:if($===0)break e;W[ie++]=T.length,$--,T.mode=21;break;case 27:if(T.wrap){for(;U<32;){if(ue===0)break e;ue--,ae|=G[X++]<<U,U+=8}if(Z-=$,O.total_out+=Z,T.total+=Z,Z&&(O.adler=T.check=T.flags?l(T.check,W,Z,ie-Z):s(T.check,W,Z,ie-Z)),Z=$,(T.flags?ae:w(ae))!==T.check){O.msg="incorrect data check",T.mode=30;break}U=ae=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;U<32;){if(ue===0)break e;ue--,ae+=G[X++]<<U,U+=8}if(ae!==(4294967295&T.total)){O.msg="incorrect length check",T.mode=30;break}U=ae=0}T.mode=29;case 29:Se=1;break e;case 30:Se=-3;break e;case 31:return-4;case 32:default:return m}return O.next_out=ie,O.avail_out=$,O.next_in=X,O.avail_in=ue,T.hold=ae,T.bits=U,(T.wsize||Z!==O.avail_out&&T.mode<30&&(T.mode<27||z!==4))&&j(O,O.output,O.next_out,Z-O.avail_out)?(T.mode=31,-4):(q-=O.avail_in,Z-=O.avail_out,O.total_in+=q,O.total_out+=Z,T.total+=Z,T.wrap&&Z&&(O.adler=T.check=T.flags?l(T.check,W,Z,O.next_out-Z):s(T.check,W,Z,O.next_out-Z)),O.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(q==0&&Z===0||z===4)&&Se===b&&(Se=-5),Se)},i.inflateEnd=function(O){if(!O||!O.state)return m;var z=O.state;return z.window&&(z.window=null),O.state=null,b},i.inflateGetHeader=function(O,z){var T;return O&&O.state?(2&(T=O.state).wrap)==0?m:((T.head=z).done=!1,b):m},i.inflateSetDictionary=function(O,z){var T,G=z.length;return O&&O.state?(T=O.state).wrap!==0&&T.mode!==11?m:T.mode===11&&s(1,z,G,0)!==T.check?-3:j(O,z,G,G)?(T.mode=31,-4):(T.havedict=1,b):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var a=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,g,b,m,x,y,A,w){var C,N,F,R,M,k,L,B,Q,j=w.bits,O=0,z=0,T=0,G=0,W=0,X=0,ie=0,ue=0,$=0,ae=0,U=null,q=0,Z=new a.Buf16(16),ee=new a.Buf16(16),se=null,we=0;for(O=0;O<=15;O++)Z[O]=0;for(z=0;z<m;z++)Z[g[b+z]]++;for(W=j,G=15;1<=G&&Z[G]===0;G--);if(G<W&&(W=G),G===0)return x[y++]=20971520,x[y++]=20971520,w.bits=1,0;for(T=1;T<G&&Z[T]===0;T++);for(W<T&&(W=T),O=ue=1;O<=15;O++)if(ue<<=1,(ue-=Z[O])<0)return-1;if(0<ue&&(h===0||G!==1))return-1;for(ee[1]=0,O=1;O<15;O++)ee[O+1]=ee[O]+Z[O];for(z=0;z<m;z++)g[b+z]!==0&&(A[ee[g[b+z]]++]=z);if(k=h===0?(U=se=A,19):h===1?(U=s,q-=257,se=l,we-=257,256):(U=c,se=d,-1),O=T,M=y,ie=z=ae=0,F=-1,R=($=1<<(X=W))-1,h===1&&852<$||h===2&&592<$)return 1;for(;;){for(L=O-ie,Q=A[z]<k?(B=0,A[z]):A[z]>k?(B=se[we+A[z]],U[q+A[z]]):(B=96,0),C=1<<O-ie,T=N=1<<X;x[M+(ae>>ie)+(N-=C)]=L<<24|B<<16|Q|0,N!==0;);for(C=1<<O-1;ae&C;)C>>=1;if(C!==0?(ae&=C-1,ae+=C):ae=0,z++,--Z[O]==0){if(O===G)break;O=g[b+A[z]]}if(W<O&&(ae&R)!==F){for(ie===0&&(ie=W),M+=T,ue=1<<(X=O-ie);X+ie<G&&!((ue-=Z[X+ie])<=0);)X++,ue<<=1;if($+=1<<X,h===1&&852<$||h===2&&592<$)return 1;x[F=ae&R]=W<<24|X<<16|M-y|0}}return ae!==0&&(x[M+ae]=O-ie<<24|64<<16|0),w.bits=W,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var a=t("../utils/common"),s=0,l=1;function c(ce){for(var ve=ce.length;0<=--ve;)ce[ve]=0}var d=0,h=29,g=256,b=g+1+h,m=30,x=19,y=2*b+1,A=15,w=16,C=7,N=256,F=16,R=17,M=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(b+2));c(j);var O=new Array(2*m);c(O);var z=new Array(512);c(z);var T=new Array(256);c(T);var G=new Array(h);c(G);var W,X,ie,ue=new Array(m);function $(ce,ve,Ie,Pe,ke){this.static_tree=ce,this.extra_bits=ve,this.extra_base=Ie,this.elems=Pe,this.max_length=ke,this.has_stree=ce&&ce.length}function ae(ce,ve){this.dyn_tree=ce,this.max_code=0,this.stat_desc=ve}function U(ce){return ce<256?z[ce]:z[256+(ce>>>7)]}function q(ce,ve){ce.pending_buf[ce.pending++]=255&ve,ce.pending_buf[ce.pending++]=ve>>>8&255}function Z(ce,ve,Ie){ce.bi_valid>w-Ie?(ce.bi_buf|=ve<<ce.bi_valid&65535,q(ce,ce.bi_buf),ce.bi_buf=ve>>w-ce.bi_valid,ce.bi_valid+=Ie-w):(ce.bi_buf|=ve<<ce.bi_valid&65535,ce.bi_valid+=Ie)}function ee(ce,ve,Ie){Z(ce,Ie[2*ve],Ie[2*ve+1])}function se(ce,ve){for(var Ie=0;Ie|=1&ce,ce>>>=1,Ie<<=1,0<--ve;);return Ie>>>1}function we(ce,ve,Ie){var Pe,ke,Ke=new Array(A+1),lt=0;for(Pe=1;Pe<=A;Pe++)Ke[Pe]=lt=lt+Ie[Pe-1]<<1;for(ke=0;ke<=ve;ke++){var tt=ce[2*ke+1];tt!==0&&(ce[2*ke]=se(Ke[tt]++,tt))}}function ye(ce){var ve;for(ve=0;ve<b;ve++)ce.dyn_ltree[2*ve]=0;for(ve=0;ve<m;ve++)ce.dyn_dtree[2*ve]=0;for(ve=0;ve<x;ve++)ce.bl_tree[2*ve]=0;ce.dyn_ltree[2*N]=1,ce.opt_len=ce.static_len=0,ce.last_lit=ce.matches=0}function Ce(ce){8<ce.bi_valid?q(ce,ce.bi_buf):0<ce.bi_valid&&(ce.pending_buf[ce.pending++]=ce.bi_buf),ce.bi_buf=0,ce.bi_valid=0}function Oe(ce,ve,Ie,Pe){var ke=2*ve,Ke=2*Ie;return ce[ke]<ce[Ke]||ce[ke]===ce[Ke]&&Pe[ve]<=Pe[Ie]}function Le(ce,ve,Ie){for(var Pe=ce.heap[Ie],ke=Ie<<1;ke<=ce.heap_len&&(ke<ce.heap_len&&Oe(ve,ce.heap[ke+1],ce.heap[ke],ce.depth)&&ke++,!Oe(ve,Pe,ce.heap[ke],ce.depth));)ce.heap[Ie]=ce.heap[ke],Ie=ke,ke<<=1;ce.heap[Ie]=Pe}function He(ce,ve,Ie){var Pe,ke,Ke,lt,tt=0;if(ce.last_lit!==0)for(;Pe=ce.pending_buf[ce.d_buf+2*tt]<<8|ce.pending_buf[ce.d_buf+2*tt+1],ke=ce.pending_buf[ce.l_buf+tt],tt++,Pe===0?ee(ce,ke,ve):(ee(ce,(Ke=T[ke])+g+1,ve),(lt=k[Ke])!==0&&Z(ce,ke-=G[Ke],lt),ee(ce,Ke=U(--Pe),Ie),(lt=L[Ke])!==0&&Z(ce,Pe-=ue[Ke],lt)),tt<ce.last_lit;);ee(ce,N,ve)}function We(ce,ve){var Ie,Pe,ke,Ke=ve.dyn_tree,lt=ve.stat_desc.static_tree,tt=ve.stat_desc.has_stree,Me=ve.stat_desc.elems,xe=-1;for(ce.heap_len=0,ce.heap_max=y,Ie=0;Ie<Me;Ie++)Ke[2*Ie]!==0?(ce.heap[++ce.heap_len]=xe=Ie,ce.depth[Ie]=0):Ke[2*Ie+1]=0;for(;ce.heap_len<2;)Ke[2*(ke=ce.heap[++ce.heap_len]=xe<2?++xe:0)]=1,ce.depth[ke]=0,ce.opt_len--,tt&&(ce.static_len-=lt[2*ke+1]);for(ve.max_code=xe,Ie=ce.heap_len>>1;1<=Ie;Ie--)Le(ce,Ke,Ie);for(ke=Me;Ie=ce.heap[1],ce.heap[1]=ce.heap[ce.heap_len--],Le(ce,Ke,1),Pe=ce.heap[1],ce.heap[--ce.heap_max]=Ie,ce.heap[--ce.heap_max]=Pe,Ke[2*ke]=Ke[2*Ie]+Ke[2*Pe],ce.depth[ke]=(ce.depth[Ie]>=ce.depth[Pe]?ce.depth[Ie]:ce.depth[Pe])+1,Ke[2*Ie+1]=Ke[2*Pe+1]=ke,ce.heap[1]=ke++,Le(ce,Ke,1),2<=ce.heap_len;);ce.heap[--ce.heap_max]=ce.heap[1],function(_e,Ne){var ft,Ze,Mt,kt,Wt,Lt,Kt=Ne.dyn_tree,nn=Ne.max_code,un=Ne.stat_desc.static_tree,zn=Ne.stat_desc.has_stree,qn=Ne.stat_desc.extra_bits,Qr=Ne.stat_desc.extra_base,ar=Ne.stat_desc.max_length,Mn=0;for(kt=0;kt<=A;kt++)_e.bl_count[kt]=0;for(Kt[2*_e.heap[_e.heap_max]+1]=0,ft=_e.heap_max+1;ft<y;ft++)ar<(kt=Kt[2*Kt[2*(Ze=_e.heap[ft])+1]+1]+1)&&(kt=ar,Mn++),Kt[2*Ze+1]=kt,nn<Ze||(_e.bl_count[kt]++,Wt=0,Qr<=Ze&&(Wt=qn[Ze-Qr]),Lt=Kt[2*Ze],_e.opt_len+=Lt*(kt+Wt),zn&&(_e.static_len+=Lt*(un[2*Ze+1]+Wt)));if(Mn!==0){do{for(kt=ar-1;_e.bl_count[kt]===0;)kt--;_e.bl_count[kt]--,_e.bl_count[kt+1]+=2,_e.bl_count[ar]--,Mn-=2}while(0<Mn);for(kt=ar;kt!==0;kt--)for(Ze=_e.bl_count[kt];Ze!==0;)nn<(Mt=_e.heap[--ft])||(Kt[2*Mt+1]!==kt&&(_e.opt_len+=(kt-Kt[2*Mt+1])*Kt[2*Mt],Kt[2*Mt+1]=kt),Ze--)}}(ce,ve),we(Ke,xe,ce.bl_count)}function V(ce,ve,Ie){var Pe,ke,Ke=-1,lt=ve[1],tt=0,Me=7,xe=4;for(lt===0&&(Me=138,xe=3),ve[2*(Ie+1)+1]=65535,Pe=0;Pe<=Ie;Pe++)ke=lt,lt=ve[2*(Pe+1)+1],++tt<Me&&ke===lt||(tt<xe?ce.bl_tree[2*ke]+=tt:ke!==0?(ke!==Ke&&ce.bl_tree[2*ke]++,ce.bl_tree[2*F]++):tt<=10?ce.bl_tree[2*R]++:ce.bl_tree[2*M]++,Ke=ke,xe=(tt=0)===lt?(Me=138,3):ke===lt?(Me=6,3):(Me=7,4))}function Se(ce,ve,Ie){var Pe,ke,Ke=-1,lt=ve[1],tt=0,Me=7,xe=4;for(lt===0&&(Me=138,xe=3),Pe=0;Pe<=Ie;Pe++)if(ke=lt,lt=ve[2*(Pe+1)+1],!(++tt<Me&&ke===lt)){if(tt<xe)for(;ee(ce,ke,ce.bl_tree),--tt!=0;);else ke!==0?(ke!==Ke&&(ee(ce,ke,ce.bl_tree),tt--),ee(ce,F,ce.bl_tree),Z(ce,tt-3,2)):tt<=10?(ee(ce,R,ce.bl_tree),Z(ce,tt-3,3)):(ee(ce,M,ce.bl_tree),Z(ce,tt-11,7));Ke=ke,xe=(tt=0)===lt?(Me=138,3):ke===lt?(Me=6,3):(Me=7,4)}}c(ue);var te=!1;function ge(ce,ve,Ie,Pe){Z(ce,(d<<1)+(Pe?1:0),3),function(ke,Ke,lt,tt){Ce(ke),q(ke,lt),q(ke,~lt),a.arraySet(ke.pending_buf,ke.window,Ke,lt,ke.pending),ke.pending+=lt}(ce,ve,Ie)}i._tr_init=function(ce){te||(function(){var ve,Ie,Pe,ke,Ke,lt=new Array(A+1);for(ke=Pe=0;ke<h-1;ke++)for(G[ke]=Pe,ve=0;ve<1<<k[ke];ve++)T[Pe++]=ke;for(T[Pe-1]=ke,ke=Ke=0;ke<16;ke++)for(ue[ke]=Ke,ve=0;ve<1<<L[ke];ve++)z[Ke++]=ke;for(Ke>>=7;ke<m;ke++)for(ue[ke]=Ke<<7,ve=0;ve<1<<L[ke]-7;ve++)z[256+Ke++]=ke;for(Ie=0;Ie<=A;Ie++)lt[Ie]=0;for(ve=0;ve<=143;)j[2*ve+1]=8,ve++,lt[8]++;for(;ve<=255;)j[2*ve+1]=9,ve++,lt[9]++;for(;ve<=279;)j[2*ve+1]=7,ve++,lt[7]++;for(;ve<=287;)j[2*ve+1]=8,ve++,lt[8]++;for(we(j,b+1,lt),ve=0;ve<m;ve++)O[2*ve+1]=5,O[2*ve]=se(ve,5);W=new $(j,k,g+1,b,A),X=new $(O,L,0,m,A),ie=new $(new Array(0),B,0,x,C)}(),te=!0),ce.l_desc=new ae(ce.dyn_ltree,W),ce.d_desc=new ae(ce.dyn_dtree,X),ce.bl_desc=new ae(ce.bl_tree,ie),ce.bi_buf=0,ce.bi_valid=0,ye(ce)},i._tr_stored_block=ge,i._tr_flush_block=function(ce,ve,Ie,Pe){var ke,Ke,lt=0;0<ce.level?(ce.strm.data_type===2&&(ce.strm.data_type=function(tt){var Me,xe=4093624447;for(Me=0;Me<=31;Me++,xe>>>=1)if(1&xe&&tt.dyn_ltree[2*Me]!==0)return s;if(tt.dyn_ltree[18]!==0||tt.dyn_ltree[20]!==0||tt.dyn_ltree[26]!==0)return l;for(Me=32;Me<g;Me++)if(tt.dyn_ltree[2*Me]!==0)return l;return s}(ce)),We(ce,ce.l_desc),We(ce,ce.d_desc),lt=function(tt){var Me;for(V(tt,tt.dyn_ltree,tt.l_desc.max_code),V(tt,tt.dyn_dtree,tt.d_desc.max_code),We(tt,tt.bl_desc),Me=x-1;3<=Me&&tt.bl_tree[2*Q[Me]+1]===0;Me--);return tt.opt_len+=3*(Me+1)+5+5+4,Me}(ce),ke=ce.opt_len+3+7>>>3,(Ke=ce.static_len+3+7>>>3)<=ke&&(ke=Ke)):ke=Ke=Ie+5,Ie+4<=ke&&ve!==-1?ge(ce,ve,Ie,Pe):ce.strategy===4||Ke===ke?(Z(ce,2+(Pe?1:0),3),He(ce,j,O)):(Z(ce,4+(Pe?1:0),3),function(tt,Me,xe,_e){var Ne;for(Z(tt,Me-257,5),Z(tt,xe-1,5),Z(tt,_e-4,4),Ne=0;Ne<_e;Ne++)Z(tt,tt.bl_tree[2*Q[Ne]+1],3);Se(tt,tt.dyn_ltree,Me-1),Se(tt,tt.dyn_dtree,xe-1)}(ce,ce.l_desc.max_code+1,ce.d_desc.max_code+1,lt+1),He(ce,ce.dyn_ltree,ce.dyn_dtree)),ye(ce),Pe&&Ce(ce)},i._tr_tally=function(ce,ve,Ie){return ce.pending_buf[ce.d_buf+2*ce.last_lit]=ve>>>8&255,ce.pending_buf[ce.d_buf+2*ce.last_lit+1]=255&ve,ce.pending_buf[ce.l_buf+ce.last_lit]=255&Ie,ce.last_lit++,ve===0?ce.dyn_ltree[2*Ie]++:(ce.matches++,ve--,ce.dyn_ltree[2*(T[Ie]+g+1)]++,ce.dyn_dtree[2*U(ve)]++),ce.last_lit===ce.lit_bufsize-1},i._tr_align=function(ce){Z(ce,2,3),ee(ce,N,j),function(ve){ve.bi_valid===16?(q(ve,ve.bi_buf),ve.bi_buf=0,ve.bi_valid=0):8<=ve.bi_valid&&(ve.pending_buf[ve.pending++]=255&ve.bi_buf,ve.bi_buf>>=8,ve.bi_valid-=8)}(ce)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(a){(function(s,l){if(!s.setImmediate){var c,d,h,g,b=1,m={},x=!1,y=s.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(s);A=A&&A.setTimeout?A:s,c={}.toString.call(s.process)==="[object process]"?function(F){process.nextTick(function(){C(F)})}:function(){if(s.postMessage&&!s.importScripts){var F=!0,R=s.onmessage;return s.onmessage=function(){F=!1},s.postMessage("","*"),s.onmessage=R,F}}()?(g="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",N,!1):s.attachEvent("onmessage",N),function(F){s.postMessage(g+F,"*")}):s.MessageChannel?((h=new MessageChannel).port1.onmessage=function(F){C(F.data)},function(F){h.port2.postMessage(F)}):y&&"onreadystatechange"in y.createElement("script")?(d=y.documentElement,function(F){var R=y.createElement("script");R.onreadystatechange=function(){C(F),R.onreadystatechange=null,d.removeChild(R),R=null},d.appendChild(R)}):function(F){setTimeout(C,0,F)},A.setImmediate=function(F){typeof F!="function"&&(F=new Function(""+F));for(var R=new Array(arguments.length-1),M=0;M<R.length;M++)R[M]=arguments[M+1];var k={callback:F,args:R};return m[b]=k,c(b),b++},A.clearImmediate=w}function w(F){delete m[F]}function C(F){if(x)setTimeout(C,0,F);else{var R=m[F];if(R){x=!0;try{(function(M){var k=M.callback,L=M.args;switch(L.length){case 0:k();break;case 1:k(L[0]);break;case 2:k(L[0],L[1]);break;case 3:k(L[0],L[1],L[2]);break;default:k.apply(l,L)}})(R)}finally{w(F),x=!1}}}}function N(F){F.source===s&&typeof F.data=="string"&&F.data.indexOf(g)===0&&C(+F.data.slice(g.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(pw)),pw.exports}var fJ=dJ();const hJ=ns(fJ),pJ=async(e,n,t)=>{const r=new hJ,i=["timestamp,question,answer"];n.forEach(({timestamp:c,question:d,answer:h})=>{i.push(`"${new Date(c).toLocaleString()}","${d.replace(/"/g,'""')}","${h.replace(/"/g,'""')}"`)}),r.file(`${e}.csv`,i.join(`
`)),r.file(`${e}_metadata.json`,JSON.stringify(t,null,4));const a=await r.generateAsync({type:"blob"}),s=URL.createObjectURL(a),l=document.createElement("a");l.href=s,l.download=`${e}.zip`,document.body.appendChild(l),l.click(),document.body.removeChild(l)},mJ=Fc(me)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"600px",maxHeight:"80vh",overflowY:"auto",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0px 5px 15px rgba(0,0,0,0.2)",padding:"20px"}),gJ=Fc(me)({marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"}),bJ=({open:e,onClose:n,conversationHistory:t,conversationId:r,conversationHistoryError:i,chatbotDetails:a,userId:s,startedAt:l})=>{const c=async()=>{const d={conversationId:r,userId:s,chatbotId:a.chatbotId,chatbotTitle:a.chatbotTitle,startedAt:new Date(l).toLocaleString(),courseTitle:a.courseTitle,courseId:a.courseId,materialTitle:a.materialTitle,materialId:a.materialId,materialLink:a.materialLink,chatbotCreatedBy:a.chatbotCreatedBy,chatbotCreatedAt:new Date(a.chatbotCreatedAt).toLocaleString()};await pJ(r,t,d)};return f.jsx(Cx,{open:e,onClose:n,children:f.jsxs(mJ,{children:[f.jsxs(gJ,{children:[f.jsxs(de,{variant:"h6",children:["Conversation History for ",r]}),f.jsx(si,{title:"Download ZIP",children:f.jsx(Cn,{onClick:c,"aria-label":"Download as ZIP",children:f.jsx(hI,{})})})]}),i&&f.jsx(de,{color:"error",sx:{marginBottom:"20px"},children:i}),t.length===0?f.jsx(de,{children:"No messages found in this conversation."}):f.jsx($f,{children:t.map((d,h)=>f.jsx(Ed,{sx:{padding:"10px 0"},children:f.jsx(Il,{primary:`Q: ${d.question}`,secondary:`A: ${d.answer} (${new Date(d.timestamp).toLocaleString()})`})},h))}),f.jsx(At,{variant:"contained",onClick:n,style:{marginTop:"20px",backgroundColor:"#000",color:"#fff"},children:"Close"})]})})},yJ=({totalItems:e,itemsPerPage:n,currentPage:t,onPageChange:r})=>{const i=Math.ceil(e/n),a=()=>{t>1&&r(t-1)},s=()=>{t<i&&r(t+1)};return f.jsxs(me,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3},children:[f.jsx(At,{variant:"outlined",disabled:t===1,onClick:a,children:"Previous"}),f.jsxs(de,{variant:"body1",children:["Page ",t," of ",i]}),f.jsx(At,{variant:"outlined",disabled:t===i,onClick:s,children:"Next"})]})},xJ=({chatbotId:e})=>{const n=Jn(),[t,r]=K.useState(null),[i,a]=K.useState(!0),[s,l]=K.useState(null);if(K.useEffect(()=>{e!=="All"&&(async()=>{a(!0),l(null);try{const C=nl(wn(n,"chatbots"),Si("chatbotId","==",e)),N=await mi(C);N.empty?l("Chatbot details not found!"):r(N.docs[0].data())}catch(C){console.error("Error fetching chatbot details:",C),l("Failed to fetch chatbot details.")}finally{a(!1)}})()},[n,e]),i)return f.jsx(me,{sx:{mt:3},children:f.jsx(Gr,{})});if(s)return f.jsx(de,{variant:"body1",color:"error",sx:{mt:3},children:s});if(!t)return null;const{title:c="N/A",courseId:d,createdBy:h="Unknown",timestamp:g,material:b}=t,m=(d==null?void 0:d.title)||"N/A",x=(b==null?void 0:b.title)||"N/A",y=(b==null?void 0:b.id)||"N/A",A=`https://institute-for-future-intelligence.github.io/nexlab/view-material/${y}`;return f.jsxs(me,{sx:{mt:3,p:2,border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[f.jsx(de,{variant:"h6",children:"Chatbot Details"}),f.jsxs(de,{variant:"body1",children:[f.jsx("strong",{children:"Title:"})," ",c]}),f.jsxs(de,{variant:"body1",children:[f.jsx("strong",{children:"Course:"})," ",m]}),f.jsxs(de,{variant:"body1",children:[f.jsx("strong",{children:"Material:"})," ",y!=="N/A"?f.jsx(A6,{href:A,target:"_blank",rel:"noopener noreferrer",children:x}):x]}),f.jsx(ts,{sx:{my:2}}),f.jsxs(de,{variant:"body1",children:[f.jsx("strong",{children:"Created By:"})," ",h]}),f.jsxs(de,{variant:"body1",children:[f.jsx("strong",{children:"Created At:"})," ",g?new Date(g).toLocaleString():"N/A"]})]})},_4=Fc(At)({width:100,height:40,display:"flex",alignItems:"center",justifyContent:"center"}),vJ=({open:e,onClose:n,onConfirm:t,conversationId:r,deleting:i})=>f.jsxs(Xi,{open:e,onClose:n,children:[f.jsx(pa,{children:"Confirm Deletion"}),f.jsx(Zi,{children:f.jsxs(Fl,{children:["Are you sure you want to delete the conversation with ID: ",f.jsx("strong",{children:r}),"? This action cannot be undone."]})}),f.jsxs(ma,{children:[f.jsx(_4,{onClick:n,color:"primary",variant:"outlined",children:"Cancel"}),f.jsx(_4,{onClick:t,color:"error",disabled:i,children:i?f.jsx(Gr,{size:20,color:"inherit"}):"Delete"})]})]}),wJ=()=>{const e=Jn();ea();const[n,t]=K.useState([]),[r,i]=K.useState([]),[a,s]=K.useState(1),[l]=K.useState(10),[c,d]=K.useState(!0),[h,g]=K.useState(null),[b,m]=K.useState([]),[x,y]=K.useState(null),[A,w]=K.useState(!1),[C,N]=K.useState(null),[F,R]=K.useState({}),M="https://rag-flask-api.onrender.com",[k,L]=K.useState([]),[B,Q]=K.useState([]),[j,O]=K.useState("All"),[z,T]=K.useState("All"),[G,W]=K.useState(null),[X,ie]=K.useState(null),[ue,$]=K.useState(!1),[ae,U]=K.useState(null),[q,Z]=K.useState(!1),[ee,se]=K.useState({open:!1,message:"",type:"success"}),we=()=>{se(te=>({...te,open:!1}))};K.useEffect(()=>{(async()=>{try{const ce=(await mi(wn(e,"conversations"))).docs.map(Pe=>({id:Pe.id,...Pe.data()}));t(ce);const ve=Array.from(new Set(ce.map(Pe=>Pe.chatbotId)));L(ce.length>0?["All",...ve]:[]);const Ie=Array.from(new Set(ce.map(Pe=>Pe.userId)));Q(ce.length>0?["All",...Ie]:[]),i(ce)}catch(ge){console.error("Error fetching chatbot conversations:",ge),g("Failed to load conversations. Please try again later.")}finally{d(!1)}})()},[e]);const ye=(te,ge)=>{te==="chatbot"?O(ge):T(ge);const ce=te==="chatbot"?ge:j,ve=te==="user"?ge:z;let Ie=n;ce!=="All"&&(Ie=Ie.filter(Pe=>Pe.chatbotId===ce)),ve!=="All"&&(Ie=Ie.filter(Pe=>Pe.userId===ve)),i(Ie),ce==="All"&&ve==="All"&&i(n),s(1)},Ce=async(te,ge,ce,ve)=>{var Ie,Pe,ke,Ke,lt;R(tt=>({...tt,[ge]:!0})),y(null);try{const tt=await ga.get(`${M}/conversations/${te}/${ge}`);m(tt.data);const _e=(await(async()=>{try{const Ne=new Map;return(await mi(wn(e,"chatbots"))).forEach(Ze=>{Ne.set(Ze.data().chatbotId,Ze.data())}),Ne}catch(Ne){return console.error("Error fetching chatbots:",Ne),new Map}})()).get(te);W(_e?{chatbotId:te,chatbotTitle:_e.title||"N/A",courseTitle:((Ie=_e.courseId)==null?void 0:Ie.title)||"N/A",courseId:((Pe=_e.courseId)==null?void 0:Pe.id)||"N/A",materialTitle:((ke=_e.material)==null?void 0:ke.title)||"N/A",materialId:((Ke=_e.material)==null?void 0:Ke.id)||"N/A",materialLink:`https://institute-for-future-intelligence.github.io/nexlab/view-material/${((lt=_e.material)==null?void 0:lt.id)||""}`,chatbotCreatedBy:_e.createdBy||"Unknown",chatbotCreatedAt:_e.timestamp||"N/A"}:null),ie({userId:ce,startedAt:ve}),N({chatbotId:te,conversationId:ge}),w(!0)}catch(tt){console.error("Error fetching conversation or chatbot details:",tt),y("Failed to fetch conversation history or chatbot details.")}finally{R(tt=>({...tt,[ge]:!1}))}},Oe=a*l,Le=Oe-l,He=r.slice(Le,Oe);if(c)return f.jsx(me,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Gr,{})});if(h)return f.jsx(me,{sx:{textAlign:"center",mt:4},children:f.jsx(de,{variant:"h6",color:"error",children:h})});const We=te=>{U(te),$(!0)},V=()=>{$(!1),U(null)},Se=async()=>{if(ae){Z(!0);try{await _6(xn(e,"conversations",ae)),t(te=>te.filter(ge=>ge.id!==ae)),i(te=>te.filter(ge=>ge.id!==ae)),se({open:!0,message:"Conversation deleted successfully.",type:"success"}),V()}catch(te){console.error("Error deleting conversation:",te),se({open:!0,message:"Failed to delete the conversation. Please try again.",type:"error"})}finally{Z(!1),V()}}};return f.jsxs(me,{className:"profile-container",sx:{p:4},children:[f.jsx(Pl,{title:"Chatbot Conversations"}),f.jsxs(me,{sx:{display:"flex",gap:2,mb:3},children:[f.jsxs(Pc,{sx:{minWidth:200},children:[f.jsx(zc,{id:"filter-chatbot-id",children:"Filter by Chatbot ID"}),f.jsx(Rl,{labelId:"filter-chatbot-id",value:j,onChange:te=>ye("chatbot",te.target.value),children:k.length>0?k.map(te=>f.jsx(Zn,{value:te,children:te},te)):f.jsx(Zn,{value:"",disabled:!0,children:"No Chatbots Available"})})]}),f.jsxs(Pc,{sx:{minWidth:200},children:[f.jsx(zc,{id:"filter-user-id",children:"Filter by User ID"}),f.jsx(Rl,{labelId:"filter-user-id",value:z,onChange:te=>ye("user",te.target.value),children:B.map(te=>f.jsx(Zn,{value:te,children:te},te))})]})]}),j!=="All"&&f.jsx(xJ,{chatbotId:j}),f.jsxs(me,{className:"profile-container",sx:{p:4},children:[f.jsx(LX,{conversations:He,onViewHistory:(te,ge,ce,ve)=>Ce(te,ge,ce,ve),onDeleteConversation:We,loadingMap:F}),f.jsx(vJ,{open:ue,onClose:V,onConfirm:Se,conversationId:ae||"",deleting:q})]}),f.jsx(yJ,{totalItems:r.length,itemsPerPage:l,currentPage:a,onPageChange:s}),C&&G&&X&&f.jsx(bJ,{open:A,onClose:()=>{w(!1),N(null)},conversationHistory:b,conversationId:C.conversationId,conversationHistoryError:x,chatbotDetails:G,userId:X.userId,startedAt:X.startedAt}),f.jsx(rl,{open:ee.open,autoHideDuration:3e3,onClose:we,message:ee.message,anchorOrigin:{vertical:"top",horizontal:"center"},ContentProps:{style:{backgroundColor:ee.type==="success"?"#4caf50":"#f44336"}}})]})},SJ=()=>{const[e,n]=K.useState([]),[t,r]=K.useState(!0),[i,a]=K.useState({}),[s,l]=K.useState(!1),[c,d]=K.useState(""),[h,g]=K.useState("success");ea(),K.useEffect(()=>{(async()=>{const M=Jn(),k=wn(M,"chatbotRequests");try{const B=(await mi(k)).docs.map(Q=>({id:Q.id,...Q.data()}));n(B)}catch(L){console.error("Error fetching chatbot requests:",L)}finally{r(!1)}})()},[]);const b=async R=>{const M=i[R];if(!M){d("Please assign a Chatbot ID before approving the request."),g("error"),l(!0);return}try{const k=Jn(),L=xn(k,"chatbotRequests",R),B=await Oa(L);if(!B.exists()){d("Request not found. Please refresh the page."),g("error"),l(!0);return}const Q=B.data();if(Q.status!=="pending"){d("This request has already been processed."),g("warning"),l(!0);return}await Wr(L,{status:"approved",chatbotId:M});const j={chatbotId:M,title:Q.title,courseId:{id:Q.courseId,number:Q.courseNumber,title:Q.courseTitle},material:{id:Q.materialId||null,title:Q.materialTitle||"N/A"},createdBy:Q.educatorId,files:Q.files,timestamp:new Date().toISOString()};await Ma(wn(k,"chatbots"),j),n(O=>O.map(z=>z.id===R?{...z,status:"approved",chatbotId:M}:z)),d("Chatbot request approved and chatbot created successfully!"),g("success"),l(!0)}catch(k){console.error("Error approving chatbot request or creating chatbot:",k),d("Failed to approve the request and create the chatbot. Please try again."),g("error"),l(!0)}},m=()=>{l(!1)},[x,y]=K.useState(0),[A,w]=K.useState(5),C=(R,M)=>y(M),N=R=>{w(parseInt(R.target.value,10)),y(0)},F=(R,M)=>{a(k=>({...k,[R]:M}))};return t?f.jsx(me,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:f.jsx(Gr,{})}):e.length===0?f.jsx(de,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):f.jsxs(me,{className:"profile-container",sx:{p:4},children:[f.jsx(Pl,{title:"Chatbot Requests Management"}),f.jsx(de,{variant:"body1",sx:{mb:3},children:"Manage chatbot requests submitted by educators. Approve requests and assign Chatbot IDs."}),f.jsxs(_u,{component:fn,elevation:3,sx:{maxHeight:"70vh",overflow:"auto"},children:[f.jsxs(ku,{stickyHeader:!0,children:[f.jsx(ju,{children:f.jsxs(Fi,{children:[f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Educator ID"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course ID"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material ID"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Chatbot ID"}),f.jsx(dt,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Action"})]})}),f.jsx(Nu,{children:e.slice(x*A,x*A+A).map((R,M)=>{var k;return f.jsxs(Fi,{sx:{backgroundColor:M%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[f.jsx(dt,{children:R.title}),f.jsx(dt,{children:`${R.courseNumber} - ${R.courseTitle}`}),f.jsx(dt,{children:R.materialTitle||"N/A"}),f.jsx(dt,{children:R.educatorId}),f.jsx(dt,{children:R.courseId}),f.jsx(dt,{children:R.materialId||"N/A"}),f.jsx(dt,{children:new Date(R.timestamp).toLocaleString()}),f.jsx(dt,{children:f.jsx(de,{variant:"body2",sx:{color:R.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:R.status})}),f.jsx(dt,{children:(k=R.files)!=null&&k.length?R.files.map((L,B)=>f.jsx(pI,{filePath:L,fileLabel:`File ${B+1}`},B)):f.jsx(de,{variant:"body2",children:"No files uploaded"})}),f.jsx(dt,{children:R.status==="approved"?f.jsx(de,{variant:"body2",sx:{fontWeight:"bold"},children:R.chatbotId}):f.jsx(Bt,{size:"small",value:i[R.id]||"",onChange:L=>F(R.id,L.target.value),placeholder:"Enter Chatbot ID",sx:{width:"150px"}})}),f.jsx(dt,{children:f.jsx(At,{variant:"contained",color:"primary",onClick:()=>b(R.id),disabled:R.status==="approved",sx:{fontWeight:"bold"},children:R.status==="approved"?"Approved":"Approve"})})]},R.id)})})]}),f.jsx(wR,{rowsPerPageOptions:[5,10,25],component:"div",count:e.length,rowsPerPage:A,page:x,onPageChange:C,onRowsPerPageChange:N,"aria-label":"Chatbot requests pagination",sx:{mt:2}})]}),f.jsx(rl,{open:s,autoHideDuration:6e3,onClose:m,children:f.jsx(vr,{onClose:m,severity:h,sx:{width:"100%"},children:c})})]})},Eg=Jn(),_g={CHATBOTS:"chatbots",QUIZ_SESSIONS:"quizSessions",QUIZ_EVENTS:"quizEvents",USERS:"users"},AJ=async()=>{var e,n,t,r;try{console.log(" Loading chatbots with quiz information...");const i=nl(wn(Eg,_g.CHATBOTS),iv("timestamp","desc")),a=await mi(i),s=[];for(const l of a.docs){const c=l.data(),d={chatbotId:c.chatbotId,title:c.title||"Untitled Chatbot",materialTitle:((e=c.material)==null?void 0:e.title)||"Unknown Material",materialId:((n=c.material)==null?void 0:n.id)||"",courseId:((t=c.courseId)==null?void 0:t.id)||"",courseTitle:((r=c.courseId)==null?void 0:r.title)||"Unknown Course",createdBy:c.createdBy||"",timestamp:c.timestamp||new Date().toISOString(),quizId:null,hasQuiz:!0};s.push(d)}for(const l of s)try{const c=nl(wn(Eg,_g.QUIZ_SESSIONS),Si("chatbotId","==",l.chatbotId),av(1)),d=await mi(c);if(!d.empty){const h=d.docs[0].data();l.quizId=h.quizId||null}}catch(c){console.warn(` Could not fetch quiz ID for chatbot ${l.chatbotId}:`,c),l.quizId=null}return console.log(` Loaded ${s.length} chatbots with quiz information`),s}catch(i){throw console.error(" Error loading chatbots with quizzes:",i),i}},CJ=async(e={},n=100,t)=>{var r,i;try{console.log(" Loading enhanced quiz sessions with filters:",e);const a=wn(Eg,_g.QUIZ_SESSIONS),s=[];e.chatbotId&&s.push(Si("chatbotId","==",e.chatbotId)),e.difficulty&&e.difficulty!=="all"&&s.push(Si("difficulty","==",e.difficulty)),e.completionStatus&&e.completionStatus!=="all"&&s.push(Si("completed","==",e.completionStatus==="completed")),e.userId&&s.push(Si("userId","==",e.userId)),e.dateRange&&(s.push(Si("startedAt",">=",Ja.fromDate(new Date(e.dateRange.start)))),s.push(Si("startedAt","<=",Ja.fromDate(new Date(e.dateRange.end))))),s.push(iv("startedAt","desc")),s.push(av(n));const l=nl(a,...s),c=await mi(l),d=[],h=new Map;for(const m of c.docs){const x=m.data();let y=h.get(x.userId);if(!y){const F=x.userId.length>12?`${x.userId.substring(0,8)}...${x.userId.slice(-4)}`:x.userId.substring(0,12);y={email:F,displayName:`User ${F}`},h.set(x.userId,y)}let A,w;if(x.startedAt&&x.submittedAt){const F=x.startedAt.toMillis(),R=x.submittedAt.toMillis(),M=Math.round((R-F)/1e3),k=Math.floor(M/60),L=M%60;A=M,w=`${k}m ${L}s`}const C=Object.keys(x.finalAnswers||{}).length,N={id:m.id,quizId:x.quizId,chatbotId:x.chatbotId,userId:x.userId,userEmail:y.email,userName:y.displayName,difficulty:x.difficulty,startedAt:x.startedAt.toDate().toISOString(),submittedAt:(r=x.submittedAt)==null?void 0:r.toDate().toISOString(),closedAt:(i=x.closedAt)==null?void 0:i.toDate().toISOString(),completed:x.completed,answers:x.finalAnswers||{},summary:x.summary,questionsAttempted:C,timeSpent:A,timeSpentFormatted:w};d.push(N)}const g=c.docs.length===n,b=c.docs.length>0?c.docs[c.docs.length-1]:void 0;return console.log(` Loaded ${d.length} enhanced quiz sessions`),{sessions:d,hasMore:g,lastDoc:b}}catch(a){throw console.error(" Error loading enhanced quiz sessions:",a),a}},EJ=async e=>{var n;try{console.log(" Loading quiz pool for quiz:",e);const t=nl(wn(Eg,_g.QUIZ_SESSIONS),Si("quizId","==",e),iv("startedAt","desc"),av(50)),r=await mi(t),i=new Set,a=new Map;for(const g of r.docs){const b=g.data();(n=b.summary)!=null&&n.items&&Object.keys(b.summary.items).forEach(m=>{i.add(m)}),b.finalAnswers&&Object.entries(b.finalAnswers).forEach(([m,x])=>{i.add(m),a.has(m)||a.set(m,x)})}const s=Array.from(i).map(g=>{const b=a.get(g)||"",m=b.length>0?`Question about: ${b.split(" ").slice(0,10).join(" ")}${b.split(" ").length>10?"...":""}`:"Question text not available";return{questionId:g,question:m,category:"Biology Fundamentals",difficulty:"medium",maxScore:100}}),l=s.length>0?s:[{questionId:"no-sessions-found",question:"No quiz sessions found for this quiz ID. Question IDs will appear here once students take quizzes.",category:"Biology Fundamentals",difficulty:"medium",maxScore:100}],c={},d={easy:0,medium:0,hard:0};l.forEach(g=>{c[g.category]=(c[g.category]||0)+1,d[g.difficulty]=(d[g.difficulty]||0)+1});const h={quizId:e,chatbotId:e,questions:l,categoryCounts:c,difficultyBreakdown:d,totalQuestions:l.length,lastUpdated:new Date().toISOString()};return console.log(` Loaded quiz pool with ${l.length} real question IDs from ${r.docs.length} sessions`),h}catch(t){throw console.error(" Error loading quiz pool:",t),t}},_J=e=>{try{console.log(" Generating quiz analytics from",e.length,"sessions");const n=e.filter(h=>h.completed&&h.summary),t=e.length,r=t>0?n.length/t*100:0,i=n.length>0?n.reduce((h,g)=>{var b;return h+(((b=g.summary)==null?void 0:b.percent)||0)},0)/n.length:0,a=e.filter(h=>h.timeSpent).length>0?Math.round(e.filter(h=>h.timeSpent).reduce((h,g)=>h+(g.timeSpent||0),0)/e.filter(h=>h.timeSpent).length):0,s={easy:0,medium:0,hard:0};e.forEach(h=>{s[h.difficulty]=(s[h.difficulty]||0)+1});const l={};n.forEach(h=>{var g;(g=h.summary)!=null&&g.items&&Object.values(h.summary.items).forEach(b=>{const m="Mixed Questions";l[m]||(l[m]={averageScore:0,totalAttempts:0,successRate:0}),l[m].totalAttempts+=1,l[m].averageScore+=b.score,b.verdict==="correct"&&(l[m].successRate+=1)})}),Object.keys(l).forEach(h=>{const g=l[h];g.totalAttempts>0&&(g.averageScore=g.averageScore/g.totalAttempts,g.successRate=g.successRate/g.totalAttempts*100)});const c={daily:{},weekly:{},monthly:{}};e.forEach(h=>{const g=new Date(h.startedAt),b=g.toISOString().split("T")[0],m=`${g.getFullYear()}-W${Math.ceil(g.getDate()/7)}`,x=`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}`;c.daily[b]=(c.daily[b]||0)+1,c.weekly[m]=(c.weekly[m]||0)+1,c.monthly[x]=(c.monthly[x]||0)+1});const d={totalSessions:t,completionRate:r,averageScore:i,averageTimeSpent:a,difficultyDistribution:s,categoryPerformance:l,timeBasedStats:c};return console.log(" Generated quiz analytics:",d),d}catch(n){throw console.error(" Error generating quiz analytics:",n),n}},kJ=async e=>{var n;try{console.log(" Exporting quiz session data for:",e);const t=await Oa(xn(Eg,_g.QUIZ_SESSIONS,e));if(!t.exists())throw new Error("Quiz session not found");const r=t.data(),i={sessionId:e,quizId:r.quizId,chatbotId:r.chatbotId,userId:r.userId,difficulty:r.difficulty,startedAt:r.startedAt.toDate().toISOString(),submittedAt:(n=r.submittedAt)==null?void 0:n.toDate().toISOString(),completed:r.completed,answers:r.finalAnswers||{},summary:r.summary,exportedAt:new Date().toISOString()},a=JSON.stringify(i,null,2),s=new Blob([a],{type:"application/json"});return console.log(" Quiz session data exported successfully"),s}catch(t){throw console.error(" Error exporting quiz session data:",t),t}},k4={difficulty:"all",completionStatus:"all"},qI=xp()(Ug(ov((e,n)=>({courses:[],selectedCourse:null,chatbotsWithQuizzes:[],filteredChatbots:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,filters:k4,selectedSession:null,loadChatbotsWithQuizzes:async()=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading chatbots with quizzes...");const t=await AJ(),r=new Map;t.forEach(a=>{r.has(a.courseId)||r.set(a.courseId,{courseId:a.courseId,courseTitle:a.courseTitle,chatbotCount:0,quizCount:0});const s=r.get(a.courseId);s.chatbotCount++,a.quizId&&s.quizCount++});const i=Array.from(r.values()).sort((a,s)=>a.courseTitle.localeCompare(s.courseTitle));e({chatbotsWithQuizzes:t,courses:i,filteredChatbots:t,loading:!1}),console.log(` Loaded ${t.length} chatbots with quiz information from ${i.length} courses`)}catch(t){console.error(" Failed to load chatbots with quizzes:",t),e({error:t instanceof Error?t.message:"Failed to load chatbots",loading:!1})}},selectCourse:t=>{console.log(" Quiz Management Store: Selecting course:",t==null?void 0:t.courseId);const{chatbotsWithQuizzes:r}=n(),i=t?r.filter(a=>a.courseId===t.courseId):r;e({selectedCourse:t,filteredChatbots:i,selectedChatbot:null,selectedSession:null,quizSessions:[]})},selectChatbot:t=>{console.log(" Quiz Management Store: Selecting chatbot:",t==null?void 0:t.chatbotId),e({selectedChatbot:t,selectedSession:null,filters:{...n().filters,chatbotId:t==null?void 0:t.chatbotId}}),t&&n().loadQuizSessions(t.chatbotId)},loadQuizSessions:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading quiz sessions for chatbot:",t);const r=n().filters,i=t?{...r,chatbotId:t}:r,a=await CJ(i);e({quizSessions:a.sessions,loading:!1}),n().generateAnalytics(),console.log(` Loaded ${a.sessions.length} enhanced quiz sessions`)}catch(r){console.error(" Failed to load quiz sessions:",r),e({error:r instanceof Error?r.message:"Failed to load quiz sessions",loading:!1})}},loadQuizPool:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Loading quiz pool for:",t);const r=await EJ(t);e(i=>({quizPools:{...i.quizPools,[t]:r},loading:!1})),console.log(` Loaded quiz pool with ${r.totalQuestions} questions`)}catch(r){console.error(" Failed to load quiz pool:",r),e({error:r instanceof Error?r.message:"Failed to load quiz pool",loading:!1})}},updateFilters:t=>{const r={...n().filters,...t};console.log(" Quiz Management Store: Updating filters:",r),e({filters:r}),n().loadQuizSessions(r.chatbotId)},selectSession:t=>{console.log(" Quiz Management Store: Selecting session:",t==null?void 0:t.id),e({selectedSession:t})},generateAnalytics:()=>{try{const{quizSessions:t}=n();console.log(" Quiz Management Store: Generating analytics from",t.length,"sessions");const r=_J(t);e({analytics:r}),console.log(" Generated quiz analytics successfully")}catch(t){console.error(" Failed to generate analytics:",t),e({error:t instanceof Error?t.message:"Failed to generate analytics"})}},exportSessionData:async t=>{try{e({loading:!0,error:null}),console.log(" Quiz Management Store: Exporting session data for:",t);const r=await kJ(t),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=`quiz-session-${t}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i),e({loading:!1}),console.log(" Quiz session data exported successfully")}catch(r){console.error(" Failed to export session data:",r),e({error:r instanceof Error?r.message:"Failed to export session data",loading:!1})}},clearError:()=>{e({error:null})},reset:()=>{console.log(" Quiz Management Store: Resetting store state"),e({chatbotsWithQuizzes:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,filters:k4,selectedSession:null})}}),{name:"quiz-management-store",partialize:e=>({filters:e.filters,selectedChatbot:e.selectedChatbot}),merge:(e,n)=>({...n,...e||{},courses:[],selectedCourse:null,chatbotsWithQuizzes:[],filteredChatbots:[],selectedChatbot:null,quizSessions:[],quizPools:{},analytics:null,loading:!1,error:null,selectedSession:null})}),{name:"quiz-management-store"})),jJ=({courses:e,selectedCourse:n,onSelect:t,loading:r=!1})=>f.jsx(me,{children:f.jsx(ZN,{value:n,onChange:(i,a)=>t(a),options:e,getOptionLabel:i=>i.courseTitle,loading:r,renderInput:i=>f.jsx(Bt,{...i,label:"Select Course",placeholder:"Choose a course to filter materials...",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, sans-serif","& fieldset":{borderColor:"#CDDAFF",borderWidth:2},"&:hover fieldset":{borderColor:"#0B53C0"},"&.Mui-focused fieldset":{borderColor:"#0B53C0",borderWidth:2}},"& .MuiInputLabel-root":{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",fontWeight:"bold","&.Mui-focused":{color:"#0B53C0"}}},InputProps:{...i.InputProps,endAdornment:f.jsxs(f.Fragment,{children:[r?f.jsx(Gr,{color:"inherit",size:20}):null,i.InputProps.endAdornment]})}}),renderOption:(i,a)=>{const{...s}=i;return f.jsx(me,{component:"li",...s,sx:{"&:hover":{backgroundColor:"#F0F4FF !important"}},children:f.jsxs(me,{sx:{display:"flex",alignItems:"center",width:"100%",p:2},children:[f.jsx(Pd,{sx:{mr:2,flexShrink:0,color:"#0B53C0",fontSize:28}}),f.jsxs(me,{sx:{flex:1,minWidth:0},children:[f.jsx(de,{variant:"subtitle1",noWrap:!0,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#0B53C0",fontWeight:"bold"},children:a.courseTitle}),f.jsxs(de,{variant:"body2",sx:{fontFamily:"Gabarito, sans-serif",color:"#666666",display:"flex",alignItems:"center",mt:.5},children:[f.jsx(qc,{sx:{fontSize:14,mr:.5}}),a.chatbotCount," material",a.chatbotCount!==1?"s":"","  ",a.quizCount," quiz",a.quizCount!==1?"zes":""," available"]})]}),f.jsxs(me,{sx:{ml:2,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5},children:[f.jsx(Dn,{label:`${a.chatbotCount} Material${a.chatbotCount!==1?"s":""}`,size:"small",sx:{backgroundColor:"#CDDAFF",color:"#0B53C0",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}}),a.quizCount>0&&f.jsx(Dn,{label:`${a.quizCount} Quiz${a.quizCount!==1?"zes":""}`,size:"small",sx:{backgroundColor:"#C8E6C9",color:"#2E7D32",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}})]})]})},a.courseId)},PaperComponent:i=>f.jsx(fn,{...i,sx:{mt:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #CDDAFF",backgroundColor:"#FFFFFF"}}),isOptionEqualToValue:(i,a)=>i.courseId===a.courseId,noOptionsText:r?"Loading courses...":"No courses found.",clearOnBlur:!0,selectOnFocus:!0})}),NJ=({chatbots:e,selectedChatbot:n,onSelect:t,loading:r=!1})=>f.jsxs(me,{children:[f.jsx(ZN,{value:n,onChange:(i,a)=>t(a),options:e,getOptionLabel:i=>i.title,loading:r,renderInput:i=>f.jsx(Bt,{...i,label:"Select Chatbot & Material",placeholder:"Choose a chatbot to view its quiz data...",variant:"outlined",sx:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, sans-serif","& fieldset":{borderColor:"#CDDAFF",borderWidth:2},"&:hover fieldset":{borderColor:"#0B53C0"},"&.Mui-focused fieldset":{borderColor:"#0B53C0",borderWidth:2}},"& .MuiInputLabel-root":{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",fontWeight:"bold","&.Mui-focused":{color:"#0B53C0"}}},InputProps:{...i.InputProps,endAdornment:f.jsxs(f.Fragment,{children:[r?f.jsx(Gr,{color:"inherit",size:20}):null,i.InputProps.endAdornment]})}}),renderOption:(i,a)=>{const{...s}=i;return f.jsx(me,{component:"li",...s,sx:{"&:hover":{backgroundColor:"#F0F4FF !important"}},children:f.jsxs(me,{sx:{display:"flex",alignItems:"center",width:"100%",p:2},children:[f.jsx(qc,{sx:{mr:2,flexShrink:0,color:"#0B53C0",fontSize:28}}),f.jsxs(me,{sx:{flex:1,minWidth:0},children:[f.jsx(de,{variant:"subtitle1",noWrap:!0,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#0B53C0",fontWeight:"bold"},children:a.title}),f.jsxs(de,{variant:"body2",noWrap:!0,sx:{fontFamily:"Gabarito, sans-serif",color:"#666666",display:"flex",alignItems:"center",mt:.5},children:[f.jsx(SR,{sx:{fontSize:14,mr:.5}}),a.materialTitle]}),f.jsxs(de,{variant:"caption",noWrap:!0,sx:{fontFamily:"Gabarito, sans-serif",color:"#888888",display:"flex",alignItems:"center",mt:.25},children:[f.jsx(Pd,{sx:{fontSize:12,mr:.5}}),a.courseTitle]})]}),f.jsxs(me,{sx:{ml:2,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5},children:[a.quizId&&f.jsx(Dn,{label:"Quiz Available",size:"small",sx:{backgroundColor:"#C8E6C9",color:"#2E7D32",fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",fontWeight:"bold"}}),f.jsxs(de,{variant:"caption",sx:{fontFamily:"monospace",color:a.quizId?"#0B53C0":"#888888",fontSize:"0.7rem",backgroundColor:a.quizId?"#F0F4FF":"#F5F5F5",padding:"2px 6px",borderRadius:"4px",border:`1px solid ${a.quizId?"#CDDAFF":"#E0E0E0"}`},children:["Quiz: ",a.quizId?a.quizId.substring(0,8)+"...":"N/A"]}),f.jsxs(de,{variant:"caption",sx:{fontFamily:"monospace",color:"#888888",fontSize:"0.65rem"},children:["ChatBot: ",a.chatbotId.substring(0,8),"..."]})]})]})},a.chatbotId)},PaperComponent:i=>f.jsx(fn,{...i,sx:{mt:1,borderRadius:2,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #CDDAFF",backgroundColor:"#FFFFFF"}}),isOptionEqualToValue:(i,a)=>i.chatbotId===a.chatbotId,noOptionsText:r?"Loading chatbots...":"No chatbots found. Create a chatbot first to see quiz data.",clearOnBlur:!0,handleHomeEndKeys:!0}),e.length===0&&!r&&f.jsx(me,{sx:{mt:2,p:2,bgcolor:"info.light",borderRadius:1},children:f.jsxs(de,{variant:"body2",color:"info.contrastText",children:[f.jsx("strong",{children:"No chatbots available."})," You need to create chatbots first before you can manage quiz sessions. Each chatbot automatically has an associated quiz with predefined questions."]})})]}),TJ=({sessions:e,loading:n=!1,onViewDetails:t,onExportSession:r})=>{const i=l=>new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),a=l=>{switch(l){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},s=l=>l>=80?"success":l>=60?"warning":"error";return n?f.jsxs(me,{sx:{width:"100%",mt:2},children:[f.jsx(Xo,{}),f.jsx(de,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"Loading quiz sessions..."})]}):e.length===0?f.jsxs(me,{sx:{textAlign:"center",py:8},children:[f.jsx(qc,{sx:{fontSize:64,color:"text.secondary",mb:2}}),f.jsx(de,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No quiz sessions found"}),f.jsx(de,{variant:"body2",color:"text.secondary",children:"No quiz sessions have been completed for this chatbot yet. Students need to take quizzes to see data here."})]}):f.jsx(_u,{component:fn,variant:"outlined",children:f.jsxs(ku,{children:[f.jsx(ju,{children:f.jsxs(Fi,{children:[f.jsx(dt,{children:f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(qc,{fontSize:"small"}),"Session ID"]})}),f.jsx(dt,{children:f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(JN,{fontSize:"small"}),"User ID"]})}),f.jsx(dt,{children:f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(AR,{fontSize:"small"}),"Date & Time"]})}),f.jsx(dt,{children:"Difficulty"}),f.jsx(dt,{children:"Status"}),f.jsx(dt,{align:"center",children:"Questions"}),f.jsx(dt,{align:"center",children:"Time Spent"}),f.jsx(dt,{align:"center",children:"Score"}),f.jsx(dt,{align:"center",children:"Performance"}),f.jsx(dt,{align:"center",children:"Actions"})]})}),f.jsx(Nu,{children:e.map(l=>f.jsxs(Fi,{hover:!0,children:[f.jsx(dt,{children:f.jsx(de,{variant:"body2",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:l.id})}),f.jsx(dt,{children:f.jsx(de,{variant:"body2",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:l.userId})}),f.jsx(dt,{children:f.jsxs(me,{children:[f.jsx(de,{variant:"body2",children:i(l.startedAt)}),l.submittedAt&&f.jsxs(de,{variant:"caption",color:"text.secondary",children:["Submitted: ",i(l.submittedAt)]})]})}),f.jsx(dt,{children:f.jsx(Dn,{label:l.difficulty.charAt(0).toUpperCase()+l.difficulty.slice(1),color:a(l.difficulty),size:"small"})}),f.jsx(dt,{children:f.jsx(Dn,{label:l.completed?"Completed":"In Progress",color:l.completed?"success":"warning",size:"small",variant:l.completed?"filled":"outlined"})}),f.jsxs(dt,{align:"center",children:[f.jsx(de,{variant:"body2",fontWeight:"medium",children:l.questionsAttempted}),f.jsx(de,{variant:"caption",color:"text.secondary",children:"attempted"})]}),f.jsx(dt,{align:"center",children:l.timeSpentFormatted?f.jsxs(me,{children:[f.jsx(de,{variant:"body2",fontWeight:"medium",children:l.timeSpentFormatted}),f.jsx(de,{variant:"caption",color:"text.secondary",children:"duration"})]}):f.jsx(de,{variant:"body2",color:"text.secondary",children:"-"})}),f.jsx(dt,{align:"center",children:l.summary?f.jsxs(me,{children:[f.jsxs(de,{variant:"body2",fontWeight:"bold",children:[l.summary.total_score,"/",l.summary.total_max]}),f.jsx(de,{variant:"caption",color:"text.secondary",children:"points"})]}):f.jsx(de,{variant:"body2",color:"text.secondary",children:"-"})}),f.jsx(dt,{align:"center",children:l.summary?f.jsx(Dn,{label:`${Math.round(l.summary.percent)}%`,color:s(l.summary.percent),size:"small"}):f.jsx(de,{variant:"body2",color:"text.secondary",children:"-"})}),f.jsx(dt,{align:"center",children:f.jsxs($w,{direction:"row",spacing:1,justifyContent:"center",children:[f.jsx(si,{title:"View Details",children:f.jsx(Cn,{size:"small",onClick:()=>t(l),color:"primary",children:f.jsx(E6,{fontSize:"small"})})}),f.jsx(si,{title:"Export Data",children:f.jsx(Cn,{size:"small",onClick:()=>r(l.id),color:"secondary",children:f.jsx(lg,{fontSize:"small"})})})]})})]},l.id))})]})})},OJ=({analytics:e})=>{const n=i=>{switch(i){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},t=i=>i>=70?"success":i>=50?"warning":"error",r=i=>{if(i===0)return"0s";const a=Math.floor(i/60),s=i%60;return a===0?`${s}s`:s===0?`${a}m`:`${a}m ${s}s`};return f.jsx(Xa,{sx:{mb:4,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:f.jsxs(Za,{sx:{p:3},children:[f.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[f.jsx(CR,{color:"primary"}),"Quiz Analytics & Insights"]}),f.jsxs(xt,{container:!0,spacing:3,sx:{mb:4},children:[f.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(me,{sx:{textAlign:"center",p:2,bgcolor:"#CDDAFF",borderRadius:2,border:"1px solid #0B53C0"},children:[f.jsx(qc,{sx:{fontSize:40,color:"#0B53C0",mb:1}}),f.jsx(de,{variant:"h4",sx:{color:"#0B53C0",fontFamily:"Staatliches, sans-serif"},children:e.totalSessions}),f.jsx(de,{variant:"body2",sx:{color:"#0B53C0",fontFamily:"Gabarito, sans-serif"},children:"Total Sessions"})]})}),f.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(me,{sx:{textAlign:"center",p:2,bgcolor:"#C8E6C9",borderRadius:2,border:"1px solid #2E7D32"},children:[f.jsx(Mg,{sx:{fontSize:40,color:"#2E7D32",mb:1}}),f.jsxs(de,{variant:"h4",sx:{color:"#2E7D32",fontFamily:"Staatliches, sans-serif"},children:[Math.round(e.completionRate),"%"]}),f.jsx(de,{variant:"body2",sx:{color:"#2E7D32",fontFamily:"Gabarito, sans-serif"},children:"Completion Rate"})]})}),f.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(me,{sx:{textAlign:"center",p:2,bgcolor:"#E3F2FD",borderRadius:2,border:"1px solid #1565C0"},children:[f.jsx(eT,{sx:{fontSize:40,color:"#1565C0",mb:1}}),f.jsxs(de,{variant:"h4",sx:{color:"#1565C0",fontFamily:"Staatliches, sans-serif"},children:[Math.round(e.averageScore),"%"]}),f.jsx(de,{variant:"body2",sx:{color:"#1565C0",fontFamily:"Gabarito, sans-serif"},children:"Average Score"})]})}),f.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(me,{sx:{textAlign:"center",p:2,bgcolor:"#FFF3E0",borderRadius:2,border:"1px solid #F57C00"},children:[f.jsx(Q0,{sx:{fontSize:40,color:"#F57C00",mb:1}}),f.jsx(de,{variant:"h4",sx:{color:"#F57C00",fontFamily:"Staatliches, sans-serif"},children:r(e.averageTimeSpent)}),f.jsx(de,{variant:"body2",sx:{color:"#F57C00",fontFamily:"Gabarito, sans-serif"},children:"Avg. Time Spent"})]})})]}),f.jsx(ts,{sx:{my:3}}),f.jsxs(xt,{container:!0,spacing:4,children:[f.jsxs(xt,{item:!0,xs:12,md:6,children:[f.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(qc,{color:"primary"}),"Difficulty Distribution"]}),f.jsx(me,{sx:{mt:2},children:Object.entries(e.difficultyDistribution).map(([i,a])=>{const s=e.totalSessions>0?a/e.totalSessions*100:0;return f.jsxs(me,{sx:{mb:2},children:[f.jsxs(me,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(Dn,{label:i.charAt(0).toUpperCase()+i.slice(1),color:n(i),size:"small"}),f.jsxs(de,{variant:"body2",children:[a," sessions"]})]}),f.jsxs(de,{variant:"body2",color:"text.secondary",children:[Math.round(s),"%"]})]}),f.jsx(Xo,{variant:"determinate",value:s,color:n(i),sx:{height:8,borderRadius:4}})]},i)})})]}),f.jsxs(xt,{item:!0,xs:12,md:6,children:[f.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(Pd,{color:"primary"}),"Bloom's Taxonomy Performance"]}),f.jsx(me,{sx:{mt:2},children:Object.entries(e.categoryPerformance).map(([i,a])=>f.jsxs(me,{sx:{mb:2},children:[f.jsxs(me,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[f.jsxs(me,{children:[f.jsx(de,{variant:"body2",fontWeight:"medium",children:i}),f.jsxs(de,{variant:"caption",color:"text.secondary",children:[a.totalAttempts," attempts"]})]}),f.jsxs(me,{sx:{textAlign:"right"},children:[f.jsxs(de,{variant:"body2",fontWeight:"medium",children:[Math.round(a.averageScore),"%"]}),f.jsx(Dn,{label:`${a.successRate}% success`,color:t(a.successRate),size:"small",variant:"outlined"})]})]}),f.jsx(Xo,{variant:"determinate",value:a.successRate,color:t(a.successRate),sx:{height:6,borderRadius:3}})]},i))})]})]})]})})},IJ=({quizId:e,open:n,onClose:t})=>{const{quizPools:r,loading:i}=qI(),a=r[e],s=c=>({Remember:"success",Understand:"info",Apply:"primary",Analyze:"warning",Evaluate:"error",Create:"secondary"})[c]||"primary",l=c=>{const d=["Remember","Understand","Apply","Analyze","Evaluate","Create"],h=c.split("").reduce((g,b)=>g+b.charCodeAt(0),0);return d[h%d.length]};return i?f.jsx(Xi,{open:n,onClose:t,maxWidth:"md",fullWidth:!0,children:f.jsx(Zi,{children:f.jsxs(me,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:4},children:[f.jsx(Xo,{sx:{width:"100%",mb:2}}),f.jsx(de,{variant:"body1",children:"Loading quiz questions..."})]})})}):a?f.jsxs(Xi,{open:n,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"80vh"}},children:[f.jsx(pa,{children:f.jsxs(me,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs(me,{children:[f.jsx(de,{variant:"h5",component:"div",children:"Quiz Question Pool"}),f.jsxs(de,{variant:"body2",color:"text.secondary",children:["Quiz ID: ",e.substring(0,16),"..."]})]}),f.jsx(Cn,{onClick:t,edge:"end",children:f.jsx(Hw,{})})]})}),f.jsxs(Zi,{dividers:!0,children:[f.jsx(Xa,{sx:{mb:3},children:f.jsxs(Za,{children:[f.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(eT,{color:"primary"}),"Pool Statistics"]}),f.jsxs(xt,{container:!0,spacing:3,children:[f.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(me,{sx:{textAlign:"center",p:2,bgcolor:"primary.light",borderRadius:1},children:[f.jsx(de,{variant:"h4",color:"primary.contrastText",children:a.totalQuestions}),f.jsx(de,{variant:"body2",color:"primary.contrastText",children:"Total Questions"})]})}),f.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(me,{sx:{textAlign:"center",p:2,bgcolor:"success.light",borderRadius:1},children:[f.jsx(de,{variant:"h4",color:"success.contrastText",children:a.difficultyBreakdown.easy||0}),f.jsx(de,{variant:"body2",color:"success.contrastText",children:"Easy Questions"})]})}),f.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(me,{sx:{textAlign:"center",p:2,bgcolor:"warning.light",borderRadius:1},children:[f.jsx(de,{variant:"h4",color:"warning.contrastText",children:a.difficultyBreakdown.medium||0}),f.jsx(de,{variant:"body2",color:"warning.contrastText",children:"Medium Questions"})]})}),f.jsx(xt,{item:!0,xs:12,sm:6,md:3,children:f.jsxs(me,{sx:{textAlign:"center",p:2,bgcolor:"error.light",borderRadius:1},children:[f.jsx(de,{variant:"h4",color:"error.contrastText",children:a.difficultyBreakdown.hard||0}),f.jsx(de,{variant:"body2",color:"error.contrastText",children:"Hard Questions"})]})})]})]})}),f.jsx(Xa,{sx:{mb:3},children:f.jsxs(Za,{children:[f.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(ER,{color:"primary"}),"Bloom's Taxonomy Categories"]}),f.jsx(xt,{container:!0,spacing:2,children:Object.entries(a.categoryCounts).map(([c,d])=>{const h=d/a.totalQuestions*100;return f.jsx(xt,{item:!0,xs:12,sm:6,md:4,children:f.jsxs(me,{sx:{p:2,border:"1px solid",borderColor:"grey.300",borderRadius:1},children:[f.jsxs(me,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[f.jsx(Dn,{label:c,color:s(c),size:"small"}),f.jsxs(de,{variant:"body2",fontWeight:"bold",children:[d," questions"]})]}),f.jsx(Xo,{variant:"determinate",value:h,color:s(c),sx:{height:6,borderRadius:3}}),f.jsxs(de,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:[Math.round(h),"% of total"]})]})},c)})})]})}),f.jsx(Xa,{children:f.jsxs(Za,{children:[f.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(tT,{color:"primary"}),"Quiz Questions"]}),f.jsx(de,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"All available question IDs from the quiz pool. Questions are categorized using Bloom's taxonomy levels and automatically selected based on quiz difficulty mode."}),f.jsx(_u,{component:fn,variant:"outlined",children:f.jsxs(ku,{children:[f.jsx(ju,{children:f.jsxs(Fi,{children:[f.jsx(dt,{children:"Question ID"}),f.jsx(dt,{children:"Question"}),f.jsx(dt,{align:"center",children:"Bloom's Taxonomy Category"})]})}),f.jsx(Nu,{children:a.questions.map((c,d)=>{const h=l(c.category);return f.jsxs(Fi,{hover:!0,children:[f.jsx(dt,{children:f.jsx(de,{variant:"body2",fontFamily:"monospace",children:c.questionId})}),f.jsx(dt,{children:f.jsx(de,{variant:"body2",sx:{maxWidth:400},children:c.question.length>120?`${c.question.substring(0,120)}...`:c.question})}),f.jsx(dt,{align:"center",children:f.jsx(Dn,{label:h,color:s(h),size:"small"})})]},c.questionId)})})]})})]})}),f.jsx(ts,{sx:{my:3}}),f.jsxs(me,{sx:{p:2,bgcolor:"info.light",borderRadius:1},children:[f.jsxs(de,{variant:"body2",color:"info.contrastText",children:[f.jsx("strong",{children:"Quiz Question Pool:"})," This shows the available questions that can be selected for quizzes. When students take a quiz, questions are automatically chosen from this pool based on the selected difficulty mode: Easy (~5 questions), Medium (~8 questions), Hard (~10 questions)."]}),f.jsxs(de,{variant:"caption",color:"info.contrastText",sx:{mt:1,display:"block"},children:[f.jsx("strong",{children:"Note:"})," This is placeholder data for demonstration. Actual questions will be loaded from the quiz API."]})]})]}),f.jsx(ma,{children:f.jsx(At,{onClick:t,variant:"contained",children:"Close"})})]}):f.jsxs(Xi,{open:n,onClose:t,maxWidth:"md",fullWidth:!0,children:[f.jsx(pa,{children:f.jsxs(me,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx(de,{variant:"h6",children:"Quiz Pool"}),f.jsx(Cn,{onClick:t,edge:"end",children:f.jsx(Hw,{})})]})}),f.jsx(Zi,{children:f.jsxs(me,{sx:{textAlign:"center",py:4},children:[f.jsx(de,{variant:"h6",color:"text.secondary",children:"Quiz pool not found"}),f.jsxs(de,{variant:"body2",color:"text.secondary",children:["Unable to load questions for quiz ID: ",e]})]})}),f.jsx(ma,{children:f.jsx(At,{onClick:t,children:"Close"})})]})},DJ=({session:e,open:n,onClose:t})=>{const r=c=>new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),i=c=>{switch(c){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"warning"}},a=c=>c==="correct"?"success":"error",s=c=>{const d=e.answers[c];if(!d)return"Question text not available";const h=d.split(" ");return h.length>15?`Question about: ${h.slice(0,15).join(" ")}...`:`Question about: ${d.substring(0,100)}${d.length>100?"...":""}`},l=()=>{const c={sessionId:e.id,quizId:e.quizId,chatbotId:e.chatbotId,student:{userId:e.userId,name:e.userName,email:e.userEmail},quiz:{difficulty:e.difficulty,startedAt:e.startedAt,submittedAt:e.submittedAt,completed:e.completed,timeSpent:e.timeSpent},answers:e.answers,summary:e.summary,exportedAt:new Date().toISOString()},d=JSON.stringify(c,null,2),h=new Blob([d],{type:"application/json"}),g=URL.createObjectURL(h),b=document.createElement("a");b.href=g,b.download=`quiz-session-${e.id}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(g)};return f.jsxs(Xi,{open:n,onClose:t,maxWidth:"lg",fullWidth:!0,PaperProps:{sx:{minHeight:"80vh"}},children:[f.jsx(pa,{children:f.jsxs(me,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs(me,{children:[f.jsx(de,{variant:"h5",component:"div",children:"Quiz Session Details"}),f.jsxs(de,{variant:"body2",color:"text.secondary",children:["Session ID: ",e.id]})]}),f.jsx(Cn,{onClick:t,edge:"end",children:f.jsx(Hw,{})})]})}),f.jsxs(Zi,{dividers:!0,children:[f.jsx(Xa,{sx:{mb:3},children:f.jsxs(Za,{children:[f.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(JN,{color:"primary"}),"User Information"]}),f.jsx(xt,{container:!0,spacing:2,children:f.jsxs(xt,{item:!0,xs:12,children:[f.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"User ID"}),f.jsx(de,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all"},children:e.userId})]})})]})}),f.jsx(Xa,{sx:{mb:3},children:f.jsxs(Za,{children:[f.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(qc,{color:"primary"}),"Quiz Information"]}),f.jsxs(xt,{container:!0,spacing:2,children:[f.jsxs(xt,{item:!0,xs:12,md:6,children:[f.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"Quiz ID"}),f.jsx(de,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:e.quizId})]}),f.jsxs(xt,{item:!0,xs:12,md:6,children:[f.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"Chatbot ID"}),f.jsx(de,{variant:"body1",fontFamily:"monospace",sx:{wordBreak:"break-all",fontSize:"0.875rem"},children:e.chatbotId})]}),f.jsxs(xt,{item:!0,xs:12,md:6,children:[f.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"Difficulty"}),f.jsx(Dn,{label:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1),color:i(e.difficulty),size:"small"})]}),f.jsxs(xt,{item:!0,xs:12,md:6,children:[f.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"Status"}),f.jsx(Dn,{label:e.completed?"Completed":"In Progress",color:e.completed?"success":"warning",size:"small"})]}),f.jsxs(xt,{item:!0,xs:12,md:6,children:[f.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"Questions Attempted"}),f.jsxs(de,{variant:"body1",children:[e.questionsAttempted," questions answered"]})]}),f.jsxs(xt,{item:!0,xs:12,md:6,children:[f.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"Quiz Mode"}),f.jsx(de,{variant:"body1",children:e.difficulty==="easy"?"~5 questions (Remember/Understand focus)":e.difficulty==="medium"?"~8 questions (Mixed difficulty)":"~10 questions (Analyze/Evaluate focus)"})]})]})]})}),f.jsx(Xa,{sx:{mb:3},children:f.jsxs(Za,{children:[f.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[f.jsx(Q0,{color:"primary"}),"Session Timeline"]}),f.jsxs(xt,{container:!0,spacing:2,children:[f.jsxs(xt,{item:!0,xs:12,md:4,children:[f.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"Started At"}),f.jsx(de,{variant:"body1",children:r(e.startedAt)})]}),e.submittedAt&&f.jsxs(xt,{item:!0,xs:12,md:4,children:[f.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"Submitted At"}),f.jsx(de,{variant:"body1",children:r(e.submittedAt)})]}),e.timeSpentFormatted&&f.jsxs(xt,{item:!0,xs:12,md:4,children:[f.jsx(de,{variant:"subtitle2",color:"text.secondary",children:"Time Spent"}),f.jsx(de,{variant:"body1",children:e.timeSpentFormatted})]})]})]})}),e.summary&&f.jsx(Xa,{sx:{mb:3},children:f.jsxs(Za,{children:[f.jsx(de,{variant:"h6",gutterBottom:!0,children:"Quiz Results"}),f.jsxs(xt,{container:!0,spacing:2,sx:{mb:3},children:[f.jsx(xt,{item:!0,xs:12,md:4,children:f.jsxs(me,{sx:{textAlign:"center",p:2,bgcolor:"primary.light",borderRadius:1},children:[f.jsx(de,{variant:"h4",color:"primary.contrastText",children:e.summary.total_score}),f.jsx(de,{variant:"body2",color:"primary.contrastText",children:"Total Score"})]})}),f.jsx(xt,{item:!0,xs:12,md:4,children:f.jsxs(me,{sx:{textAlign:"center",p:2,bgcolor:"info.light",borderRadius:1},children:[f.jsx(de,{variant:"h4",color:"info.contrastText",children:e.summary.total_max}),f.jsx(de,{variant:"body2",color:"info.contrastText",children:"Maximum Score"})]})}),f.jsx(xt,{item:!0,xs:12,md:4,children:f.jsxs(me,{sx:{textAlign:"center",p:2,bgcolor:"success.light",borderRadius:1},children:[f.jsxs(de,{variant:"h4",color:"success.contrastText",children:[Math.round(e.summary.percent),"%"]}),f.jsx(de,{variant:"body2",color:"success.contrastText",children:"Percentage"})]})})]}),f.jsx(ts,{sx:{my:2}}),f.jsx(de,{variant:"h6",gutterBottom:!0,children:"Question Results"}),f.jsx(_u,{component:fn,variant:"outlined",children:f.jsxs(ku,{size:"small",children:[f.jsx(ju,{children:f.jsxs(Fi,{children:[f.jsx(dt,{children:"Question"}),f.jsx(dt,{align:"center",children:"Score"}),f.jsx(dt,{align:"center",children:"Max Score"}),f.jsx(dt,{align:"center",children:"Verdict"}),f.jsx(dt,{children:"Reasoning"})]})}),f.jsx(Nu,{children:Object.entries(e.summary.items).map(([c,d])=>f.jsxs(Fi,{children:[f.jsxs(dt,{children:[f.jsx(de,{variant:"body2",sx:{mb:1},children:s(c)}),f.jsxs(de,{variant:"caption",color:"text.secondary",fontFamily:"monospace",children:["ID: ",c]})]}),f.jsx(dt,{align:"center",children:f.jsx(de,{variant:"body2",fontWeight:"bold",children:d.score})}),f.jsx(dt,{align:"center",children:f.jsx(de,{variant:"body2",children:d.max_score})}),f.jsx(dt,{align:"center",children:(()=>{let h;return d.verdict==="correct"?h="correct":d.verdict==="incorrect"?h="incorrect":h=d.score>=d.max_score*.7?"correct":"incorrect",f.jsx(Dn,{label:h,color:a(h),size:"small",icon:h==="correct"?f.jsx(Mg,{}):f.jsx(w6,{})})})()}),f.jsx(dt,{children:f.jsx(de,{variant:"body2",children:d.reasoning||"No reasoning provided"})})]},c))})]})})]})}),Object.keys(e.answers).length>0&&f.jsx(Xa,{children:f.jsxs(Za,{children:[f.jsx(de,{variant:"h6",gutterBottom:!0,children:"User Answers"}),Object.entries(e.answers).map(([c,d],h)=>f.jsxs(kd,{children:[f.jsx(jd,{expandIcon:f.jsx(Vo,{}),children:f.jsxs(de,{variant:"subtitle1",children:["Question ",h+1," (",c,")"]})}),f.jsx(Nd,{children:f.jsx(me,{sx:{p:2,bgcolor:"grey.50",borderRadius:1},children:f.jsx(de,{variant:"body1",sx:{whiteSpace:"pre-wrap"},children:d})})})]},c))]})})]}),f.jsxs(ma,{children:[f.jsx(At,{startIcon:f.jsx(lg,{}),onClick:l,variant:"outlined",children:"Export Session Data"}),f.jsx(At,{onClick:t,variant:"contained",children:"Close"})]})]})},LJ=()=>{ea();const{userDetails:e}=Ai(),{courses:n,selectedCourse:t,chatbotsWithQuizzes:r,filteredChatbots:i,selectedChatbot:a,quizSessions:s,analytics:l,loading:c,error:d,filters:h,selectedSession:g,loadChatbotsWithQuizzes:b,selectCourse:m,selectChatbot:x,loadQuizSessions:y,loadQuizPool:A,updateFilters:w,selectSession:C,exportSessionData:N,clearError:F}=qI(),[R,M]=K.useState(!1),[k,L]=K.useState(!1),[B,Q]=K.useState("");K.useEffect(()=>{console.log(" Enhanced Quiz Management Page: Initializing..."),b()},[b]);const j=$=>{m($),$&&console.log(" Selected course:",$.courseTitle,"with",$.chatbotCount,"chatbots")},O=$=>{x($),$&&console.log(" Selected chatbot:",$.title,"with quiz ID:",$.quizId)},z=$=>{C($),M(!0)},T=async $=>{await A($),L(!0)},G=()=>{b(),a&&y(a.chatbotId)},W=async $=>{await N($)},X=$=>{w({difficulty:$})},ie=$=>{w({completionStatus:$})},ue=$=>{Q($),w({userId:$||void 0})};return c&&r.length===0?f.jsxs(me,{sx:{width:"100%",mt:2},children:[f.jsx(Xo,{}),f.jsx(de,{variant:"body2",sx:{mt:1,textAlign:"center"},children:"Loading quiz management data..."})]}):f.jsxs(me,{className:"profile-container",children:[f.jsx(Pl,{title:"Quiz Management"}),f.jsx(me,{sx:{mb:4},children:f.jsx(me,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:f.jsx(me,{children:f.jsx($w,{direction:"row",spacing:2,children:f.jsx(si,{title:"Refresh Data",children:f.jsx("span",{children:f.jsx(Cn,{onClick:G,disabled:c,children:f.jsx(VN,{})})})})})})})}),d&&f.jsx(vr,{severity:"error",sx:{mb:3},onClose:F,children:d}),f.jsx(Xa,{sx:{mb:4,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:f.jsxs(Za,{sx:{p:3},children:[f.jsxs(de,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[f.jsx(Pd,{color:"primary"}),"Course & Quiz Selection"]}),f.jsx(de,{variant:"body2",sx:{mb:3,fontFamily:"Gabarito, sans-serif",color:"#666666"},children:"First select a course to filter materials, then choose a specific chatbot to view its quiz sessions and manage quiz data."}),f.jsx(me,{sx:{mb:3},children:f.jsx(jJ,{courses:n,selectedCourse:t,onSelect:j,loading:c})}),f.jsx(me,{children:f.jsx(NJ,{chatbots:i,selectedChatbot:a,onSelect:O,loading:c})}),a&&f.jsxs(me,{sx:{mt:3,p:2,bgcolor:"#F0F4FF",borderRadius:2,border:"1px solid #CDDAFF"},children:[f.jsxs(xt,{container:!0,spacing:2,children:[f.jsxs(xt,{item:!0,xs:12,md:6,children:[f.jsx(de,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Material"}),f.jsx(de,{variant:"body1",sx:{fontFamily:"Gabarito, sans-serif"},children:a.materialTitle})]}),f.jsxs(xt,{item:!0,xs:12,md:3,children:[f.jsx(de,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Course"}),f.jsx(de,{variant:"body1",sx:{fontFamily:"Gabarito, sans-serif"},children:a.courseTitle})]}),f.jsxs(xt,{item:!0,xs:12,md:3,children:[f.jsx(de,{variant:"subtitle2",sx:{fontFamily:"Gabarito, sans-serif",fontWeight:"bold",color:"#0B53C0"},children:"Quiz ID"}),f.jsx(de,{variant:"body1",fontFamily:"monospace",sx:{fontSize:"0.875rem",wordBreak:"break-all",lineHeight:1.2},children:a.quizId||"No Quiz ID Available"})]})]}),f.jsxs(me,{sx:{mt:2,display:"flex",gap:2},children:[f.jsx(At,{variant:"outlined",startIcon:f.jsx(tT,{}),onClick:()=>a.quizId&&T(a.quizId),size:"small",sx:{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",borderColor:"#0B53C0","&:hover":{backgroundColor:"#0B53C0",color:"#FFFFFF"}},children:"View Quiz Questions"}),f.jsx(VE,{badgeContent:s.length,color:"primary",children:f.jsx(At,{variant:"outlined",size:"small",sx:{fontFamily:"Gabarito, sans-serif",color:"#0B53C0",borderColor:"#0B53C0"},children:"Quiz Sessions"})})]})]})]})}),l&&f.jsx(OJ,{analytics:l}),a&&f.jsx(Xa,{sx:{backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:f.jsxs(Za,{sx:{p:3},children:[f.jsxs(me,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[f.jsxs(de,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1,fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.5rem"},children:[f.jsx(qc,{color:"primary"}),"Quiz Sessions",f.jsx(VE,{badgeContent:s.length,color:"primary",sx:{ml:1}})]}),f.jsxs($w,{direction:"row",spacing:2,alignItems:"center",flexWrap:"wrap",children:[f.jsx(Bt,{size:"small",label:"Filter by User ID",placeholder:"Enter user ID...",value:B,onChange:$=>ue($.target.value),sx:{minWidth:200}}),f.jsxs(Pc,{size:"small",sx:{minWidth:120},children:[f.jsx(zc,{children:"Difficulty"}),f.jsxs(Rl,{value:h.difficulty||"all",label:"Difficulty",onChange:$=>X($.target.value),children:[f.jsx(Zn,{value:"all",children:"All Levels"}),f.jsx(Zn,{value:"easy",children:"Easy"}),f.jsx(Zn,{value:"medium",children:"Medium"}),f.jsx(Zn,{value:"hard",children:"Hard"})]})]}),f.jsxs(Pc,{size:"small",sx:{minWidth:120},children:[f.jsx(zc,{children:"Status"}),f.jsxs(Rl,{value:h.completionStatus||"all",label:"Status",onChange:$=>ie($.target.value),children:[f.jsx(Zn,{value:"all",children:"All Sessions"}),f.jsx(Zn,{value:"completed",children:"Completed"}),f.jsx(Zn,{value:"incomplete",children:"In Progress"})]})]})]})]}),f.jsx(TJ,{sessions:s,loading:c,onViewDetails:z,onExportSession:W})]})}),g&&f.jsx(DJ,{session:g,open:R,onClose:()=>M(!1)}),(a==null?void 0:a.quizId)&&f.jsx(IJ,{quizId:a.quizId,open:k,onClose:()=>L(!1)})]})},RJ=K.lazy(()=>Li(()=>import("./index-zGWm0D-y.js"),__vite__mapDeps([7,4,1,5]))),MJ=K.lazy(()=>Li(()=>import("./index-D0_us64D.js"),__vite__mapDeps([8,4,1,5,9,10]))),FJ=K.lazy(()=>Li(()=>import("./SupplementalMaterials-DSBPiQ7h.js"),__vite__mapDeps([11,4,1,5]))),PJ=K.lazy(()=>Li(()=>import("./MessagesPage-DpNEQeWl.js"),__vite__mapDeps([12,4,1,5,9]))),zy=({element:e})=>f.jsx(NT,{children:f.jsx(Js,{element:e})}),zJ=({element:e})=>f.jsx(sv,{children:e}),qJ=(e,n)=>[{path:"/",element:e?f.jsx(NT,{children:f.jsx(jM,{})}):f.jsx(zJ,{element:f.jsx(RJ,{})})},{path:"/messages",element:f.jsx(zy,{element:PJ})},{path:"/laboratory-notebooks",element:f.jsx(zy,{element:MJ})},{path:"/supplemental-materials",element:f.jsx(zy,{element:FJ})},{path:"/my-profile",element:f.jsx(zy,{element:KK})},{path:"/add-material",element:f.jsx(Js,{element:IO})},{path:"/edit-material/:id",element:f.jsx(Js,{element:hQ})},{path:"/view-material/:id",element:f.jsx(Js,{element:PK})},{path:"/add-message",element:f.jsx(Js,{element:zK})},{path:"/edit-message/:id",element:f.jsx(Js,{element:qK})},{path:"/chatbot-management",element:f.jsx(Js,{element:_X})},{path:"/course-management",element:f.jsx(Js,{element:oX})},{path:"/request-chatbot",element:f.jsx(Js,{element:NX})},{path:"/quiz-management",element:f.jsx(Js,{element:LJ})},{path:"/request-educator-permissions",element:f.jsx(Js,{element:mX})},{path:"/educator-requests",element:f.jsx(Js,{element:gX})},{path:"/request-new-course",element:f.jsx(bX,{})},{path:"/course-requests",element:f.jsx(yX,{})},{path:"/super-admin-course-management",element:f.jsx(SX,{})},{path:"/super-admin-chatbot-requests",element:f.jsx(Js,{element:SJ})},...n?[{path:"/user-management",element:f.jsx(Js,{element:HK})},{path:"/chatbot-conversations",element:f.jsx(Js,{element:wJ})}]:[],{path:"*",element:f.jsx(CT,{to:"/"})}],BJ=YN(TT()),UJ=xp()(ov((e,n)=>({isOpen:!0,isMobile:!1,messagesExpanded:!1,setOpen:t=>e({isOpen:t}),setMobile:t=>e({isMobile:t}),toggleMessages:()=>e(t=>({messagesExpanded:!t.messagesExpanded})),toggleSidebar:()=>e(t=>({isOpen:!t.isOpen}))}),{name:"nexlab-sidebar-storage",partialize:e=>({isOpen:e.isOpen,messagesExpanded:e.messagesExpanded})})),$J=()=>{const e=GN(),n=wx(e.breakpoints.down("md"));return{...UJ(),isMobile:n}},HJ=({children:e})=>{const n=ea(),t=qg(),{userDetails:r,isSuperAdmin:i}=Ai(),[a,s]=K.useState(!1),{isOpen:l,isMobile:c,messagesExpanded:d,setOpen:h,toggleMessages:g,toggleSidebar:b}=$J(),m=M=>{n(M),c&&h(!1)},x=()=>{r!=null&&r.uid?navigator.clipboard.writeText(r.uid).then(()=>{s(!0),setTimeout(()=>s(!1),2e3)}).catch(M=>console.error("Could not copy text: ",M)):console.error("User details are null or undefined")},y=M=>t.pathname===M,A=()=>i?f.jsx(si,{title:"Super Admin Account",placement:"top",enterDelay:300,leaveDelay:200,children:f.jsx(Dn,{label:"Super-Admin",variant:"outlined",sx:{borderRadius:"15px",fontWeight:at.fontWeight.bold,background:"#ffcdd2",color:"#c62828",fontFamily:at.fontFamily.display,fontSize:at.fontSize.base,height:28,border:"1px solid #c62828",cursor:"pointer",transition:"background-color 0.3s","&:hover":{backgroundColor:"#ffb3ba"}}})}):r!=null&&r.isAdmin?f.jsx(si,{title:"Educator Account",placement:"top",enterDelay:300,leaveDelay:200,children:f.jsx(Dn,{label:"Educator",variant:"outlined",sx:{borderRadius:"15px",fontWeight:at.fontWeight.bold,background:"#ffcdd2",color:"#c62828",fontFamily:at.fontFamily.display,fontSize:at.fontSize.base,height:28,border:"1px solid #c62828",cursor:"pointer",transition:"background-color 0.3s","&:hover":{backgroundColor:"#ffb3ba"}}})}):f.jsx(si,{title:"Student Account",placement:"top",enterDelay:300,leaveDelay:200,children:f.jsx(Dn,{label:"Student",variant:"outlined",sx:{borderRadius:"15px",fontWeight:at.fontWeight.bold,background:"#bbdefb",color:"#1e88e5",fontFamily:at.fontFamily.display,fontSize:at.fontSize.base,height:28,border:"1px solid #1e88e5",cursor:"pointer",transition:"background-color 0.3s","&:hover":{backgroundColor:"#90caf9"}}})}),w=[{title:"Home",icon:f.jsx(_R,{}),path:"/",roles:["student","educator","superadmin"],color:Ue.primary[500]},{title:"My Account",icon:f.jsx(Bw,{}),path:"/my-profile",roles:["student","educator","superadmin"],color:Ue.primary[500]},{title:"Messages",icon:f.jsx(QN,{}),path:"/messages",roles:["student","educator","superadmin"],expandable:!0,color:Ue.info},{title:"Course Materials",icon:f.jsx(Pd,{}),path:"/supplemental-materials",roles:["student","educator","superadmin"],color:Ue.warning},{title:"Laboratory Notebook",icon:f.jsx(v6,{}),path:"/laboratory-notebooks",roles:["student","educator","superadmin"],disabled:r&&!r.isAdmin&&(!r.classes||Object.keys(r.classes).length===0),color:Ue.secondary[500]}],C=[{title:"Course Management",icon:f.jsx(Ax,{}),path:"/course-management",roles:["educator","superadmin"],color:Ue.primary[600]},{title:"Chatbot Management",icon:f.jsx(YE,{}),path:"/chatbot-management",roles:["educator","superadmin"],color:Ue.secondary[600]},{title:"Quiz Management",icon:f.jsx(qc,{}),path:"/quiz-management",roles:["educator","superadmin"],color:Ue.warning},{title:"Request Chatbot",icon:f.jsx(YE,{}),path:"/request-chatbot",roles:["educator","superadmin"],color:Ue.info}],N=[{title:"User Management",icon:f.jsx(OR,{}),path:"/user-management",roles:["superadmin"],color:Ue.error},{title:"Educator Requests",icon:f.jsx(GE,{}),path:"/educator-requests",roles:["superadmin"],color:Ue.info},{title:"Course Requests",icon:f.jsx(Ax,{}),path:"/course-requests",roles:["superadmin"],color:Ue.primary[600]},{title:"Super Admin Chatbot Requests",icon:f.jsx(GE,{}),path:"/super-admin-chatbot-requests",roles:["superadmin"],color:Ue.warning},{title:"Chatbot Conversations",icon:f.jsx(nT,{}),path:"/chatbot-conversations",roles:["superadmin"],color:Ue.primary[700]},{title:"Super Admin Course Management",icon:f.jsx(IR,{}),path:"/super-admin-course-management",roles:["superadmin"],color:Ue.secondary[700]}],F=M=>{const k=y(M.path),L=i?"superadmin":r!=null&&r.isAdmin?"educator":"student";if(!M.roles.includes(L))return null;const Q=f.jsxs(s1,{onClick:()=>{M.expandable&&l?g():m(M.path)},disabled:M.disabled,sx:{minHeight:56,justifyContent:l?"initial":"center",px:l?3:2,mx:1,borderRadius:Zt.lg,backgroundColor:k?M.color:"transparent",color:k?Ue.text.inverse:Ue.text.primary,fontFamily:at.fontFamily.display,fontWeight:k?at.fontWeight.bold:at.fontWeight.medium,fontSize:at.fontSize.lg,transition:bo.transitions.normal,boxShadow:k?on.sm:"none","&:hover":{backgroundColor:k?M.color:Ue.neutral[100],transform:"translateY(-1px)",boxShadow:k?on.md:on.sm},"&:disabled":{opacity:.5,cursor:"not-allowed"}},children:[f.jsx(Vy,{sx:{minWidth:0,mr:l?2:"auto",justifyContent:"center",color:k?Ue.text.inverse:M.color,transition:bo.transitions.fast},children:M.icon}),l&&f.jsx(Il,{primary:M.title,sx:{opacity:l?1:0,"& .MuiListItemText-primary":{fontSize:at.fontSize.lg,fontWeight:k?at.fontWeight.bold:at.fontWeight.medium,fontFamily:at.fontFamily.display}}}),M.expandable&&l&&f.jsx(me,{sx:{ml:"auto"},children:d?f.jsx(og,{}):f.jsx(Vo,{})})]});return M.disabled&&l?f.jsx(si,{title:"Enroll in a course to access this feature",placement:"right",children:f.jsx("span",{children:Q})}):Q},R=f.jsxs(me,{sx:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:Ue.background.secondary,borderRight:`1px solid ${Ue.neutral[200]}`},children:[f.jsxs(me,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:l?3:2,minHeight:80,backgroundColor:Ue.background.primary,borderBottom:`1px solid ${Ue.neutral[200]}`,boxShadow:on.sm},children:[l&&f.jsx(me,{sx:{display:"flex",alignItems:"center",gap:2,flex:1},children:f.jsx(me,{sx:{flex:1}})}),f.jsx(Cn,{onClick:b,sx:{backgroundColor:Ue.primary[100],color:Ue.primary[600],"&:hover":{backgroundColor:Ue.primary[200],transform:"scale(1.05)"},transition:bo.transitions.fast,borderRadius:Zt.lg,zIndex:1001},children:l?f.jsx(kR,{}):f.jsx(jR,{})})]}),r&&l&&f.jsx(me,{sx:{p:2,borderBottom:`1px solid ${Ue.neutral[200]}`,backgroundColor:Ue.background.primary},children:f.jsxs(me,{sx:{mb:2},children:[f.jsx(de,{variant:"caption",sx:{fontFamily:at.fontFamily.secondary,color:Ue.text.secondary,fontSize:at.fontSize.xs,display:"block",mb:1},children:"User Status & ID"}),f.jsxs(me,{sx:{p:1.5,backgroundColor:Ue.neutral[50],borderRadius:Zt.lg,border:`1px solid ${Ue.neutral[200]}`},children:[f.jsx(me,{sx:{display:"flex",alignItems:"center",mb:1.5},children:A()}),f.jsx(me,{sx:{display:"flex",alignItems:"center",gap:1},children:f.jsx(si,{title:a?"Copied!":"Click to Copy",enterDelay:300,leaveDelay:200,children:f.jsx(Dn,{label:`User ID: ${r.uid}`,variant:"outlined",onClick:x,sx:{borderRadius:"15px",fontSize:at.fontSize.base,fontWeight:at.fontWeight.bold,background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",fontFamily:at.fontFamily.display,flex:1,"&:hover":{backgroundColor:"#b2dfdb"}}})})})]})]})}),f.jsxs(me,{sx:{flexGrow:1,overflow:"auto",py:2,"&::-webkit-scrollbar":{width:l?"8px":"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:l?Ue.neutral[300]:Ue.neutral[200],borderRadius:"4px","&:hover":{background:l?Ue.neutral[400]:Ue.neutral[300]}},"&::-webkit-scrollbar-thumb:hover":{background:l?Ue.neutral[400]:Ue.neutral[300]},scrollbarWidth:"thin",scrollbarColor:`${l?Ue.neutral[300]:Ue.neutral[200]} transparent`},children:[f.jsx($f,{sx:{px:1},children:w.map((M,k)=>f.jsxs(Ed,{disablePadding:!0,sx:{display:"block",mb:.5},children:[F(M),M.expandable&&l&&f.jsx(sg,{in:d,timeout:"auto",unmountOnExit:!0,children:f.jsxs($f,{component:"div",disablePadding:!0,sx:{mt:1},children:[f.jsx(s1,{sx:{pl:6,mx:1,borderRadius:Zt.lg,backgroundColor:Ue.neutral[50],"&:hover":{backgroundColor:Ue.neutral[100]}},onClick:()=>m("/messages"),children:f.jsx(Il,{primary:"View Messages",sx:{"& .MuiListItemText-primary":{fontSize:at.fontSize.sm,fontFamily:at.fontFamily.secondary}}})}),f.jsx(s1,{sx:{pl:6,mx:1,borderRadius:Zt.lg,backgroundColor:Ue.neutral[50],"&:hover":{backgroundColor:Ue.neutral[100]}},onClick:()=>m("/add-message"),children:f.jsx(Il,{primary:"Add Message",sx:{"& .MuiListItemText-primary":{fontSize:at.fontSize.sm,fontFamily:at.fontFamily.secondary}}})})]})})]},k))}),(r==null?void 0:r.isAdmin)&&f.jsxs(f.Fragment,{children:[f.jsx(ts,{sx:{my:3,mx:2,borderColor:Ue.neutral[200]}}),f.jsx(me,{sx:{px:3,py:1},children:l&&f.jsx(de,{variant:"caption",sx:{fontFamily:at.fontFamily.display,fontWeight:at.fontWeight.bold,color:Ue.warning,fontSize:at.fontSize.xs,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Educator Tools"})}),f.jsx($f,{sx:{px:1},children:C.map((M,k)=>f.jsx(Ed,{disablePadding:!0,sx:{display:"block",mb:.5},children:F(M)},`educator-${k}`))})]}),i&&f.jsxs(f.Fragment,{children:[f.jsx(ts,{sx:{my:3,mx:2,borderColor:Ue.neutral[200]}}),f.jsx(me,{sx:{px:3,py:1},children:l&&f.jsx(de,{variant:"caption",sx:{fontFamily:at.fontFamily.display,fontWeight:at.fontWeight.bold,color:Ue.error,fontSize:at.fontSize.xs,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Super Admin Tools"})}),f.jsx($f,{sx:{px:1},children:N.map((M,k)=>f.jsx(Ed,{disablePadding:!0,sx:{display:"block",mb:.5},children:F(M)},`superadmin-${k}`))})]}),f.jsxs(me,{sx:{mt:"auto",p:2,borderTop:`1px solid ${Ue.neutral[200]}`,backgroundColor:Ue.background.primary},children:[f.jsx(me,{sx:{mb:2},children:f.jsxs(s1,{onClick:()=>{window.open("https://help.waveshi.org","_blank","noopener,noreferrer")},sx:{borderRadius:Zt.lg,backgroundColor:Ue.secondary[50],color:Ue.secondary[700],fontFamily:at.fontFamily.display,fontWeight:at.fontWeight.medium,fontSize:at.fontSize.lg,"&:hover":{backgroundColor:Ue.secondary[100],transform:"translateY(-1px)",boxShadow:on.sm},transition:bo.transitions.normal},children:[f.jsx(Vy,{sx:{color:Ue.secondary[600]},children:f.jsx(NR,{})}),l&&f.jsx(Il,{primary:"Provide Feedback",sx:{"& .MuiListItemText-primary":{fontSize:at.fontSize.lg,fontWeight:at.fontWeight.medium,fontFamily:at.fontFamily.display}}})]})}),f.jsxs(s1,{onClick:async()=>{try{await ET.signOut()}catch(M){console.error("Logout failed:",M)}},sx:{borderRadius:Zt.lg,backgroundColor:Ue.error+"20",color:Ue.error,fontFamily:at.fontFamily.display,fontWeight:at.fontWeight.medium,fontSize:at.fontSize.lg,"&:hover":{backgroundColor:Ue.error+"30",transform:"translateY(-1px)",boxShadow:on.sm},transition:bo.transitions.normal},children:[f.jsx(Vy,{sx:{color:Ue.error},children:f.jsx(TR,{})}),l&&f.jsx(Il,{primary:"Logout",sx:{"& .MuiListItemText-primary":{fontSize:at.fontSize.lg,fontWeight:at.fontWeight.medium,fontFamily:at.fontFamily.display}}})]})]})]})]});return f.jsxs(me,{sx:{display:"flex",height:"100%",width:"100%"},children:[f.jsx(me,{sx:{width:l?320:100,height:"100%",flexShrink:0,transition:bo.transitions.normal,backgroundColor:Ue.primary[100],borderRight:`1px solid ${Ue.primary[200]}`,boxShadow:on.lg,overflow:"hidden",position:"relative",zIndex:1e3,"&::-webkit-scrollbar":{width:l?"8px":"6px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:l?Ue.neutral[300]:Ue.neutral[200],borderRadius:"4px","&:hover":{background:l?Ue.neutral[400]:Ue.neutral[300]}},scrollbarWidth:"thin",scrollbarColor:`${l?Ue.neutral[300]:Ue.neutral[200]} transparent`},children:R}),f.jsx(me,{sx:{flexGrow:1,height:"100%",backgroundColor:"#F0F4FF",overflow:"auto",transition:bo.transitions.normal},children:e})]})},WJ=()=>f.jsx(me,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",padding:Jt[4],backgroundColor:Ue.primary[100],borderBottom:`1px solid ${Ue.primary[200]}`,boxShadow:on.sm,height:"12.5vh",minHeight:90},children:f.jsxs(me,{sx:{display:"flex",alignItems:"center",gap:Jt[4],width:"100%"},children:[f.jsx("img",{src:"/nexlab/nexlab-logo.png",alt:"NexLab Logo",style:{height:85,borderRadius:Zt.lg}}),f.jsx(me,{className:"divider",sx:{height:"85px",borderLeft:`2px solid ${Ue.primary[500]}`,marginRight:Jt[5]}}),f.jsx(de,{variant:"h4",component:"p",sx:{color:Ue.primary[700],fontFamily:at.fontFamily.secondary,fontSize:at.fontSize["2xl"],fontWeight:at.fontWeight.normal,whiteSpace:"nowrap",flex:1},children:"Next-Generation Experiments and Learning for Advanced Biotech"})]})}),VJ=()=>f.jsxs(me,{sx:{backgroundColor:Ue.primary[100],borderTop:`1px solid ${Ue.primary[200]}`,height:"10vh",minHeight:70,display:"flex",flexDirection:"column",justifyContent:"center"},children:[f.jsx(ts,{}),f.jsxs(me,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flex:1,px:Jt[4],gap:Jt[4]},children:[f.jsx(me,{sx:{flex:.25,display:"flex",justifyContent:"center"},children:f.jsx("img",{src:"/nexlab/FooterLogoLong.png",alt:"Partner Logos",style:{height:60,borderRadius:Zt.lg,border:`1px solid ${Ue.primary[700]}`,opacity:.8}})}),f.jsx(me,{className:"divider",sx:{height:"60px",borderLeft:`2px solid ${Ue.primary[500]}`,opacity:.8}}),f.jsx(me,{sx:{flex:.4},children:f.jsx(de,{variant:"body2",sx:{color:Ue.primary[700],fontFamily:at.fontFamily.secondary,fontSize:at.fontSize.sm,lineHeight:1.4,opacity:.8},children:"This project is supported by the National Science Foundation (NSF) under grant number #2300976. Any opinions, findings, and conclusions or recommendations expressed in this material, however, are those of the authors and do not necessarily reflect the views of NSF."})}),f.jsx(me,{className:"divider",sx:{height:"60px",borderLeft:`2px solid ${Ue.primary[500]}`,opacity:.8}}),f.jsxs(me,{sx:{flex:.1},children:[f.jsx(de,{variant:"body2",sx:{color:Ue.primary[700],fontFamily:at.fontFamily.secondary,fontSize:at.fontSize.sm,lineHeight:1.4,opacity:.8,mb:1},children:"Legal:"}),f.jsxs(de,{variant:"body2",sx:{color:Ue.primary[700],fontFamily:at.fontFamily.secondary,fontSize:at.fontSize.sm,lineHeight:1.4,opacity:.8},children:[f.jsx("a",{href:"https://intofuture.org/nexlab-privacy.html",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline",opacity:.8},children:"Privacy Policy"}),"  ",f.jsx("a",{href:"https://intofuture.org/nexlab-terms.html",target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"underline",opacity:.8},children:"Terms of Service"})]})]}),f.jsx(me,{className:"divider",sx:{height:"60px",borderLeft:`2px solid ${Ue.primary[500]}`,opacity:.8}}),f.jsx(me,{sx:{flex:.25},children:f.jsx(de,{variant:"body2",sx:{color:Ue.primary[700],fontFamily:at.fontFamily.secondary,fontSize:at.fontSize.sm,lineHeight:1.4,opacity:.8},children:" 2025 Institute for Future Intelligence and Kapi'olani Community College Antibody Engineering & Research Projects."})})]})]}),j4=["http","https","mailto","tel"];function YJ(e){const n=(e||"").trim(),t=n.charAt(0);if(t==="#"||t==="/")return n;const r=n.indexOf(":");if(r===-1)return n;let i=-1;for(;++i<j4.length;){const a=j4[i];if(r===a.length&&n.slice(0,a.length).toLowerCase()===a)return n}return i=n.indexOf("?"),i!==-1&&r>i||(i=n.indexOf("#"),i!==-1&&r>i)?n:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var mw,N4;function GJ(){return N4||(N4=1,mw=function(n){return n!=null&&n.constructor!=null&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}),mw}var QJ=GJ();const BI=ns(QJ);function eg(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?T4(e.position):"start"in e||"end"in e?T4(e):"line"in e||"column"in e?WS(e):""}function WS(e){return O4(e&&e.line)+":"+O4(e&&e.column)}function T4(e){return WS(e&&e.start)+"-"+WS(e&&e.end)}function O4(e){return e&&typeof e=="number"?e:1}class zl extends Error{constructor(n,t,r){const i=[null,null];let a={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof t=="string"&&(r=t,t=void 0),typeof r=="string"){const s=r.indexOf(":");s===-1?i[1]=r:(i[0]=r.slice(0,s),i[1]=r.slice(s+1))}t&&("type"in t||"position"in t?t.position&&(a=t.position):"start"in t||"end"in t?a=t:("line"in t||"column"in t)&&(a.start=t)),this.name=eg(t)||"1:1",this.message=typeof n=="object"?n.message:n,this.stack="",typeof n=="object"&&n.stack&&(this.stack=n.stack),this.reason=this.message,this.fatal,this.line=a.start.line,this.column=a.start.column,this.position=a,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}zl.prototype.file="";zl.prototype.name="";zl.prototype.reason="";zl.prototype.message="";zl.prototype.stack="";zl.prototype.fatal=null;zl.prototype.column=null;zl.prototype.line=null;zl.prototype.source=null;zl.prototype.ruleId=null;zl.prototype.position=null;const hc={basename:KJ,dirname:XJ,extname:ZJ,join:JJ,sep:"/"};function KJ(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');tb(e);let t=0,r=-1,i=e.length,a;if(n===void 0||n.length===0||n.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(a){t=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(t,r)}if(n===e)return"";let s=-1,l=n.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(a){t=i+1;break}}else s<0&&(a=!0,s=i+1),l>-1&&(e.charCodeAt(i)===n.charCodeAt(l--)?l<0&&(r=i):(l=-1,r=s));return t===r?r=s:r<0&&(r=e.length),e.slice(t,r)}function XJ(e){if(tb(e),e.length===0)return".";let n=-1,t=e.length,r;for(;--t;)if(e.charCodeAt(t)===47){if(r){n=t;break}}else r||(r=!0);return n<0?e.charCodeAt(0)===47?"/":".":n===1&&e.charCodeAt(0)===47?"//":e.slice(0,n)}function ZJ(e){tb(e);let n=e.length,t=-1,r=0,i=-1,a=0,s;for(;n--;){const l=e.charCodeAt(n);if(l===47){if(s){r=n+1;break}continue}t<0&&(s=!0,t=n+1),l===46?i<0?i=n:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||t<0||a===0||a===1&&i===t-1&&i===r+1?"":e.slice(i,t)}function JJ(...e){let n=-1,t;for(;++n<e.length;)tb(e[n]),e[n]&&(t=t===void 0?e[n]:t+"/"+e[n]);return t===void 0?".":eee(t)}function eee(e){tb(e);const n=e.charCodeAt(0)===47;let t=tee(e,!n);return t.length===0&&!n&&(t="."),t.length>0&&e.charCodeAt(e.length-1)===47&&(t+="/"),n?"/"+t:t}function tee(e,n){let t="",r=0,i=-1,a=0,s=-1,l,c;for(;++s<=e.length;){if(s<e.length)l=e.charCodeAt(s);else{if(l===47)break;l=47}if(l===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){if(c=t.lastIndexOf("/"),c!==t.length-1){c<0?(t="",r=0):(t=t.slice(0,c),r=t.length-1-t.lastIndexOf("/")),i=s,a=0;continue}}else if(t.length>0){t="",r=0,i=s,a=0;continue}}n&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+e.slice(i+1,s):t=e.slice(i+1,s),r=s-i-1;i=s,a=0}else l===46&&a>-1?a++:a=-1}return t}function tb(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const nee={cwd:ree};function ree(){return"/"}function VS(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function iee(e){if(typeof e=="string")e=new URL(e);else if(!VS(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return aee(e)}function aee(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const n=e.pathname;let t=-1;for(;++t<n.length;)if(n.charCodeAt(t)===37&&n.charCodeAt(t+1)===50){const r=n.charCodeAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}const gw=["history","path","basename","stem","extname","dirname"];class UI{constructor(n){let t;n?typeof n=="string"||see(n)?t={value:n}:VS(n)?t={path:n}:t=n:t={},this.data={},this.messages=[],this.history=[],this.cwd=nee.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<gw.length;){const a=gw[r];a in t&&t[a]!==void 0&&t[a]!==null&&(this[a]=a==="history"?[...t[a]]:t[a])}let i;for(i in t)gw.includes(i)||(this[i]=t[i])}get path(){return this.history[this.history.length-1]}set path(n){VS(n)&&(n=iee(n)),yw(n,"path"),this.path!==n&&this.history.push(n)}get dirname(){return typeof this.path=="string"?hc.dirname(this.path):void 0}set dirname(n){I4(this.basename,"dirname"),this.path=hc.join(n||"",this.basename)}get basename(){return typeof this.path=="string"?hc.basename(this.path):void 0}set basename(n){yw(n,"basename"),bw(n,"basename"),this.path=hc.join(this.dirname||"",n)}get extname(){return typeof this.path=="string"?hc.extname(this.path):void 0}set extname(n){if(bw(n,"extname"),I4(this.dirname,"extname"),n){if(n.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=hc.join(this.dirname,this.stem+(n||""))}get stem(){return typeof this.path=="string"?hc.basename(this.path,this.extname):void 0}set stem(n){yw(n,"stem"),bw(n,"stem"),this.path=hc.join(this.dirname||"",n+(this.extname||""))}toString(n){return(this.value||"").toString(n||void 0)}message(n,t,r){const i=new zl(n,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(n,t,r){const i=this.message(n,t,r);return i.fatal=null,i}fail(n,t,r){const i=this.message(n,t,r);throw i.fatal=!0,i}}function bw(e,n){if(e&&e.includes(hc.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+hc.sep+"`")}function yw(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function I4(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function see(e){return BI(e)}function D4(e){if(e)throw e}var xw,L4;function oee(){if(L4)return xw;L4=1;var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(d){return typeof Array.isArray=="function"?Array.isArray(d):n.call(d)==="[object Array]"},a=function(d){if(!d||n.call(d)!=="[object Object]")return!1;var h=e.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!g)return!1;var b;for(b in d);return typeof b>"u"||e.call(d,b)},s=function(d,h){t&&h.name==="__proto__"?t(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},l=function(d,h){if(h==="__proto__")if(e.call(d,h)){if(r)return r(d,h).value}else return;return d[h]};return xw=function c(){var d,h,g,b,m,x,y=arguments[0],A=1,w=arguments.length,C=!1;for(typeof y=="boolean"&&(C=y,y=arguments[1]||{},A=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});A<w;++A)if(d=arguments[A],d!=null)for(h in d)g=l(y,h),b=l(d,h),y!==b&&(C&&b&&(a(b)||(m=i(b)))?(m?(m=!1,x=g&&i(g)?g:[]):x=g&&a(g)?g:{},s(y,{name:h,newValue:c(C,x,b)})):typeof b<"u"&&s(y,{name:h,newValue:b}));return y},xw}var lee=oee();const R4=ns(lee);function YS(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function uee(){const e=[],n={run:t,use:r};return n;function t(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);l(null,...i);function l(c,...d){const h=e[++a];let g=-1;if(c){s(c);return}for(;++g<i.length;)(d[g]===null||d[g]===void 0)&&(d[g]=i[g]);i=d,h?cee(h,l)(...d):s(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),n}}function cee(e,n){let t;return r;function r(...s){const l=e.length>s.length;let c;l&&s.push(i);try{c=e.apply(this,s)}catch(d){const h=d;if(l&&t)throw h;return i(h)}l||(c&&c.then&&typeof c.then=="function"?c.then(a,i):c instanceof Error?i(c):a(c))}function i(s,...l){t||(t=!0,n(s,...l))}function a(s){i(null,s)}}const dee=HI().freeze(),$I={}.hasOwnProperty;function HI(){const e=uee(),n=[];let t={},r,i=-1;return a.data=s,a.Parser=void 0,a.Compiler=void 0,a.freeze=l,a.attachers=n,a.use=c,a.parse=d,a.stringify=h,a.run=g,a.runSync=b,a.process=m,a.processSync=x,a;function a(){const y=HI();let A=-1;for(;++A<n.length;)y.use(...n[A]);return y.data(R4(!0,{},t)),y}function s(y,A){return typeof y=="string"?arguments.length===2?(Sw("data",r),t[y]=A,a):$I.call(t,y)&&t[y]||null:y?(Sw("data",r),t=y,a):t}function l(){if(r)return a;for(;++i<n.length;){const[y,...A]=n[i];if(A[0]===!1)continue;A[0]===!0&&(A[0]=void 0);const w=y.call(a,...A);typeof w=="function"&&e.use(w)}return r=!0,i=Number.POSITIVE_INFINITY,a}function c(y,...A){let w;if(Sw("use",r),y!=null)if(typeof y=="function")R(y,...A);else if(typeof y=="object")Array.isArray(y)?F(y):N(y);else throw new TypeError("Expected usable value, not `"+y+"`");return w&&(t.settings=Object.assign(t.settings||{},w)),a;function C(M){if(typeof M=="function")R(M);else if(typeof M=="object")if(Array.isArray(M)){const[k,...L]=M;R(k,...L)}else N(M);else throw new TypeError("Expected usable value, not `"+M+"`")}function N(M){F(M.plugins),M.settings&&(w=Object.assign(w||{},M.settings))}function F(M){let k=-1;if(M!=null)if(Array.isArray(M))for(;++k<M.length;){const L=M[k];C(L)}else throw new TypeError("Expected a list of plugins, not `"+M+"`")}function R(M,k){let L=-1,B;for(;++L<n.length;)if(n[L][0]===M){B=n[L];break}B?(YS(B[1])&&YS(k)&&(k=R4(!0,B[1],k)),B[1]=k):n.push([...arguments])}}function d(y){a.freeze();const A=N1(y),w=a.Parser;return vw("parse",w),M4(w,"parse")?new w(String(A),A).parse():w(String(A),A)}function h(y,A){a.freeze();const w=N1(A),C=a.Compiler;return ww("stringify",C),F4(y),M4(C,"compile")?new C(y,w).compile():C(y,w)}function g(y,A,w){if(F4(y),a.freeze(),!w&&typeof A=="function"&&(w=A,A=void 0),!w)return new Promise(C);C(null,w);function C(N,F){e.run(y,N1(A),R);function R(M,k,L){k=k||y,M?F(M):N?N(k):w(null,k,L)}}}function b(y,A){let w,C;return a.run(y,A,N),P4("runSync","run",C),w;function N(F,R){D4(F),w=R,C=!0}}function m(y,A){if(a.freeze(),vw("process",a.Parser),ww("process",a.Compiler),!A)return new Promise(w);w(null,A);function w(C,N){const F=N1(y);a.run(a.parse(F),F,(M,k,L)=>{if(M||!k||!L)R(M);else{const B=a.stringify(k,L);B==null||(pee(B)?L.value=B:L.result=B),R(M,L)}});function R(M,k){M||!k?N(M):C?C(k):A(null,k)}}}function x(y){let A;a.freeze(),vw("processSync",a.Parser),ww("processSync",a.Compiler);const w=N1(y);return a.process(w,C),P4("processSync","process",A),w;function C(N){A=!0,D4(N)}}}function M4(e,n){return typeof e=="function"&&e.prototype&&(fee(e.prototype)||n in e.prototype)}function fee(e){let n;for(n in e)if($I.call(e,n))return!0;return!1}function vw(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function ww(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function Sw(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function F4(e){if(!YS(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function P4(e,n,t){if(!t)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function N1(e){return hee(e)?e:new UI(e)}function hee(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function pee(e){return typeof e=="string"||BI(e)}const mee={};function gee(e,n){const t=mee,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return WI(e,r,i)}function WI(e,n,t){if(bee(e)){if("value"in e)return e.type==="html"&&!t?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return z4(e.children,n,t)}return Array.isArray(e)?z4(e,n,t):""}function z4(e,n,t){const r=[];let i=-1;for(;++i<e.length;)r[i]=WI(e[i],n,t);return r.join("")}function bee(e){return!!(e&&typeof e=="object")}function Hc(e,n,t,r){const i=e.length;let a=0,s;if(n<0?n=-n>i?0:i+n:n=n>i?i:n,t=t>0?t:0,r.length<1e4)s=Array.from(r),s.unshift(n,t),e.splice(...s);else for(t&&e.splice(n,t);a<r.length;)s=r.slice(a,a+1e4),s.unshift(n,0),e.splice(...s),a+=1e4,n+=1e4}function Nl(e,n){return e.length>0?(Hc(e,e.length,0,n),e):n}const q4={}.hasOwnProperty;function yee(e){const n={};let t=-1;for(;++t<e.length;)xee(n,e[t]);return n}function xee(e,n){let t;for(t in n){const i=(q4.call(e,t)?e[t]:void 0)||(e[t]={}),a=n[t];let s;if(a)for(s in a){q4.call(i,s)||(i[s]=[]);const l=a[s];vee(i[s],Array.isArray(l)?l:l?[l]:[])}}}function vee(e,n){let t=-1;const r=[];for(;++t<n.length;)(n[t].add==="after"?e:r).push(n[t]);Hc(e,0,0,r)}const wee=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Cc=ph(/[A-Za-z]/),Ko=ph(/[\dA-Za-z]/),See=ph(/[#-'*+\--9=?A-Z^-~]/);function GS(e){return e!==null&&(e<32||e===127)}const QS=ph(/\d/),Aee=ph(/[\dA-Fa-f]/),Cee=ph(/[!-/:-@[-`{-~]/);function mn(e){return e!==null&&e<-2}function vo(e){return e!==null&&(e<0||e===32)}function xr(e){return e===-2||e===-1||e===32}const Eee=ph(wee),_ee=ph(/\s/);function ph(e){return n;function n(t){return t!==null&&e.test(String.fromCharCode(t))}}function oi(e,n,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(c){return xr(c)?(e.enter(t),l(c)):n(c)}function l(c){return xr(c)&&a++<i?(e.consume(c),l):(e.exit(t),n(c))}}const kee={tokenize:jee};function jee(e){const n=e.attempt(this.parser.constructs.contentInitial,r,i);let t;return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),oi(e,n,"linePrefix")}function i(l){return e.enter("paragraph"),a(l)}function a(l){const c=e.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=c),t=c,s(l)}function s(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return mn(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),s)}}const Nee={tokenize:Tee},B4={tokenize:Oee};function Tee(e){const n=this,t=[];let r=0,i,a,s;return l;function l(N){if(r<t.length){const F=t[r];return n.containerState=F[1],e.attempt(F[0].continuation,c,d)(N)}return d(N)}function c(N){if(r++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,i&&C();const F=n.events.length;let R=F,M;for(;R--;)if(n.events[R][0]==="exit"&&n.events[R][1].type==="chunkFlow"){M=n.events[R][1].end;break}w(r);let k=F;for(;k<n.events.length;)n.events[k][1].end=Object.assign({},M),k++;return Hc(n.events,R+1,0,n.events.slice(F)),n.events.length=k,d(N)}return l(N)}function d(N){if(r===t.length){if(!i)return b(N);if(i.currentConstruct&&i.currentConstruct.concrete)return x(N);n.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(B4,h,g)(N)}function h(N){return i&&C(),w(r),b(N)}function g(N){return n.parser.lazy[n.now().line]=r!==t.length,s=n.now().offset,x(N)}function b(N){return n.containerState={},e.attempt(B4,m,x)(N)}function m(N){return r++,t.push([n.currentConstruct,n.containerState]),b(N)}function x(N){if(N===null){i&&C(),w(0),e.consume(N);return}return i=i||n.parser.flow(n.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),y(N)}function y(N){if(N===null){A(e.exit("chunkFlow"),!0),w(0),e.consume(N);return}return mn(N)?(e.consume(N),A(e.exit("chunkFlow")),r=0,n.interrupt=void 0,l):(e.consume(N),y)}function A(N,F){const R=n.sliceStream(N);if(F&&R.push(null),N.previous=a,a&&(a.next=N),a=N,i.defineSkip(N.start),i.write(R),n.parser.lazy[N.start.line]){let M=i.events.length;for(;M--;)if(i.events[M][1].start.offset<s&&(!i.events[M][1].end||i.events[M][1].end.offset>s))return;const k=n.events.length;let L=k,B,Q;for(;L--;)if(n.events[L][0]==="exit"&&n.events[L][1].type==="chunkFlow"){if(B){Q=n.events[L][1].end;break}B=!0}for(w(r),M=k;M<n.events.length;)n.events[M][1].end=Object.assign({},Q),M++;Hc(n.events,L+1,0,n.events.slice(k)),n.events.length=M}}function w(N){let F=t.length;for(;F-- >N;){const R=t[F];n.containerState=R[1],R[0].exit.call(n,e)}t.length=N}function C(){i.write([null]),a=void 0,i=void 0,n.containerState._closeFlow=void 0}}function Oee(e,n,t){return oi(e,e.attempt(this.parser.constructs.document,n,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function U4(e){if(e===null||vo(e)||_ee(e))return 1;if(Eee(e))return 2}function vA(e,n,t){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(n=a(n,t),r.push(a))}return n}const KS={name:"attention",tokenize:Dee,resolveAll:Iee};function Iee(e,n){let t=-1,r,i,a,s,l,c,d,h;for(;++t<e.length;)if(e[t][0]==="enter"&&e[t][1].type==="attentionSequence"&&e[t][1]._close){for(r=t;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&n.sliceSerialize(e[r][1]).charCodeAt(0)===n.sliceSerialize(e[t][1]).charCodeAt(0)){if((e[r][1]._close||e[t][1]._open)&&(e[t][1].end.offset-e[t][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[t][1].end.offset-e[t][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[t][1].end.offset-e[t][1].start.offset>1?2:1;const g=Object.assign({},e[r][1].end),b=Object.assign({},e[t][1].start);$4(g,-c),$4(b,c),s={type:c>1?"strongSequence":"emphasisSequence",start:g,end:Object.assign({},e[r][1].end)},l={type:c>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[t][1].start),end:b},a={type:c>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[t][1].start)},i={type:c>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},l.end)},e[r][1].end=Object.assign({},s.start),e[t][1].start=Object.assign({},l.end),d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=Nl(d,[["enter",e[r][1],n],["exit",e[r][1],n]])),d=Nl(d,[["enter",i,n],["enter",s,n],["exit",s,n],["enter",a,n]]),d=Nl(d,vA(n.parser.constructs.insideSpan.null,e.slice(r+1,t),n)),d=Nl(d,[["exit",a,n],["enter",l,n],["exit",l,n],["exit",i,n]]),e[t][1].end.offset-e[t][1].start.offset?(h=2,d=Nl(d,[["enter",e[t][1],n],["exit",e[t][1],n]])):h=0,Hc(e,r-1,t-r+3,d),t=r+d.length-h-2;break}}for(t=-1;++t<e.length;)e[t][1].type==="attentionSequence"&&(e[t][1].type="data");return e}function Dee(e,n){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=U4(r);let a;return s;function s(c){return a=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===a)return e.consume(c),l;const d=e.exit("attentionSequence"),h=U4(c),g=!h||h===2&&i||t.includes(c),b=!i||i===2&&h||t.includes(r);return d._open=!!(a===42?g:g&&(i||!b)),d._close=!!(a===42?b:b&&(h||!g)),n(c)}}function $4(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const Lee={name:"autolink",tokenize:Ree};function Ree(e,n,t){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return Cc(m)?(e.consume(m),s):d(m)}function s(m){return m===43||m===45||m===46||Ko(m)?(r=1,l(m)):d(m)}function l(m){return m===58?(e.consume(m),r=0,c):(m===43||m===45||m===46||Ko(m))&&r++<32?(e.consume(m),l):(r=0,d(m))}function c(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),n):m===null||m===32||m===60||GS(m)?t(m):(e.consume(m),c)}function d(m){return m===64?(e.consume(m),h):See(m)?(e.consume(m),d):t(m)}function h(m){return Ko(m)?g(m):t(m)}function g(m){return m===46?(e.consume(m),r=0,h):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),n):b(m)}function b(m){if((m===45||Ko(m))&&r++<63){const x=m===45?b:g;return e.consume(m),x}return t(m)}}const Mv={tokenize:Mee,partial:!0};function Mee(e,n,t){return r;function r(a){return xr(a)?oi(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||mn(a)?n(a):t(a)}}const VI={name:"blockQuote",tokenize:Fee,continuation:{tokenize:Pee},exit:zee};function Fee(e,n,t){const r=this;return i;function i(s){if(s===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return t(s)}function a(s){return xr(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(s))}}function Pee(e,n,t){const r=this;return i;function i(s){return xr(s)?oi(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(VI,n,t)(s)}}function zee(e){e.exit("blockQuote")}const YI={name:"characterEscape",tokenize:qee};function qee(e,n,t){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return Cee(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):t(a)}}const H4=document.createElement("i");function wA(e){const n="&"+e+";";H4.innerHTML=n;const t=H4.textContent;return t.charCodeAt(t.length-1)===59&&e!=="semi"||t===n?!1:t}const GI={name:"characterReference",tokenize:Bee};function Bee(e,n,t){const r=this;let i=0,a,s;return l;function l(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),c}function c(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),a=31,s=Ko,h(g))}function d(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=Aee,h):(e.enter("characterReferenceValue"),a=7,s=QS,h(g))}function h(g){if(g===59&&i){const b=e.exit("characterReferenceValue");return s===Ko&&!wA(r.sliceSerialize(b))?t(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return s(g)&&i++<a?(e.consume(g),h):t(g)}}const W4={tokenize:$ee,partial:!0},V4={name:"codeFenced",tokenize:Uee,concrete:!0};function Uee(e,n,t){const r=this,i={tokenize:R,partial:!0};let a=0,s=0,l;return c;function c(M){return d(M)}function d(M){const k=r.events[r.events.length-1];return a=k&&k[1].type==="linePrefix"?k[2].sliceSerialize(k[1],!0).length:0,l=M,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(M)}function h(M){return M===l?(s++,e.consume(M),h):s<3?t(M):(e.exit("codeFencedFenceSequence"),xr(M)?oi(e,g,"whitespace")(M):g(M))}function g(M){return M===null||mn(M)?(e.exit("codeFencedFence"),r.interrupt?n(M):e.check(W4,y,F)(M)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),b(M))}function b(M){return M===null||mn(M)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(M)):xr(M)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),oi(e,m,"whitespace")(M)):M===96&&M===l?t(M):(e.consume(M),b)}function m(M){return M===null||mn(M)?g(M):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(M))}function x(M){return M===null||mn(M)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(M)):M===96&&M===l?t(M):(e.consume(M),x)}function y(M){return e.attempt(i,F,A)(M)}function A(M){return e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),w}function w(M){return a>0&&xr(M)?oi(e,C,"linePrefix",a+1)(M):C(M)}function C(M){return M===null||mn(M)?e.check(W4,y,F)(M):(e.enter("codeFlowValue"),N(M))}function N(M){return M===null||mn(M)?(e.exit("codeFlowValue"),C(M)):(e.consume(M),N)}function F(M){return e.exit("codeFenced"),n(M)}function R(M,k,L){let B=0;return Q;function Q(G){return M.enter("lineEnding"),M.consume(G),M.exit("lineEnding"),j}function j(G){return M.enter("codeFencedFence"),xr(G)?oi(M,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):O(G)}function O(G){return G===l?(M.enter("codeFencedFenceSequence"),z(G)):L(G)}function z(G){return G===l?(B++,M.consume(G),z):B>=s?(M.exit("codeFencedFenceSequence"),xr(G)?oi(M,T,"whitespace")(G):T(G)):L(G)}function T(G){return G===null||mn(G)?(M.exit("codeFencedFence"),k(G)):L(G)}}}function $ee(e,n,t){const r=this;return i;function i(s){return s===null?t(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}const Aw={name:"codeIndented",tokenize:Wee},Hee={tokenize:Vee,partial:!0};function Wee(e,n,t){const r=this;return i;function i(d){return e.enter("codeIndented"),oi(e,a,"linePrefix",5)(d)}function a(d){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?s(d):t(d)}function s(d){return d===null?c(d):mn(d)?e.attempt(Hee,s,c)(d):(e.enter("codeFlowValue"),l(d))}function l(d){return d===null||mn(d)?(e.exit("codeFlowValue"),s(d)):(e.consume(d),l)}function c(d){return e.exit("codeIndented"),n(d)}}function Vee(e,n,t){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?t(s):mn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):oi(e,a,"linePrefix",5)(s)}function a(s){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(s):mn(s)?i(s):t(s)}}const Yee={name:"codeText",tokenize:Kee,resolve:Gee,previous:Qee};function Gee(e){let n=e.length-4,t=3,r,i;if((e[t][1].type==="lineEnding"||e[t][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(r=t;++r<n;)if(e[r][1].type==="codeTextData"){e[t][1].type="codeTextPadding",e[n][1].type="codeTextPadding",t+=2,n-=2;break}}for(r=t-1,n++;++r<=n;)i===void 0?r!==n&&e[r][1].type!=="lineEnding"&&(i=r):(r===n||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),n-=r-i-2,r=i+2),i=void 0);return e}function Qee(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Kee(e,n,t){let r=0,i,a;return s;function s(g){return e.enter("codeText"),e.enter("codeTextSequence"),l(g)}function l(g){return g===96?(e.consume(g),r++,l):(e.exit("codeTextSequence"),c(g))}function c(g){return g===null?t(g):g===32?(e.enter("space"),e.consume(g),e.exit("space"),c):g===96?(a=e.enter("codeTextSequence"),i=0,h(g)):mn(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),c):(e.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||mn(g)?(e.exit("codeTextData"),c(g)):(e.consume(g),d)}function h(g){return g===96?(e.consume(g),i++,h):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),n(g)):(a.type="codeTextData",d(g))}}function QI(e){const n={};let t=-1,r,i,a,s,l,c,d;for(;++t<e.length;){for(;t in n;)t=n[t];if(r=e[t],t&&r[1].type==="chunkFlow"&&e[t-1][1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(n,Xee(e,t)),t=n[t],d=!0);else if(r[1]._container){for(a=t,i=void 0;a--&&(s=e[a],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),l=e.slice(i,t),l.unshift(r),Hc(e,i,t-i+1,l))}}return!d}function Xee(e,n){const t=e[n][1],r=e[n][2];let i=n-1;const a=[],s=t._tokenizer||r.parser[t.contentType](t.start),l=s.events,c=[],d={};let h,g,b=-1,m=t,x=0,y=0;const A=[y];for(;m;){for(;e[++i][1]!==m;);a.push(i),m._tokenizer||(h=r.sliceStream(m),m.next||h.push(null),g&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(h),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),g=m,m=m.next}for(m=t;++b<l.length;)l[b][0]==="exit"&&l[b-1][0]==="enter"&&l[b][1].type===l[b-1][1].type&&l[b][1].start.line!==l[b][1].end.line&&(y=b+1,A.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):A.pop(),b=A.length;b--;){const w=l.slice(A[b],A[b+1]),C=a.pop();c.unshift([C,C+w.length-1]),Hc(e,C,2,w)}for(b=-1;++b<c.length;)d[x+c[b][0]]=x+c[b][1],x+=c[b][1]-c[b][0]-1;return d}const Zee={tokenize:tte,resolve:ete},Jee={tokenize:nte,partial:!0};function ete(e){return QI(e),e}function tte(e,n){let t;return r;function r(l){return e.enter("content"),t=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):mn(l)?e.check(Jee,s,a)(l):(e.consume(l),i)}function a(l){return e.exit("chunkContent"),e.exit("content"),n(l)}function s(l){return e.consume(l),e.exit("chunkContent"),t.next=e.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function nte(e,n,t){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),oi(e,a,"linePrefix")}function a(s){if(s===null||mn(s))return t(s);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?n(s):e.interrupt(r.parser.constructs.flow,t,n)(s)}}function KI(e,n,t,r,i,a,s,l,c){const d=c||Number.POSITIVE_INFINITY;let h=0;return g;function g(w){return w===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(w),e.exit(a),b):w===null||w===32||w===41||GS(w)?t(w):(e.enter(r),e.enter(s),e.enter(l),e.enter("chunkString",{contentType:"string"}),y(w))}function b(w){return w===62?(e.enter(a),e.consume(w),e.exit(a),e.exit(i),e.exit(r),n):(e.enter(l),e.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===62?(e.exit("chunkString"),e.exit(l),b(w)):w===null||w===60||mn(w)?t(w):(e.consume(w),w===92?x:m)}function x(w){return w===60||w===62||w===92?(e.consume(w),m):m(w)}function y(w){return!h&&(w===null||w===41||vo(w))?(e.exit("chunkString"),e.exit(l),e.exit(s),e.exit(r),n(w)):h<d&&w===40?(e.consume(w),h++,y):w===41?(e.consume(w),h--,y):w===null||w===32||w===40||GS(w)?t(w):(e.consume(w),w===92?A:y)}function A(w){return w===40||w===41||w===92?(e.consume(w),y):y(w)}}function XI(e,n,t,r,i,a){const s=this;let l=0,c;return d;function d(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),h}function h(m){return l>999||m===null||m===91||m===93&&!c||m===94&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?t(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),n):mn(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),g(m))}function g(m){return m===null||m===91||m===93||mn(m)||l++>999?(e.exit("chunkString"),h(m)):(e.consume(m),c||(c=!xr(m)),m===92?b:g)}function b(m){return m===91||m===92||m===93?(e.consume(m),l++,g):g(m)}}function ZI(e,n,t,r,i,a){let s;return l;function l(b){return b===34||b===39||b===40?(e.enter(r),e.enter(i),e.consume(b),e.exit(i),s=b===40?41:b,c):t(b)}function c(b){return b===s?(e.enter(i),e.consume(b),e.exit(i),e.exit(r),n):(e.enter(a),d(b))}function d(b){return b===s?(e.exit(a),c(s)):b===null?t(b):mn(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),oi(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(b))}function h(b){return b===s||b===null||mn(b)?(e.exit("chunkString"),d(b)):(e.consume(b),b===92?g:h)}function g(b){return b===s||b===92?(e.consume(b),h):h(b)}}function tg(e,n){let t;return r;function r(i){return mn(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t=!0,r):xr(i)?oi(e,r,t?"linePrefix":"lineSuffix")(i):n(i)}}function $0(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const rte={name:"definition",tokenize:ate},ite={tokenize:ste,partial:!0};function ate(e,n,t){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return XI.call(r,e,l,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function l(m){return i=$0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),c):t(m)}function c(m){return vo(m)?tg(e,d)(m):d(m)}function d(m){return KI(e,h,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function h(m){return e.attempt(ite,g,g)(m)}function g(m){return xr(m)?oi(e,b,"whitespace")(m):b(m)}function b(m){return m===null||mn(m)?(e.exit("definition"),r.parser.defined.push(i),n(m)):t(m)}}function ste(e,n,t){return r;function r(l){return vo(l)?tg(e,i)(l):t(l)}function i(l){return ZI(e,a,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return xr(l)?oi(e,s,"whitespace")(l):s(l)}function s(l){return l===null||mn(l)?n(l):t(l)}}const ote={name:"hardBreakEscape",tokenize:lte};function lte(e,n,t){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return mn(a)?(e.exit("hardBreakEscape"),n(a)):t(a)}}const ute={name:"headingAtx",tokenize:dte,resolve:cte};function cte(e,n){let t=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),t-2>r&&e[t][1].type==="whitespace"&&(t-=2),e[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&e[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[t][1].end},a={type:"chunkText",start:e[r][1].start,end:e[t][1].end,contentType:"text"},Hc(e,r,t-r+1,[["enter",i,n],["enter",a,n],["exit",a,n],["exit",i,n]])),e}function dte(e,n,t){let r=0;return i;function i(h){return e.enter("atxHeading"),a(h)}function a(h){return e.enter("atxHeadingSequence"),s(h)}function s(h){return h===35&&r++<6?(e.consume(h),s):h===null||vo(h)?(e.exit("atxHeadingSequence"),l(h)):t(h)}function l(h){return h===35?(e.enter("atxHeadingSequence"),c(h)):h===null||mn(h)?(e.exit("atxHeading"),n(h)):xr(h)?oi(e,l,"whitespace")(h):(e.enter("atxHeadingText"),d(h))}function c(h){return h===35?(e.consume(h),c):(e.exit("atxHeadingSequence"),l(h))}function d(h){return h===null||h===35||vo(h)?(e.exit("atxHeadingText"),l(h)):(e.consume(h),d)}}const fte=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Y4=["pre","script","style","textarea"],hte={name:"htmlFlow",tokenize:bte,resolveTo:gte,concrete:!0},pte={tokenize:xte,partial:!0},mte={tokenize:yte,partial:!0};function gte(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function bte(e,n,t){const r=this;let i,a,s,l,c;return d;function d(q){return h(q)}function h(q){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(q),g}function g(q){return q===33?(e.consume(q),b):q===47?(e.consume(q),a=!0,y):q===63?(e.consume(q),i=3,r.interrupt?n:$):Cc(q)?(e.consume(q),s=String.fromCharCode(q),A):t(q)}function b(q){return q===45?(e.consume(q),i=2,m):q===91?(e.consume(q),i=5,l=0,x):Cc(q)?(e.consume(q),i=4,r.interrupt?n:$):t(q)}function m(q){return q===45?(e.consume(q),r.interrupt?n:$):t(q)}function x(q){const Z="CDATA[";return q===Z.charCodeAt(l++)?(e.consume(q),l===Z.length?r.interrupt?n:O:x):t(q)}function y(q){return Cc(q)?(e.consume(q),s=String.fromCharCode(q),A):t(q)}function A(q){if(q===null||q===47||q===62||vo(q)){const Z=q===47,ee=s.toLowerCase();return!Z&&!a&&Y4.includes(ee)?(i=1,r.interrupt?n(q):O(q)):fte.includes(s.toLowerCase())?(i=6,Z?(e.consume(q),w):r.interrupt?n(q):O(q)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(q):a?C(q):N(q))}return q===45||Ko(q)?(e.consume(q),s+=String.fromCharCode(q),A):t(q)}function w(q){return q===62?(e.consume(q),r.interrupt?n:O):t(q)}function C(q){return xr(q)?(e.consume(q),C):Q(q)}function N(q){return q===47?(e.consume(q),Q):q===58||q===95||Cc(q)?(e.consume(q),F):xr(q)?(e.consume(q),N):Q(q)}function F(q){return q===45||q===46||q===58||q===95||Ko(q)?(e.consume(q),F):R(q)}function R(q){return q===61?(e.consume(q),M):xr(q)?(e.consume(q),R):N(q)}function M(q){return q===null||q===60||q===61||q===62||q===96?t(q):q===34||q===39?(e.consume(q),c=q,k):xr(q)?(e.consume(q),M):L(q)}function k(q){return q===c?(e.consume(q),c=null,B):q===null||mn(q)?t(q):(e.consume(q),k)}function L(q){return q===null||q===34||q===39||q===47||q===60||q===61||q===62||q===96||vo(q)?R(q):(e.consume(q),L)}function B(q){return q===47||q===62||xr(q)?N(q):t(q)}function Q(q){return q===62?(e.consume(q),j):t(q)}function j(q){return q===null||mn(q)?O(q):xr(q)?(e.consume(q),j):t(q)}function O(q){return q===45&&i===2?(e.consume(q),W):q===60&&i===1?(e.consume(q),X):q===62&&i===4?(e.consume(q),ae):q===63&&i===3?(e.consume(q),$):q===93&&i===5?(e.consume(q),ue):mn(q)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(pte,U,z)(q)):q===null||mn(q)?(e.exit("htmlFlowData"),z(q)):(e.consume(q),O)}function z(q){return e.check(mte,T,U)(q)}function T(q){return e.enter("lineEnding"),e.consume(q),e.exit("lineEnding"),G}function G(q){return q===null||mn(q)?z(q):(e.enter("htmlFlowData"),O(q))}function W(q){return q===45?(e.consume(q),$):O(q)}function X(q){return q===47?(e.consume(q),s="",ie):O(q)}function ie(q){if(q===62){const Z=s.toLowerCase();return Y4.includes(Z)?(e.consume(q),ae):O(q)}return Cc(q)&&s.length<8?(e.consume(q),s+=String.fromCharCode(q),ie):O(q)}function ue(q){return q===93?(e.consume(q),$):O(q)}function $(q){return q===62?(e.consume(q),ae):q===45&&i===2?(e.consume(q),$):O(q)}function ae(q){return q===null||mn(q)?(e.exit("htmlFlowData"),U(q)):(e.consume(q),ae)}function U(q){return e.exit("htmlFlow"),n(q)}}function yte(e,n,t){const r=this;return i;function i(s){return mn(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):t(s)}function a(s){return r.parser.lazy[r.now().line]?t(s):n(s)}}function xte(e,n,t){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Mv,n,t)}}const vte={name:"htmlText",tokenize:wte};function wte(e,n,t){const r=this;let i,a,s;return l;function l($){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume($),c}function c($){return $===33?(e.consume($),d):$===47?(e.consume($),R):$===63?(e.consume($),N):Cc($)?(e.consume($),L):t($)}function d($){return $===45?(e.consume($),h):$===91?(e.consume($),a=0,x):Cc($)?(e.consume($),C):t($)}function h($){return $===45?(e.consume($),m):t($)}function g($){return $===null?t($):$===45?(e.consume($),b):mn($)?(s=g,X($)):(e.consume($),g)}function b($){return $===45?(e.consume($),m):g($)}function m($){return $===62?W($):$===45?b($):g($)}function x($){const ae="CDATA[";return $===ae.charCodeAt(a++)?(e.consume($),a===ae.length?y:x):t($)}function y($){return $===null?t($):$===93?(e.consume($),A):mn($)?(s=y,X($)):(e.consume($),y)}function A($){return $===93?(e.consume($),w):y($)}function w($){return $===62?W($):$===93?(e.consume($),w):y($)}function C($){return $===null||$===62?W($):mn($)?(s=C,X($)):(e.consume($),C)}function N($){return $===null?t($):$===63?(e.consume($),F):mn($)?(s=N,X($)):(e.consume($),N)}function F($){return $===62?W($):N($)}function R($){return Cc($)?(e.consume($),M):t($)}function M($){return $===45||Ko($)?(e.consume($),M):k($)}function k($){return mn($)?(s=k,X($)):xr($)?(e.consume($),k):W($)}function L($){return $===45||Ko($)?(e.consume($),L):$===47||$===62||vo($)?B($):t($)}function B($){return $===47?(e.consume($),W):$===58||$===95||Cc($)?(e.consume($),Q):mn($)?(s=B,X($)):xr($)?(e.consume($),B):W($)}function Q($){return $===45||$===46||$===58||$===95||Ko($)?(e.consume($),Q):j($)}function j($){return $===61?(e.consume($),O):mn($)?(s=j,X($)):xr($)?(e.consume($),j):B($)}function O($){return $===null||$===60||$===61||$===62||$===96?t($):$===34||$===39?(e.consume($),i=$,z):mn($)?(s=O,X($)):xr($)?(e.consume($),O):(e.consume($),T)}function z($){return $===i?(e.consume($),i=void 0,G):$===null?t($):mn($)?(s=z,X($)):(e.consume($),z)}function T($){return $===null||$===34||$===39||$===60||$===61||$===96?t($):$===47||$===62||vo($)?B($):(e.consume($),T)}function G($){return $===47||$===62||vo($)?B($):t($)}function W($){return $===62?(e.consume($),e.exit("htmlTextData"),e.exit("htmlText"),n):t($)}function X($){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),ie}function ie($){return xr($)?oi(e,ue,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):ue($)}function ue($){return e.enter("htmlTextData"),s($)}}const SA={name:"labelEnd",tokenize:kte,resolveTo:_te,resolveAll:Ete},Ste={tokenize:jte},Ate={tokenize:Nte},Cte={tokenize:Tte};function Ete(e){let n=-1;for(;++n<e.length;){const t=e[n][1];(t.type==="labelImage"||t.type==="labelLink"||t.type==="labelEnd")&&(e.splice(n+1,t.type==="labelImage"?4:2),t.type="data",n++)}return e}function _te(e,n){let t=e.length,r=0,i,a,s,l;for(;t--;)if(i=e[t][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=t);const c={type:e[a][1].type==="labelLink"?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},d={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[s][1].end)},h={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return l=[["enter",c,n],["enter",d,n]],l=Nl(l,e.slice(a+1,a+r+3)),l=Nl(l,[["enter",h,n]]),l=Nl(l,vA(n.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),n)),l=Nl(l,[["exit",h,n],e[s-2],e[s-1],["exit",d,n]]),l=Nl(l,e.slice(s+1)),l=Nl(l,[["exit",c,n]]),Hc(e,a,e.length,l),e}function kte(e,n,t){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(b){return a?a._inactive?g(b):(s=r.parser.defined.includes($0(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelEnd"),c):t(b)}function c(b){return b===40?e.attempt(Ste,h,s?h:g)(b):b===91?e.attempt(Ate,h,s?d:g)(b):s?h(b):g(b)}function d(b){return e.attempt(Cte,h,g)(b)}function h(b){return n(b)}function g(b){return a._balanced=!0,t(b)}}function jte(e,n,t){return r;function r(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),i}function i(g){return vo(g)?tg(e,a)(g):a(g)}function a(g){return g===41?h(g):KI(e,s,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function s(g){return vo(g)?tg(e,c)(g):h(g)}function l(g){return t(g)}function c(g){return g===34||g===39||g===40?ZI(e,d,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):h(g)}function d(g){return vo(g)?tg(e,h)(g):h(g)}function h(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),n):t(g)}}function Nte(e,n,t){const r=this;return i;function i(l){return XI.call(r,e,a,s,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes($0(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?n(l):t(l)}function s(l){return t(l)}}function Tte(e,n,t){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),n):t(a)}}const Ote={name:"labelStartImage",tokenize:Ite,resolveAll:SA.resolveAll};function Ite(e,n,t){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),s):t(l)}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(l):n(l)}}const Dte={name:"labelStartLink",tokenize:Lte,resolveAll:SA.resolveAll};function Lte(e,n,t){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(s):n(s)}}const Cw={name:"lineEnding",tokenize:Rte};function Rte(e,n){return t;function t(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),oi(e,n,"linePrefix")}}const dx={name:"thematicBreak",tokenize:Mte};function Mte(e,n,t){let r=0,i;return a;function a(d){return e.enter("thematicBreak"),s(d)}function s(d){return i=d,l(d)}function l(d){return d===i?(e.enter("thematicBreakSequence"),c(d)):r>=3&&(d===null||mn(d))?(e.exit("thematicBreak"),n(d)):t(d)}function c(d){return d===i?(e.consume(d),r++,c):(e.exit("thematicBreakSequence"),xr(d)?oi(e,l,"whitespace")(d):l(d))}}const go={name:"list",tokenize:zte,continuation:{tokenize:qte},exit:Ute},Fte={tokenize:$te,partial:!0},Pte={tokenize:Bte,partial:!0};function zte(e,n,t){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return l;function l(m){const x=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:QS(m)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(dx,t,d)(m):d(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(m)}return t(m)}function c(m){return QS(m)&&++s<10?(e.consume(m),c):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),d(m)):t(m)}function d(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Mv,r.interrupt?t:h,e.attempt(Fte,b,g))}function h(m){return r.containerState.initialBlankLine=!0,a++,b(m)}function g(m){return xr(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),b):t(m)}function b(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(m)}}function qte(e,n,t){const r=this;return r.containerState._closeFlow=void 0,e.check(Mv,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,oi(e,n,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!xr(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Pte,n,s)(l))}function s(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,oi(e,e.attempt(go,n,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function Bte(e,n,t){const r=this;return oi(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?n(a):t(a)}}function Ute(e){e.exit(this.containerState.type)}function $te(e,n,t){const r=this;return oi(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!xr(a)&&s&&s[1].type==="listItemPrefixWhitespace"?n(a):t(a)}}const G4={name:"setextUnderline",tokenize:Wte,resolveTo:Hte};function Hte(e,n){let t=e.length,r,i,a;for(;t--;)if(e[t][0]==="enter"){if(e[t][1].type==="content"){r=t;break}e[t][1].type==="paragraph"&&(i=t)}else e[t][1].type==="content"&&e.splice(t,1),!a&&e[t][1].type==="definition"&&(a=t);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,n]),e.splice(a+1,0,["exit",e[r][1],n]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=s,e.push(["exit",s,n]),e}function Wte(e,n,t){const r=this;let i;return a;function a(d){let h=r.events.length,g;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){g=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(e.enter("setextHeadingLine"),i=d,s(d)):t(d)}function s(d){return e.enter("setextHeadingLineSequence"),l(d)}function l(d){return d===i?(e.consume(d),l):(e.exit("setextHeadingLineSequence"),xr(d)?oi(e,c,"lineSuffix")(d):c(d))}function c(d){return d===null||mn(d)?(e.exit("setextHeadingLine"),n(d)):t(d)}}const Vte={tokenize:Yte};function Yte(e){const n=this,t=e.attempt(Mv,r,e.attempt(this.parser.constructs.flowInitial,i,oi(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Zee,i)),"linePrefix")));return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),n.currentConstruct=void 0,t}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n.currentConstruct=void 0,t}}const Gte={resolveAll:eD()},Qte=JI("string"),Kte=JI("text");function JI(e){return{tokenize:n,resolveAll:eD(e==="text"?Xte:void 0)};function n(t){const r=this,i=this.parser.constructs[e],a=t.attempt(i,s,l);return s;function s(h){return d(h)?a(h):l(h)}function l(h){if(h===null){t.consume(h);return}return t.enter("data"),t.consume(h),c}function c(h){return d(h)?(t.exit("data"),a(h)):(t.consume(h),c)}function d(h){if(h===null)return!0;const g=i[h];let b=-1;if(g)for(;++b<g.length;){const m=g[b];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function eD(e){return n;function n(t,r){let i=-1,a;for(;++i<=t.length;)a===void 0?t[i]&&t[i][1].type==="data"&&(a=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==a+2&&(t[a][1].end=t[i-1][1].end,t.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(t,r):t}}function Xte(e,n){let t=0;for(;++t<=e.length;)if((t===e.length||e[t][1].type==="lineEnding")&&e[t-1][1].type==="data"){const r=e[t-1][1],i=n.sliceStream(r);let a=i.length,s=-1,l=0,c;for(;a--;){const d=i[a];if(typeof d=="string"){for(s=d.length;d.charCodeAt(s-1)===32;)l++,s--;if(s)break;s=-1}else if(d===-2)c=!0,l++;else if(d!==-1){a++;break}}if(l){const d={type:t===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},d.start),r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(t,0,["enter",d,n],["exit",d,n]),t+=2)}t++}return e}function Zte(e,n,t){let r=Object.assign(t?Object.assign({},t):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let s=[],l=[];const c={consume:C,enter:N,exit:F,attempt:k(R),check:k(M),interrupt:k(M,{interrupt:!0})},d={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:m,sliceSerialize:b,now:x,defineSkip:y,write:g};let h=n.tokenize.call(d,c);return n.resolveAll&&a.push(n),d;function g(j){return s=Nl(s,j),A(),s[s.length-1]!==null?[]:(L(n,0),d.events=vA(a,d.events,d),d.events)}function b(j,O){return ene(m(j),O)}function m(j){return Jte(s,j)}function x(){const{line:j,column:O,offset:z,_index:T,_bufferIndex:G}=r;return{line:j,column:O,offset:z,_index:T,_bufferIndex:G}}function y(j){i[j.line]=j.column,Q()}function A(){let j;for(;r._index<s.length;){const O=s[r._index];if(typeof O=="string")for(j=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===j&&r._bufferIndex<O.length;)w(O.charCodeAt(r._bufferIndex));else w(O)}}function w(j){h=h(j)}function C(j){mn(j)?(r.line++,r.column=1,r.offset+=j===-3?2:1,Q()):j!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=j}function N(j,O){const z=O||{};return z.type=j,z.start=x(),d.events.push(["enter",z,d]),l.push(z),z}function F(j){const O=l.pop();return O.end=x(),d.events.push(["exit",O,d]),O}function R(j,O){L(j,O.from)}function M(j,O){O.restore()}function k(j,O){return z;function z(T,G,W){let X,ie,ue,$;return Array.isArray(T)?U(T):"tokenize"in T?U([T]):ae(T);function ae(se){return we;function we(ye){const Ce=ye!==null&&se[ye],Oe=ye!==null&&se.null,Le=[...Array.isArray(Ce)?Ce:Ce?[Ce]:[],...Array.isArray(Oe)?Oe:Oe?[Oe]:[]];return U(Le)(ye)}}function U(se){return X=se,ie=0,se.length===0?W:q(se[ie])}function q(se){return we;function we(ye){return $=B(),ue=se,se.partial||(d.currentConstruct=se),se.name&&d.parser.constructs.disable.null.includes(se.name)?ee():se.tokenize.call(O?Object.assign(Object.create(d),O):d,c,Z,ee)(ye)}}function Z(se){return j(ue,$),G}function ee(se){return $.restore(),++ie<X.length?q(X[ie]):W}}}function L(j,O){j.resolveAll&&!a.includes(j)&&a.push(j),j.resolve&&Hc(d.events,O,d.events.length-O,j.resolve(d.events.slice(O),d)),j.resolveTo&&(d.events=j.resolveTo(d.events,d))}function B(){const j=x(),O=d.previous,z=d.currentConstruct,T=d.events.length,G=Array.from(l);return{restore:W,from:T};function W(){r=j,d.previous=O,d.currentConstruct=z,d.events.length=T,l=G,Q()}}function Q(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Jte(e,n){const t=n.start._index,r=n.start._bufferIndex,i=n.end._index,a=n.end._bufferIndex;let s;if(t===i)s=[e[t].slice(r,a)];else{if(s=e.slice(t,i),r>-1){const l=s[0];typeof l=="string"?s[0]=l.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function ene(e,n){let t=-1;const r=[];let i;for(;++t<e.length;){const a=e[t];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=n?" ":"	";break}case-1:{if(!n&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}const tne={42:go,43:go,45:go,48:go,49:go,50:go,51:go,52:go,53:go,54:go,55:go,56:go,57:go,62:VI},nne={91:rte},rne={[-2]:Aw,[-1]:Aw,32:Aw},ine={35:ute,42:dx,45:[G4,dx],60:hte,61:G4,95:dx,96:V4,126:V4},ane={38:GI,92:YI},sne={[-5]:Cw,[-4]:Cw,[-3]:Cw,33:Ote,38:GI,42:KS,60:[Lee,vte],91:Dte,92:[ote,YI],93:SA,95:KS,96:Yee},one={null:[KS,Gte]},lne={null:[42,95]},une={null:[]},cne=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:lne,contentInitial:nne,disable:une,document:tne,flow:ine,flowInitial:rne,insideSpan:one,string:ane,text:sne},Symbol.toStringTag,{value:"Module"}));function dne(e){const t=yee([cne,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:t,content:i(kee),document:i(Nee),flow:i(Vte),string:i(Qte),text:i(Kte)};return r;function i(a){return s;function s(l){return Zte(r,a,l)}}}const Q4=/[\0\t\n\r]/g;function fne(){let e=1,n="",t=!0,r;return i;function i(a,s,l){const c=[];let d,h,g,b,m;for(a=n+a.toString(s),g=0,n="",t&&(a.charCodeAt(0)===65279&&g++,t=void 0);g<a.length;){if(Q4.lastIndex=g,d=Q4.exec(a),b=d&&d.index!==void 0?d.index:a.length,m=a.charCodeAt(b),!d){n=a.slice(g);break}if(m===10&&g===b&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),g<b&&(c.push(a.slice(g,b)),e+=b-g),m){case 0:{c.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,c.push(-2);e++<h;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}g=b+1}return l&&(r&&c.push(-5),n&&c.push(n),c.push(null)),c}}function hne(e){for(;!QI(e););return e}function tD(e,n){const t=Number.parseInt(e,n);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCharCode(t)}const pne=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function mne(e){return e.replace(pne,gne)}function gne(e,n,t){if(n)return n;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),a=i===120||i===88;return tD(t.slice(a?2:1),a?16:10)}return wA(t)||e}const nD={}.hasOwnProperty,bne=function(e,n,t){return typeof n!="string"&&(t=n,n=void 0),yne(t)(hne(dne(t).document().write(fne()(e,n,!0))))};function yne(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Ie),autolinkProtocol:j,autolinkEmail:j,atxHeading:l(te),blockQuote:l(Le),characterEscape:j,characterReference:j,codeFenced:l(He),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(He,c),codeText:l(We,c),codeTextData:j,data:j,codeFlowValue:j,definition:l(V),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(Se),hardBreakEscape:l(ge),hardBreakTrailing:l(ge),htmlFlow:l(ce,c),htmlFlowData:j,htmlText:l(ce,c),htmlTextData:j,image:l(ve),label:c,link:l(Ie),listItem:l(ke),listItemValue:x,listOrdered:l(Pe,m),listUnordered:l(Pe),paragraph:l(Ke),reference:ee,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(te),strong:l(lt),thematicBreak:l(Me)},exit:{atxHeading:h(),atxHeadingSequence:k,autolink:h(),autolinkEmail:Oe,autolinkProtocol:Ce,blockQuote:h(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:we,characterReferenceMarkerNumeric:we,characterReferenceValue:ye,codeFenced:h(C),codeFencedFence:w,codeFencedFenceInfo:y,codeFencedFenceMeta:A,codeFlowValue:O,codeIndented:h(N),codeText:h(X),codeTextData:O,data:O,definition:h(),definitionDestinationString:M,definitionLabelString:F,definitionTitleString:R,emphasis:h(),hardBreakEscape:h(T),hardBreakTrailing:h(T),htmlFlow:h(G),htmlFlowData:O,htmlText:h(W),htmlTextData:O,image:h(ue),label:ae,labelText:$,lineEnding:z,link:h(ie),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:se,resourceDestinationString:U,resourceTitleString:q,resource:Z,setextHeading:h(Q),setextHeadingLineSequence:B,setextHeadingText:L,strong:h(),thematicBreak:h()}};rD(n,(e||{}).mdastExtensions||[]);const t={};return r;function r(xe){let _e={type:"root",children:[]};const Ne={stack:[_e],tokenStack:[],config:n,enter:d,exit:g,buffer:c,resume:b,setData:a,getData:s},ft=[];let Ze=-1;for(;++Ze<xe.length;)if(xe[Ze][1].type==="listOrdered"||xe[Ze][1].type==="listUnordered")if(xe[Ze][0]==="enter")ft.push(Ze);else{const Mt=ft.pop();Ze=i(xe,Mt,Ze)}for(Ze=-1;++Ze<xe.length;){const Mt=n[xe[Ze][0]];nD.call(Mt,xe[Ze][1].type)&&Mt[xe[Ze][1].type].call(Object.assign({sliceSerialize:xe[Ze][2].sliceSerialize},Ne),xe[Ze][1])}if(Ne.tokenStack.length>0){const Mt=Ne.tokenStack[Ne.tokenStack.length-1];(Mt[1]||K4).call(Ne,void 0,Mt[0])}for(_e.position={start:Ff(xe.length>0?xe[0][1].start:{line:1,column:1,offset:0}),end:Ff(xe.length>0?xe[xe.length-2][1].end:{line:1,column:1,offset:0})},Ze=-1;++Ze<n.transforms.length;)_e=n.transforms[Ze](_e)||_e;return _e}function i(xe,_e,Ne){let ft=_e-1,Ze=-1,Mt=!1,kt,Wt,Lt,Kt;for(;++ft<=Ne;){const nn=xe[ft];if(nn[1].type==="listUnordered"||nn[1].type==="listOrdered"||nn[1].type==="blockQuote"?(nn[0]==="enter"?Ze++:Ze--,Kt=void 0):nn[1].type==="lineEndingBlank"?nn[0]==="enter"&&(kt&&!Kt&&!Ze&&!Lt&&(Lt=ft),Kt=void 0):nn[1].type==="linePrefix"||nn[1].type==="listItemValue"||nn[1].type==="listItemMarker"||nn[1].type==="listItemPrefix"||nn[1].type==="listItemPrefixWhitespace"||(Kt=void 0),!Ze&&nn[0]==="enter"&&nn[1].type==="listItemPrefix"||Ze===-1&&nn[0]==="exit"&&(nn[1].type==="listUnordered"||nn[1].type==="listOrdered")){if(kt){let un=ft;for(Wt=void 0;un--;){const zn=xe[un];if(zn[1].type==="lineEnding"||zn[1].type==="lineEndingBlank"){if(zn[0]==="exit")continue;Wt&&(xe[Wt][1].type="lineEndingBlank",Mt=!0),zn[1].type="lineEnding",Wt=un}else if(!(zn[1].type==="linePrefix"||zn[1].type==="blockQuotePrefix"||zn[1].type==="blockQuotePrefixWhitespace"||zn[1].type==="blockQuoteMarker"||zn[1].type==="listItemIndent"))break}Lt&&(!Wt||Lt<Wt)&&(kt._spread=!0),kt.end=Object.assign({},Wt?xe[Wt][1].start:nn[1].end),xe.splice(Wt||ft,0,["exit",kt,nn[2]]),ft++,Ne++}nn[1].type==="listItemPrefix"&&(kt={type:"listItem",_spread:!1,start:Object.assign({},nn[1].start),end:void 0},xe.splice(ft,0,["enter",kt,nn[2]]),ft++,Ne++,Lt=void 0,Kt=!0)}}return xe[_e][1]._spread=Mt,Ne}function a(xe,_e){t[xe]=_e}function s(xe){return t[xe]}function l(xe,_e){return Ne;function Ne(ft){d.call(this,xe(ft),ft),_e&&_e.call(this,ft)}}function c(){this.stack.push({type:"fragment",children:[]})}function d(xe,_e,Ne){return this.stack[this.stack.length-1].children.push(xe),this.stack.push(xe),this.tokenStack.push([_e,Ne]),xe.position={start:Ff(_e.start)},xe}function h(xe){return _e;function _e(Ne){xe&&xe.call(this,Ne),g.call(this,Ne)}}function g(xe,_e){const Ne=this.stack.pop(),ft=this.tokenStack.pop();if(ft)ft[0].type!==xe.type&&(_e?_e.call(this,xe,ft[0]):(ft[1]||K4).call(this,xe,ft[0]));else throw new Error("Cannot close `"+xe.type+"` ("+eg({start:xe.start,end:xe.end})+"): its not open");return Ne.position.end=Ff(xe.end),Ne}function b(){return gee(this.stack.pop())}function m(){a("expectingFirstListItemValue",!0)}function x(xe){if(s("expectingFirstListItemValue")){const _e=this.stack[this.stack.length-2];_e.start=Number.parseInt(this.sliceSerialize(xe),10),a("expectingFirstListItemValue")}}function y(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.lang=xe}function A(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.meta=xe}function w(){s("flowCodeInside")||(this.buffer(),a("flowCodeInside",!0))}function C(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=xe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),a("flowCodeInside")}function N(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=xe.replace(/(\r?\n|\r)$/g,"")}function F(xe){const _e=this.resume(),Ne=this.stack[this.stack.length-1];Ne.label=_e,Ne.identifier=$0(this.sliceSerialize(xe)).toLowerCase()}function R(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.title=xe}function M(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.url=xe}function k(xe){const _e=this.stack[this.stack.length-1];if(!_e.depth){const Ne=this.sliceSerialize(xe).length;_e.depth=Ne}}function L(){a("setextHeadingSlurpLineEnding",!0)}function B(xe){const _e=this.stack[this.stack.length-1];_e.depth=this.sliceSerialize(xe).charCodeAt(0)===61?1:2}function Q(){a("setextHeadingSlurpLineEnding")}function j(xe){const _e=this.stack[this.stack.length-1];let Ne=_e.children[_e.children.length-1];(!Ne||Ne.type!=="text")&&(Ne=tt(),Ne.position={start:Ff(xe.start)},_e.children.push(Ne)),this.stack.push(Ne)}function O(xe){const _e=this.stack.pop();_e.value+=this.sliceSerialize(xe),_e.position.end=Ff(xe.end)}function z(xe){const _e=this.stack[this.stack.length-1];if(s("atHardBreak")){const Ne=_e.children[_e.children.length-1];Ne.position.end=Ff(xe.end),a("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&n.canContainEols.includes(_e.type)&&(j.call(this,xe),O.call(this,xe))}function T(){a("atHardBreak",!0)}function G(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=xe}function W(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=xe}function X(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.value=xe}function ie(){const xe=this.stack[this.stack.length-1];if(s("inReference")){const _e=s("referenceType")||"shortcut";xe.type+="Reference",xe.referenceType=_e,delete xe.url,delete xe.title}else delete xe.identifier,delete xe.label;a("referenceType")}function ue(){const xe=this.stack[this.stack.length-1];if(s("inReference")){const _e=s("referenceType")||"shortcut";xe.type+="Reference",xe.referenceType=_e,delete xe.url,delete xe.title}else delete xe.identifier,delete xe.label;a("referenceType")}function $(xe){const _e=this.sliceSerialize(xe),Ne=this.stack[this.stack.length-2];Ne.label=mne(_e),Ne.identifier=$0(_e).toLowerCase()}function ae(){const xe=this.stack[this.stack.length-1],_e=this.resume(),Ne=this.stack[this.stack.length-1];if(a("inReference",!0),Ne.type==="link"){const ft=xe.children;Ne.children=ft}else Ne.alt=_e}function U(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.url=xe}function q(){const xe=this.resume(),_e=this.stack[this.stack.length-1];_e.title=xe}function Z(){a("inReference")}function ee(){a("referenceType","collapsed")}function se(xe){const _e=this.resume(),Ne=this.stack[this.stack.length-1];Ne.label=_e,Ne.identifier=$0(this.sliceSerialize(xe)).toLowerCase(),a("referenceType","full")}function we(xe){a("characterReferenceType",xe.type)}function ye(xe){const _e=this.sliceSerialize(xe),Ne=s("characterReferenceType");let ft;Ne?(ft=tD(_e,Ne==="characterReferenceMarkerNumeric"?10:16),a("characterReferenceType")):ft=wA(_e);const Ze=this.stack.pop();Ze.value+=ft,Ze.position.end=Ff(xe.end)}function Ce(xe){O.call(this,xe);const _e=this.stack[this.stack.length-1];_e.url=this.sliceSerialize(xe)}function Oe(xe){O.call(this,xe);const _e=this.stack[this.stack.length-1];_e.url="mailto:"+this.sliceSerialize(xe)}function Le(){return{type:"blockquote",children:[]}}function He(){return{type:"code",lang:null,meta:null,value:""}}function We(){return{type:"inlineCode",value:""}}function V(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Se(){return{type:"emphasis",children:[]}}function te(){return{type:"heading",depth:void 0,children:[]}}function ge(){return{type:"break"}}function ce(){return{type:"html",value:""}}function ve(){return{type:"image",title:null,url:"",alt:null}}function Ie(){return{type:"link",title:null,url:"",children:[]}}function Pe(xe){return{type:"list",ordered:xe.type==="listOrdered",start:null,spread:xe._spread,children:[]}}function ke(xe){return{type:"listItem",spread:xe._spread,checked:null,children:[]}}function Ke(){return{type:"paragraph",children:[]}}function lt(){return{type:"strong",children:[]}}function tt(){return{type:"text",value:""}}function Me(){return{type:"thematicBreak"}}}function Ff(e){return{line:e.line,column:e.column,offset:e.offset}}function rD(e,n){let t=-1;for(;++t<n.length;){const r=n[t];Array.isArray(r)?rD(e,r):xne(e,r)}}function xne(e,n){let t;for(t in n)if(nD.call(n,t)){if(t==="canContainEols"){const r=n[t];r&&e[t].push(...r)}else if(t==="transforms"){const r=n[t];r&&e[t].push(...r)}else if(t==="enter"||t==="exit"){const r=n[t];r&&Object.assign(e[t],r)}}}function K4(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+eg({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+eg({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+eg({start:n.start,end:n.end})+") is still open")}function vne(e){Object.assign(this,{Parser:t=>{const r=this.data("settings");return bne(t,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function wne(e,n){const t={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,t),e.applyData(n,t)}function Sne(e,n){const t={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,t),[e.applyData(n,t),{type:"text",value:`
`}]}function Ane(e,n){const t=n.value?n.value+`
`:"",r=n.lang?n.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return n.meta&&(a.data={meta:n.meta}),e.patch(n,a),a=e.applyData(n,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(n,a),a}function Cne(e,n){const t={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function Ene(e,n){const t={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function pm(e){const n=[];let t=-1,r=0,i=0;for(;++t<e.length;){const a=e.charCodeAt(t);let s="";if(a===37&&Ko(e.charCodeAt(t+1))&&Ko(e.charCodeAt(t+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(t+1);a<56320&&l>56319&&l<57344?(s=String.fromCharCode(a,l),i=1):s=""}else s=String.fromCharCode(a);s&&(n.push(e.slice(r,t),encodeURIComponent(s)),r=t+i+1,s=""),i&&(t+=i,i=0)}return n.join("")+e.slice(r)}function iD(e,n){const t=String(n.identifier).toUpperCase(),r=pm(t.toLowerCase()),i=e.footnoteOrder.indexOf(t);let a;i===-1?(e.footnoteOrder.push(t),e.footnoteCounts[t]=1,a=e.footnoteOrder.length):(e.footnoteCounts[t]++,a=i+1);const s=e.footnoteCounts[t],l={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(n,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(n,c),e.applyData(n,c)}function _ne(e,n){const t=e.footnoteById;let r=1;for(;r in t;)r++;const i=String(r);return t[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:n.children}],position:n.position},iD(e,{type:"footnoteReference",identifier:i,position:n.position})}function kne(e,n){const t={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function jne(e,n){if(e.dangerous){const t={type:"raw",value:n.value};return e.patch(n,t),e.applyData(n,t)}return null}function aD(e,n){const t=n.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return{type:"text",value:"!["+n.alt+r};const i=e.all(n),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Nne(e,n){const t=e.definition(n.identifier);if(!t)return aD(e,n);const r={src:pm(t.url||""),alt:n.alt};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(n,i),e.applyData(n,i)}function Tne(e,n){const t={src:pm(n.url)};n.alt!==null&&n.alt!==void 0&&(t.alt=n.alt),n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"img",properties:t,children:[]};return e.patch(n,r),e.applyData(n,r)}function One(e,n){const t={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return e.patch(n,r),e.applyData(n,r)}function Ine(e,n){const t=e.definition(n.identifier);if(!t)return aD(e,n);const r={href:pm(t.url||"")};t.title!==null&&t.title!==void 0&&(r.title=t.title);const i={type:"element",tagName:"a",properties:r,children:e.all(n)};return e.patch(n,i),e.applyData(n,i)}function Dne(e,n){const t={href:pm(n.url)};n.title!==null&&n.title!==void 0&&(t.title=n.title);const r={type:"element",tagName:"a",properties:t,children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function Lne(e,n,t){const r=e.all(n),i=t?Rne(t):sD(n),a={},s=[];if(typeof n.checked=="boolean"){const h=r[0];let g;h&&h.type==="element"&&h.tagName==="p"?g=h:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const h=r[l];(i||l!==0||h.type!=="element"||h.tagName!=="p")&&s.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?s.push(...h.children):s.push(h)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:a,children:s};return e.patch(n,d),e.applyData(n,d)}function Rne(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const t=e.children;let r=-1;for(;!n&&++r<t.length;)n=sD(t[r])}return n}function sD(e){const n=e.spread;return n??e.children.length>1}function Mne(e,n){const t={},r=e.all(n);let i=-1;for(typeof n.start=="number"&&n.start!==1&&(t.start=n.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const a={type:"element",tagName:n.ordered?"ol":"ul",properties:t,children:e.wrap(r,!0)};return e.patch(n,a),e.applyData(n,a)}function Fne(e,n){const t={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}function Pne(e,n){const t={type:"root",children:e.wrap(e.all(n))};return e.patch(n,t),e.applyData(n,t)}function zne(e,n){const t={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const AA=oD("start"),CA=oD("end");function qne(e){return{start:AA(e),end:CA(e)}}function oD(e){return n;function n(t){const r=t&&t.position&&t.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function Bne(e,n){const t=e.all(n),r=t.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(n.children[0],s),i.push(s)}if(t.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(t,!0)},l=AA(n.children[1]),c=CA(n.children[n.children.length-1]);l.line&&c.line&&(s.position={start:l,end:c}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(n,a),e.applyData(n,a)}function Une(e,n,t){const r=t?t.children:void 0,a=(r?r.indexOf(n):1)===0?"th":"td",s=t&&t.type==="table"?t.align:void 0,l=s?s.length:n.children.length;let c=-1;const d=[];for(;++c<l;){const g=n.children[c],b={},m=s?s[c]:void 0;m&&(b.align=m);let x={type:"element",tagName:a,properties:b,children:[]};g&&(x.children=e.all(g),e.patch(g,x),x=e.applyData(n,x)),d.push(x)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(n,h),e.applyData(n,h)}function $ne(e,n){const t={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,t),e.applyData(n,t)}const X4=9,Z4=32;function Hne(e){const n=String(e),t=/\r?\n|\r/g;let r=t.exec(n),i=0;const a=[];for(;r;)a.push(J4(n.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=t.exec(n);return a.push(J4(n.slice(i),i>0,!1)),a.join("")}function J4(e,n,t){let r=0,i=e.length;if(n){let a=e.codePointAt(r);for(;a===X4||a===Z4;)r++,a=e.codePointAt(r)}if(t){let a=e.codePointAt(i-1);for(;a===X4||a===Z4;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Wne(e,n){const t={type:"text",value:Hne(String(n.value))};return e.patch(n,t),e.applyData(n,t)}function Vne(e,n){const t={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,t),e.applyData(n,t)}const Yne={blockquote:wne,break:Sne,code:Ane,delete:Cne,emphasis:Ene,footnoteReference:iD,footnote:_ne,heading:kne,html:jne,imageReference:Nne,image:Tne,inlineCode:One,linkReference:Ine,link:Dne,listItem:Lne,list:Mne,paragraph:Fne,root:Pne,strong:zne,table:Bne,tableCell:$ne,tableRow:Une,text:Wne,thematicBreak:Vne,toml:qy,yaml:qy,definition:qy,footnoteDefinition:qy};function qy(){return null}const lD=function(e){if(e==null)return Xne;if(typeof e=="string")return Kne(e);if(typeof e=="object")return Array.isArray(e)?Gne(e):Qne(e);if(typeof e=="function")return Fv(e);throw new Error("Expected function, string, or object as test")};function Gne(e){const n=[];let t=-1;for(;++t<e.length;)n[t]=lD(e[t]);return Fv(r);function r(...i){let a=-1;for(;++a<n.length;)if(n[a].call(this,...i))return!0;return!1}}function Qne(e){return Fv(n);function n(t){let r;for(r in e)if(t[r]!==e[r])return!1;return!0}}function Kne(e){return Fv(n);function n(t){return t&&t.type===e}}function Fv(e){return n;function n(t,...r){return!!(t&&typeof t=="object"&&"type"in t&&e.call(this,t,...r))}}function Xne(){return!0}const Zne=!0,ej=!1,Jne="skip",ere=function(e,n,t,r){typeof n=="function"&&typeof t!="function"&&(r=t,t=n,n=null);const i=lD(n),a=r?-1:1;s(e,void 0,[])();function s(l,c,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const b=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(b?"<"+b+">":""))+")"})}return g;function g(){let b=[],m,x,y;if((!n||i(l,c,d[d.length-1]||null))&&(b=tre(t(l,d)),b[0]===ej))return b;if(l.children&&b[0]!==Jne)for(x=(r?l.children.length:-1)+a,y=d.concat(l);x>-1&&x<l.children.length;){if(m=s(l.children[x],x,y)(),m[0]===ej)return m;x=typeof m[1]=="number"?m[1]:x+a}return b}}};function tre(e){return Array.isArray(e)?e:typeof e=="number"?[Zne,e]:[e]}const EA=function(e,n,t,r){typeof n=="function"&&typeof t!="function"&&(r=t,t=n,n=null),ere(e,n,i,r);function i(a,s){const l=s[s.length-1];return t(a,l?l.children.indexOf(a):null,l)}};function nre(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const tj={}.hasOwnProperty;function rre(e){const n=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return EA(e,"definition",r=>{const i=nj(r.identifier);i&&!tj.call(n,i)&&(n[i]=r)}),t;function t(r){const i=nj(r);return i&&tj.call(n,i)?n[i]:null}}function nj(e){return String(e||"").toUpperCase()}const Kx={}.hasOwnProperty;function ire(e,n){const t=n||{},r=t.allowDangerousHtml||!1,i={};return s.dangerous=r,s.clobberPrefix=t.clobberPrefix===void 0||t.clobberPrefix===null?"user-content-":t.clobberPrefix,s.footnoteLabel=t.footnoteLabel||"Footnotes",s.footnoteLabelTagName=t.footnoteLabelTagName||"h2",s.footnoteLabelProperties=t.footnoteLabelProperties||{className:["sr-only"]},s.footnoteBackLabel=t.footnoteBackLabel||"Back to content",s.unknownHandler=t.unknownHandler,s.passThrough=t.passThrough,s.handlers={...Yne,...t.handlers},s.definition=rre(e),s.footnoteById=i,s.footnoteOrder=[],s.footnoteCounts={},s.patch=are,s.applyData=sre,s.one=l,s.all=c,s.wrap=lre,s.augment=a,EA(e,"footnoteDefinition",d=>{const h=String(d.identifier).toUpperCase();Kx.call(i,h)||(i[h]=d)}),s;function a(d,h){if(d&&"data"in d&&d.data){const g=d.data;g.hName&&(h.type!=="element"&&(h={type:"element",tagName:"",properties:{},children:[]}),h.tagName=g.hName),h.type==="element"&&g.hProperties&&(h.properties={...h.properties,...g.hProperties}),"children"in h&&h.children&&g.hChildren&&(h.children=g.hChildren)}if(d){const g="type"in d?d:{position:d};nre(g)||(h.position={start:AA(g),end:CA(g)})}return h}function s(d,h,g,b){return Array.isArray(g)&&(b=g,g={}),a(d,{type:"element",tagName:h,properties:g||{},children:b||[]})}function l(d,h){return uD(s,d,h)}function c(d){return _A(s,d)}}function are(e,n){e.position&&(n.position=qne(e))}function sre(e,n){let t=n;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;typeof r=="string"&&(t.type==="element"?t.tagName=r:t={type:"element",tagName:r,properties:{},children:[]}),t.type==="element"&&a&&(t.properties={...t.properties,...a}),"children"in t&&t.children&&i!==null&&i!==void 0&&(t.children=i)}return t}function uD(e,n,t){const r=n&&n.type;if(!r)throw new Error("Expected node, got `"+n+"`");return Kx.call(e.handlers,r)?e.handlers[r](e,n,t):e.passThrough&&e.passThrough.includes(r)?"children"in n?{...n,children:_A(e,n)}:n:e.unknownHandler?e.unknownHandler(e,n,t):ore(e,n)}function _A(e,n){const t=[];if("children"in n){const r=n.children;let i=-1;for(;++i<r.length;){const a=uD(e,r[i],n);if(a){if(i&&r[i-1].type==="break"&&(!Array.isArray(a)&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,"")),!Array.isArray(a)&&a.type==="element")){const s=a.children[0];s&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,""))}Array.isArray(a)?t.push(...a):t.push(a)}}}return t}function ore(e,n){const t=n.data||{},r="value"in n&&!(Kx.call(t,"hProperties")||Kx.call(t,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:_A(e,n)};return e.patch(n,r),e.applyData(n,r)}function lre(e,n){const t=[];let r=-1;for(n&&t.push({type:"text",value:`
`});++r<e.length;)r&&t.push({type:"text",value:`
`}),t.push(e[r]);return n&&e.length>0&&t.push({type:"text",value:`
`}),t}function ure(e){const n=[];let t=-1;for(;++t<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[t]];if(!r)continue;const i=e.all(r),a=String(r.identifier).toUpperCase(),s=pm(a.toLowerCase());let l=0;const c=[];for(;++l<=e.footnoteCounts[a];){const g={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+s+(l>1?"-"+l:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};l>1&&g.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(l)}]}),c.length>0&&c.push({type:"text",value:" "}),c.push(g)}const d=i[i.length-1];if(d&&d.type==="element"&&d.tagName==="p"){const g=d.children[d.children.length-1];g&&g.type==="text"?g.value+=" ":d.children.push({type:"text",value:" "}),d.children.push(...c)}else i.push(...c);const h={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+s},children:e.wrap(i,!0)};e.patch(r,h),n.push(h)}if(n.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(n,!0)},{type:"text",value:`
`}]}}function cD(e,n){const t=ire(e,n),r=t.one(e,null),i=ure(t);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const cre=function(e,n){return e&&"run"in e?dre(e,n):fre(e||n)};function dre(e,n){return(t,r,i)=>{e.run(cD(t,n),r,a=>{i(a)})}}function fre(e){return n=>cD(n,e)}class nb{constructor(n,t,r){this.property=n,this.normal=t,r&&(this.space=r)}}nb.prototype.property={};nb.prototype.normal={};nb.prototype.space=null;function dD(e,n){const t={},r={};let i=-1;for(;++i<e.length;)Object.assign(t,e[i].property),Object.assign(r,e[i].normal);return new nb(t,r,n)}function XS(e){return e.toLowerCase()}class ql{constructor(n,t){this.property=n,this.attribute=t}}ql.prototype.space=null;ql.prototype.boolean=!1;ql.prototype.booleanish=!1;ql.prototype.overloadedBoolean=!1;ql.prototype.number=!1;ql.prototype.commaSeparated=!1;ql.prototype.spaceSeparated=!1;ql.prototype.commaOrSpaceSeparated=!1;ql.prototype.mustUseProperty=!1;ql.prototype.defined=!1;let hre=0;const kn=Np(),ja=Np(),fD=Np(),_t=Np(),ai=Np(),H0=Np(),$o=Np();function Np(){return 2**++hre}const ZS=Object.freeze(Object.defineProperty({__proto__:null,boolean:kn,booleanish:ja,commaOrSpaceSeparated:$o,commaSeparated:H0,number:_t,overloadedBoolean:fD,spaceSeparated:ai},Symbol.toStringTag,{value:"Module"})),Ew=Object.keys(ZS);class kA extends ql{constructor(n,t,r,i){let a=-1;if(super(n,t),rj(this,"space",i),typeof r=="number")for(;++a<Ew.length;){const s=Ew[a];rj(this,Ew[a],(r&ZS[s])===ZS[s])}}}kA.prototype.defined=!0;function rj(e,n,t){t&&(e[n]=t)}const pre={}.hasOwnProperty;function mm(e){const n={},t={};let r;for(r in e.properties)if(pre.call(e.properties,r)){const i=e.properties[r],a=new kA(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),n[r]=a,t[XS(r)]=r,t[XS(a.attribute)]=r}return new nb(n,t,e.space)}const hD=mm({space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),pD=mm({space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function mD(e,n){return n in e?e[n]:n}function gD(e,n){return mD(e,n.toLowerCase())}const bD=mm({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:gD,properties:{xmlns:null,xmlnsXLink:null}}),yD=mm({transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ja,ariaAutoComplete:null,ariaBusy:ja,ariaChecked:ja,ariaColCount:_t,ariaColIndex:_t,ariaColSpan:_t,ariaControls:ai,ariaCurrent:null,ariaDescribedBy:ai,ariaDetails:null,ariaDisabled:ja,ariaDropEffect:ai,ariaErrorMessage:null,ariaExpanded:ja,ariaFlowTo:ai,ariaGrabbed:ja,ariaHasPopup:null,ariaHidden:ja,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ai,ariaLevel:_t,ariaLive:null,ariaModal:ja,ariaMultiLine:ja,ariaMultiSelectable:ja,ariaOrientation:null,ariaOwns:ai,ariaPlaceholder:null,ariaPosInSet:_t,ariaPressed:ja,ariaReadOnly:ja,ariaRelevant:null,ariaRequired:ja,ariaRoleDescription:ai,ariaRowCount:_t,ariaRowIndex:_t,ariaRowSpan:_t,ariaSelected:ja,ariaSetSize:_t,ariaSort:null,ariaValueMax:_t,ariaValueMin:_t,ariaValueNow:_t,ariaValueText:null,role:null}}),mre=mm({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:gD,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:H0,acceptCharset:ai,accessKey:ai,action:null,allow:null,allowFullScreen:kn,allowPaymentRequest:kn,allowUserMedia:kn,alt:null,as:null,async:kn,autoCapitalize:null,autoComplete:ai,autoFocus:kn,autoPlay:kn,blocking:ai,capture:null,charSet:null,checked:kn,cite:null,className:ai,cols:_t,colSpan:null,content:null,contentEditable:ja,controls:kn,controlsList:ai,coords:_t|H0,crossOrigin:null,data:null,dateTime:null,decoding:null,default:kn,defer:kn,dir:null,dirName:null,disabled:kn,download:fD,draggable:ja,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:kn,formTarget:null,headers:ai,height:_t,hidden:kn,high:_t,href:null,hrefLang:null,htmlFor:ai,httpEquiv:ai,id:null,imageSizes:null,imageSrcSet:null,inert:kn,inputMode:null,integrity:null,is:null,isMap:kn,itemId:null,itemProp:ai,itemRef:ai,itemScope:kn,itemType:ai,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:kn,low:_t,manifest:null,max:null,maxLength:_t,media:null,method:null,min:null,minLength:_t,multiple:kn,muted:kn,name:null,nonce:null,noModule:kn,noValidate:kn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:kn,optimum:_t,pattern:null,ping:ai,placeholder:null,playsInline:kn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:kn,referrerPolicy:null,rel:ai,required:kn,reversed:kn,rows:_t,rowSpan:_t,sandbox:ai,scope:null,scoped:kn,seamless:kn,selected:kn,shadowRootClonable:kn,shadowRootDelegatesFocus:kn,shadowRootMode:null,shape:null,size:_t,sizes:null,slot:null,span:_t,spellCheck:ja,src:null,srcDoc:null,srcLang:null,srcSet:null,start:_t,step:null,style:null,tabIndex:_t,target:null,title:null,translate:null,type:null,typeMustMatch:kn,useMap:null,value:ja,width:_t,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ai,axis:null,background:null,bgColor:null,border:_t,borderColor:null,bottomMargin:_t,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:kn,declare:kn,event:null,face:null,frame:null,frameBorder:null,hSpace:_t,leftMargin:_t,link:null,longDesc:null,lowSrc:null,marginHeight:_t,marginWidth:_t,noResize:kn,noHref:kn,noShade:kn,noWrap:kn,object:null,profile:null,prompt:null,rev:null,rightMargin:_t,rules:null,scheme:null,scrolling:ja,standby:null,summary:null,text:null,topMargin:_t,valueType:null,version:null,vAlign:null,vLink:null,vSpace:_t,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:kn,disableRemotePlayback:kn,prefix:null,property:null,results:_t,security:null,unselectable:null}}),gre=mm({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:mD,properties:{about:$o,accentHeight:_t,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:_t,amplitude:_t,arabicForm:null,ascent:_t,attributeName:null,attributeType:null,azimuth:_t,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:_t,by:null,calcMode:null,capHeight:_t,className:ai,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:_t,diffuseConstant:_t,direction:null,display:null,dur:null,divisor:_t,dominantBaseline:null,download:kn,dx:null,dy:null,edgeMode:null,editable:null,elevation:_t,enableBackground:null,end:null,event:null,exponent:_t,externalResourcesRequired:null,fill:null,fillOpacity:_t,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:H0,g2:H0,glyphName:H0,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:_t,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:_t,horizOriginX:_t,horizOriginY:_t,id:null,ideographic:_t,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:_t,k:_t,k1:_t,k2:_t,k3:_t,k4:_t,kernelMatrix:$o,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:_t,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:_t,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:_t,overlineThickness:_t,paintOrder:null,panose1:null,path:null,pathLength:_t,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ai,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:_t,pointsAtY:_t,pointsAtZ:_t,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:$o,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:$o,rev:$o,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:$o,requiredFeatures:$o,requiredFonts:$o,requiredFormats:$o,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:_t,specularExponent:_t,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:_t,strikethroughThickness:_t,string:null,stroke:null,strokeDashArray:$o,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:_t,strokeOpacity:_t,strokeWidth:null,style:null,surfaceScale:_t,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:$o,tabIndex:_t,tableValues:null,target:null,targetX:_t,targetY:_t,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:$o,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:_t,underlineThickness:_t,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:_t,values:null,vAlphabetic:_t,vMathematical:_t,vectorEffect:null,vHanging:_t,vIdeographic:_t,version:null,vertAdvY:_t,vertOriginX:_t,vertOriginY:_t,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:_t,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),bre=/^data[-\w.:]+$/i,ij=/-[a-z]/g,yre=/[A-Z]/g;function xre(e,n){const t=XS(n);let r=n,i=ql;if(t in e.normal)return e.property[e.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&bre.test(n)){if(n.charAt(4)==="-"){const a=n.slice(5).replace(ij,wre);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=n.slice(4);if(!ij.test(a)){let s=a.replace(yre,vre);s.charAt(0)!=="-"&&(s="-"+s),n="data"+s}}i=kA}return new i(r,n)}function vre(e){return"-"+e.toLowerCase()}function wre(e){return e.charAt(1).toUpperCase()}const aj={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Sre=dD([pD,hD,bD,yD,mre],"html"),Are=dD([pD,hD,bD,yD,gre],"svg");function Cre(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return n=>{EA(n,"element",(t,r,i)=>{const a=i;let s;if(e.allowedElements?s=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(s=e.disallowedElements.includes(t.tagName)),!s&&e.allowElement&&typeof r=="number"&&(s=!e.allowElement(t,r,a)),s&&typeof r=="number")return e.unwrapDisallowed&&t.children?a.children.splice(r,1,...t.children):a.children.splice(r,1),r})}}var _w={exports:{}},_r={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sj;function Ere(){if(sj)return _r;sj=1;var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function y(A){if(typeof A=="object"&&A!==null){var w=A.$$typeof;switch(w){case e:switch(A=A.type,A){case t:case i:case r:case d:case h:return A;default:switch(A=A&&A.$$typeof,A){case l:case s:case c:case b:case g:case a:return A;default:return w}}case n:return w}}}return _r.ContextConsumer=s,_r.ContextProvider=a,_r.Element=e,_r.ForwardRef=c,_r.Fragment=t,_r.Lazy=b,_r.Memo=g,_r.Portal=n,_r.Profiler=i,_r.StrictMode=r,_r.Suspense=d,_r.SuspenseList=h,_r.isAsyncMode=function(){return!1},_r.isConcurrentMode=function(){return!1},_r.isContextConsumer=function(A){return y(A)===s},_r.isContextProvider=function(A){return y(A)===a},_r.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},_r.isForwardRef=function(A){return y(A)===c},_r.isFragment=function(A){return y(A)===t},_r.isLazy=function(A){return y(A)===b},_r.isMemo=function(A){return y(A)===g},_r.isPortal=function(A){return y(A)===n},_r.isProfiler=function(A){return y(A)===i},_r.isStrictMode=function(A){return y(A)===r},_r.isSuspense=function(A){return y(A)===d},_r.isSuspenseList=function(A){return y(A)===h},_r.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===t||A===i||A===r||A===d||A===h||A===m||typeof A=="object"&&A!==null&&(A.$$typeof===b||A.$$typeof===g||A.$$typeof===a||A.$$typeof===s||A.$$typeof===c||A.$$typeof===x||A.getModuleId!==void 0)},_r.typeOf=y,_r}var oj;function _re(){return oj||(oj=1,_w.exports=Ere()),_w.exports}var kre=_re();const jre=ns(kre);function Nre(e){const n=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof n=="string"&&n.replace(/[ \t\n\f\r]/g,"")===""}function Tre(e){return e.join(" ").trim()}function Ore(e,n){const t={};return(e[e.length-1]===""?[...e,""]:e).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}var By={exports:{}},kw,lj;function Ire(){if(lj)return kw;lj=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,l=/^\s+|\s+$/g,c=`
`,d="/",h="*",g="",b="comment",m="declaration";kw=function(y,A){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];A=A||{};var w=1,C=1;function N(z){var T=z.match(n);T&&(w+=T.length);var G=z.lastIndexOf(c);C=~G?z.length-G:C+z.length}function F(){var z={line:w,column:C};return function(T){return T.position=new R(z),L(),T}}function R(z){this.start=z,this.end={line:w,column:C},this.source=A.source}R.prototype.content=y;function M(z){var T=new Error(A.source+":"+w+":"+C+": "+z);if(T.reason=z,T.filename=A.source,T.line=w,T.column=C,T.source=y,!A.silent)throw T}function k(z){var T=z.exec(y);if(T){var G=T[0];return N(G),y=y.slice(G.length),T}}function L(){k(t)}function B(z){var T;for(z=z||[];T=Q();)T!==!1&&z.push(T);return z}function Q(){var z=F();if(!(d!=y.charAt(0)||h!=y.charAt(1))){for(var T=2;g!=y.charAt(T)&&(h!=y.charAt(T)||d!=y.charAt(T+1));)++T;if(T+=2,g===y.charAt(T-1))return M("End of comment missing");var G=y.slice(2,T-2);return C+=2,N(G),y=y.slice(T),C+=2,z({type:b,comment:G})}}function j(){var z=F(),T=k(r);if(T){if(Q(),!k(i))return M("property missing ':'");var G=k(a),W=z({type:m,property:x(T[0].replace(e,g)),value:G?x(G[0].replace(e,g)):g});return k(s),W}}function O(){var z=[];B(z);for(var T;T=j();)T!==!1&&(z.push(T),B(z));return z}return L(),O()};function x(y){return y?y.replace(l,g):g}return kw}var uj;function Dre(){if(uj)return By.exports;uj=1;var e=Ire();function n(t,r){var i=null;if(!t||typeof t!="string")return i;for(var a,s=e(t),l=typeof r=="function",c,d,h=0,g=s.length;h<g;h++)a=s[h],c=a.property,d=a.value,l?r(c,d,a):d&&(i||(i={}),i[c]=d);return i}return By.exports=n,By.exports.default=n,By.exports}var Lre=Dre();const Rre=ns(Lre),JS={}.hasOwnProperty,Mre=new Set(["table","thead","tbody","tfoot","tr"]);function xD(e,n){const t=[];let r=-1,i;for(;++r<n.children.length;)i=n.children[r],i.type==="element"?t.push(Fre(e,i,r,n)):i.type==="text"?(n.type!=="element"||!Mre.has(n.tagName)||!Nre(i))&&t.push(i.value):i.type==="raw"&&!e.options.skipHtml&&t.push(i.value);return t}function Fre(e,n,t,r){const i=e.options,a=i.transformLinkUri===void 0?YJ:i.transformLinkUri,s=e.schema,l=n.tagName,c={};let d=s,h;if(s.space==="html"&&l==="svg"&&(d=Are,e.schema=d),n.properties)for(h in n.properties)JS.call(n.properties,h)&&zre(c,h,n.properties[h],e);(l==="ol"||l==="ul")&&e.listDepth++;const g=xD(e,n);(l==="ol"||l==="ul")&&e.listDepth--,e.schema=s;const b=n.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},m=i.components&&JS.call(i.components,l)?i.components[l]:l,x=typeof m=="string"||m===it.Fragment;if(!jre.isValidElementType(m))throw new TypeError(`Component for name \`${l}\` not defined or is not renderable`);if(c.key=t,l==="a"&&i.linkTarget&&(c.target=typeof i.linkTarget=="function"?i.linkTarget(String(c.href||""),n.children,typeof c.title=="string"?c.title:null):i.linkTarget),l==="a"&&a&&(c.href=a(String(c.href||""),n.children,typeof c.title=="string"?c.title:null)),!x&&l==="code"&&r.type==="element"&&r.tagName!=="pre"&&(c.inline=!0),!x&&(l==="h1"||l==="h2"||l==="h3"||l==="h4"||l==="h5"||l==="h6")&&(c.level=Number.parseInt(l.charAt(1),10)),l==="img"&&i.transformImageUri&&(c.src=i.transformImageUri(String(c.src||""),String(c.alt||""),typeof c.title=="string"?c.title:null)),!x&&l==="li"&&r.type==="element"){const y=Pre(n);c.checked=y&&y.properties?!!y.properties.checked:null,c.index=jw(r,n),c.ordered=r.tagName==="ol"}return!x&&(l==="ol"||l==="ul")&&(c.ordered=l==="ol",c.depth=e.listDepth),(l==="td"||l==="th")&&(c.align&&(c.style||(c.style={}),c.style.textAlign=c.align,delete c.align),x||(c.isHeader=l==="th")),!x&&l==="tr"&&r.type==="element"&&(c.isHeader=r.tagName==="thead"),i.sourcePos&&(c["data-sourcepos"]=Ure(b)),!x&&i.rawSourcePos&&(c.sourcePosition=n.position),!x&&i.includeElementIndex&&(c.index=jw(r,n),c.siblingCount=jw(r)),x||(c.node=n),g.length>0?it.createElement(m,c,g):it.createElement(m,c)}function Pre(e){let n=-1;for(;++n<e.children.length;){const t=e.children[n];if(t.type==="element"&&t.tagName==="input")return t}return null}function jw(e,n){let t=-1,r=0;for(;++t<e.children.length&&e.children[t]!==n;)e.children[t].type==="element"&&r++;return r}function zre(e,n,t,r){const i=xre(r.schema,n);let a=t;a==null||a!==a||(Array.isArray(a)&&(a=i.commaSeparated?Ore(a):Tre(a)),i.property==="style"&&typeof a=="string"&&(a=qre(a)),i.space&&i.property?e[JS.call(aj,i.property)?aj[i.property]:i.property]=a:i.attribute&&(e[i.attribute]=a))}function qre(e){const n={};try{Rre(e,t)}catch{}return n;function t(r,i){const a=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;n[a.replace(/-([a-z])/g,Bre)]=i}}function Bre(e,n){return n.toUpperCase()}function Ure(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const cj={}.hasOwnProperty,$re="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Uy={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function jA(e){for(const a in Uy)if(cj.call(Uy,a)&&cj.call(e,a)){const s=Uy[a];console.warn(`[react-markdown] Warning: please ${s.to?`use \`${s.to}\` instead of`:"remove"} \`${a}\` (see <${$re}#${s.id}> for more info)`),delete Uy[a]}const n=dee().use(vne).use(e.remarkPlugins||[]).use(cre,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(Cre,e),t=new UI;typeof e.children=="string"?t.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=n.runSync(n.parse(t),t);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=it.createElement(it.Fragment,{},xD({options:e,schema:Sre,listDepth:0},r));return e.className&&(i=it.createElement("div",{className:e.className},i)),i}jA.propTypes={children:Sn.string,className:Sn.string,allowElement:Sn.func,allowedElements:Sn.arrayOf(Sn.string),disallowedElements:Sn.arrayOf(Sn.string),unwrapDisallowed:Sn.bool,remarkPlugins:Sn.arrayOf(Sn.oneOfType([Sn.object,Sn.func,Sn.arrayOf(Sn.oneOfType([Sn.bool,Sn.string,Sn.object,Sn.func,Sn.arrayOf(Sn.any)]))])),rehypePlugins:Sn.arrayOf(Sn.oneOfType([Sn.object,Sn.func,Sn.arrayOf(Sn.oneOfType([Sn.bool,Sn.string,Sn.object,Sn.func,Sn.arrayOf(Sn.any)]))])),sourcePos:Sn.bool,rawSourcePos:Sn.bool,skipHtml:Sn.bool,includeElementIndex:Sn.bool,transformLinkUri:Sn.oneOfType([Sn.func,Sn.bool]),linkTarget:Sn.oneOfType([Sn.func,Sn.string]),transformImageUri:Sn.func,components:Sn.object};function NA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Kd(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var dj={exports:{}},T1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fj;function Hre(){if(fj)return T1;fj=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return T1.Fragment=n,T1.jsx=t,T1.jsxs=t,T1}var hj;function TA(){return hj||(hj=1,dj.exports=Hre()),dj.exports}var yn=TA(),O1={},pj={exports:{}},mj;function Pv(){return mj||(mj=1,function(e){function n(t){return t&&t.__esModule?t:{default:t}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(pj)),pj.exports}var gj={};function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Vr.apply(null,arguments)}function Bf(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function vD(e){if(K.isValidElement(e)||!Bf(e))return e;const n={};return Object.keys(e).forEach(t=>{n[t]=vD(e[t])}),n}function Dc(e,n,t={clone:!0}){const r=t.clone?Vr({},e):e;return Bf(e)&&Bf(n)&&Object.keys(n).forEach(i=>{K.isValidElement(n[i])?r[i]=n[i]:Bf(n[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Bf(e[i])?r[i]=Dc(e[i],n[i],t):t.clone?r[i]=Bf(n[i])?vD(n[i]):n[i]:r[i]=n[i]}),r}const Wre=Object.freeze(Object.defineProperty({__proto__:null,default:Dc,isPlainObject:Bf},Symbol.toStringTag,{value:"Module"}));function kg(e){let n="https://mui.com/production-error/?code="+e;for(let t=1;t<arguments.length;t+=1)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+e+"; visit "+n+" for the full message."}const Vre=Object.freeze(Object.defineProperty({__proto__:null,default:kg},Symbol.toStringTag,{value:"Module"}));var bj={exports:{}},$r={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yj;function Yre(){if(yj)return $r;yj=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),m=Symbol.for("react.client.reference");function x(y){if(typeof y=="object"&&y!==null){var A=y.$$typeof;switch(A){case e:switch(y=y.type,y){case t:case i:case r:case c:case d:return y;default:switch(y=y&&y.$$typeof,y){case s:case l:case g:case h:return y;case a:return y;default:return A}}case n:return A}}}return $r.ContextConsumer=a,$r.ContextProvider=s,$r.Element=e,$r.ForwardRef=l,$r.Fragment=t,$r.Lazy=g,$r.Memo=h,$r.Portal=n,$r.Profiler=i,$r.StrictMode=r,$r.Suspense=c,$r.SuspenseList=d,$r.isContextConsumer=function(y){return x(y)===a},$r.isContextProvider=function(y){return x(y)===s},$r.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},$r.isForwardRef=function(y){return x(y)===l},$r.isFragment=function(y){return x(y)===t},$r.isLazy=function(y){return x(y)===g},$r.isMemo=function(y){return x(y)===h},$r.isPortal=function(y){return x(y)===n},$r.isProfiler=function(y){return x(y)===i},$r.isStrictMode=function(y){return x(y)===r},$r.isSuspense=function(y){return x(y)===c},$r.isSuspenseList=function(y){return x(y)===d},$r.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===i||y===r||y===c||y===d||y===b||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===h||y.$$typeof===s||y.$$typeof===a||y.$$typeof===l||y.$$typeof===m||y.getModuleId!==void 0)},$r.typeOf=x,$r}var xj;function Gre(){return xj||(xj=1,bj.exports=Yre()),bj.exports}var vj=Gre();const Qre=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function wD(e){const n=`${e}`.match(Qre);return n&&n[1]||""}function SD(e,n=""){return e.displayName||e.name||wD(e)||n}function wj(e,n,t){const r=SD(n);return e.displayName||(r!==""?`${t}(${r})`:t)}function Kre(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return SD(e,"Component");if(typeof e=="object")switch(e.$$typeof){case vj.ForwardRef:return wj(e,e.render,"ForwardRef");case vj.Memo:return wj(e,e.type,"memo");default:return}}}const Xre=Object.freeze(Object.defineProperty({__proto__:null,default:Kre,getFunctionName:wD},Symbol.toStringTag,{value:"Module"}));function lh(e){if(typeof e!="string")throw new Error(kg(7));return e.charAt(0).toUpperCase()+e.slice(1)}const Zre=Object.freeze(Object.defineProperty({__proto__:null,default:lh},Symbol.toStringTag,{value:"Module"}));function Jre(...e){return e.reduce((n,t)=>t==null?n:function(...r){n.apply(this,r),t.apply(this,r)},()=>{})}function eie(e,n=166){let t;function r(...i){const a=()=>{e.apply(this,i)};clearTimeout(t),t=setTimeout(a,n)}return r.clear=()=>{clearTimeout(t)},r}function tie(e,n){return()=>null}function nie(e,n){var t,r;return K.isValidElement(e)&&n.indexOf((t=e.type.muiName)!=null?t:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function AD(e){return e&&e.ownerDocument||document}function rie(e){return AD(e).defaultView||window}function iie(e,n){return()=>null}function CD(e,n){typeof e=="function"?e(n):e&&(e.current=n)}const ED=typeof window<"u"?K.useLayoutEffect:K.useEffect;let Sj=0;function aie(e){const[n,t]=K.useState(e),r=e||n;return K.useEffect(()=>{n==null&&(Sj+=1,t(`mui-${Sj}`))},[n]),r}const Aj=K.useId;function sie(e){if(Aj!==void 0){const n=Aj();return e??n}return aie(e)}function oie(e,n,t,r,i){return null}function lie({controlled:e,default:n,name:t,state:r="value"}){const{current:i}=K.useRef(e!==void 0),[a,s]=K.useState(n),l=i?e:a,c=K.useCallback(d=>{i||s(d)},[]);return[l,c]}function uie(e){const n=K.useRef(e);return ED(()=>{n.current=e}),K.useRef((...t)=>(0,n.current)(...t)).current}function cie(...e){return K.useMemo(()=>e.every(n=>n==null)?null:n=>{e.forEach(t=>{CD(t,n)})},e)}let die=class _D{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new _D}start(n,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},n)}},zv=!0,e6=!1;const fie=new die,hie={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function pie(e){const{type:n,tagName:t}=e;return!!(t==="INPUT"&&hie[n]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function mie(e){e.metaKey||e.altKey||e.ctrlKey||(zv=!0)}function Nw(){zv=!1}function gie(){this.visibilityState==="hidden"&&e6&&(zv=!0)}function bie(e){e.addEventListener("keydown",mie,!0),e.addEventListener("mousedown",Nw,!0),e.addEventListener("pointerdown",Nw,!0),e.addEventListener("touchstart",Nw,!0),e.addEventListener("visibilitychange",gie,!0)}function yie(e){const{target:n}=e;try{return n.matches(":focus-visible")}catch{}return zv||pie(n)}function xie(){const e=K.useCallback(i=>{i!=null&&bie(i.ownerDocument)},[]),n=K.useRef(!1);function t(){return n.current?(e6=!0,fie.start(100,()=>{e6=!1}),n.current=!1,!0):!1}function r(i){return yie(i)?(n.current=!0,!0):!1}return{isFocusVisibleRef:n,onFocus:r,onBlur:t,ref:e}}function t6(e,n){const t=Vr({},n);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Vr({},e[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},a=n[r];t[r]={},!a||!Object.keys(a)?t[r]=i:!i||!Object.keys(i)?t[r]=a:(t[r]=Vr({},a),Object.keys(i).forEach(s=>{t[r][s]=t6(i[s],a[s])}))}else t[r]===void 0&&(t[r]=e[r])}),t}function vie(e,n,t=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((a,s)=>{if(s){const l=n(s);l!==""&&a.push(l),t&&t[s]&&a.push(t[s])}return a},[]).join(" ")}),r}const Cj=e=>e,wie=()=>{let e=Cj;return{configure(n){e=n},generate(n){return e(n)},reset(){e=Cj}}},kD=wie(),Sie={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function jD(e,n,t="Mui"){const r=Sie[n];return r?`${t}-${r}`:`${kD.generate(e)}-${n}`}function Aie(e,n,t="Mui"){const r={};return n.forEach(i=>{r[i]=jD(e,i,t)}),r}function Cie(e,n=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(e,t))}const Eie=Object.freeze(Object.defineProperty({__proto__:null,default:Cie},Symbol.toStringTag,{value:"Module"}));function mh(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.includes(r))continue;t[r]=e[r]}return t}function ND(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=ND(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function _ie(){for(var e,n,t=0,r="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=ND(e))&&(r&&(r+=" "),r+=n);return r}const kie=K.createContext(void 0);function jie(e){const{theme:n,name:t,props:r}=e;if(!n||!n.components||!n.components[t])return r;const i=n.components[t];return i.defaultProps?t6(i.defaultProps,r):!i.styleOverrides&&!i.variants?t6(i,r):r}function Nie({props:e,name:n}){const t=K.useContext(kie);return jie({props:e,name:n,theme:{components:t}})}function Tie(e){return Nie(e)}var Hh={},Ej={exports:{}},_j;function Oie(){return _j||(_j=1,function(e){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)({}).hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(Ej)),Ej.exports}var kj={exports:{}},jj;function Iie(){return jj||(jj=1,function(e){function n(t,r){if(t==null)return{};var i={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.includes(a))continue;i[a]=t[a]}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(kj)),kj.exports}function Die(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function Lie(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var Rie=function(){function e(t){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(t){t.forEach(this._insertTag)},n.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Lie(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Die(r);try{i.insertRule(t,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(t));this.ctr++},n.flush=function(){this.tags.forEach(function(t){var r;return(r=t.parentNode)==null?void 0:r.removeChild(t)}),this.tags=[],this.ctr=0},e}(),Ls="-ms-",Xx="-moz-",mr="-webkit-",TD="comm",OA="rule",IA="decl",Mie="@import",OD="@keyframes",Fie="@layer",Pie=Math.abs,qv=String.fromCharCode,zie=Object.assign;function qie(e,n){return ps(e,0)^45?(((n<<2^ps(e,0))<<2^ps(e,1))<<2^ps(e,2))<<2^ps(e,3):0}function ID(e){return e.trim()}function Bie(e,n){return(e=n.exec(e))?e[0]:e}function br(e,n,t){return e.replace(n,t)}function n6(e,n){return e.indexOf(n)}function ps(e,n){return e.charCodeAt(n)|0}function jg(e,n,t){return e.slice(n,t)}function yc(e){return e.length}function DA(e){return e.length}function $y(e,n){return n.push(e),e}function Uie(e,n){return e.map(n).join("")}var Bv=1,lm=1,DD=0,So=0,Na=0,gm="";function Uv(e,n,t,r,i,a,s){return{value:e,root:n,parent:t,type:r,props:i,children:a,line:Bv,column:lm,length:s,return:""}}function I1(e,n){return zie(Uv("",null,null,"",null,null,0),e,{length:-e.length},n)}function $ie(){return Na}function Hie(){return Na=So>0?ps(gm,--So):0,lm--,Na===10&&(lm=1,Bv--),Na}function Jo(){return Na=So<DD?ps(gm,So++):0,lm++,Na===10&&(lm=1,Bv++),Na}function Lc(){return ps(gm,So)}function fx(){return So}function rb(e,n){return jg(gm,e,n)}function Ng(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function LD(e){return Bv=lm=1,DD=yc(gm=e),So=0,[]}function RD(e){return gm="",e}function hx(e){return ID(rb(So-1,r6(e===91?e+2:e===40?e+1:e)))}function Wie(e){for(;(Na=Lc())&&Na<33;)Jo();return Ng(e)>2||Ng(Na)>3?"":" "}function Vie(e,n){for(;--n&&Jo()&&!(Na<48||Na>102||Na>57&&Na<65||Na>70&&Na<97););return rb(e,fx()+(n<6&&Lc()==32&&Jo()==32))}function r6(e){for(;Jo();)switch(Na){case e:return So;case 34:case 39:e!==34&&e!==39&&r6(Na);break;case 40:e===41&&r6(e);break;case 92:Jo();break}return So}function Yie(e,n){for(;Jo()&&e+Na!==57&&!(e+Na===84&&Lc()===47););return"/*"+rb(n,So-1)+"*"+qv(e===47?e:Jo())}function Gie(e){for(;!Ng(Lc());)Jo();return rb(e,So)}function Qie(e){return RD(px("",null,null,null,[""],e=LD(e),0,[0],e))}function px(e,n,t,r,i,a,s,l,c){for(var d=0,h=0,g=s,b=0,m=0,x=0,y=1,A=1,w=1,C=0,N="",F=i,R=a,M=r,k=N;A;)switch(x=C,C=Jo()){case 40:if(x!=108&&ps(k,g-1)==58){n6(k+=br(hx(C),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:k+=hx(C);break;case 9:case 10:case 13:case 32:k+=Wie(x);break;case 92:k+=Vie(fx()-1,7);continue;case 47:switch(Lc()){case 42:case 47:$y(Kie(Yie(Jo(),fx()),n,t),c);break;default:k+="/"}break;case 123*y:l[d++]=yc(k)*w;case 125*y:case 59:case 0:switch(C){case 0:case 125:A=0;case 59+h:w==-1&&(k=br(k,/\f/g,"")),m>0&&yc(k)-g&&$y(m>32?Tj(k+";",r,t,g-1):Tj(br(k," ","")+";",r,t,g-2),c);break;case 59:k+=";";default:if($y(M=Nj(k,n,t,d,h,i,l,N,F=[],R=[],g),a),C===123)if(h===0)px(k,n,M,M,F,a,g,l,R);else switch(b===99&&ps(k,3)===110?100:b){case 100:case 108:case 109:case 115:px(e,M,M,r&&$y(Nj(e,M,M,0,0,i,l,N,i,F=[],g),R),i,R,g,l,r?F:R);break;default:px(k,M,M,M,[""],R,0,l,R)}}d=h=m=0,y=w=1,N=k="",g=s;break;case 58:g=1+yc(k),m=x;default:if(y<1){if(C==123)--y;else if(C==125&&y++==0&&Hie()==125)continue}switch(k+=qv(C),C*y){case 38:w=h>0?1:(k+="\f",-1);break;case 44:l[d++]=(yc(k)-1)*w,w=1;break;case 64:Lc()===45&&(k+=hx(Jo())),b=Lc(),h=g=yc(N=k+=Gie(fx())),C++;break;case 45:x===45&&yc(k)==2&&(y=0)}}return a}function Nj(e,n,t,r,i,a,s,l,c,d,h){for(var g=i-1,b=i===0?a:[""],m=DA(b),x=0,y=0,A=0;x<r;++x)for(var w=0,C=jg(e,g+1,g=Pie(y=s[x])),N=e;w<m;++w)(N=ID(y>0?b[w]+" "+C:br(C,/&\f/g,b[w])))&&(c[A++]=N);return Uv(e,n,t,i===0?OA:l,c,d,h)}function Kie(e,n,t){return Uv(e,n,t,TD,qv($ie()),jg(e,2,-2),0)}function Tj(e,n,t,r){return Uv(e,n,t,IA,jg(e,0,r),jg(e,r+1,-1),r)}function W0(e,n){for(var t="",r=DA(e),i=0;i<r;i++)t+=n(e[i],i,e,n)||"";return t}function Xie(e,n,t,r){switch(e.type){case Fie:if(e.children.length)break;case Mie:case IA:return e.return=e.return||e.value;case TD:return"";case OD:return e.return=e.value+"{"+W0(e.children,r)+"}";case OA:e.value=e.props.join(",")}return yc(t=W0(e.children,r))?e.return=e.value+"{"+t+"}":""}function Zie(e){var n=DA(e);return function(t,r,i,a){for(var s="",l=0;l<n;l++)s+=e[l](t,r,i,a)||"";return s}}function Jie(e){return function(n){n.root||(n=n.return)&&e(n)}}var eae=function(e,n,t){for(var r=0,i=0;r=i,i=Lc(),r===38&&i===12&&(n[t]=1),!Ng(i);)Jo();return rb(e,So)},tae=function(e,n){var t=-1,r=44;do switch(Ng(r)){case 0:r===38&&Lc()===12&&(n[t]=1),e[t]+=eae(So-1,n,t);break;case 2:e[t]+=hx(r);break;case 4:if(r===44){e[++t]=Lc()===58?"&\f":"",n[t]=e[t].length;break}default:e[t]+=qv(r)}while(r=Jo());return e},nae=function(e,n){return RD(tae(LD(e),n))},Oj=new WeakMap,rae=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,t=e.parent,r=e.column===t.column&&e.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Oj.get(t))&&!r){Oj.set(e,!0);for(var i=[],a=nae(n,i),s=t.props,l=0,c=0;l<a.length;l++)for(var d=0;d<s.length;d++,c++)e.props[c]=i[l]?a[l].replace(/&\f/g,s[d]):s[d]+" "+a[l]}}},iae=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function MD(e,n){switch(qie(e,n)){case 5103:return mr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return mr+e+Xx+e+Ls+e+e;case 6828:case 4268:return mr+e+Ls+e+e;case 6165:return mr+e+Ls+"flex-"+e+e;case 5187:return mr+e+br(e,/(\w+).+(:[^]+)/,mr+"box-$1$2"+Ls+"flex-$1$2")+e;case 5443:return mr+e+Ls+"flex-item-"+br(e,/flex-|-self/,"")+e;case 4675:return mr+e+Ls+"flex-line-pack"+br(e,/align-content|flex-|-self/,"")+e;case 5548:return mr+e+Ls+br(e,"shrink","negative")+e;case 5292:return mr+e+Ls+br(e,"basis","preferred-size")+e;case 6060:return mr+"box-"+br(e,"-grow","")+mr+e+Ls+br(e,"grow","positive")+e;case 4554:return mr+br(e,/([^-])(transform)/g,"$1"+mr+"$2")+e;case 6187:return br(br(br(e,/(zoom-|grab)/,mr+"$1"),/(image-set)/,mr+"$1"),e,"")+e;case 5495:case 3959:return br(e,/(image-set\([^]*)/,mr+"$1$`$1");case 4968:return br(br(e,/(.+:)(flex-)?(.*)/,mr+"box-pack:$3"+Ls+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mr+e+e;case 4095:case 3583:case 4068:case 2532:return br(e,/(.+)-inline(.+)/,mr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yc(e)-1-n>6)switch(ps(e,n+1)){case 109:if(ps(e,n+4)!==45)break;case 102:return br(e,/(.+:)(.+)-([^]+)/,"$1"+mr+"$2-$3$1"+Xx+(ps(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~n6(e,"stretch")?MD(br(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(ps(e,n+1)!==115)break;case 6444:switch(ps(e,yc(e)-3-(~n6(e,"!important")&&10))){case 107:return br(e,":",":"+mr)+e;case 101:return br(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mr+(ps(e,14)===45?"inline-":"")+"box$3$1"+mr+"$2$3$1"+Ls+"$2box$3")+e}break;case 5936:switch(ps(e,n+11)){case 114:return mr+e+Ls+br(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return mr+e+Ls+br(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return mr+e+Ls+br(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return mr+e+Ls+e+e}return e}var aae=function(e,n,t,r){if(e.length>-1&&!e.return)switch(e.type){case IA:e.return=MD(e.value,e.length);break;case OD:return W0([I1(e,{value:br(e.value,"@","@"+mr)})],r);case OA:if(e.length)return Uie(e.props,function(i){switch(Bie(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W0([I1(e,{props:[br(i,/:(read-\w+)/,":"+Xx+"$1")]})],r);case"::placeholder":return W0([I1(e,{props:[br(i,/:(plac\w+)/,":"+mr+"input-$1")]}),I1(e,{props:[br(i,/:(plac\w+)/,":"+Xx+"$1")]}),I1(e,{props:[br(i,/:(plac\w+)/,Ls+"input-$1")]})],r)}return""})}},sae=[aae],oae=function(e){var n=e.key;if(n==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(x){var y=x.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var r=e.stylisPlugins||sae,i={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var y=x.getAttribute("data-emotion").split(" "),A=1;A<y.length;A++)i[y[A]]=!0;s.push(x)});var l,c=[rae,iae];{var d,h=[Xie,Jie(function(x){d.insert(x)})],g=Zie(c.concat(r,h)),b=function(x){return W0(Qie(x),g)};l=function(x,y,A,w){d=A,b(x?x+"{"+y.styles+"}":y.styles),w&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new Rie({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(s),m};let i6;typeof document=="object"&&(i6=oae({key:"css",prepend:!0}));function lae(e){const{injectFirst:n,children:t}=e;return n&&i6?yn.jsx(oT,{value:i6,children:t}):t}function uae(e){return e==null||Object.keys(e).length===0}function cae(e){const{styles:n,defaultTheme:t={}}=e,r=typeof n=="function"?i=>n(uae(i)?t:i):n;return yn.jsx(lT,{styles:r})}/**
 * @mui/styled-engine v5.16.12
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function dae(e,n){return sT(e,n)}const fae=(e,n)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=n(e.__emotion_styles))},hae=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:cae,StyledEngineProvider:lae,ThemeContext:aT,css:iT,default:dae,internal_processStyles:fae,keyframes:rT},Symbol.toStringTag,{value:"Module"})),pae=Kd(hae),mae=Kd(Wre),gae=Kd(Zre),bae=Kd(Xre),yae=["values","unit","step"],xae=e=>{const n=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return n.sort((t,r)=>t.val-r.val),n.reduce((t,r)=>Vr({},t,{[r.key]:r.val}),{})};function FD(e){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=e,i=mh(e,yae),a=xae(n),s=Object.keys(a);function l(b){return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t})`}function c(b){return`@media (max-width:${(typeof n[b]=="number"?n[b]:b)-r/100}${t})`}function d(b,m){const x=s.indexOf(m);return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t}) and (max-width:${(x!==-1&&typeof n[s[x]]=="number"?n[s[x]]:m)-r/100}${t})`}function h(b){return s.indexOf(b)+1<s.length?d(b,s[s.indexOf(b)+1]):l(b)}function g(b){const m=s.indexOf(b);return m===0?l(s[1]):m===s.length-1?c(s[m]):d(b,s[s.indexOf(b)+1]).replace("@media","@media not all and")}return Vr({keys:s,values:a,up:l,down:c,between:d,only:h,not:g,unit:t},i)}const vae={borderRadius:4};function ng(e,n){return n?Dc(e,n,{clone:!1}):e}const LA={xs:0,sm:600,md:900,lg:1200,xl:1536},Ij={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${LA[e]}px)`};function $d(e,n,t){const r=e.theme||{};if(Array.isArray(n)){const i=r.breakpoints||Ij;return n.reduce((a,s,l)=>(a[i.up(i.keys[l])]=t(n[l]),a),{})}if(typeof n=="object"){const i=r.breakpoints||Ij;return Object.keys(n).reduce((a,s)=>{if(Object.keys(i.values||LA).indexOf(s)!==-1){const l=i.up(s);a[l]=t(n[s],s)}else{const l=s;a[l]=n[l]}return a},{})}return t(n)}function wae(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((t,r)=>{const i=e.up(r);return t[i]={},t},{}))||{}}function Sae(e,n){return e.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},n)}function $v(e,n,t=!0){if(!n||typeof n!="string")return null;if(e&&e.vars&&t){const r=`vars.${n}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(r!=null)return r}return n.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Zx(e,n,t,r=t){let i;return typeof e=="function"?i=e(t):Array.isArray(e)?i=e[t]||r:i=$v(e,t)||r,n&&(i=n(i,r,e)),i}function ba(e){const{prop:n,cssProperty:t=e.prop,themeKey:r,transform:i}=e,a=s=>{if(s[n]==null)return null;const l=s[n],c=s.theme,d=$v(c,r)||{};return $d(s,l,h=>{let g=Zx(d,i,h);return h===g&&typeof h=="string"&&(g=Zx(d,i,`${n}${h==="default"?"":lh(h)}`,h)),t===!1?g:{[t]:g}})};return a.propTypes={},a.filterProps=[n],a}function Aae(e){const n={};return t=>(n[t]===void 0&&(n[t]=e(t)),n[t])}const Cae={m:"margin",p:"padding"},Eae={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Dj={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},_ae=Aae(e=>{if(e.length>2)if(Dj[e])e=Dj[e];else return[e];const[n,t]=e.split(""),r=Cae[n],i=Eae[t]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),RA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],MA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...RA,...MA];function ib(e,n,t,r){var i;const a=(i=$v(e,n,!1))!=null?i:t;return typeof a=="number"?s=>typeof s=="string"?s:a*s:Array.isArray(a)?s=>typeof s=="string"?s:a[s]:typeof a=="function"?a:()=>{}}function PD(e){return ib(e,"spacing",8)}function ab(e,n){if(typeof n=="string"||n==null)return n;const t=Math.abs(n),r=e(t);return n>=0?r:typeof r=="number"?-r:`-${r}`}function kae(e,n){return t=>e.reduce((r,i)=>(r[i]=ab(n,t),r),{})}function jae(e,n,t,r){if(n.indexOf(t)===-1)return null;const i=_ae(t),a=kae(i,r),s=e[t];return $d(e,s,a)}function zD(e,n){const t=PD(e.theme);return Object.keys(e).map(r=>jae(e,n,r,t)).reduce(ng,{})}function Vi(e){return zD(e,RA)}Vi.propTypes={};Vi.filterProps=RA;function Yi(e){return zD(e,MA)}Yi.propTypes={};Yi.filterProps=MA;function Nae(e=8){if(e.mui)return e;const n=PD({spacing:e}),t=(...r)=>(r.length===0?[1]:r).map(i=>{const a=n(i);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function Hv(...e){const n=e.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),t=r=>Object.keys(r).reduce((i,a)=>n[a]?ng(i,n[a](r)):i,{});return t.propTypes={},t.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Tl(e){return typeof e!="number"?e:`${e}px solid`}function Bl(e,n){return ba({prop:e,themeKey:"borders",transform:n})}const Tae=Bl("border",Tl),Oae=Bl("borderTop",Tl),Iae=Bl("borderRight",Tl),Dae=Bl("borderBottom",Tl),Lae=Bl("borderLeft",Tl),Rae=Bl("borderColor"),Mae=Bl("borderTopColor"),Fae=Bl("borderRightColor"),Pae=Bl("borderBottomColor"),zae=Bl("borderLeftColor"),qae=Bl("outline",Tl),Bae=Bl("outlineColor"),Wv=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const n=ib(e.theme,"shape.borderRadius",4),t=r=>({borderRadius:ab(n,r)});return $d(e,e.borderRadius,t)}return null};Wv.propTypes={};Wv.filterProps=["borderRadius"];Hv(Tae,Oae,Iae,Dae,Lae,Rae,Mae,Fae,Pae,zae,Wv,qae,Bae);const Vv=e=>{if(e.gap!==void 0&&e.gap!==null){const n=ib(e.theme,"spacing",8),t=r=>({gap:ab(n,r)});return $d(e,e.gap,t)}return null};Vv.propTypes={};Vv.filterProps=["gap"];const Yv=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const n=ib(e.theme,"spacing",8),t=r=>({columnGap:ab(n,r)});return $d(e,e.columnGap,t)}return null};Yv.propTypes={};Yv.filterProps=["columnGap"];const Gv=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const n=ib(e.theme,"spacing",8),t=r=>({rowGap:ab(n,r)});return $d(e,e.rowGap,t)}return null};Gv.propTypes={};Gv.filterProps=["rowGap"];const Uae=ba({prop:"gridColumn"}),$ae=ba({prop:"gridRow"}),Hae=ba({prop:"gridAutoFlow"}),Wae=ba({prop:"gridAutoColumns"}),Vae=ba({prop:"gridAutoRows"}),Yae=ba({prop:"gridTemplateColumns"}),Gae=ba({prop:"gridTemplateRows"}),Qae=ba({prop:"gridTemplateAreas"}),Kae=ba({prop:"gridArea"});Hv(Vv,Yv,Gv,Uae,$ae,Hae,Wae,Vae,Yae,Gae,Qae,Kae);function V0(e,n){return n==="grey"?n:e}const Xae=ba({prop:"color",themeKey:"palette",transform:V0}),Zae=ba({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:V0}),Jae=ba({prop:"backgroundColor",themeKey:"palette",transform:V0});Hv(Xae,Zae,Jae);function Yo(e){return e<=1&&e!==0?`${e*100}%`:e}const ese=ba({prop:"width",transform:Yo}),FA=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const n=t=>{var r,i;const a=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||LA[t];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Yo(t)}};return $d(e,e.maxWidth,n)}return null};FA.filterProps=["maxWidth"];const tse=ba({prop:"minWidth",transform:Yo}),nse=ba({prop:"height",transform:Yo}),rse=ba({prop:"maxHeight",transform:Yo}),ise=ba({prop:"minHeight",transform:Yo});ba({prop:"size",cssProperty:"width",transform:Yo});ba({prop:"size",cssProperty:"height",transform:Yo});const ase=ba({prop:"boxSizing"});Hv(ese,FA,tse,nse,rse,ise,ase);const sb={border:{themeKey:"borders",transform:Tl},borderTop:{themeKey:"borders",transform:Tl},borderRight:{themeKey:"borders",transform:Tl},borderBottom:{themeKey:"borders",transform:Tl},borderLeft:{themeKey:"borders",transform:Tl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Tl},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Wv},color:{themeKey:"palette",transform:V0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:V0},backgroundColor:{themeKey:"palette",transform:V0},p:{style:Yi},pt:{style:Yi},pr:{style:Yi},pb:{style:Yi},pl:{style:Yi},px:{style:Yi},py:{style:Yi},padding:{style:Yi},paddingTop:{style:Yi},paddingRight:{style:Yi},paddingBottom:{style:Yi},paddingLeft:{style:Yi},paddingX:{style:Yi},paddingY:{style:Yi},paddingInline:{style:Yi},paddingInlineStart:{style:Yi},paddingInlineEnd:{style:Yi},paddingBlock:{style:Yi},paddingBlockStart:{style:Yi},paddingBlockEnd:{style:Yi},m:{style:Vi},mt:{style:Vi},mr:{style:Vi},mb:{style:Vi},ml:{style:Vi},mx:{style:Vi},my:{style:Vi},margin:{style:Vi},marginTop:{style:Vi},marginRight:{style:Vi},marginBottom:{style:Vi},marginLeft:{style:Vi},marginX:{style:Vi},marginY:{style:Vi},marginInline:{style:Vi},marginInlineStart:{style:Vi},marginInlineEnd:{style:Vi},marginBlock:{style:Vi},marginBlockStart:{style:Vi},marginBlockEnd:{style:Vi},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Vv},rowGap:{style:Gv},columnGap:{style:Yv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Yo},maxWidth:{style:FA},minWidth:{transform:Yo},height:{transform:Yo},maxHeight:{transform:Yo},minHeight:{transform:Yo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function sse(...e){const n=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(n);return e.every(r=>t.size===Object.keys(r).length)}function ose(e,n){return typeof e=="function"?e(n):e}function qD(){function e(t,r,i,a){const s={[t]:r,theme:i},l=a[t];if(!l)return{[t]:r};const{cssProperty:c=t,themeKey:d,transform:h,style:g}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const b=$v(i,d)||{};return g?g(s):$d(s,r,m=>{let x=Zx(b,h,m);return m===x&&typeof m=="string"&&(x=Zx(b,h,`${t}${m==="default"?"":lh(m)}`,m)),c===!1?x:{[c]:x}})}function n(t){var r;const{sx:i,theme:a={}}=t||{};if(!i)return null;const s=(r=a.unstable_sxConfig)!=null?r:sb;function l(c){let d=c;if(typeof c=="function")d=c(a);else if(typeof c!="object")return c;if(!d)return null;const h=wae(a.breakpoints),g=Object.keys(h);let b=h;return Object.keys(d).forEach(m=>{const x=ose(d[m],a);if(x!=null)if(typeof x=="object")if(s[m])b=ng(b,e(m,x,a,s));else{const y=$d({theme:a},x,A=>({[m]:A}));sse(y,x)?b[m]=n({sx:x,theme:a}):b=ng(b,y)}else b=ng(b,e(m,x,a,s))}),Sae(g,b)}return Array.isArray(i)?i.map(l):l(i)}return n}const Qv=qD();Qv.filterProps=["sx"];function BD(e,n){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:n}:t.palette.mode===e?n:{}}const lse=["breakpoints","palette","spacing","shape"];function UD(e={},...n){const{breakpoints:t={},palette:r={},spacing:i,shape:a={}}=e,s=mh(e,lse),l=FD(t),c=Nae(i);let d=Dc({breakpoints:l,direction:"ltr",components:{},palette:Vr({mode:"light"},r),spacing:c,shape:Vr({},vae,a)},s);return d.applyStyles=BD,d=n.reduce((h,g)=>Dc(h,g),d),d.unstable_sxConfig=Vr({},sb,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(h){return Qv({sx:h,theme:this})},d}const use=Object.freeze(Object.defineProperty({__proto__:null,default:UD,private_createBreakpoints:FD,unstable_applyStyles:BD},Symbol.toStringTag,{value:"Module"})),cse=Kd(use),dse=["sx"],fse=e=>{var n,t;const r={systemProps:{},otherProps:{}},i=(n=e==null||(t=e.theme)==null?void 0:t.unstable_sxConfig)!=null?n:sb;return Object.keys(e).forEach(a=>{i[a]?r.systemProps[a]=e[a]:r.otherProps[a]=e[a]}),r};function hse(e){const{sx:n}=e,t=mh(e,dse),{systemProps:r,otherProps:i}=fse(t);let a;return Array.isArray(n)?a=[r,...n]:typeof n=="function"?a=(...s)=>{const l=n(...s);return Bf(l)?Vr({},r,l):r}:a=Vr({},r,n),Vr({},i,{sx:a})}const pse=Object.freeze(Object.defineProperty({__proto__:null,default:Qv,extendSxProp:hse,unstable_createStyleFunctionSx:qD,unstable_defaultSxConfig:sb},Symbol.toStringTag,{value:"Module"})),mse=Kd(pse);var Lj;function gse(){if(Lj)return Hh;Lj=1;var e=Pv();Object.defineProperty(Hh,"__esModule",{value:!0}),Hh.default=F,Hh.shouldForwardProp=x,Hh.systemDefaultTheme=void 0;var n=e(Oie()),t=e(Iie()),r=g(pae),i=mae;e(gae),e(bae);var a=e(cse),s=e(mse);const l=["ownerState"],c=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function h(R){if(typeof WeakMap!="function")return null;var M=new WeakMap,k=new WeakMap;return(h=function(L){return L?k:M})(R)}function g(R,M){if(R&&R.__esModule)return R;if(R===null||typeof R!="object"&&typeof R!="function")return{default:R};var k=h(M);if(k&&k.has(R))return k.get(R);var L={__proto__:null},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Q in R)if(Q!=="default"&&Object.prototype.hasOwnProperty.call(R,Q)){var j=B?Object.getOwnPropertyDescriptor(R,Q):null;j&&(j.get||j.set)?Object.defineProperty(L,Q,j):L[Q]=R[Q]}return L.default=R,k&&k.set(R,L),L}function b(R){return Object.keys(R).length===0}function m(R){return typeof R=="string"&&R.charCodeAt(0)>96}function x(R){return R!=="ownerState"&&R!=="theme"&&R!=="sx"&&R!=="as"}const y=Hh.systemDefaultTheme=(0,a.default)(),A=R=>R&&R.charAt(0).toLowerCase()+R.slice(1);function w({defaultTheme:R,theme:M,themeId:k}){return b(M)?R:M[k]||M}function C(R){return R?(M,k)=>k[R]:null}function N(R,M){let{ownerState:k}=M,L=(0,t.default)(M,l);const B=typeof R=="function"?R((0,n.default)({ownerState:k},L)):R;if(Array.isArray(B))return B.flatMap(Q=>N(Q,(0,n.default)({ownerState:k},L)));if(B&&typeof B=="object"&&Array.isArray(B.variants)){const{variants:Q=[]}=B;let j=(0,t.default)(B,c);return Q.forEach(O=>{let z=!0;typeof O.props=="function"?z=O.props((0,n.default)({ownerState:k},L,k)):Object.keys(O.props).forEach(T=>{(k==null?void 0:k[T])!==O.props[T]&&L[T]!==O.props[T]&&(z=!1)}),z&&(Array.isArray(j)||(j=[j]),j.push(typeof O.style=="function"?O.style((0,n.default)({ownerState:k},L,k)):O.style))}),j}return B}function F(R={}){const{themeId:M,defaultTheme:k=y,rootShouldForwardProp:L=x,slotShouldForwardProp:B=x}=R,Q=j=>(0,s.default)((0,n.default)({},j,{theme:w((0,n.default)({},j,{defaultTheme:k,themeId:M}))}));return Q.__mui_systemSx=!0,(j,O={})=>{(0,r.internal_processStyles)(j,se=>se.filter(we=>!(we!=null&&we.__mui_systemSx)));const{name:z,slot:T,skipVariantsResolver:G,skipSx:W,overridesResolver:X=C(A(T))}=O,ie=(0,t.default)(O,d),ue=G!==void 0?G:T&&T!=="Root"&&T!=="root"||!1,$=W||!1;let ae,U=x;T==="Root"||T==="root"?U=L:T?U=B:m(j)&&(U=void 0);const q=(0,r.default)(j,(0,n.default)({shouldForwardProp:U,label:ae},ie)),Z=se=>typeof se=="function"&&se.__emotion_real!==se||(0,i.isPlainObject)(se)?we=>N(se,(0,n.default)({},we,{theme:w({theme:we.theme,defaultTheme:k,themeId:M})})):se,ee=(se,...we)=>{let ye=Z(se);const Ce=we?we.map(Z):[];z&&X&&Ce.push(He=>{const We=w((0,n.default)({},He,{defaultTheme:k,themeId:M}));if(!We.components||!We.components[z]||!We.components[z].styleOverrides)return null;const V=We.components[z].styleOverrides,Se={};return Object.entries(V).forEach(([te,ge])=>{Se[te]=N(ge,(0,n.default)({},He,{theme:We}))}),X(He,Se)}),z&&!ue&&Ce.push(He=>{var We;const V=w((0,n.default)({},He,{defaultTheme:k,themeId:M})),Se=V==null||(We=V.components)==null||(We=We[z])==null?void 0:We.variants;return N({variants:Se},(0,n.default)({},He,{theme:V}))}),$||Ce.push(Q);const Oe=Ce.length-we.length;if(Array.isArray(se)&&Oe>0){const He=new Array(Oe).fill("");ye=[...se,...He],ye.raw=[...se.raw,...He]}const Le=q(ye,...Ce);return j.muiName&&(Le.muiName=j.muiName),Le};return q.withConfig&&(ee.withConfig=q.withConfig),ee}}return Hh}var bse=gse();const yse=NA(bse);function xse(e,n){return Vr({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},n)}var Ii={};const vse=Kd(Vre),wse=Kd(Eie);var Rj;function Sse(){if(Rj)return Ii;Rj=1;var e=Pv();Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.alpha=x,Ii.blend=M,Ii.colorChannel=void 0,Ii.darken=A,Ii.decomposeColor=s,Ii.emphasize=F,Ii.getContrastRatio=m,Ii.getLuminance=b,Ii.hexToRgb=i,Ii.hslToRgb=g,Ii.lighten=C,Ii.private_safeAlpha=y,Ii.private_safeColorChannel=void 0,Ii.private_safeDarken=w,Ii.private_safeEmphasize=R,Ii.private_safeLighten=N,Ii.recomposeColor=d,Ii.rgbToHex=h;var n=e(vse),t=e(wse);function r(k,L=0,B=1){return(0,t.default)(k,L,B)}function i(k){k=k.slice(1);const L=new RegExp(`.{1,${k.length>=6?2:1}}`,"g");let B=k.match(L);return B&&B[0].length===1&&(B=B.map(Q=>Q+Q)),B?`rgb${B.length===4?"a":""}(${B.map((Q,j)=>j<3?parseInt(Q,16):Math.round(parseInt(Q,16)/255*1e3)/1e3).join(", ")})`:""}function a(k){const L=k.toString(16);return L.length===1?`0${L}`:L}function s(k){if(k.type)return k;if(k.charAt(0)==="#")return s(i(k));const L=k.indexOf("("),B=k.substring(0,L);if(["rgb","rgba","hsl","hsla","color"].indexOf(B)===-1)throw new Error((0,n.default)(9,k));let Q=k.substring(L+1,k.length-1),j;if(B==="color"){if(Q=Q.split(" "),j=Q.shift(),Q.length===4&&Q[3].charAt(0)==="/"&&(Q[3]=Q[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(j)===-1)throw new Error((0,n.default)(10,j))}else Q=Q.split(",");return Q=Q.map(O=>parseFloat(O)),{type:B,values:Q,colorSpace:j}}const l=k=>{const L=s(k);return L.values.slice(0,3).map((B,Q)=>L.type.indexOf("hsl")!==-1&&Q!==0?`${B}%`:B).join(" ")};Ii.colorChannel=l;const c=(k,L)=>{try{return l(k)}catch{return k}};Ii.private_safeColorChannel=c;function d(k){const{type:L,colorSpace:B}=k;let{values:Q}=k;return L.indexOf("rgb")!==-1?Q=Q.map((j,O)=>O<3?parseInt(j,10):j):L.indexOf("hsl")!==-1&&(Q[1]=`${Q[1]}%`,Q[2]=`${Q[2]}%`),L.indexOf("color")!==-1?Q=`${B} ${Q.join(" ")}`:Q=`${Q.join(", ")}`,`${L}(${Q})`}function h(k){if(k.indexOf("#")===0)return k;const{values:L}=s(k);return`#${L.map((B,Q)=>a(Q===3?Math.round(255*B):B)).join("")}`}function g(k){k=s(k);const{values:L}=k,B=L[0],Q=L[1]/100,j=L[2]/100,O=Q*Math.min(j,1-j),z=(W,X=(W+B/30)%12)=>j-O*Math.max(Math.min(X-3,9-X,1),-1);let T="rgb";const G=[Math.round(z(0)*255),Math.round(z(8)*255),Math.round(z(4)*255)];return k.type==="hsla"&&(T+="a",G.push(L[3])),d({type:T,values:G})}function b(k){k=s(k);let L=k.type==="hsl"||k.type==="hsla"?s(g(k)).values:k.values;return L=L.map(B=>(k.type!=="color"&&(B/=255),B<=.03928?B/12.92:((B+.055)/1.055)**2.4)),Number((.2126*L[0]+.7152*L[1]+.0722*L[2]).toFixed(3))}function m(k,L){const B=b(k),Q=b(L);return(Math.max(B,Q)+.05)/(Math.min(B,Q)+.05)}function x(k,L){return k=s(k),L=r(L),(k.type==="rgb"||k.type==="hsl")&&(k.type+="a"),k.type==="color"?k.values[3]=`/${L}`:k.values[3]=L,d(k)}function y(k,L,B){try{return x(k,L)}catch{return k}}function A(k,L){if(k=s(k),L=r(L),k.type.indexOf("hsl")!==-1)k.values[2]*=1-L;else if(k.type.indexOf("rgb")!==-1||k.type.indexOf("color")!==-1)for(let B=0;B<3;B+=1)k.values[B]*=1-L;return d(k)}function w(k,L,B){try{return A(k,L)}catch{return k}}function C(k,L){if(k=s(k),L=r(L),k.type.indexOf("hsl")!==-1)k.values[2]+=(100-k.values[2])*L;else if(k.type.indexOf("rgb")!==-1)for(let B=0;B<3;B+=1)k.values[B]+=(255-k.values[B])*L;else if(k.type.indexOf("color")!==-1)for(let B=0;B<3;B+=1)k.values[B]+=(1-k.values[B])*L;return d(k)}function N(k,L,B){try{return C(k,L)}catch{return k}}function F(k,L=.15){return b(k)>.5?A(k,L):C(k,L)}function R(k,L,B){try{return F(k,L)}catch{return k}}function M(k,L,B,Q=1){const j=(G,W)=>Math.round((G**(1/Q)*(1-B)+W**(1/Q)*B)**Q),O=s(k),z=s(L),T=[j(O.values[0],z.values[0]),j(O.values[1],z.values[1]),j(O.values[2],z.values[2])];return d({type:"rgb",values:T})}return Ii}var a6=Sse();const Tg={black:"#000",white:"#fff"},Ase={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},f0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},h0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},D1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},p0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},m0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},g0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Cse=["mode","contrastThreshold","tonalOffset"],Mj={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Tg.white,default:Tg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Tw={text:{primary:Tg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Tg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Fj(e,n,t,r){const i=r.light||r,a=r.dark||r*1.5;e[n]||(e.hasOwnProperty(t)?e[n]=e[t]:n==="light"?e.light=a6.lighten(e.main,i):n==="dark"&&(e.dark=a6.darken(e.main,a)))}function Ese(e="light"){return e==="dark"?{main:p0[200],light:p0[50],dark:p0[400]}:{main:p0[700],light:p0[400],dark:p0[800]}}function _se(e="light"){return e==="dark"?{main:f0[200],light:f0[50],dark:f0[400]}:{main:f0[500],light:f0[300],dark:f0[700]}}function kse(e="light"){return e==="dark"?{main:h0[500],light:h0[300],dark:h0[700]}:{main:h0[700],light:h0[400],dark:h0[800]}}function jse(e="light"){return e==="dark"?{main:m0[400],light:m0[300],dark:m0[700]}:{main:m0[700],light:m0[500],dark:m0[900]}}function Nse(e="light"){return e==="dark"?{main:g0[400],light:g0[300],dark:g0[700]}:{main:g0[800],light:g0[500],dark:g0[900]}}function Tse(e="light"){return e==="dark"?{main:D1[400],light:D1[300],dark:D1[700]}:{main:"#ed6c02",light:D1[500],dark:D1[900]}}function Ose(e){const{mode:n="light",contrastThreshold:t=3,tonalOffset:r=.2}=e,i=mh(e,Cse),a=e.primary||Ese(n),s=e.secondary||_se(n),l=e.error||kse(n),c=e.info||jse(n),d=e.success||Nse(n),h=e.warning||Tse(n);function g(x){return a6.getContrastRatio(x,Tw.text.primary)>=t?Tw.text.primary:Mj.text.primary}const b=({color:x,name:y,mainShade:A=500,lightShade:w=300,darkShade:C=700})=>{if(x=Vr({},x),!x.main&&x[A]&&(x.main=x[A]),!x.hasOwnProperty("main"))throw new Error(kg(11,y?` (${y})`:"",A));if(typeof x.main!="string")throw new Error(kg(12,y?` (${y})`:"",JSON.stringify(x.main)));return Fj(x,"light",w,r),Fj(x,"dark",C,r),x.contrastText||(x.contrastText=g(x.main)),x},m={dark:Tw,light:Mj};return Dc(Vr({common:Vr({},Tg),mode:n,primary:b({color:a,name:"primary"}),secondary:b({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:l,name:"error"}),warning:b({color:h,name:"warning"}),info:b({color:c,name:"info"}),success:b({color:d,name:"success"}),grey:Ase,contrastThreshold:t,getContrastText:g,augmentColor:b,tonalOffset:r},m[n]),i)}const Ise=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Dse(e){return Math.round(e*1e5)/1e5}const Pj={textTransform:"uppercase"},zj='"Roboto", "Helvetica", "Arial", sans-serif';function Lse(e,n){const t=typeof n=="function"?n(e):n,{fontFamily:r=zj,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:h,pxToRem:g}=t,b=mh(t,Ise),m=i/14,x=g||(w=>`${w/d*m}rem`),y=(w,C,N,F,R)=>Vr({fontFamily:r,fontWeight:w,fontSize:x(C),lineHeight:N},r===zj?{letterSpacing:`${Dse(F/C)}em`}:{},R,h),A={h1:y(a,96,1.167,-1.5),h2:y(a,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(l,14,1.75,.4,Pj),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,Pj),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Dc(Vr({htmlFontSize:d,pxToRem:x,fontFamily:r,fontSize:i,fontWeightLight:a,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:c},A),b,{clone:!1})}const Rse=.2,Mse=.14,Fse=.12;function vi(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Rse})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Mse})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Fse})`].join(",")}const Pse=["none",vi(0,2,1,-1,0,1,1,0,0,1,3,0),vi(0,3,1,-2,0,2,2,0,0,1,5,0),vi(0,3,3,-2,0,3,4,0,0,1,8,0),vi(0,2,4,-1,0,4,5,0,0,1,10,0),vi(0,3,5,-1,0,5,8,0,0,1,14,0),vi(0,3,5,-1,0,6,10,0,0,1,18,0),vi(0,4,5,-2,0,7,10,1,0,2,16,1),vi(0,5,5,-3,0,8,10,1,0,3,14,2),vi(0,5,6,-3,0,9,12,1,0,3,16,2),vi(0,6,6,-3,0,10,14,1,0,4,18,3),vi(0,6,7,-4,0,11,15,1,0,4,20,3),vi(0,7,8,-4,0,12,17,2,0,5,22,4),vi(0,7,8,-4,0,13,19,2,0,5,24,4),vi(0,7,9,-4,0,14,21,2,0,5,26,4),vi(0,8,9,-5,0,15,22,2,0,6,28,5),vi(0,8,10,-5,0,16,24,2,0,6,30,5),vi(0,8,11,-5,0,17,26,2,0,6,32,5),vi(0,9,11,-5,0,18,28,2,0,7,34,6),vi(0,9,12,-6,0,19,29,2,0,7,36,6),vi(0,10,13,-6,0,20,31,3,0,8,38,7),vi(0,10,13,-6,0,21,33,3,0,8,40,7),vi(0,10,14,-6,0,22,35,3,0,8,42,7),vi(0,11,14,-7,0,23,36,3,0,9,44,8),vi(0,11,15,-7,0,24,38,3,0,9,46,8)],zse=["duration","easing","delay"],qse={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Bse={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function qj(e){return`${Math.round(e)}ms`}function Use(e){if(!e)return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function $se(e){const n=Vr({},qse,e.easing),t=Vr({},Bse,e.duration);return Vr({getAutoHeightDuration:Use,create:(r=["all"],i={})=>{const{duration:a=t.standard,easing:s=n.easeInOut,delay:l=0}=i;return mh(i,zse),(Array.isArray(r)?r:[r]).map(c=>`${c} ${typeof a=="string"?a:qj(a)} ${s} ${typeof l=="string"?l:qj(l)}`).join(",")}},e,{easing:n,duration:t})}const Hse={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Wse=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Vse(e={},...n){const{mixins:t={},palette:r={},transitions:i={},typography:a={}}=e,s=mh(e,Wse);if(e.vars)throw new Error(kg(18));const l=Ose(r),c=UD(e);let d=Dc(c,{mixins:xse(c.breakpoints,t),palette:l,shadows:Pse.slice(),typography:Lse(l,a),transitions:$se(i),zIndex:Vr({},Hse)});return d=Dc(d,s),d=n.reduce((h,g)=>Dc(h,g),d),d.unstable_sxConfig=Vr({},sb,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(h){return Qv({sx:h,theme:this})},d}const Yse=Vse(),Gse="$$material";function Qse(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Kse=e=>Qse(e)&&e!=="classes",Xse=yse({themeId:Gse,defaultTheme:Yse,rootShouldForwardProp:Kse});function Zse(e){return jD("MuiSvgIcon",e)}Aie("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Jse=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],eoe=e=>{const{color:n,fontSize:t,classes:r}=e,i={root:["root",n!=="inherit"&&`color${lh(n)}`,`fontSize${lh(t)}`]};return vie(i,Zse,r)},toe=Xse("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.color!=="inherit"&&n[`color${lh(t.color)}`],n[`fontSize${lh(t.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var t,r,i,a,s,l,c,d,h,g,b,m,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=e.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(s=a.pxToRem)==null?void 0:s.call(a,20))||"1.25rem",medium:((l=e.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((d=e.typography)==null||(h=d.pxToRem)==null?void 0:h.call(d,35))||"2.1875rem"}[n.fontSize],color:(g=(b=(e.vars||e).palette)==null||(b=b[n.color])==null?void 0:b.main)!=null?g:{action:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(x=(e.vars||e).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[n.color]}}),s6=K.forwardRef(function(e,n){const t=Tie({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:h,viewBox:g="0 0 24 24"}=t,b=mh(t,Jse),m=K.isValidElement(r)&&r.type==="svg",x=Vr({},t,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:g,hasSvgAsChild:m}),y={};d||(y.viewBox=g);const A=eoe(x);return yn.jsxs(toe,Vr({as:s,className:_ie(A.root,i),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},y,b,m&&r.props,{ownerState:x,children:[m?r.props.children:r,h?yn.jsx("title",{children:h}):null]}))});s6.muiName="SvgIcon";function noe(e,n){function t(r,i){return yn.jsx(s6,Vr({"data-testid":`${n}Icon`,ref:i},r,{children:e}))}return t.muiName=s6.muiName,K.memo(K.forwardRef(t))}const roe={configure:e=>{kD.configure(e)}},ioe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:lh,createChainedFunction:Jre,createSvgIcon:noe,debounce:eie,deprecatedPropType:tie,isMuiElement:nie,ownerDocument:AD,ownerWindow:rie,requirePropFactory:iie,setRef:CD,unstable_ClassNameGenerator:roe,unstable_useEnhancedEffect:ED,unstable_useId:sie,unsupportedProp:oie,useControlled:lie,useEventCallback:uie,useForkRef:cie,useIsFocusVisible:xie},Symbol.toStringTag,{value:"Module"})),aoe=Kd(ioe);var Bj;function $D(){return Bj||(Bj=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=aoe}(gj)),gj}var Uj;function soe(){if(Uj)return O1;Uj=1;var e=Pv();Object.defineProperty(O1,"__esModule",{value:!0}),O1.default=void 0;var n=e($D()),t=TA();return O1.default=(0,n.default)((0,t.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat"),O1}var ooe=soe();const loe=NA(ooe),Ow={chatToggleButton:{position:"fixed",bottom:20,right:20,bgcolor:"#CDDAFF",color:"white",width:60,height:60,borderRadius:"50%",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.3)","&:hover":{bgcolor:"#0B53C0"},transition:"background-color 0.3s, transform 0.3s","&:active":{transform:"scale(0.95)"}},chatContainer:(e,n)=>({position:"fixed",bottom:e?0:20,right:e?0:20,width:e?"80%":n?"60%":650,height:e?"50%":n?"55%":700,padding:e?1:2,display:"flex",flexDirection:"column",borderRadius:e?0:"16px",backgroundColor:"#F0F4FF",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"}),chatHeader:{fontFamily:"Staatliches, Arial, sans-serif",fontWeight:"bold",color:"black",fontSize:"1.25rem"},chatMessageInput:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif",borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}},chatMessageBox:{maxWidth:"70%",borderRadius:"15px",padding:1,paddingX:2,boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)","&.user":{bgcolor:"#f0f0f0",color:"#555",alignSelf:"flex-end"},"&.bot":{bgcolor:"#CDDAFF",color:"black",alignSelf:"flex-start","&:hover":{bgcolor:"#0B53C0",color:"white"}}},chatButtons:{backgroundColor:"#CDDAFF",color:"black",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",color:"white"}}},uoe=({responses:e})=>yn.jsx(me,{sx:{flexGrow:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:2,padding:2,backgroundColor:"transparent"},children:e.length>0?e.map((n,t)=>yn.jsxs(me,{sx:{display:"flex",flexDirection:"column",alignItems:n.question?"flex-end":"flex-start"},children:[n.question&&yn.jsx(me,{sx:{maxWidth:"70%",bgcolor:"#f0f0f0",color:"#555",borderRadius:"15px",p:1,px:2,mb:2,alignSelf:"flex-end",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"},children:yn.jsx(de,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"#555"},children:n.question})}),(n.answer||n.text)&&yn.jsx(me,{sx:{maxWidth:"70%",bgcolor:"#CDDAFF",color:"black",borderRadius:"15px",p:1,px:2,alignSelf:"flex-start",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",mb:.3,"&:hover":{bgcolor:"#0B53C0",color:"white"}},children:yn.jsx(de,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"inherit",transition:"color 0.3s ease"},children:yn.jsx(jA,{children:n.answer||n.text})})})]},t)):yn.jsx(de,{variant:"body2",sx:{textAlign:"center",color:"#6c757d",fontFamily:"Gabarito, Arial, sans-serif"},children:"No messages yet. Start the conversation!"})}),coe=({onSendMessage:e,onStartConversation:n,onEndConversation:t,conversationId:r})=>{const[i,a]=K.useState(""),s=()=>{i.trim()&&(e(i),a(""))},l=()=>{r||n()},c=()=>{r&&t()};return yn.jsxs(me,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[yn.jsxs(me,{sx:{display:"flex",gap:1},children:[yn.jsx(Bt,{variant:"outlined",placeholder:"Type your message...",fullWidth:!0,size:"small",value:i,onChange:d=>a(d.target.value),onKeyDown:d=>{d.key==="Enter"&&s()},sx:{"& .MuiOutlinedInput-root":{borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}}}),yn.jsx(At,{variant:"contained",onClick:s,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"Send"})]}),r?yn.jsx(At,{variant:"outlined",onClick:c,sx:{color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none",borderColor:"#CDDAFF","&:hover":{borderColor:"#0B53C0",color:"#0B53C0"}},children:"END CONVERSATION"}):yn.jsx(At,{variant:"contained",onClick:l,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"START CONVERSATION"})]})};var L1={},$j;function doe(){if($j)return L1;$j=1;var e=Pv();Object.defineProperty(L1,"__esModule",{value:!0}),L1.default=void 0;var n=e($D()),t=TA();return L1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),L1}var foe=doe();const hoe=NA(foe);function HD(e,n){return function(){return e.apply(n,arguments)}}const{toString:poe}=Object.prototype,{getPrototypeOf:PA}=Object,Kv=(e=>n=>{const t=poe.call(n);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Mu=e=>(e=e.toLowerCase(),n=>Kv(n)===e),Xv=e=>n=>typeof n===e,{isArray:bm}=Array,Og=Xv("undefined");function moe(e){return e!==null&&!Og(e)&&e.constructor!==null&&!Og(e.constructor)&&el(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const WD=Mu("ArrayBuffer");function goe(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&WD(e.buffer),n}const boe=Xv("string"),el=Xv("function"),VD=Xv("number"),Zv=e=>e!==null&&typeof e=="object",yoe=e=>e===!0||e===!1,mx=e=>{if(Kv(e)!=="object")return!1;const n=PA(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},xoe=Mu("Date"),voe=Mu("File"),woe=Mu("Blob"),Soe=Mu("FileList"),Aoe=e=>Zv(e)&&el(e.pipe),Coe=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||el(e.append)&&((n=Kv(e))==="formdata"||n==="object"&&el(e.toString)&&e.toString()==="[object FormData]"))},Eoe=Mu("URLSearchParams"),[_oe,koe,joe,Noe]=["ReadableStream","Request","Response","Headers"].map(Mu),Toe=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ob(e,n,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),bm(e))for(r=0,i=e.length;r<i;r++)n.call(null,e[r],r,e);else{const a=t?Object.getOwnPropertyNames(e):Object.keys(e),s=a.length;let l;for(r=0;r<s;r++)l=a[r],n.call(null,e[l],l,e)}}function YD(e,n){n=n.toLowerCase();const t=Object.keys(e);let r=t.length,i;for(;r-- >0;)if(i=t[r],n===i.toLowerCase())return i;return null}const ep=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,GD=e=>!Og(e)&&e!==ep;function o6(){const{caseless:e}=GD(this)&&this||{},n={},t=(r,i)=>{const a=e&&YD(n,i)||i;mx(n[a])&&mx(r)?n[a]=o6(n[a],r):mx(r)?n[a]=o6({},r):bm(r)?n[a]=r.slice():n[a]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ob(arguments[r],t);return n}const Ooe=(e,n,t,{allOwnKeys:r}={})=>(ob(n,(i,a)=>{t&&el(i)?e[a]=HD(i,t):e[a]=i},{allOwnKeys:r}),e),Ioe=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Doe=(e,n,t,r)=>{e.prototype=Object.create(n.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),t&&Object.assign(e.prototype,t)},Loe=(e,n,t,r)=>{let i,a,s;const l={};if(n=n||{},e==null)return n;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,n))&&!l[s]&&(n[s]=e[s],l[s]=!0);e=t!==!1&&PA(e)}while(e&&(!t||t(e,n))&&e!==Object.prototype);return n},Roe=(e,n,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=n.length;const r=e.indexOf(n,t);return r!==-1&&r===t},Moe=e=>{if(!e)return null;if(bm(e))return e;let n=e.length;if(!VD(n))return null;const t=new Array(n);for(;n-- >0;)t[n]=e[n];return t},Foe=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&PA(Uint8Array)),Poe=(e,n)=>{const t=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=t.next())&&!r.done;){const i=r.value;n.call(e,i[0],i[1])}},zoe=(e,n)=>{let t;const r=[];for(;(t=e.exec(n))!==null;)r.push(t);return r},qoe=Mu("HTMLFormElement"),Boe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,t,r){return t.toUpperCase()+r}),Hj=(({hasOwnProperty:e})=>(n,t)=>e.call(n,t))(Object.prototype),Uoe=Mu("RegExp"),QD=(e,n)=>{const t=Object.getOwnPropertyDescriptors(e),r={};ob(t,(i,a)=>{let s;(s=n(i,a,e))!==!1&&(r[a]=s||i)}),Object.defineProperties(e,r)},$oe=e=>{QD(e,(n,t)=>{if(el(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=e[t];if(el(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Hoe=(e,n)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return bm(e)?r(e):r(String(e).split(n)),t},Woe=()=>{},Voe=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n,Iw="abcdefghijklmnopqrstuvwxyz",Wj="0123456789",KD={DIGIT:Wj,ALPHA:Iw,ALPHA_DIGIT:Iw+Iw.toUpperCase()+Wj},Yoe=(e=16,n=KD.ALPHA_DIGIT)=>{let t="";const{length:r}=n;for(;e--;)t+=n[Math.random()*r|0];return t};function Goe(e){return!!(e&&el(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Qoe=e=>{const n=new Array(10),t=(r,i)=>{if(Zv(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const a=bm(r)?[]:{};return ob(r,(s,l)=>{const c=t(s,i+1);!Og(c)&&(a[l]=c)}),n[i]=void 0,a}}return r};return t(e,0)},Koe=Mu("AsyncFunction"),Xoe=e=>e&&(Zv(e)||el(e))&&el(e.then)&&el(e.catch),XD=((e,n)=>e?setImmediate:n?((t,r)=>(ep.addEventListener("message",({source:i,data:a})=>{i===ep&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),ep.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",el(ep.postMessage)),Zoe=typeof queueMicrotask<"u"?queueMicrotask.bind(ep):typeof process<"u"&&process.nextTick||XD,ut={isArray:bm,isArrayBuffer:WD,isBuffer:moe,isFormData:Coe,isArrayBufferView:goe,isString:boe,isNumber:VD,isBoolean:yoe,isObject:Zv,isPlainObject:mx,isReadableStream:_oe,isRequest:koe,isResponse:joe,isHeaders:Noe,isUndefined:Og,isDate:xoe,isFile:voe,isBlob:woe,isRegExp:Uoe,isFunction:el,isStream:Aoe,isURLSearchParams:Eoe,isTypedArray:Foe,isFileList:Soe,forEach:ob,merge:o6,extend:Ooe,trim:Toe,stripBOM:Ioe,inherits:Doe,toFlatObject:Loe,kindOf:Kv,kindOfTest:Mu,endsWith:Roe,toArray:Moe,forEachEntry:Poe,matchAll:zoe,isHTMLForm:qoe,hasOwnProperty:Hj,hasOwnProp:Hj,reduceDescriptors:QD,freezeMethods:$oe,toObjectSet:Hoe,toCamelCase:Boe,noop:Woe,toFiniteNumber:Voe,findKey:YD,global:ep,isContextDefined:GD,ALPHABET:KD,generateString:Yoe,isSpecCompliantForm:Goe,toJSONObject:Qoe,isAsyncFn:Koe,isThenable:Xoe,setImmediate:XD,asap:Zoe};function Nn(e,n,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ut.inherits(Nn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ut.toJSONObject(this.config),code:this.code,status:this.status}}});const ZD=Nn.prototype,JD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{JD[e]={value:e}});Object.defineProperties(Nn,JD);Object.defineProperty(ZD,"isAxiosError",{value:!0});Nn.from=(e,n,t,r,i,a)=>{const s=Object.create(ZD);return ut.toFlatObject(e,s,function(l){return l!==Error.prototype},l=>l!=="isAxiosError"),Nn.call(s,e.message,n,t,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const Joe=null;function l6(e){return ut.isPlainObject(e)||ut.isArray(e)}function eL(e){return ut.endsWith(e,"[]")?e.slice(0,-2):e}function Vj(e,n,t){return e?e.concat(n).map(function(r,i){return r=eL(r),!t&&i?"["+r+"]":r}).join(t?".":""):n}function ele(e){return ut.isArray(e)&&!e.some(l6)}const tle=ut.toFlatObject(ut,{},null,function(e){return/^is[A-Z]/.test(e)});function Jv(e,n,t){if(!ut.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,t=ut.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,x){return!ut.isUndefined(x[m])});const r=t.metaTokens,i=t.visitor||d,a=t.dots,s=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&ut.isSpecCompliantForm(n);if(!ut.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(ut.isDate(m))return m.toISOString();if(!l&&ut.isBlob(m))throw new Nn("Blob is not supported. Use a Buffer instead.");return ut.isArrayBuffer(m)||ut.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,x,y){let A=m;if(m&&!y&&typeof m=="object"){if(ut.endsWith(x,"{}"))x=r?x:x.slice(0,-2),m=JSON.stringify(m);else if(ut.isArray(m)&&ele(m)||(ut.isFileList(m)||ut.endsWith(x,"[]"))&&(A=ut.toArray(m)))return x=eL(x),A.forEach(function(w,C){!(ut.isUndefined(w)||w===null)&&n.append(s===!0?Vj([x],C,a):s===null?x:x+"[]",c(w))}),!1}return l6(m)?!0:(n.append(Vj(y,x,a),c(m)),!1)}const h=[],g=Object.assign(tle,{defaultVisitor:d,convertValue:c,isVisitable:l6});function b(m,x){if(!ut.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(m),ut.forEach(m,function(y,A){(!(ut.isUndefined(y)||y===null)&&i.call(n,y,ut.isString(A)?A.trim():A,x,g))===!0&&b(y,x?x.concat(A):[A])}),h.pop()}}if(!ut.isObject(e))throw new TypeError("data must be an object");return b(e),n}function Yj(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(t){return n[t]})}function zA(e,n){this._pairs=[],e&&Jv(e,this,n)}const tL=zA.prototype;tL.append=function(e,n){this._pairs.push([e,n])};tL.toString=function(e){const n=e?function(t){return e.call(this,t,Yj)}:Yj;return this._pairs.map(function(t){return n(t[0])+"="+n(t[1])},"").join("&")};function nle(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nL(e,n,t){if(!n)return e;const r=t&&t.encode||nle;ut.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(n,t):a=ut.isURLSearchParams(n)?n.toString():new zA(n,t).toString(r),a){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}let Gj=class{constructor(){this.handlers=[]}use(n,t,r){return this.handlers.push({fulfilled:n,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ut.forEach(this.handlers,function(t){t!==null&&n(t)})}};const rL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rle=typeof URLSearchParams<"u"?URLSearchParams:zA,ile=typeof FormData<"u"?FormData:null,ale=typeof Blob<"u"?Blob:null,sle={isBrowser:!0,classes:{URLSearchParams:rle,FormData:ile,Blob:ale},protocols:["http","https","file","blob","url","data"]},qA=typeof window<"u"&&typeof document<"u",u6=typeof navigator=="object"&&navigator||void 0,ole=qA&&(!u6||["ReactNative","NativeScript","NS"].indexOf(u6.product)<0),lle=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ule=qA&&window.location.href||"http://localhost",cle=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qA,hasStandardBrowserEnv:ole,hasStandardBrowserWebWorkerEnv:lle,navigator:u6,origin:ule},Symbol.toStringTag,{value:"Module"})),qs={...cle,...sle};function dle(e,n){return Jv(e,new qs.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,a){return qs.isNode&&ut.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},n))}function fle(e){return ut.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function hle(e){const n={},t=Object.keys(e);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],n[a]=e[a];return n}function iL(e){function n(t,r,i,a){let s=t[a++];if(s==="__proto__")return!0;const l=Number.isFinite(+s),c=a>=t.length;return s=!s&&ut.isArray(i)?i.length:s,c?(ut.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!l):((!i[s]||!ut.isObject(i[s]))&&(i[s]=[]),n(t,r,i[s],a)&&ut.isArray(i[s])&&(i[s]=hle(i[s])),!l)}if(ut.isFormData(e)&&ut.isFunction(e.entries)){const t={};return ut.forEachEntry(e,(r,i)=>{n(fle(r),i,t,0)}),t}return null}function ple(e,n,t){if(ut.isString(e))try{return(n||JSON.parse)(e),ut.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const lb={transitional:rL,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const t=n.getContentType()||"",r=t.indexOf("application/json")>-1,i=ut.isObject(e);if(i&&ut.isHTMLForm(e)&&(e=new FormData(e)),ut.isFormData(e))return r?JSON.stringify(iL(e)):e;if(ut.isArrayBuffer(e)||ut.isBuffer(e)||ut.isStream(e)||ut.isFile(e)||ut.isBlob(e)||ut.isReadableStream(e))return e;if(ut.isArrayBufferView(e))return e.buffer;if(ut.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(t.indexOf("application/x-www-form-urlencoded")>-1)return dle(e,this.formSerializer).toString();if((a=ut.isFileList(e))||t.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return Jv(a?{"files[]":e}:e,s&&new s,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),ple(e)):e}],transformResponse:[function(e){const n=this.transitional||lb.transitional,t=n&&n.forcedJSONParsing,r=this.responseType==="json";if(ut.isResponse(e)||ut.isReadableStream(e))return e;if(e&&ut.isString(e)&&(t&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i)throw a.name==="SyntaxError"?Nn.from(a,Nn.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qs.classes.FormData,Blob:qs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ut.forEach(["delete","get","head","post","put","patch"],e=>{lb.headers[e]={}});const mle=ut.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gle=e=>{const n={};let t,r,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!t||n[t]&&mle[t])&&(t==="set-cookie"?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n},Qj=Symbol("internals");function R1(e){return e&&String(e).trim().toLowerCase()}function gx(e){return e===!1||e==null?e:ut.isArray(e)?e.map(gx):String(e)}function ble(e){const n=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(e);)n[r[1]]=r[2];return n}const yle=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Dw(e,n,t,r,i){if(ut.isFunction(r))return r.call(this,n,t);if(i&&(n=t),!!ut.isString(n)){if(ut.isString(r))return n.indexOf(r)!==-1;if(ut.isRegExp(r))return r.test(n)}}function xle(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,t,r)=>t.toUpperCase()+r)}function vle(e,n){const t=ut.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+t,{value:function(i,a,s){return this[r].call(this,n,i,a,s)},configurable:!0})})}class wo{constructor(n){n&&this.set(n)}set(n,t,r){const i=this;function a(l,c,d){const h=R1(c);if(!h)throw new Error("header name must be a non-empty string");const g=ut.findKey(i,h);(!g||i[g]===void 0||d===!0||d===void 0&&i[g]!==!1)&&(i[g||c]=gx(l))}const s=(l,c)=>ut.forEach(l,(d,h)=>a(d,h,c));if(ut.isPlainObject(n)||n instanceof this.constructor)s(n,t);else if(ut.isString(n)&&(n=n.trim())&&!yle(n))s(gle(n),t);else if(ut.isHeaders(n))for(const[l,c]of n.entries())a(c,l,r);else n!=null&&a(t,n,r);return this}get(n,t){if(n=R1(n),n){const r=ut.findKey(this,n);if(r){const i=this[r];if(!t)return i;if(t===!0)return ble(i);if(ut.isFunction(t))return t.call(this,i,r);if(ut.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,t){if(n=R1(n),n){const r=ut.findKey(this,n);return!!(r&&this[r]!==void 0&&(!t||Dw(this,this[r],r,t)))}return!1}delete(n,t){const r=this;let i=!1;function a(s){if(s=R1(s),s){const l=ut.findKey(r,s);l&&(!t||Dw(r,r[l],l,t))&&(delete r[l],i=!0)}}return ut.isArray(n)?n.forEach(a):a(n),i}clear(n){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!n||Dw(this,this[a],a,n,!0))&&(delete this[a],i=!0)}return i}normalize(n){const t=this,r={};return ut.forEach(this,(i,a)=>{const s=ut.findKey(r,a);if(s){t[s]=gx(i),delete t[a];return}const l=n?xle(a):String(a).trim();l!==a&&delete t[a],t[l]=gx(i),r[l]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const t=Object.create(null);return ut.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=n&&ut.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,t])=>n+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...t){const r=new this(n);return t.forEach(i=>r.set(i)),r}static accessor(n){const t=(this[Qj]=this[Qj]={accessors:{}}).accessors,r=this.prototype;function i(a){const s=R1(a);t[s]||(vle(r,a),t[s]=!0)}return ut.isArray(n)?n.forEach(i):i(n),this}}wo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ut.reduceDescriptors(wo.prototype,({value:e},n)=>{let t=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(r){this[t]=r}}});ut.freezeMethods(wo);function Lw(e,n){const t=this||lb,r=n||t,i=wo.from(r.headers);let a=r.data;return ut.forEach(e,function(s){a=s.call(t,a,i.normalize(),n?n.status:void 0)}),i.normalize(),a}function aL(e){return!!(e&&e.__CANCEL__)}function ym(e,n,t){Nn.call(this,e??"canceled",Nn.ERR_CANCELED,n,t),this.name="CanceledError"}ut.inherits(ym,Nn,{__CANCEL__:!0});function sL(e,n,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?e(t):n(new Nn("Request failed with status code "+t.status,[Nn.ERR_BAD_REQUEST,Nn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function wle(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function Sle(e,n){e=e||10;const t=new Array(e),r=new Array(e);let i=0,a=0,s;return n=n!==void 0?n:1e3,function(l){const c=Date.now(),d=r[a];s||(s=c),t[i]=l,r[i]=c;let h=a,g=0;for(;h!==i;)g+=t[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),c-s<n)return;const b=d&&c-d;return b?Math.round(g*1e3/b):void 0}}function Ale(e,n){let t=0,r=1e3/n,i,a;const s=(l,c=Date.now())=>{t=c,i=null,a&&(clearTimeout(a),a=null),e.apply(null,l)};return[(...l)=>{const c=Date.now(),d=c-t;d>=r?s(l,c):(i=l,a||(a=setTimeout(()=>{a=null,s(i)},r-d)))},()=>i&&s(i)]}const Jx=(e,n,t=3)=>{let r=0;const i=Sle(50,250);return Ale(a=>{const s=a.loaded,l=a.lengthComputable?a.total:void 0,c=s-r,d=i(c),h=s<=l;r=s;const g={loaded:s,total:l,progress:l?s/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&h?(l-s)/d:void 0,event:a,lengthComputable:l!=null,[n?"download":"upload"]:!0};e(g)},t)},Kj=(e,n)=>{const t=e!=null;return[r=>n[0]({lengthComputable:t,total:e,loaded:r}),n[1]]},Xj=e=>(...n)=>ut.asap(()=>e(...n)),Cle=qs.hasStandardBrowserEnv?((e,n)=>t=>(t=new URL(t,qs.origin),e.protocol===t.protocol&&e.host===t.host&&(n||e.port===t.port)))(new URL(qs.origin),qs.navigator&&/(msie|trident)/i.test(qs.navigator.userAgent)):()=>!0,Ele=qs.hasStandardBrowserEnv?{write(e,n,t,r,i,a){const s=[e+"="+encodeURIComponent(n)];ut.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),ut.isString(r)&&s.push("path="+r),ut.isString(i)&&s.push("domain="+i),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _le(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function kle(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function oL(e,n){return e&&!_le(n)?kle(e,n):n}const Zj=e=>e instanceof wo?{...e}:e;function yp(e,n){n=n||{};const t={};function r(d,h,g,b){return ut.isPlainObject(d)&&ut.isPlainObject(h)?ut.merge.call({caseless:b},d,h):ut.isPlainObject(h)?ut.merge({},h):ut.isArray(h)?h.slice():h}function i(d,h,g,b){if(ut.isUndefined(h)){if(!ut.isUndefined(d))return r(void 0,d,g,b)}else return r(d,h,g,b)}function a(d,h){if(!ut.isUndefined(h))return r(void 0,h)}function s(d,h){if(ut.isUndefined(h)){if(!ut.isUndefined(d))return r(void 0,d)}else return r(void 0,h)}function l(d,h,g){if(g in n)return r(d,h);if(g in e)return r(void 0,d)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l,headers:(d,h,g)=>i(Zj(d),Zj(h),g,!0)};return ut.forEach(Object.keys(Object.assign({},e,n)),function(d){const h=c[d]||i,g=h(e[d],n[d],d);ut.isUndefined(g)&&h!==l||(t[d]=g)}),t}const lL=e=>{const n=yp({},e);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=n;n.headers=s=wo.from(s),n.url=nL(oL(n.baseURL,n.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ut.isFormData(t)){if(qs.hasStandardBrowserEnv||qs.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[d,...h]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([d||"multipart/form-data",...h].join("; "))}}if(qs.hasStandardBrowserEnv&&(r&&ut.isFunction(r)&&(r=r(n)),r||r!==!1&&Cle(n.url))){const d=i&&a&&Ele.read(a);d&&s.set(i,d)}return n},jle=typeof XMLHttpRequest<"u",Nle=jle&&function(e){return new Promise(function(n,t){const r=lL(e);let i=r.data;const a=wo.from(r.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=r,d,h,g,b,m;function x(){b&&b(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let y=new XMLHttpRequest;y.open(r.method.toUpperCase(),r.url,!0),y.timeout=r.timeout;function A(){if(!y)return;const C=wo.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),N={data:!s||s==="text"||s==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:C,config:e,request:y};sL(function(F){n(F),x()},function(F){t(F),x()},N),y=null}"onloadend"in y?y.onloadend=A:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(A)},y.onabort=function(){y&&(t(new Nn("Request aborted",Nn.ECONNABORTED,e,y)),y=null)},y.onerror=function(){t(new Nn("Network Error",Nn.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const N=r.transitional||rL;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),t(new Nn(C,N.clarifyTimeoutError?Nn.ETIMEDOUT:Nn.ECONNABORTED,e,y)),y=null},i===void 0&&a.setContentType(null),"setRequestHeader"in y&&ut.forEach(a.toJSON(),function(C,N){y.setRequestHeader(N,C)}),ut.isUndefined(r.withCredentials)||(y.withCredentials=!!r.withCredentials),s&&s!=="json"&&(y.responseType=r.responseType),c&&([g,m]=Jx(c,!0),y.addEventListener("progress",g)),l&&y.upload&&([h,b]=Jx(l),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",b)),(r.cancelToken||r.signal)&&(d=C=>{y&&(t(!C||C.type?new ym(null,e,y):C),y.abort(),y=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const w=wle(r.url);if(w&&qs.protocols.indexOf(w)===-1){t(new Nn("Unsupported protocol "+w+":",Nn.ERR_BAD_REQUEST,e));return}y.send(i||null)})},Tle=(e,n)=>{const{length:t}=e=e?e.filter(Boolean):[];if(n||t){let r=new AbortController,i;const a=function(d){if(!i){i=!0,l();const h=d instanceof Error?d:this.reason;r.abort(h instanceof Nn?h:new ym(h instanceof Error?h.message:h))}};let s=n&&setTimeout(()=>{s=null,a(new Nn(`timeout ${n} of ms exceeded`,Nn.ETIMEDOUT))},n);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=r;return c.unsubscribe=()=>ut.asap(l),c}},Ole=function*(e,n){let t=e.byteLength;if(t<n){yield e;return}let r=0,i;for(;r<t;)i=r+n,yield e.slice(r,i),r=i},Ile=async function*(e,n){for await(const t of Dle(e))yield*Ole(t,n)},Dle=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:t,value:r}=await n.read();if(t)break;yield r}}finally{await n.cancel()}},Jj=(e,n,t,r)=>{const i=Ile(e,n);let a=0,s,l=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:h}=await i.next();if(d){l(),c.close();return}let g=h.byteLength;if(t){let b=a+=g;t(b)}c.enqueue(new Uint8Array(h))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},e2=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uL=e2&&typeof ReadableStream=="function",Lle=e2&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),cL=(e,...n)=>{try{return!!e(...n)}catch{return!1}},Rle=uL&&cL(()=>{let e=!1;const n=new Request(qs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),eN=64*1024,c6=uL&&cL(()=>ut.isReadableStream(new Response("").body)),ev={stream:c6&&(e=>e.body)};e2&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!ev[n]&&(ev[n]=ut.isFunction(e[n])?t=>t[n]():(t,r)=>{throw new Nn(`Response type '${n}' is not supported`,Nn.ERR_NOT_SUPPORT,r)})})})(new Response);const Mle=async e=>{if(e==null)return 0;if(ut.isBlob(e))return e.size;if(ut.isSpecCompliantForm(e))return(await new Request(qs.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ut.isArrayBufferView(e)||ut.isArrayBuffer(e))return e.byteLength;if(ut.isURLSearchParams(e)&&(e=e+""),ut.isString(e))return(await Lle(e)).byteLength},Fle=async(e,n)=>ut.toFiniteNumber(e.getContentLength())??Mle(n),Ple=e2&&(async e=>{let{url:n,method:t,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:h,withCredentials:g="same-origin",fetchOptions:b}=lL(e);d=d?(d+"").toLowerCase():"text";let m=Tle([i,a&&a.toAbortSignal()],s),x;const y=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let A;try{if(c&&Rle&&t!=="get"&&t!=="head"&&(A=await Fle(h,r))!==0){let R=new Request(n,{method:"POST",body:r,duplex:"half"}),M;if(ut.isFormData(r)&&(M=R.headers.get("content-type"))&&h.setContentType(M),R.body){const[k,L]=Kj(A,Jx(Xj(c)));r=Jj(R.body,eN,k,L)}}ut.isString(g)||(g=g?"include":"omit");const w="credentials"in Request.prototype;x=new Request(n,{...b,signal:m,method:t.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:w?g:void 0});let C=await fetch(x);const N=c6&&(d==="stream"||d==="response");if(c6&&(l||N&&y)){const R={};["status","statusText","headers"].forEach(B=>{R[B]=C[B]});const M=ut.toFiniteNumber(C.headers.get("content-length")),[k,L]=l&&Kj(M,Jx(Xj(l),!0))||[];C=new Response(Jj(C.body,eN,k,()=>{L&&L(),y&&y()}),R)}d=d||"text";let F=await ev[ut.findKey(ev,d)||"text"](C,e);return!N&&y&&y(),await new Promise((R,M)=>{sL(R,M,{data:F,headers:wo.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:x})})}catch(w){throw y&&y(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new Nn("Network Error",Nn.ERR_NETWORK,e,x),{cause:w.cause||w}):Nn.from(w,w&&w.code,e,x)}}),d6={http:Joe,xhr:Nle,fetch:Ple};ut.forEach(d6,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const tN=e=>`- ${e}`,zle=e=>ut.isFunction(e)||e===null||e===!1,dL={getAdapter:e=>{e=ut.isArray(e)?e:[e];const{length:n}=e;let t,r;const i={};for(let a=0;a<n;a++){t=e[a];let s;if(r=t,!zle(t)&&(r=d6[(s=String(t)).toLowerCase()],r===void 0))throw new Nn(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+a]=r}if(!r){const a=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=n?a.length>1?`since :
`+a.map(tN).join(`
`):" "+tN(a[0]):"as no adapter specified";throw new Nn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:d6};function Rw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ym(null,e)}function nN(e){return Rw(e),e.headers=wo.from(e.headers),e.data=Lw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),dL.getAdapter(e.adapter||lb.adapter)(e).then(function(n){return Rw(e),n.data=Lw.call(e,e.transformResponse,n),n.headers=wo.from(n.headers),n},function(n){return aL(n)||(Rw(e),n&&n.response&&(n.response.data=Lw.call(e,e.transformResponse,n.response),n.response.headers=wo.from(n.response.headers))),Promise.reject(n)})}const fL="1.7.9",t2={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{t2[e]=function(t){return typeof t===e||"a"+(n<1?"n ":" ")+e}});const rN={};t2.transitional=function(e,n,t){function r(i,a){return"[Axios v"+fL+"] Transitional option '"+i+"'"+a+(t?". "+t:"")}return(i,a,s)=>{if(e===!1)throw new Nn(r(a," has been removed"+(n?" in "+n:"")),Nn.ERR_DEPRECATED);return n&&!rN[a]&&(rN[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,a,s):!0}};t2.spelling=function(e){return(n,t)=>(console.warn(`${t} is likely a misspelling of ${e}`),!0)};function qle(e,n,t){if(typeof e!="object")throw new Nn("options must be an object",Nn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=n[a];if(s){const l=e[a],c=l===void 0||s(l,a,e);if(c!==!0)throw new Nn("option "+a+" must be "+c,Nn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Nn("Unknown option "+a,Nn.ERR_BAD_OPTION)}}const bx={assertOptions:qle,validators:t2},dc=bx.validators;let up=class{constructor(n){this.defaults=n,this.interceptors={request:new Gj,response:new Gj}}async request(n,t){try{return await this._request(n,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(n,t){typeof n=="string"?(t=t||{},t.url=n):t=n||{},t=yp(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&bx.assertOptions(r,{silentJSONParsing:dc.transitional(dc.boolean),forcedJSONParsing:dc.transitional(dc.boolean),clarifyTimeoutError:dc.transitional(dc.boolean)},!1),i!=null&&(ut.isFunction(i)?t.paramsSerializer={serialize:i}:bx.assertOptions(i,{encode:dc.function,serialize:dc.function},!0)),bx.assertOptions(t,{baseUrl:dc.spelling("baseURL"),withXsrfToken:dc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&ut.merge(a.common,a[t.method]);a&&ut.forEach(["delete","get","head","post","put","patch","common"],x=>{delete a[x]}),t.headers=wo.concat(s,a);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let h,g=0,b;if(!c){const x=[nN.bind(this),void 0];for(x.unshift.apply(x,l),x.push.apply(x,d),b=x.length,h=Promise.resolve(t);g<b;)h=h.then(x[g++],x[g++]);return h}b=l.length;let m=t;for(g=0;g<b;){const x=l[g++],y=l[g++];try{m=x(m)}catch(A){y.call(this,A);break}}try{h=nN.call(this,m)}catch(x){return Promise.reject(x)}for(g=0,b=d.length;g<b;)h=h.then(d[g++],d[g++]);return h}getUri(n){n=yp(this.defaults,n);const t=oL(n.baseURL,n.url);return nL(t,n.params,n.paramsSerializer)}};ut.forEach(["delete","get","head","options"],function(e){up.prototype[e]=function(n,t){return this.request(yp(t||{},{method:e,url:n,data:(t||{}).data}))}});ut.forEach(["post","put","patch"],function(e){function n(t){return function(r,i,a){return this.request(yp(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}up.prototype[e]=n(),up.prototype[e+"Form"]=n(!0)});let Ble=class hL{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(l=>{r.subscribe(l),a=l}).then(i);return s.cancel=function(){r.unsubscribe(a)},s},n(function(i,a,s){r.reason||(r.reason=new ym(i,a,s),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const t=this._listeners.indexOf(n);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const n=new AbortController,t=r=>{n.abort(r)};return this.subscribe(t),n.signal.unsubscribe=()=>this.unsubscribe(t),n.signal}static source(){let n;return{token:new hL(function(t){n=t}),cancel:n}}};function Ule(e){return function(n){return e.apply(null,n)}}function $le(e){return ut.isObject(e)&&e.isAxiosError===!0}const f6={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(f6).forEach(([e,n])=>{f6[n]=e});function pL(e){const n=new up(e),t=HD(up.prototype.request,n);return ut.extend(t,up.prototype,n,{allOwnKeys:!0}),ut.extend(t,n,null,{allOwnKeys:!0}),t.create=function(r){return pL(yp(e,r))},t}const Pi=pL(lb);Pi.Axios=up;Pi.CanceledError=ym;Pi.CancelToken=Ble;Pi.isCancel=aL;Pi.VERSION=fL;Pi.toFormData=Jv;Pi.AxiosError=Nn;Pi.Cancel=Pi.CanceledError;Pi.all=function(e){return Promise.all(e)};Pi.spread=Ule;Pi.isAxiosError=$le;Pi.mergeConfig=yp;Pi.AxiosHeaders=wo;Pi.formToJSON=e=>iL(ut.isHTMLForm(e)?new FormData(e):e);Pi.getAdapter=dL.getAdapter;Pi.HttpStatusCode=f6;Pi.default=Pi;const Hle=async e=>{const n=new FormData;n.append("chatbot_id",e);try{const t=await Pi.post("https://rag-flask-api.onrender.com/start_conversation",n,{headers:{"Content-Type":"multipart/form-data"}}),{conversation_id:r,intro_message:i}=t.data;if(!r)throw new Error("Failed to retrieve conversation ID from server.");return{conversationId:r,introMessage:i}}catch(t){throw console.error("Error starting conversation:",t),t}},Wle=async(e,n,t)=>{const r=new FormData;r.append("chatbot_id",e),r.append("conversation_id",n),r.append("question",t);try{return(await Pi.post("https://rag-flask-api.onrender.com/ask",r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(i){throw console.error("Error sending message:",i),i}},Vle=async(e,n)=>{const t=new FormData;t.append("chatbot_id",e),t.append("conversation_id",n);try{await Pi.post("https://rag-flask-api.onrender.com/end_conversation",t,{headers:{"Content-Type":"multipart/form-data"}})}catch(r){throw console.error("Error ending conversation:",r),r}},Yle=async e=>{try{const n=await Pi.get(`https://rag-flask-api.onrender.com/summary/${e}`);if(n.status===200&&n.data.summary)return n.data.summary;throw new Error("Summary not found for this chatbot.")}catch(n){throw console.error("Error fetching summary:",n),n}},Gle=({chatbotId:e,open:n,onClose:t})=>{const[r,i]=K.useState(null),[a,s]=K.useState(!1),[l,c]=K.useState(null),d=async()=>{s(!0),c(null);try{const h=await Yle(e);i(h)}catch(h){c(h.message||"Failed to fetch summary. Please try again.")}finally{s(!1)}};return K.useEffect(()=>{n&&d()},[n]),yn.jsx(Cx,{open:n,onClose:t,"aria-labelledby":"summary-modal-title","aria-describedby":"summary-modal-description",children:yn.jsxs(me,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:600,bgcolor:"background.paper",borderRadius:4,boxShadow:24,p:4},children:[yn.jsxs(me,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[yn.jsx(de,{id:"summary-modal-title",variant:"h6",component:"h2",children:"Document Summary"}),yn.jsx(Cn,{onClick:t,children:yn.jsx(hoe,{})})]}),a?yn.jsx(me,{sx:{display:"flex",justifyContent:"center",my:4},children:yn.jsx(Gr,{})}):l?yn.jsx(de,{color:"error",children:l}):yn.jsx(me,{sx:{maxHeight:300,overflowY:"auto",padding:2,border:"1px solid #ddd",borderRadius:2,backgroundColor:"#f9f9f9"},children:yn.jsx(jA,{children:r})}),yn.jsx(At,{variant:"contained",sx:{mt:2},onClick:t,fullWidth:!0,children:"Close"})]})})},Qle=K.forwardRef(({chatbotId:e,onConversationStart:n},t)=>{const[r,i]=K.useState(!1),[a,s]=K.useState(()=>{const M=localStorage.getItem("responses");return M?JSON.parse(M):[]}),[l,c]=K.useState(()=>localStorage.getItem("conversationId")||null),[d,h]=K.useState(!1),[g,b]=K.useState(null),[m,x]=K.useState(!1),y=wx("(max-width:600px)"),A=wx("(min-width:601px) and (max-width:960px)"),w=K.useRef(null);K.useEffect(()=>{typeof n=="function"&&l&&n(l)},[l,n]),K.useEffect(()=>{w.current&&w.current.scrollIntoView({behavior:"smooth"})},[a]);const C=async()=>{i(M=>!M),!r&&!l&&!d&&N()},N=async()=>{if(!l){h(!0),b(null);try{const M=await Hle(e),{conversationId:k,introMessage:L}=M;c(k),localStorage.setItem("conversationId",k),s(B=>{const Q=[...B,{id:"intro",sender:"chatbot",text:L}];return localStorage.setItem("responses",JSON.stringify(Q)),Q})}catch(M){console.error("Error starting conversation:",M),b("Failed to start a conversation. Please try again.")}finally{h(!1)}}},F=async(M,k=l)=>{h(!0),b(null);try{const L=await Wle(e,k,M);s(B=>{const Q=[...B,{question:M,answer:L.answer}];return localStorage.setItem("responses",JSON.stringify(Q)),Q})}catch(L){console.error("Error sending message:",L),b("Failed to send the message. Please try again.")}finally{h(!1)}},R=async()=>{h(!0),b(null);try{l&&await Vle(e,l),c(null),s([]),localStorage.removeItem("conversationId"),localStorage.removeItem("responses")}catch(M){console.error("Error ending conversation:",M),b("Failed to end the conversation. Please try again.")}finally{h(!1)}};return K.useImperativeHandle(t,()=>({endConversation:R})),yn.jsx(yn.Fragment,{children:r?yn.jsxs(fn,{elevation:3,sx:Ow.chatContainer(y,A),children:[yn.jsxs(me,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[yn.jsx(de,{sx:Ow.chatHeader,children:"PAT (Personalized Academic Tutor)"}),yn.jsx(Cn,{onClick:C,sx:{color:"black"},children:"X"})]}),yn.jsx(uoe,{responses:a}),yn.jsx("div",{ref:w}),d&&yn.jsx(Xo,{sx:{position:"absolute",top:0,left:0,width:"100%"}}),g&&yn.jsx(de,{color:"error",children:g}),yn.jsx(coe,{onSendMessage:F,onStartConversation:N,onEndConversation:R,conversationId:l}),yn.jsx(At,{variant:"outlined",onClick:()=>x(!0),sx:{mt:2},children:"View Summary"}),yn.jsx(Gle,{chatbotId:e,open:m,onClose:()=>x(!1)})]}):yn.jsx(Cn,{onClick:C,sx:Ow.chatToggleButton,children:yn.jsx(loe,{fontSize:"large"})})})});class Kle extends K.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(n){console.error("Error caught by ErrorBoundary:",n)}render(){return this.state.hasError?f.jsx("h2",{children:"Something went wrong while loading the Chatbot."}):this.props.children}}const mL=K.forwardRef(({chatbotId:e},n)=>{const{userDetails:t}=Ai(),r=K.useRef(null),[i,a]=K.useState(!1),s=async l=>{if(console.log(` Chatbot started. Chatbot ID: ${e}, Conversation ID: ${l}`),t!=null&&t.uid)try{await uT(xn(_T,"conversations",l),{conversationId:l,chatbotId:e,userId:t.uid,startedAt:new Date().toISOString()},{merge:!0}),console.log("Conversation saved to Firestore")}catch(c){console.error("Failed to save conversation:",c)}};return K.useImperativeHandle(n,()=>({endConversation:()=>{r.current&&(console.log("Ending chatbot conversation..."),r.current.endConversation())}})),f.jsx(me,{sx:{position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-end"},children:f.jsxs(me,{sx:{background:i?"rgba(255, 255, 255, 0.95)":"#0B53C0",borderRadius:4,boxShadow:i?"0 8px 32px rgba(0, 0, 0, 0.12)":"0 2px 8px rgba(0, 0, 0, 0.15)",overflow:"hidden",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",border:i?"1px solid #e0e0e0":"none",minWidth:i?400:"auto",maxWidth:i?450:"auto"},children:[f.jsxs(At,{variant:"text",onClick:()=>a(!i),sx:{background:i?"#0B53C0 !important":"transparent !important",backgroundColor:i?"#0B53C0 !important":"transparent !important",color:"white !important",px:2.5,py:1.5,borderRadius:i?"16px 16px 0 0":"12px",textTransform:"none",display:"flex",alignItems:"center",gap:1.5,minWidth:"auto",width:"100%",justifyContent:"flex-start","&:hover":{background:"#064a9e !important",backgroundColor:"#064a9e !important",boxShadow:i?"none":"0px 4px 12px rgba(11, 83, 192, 0.3)"},"&:active":{background:"#064a9e !important",backgroundColor:"#064a9e !important"},"&:focus":{background:i?"#0B53C0 !important":"#064a9e !important",backgroundColor:i?"#0B53C0 !important":"#064a9e !important"},"&.Mui-focusVisible":{background:i?"#0B53C0 !important":"#064a9e !important",backgroundColor:i?"#0B53C0 !important":"#064a9e !important"},transition:"all 0.2s ease-in-out"},children:[f.jsx(nT,{sx:{fontSize:"1.5rem",color:"white !important"}}),f.jsxs(me,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",lineHeight:1,flex:1},children:[f.jsx(de,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",mb:0,lineHeight:1.1,color:"white !important"},children:"Chat with PAT"}),f.jsx(de,{variant:"caption",sx:{fontFamily:"Gabarito, sans-serif",fontSize:"0.75rem",opacity:.9,lineHeight:1,mt:.2,color:"white !important"},children:"AI Tutor"})]}),i?f.jsx(og,{sx:{fontSize:"1.2rem",color:"white !important"}}):f.jsx(Vo,{sx:{fontSize:"1.2rem",color:"white !important"}})]}),f.jsx(sg,{in:i,timeout:300,easing:{enter:"cubic-bezier(0.4, 0, 0.2, 1)",exit:"cubic-bezier(0.4, 0, 0.6, 1)"},children:f.jsx(me,{sx:{background:"white",borderRadius:"0 0 16px 16px",overflow:"hidden"},children:f.jsx(Kle,{children:f.jsx(Qle,{ref:r,chatbotId:e,onConversationStart:s})})})})]})})});mL.displayName="ChatbotWrapper";const M1="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",Xle=()=>{const[e,n]=K.useState(M1),[t]=Bg(),r=K.useRef(null);return K.useEffect(()=>{const i=t.get("material");if(!i){e!==M1&&n(M1);return}(async()=>{var h;console.log("Fetching chatbot ID for material:",i);const s=Jn(),l=wn(s,"chatbots"),c=nl(l,Si("material.id","==",i)),d=await mi(c);if(d.empty)console.log(` No chatbot found for material ${i}, using default:`,M1),n(M1);else{const g=d.docs[0].data();console.log(` Found chatbot for material ${i}:`,g.chatbotId),g.chatbotId!==e&&((h=r.current)==null||h.endConversation()),n(g.chatbotId)}})()},[t,e]),f.jsx(me,{sx:{position:"fixed",bottom:16,right:16,zIndex:1100},children:f.jsx(mL,{ref:r,chatbotId:e})})};function ub(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Xd(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var n=e.default;if(typeof n=="function"){var t=function r(){return this instanceof r?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),t}var iN={exports:{}},F1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aN;function Zle(){if(aN)return F1;aN=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return F1.Fragment=n,F1.jsx=t,F1.jsxs=t,F1}var sN;function cb(){return sN||(sN=1,iN.exports=Zle()),iN.exports}var Gt=cb(),P1={},oN={exports:{}},lN;function xm(){return lN||(lN=1,function(e){function n(t){return t&&t.__esModule?t:{default:t}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(oN)),oN.exports}var uN={};function Yr(){return Yr=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Yr.apply(null,arguments)}function Uf(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function gL(e){if(K.isValidElement(e)||!Uf(e))return e;const n={};return Object.keys(e).forEach(t=>{n[t]=gL(e[t])}),n}function Rc(e,n,t={clone:!0}){const r=t.clone?Yr({},e):e;return Uf(e)&&Uf(n)&&Object.keys(n).forEach(i=>{K.isValidElement(n[i])?r[i]=n[i]:Uf(n[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Uf(e[i])?r[i]=Rc(e[i],n[i],t):t.clone?r[i]=Uf(n[i])?gL(n[i]):n[i]:r[i]=n[i]}),r}const Jle=Object.freeze(Object.defineProperty({__proto__:null,default:Rc,isPlainObject:Uf},Symbol.toStringTag,{value:"Module"}));function Ig(e){let n="https://mui.com/production-error/?code="+e;for(let t=1;t<arguments.length;t+=1)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+e+"; visit "+n+" for the full message."}const eue=Object.freeze(Object.defineProperty({__proto__:null,default:Ig},Symbol.toStringTag,{value:"Module"}));var cN={exports:{}},Hr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dN;function tue(){if(dN)return Hr;dN=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function x(y){if(typeof y=="object"&&y!==null){var A=y.$$typeof;switch(A){case e:switch(y=y.type,y){case t:case i:case r:case c:case d:case b:return y;default:switch(y=y&&y.$$typeof,y){case s:case l:case g:case h:return y;case a:return y;default:return A}}case n:return A}}}return Hr.ContextConsumer=a,Hr.ContextProvider=s,Hr.Element=e,Hr.ForwardRef=l,Hr.Fragment=t,Hr.Lazy=g,Hr.Memo=h,Hr.Portal=n,Hr.Profiler=i,Hr.StrictMode=r,Hr.Suspense=c,Hr.SuspenseList=d,Hr.isContextConsumer=function(y){return x(y)===a},Hr.isContextProvider=function(y){return x(y)===s},Hr.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},Hr.isForwardRef=function(y){return x(y)===l},Hr.isFragment=function(y){return x(y)===t},Hr.isLazy=function(y){return x(y)===g},Hr.isMemo=function(y){return x(y)===h},Hr.isPortal=function(y){return x(y)===n},Hr.isProfiler=function(y){return x(y)===i},Hr.isStrictMode=function(y){return x(y)===r},Hr.isSuspense=function(y){return x(y)===c},Hr.isSuspenseList=function(y){return x(y)===d},Hr.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===i||y===r||y===c||y===d||typeof y=="object"&&y!==null&&(y.$$typeof===g||y.$$typeof===h||y.$$typeof===s||y.$$typeof===a||y.$$typeof===l||y.$$typeof===m||y.getModuleId!==void 0)},Hr.typeOf=x,Hr}var fN;function nue(){return fN||(fN=1,cN.exports=tue()),cN.exports}var hN=nue();const rue=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function bL(e){const n=`${e}`.match(rue);return n&&n[1]||""}function yL(e,n=""){return e.displayName||e.name||bL(e)||n}function pN(e,n,t){const r=yL(n);return e.displayName||(r!==""?`${t}(${r})`:t)}function iue(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return yL(e,"Component");if(typeof e=="object")switch(e.$$typeof){case hN.ForwardRef:return pN(e,e.render,"ForwardRef");case hN.Memo:return pN(e,e.type,"memo");default:return}}}const aue=Object.freeze(Object.defineProperty({__proto__:null,default:iue,getFunctionName:bL},Symbol.toStringTag,{value:"Module"}));function uh(e){if(typeof e!="string")throw new Error(Ig(7));return e.charAt(0).toUpperCase()+e.slice(1)}const sue=Object.freeze(Object.defineProperty({__proto__:null,default:uh},Symbol.toStringTag,{value:"Module"}));function oue(...e){return e.reduce((n,t)=>t==null?n:function(...r){n.apply(this,r),t.apply(this,r)},()=>{})}function lue(e,n=166){let t;function r(...i){const a=()=>{e.apply(this,i)};clearTimeout(t),t=setTimeout(a,n)}return r.clear=()=>{clearTimeout(t)},r}function uue(e,n){return()=>null}function cue(e,n){var t,r;return K.isValidElement(e)&&n.indexOf((t=e.type.muiName)!=null?t:(r=e.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function xL(e){return e&&e.ownerDocument||document}function due(e){return xL(e).defaultView||window}function fue(e,n){return()=>null}function vL(e,n){typeof e=="function"?e(n):e&&(e.current=n)}const wL=typeof window<"u"?K.useLayoutEffect:K.useEffect;let mN=0;function hue(e){const[n,t]=K.useState(e),r=e||n;return K.useEffect(()=>{n==null&&(mN+=1,t(`mui-${mN}`))},[n]),r}const gN=K.useId;function pue(e){if(gN!==void 0){const n=gN();return e??n}return hue(e)}function mue(e,n,t,r,i){return null}function gue({controlled:e,default:n,name:t,state:r="value"}){const{current:i}=K.useRef(e!==void 0),[a,s]=K.useState(n),l=i?e:a,c=K.useCallback(d=>{i||s(d)},[]);return[l,c]}function bue(e){const n=K.useRef(e);return wL(()=>{n.current=e}),K.useRef((...t)=>(0,n.current)(...t)).current}function yue(...e){return K.useMemo(()=>e.every(n=>n==null)?null:n=>{e.forEach(t=>{vL(t,n)})},e)}class BA{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new BA}start(n,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},n)}}let n2=!0,h6=!1;const xue=new BA,vue={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function wue(e){const{type:n,tagName:t}=e;return!!(t==="INPUT"&&vue[n]&&!e.readOnly||t==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function Sue(e){e.metaKey||e.altKey||e.ctrlKey||(n2=!0)}function Mw(){n2=!1}function Aue(){this.visibilityState==="hidden"&&h6&&(n2=!0)}function Cue(e){e.addEventListener("keydown",Sue,!0),e.addEventListener("mousedown",Mw,!0),e.addEventListener("pointerdown",Mw,!0),e.addEventListener("touchstart",Mw,!0),e.addEventListener("visibilitychange",Aue,!0)}function Eue(e){const{target:n}=e;try{return n.matches(":focus-visible")}catch{}return n2||wue(n)}function _ue(){const e=K.useCallback(i=>{i!=null&&Cue(i.ownerDocument)},[]),n=K.useRef(!1);function t(){return n.current?(h6=!0,xue.start(100,()=>{h6=!1}),n.current=!1,!0):!1}function r(i){return Eue(i)?(n.current=!0,!0):!1}return{isFocusVisibleRef:n,onFocus:r,onBlur:t,ref:e}}function p6(e,n){const t=Yr({},n);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Yr({},e[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},a=n[r];t[r]={},!a||!Object.keys(a)?t[r]=i:!i||!Object.keys(i)?t[r]=a:(t[r]=Yr({},a),Object.keys(i).forEach(s=>{t[r][s]=p6(i[s],a[s])}))}else t[r]===void 0&&(t[r]=e[r])}),t}function kue(e,n,t=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((a,s)=>{if(s){const l=n(s);l!==""&&a.push(l),t&&t[s]&&a.push(t[s])}return a},[]).join(" ")}),r}const bN=e=>e,jue=()=>{let e=bN;return{configure(n){e=n},generate(n){return e(n)},reset(){e=bN}}},SL=jue(),Nue={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function AL(e,n,t="Mui"){const r=Nue[n];return r?`${t}-${r}`:`${SL.generate(e)}-${n}`}function Tue(e,n,t="Mui"){const r={};return n.forEach(i=>{r[i]=AL(e,i,t)}),r}function Oue(e,n=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(n,Math.min(e,t))}const Iue=Object.freeze(Object.defineProperty({__proto__:null,default:Oue},Symbol.toStringTag,{value:"Module"}));function gh(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function CL(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=CL(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Due(){for(var e,n,t=0,r="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=CL(e))&&(r&&(r+=" "),r+=n);return r}const Lue=K.createContext(void 0);function Rue(e){const{theme:n,name:t,props:r}=e;if(!n||!n.components||!n.components[t])return r;const i=n.components[t];return i.defaultProps?p6(i.defaultProps,r):!i.styleOverrides&&!i.variants?p6(i,r):r}function Mue({props:e,name:n}){const t=K.useContext(Lue);return Rue({props:e,name:n,theme:{components:t}})}function Fue(e){return Mue(e)}var Wh={},yN={exports:{}},xN;function Pue(){return xN||(xN=1,function(e){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)({}).hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(null,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(yN)),yN.exports}var vN={exports:{}},wN;function zue(){return wN||(wN=1,function(e){function n(t,r){if(t==null)return{};var i={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;i[a]=t[a]}return i}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(vN)),vN.exports}function que(e){for(var n=0,t,r=0,i=e.length;i>=4;++r,i-=4)t=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,n=(t&65535)*1540483477+((t>>>16)*59797<<16)^(n&65535)*1540483477+((n>>>16)*59797<<16);switch(i){case 3:n^=(e.charCodeAt(r+2)&255)<<16;case 2:n^=(e.charCodeAt(r+1)&255)<<8;case 1:n^=e.charCodeAt(r)&255,n=(n&65535)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,n=(n&65535)*1540483477+((n>>>16)*59797<<16),((n^n>>>15)>>>0).toString(36)}var Bue={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Uue(e){var n=Object.create(null);return function(t){return n[t]===void 0&&(n[t]=e(t)),n[t]}}var $ue=/[A-Z]|^ms/g,Hue=/_EMO_([^_]+?)_([^]*?)_EMO_/g,EL=function(e){return e.charCodeAt(1)===45},SN=function(e){return e!=null&&typeof e!="boolean"},Fw=Uue(function(e){return EL(e)?e:e.replace($ue,"-$&").toLowerCase()}),AN=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Hue,function(t,r,i){return Qf={name:r,styles:i,next:Qf},r})}return Bue[e]!==1&&!EL(e)&&typeof n=="number"&&n!==0?n+"px":n};function tv(e,n,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Qf={name:i.name,styles:i.styles,next:Qf},i.name;var a=t;if(a.styles!==void 0){var s=a.next;if(s!==void 0)for(;s!==void 0;)Qf={name:s.name,styles:s.styles,next:Qf},s=s.next;var l=a.styles+";";return l}return Wue(e,n,t)}}var c=t;return c}function Wue(e,n,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=tv(e,n,t[i])+";";else for(var a in t){var s=t[a];if(typeof s!="object"){var l=s;SN(l)&&(r+=Fw(a)+":"+AN(a,l)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&n==null)for(var c=0;c<s.length;c++)SN(s[c])&&(r+=Fw(a)+":"+AN(a,s[c])+";");else{var d=tv(e,n,s);switch(a){case"animation":case"animationName":{r+=Fw(a)+":"+d+";";break}default:r+=a+"{"+d+"}"}}}return r}var CN=/label:\s*([^\s;{]+)\s*(;|$)/g,Qf;function Vue(e,n,t){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Qf=void 0;var a=e[0];if(a==null||a.raw===void 0)r=!1,i+=tv(t,n,a);else{var s=a;i+=s[0]}for(var l=1;l<e.length;l++)if(i+=tv(t,n,e[l]),r){var c=a;i+=c[l]}CN.lastIndex=0;for(var d="",h;(h=CN.exec(i))!==null;)d+="-"+h[1];var g=que(i)+d;return{name:g,styles:i,next:Qf}}function Yue(e){if(e.sheet)return e.sheet;for(var n=0;n<document.styleSheets.length;n++)if(document.styleSheets[n].ownerNode===e)return document.styleSheets[n]}function Gue(e){var n=document.createElement("style");return n.setAttribute("data-emotion",e.key),e.nonce!==void 0&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n}var Que=function(){function e(t){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var n=e.prototype;return n.hydrate=function(t){t.forEach(this._insertTag)},n.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Gue(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Yue(r);try{i.insertRule(t,i.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(t));this.ctr++},n.flush=function(){this.tags.forEach(function(t){var r;return(r=t.parentNode)==null?void 0:r.removeChild(t)}),this.tags=[],this.ctr=0},e}(),Rs="-ms-",nv="-moz-",gr="-webkit-",_L="comm",UA="rule",$A="decl",Kue="@import",kL="@keyframes",Xue="@layer",Zue=Math.abs,r2=String.fromCharCode,Jue=Object.assign;function ece(e,n){return ms(e,0)^45?(((n<<2^ms(e,0))<<2^ms(e,1))<<2^ms(e,2))<<2^ms(e,3):0}function jL(e){return e.trim()}function tce(e,n){return(e=n.exec(e))?e[0]:e}function yr(e,n,t){return e.replace(n,t)}function m6(e,n){return e.indexOf(n)}function ms(e,n){return e.charCodeAt(n)|0}function Dg(e,n,t){return e.slice(n,t)}function xc(e){return e.length}function HA(e){return e.length}function Hy(e,n){return n.push(e),e}function nce(e,n){return e.map(n).join("")}var i2=1,um=1,NL=0,Ao=0,Ta=0,vm="";function a2(e,n,t,r,i,a,s){return{value:e,root:n,parent:t,type:r,props:i,children:a,line:i2,column:um,length:s,return:""}}function z1(e,n){return Jue(a2("",null,null,"",null,null,0),e,{length:-e.length},n)}function rce(){return Ta}function ice(){return Ta=Ao>0?ms(vm,--Ao):0,um--,Ta===10&&(um=1,i2--),Ta}function tl(){return Ta=Ao<NL?ms(vm,Ao++):0,um++,Ta===10&&(um=1,i2++),Ta}function Mc(){return ms(vm,Ao)}function yx(){return Ao}function db(e,n){return Dg(vm,e,n)}function Lg(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function TL(e){return i2=um=1,NL=xc(vm=e),Ao=0,[]}function OL(e){return vm="",e}function xx(e){return jL(db(Ao-1,g6(e===91?e+2:e===40?e+1:e)))}function ace(e){for(;(Ta=Mc())&&Ta<33;)tl();return Lg(e)>2||Lg(Ta)>3?"":" "}function sce(e,n){for(;--n&&tl()&&!(Ta<48||Ta>102||Ta>57&&Ta<65||Ta>70&&Ta<97););return db(e,yx()+(n<6&&Mc()==32&&tl()==32))}function g6(e){for(;tl();)switch(Ta){case e:return Ao;case 34:case 39:e!==34&&e!==39&&g6(Ta);break;case 40:e===41&&g6(e);break;case 92:tl();break}return Ao}function oce(e,n){for(;tl()&&e+Ta!==57&&!(e+Ta===84&&Mc()===47););return"/*"+db(n,Ao-1)+"*"+r2(e===47?e:tl())}function lce(e){for(;!Lg(Mc());)tl();return db(e,Ao)}function uce(e){return OL(vx("",null,null,null,[""],e=TL(e),0,[0],e))}function vx(e,n,t,r,i,a,s,l,c){for(var d=0,h=0,g=s,b=0,m=0,x=0,y=1,A=1,w=1,C=0,N="",F=i,R=a,M=r,k=N;A;)switch(x=C,C=tl()){case 40:if(x!=108&&ms(k,g-1)==58){m6(k+=yr(xx(C),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:k+=xx(C);break;case 9:case 10:case 13:case 32:k+=ace(x);break;case 92:k+=sce(yx()-1,7);continue;case 47:switch(Mc()){case 42:case 47:Hy(cce(oce(tl(),yx()),n,t),c);break;default:k+="/"}break;case 123*y:l[d++]=xc(k)*w;case 125*y:case 59:case 0:switch(C){case 0:case 125:A=0;case 59+h:w==-1&&(k=yr(k,/\f/g,"")),m>0&&xc(k)-g&&Hy(m>32?_N(k+";",r,t,g-1):_N(yr(k," ","")+";",r,t,g-2),c);break;case 59:k+=";";default:if(Hy(M=EN(k,n,t,d,h,i,l,N,F=[],R=[],g),a),C===123)if(h===0)vx(k,n,M,M,F,a,g,l,R);else switch(b===99&&ms(k,3)===110?100:b){case 100:case 108:case 109:case 115:vx(e,M,M,r&&Hy(EN(e,M,M,0,0,i,l,N,i,F=[],g),R),i,R,g,l,r?F:R);break;default:vx(k,M,M,M,[""],R,0,l,R)}}d=h=m=0,y=w=1,N=k="",g=s;break;case 58:g=1+xc(k),m=x;default:if(y<1){if(C==123)--y;else if(C==125&&y++==0&&ice()==125)continue}switch(k+=r2(C),C*y){case 38:w=h>0?1:(k+="\f",-1);break;case 44:l[d++]=(xc(k)-1)*w,w=1;break;case 64:Mc()===45&&(k+=xx(tl())),b=Mc(),h=g=xc(N=k+=lce(yx())),C++;break;case 45:x===45&&xc(k)==2&&(y=0)}}return a}function EN(e,n,t,r,i,a,s,l,c,d,h){for(var g=i-1,b=i===0?a:[""],m=HA(b),x=0,y=0,A=0;x<r;++x)for(var w=0,C=Dg(e,g+1,g=Zue(y=s[x])),N=e;w<m;++w)(N=jL(y>0?b[w]+" "+C:yr(C,/&\f/g,b[w])))&&(c[A++]=N);return a2(e,n,t,i===0?UA:l,c,d,h)}function cce(e,n,t){return a2(e,n,t,_L,r2(rce()),Dg(e,2,-2),0)}function _N(e,n,t,r){return a2(e,n,t,$A,Dg(e,0,r),Dg(e,r+1,-1),r)}function Y0(e,n){for(var t="",r=HA(e),i=0;i<r;i++)t+=n(e[i],i,e,n)||"";return t}function dce(e,n,t,r){switch(e.type){case Xue:if(e.children.length)break;case Kue:case $A:return e.return=e.return||e.value;case _L:return"";case kL:return e.return=e.value+"{"+Y0(e.children,r)+"}";case UA:e.value=e.props.join(",")}return xc(t=Y0(e.children,r))?e.return=e.value+"{"+t+"}":""}function fce(e){var n=HA(e);return function(t,r,i,a){for(var s="",l=0;l<n;l++)s+=e[l](t,r,i,a)||"";return s}}function hce(e){return function(n){n.root||(n=n.return)&&e(n)}}var pce=function(e,n,t){for(var r=0,i=0;r=i,i=Mc(),r===38&&i===12&&(n[t]=1),!Lg(i);)tl();return db(e,Ao)},mce=function(e,n){var t=-1,r=44;do switch(Lg(r)){case 0:r===38&&Mc()===12&&(n[t]=1),e[t]+=pce(Ao-1,n,t);break;case 2:e[t]+=xx(r);break;case 4:if(r===44){e[++t]=Mc()===58?"&\f":"",n[t]=e[t].length;break}default:e[t]+=r2(r)}while(r=tl());return e},gce=function(e,n){return OL(mce(TL(e),n))},kN=new WeakMap,bce=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,t=e.parent,r=e.column===t.column&&e.line===t.line;t.type!=="rule";)if(t=t.parent,!t)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!kN.get(t))&&!r){kN.set(e,!0);for(var i=[],a=gce(n,i),s=t.props,l=0,c=0;l<a.length;l++)for(var d=0;d<s.length;d++,c++)e.props[c]=i[l]?a[l].replace(/&\f/g,s[d]):s[d]+" "+a[l]}}},yce=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function IL(e,n){switch(ece(e,n)){case 5103:return gr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return gr+e+nv+e+Rs+e+e;case 6828:case 4268:return gr+e+Rs+e+e;case 6165:return gr+e+Rs+"flex-"+e+e;case 5187:return gr+e+yr(e,/(\w+).+(:[^]+)/,gr+"box-$1$2"+Rs+"flex-$1$2")+e;case 5443:return gr+e+Rs+"flex-item-"+yr(e,/flex-|-self/,"")+e;case 4675:return gr+e+Rs+"flex-line-pack"+yr(e,/align-content|flex-|-self/,"")+e;case 5548:return gr+e+Rs+yr(e,"shrink","negative")+e;case 5292:return gr+e+Rs+yr(e,"basis","preferred-size")+e;case 6060:return gr+"box-"+yr(e,"-grow","")+gr+e+Rs+yr(e,"grow","positive")+e;case 4554:return gr+yr(e,/([^-])(transform)/g,"$1"+gr+"$2")+e;case 6187:return yr(yr(yr(e,/(zoom-|grab)/,gr+"$1"),/(image-set)/,gr+"$1"),e,"")+e;case 5495:case 3959:return yr(e,/(image-set\([^]*)/,gr+"$1$`$1");case 4968:return yr(yr(e,/(.+:)(flex-)?(.*)/,gr+"box-pack:$3"+Rs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gr+e+e;case 4095:case 3583:case 4068:case 2532:return yr(e,/(.+)-inline(.+)/,gr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xc(e)-1-n>6)switch(ms(e,n+1)){case 109:if(ms(e,n+4)!==45)break;case 102:return yr(e,/(.+:)(.+)-([^]+)/,"$1"+gr+"$2-$3$1"+nv+(ms(e,n+3)==108?"$3":"$2-$3"))+e;case 115:return~m6(e,"stretch")?IL(yr(e,"stretch","fill-available"),n)+e:e}break;case 4949:if(ms(e,n+1)!==115)break;case 6444:switch(ms(e,xc(e)-3-(~m6(e,"!important")&&10))){case 107:return yr(e,":",":"+gr)+e;case 101:return yr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+gr+(ms(e,14)===45?"inline-":"")+"box$3$1"+gr+"$2$3$1"+Rs+"$2box$3")+e}break;case 5936:switch(ms(e,n+11)){case 114:return gr+e+Rs+yr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return gr+e+Rs+yr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return gr+e+Rs+yr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return gr+e+Rs+e+e}return e}var xce=function(e,n,t,r){if(e.length>-1&&!e.return)switch(e.type){case $A:e.return=IL(e.value,e.length);break;case kL:return Y0([z1(e,{value:yr(e.value,"@","@"+gr)})],r);case UA:if(e.length)return nce(e.props,function(i){switch(tce(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Y0([z1(e,{props:[yr(i,/:(read-\w+)/,":"+nv+"$1")]})],r);case"::placeholder":return Y0([z1(e,{props:[yr(i,/:(plac\w+)/,":"+gr+"input-$1")]}),z1(e,{props:[yr(i,/:(plac\w+)/,":"+nv+"$1")]}),z1(e,{props:[yr(i,/:(plac\w+)/,Rs+"input-$1")]})],r)}return""})}},vce=[xce],wce=function(e){var n=e.key;if(n==="css"){var t=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(t,function(x){var y=x.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var r=e.stylisPlugins||vce,i={},a,s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var y=x.getAttribute("data-emotion").split(" "),A=1;A<y.length;A++)i[y[A]]=!0;s.push(x)});var l,c=[bce,yce];{var d,h=[dce,hce(function(x){d.insert(x)})],g=fce(c.concat(r,h)),b=function(x){return Y0(uce(x),g)};l=function(x,y,A,w){d=A,b(x?x+"{"+y.styles+"}":y.styles),w&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new Que({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return m.sheet.hydrate(s),m};function Sce(e,n){const t=wce({key:"css",prepend:e});if(n){const r=t.insert;t.insert=(...i)=>(i[1].styles.match(/^@layer\s+[^{]*$/)||(i[1].styles=`@layer mui {${i[1].styles}}`),r(...i))}return t}const Pw=new Map;function Ace(e){const{injectFirst:n,enableCssLayer:t,children:r}=e,i=K.useMemo(()=>{const a=`${n}-${t}`;if(typeof document=="object"&&Pw.has(a))return Pw.get(a);const s=Sce(n,t);return Pw.set(a,s),s},[n,t]);return n||t?Gt.jsx(oT,{value:i,children:r}):r}function Cce(e){return e==null||Object.keys(e).length===0}function Ece(e){const{styles:n,defaultTheme:t={}}=e,r=typeof n=="function"?i=>n(Cce(i)?t:i):n;return Gt.jsx(lT,{styles:r})}/**
 * @mui/styled-engine v5.18.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function _ce(e,n){return sT(e,n)}const kce=(e,n)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=n(e.__emotion_styles))},jN=[];function jce(e){return jN[0]=e,Vue(jN)}const Nce=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:Ece,StyledEngineProvider:Ace,ThemeContext:aT,css:iT,default:_ce,internal_processStyles:kce,internal_serializeStyles:jce,keyframes:rT},Symbol.toStringTag,{value:"Module"})),Tce=Xd(Nce),Oce=Xd(Jle),Ice=Xd(sue),Dce=Xd(aue),Lce=["values","unit","step"],Rce=e=>{const n=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return n.sort((t,r)=>t.val-r.val),n.reduce((t,r)=>Yr({},t,{[r.key]:r.val}),{})};function DL(e){const{values:n={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=e,i=gh(e,Lce),a=Rce(n),s=Object.keys(a);function l(b){return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t})`}function c(b){return`@media (max-width:${(typeof n[b]=="number"?n[b]:b)-r/100}${t})`}function d(b,m){const x=s.indexOf(m);return`@media (min-width:${typeof n[b]=="number"?n[b]:b}${t}) and (max-width:${(x!==-1&&typeof n[s[x]]=="number"?n[s[x]]:m)-r/100}${t})`}function h(b){return s.indexOf(b)+1<s.length?d(b,s[s.indexOf(b)+1]):l(b)}function g(b){const m=s.indexOf(b);return m===0?l(s[1]):m===s.length-1?c(s[m]):d(b,s[s.indexOf(b)+1]).replace("@media","@media not all and")}return Yr({keys:s,values:a,up:l,down:c,between:d,only:h,not:g,unit:t},i)}const Mce={borderRadius:4};function rg(e,n){return n?Rc(e,n,{clone:!1}):e}const WA={xs:0,sm:600,md:900,lg:1200,xl:1536},NN={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${WA[e]}px)`};function Hd(e,n,t){const r=e.theme||{};if(Array.isArray(n)){const i=r.breakpoints||NN;return n.reduce((a,s,l)=>(a[i.up(i.keys[l])]=t(n[l]),a),{})}if(typeof n=="object"){const i=r.breakpoints||NN;return Object.keys(n).reduce((a,s)=>{if(Object.keys(i.values||WA).indexOf(s)!==-1){const l=i.up(s);a[l]=t(n[s],s)}else{const l=s;a[l]=n[l]}return a},{})}return t(n)}function Fce(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((t,r)=>{const i=e.up(r);return t[i]={},t},{}))||{}}function TN(e,n){return e.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},n)}function s2(e,n,t=!0){if(!n||typeof n!="string")return null;if(e&&e.vars&&t){const r=`vars.${n}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,e);if(r!=null)return r}return n.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function rv(e,n,t,r=t){let i;return typeof e=="function"?i=e(t):Array.isArray(e)?i=e[t]||r:i=s2(e,t)||r,n&&(i=n(i,r,e)),i}function ya(e){const{prop:n,cssProperty:t=e.prop,themeKey:r,transform:i}=e,a=s=>{if(s[n]==null)return null;const l=s[n],c=s.theme,d=s2(c,r)||{};return Hd(s,l,h=>{let g=rv(d,i,h);return h===g&&typeof h=="string"&&(g=rv(d,i,`${n}${h==="default"?"":uh(h)}`,h)),t===!1?g:{[t]:g}})};return a.propTypes={},a.filterProps=[n],a}function Pce(e){const n={};return t=>(n[t]===void 0&&(n[t]=e(t)),n[t])}const zce={m:"margin",p:"padding"},qce={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ON={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Bce=Pce(e=>{if(e.length>2)if(ON[e])e=ON[e];else return[e];const[n,t]=e.split(""),r=zce[n],i=qce[t]||"";return Array.isArray(i)?i.map(a=>r+a):[r+i]}),VA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],YA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...VA,...YA];function fb(e,n,t,r){var i;const a=(i=s2(e,n,!1))!=null?i:t;return typeof a=="number"?s=>typeof s=="string"?s:a*s:Array.isArray(a)?s=>typeof s=="string"?s:a[s]:typeof a=="function"?a:()=>{}}function LL(e){return fb(e,"spacing",8)}function hb(e,n){if(typeof n=="string"||n==null)return n;const t=Math.abs(n),r=e(t);return n>=0?r:typeof r=="number"?-r:`-${r}`}function Uce(e,n){return t=>e.reduce((r,i)=>(r[i]=hb(n,t),r),{})}function $ce(e,n,t,r){if(n.indexOf(t)===-1)return null;const i=Bce(t),a=Uce(i,r),s=e[t];return Hd(e,s,a)}function RL(e,n){const t=LL(e.theme);return Object.keys(e).map(r=>$ce(e,n,r,t)).reduce(rg,{})}function Gi(e){return RL(e,VA)}Gi.propTypes={};Gi.filterProps=VA;function Qi(e){return RL(e,YA)}Qi.propTypes={};Qi.filterProps=YA;function Hce(e=8){if(e.mui)return e;const n=LL({spacing:e}),t=(...r)=>(r.length===0?[1]:r).map(i=>{const a=n(i);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function o2(...e){const n=e.reduce((r,i)=>(i.filterProps.forEach(a=>{r[a]=i}),r),{}),t=r=>Object.keys(r).reduce((i,a)=>n[a]?rg(i,n[a](r)):i,{});return t.propTypes={},t.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Ol(e){return typeof e!="number"?e:`${e}px solid`}function Ul(e,n){return ya({prop:e,themeKey:"borders",transform:n})}const Wce=Ul("border",Ol),Vce=Ul("borderTop",Ol),Yce=Ul("borderRight",Ol),Gce=Ul("borderBottom",Ol),Qce=Ul("borderLeft",Ol),Kce=Ul("borderColor"),Xce=Ul("borderTopColor"),Zce=Ul("borderRightColor"),Jce=Ul("borderBottomColor"),ede=Ul("borderLeftColor"),tde=Ul("outline",Ol),nde=Ul("outlineColor"),l2=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const n=fb(e.theme,"shape.borderRadius",4),t=r=>({borderRadius:hb(n,r)});return Hd(e,e.borderRadius,t)}return null};l2.propTypes={};l2.filterProps=["borderRadius"];o2(Wce,Vce,Yce,Gce,Qce,Kce,Xce,Zce,Jce,ede,l2,tde,nde);const u2=e=>{if(e.gap!==void 0&&e.gap!==null){const n=fb(e.theme,"spacing",8),t=r=>({gap:hb(n,r)});return Hd(e,e.gap,t)}return null};u2.propTypes={};u2.filterProps=["gap"];const c2=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const n=fb(e.theme,"spacing",8),t=r=>({columnGap:hb(n,r)});return Hd(e,e.columnGap,t)}return null};c2.propTypes={};c2.filterProps=["columnGap"];const d2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const n=fb(e.theme,"spacing",8),t=r=>({rowGap:hb(n,r)});return Hd(e,e.rowGap,t)}return null};d2.propTypes={};d2.filterProps=["rowGap"];const rde=ya({prop:"gridColumn"}),ide=ya({prop:"gridRow"}),ade=ya({prop:"gridAutoFlow"}),sde=ya({prop:"gridAutoColumns"}),ode=ya({prop:"gridAutoRows"}),lde=ya({prop:"gridTemplateColumns"}),ude=ya({prop:"gridTemplateRows"}),cde=ya({prop:"gridTemplateAreas"}),dde=ya({prop:"gridArea"});o2(u2,c2,d2,rde,ide,ade,sde,ode,lde,ude,cde,dde);function G0(e,n){return n==="grey"?n:e}const fde=ya({prop:"color",themeKey:"palette",transform:G0}),hde=ya({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:G0}),pde=ya({prop:"backgroundColor",themeKey:"palette",transform:G0});o2(fde,hde,pde);function Go(e){return e<=1&&e!==0?`${e*100}%`:e}const mde=ya({prop:"width",transform:Go}),GA=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const n=t=>{var r,i;const a=((r=e.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||WA[t];return a?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${a}${e.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:Go(t)}};return Hd(e,e.maxWidth,n)}return null};GA.filterProps=["maxWidth"];const gde=ya({prop:"minWidth",transform:Go}),bde=ya({prop:"height",transform:Go}),yde=ya({prop:"maxHeight",transform:Go}),xde=ya({prop:"minHeight",transform:Go});ya({prop:"size",cssProperty:"width",transform:Go});ya({prop:"size",cssProperty:"height",transform:Go});const vde=ya({prop:"boxSizing"});o2(mde,GA,gde,bde,yde,xde,vde);const pb={border:{themeKey:"borders",transform:Ol},borderTop:{themeKey:"borders",transform:Ol},borderRight:{themeKey:"borders",transform:Ol},borderBottom:{themeKey:"borders",transform:Ol},borderLeft:{themeKey:"borders",transform:Ol},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ol},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:l2},color:{themeKey:"palette",transform:G0},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:G0},backgroundColor:{themeKey:"palette",transform:G0},p:{style:Qi},pt:{style:Qi},pr:{style:Qi},pb:{style:Qi},pl:{style:Qi},px:{style:Qi},py:{style:Qi},padding:{style:Qi},paddingTop:{style:Qi},paddingRight:{style:Qi},paddingBottom:{style:Qi},paddingLeft:{style:Qi},paddingX:{style:Qi},paddingY:{style:Qi},paddingInline:{style:Qi},paddingInlineStart:{style:Qi},paddingInlineEnd:{style:Qi},paddingBlock:{style:Qi},paddingBlockStart:{style:Qi},paddingBlockEnd:{style:Qi},m:{style:Gi},mt:{style:Gi},mr:{style:Gi},mb:{style:Gi},ml:{style:Gi},mx:{style:Gi},my:{style:Gi},margin:{style:Gi},marginTop:{style:Gi},marginRight:{style:Gi},marginBottom:{style:Gi},marginLeft:{style:Gi},marginX:{style:Gi},marginY:{style:Gi},marginInline:{style:Gi},marginInlineStart:{style:Gi},marginInlineEnd:{style:Gi},marginBlock:{style:Gi},marginBlockStart:{style:Gi},marginBlockEnd:{style:Gi},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:u2},rowGap:{style:d2},columnGap:{style:c2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Go},maxWidth:{style:GA},minWidth:{transform:Go},height:{transform:Go},maxHeight:{transform:Go},minHeight:{transform:Go},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function wde(...e){const n=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(n);return e.every(r=>t.size===Object.keys(r).length)}function Sde(e,n){return typeof e=="function"?e(n):e}function ML(){function e(t,r,i,a){const s={[t]:r,theme:i},l=a[t];if(!l)return{[t]:r};const{cssProperty:c=t,themeKey:d,transform:h,style:g}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[t]:r};const b=s2(i,d)||{};return g?g(s):Hd(s,r,m=>{let x=rv(b,h,m);return m===x&&typeof m=="string"&&(x=rv(b,h,`${t}${m==="default"?"":uh(m)}`,m)),c===!1?x:{[c]:x}})}function n(t){var r;const{sx:i,theme:a={},nested:s}=t||{};if(!i)return null;const l=(r=a.unstable_sxConfig)!=null?r:pb;function c(d){let h=d;if(typeof d=="function")h=d(a);else if(typeof d!="object")return d;if(!h)return null;const g=Fce(a.breakpoints),b=Object.keys(g);let m=g;return Object.keys(h).forEach(x=>{const y=Sde(h[x],a);if(y!=null)if(typeof y=="object")if(l[x])m=rg(m,e(x,y,a,l));else{const A=Hd({theme:a},y,w=>({[x]:w}));wde(A,y)?m[x]=n({sx:y,theme:a,nested:!0}):m=rg(m,A)}else m=rg(m,e(x,y,a,l))}),!s&&a.modularCssLayers?{"@layer sx":TN(b,m)}:TN(b,m)}return Array.isArray(i)?i.map(c):c(i)}return n}const f2=ML();f2.filterProps=["sx"];function FL(e,n){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:n}:t.palette.mode===e?n:{}}const Ade=["breakpoints","palette","spacing","shape"];function PL(e={},...n){const{breakpoints:t={},palette:r={},spacing:i,shape:a={}}=e,s=gh(e,Ade),l=DL(t),c=Hce(i);let d=Rc({breakpoints:l,direction:"ltr",components:{},palette:Yr({mode:"light"},r),spacing:c,shape:Yr({},Mce,a)},s);return d.applyStyles=FL,d=n.reduce((h,g)=>Rc(h,g),d),d.unstable_sxConfig=Yr({},pb,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(h){return f2({sx:h,theme:this})},d}const Cde=Object.freeze(Object.defineProperty({__proto__:null,default:PL,private_createBreakpoints:DL,unstable_applyStyles:FL},Symbol.toStringTag,{value:"Module"})),Ede=Xd(Cde),_de=["sx"],kde=e=>{var n,t;const r={systemProps:{},otherProps:{}},i=(n=e==null||(t=e.theme)==null?void 0:t.unstable_sxConfig)!=null?n:pb;return Object.keys(e).forEach(a=>{i[a]?r.systemProps[a]=e[a]:r.otherProps[a]=e[a]}),r};function jde(e){const{sx:n}=e,t=gh(e,_de),{systemProps:r,otherProps:i}=kde(t);let a;return Array.isArray(n)?a=[r,...n]:typeof n=="function"?a=(...s)=>{const l=n(...s);return Uf(l)?Yr({},r,l):r}:a=Yr({},r,n),Yr({},i,{sx:a})}const Nde=Object.freeze(Object.defineProperty({__proto__:null,default:f2,extendSxProp:jde,unstable_createStyleFunctionSx:ML,unstable_defaultSxConfig:pb},Symbol.toStringTag,{value:"Module"})),Tde=Xd(Nde);var IN;function Ode(){if(IN)return Wh;IN=1;var e=xm();Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.default=R,Wh.shouldForwardProp=x,Wh.systemDefaultTheme=void 0;var n=e(Pue()),t=e(zue()),r=g(Tce),i=Oce;e(Ice),e(Dce);var a=e(Ede),s=e(Tde);const l=["ownerState"],c=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function h(M){if(typeof WeakMap!="function")return null;var k=new WeakMap,L=new WeakMap;return(h=function(B){return B?L:k})(M)}function g(M,k){if(M&&M.__esModule)return M;if(M===null||typeof M!="object"&&typeof M!="function")return{default:M};var L=h(k);if(L&&L.has(M))return L.get(M);var B={__proto__:null},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in M)if(j!=="default"&&Object.prototype.hasOwnProperty.call(M,j)){var O=Q?Object.getOwnPropertyDescriptor(M,j):null;O&&(O.get||O.set)?Object.defineProperty(B,j,O):B[j]=M[j]}return B.default=M,L&&L.set(M,B),B}function b(M){return Object.keys(M).length===0}function m(M){return typeof M=="string"&&M.charCodeAt(0)>96}function x(M){return M!=="ownerState"&&M!=="theme"&&M!=="sx"&&M!=="as"}function y(M,k){return k&&M&&typeof M=="object"&&M.styles&&!M.styles.startsWith("@layer")&&(M.styles=`@layer ${k}{${String(M.styles)}}`),M}const A=Wh.systemDefaultTheme=(0,a.default)(),w=M=>M&&M.charAt(0).toLowerCase()+M.slice(1);function C({defaultTheme:M,theme:k,themeId:L}){return b(k)?M:k[L]||k}function N(M){return M?(k,L)=>L[M]:null}function F(M,k,L){let{ownerState:B}=k,Q=(0,t.default)(k,l);const j=typeof M=="function"?M((0,n.default)({ownerState:B},Q)):M;if(Array.isArray(j))return j.flatMap(O=>F(O,(0,n.default)({ownerState:B},Q),L));if(j&&typeof j=="object"&&Array.isArray(j.variants)){const{variants:O=[]}=j;let z=(0,t.default)(j,c);return O.forEach(T=>{let G=!0;if(typeof T.props=="function"?G=T.props((0,n.default)({ownerState:B},Q,B)):Object.keys(T.props).forEach(W=>{(B==null?void 0:B[W])!==T.props[W]&&Q[W]!==T.props[W]&&(G=!1)}),G){Array.isArray(z)||(z=[z]);const W=typeof T.style=="function"?T.style((0,n.default)({ownerState:B},Q,B)):T.style;z.push(L?y((0,r.internal_serializeStyles)(W),L):W)}}),z}return L?y((0,r.internal_serializeStyles)(j),L):j}function R(M={}){const{themeId:k,defaultTheme:L=A,rootShouldForwardProp:B=x,slotShouldForwardProp:Q=x}=M,j=O=>(0,s.default)((0,n.default)({},O,{theme:C((0,n.default)({},O,{defaultTheme:L,themeId:k}))}));return j.__mui_systemSx=!0,(O,z={})=>{(0,r.internal_processStyles)(O,ye=>ye.filter(Ce=>!(Ce!=null&&Ce.__mui_systemSx)));const{name:T,slot:G,skipVariantsResolver:W,skipSx:X,overridesResolver:ie=N(w(G))}=z,ue=(0,t.default)(z,d),$=T&&T.startsWith("Mui")||G?"components":"custom",ae=W!==void 0?W:G&&G!=="Root"&&G!=="root"||!1,U=X||!1;let q,Z=x;G==="Root"||G==="root"?Z=B:G?Z=Q:m(O)&&(Z=void 0);const ee=(0,r.default)(O,(0,n.default)({shouldForwardProp:Z,label:q},ue)),se=ye=>typeof ye=="function"&&ye.__emotion_real!==ye||(0,i.isPlainObject)(ye)?Ce=>{const Oe=C({theme:Ce.theme,defaultTheme:L,themeId:k});return F(ye,(0,n.default)({},Ce,{theme:Oe}),Oe.modularCssLayers?$:void 0)}:ye,we=(ye,...Ce)=>{let Oe=se(ye);const Le=Ce?Ce.map(se):[];T&&ie&&Le.push(V=>{const Se=C((0,n.default)({},V,{defaultTheme:L,themeId:k}));if(!Se.components||!Se.components[T]||!Se.components[T].styleOverrides)return null;const te=Se.components[T].styleOverrides,ge={};return Object.entries(te).forEach(([ce,ve])=>{ge[ce]=F(ve,(0,n.default)({},V,{theme:Se}),Se.modularCssLayers?"theme":void 0)}),ie(V,ge)}),T&&!ae&&Le.push(V=>{var Se;const te=C((0,n.default)({},V,{defaultTheme:L,themeId:k})),ge=te==null||(Se=te.components)==null||(Se=Se[T])==null?void 0:Se.variants;return F({variants:ge},(0,n.default)({},V,{theme:te}),te.modularCssLayers?"theme":void 0)}),U||Le.push(j);const He=Le.length-Ce.length;if(Array.isArray(ye)&&He>0){const V=new Array(He).fill("");Oe=[...ye,...V],Oe.raw=[...ye.raw,...V]}const We=ee(Oe,...Le);return O.muiName&&(We.muiName=O.muiName),We};return ee.withConfig&&(we.withConfig=ee.withConfig),we}}return Wh}var Ide=Ode();const Dde=ub(Ide);function Lde(e,n){return Yr({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},n)}var Di={};const Rde=Xd(eue),Mde=Xd(Iue);var DN;function Fde(){if(DN)return Di;DN=1;var e=xm();Object.defineProperty(Di,"__esModule",{value:!0}),Di.alpha=x,Di.blend=M,Di.colorChannel=void 0,Di.darken=A,Di.decomposeColor=s,Di.emphasize=F,Di.getContrastRatio=m,Di.getLuminance=b,Di.hexToRgb=i,Di.hslToRgb=g,Di.lighten=C,Di.private_safeAlpha=y,Di.private_safeColorChannel=void 0,Di.private_safeDarken=w,Di.private_safeEmphasize=R,Di.private_safeLighten=N,Di.recomposeColor=d,Di.rgbToHex=h;var n=e(Rde),t=e(Mde);function r(k,L=0,B=1){return(0,t.default)(k,L,B)}function i(k){k=k.slice(1);const L=new RegExp(`.{1,${k.length>=6?2:1}}`,"g");let B=k.match(L);return B&&B[0].length===1&&(B=B.map(Q=>Q+Q)),B?`rgb${B.length===4?"a":""}(${B.map((Q,j)=>j<3?parseInt(Q,16):Math.round(parseInt(Q,16)/255*1e3)/1e3).join(", ")})`:""}function a(k){const L=k.toString(16);return L.length===1?`0${L}`:L}function s(k){if(k.type)return k;if(k.charAt(0)==="#")return s(i(k));const L=k.indexOf("("),B=k.substring(0,L);if(["rgb","rgba","hsl","hsla","color"].indexOf(B)===-1)throw new Error((0,n.default)(9,k));let Q=k.substring(L+1,k.length-1),j;if(B==="color"){if(Q=Q.split(" "),j=Q.shift(),Q.length===4&&Q[3].charAt(0)==="/"&&(Q[3]=Q[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(j)===-1)throw new Error((0,n.default)(10,j))}else Q=Q.split(",");return Q=Q.map(O=>parseFloat(O)),{type:B,values:Q,colorSpace:j}}const l=k=>{const L=s(k);return L.values.slice(0,3).map((B,Q)=>L.type.indexOf("hsl")!==-1&&Q!==0?`${B}%`:B).join(" ")};Di.colorChannel=l;const c=(k,L)=>{try{return l(k)}catch{return k}};Di.private_safeColorChannel=c;function d(k){const{type:L,colorSpace:B}=k;let{values:Q}=k;return L.indexOf("rgb")!==-1?Q=Q.map((j,O)=>O<3?parseInt(j,10):j):L.indexOf("hsl")!==-1&&(Q[1]=`${Q[1]}%`,Q[2]=`${Q[2]}%`),L.indexOf("color")!==-1?Q=`${B} ${Q.join(" ")}`:Q=`${Q.join(", ")}`,`${L}(${Q})`}function h(k){if(k.indexOf("#")===0)return k;const{values:L}=s(k);return`#${L.map((B,Q)=>a(Q===3?Math.round(255*B):B)).join("")}`}function g(k){k=s(k);const{values:L}=k,B=L[0],Q=L[1]/100,j=L[2]/100,O=Q*Math.min(j,1-j),z=(W,X=(W+B/30)%12)=>j-O*Math.max(Math.min(X-3,9-X,1),-1);let T="rgb";const G=[Math.round(z(0)*255),Math.round(z(8)*255),Math.round(z(4)*255)];return k.type==="hsla"&&(T+="a",G.push(L[3])),d({type:T,values:G})}function b(k){k=s(k);let L=k.type==="hsl"||k.type==="hsla"?s(g(k)).values:k.values;return L=L.map(B=>(k.type!=="color"&&(B/=255),B<=.03928?B/12.92:((B+.055)/1.055)**2.4)),Number((.2126*L[0]+.7152*L[1]+.0722*L[2]).toFixed(3))}function m(k,L){const B=b(k),Q=b(L);return(Math.max(B,Q)+.05)/(Math.min(B,Q)+.05)}function x(k,L){return k=s(k),L=r(L),(k.type==="rgb"||k.type==="hsl")&&(k.type+="a"),k.type==="color"?k.values[3]=`/${L}`:k.values[3]=L,d(k)}function y(k,L,B){try{return x(k,L)}catch{return k}}function A(k,L){if(k=s(k),L=r(L),k.type.indexOf("hsl")!==-1)k.values[2]*=1-L;else if(k.type.indexOf("rgb")!==-1||k.type.indexOf("color")!==-1)for(let B=0;B<3;B+=1)k.values[B]*=1-L;return d(k)}function w(k,L,B){try{return A(k,L)}catch{return k}}function C(k,L){if(k=s(k),L=r(L),k.type.indexOf("hsl")!==-1)k.values[2]+=(100-k.values[2])*L;else if(k.type.indexOf("rgb")!==-1)for(let B=0;B<3;B+=1)k.values[B]+=(255-k.values[B])*L;else if(k.type.indexOf("color")!==-1)for(let B=0;B<3;B+=1)k.values[B]+=(1-k.values[B])*L;return d(k)}function N(k,L,B){try{return C(k,L)}catch{return k}}function F(k,L=.15){return b(k)>.5?A(k,L):C(k,L)}function R(k,L,B){try{return F(k,L)}catch{return k}}function M(k,L,B,Q=1){const j=(G,W)=>Math.round((G**(1/Q)*(1-B)+W**(1/Q)*B)**Q),O=s(k),z=s(L),T=[j(O.values[0],z.values[0]),j(O.values[1],z.values[1]),j(O.values[2],z.values[2])];return d({type:"rgb",values:T})}return Di}var b6=Fde();const Rg={black:"#000",white:"#fff"},Pde={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},b0={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},y0={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},q1={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},x0={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},v0={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},w0={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},zde=["mode","contrastThreshold","tonalOffset"],LN={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Rg.white,default:Rg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},zw={text:{primary:Rg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Rg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function RN(e,n,t,r){const i=r.light||r,a=r.dark||r*1.5;e[n]||(e.hasOwnProperty(t)?e[n]=e[t]:n==="light"?e.light=b6.lighten(e.main,i):n==="dark"&&(e.dark=b6.darken(e.main,a)))}function qde(e="light"){return e==="dark"?{main:x0[200],light:x0[50],dark:x0[400]}:{main:x0[700],light:x0[400],dark:x0[800]}}function Bde(e="light"){return e==="dark"?{main:b0[200],light:b0[50],dark:b0[400]}:{main:b0[500],light:b0[300],dark:b0[700]}}function Ude(e="light"){return e==="dark"?{main:y0[500],light:y0[300],dark:y0[700]}:{main:y0[700],light:y0[400],dark:y0[800]}}function $de(e="light"){return e==="dark"?{main:v0[400],light:v0[300],dark:v0[700]}:{main:v0[700],light:v0[500],dark:v0[900]}}function Hde(e="light"){return e==="dark"?{main:w0[400],light:w0[300],dark:w0[700]}:{main:w0[800],light:w0[500],dark:w0[900]}}function Wde(e="light"){return e==="dark"?{main:q1[400],light:q1[300],dark:q1[700]}:{main:"#ed6c02",light:q1[500],dark:q1[900]}}function Vde(e){const{mode:n="light",contrastThreshold:t=3,tonalOffset:r=.2}=e,i=gh(e,zde),a=e.primary||qde(n),s=e.secondary||Bde(n),l=e.error||Ude(n),c=e.info||$de(n),d=e.success||Hde(n),h=e.warning||Wde(n);function g(x){return b6.getContrastRatio(x,zw.text.primary)>=t?zw.text.primary:LN.text.primary}const b=({color:x,name:y,mainShade:A=500,lightShade:w=300,darkShade:C=700})=>{if(x=Yr({},x),!x.main&&x[A]&&(x.main=x[A]),!x.hasOwnProperty("main"))throw new Error(Ig(11,y?` (${y})`:"",A));if(typeof x.main!="string")throw new Error(Ig(12,y?` (${y})`:"",JSON.stringify(x.main)));return RN(x,"light",w,r),RN(x,"dark",C,r),x.contrastText||(x.contrastText=g(x.main)),x},m={dark:zw,light:LN};return Rc(Yr({common:Yr({},Rg),mode:n,primary:b({color:a,name:"primary"}),secondary:b({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:l,name:"error"}),warning:b({color:h,name:"warning"}),info:b({color:c,name:"info"}),success:b({color:d,name:"success"}),grey:Pde,contrastThreshold:t,getContrastText:g,augmentColor:b,tonalOffset:r},m[n]),i)}const Yde=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Gde(e){return Math.round(e*1e5)/1e5}const MN={textTransform:"uppercase"},FN='"Roboto", "Helvetica", "Arial", sans-serif';function Qde(e,n){const t=typeof n=="function"?n(e):n,{fontFamily:r=FN,fontSize:i=14,fontWeightLight:a=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:h,pxToRem:g}=t,b=gh(t,Yde),m=i/14,x=g||(w=>`${w/d*m}rem`),y=(w,C,N,F,R)=>Yr({fontFamily:r,fontWeight:w,fontSize:x(C),lineHeight:N},r===FN?{letterSpacing:`${Gde(F/C)}em`}:{},R,h),A={h1:y(a,96,1.167,-1.5),h2:y(a,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(l,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(l,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(l,14,1.75,.4,MN),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,MN),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Rc(Yr({htmlFontSize:d,pxToRem:x,fontFamily:r,fontSize:i,fontWeightLight:a,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:c},A),b,{clone:!1})}const Kde=.2,Xde=.14,Zde=.12;function wi(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Kde})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Xde})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Zde})`].join(",")}const Jde=["none",wi(0,2,1,-1,0,1,1,0,0,1,3,0),wi(0,3,1,-2,0,2,2,0,0,1,5,0),wi(0,3,3,-2,0,3,4,0,0,1,8,0),wi(0,2,4,-1,0,4,5,0,0,1,10,0),wi(0,3,5,-1,0,5,8,0,0,1,14,0),wi(0,3,5,-1,0,6,10,0,0,1,18,0),wi(0,4,5,-2,0,7,10,1,0,2,16,1),wi(0,5,5,-3,0,8,10,1,0,3,14,2),wi(0,5,6,-3,0,9,12,1,0,3,16,2),wi(0,6,6,-3,0,10,14,1,0,4,18,3),wi(0,6,7,-4,0,11,15,1,0,4,20,3),wi(0,7,8,-4,0,12,17,2,0,5,22,4),wi(0,7,8,-4,0,13,19,2,0,5,24,4),wi(0,7,9,-4,0,14,21,2,0,5,26,4),wi(0,8,9,-5,0,15,22,2,0,6,28,5),wi(0,8,10,-5,0,16,24,2,0,6,30,5),wi(0,8,11,-5,0,17,26,2,0,6,32,5),wi(0,9,11,-5,0,18,28,2,0,7,34,6),wi(0,9,12,-6,0,19,29,2,0,7,36,6),wi(0,10,13,-6,0,20,31,3,0,8,38,7),wi(0,10,13,-6,0,21,33,3,0,8,40,7),wi(0,10,14,-6,0,22,35,3,0,8,42,7),wi(0,11,14,-7,0,23,36,3,0,9,44,8),wi(0,11,15,-7,0,24,38,3,0,9,46,8)],efe=["duration","easing","delay"],tfe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},nfe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function PN(e){return`${Math.round(e)}ms`}function rfe(e){if(!e)return 0;const n=e/36;return Math.round((4+15*n**.25+n/5)*10)}function ife(e){const n=Yr({},tfe,e.easing),t=Yr({},nfe,e.duration);return Yr({getAutoHeightDuration:rfe,create:(r=["all"],i={})=>{const{duration:a=t.standard,easing:s=n.easeInOut,delay:l=0}=i;return gh(i,efe),(Array.isArray(r)?r:[r]).map(c=>`${c} ${typeof a=="string"?a:PN(a)} ${s} ${typeof l=="string"?l:PN(l)}`).join(",")}},e,{easing:n,duration:t})}const afe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},sfe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ofe(e={},...n){const{mixins:t={},palette:r={},transitions:i={},typography:a={}}=e,s=gh(e,sfe);if(e.vars&&e.generateCssVars===void 0)throw new Error(Ig(18));const l=Vde(r),c=PL(e);let d=Rc(c,{mixins:Lde(c.breakpoints,t),palette:l,shadows:Jde.slice(),typography:Qde(l,a),transitions:ife(i),zIndex:Yr({},afe)});return d=Rc(d,s),d=n.reduce((h,g)=>Rc(h,g),d),d.unstable_sxConfig=Yr({},pb,s==null?void 0:s.unstable_sxConfig),d.unstable_sx=function(h){return f2({sx:h,theme:this})},d}const lfe=ofe(),ufe="$$material";function cfe(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const dfe=e=>cfe(e)&&e!=="classes",ffe=Dde({themeId:ufe,defaultTheme:lfe,rootShouldForwardProp:dfe});function hfe(e){return AL("MuiSvgIcon",e)}Tue("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const pfe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],mfe=e=>{const{color:n,fontSize:t,classes:r}=e,i={root:["root",n!=="inherit"&&`color${uh(n)}`,`fontSize${uh(t)}`]};return kue(i,hfe,r)},gfe=ffe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.color!=="inherit"&&n[`color${uh(t.color)}`],n[`fontSize${uh(t.fontSize)}`]]}})(({theme:e,ownerState:n})=>{var t,r,i,a,s,l,c,d,h,g,b,m,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=e.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((a=e.typography)==null||(s=a.pxToRem)==null?void 0:s.call(a,20))||"1.25rem",medium:((l=e.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((d=e.typography)==null||(h=d.pxToRem)==null?void 0:h.call(d,35))||"2.1875rem"}[n.fontSize],color:(g=(b=(e.vars||e).palette)==null||(b=b[n.color])==null?void 0:b.main)!=null?g:{action:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(x=(e.vars||e).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[n.color]}}),y6=K.forwardRef(function(e,n){const t=Fue({props:e,name:"MuiSvgIcon"}),{children:r,className:i,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:h,viewBox:g="0 0 24 24"}=t,b=gh(t,pfe),m=K.isValidElement(r)&&r.type==="svg",x=Yr({},t,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:g,hasSvgAsChild:m}),y={};d||(y.viewBox=g);const A=mfe(x);return Gt.jsxs(gfe,Yr({as:s,className:Due(A.root,i),focusable:"false",color:c,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},y,b,m&&r.props,{ownerState:x,children:[m?r.props.children:r,h?Gt.jsx("title",{children:h}):null]}))});y6.muiName="SvgIcon";function bfe(e,n){function t(r,i){return Gt.jsx(y6,Yr({"data-testid":`${n}Icon`,ref:i},r,{children:e}))}return t.muiName=y6.muiName,K.memo(K.forwardRef(t))}const yfe={configure:e=>{SL.configure(e)}},xfe=Object.freeze(Object.defineProperty({__proto__:null,capitalize:uh,createChainedFunction:oue,createSvgIcon:bfe,debounce:lue,deprecatedPropType:uue,isMuiElement:cue,ownerDocument:xL,ownerWindow:due,requirePropFactory:fue,setRef:vL,unstable_ClassNameGenerator:yfe,unstable_useEnhancedEffect:wL,unstable_useId:pue,unsupportedProp:mue,useControlled:gue,useEventCallback:bue,useForkRef:yue,useIsFocusVisible:_ue},Symbol.toStringTag,{value:"Module"})),vfe=Xd(xfe);var zN;function h2(){return zN||(zN=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.createSvgIcon}});var n=vfe}(uN)),uN}var qN;function wfe(){if(qN)return P1;qN=1;var e=xm();Object.defineProperty(P1,"__esModule",{value:!0}),P1.default=void 0;var n=e(h2()),t=cb();return P1.default=(0,n.default)((0,t.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),P1}var Sfe=wfe();const BN=ub(Sfe);var B1={},UN;function Afe(){if(UN)return B1;UN=1;var e=xm();Object.defineProperty(B1,"__esModule",{value:!0}),B1.default=void 0;var n=e(h2()),t=cb();return B1.default=(0,n.default)((0,t.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),B1}var Cfe=Afe();const Efe=ub(Cfe);var U1={},$N;function _fe(){if($N)return U1;$N=1;var e=xm();Object.defineProperty(U1,"__esModule",{value:!0}),U1.default=void 0;var n=e(h2()),t=cb();return U1.default=(0,n.default)((0,t.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),U1}var kfe=_fe();const jfe=ub(kfe);var $1={},HN;function Nfe(){if(HN)return $1;HN=1;var e=xm();Object.defineProperty($1,"__esModule",{value:!0}),$1.default=void 0;var n=e(h2()),t=cb();return $1.default=(0,n.default)((0,t.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),$1}var Tfe=Nfe();const Ofe=ub(Tfe),rr={primary:"#0B53C0",primaryLight:"#CDDAFF",background:"#F0F4FF",white:"#FFFFFF",text:"#000000",success:"#4caf50",error:"#f44336",disabled:"#ccc"},Kn={modal:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:{xs:"95%",sm:"80%",md:700},maxHeight:"90vh",bgcolor:rr.background,borderRadius:"16px",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)",p:3,outline:"none",overflow:"hidden",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,pb:2,borderBottom:`2px solid ${rr.primaryLight}`},title:{fontFamily:"Staatliches, Arial, sans-serif",fontSize:{xs:"1.5rem",sm:"2rem"},color:rr.text},closeButton:{color:rr.text,"&:hover":{bgcolor:rr.primaryLight}},progressBar:{height:8,borderRadius:4,bgcolor:rr.disabled,mb:3,"& .MuiLinearProgress-bar":{bgcolor:rr.primary,borderRadius:4}},questionCard:{bgcolor:rr.white,borderRadius:"12px",p:3,mb:3,minHeight:200,boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},questionText:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1.1rem",color:rr.text,mb:3},categoryBadge:{display:"inline-block",px:2,py:.5,bgcolor:rr.primaryLight,color:rr.text,borderRadius:"20px",fontSize:"0.85rem",fontFamily:"Gabarito, Arial, sans-serif",mb:2},answerInput:{width:"100%","& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif","& fieldset":{borderColor:rr.disabled},"&:hover fieldset":{borderColor:rr.primary},"&.Mui-focused fieldset":{borderColor:rr.primary}}},navigationDots:{display:"flex",justifyContent:"center",gap:1,my:2},dot:{width:12,height:12,borderRadius:"50%",border:"none",cursor:"pointer",transition:"all 0.3s","&:hover":{transform:"scale(1.2)"}},dotStates:{unanswered:{bgcolor:rr.disabled},answered:{bgcolor:rr.primaryLight},current:{bgcolor:rr.primary,transform:"scale(1.3)"}},navigationButtons:{display:"flex",justifyContent:"space-between",gap:2,mt:2},button:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",py:1,px:3,borderRadius:"20px",textTransform:"none"},primaryButton:{bgcolor:rr.primaryLight,color:rr.text,"&:hover":{bgcolor:rr.primary,color:rr.white}},secondaryButton:{bgcolor:rr.white,color:rr.text,border:`2px solid ${rr.primaryLight}`,"&:hover":{bgcolor:rr.primaryLight}},submitButton:{bgcolor:rr.success,color:rr.white,"&:hover":{bgcolor:"#388e3c"}},resultsContainer:{flex:1,overflowY:"auto",px:2},scoreCard:{bgcolor:rr.white,borderRadius:"12px",p:3,mb:3,textAlign:"center",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.1)"},scoreText:{fontSize:"3rem",fontFamily:"Staatliches, sans-serif",color:rr.primary},feedbackCard:{bgcolor:rr.white,borderRadius:"8px",p:2,mb:2,border:`1px solid ${rr.disabled}`},correctAnswer:{borderLeft:`4px solid ${rr.success}`},incorrectAnswer:{borderLeft:`4px solid ${rr.error}`}},zL="https://rag-flask-api.onrender.com",Ife=async e=>{if(!(e!=null&&e.trim()))throw new Error("Chatbot ID is required");try{const n=await fetch(`${zL}/get_quiz?chatbot_id=${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json"}}),t=await n.json();if(!n.ok||!t.success)throw new Error(t.error||"Failed to fetch quiz");return{quizId:t.quiz_id,questions:t.questions||[]}}catch(n){throw console.error("Error fetching quiz:",n),n}},Dfe=async(e,n,t)=>{if(!e||!n||!t||Object.keys(t).length===0)throw new Error("Invalid quiz submission");try{const r=await fetch(`${zL}/grade_quiz`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chatbot_id:e,quiz_id:n,answers:t})}),i=await r.json();if(!r.ok||!i.success)throw new Error(i.error||"Quiz grading failed");return i.summary}catch(r){throw console.error("Error grading quiz:",r),r}},Lfe=(e,n)=>{if(e)try{const t=`quiz_progress_${e}`;localStorage.setItem(t,JSON.stringify({answers:n,timestamp:new Date().toISOString()}))}catch(t){console.error("Failed to save progress:",t)}},Rfe=e=>{if(!e)return null;try{const n=`quiz_progress_${e}`,t=localStorage.getItem(n);if(!t)return null;const r=JSON.parse(t),i=new Date(r.timestamp);return(new Date-i)/(1e3*60*60)>24?(localStorage.removeItem(n),null):r.answers}catch(n){return console.error("Failed to load progress:",n),null}},qw=e=>{if(e)try{const n=`quiz_progress_${e}`;localStorage.removeItem(n)}catch(n){console.error("Failed to clear progress:",n)}},Mfe=e=>{const n=((e==null?void 0:e.bloom_level)||(e==null?void 0:e.bloomLevel)||"").toString().toLowerCase();return n==="remember"||n==="understand"?"lower":n==="apply"?"middle":n==="analyze"||n==="evaluate"||n==="create"?"upper":"lower"},Ffe=e=>e==="easy"?5:e==="hard"?10:8,Pfe=(e,n)=>{const t=[],r=[],i=[];e.forEach(d=>{const h=Mfe(d);h==="lower"?t.push(d):h==="middle"?r.push(d):i.push(d)});const a=d=>{const h=[...d];for(let g=h.length-1;g>0;g-=1){const b=Math.floor(Math.random()*(g+1));[h[g],h[b]]=[h[b],h[g]]}return h},s=Ffe(n);let l=[];if(n==="easy"){const d=a(t),h=a(r),g=a(i);l=[...d.slice(0,s)],l.length<s&&(l=[...l,...h.slice(0,s-l.length)]),l.length<s&&(l=[...l,...g.slice(0,s-l.length)])}else if(n==="medium"){const d=a(r),h=a(t),g=a(i);l=[...d.slice(0,s)],l.length<s&&(l=[...l,...h.slice(0,s-l.length)]),l.length<s&&(l=[...l,...g.slice(0,s-l.length)])}else{const d=a(i),h=a(r),g=a(t);l=[...d.slice(0,s)],l.length<s&&(l=[...l,...h.slice(0,s-l.length)]),l.length<s&&(l=[...l,...g.slice(0,s-l.length)])}const c=Math.min(s,l.length);return{selected:l.slice(0,c),selection:{mode:n,target:s,finalCount:c},totalAvailable:{lower:t.length,middle:r.length,upper:i.length}}},zfe=K.forwardRef(({chatbotId:e,open:n,onClose:t,difficulty:r="medium",onQuizStart:i,onQuizProgress:a,onAnswerChange:s,onQuizSubmit:l,onQuizClose:c,onError:d},h)=>{const[g,b]=K.useState(null),[m,x]=K.useState([]),[y,A]=K.useState(null),[w,C]=K.useState(0),[N,F]=K.useState({}),[R,M]=K.useState(!0),[k,L]=K.useState(!1),[B,Q]=K.useState(""),[j,O]=K.useState(!1),[z,T]=K.useState(null),G=K.useRef(null),W=K.useRef(null);K.useEffect(()=>{n&&e&&X()},[n,e,r]),K.useEffect(()=>{if(W.current&&Object.keys(N).length>0){Lfe(W.current,N);const Oe=m.length,Le=Oe>0?Object.keys(N).length/Oe*100:0;a==null||a({quizId:g==null?void 0:g.quizId,answers:N,percentComplete:Le,selection:y||void 0})}},[N,W.current,m.length]);const X=async()=>{M(!0),Q(""),O(!1),T(null),C(0),F({}),x([]),A(null),G.current=new Date;try{const Oe=await Ife(e),{selected:Le,selection:He,totalAvailable:We}=Pfe((Oe==null?void 0:Oe.questions)||[],r);b(Oe),x(Le),A(He);const V=`${Oe.quizId}::${r}`;W.current=V;const Se=Rfe(V);Se&&F(Se),i==null||i({quizId:Oe.quizId,chatbotId:e,startedAt:G.current,selection:He,totalAvailable:We})}catch(Oe){const Le=(Oe==null?void 0:Oe.message)||"Failed to load quiz";Q(Le),d==null||d(Oe,"load")}finally{M(!1)}},ie=m[w],ue=m.length||0,$=ue>0?(w+1)/ue*100:0,ae=Oe=>{if(!ie)return;const Le={...N,[ie.id]:Oe};F(Le),s==null||s({quizId:g==null?void 0:g.quizId,questionId:ie.id,value:Oe,answers:Le})},U=()=>{w<ue-1&&C(Oe=>Oe+1)},q=()=>{w>0&&C(Oe=>Oe-1)},Z=Oe=>C(Oe),ee=async()=>{if(!g)return;const Oe=m.filter(Le=>!N[Le.id]);if(Oe.length>0){Q(`Please answer all questions (${Oe.length} remaining)`);return}L(!0),Q("");try{const Le=new Date,He={};m.forEach(V=>{He[V.id]=N[V.id]});const We=await Dfe(e,g.quizId,He);T(We),O(!0),W.current&&qw(W.current),l==null||l({quizId:g.quizId,chatbotId:e,startedAt:G.current,submittedAt:Le,answers:He,summary:We,selection:y||void 0})}catch(Le){const He=`Failed to submit quiz: ${(Le==null?void 0:Le.message)||""}`.trim();Q(He),d==null||d(Le,"submit")}finally{L(!1)}},se=()=>{W.current&&qw(W.current),c==null||c({quizId:g==null?void 0:g.quizId,chatbotId:e,answers:N,summary:z,completed:j,closedAt:new Date,selection:y||void 0}),t()},we=(Oe,Le)=>{const He=Le===w,We=!!N[Oe];return{isCurrent:He,hasAnswer:We}},ye=()=>{const Oe=(ie==null?void 0:ie.answer_type)||"text",Le=N[ie==null?void 0:ie.id]||"";return Gt.jsx(Bt,{multiline:Oe==="long_answer",rows:Oe==="long_answer"?6:1,value:Le,onChange:He=>ae(He.target.value),placeholder:"Enter your answer here...",sx:Kn.answerInput,disabled:k})};if(K.useImperativeHandle(h,()=>({reloadQuiz:X,clearProgress:()=>W.current&&qw(W.current),submit:ee,getAnswers:()=>N,getSummary:()=>z,close:se})),j&&z){const Oe=(()=>{const He=z==null?void 0:z.percent;if(typeof He=="number"&&Number.isFinite(He))return Math.round(He);const We=z==null?void 0:z.score;if(typeof We=="number"&&Number.isFinite(We))return Math.round(We);const V=Number(z==null?void 0:z.total_score)||0,Se=Number(z==null?void 0:z.total_max)||0;return Se>0?Math.round(V/Se*100):0})(),Le=z.items||z.questions||{};return Gt.jsx(Cx,{open:n,onClose:se,children:Gt.jsxs(me,{sx:Kn.modal,children:[Gt.jsxs(me,{sx:Kn.header,children:[Gt.jsx(de,{sx:Kn.title,children:"Quiz Results"}),Gt.jsx(Cn,{onClick:se,sx:Kn.closeButton,children:Gt.jsx(BN,{})})]}),Gt.jsxs(me,{sx:Kn.resultsContainer,children:[Gt.jsxs(me,{sx:Kn.scoreCard,children:[Gt.jsxs(de,{sx:Kn.scoreText,children:[Oe,"%"]}),Gt.jsx(de,{variant:"h6",sx:{fontFamily:"Gabarito"},children:"Final Score"}),z.total_score!==void 0&&Gt.jsxs(de,{variant:"body2",sx:{mt:1},children:[z.total_score," / ",z.total_max," points"]})]}),z.feedback&&Gt.jsx(vr,{severity:"info",sx:{mb:2},children:z.feedback}),!!m.length&&!!Object.keys(Le).length&&Gt.jsxs(me,{children:[Gt.jsx(de,{variant:"h6",sx:{mb:2,fontFamily:"Staatliches"},children:"Question Breakdown"}),m.map(He=>{const We=Le[He.id]||{},V=We.score??0,Se=We.verdict==="correct"||V>=70||We.passed===!0;return Gt.jsxs(me,{sx:{...Kn.feedbackCard,...Se?Kn.correctAnswer:Kn.incorrectAnswer},children:[Gt.jsxs(de,{variant:"body2",sx:{mb:1},children:["Q: ",(He==null?void 0:He.question)||"Question not found"]}),Gt.jsxs(de,{variant:"caption",color:"textSecondary",children:["Your answer: ",N[He.id]]}),We.score!==void 0&&Gt.jsxs(de,{variant:"caption",display:"block",sx:{mt:1},children:["Score: ",V,"/",We.max_score||100]}),(We.feedback||We.reasoning)&&Gt.jsx(de,{variant:"caption",display:"block",sx:{mt:1},children:We.feedback||We.reasoning})]},He.id)})]})]}),Gt.jsx(At,{fullWidth:!0,variant:"contained",onClick:se,sx:{...Kn.button,...Kn.primaryButton,mt:2},children:"Close"})]})})}const Ce=y&&y.finalCount<y.target;return Gt.jsx(Cx,{open:n,onClose:se,children:Gt.jsxs(me,{sx:Kn.modal,children:[Gt.jsxs(me,{sx:Kn.header,children:[Gt.jsx(de,{sx:Kn.title,children:"Quiz"}),Gt.jsx(Cn,{onClick:se,sx:Kn.closeButton,children:Gt.jsx(BN,{})})]}),y&&Gt.jsx(me,{sx:{mb:1},children:Gt.jsx(Dn,{label:`Mode: ${y.mode}  ${y.finalCount} Qs`,size:"small",sx:Kn.categoryBadge})}),Ce&&Gt.jsxs(vr,{severity:"info",sx:{mb:2},children:["Not enough questions available for ",y.mode,". Showing"," ",y.finalCount," instead of ",y.target,"."]}),R?Gt.jsx(me,{sx:{display:"flex",justifyContent:"center",py:5},children:Gt.jsx(Gr,{})}):B&&!g?Gt.jsx(vr,{severity:"error",children:B}):g&&ie?Gt.jsxs(Gt.Fragment,{children:[Gt.jsx(Xo,{variant:"determinate",value:$,sx:Kn.progressBar}),Gt.jsxs(me,{sx:Kn.questionCard,children:[Gt.jsxs(me,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[Gt.jsxs(de,{variant:"h6",sx:{fontFamily:"Staatliches"},children:["Question ",w+1," of ",ue]}),ie.category&&Gt.jsx(Dn,{label:ie.category,size:"small",sx:Kn.categoryBadge})]}),Gt.jsx(de,{sx:Kn.questionText,children:ie.question}),ye()]}),B&&Gt.jsx(vr,{severity:"error",sx:{mb:2},children:B}),Gt.jsx(me,{sx:Kn.navigationDots,children:m.map((Oe,Le)=>{const{isCurrent:He,hasAnswer:We}=we(Oe.id,Le);return Gt.jsx(me,{component:"button",onClick:()=>Z(Le),title:We?"Answered":"Unanswered",sx:{...Kn.dot,...We&&!He&&Kn.dotStates.answered,...!We&&!He&&Kn.dotStates.unanswered,...He&&Kn.dotStates.current}},Oe.id)})}),Gt.jsxs(me,{sx:Kn.navigationButtons,children:[Gt.jsx(At,{startIcon:Gt.jsx(Efe,{}),onClick:q,disabled:w===0,sx:{...Kn.button,...Kn.secondaryButton},children:"Previous"}),w===ue-1?Gt.jsx(At,{onClick:ee,disabled:k,endIcon:Gt.jsx(Ofe,{}),sx:{...Kn.button,...Kn.submitButton},children:k?Gt.jsx(Gr,{size:20}):"Submit Quiz"}):Gt.jsx(At,{endIcon:Gt.jsx(jfe,{}),onClick:U,sx:{...Kn.button,...Kn.primaryButton},children:"Next"})]})]}):Gt.jsx(vr,{severity:"info",children:"No quiz available"})]})})}),WN={totalQuizzes:0,completedQuizzes:0,averageScore:0,difficultyBreakdown:{easy:0,medium:0,hard:0}},qL=xp()(Ug(ov((e,n)=>({currentSession:null,sessions:[],statistics:WN,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null,openQuizModal:(t,r="medium")=>{e({isModalOpen:!0,currentChatbotId:t,currentDifficulty:r,error:null})},closeQuizModal:()=>{e({isModalOpen:!1,error:null})},setDifficulty:t=>{e({currentDifficulty:t})},setLoading:t=>{e({loading:t})},setError:t=>{e({error:t})},startQuiz:t=>{const r={id:`session_${Date.now()}`,quizId:t.quizId,chatbotId:t.chatbotId,userId:"",difficulty:t.selection.mode,startedAt:t.startedAt,completed:!1,answers:{}};e({currentSession:r,isQuizActive:!0,currentAnswers:{},lastSummary:null,error:null})},updateAnswers:t=>{const{currentSession:r}=n();if(!r)return;const i={...t.answers};e({currentAnswers:i,currentSession:{...r,answers:i}})},submitQuiz:t=>{console.log(" Quiz Store: Quiz submitted. Data should be saved by quiz modal API:",t),e({lastSummary:t.summary,isQuizActive:!1})},closeQuiz:t=>{console.log(" Quiz Store: Quiz closed. Data handled by quiz modal API:",t),e({currentSession:null,isQuizActive:!1,isModalOpen:!1,currentAnswers:{},lastSummary:t.completed?t.summary:null})},addSession:t=>{e(r=>({sessions:[...r.sessions,t]}))},updateSession:(t,r)=>{e(i=>{var a;return{sessions:i.sessions.map(s=>s.id===t?{...s,...r}:s),currentSession:((a=i.currentSession)==null?void 0:a.id)===t?{...i.currentSession,...r}:i.currentSession}})},deleteSession:t=>{e(r=>({sessions:r.sessions.filter(i=>i.id!==t)}))},clearCurrentSession:()=>{e({currentSession:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})},updateStatistics:()=>{const{sessions:t}=n(),r=t.filter(l=>l.completed),i=r.reduce((l,c)=>{var d;return l+(((d=c.summary)==null?void 0:d.percent)||0)},0),a=t.reduce((l,c)=>({...l,[c.difficulty]:l[c.difficulty]+1}),{easy:0,medium:0,hard:0}),s={totalQuizzes:t.length,completedQuizzes:r.length,averageScore:r.length>0?i/r.length:0,difficultyBreakdown:a,lastQuizDate:t.length>0?t[t.length-1].startedAt:void 0};e({statistics:s})},saveSessionToFirestore:async t=>{try{const{db:r}=await Li(async()=>{const{db:s}=await Promise.resolve().then(()=>np);return{db:s}},void 0),{doc:i,setDoc:a}=await Li(async()=>{const{doc:s,setDoc:l}=await import("./firebase-DpGenoA-.js").then(c=>c.B);return{doc:s,setDoc:l}},[]);await a(i(r,"quizSessions",t.id),{...t,timestamp:new Date().toISOString()}),console.log("Quiz session saved to Firestore:",t.id)}catch(r){console.error("Failed to save quiz session:",r),e({error:"Failed to save quiz session"})}},fetchUserSessions:async t=>{try{e({loading:!0,error:null});const{db:r}=await Li(async()=>{const{db:b}=await Promise.resolve().then(()=>np);return{db:b}},void 0),{collection:i,query:a,where:s,getDocs:l,orderBy:c}=await Li(async()=>{const{collection:b,query:m,where:x,getDocs:y,orderBy:A}=await import("./firebase-DpGenoA-.js").then(w=>w.B);return{collection:b,query:m,where:x,getDocs:y,orderBy:A}},[]),d=a(i(r,"quizSessions"),s("userId","==",t),c("startedAt","desc")),g=(await l(d)).docs.map(b=>({id:b.id,...b.data()}));e({sessions:g,loading:!1}),n().updateStatistics()}catch(r){console.error("Failed to fetch quiz sessions:",r),e({error:"Failed to fetch quiz sessions",loading:!1})}},reset:()=>{e({currentSession:null,sessions:[],statistics:WN,isModalOpen:!1,currentChatbotId:null,currentDifficulty:"medium",loading:!1,error:null,isQuizActive:!1,currentAnswers:{},lastSummary:null})}}),{name:"quiz-store",partialize:e=>({currentDifficulty:e.currentDifficulty}),merge:(e,n)=>({...n,...e||{},currentDifficulty:(e==null?void 0:e.currentDifficulty)||"medium"})}),{name:"quiz-store"})),th=Jn(),nh={QUIZ_SESSIONS:"quizSessions",QUIZ_EVENTS:"quizEvents"},qfe=async(e,n)=>{try{const t=Ja.now(),r=Ja.fromDate(new Date(e.startedAt)),i=5*1e3,a=Ja.fromMillis(r.toMillis()-i),s=Ja.fromMillis(r.toMillis()+i),l=nl(wn(th,nh.QUIZ_SESSIONS),Si("quizId","==",e.quizId),Si("userId","==",n),Si("startedAt",">=",a),Si("startedAt","<=",s),av(1)),c=await mi(l);if(!c.empty){console.log(" Quiz session with same start time already exists, skipping duplicate:",{quizId:e.quizId,startedAt:e.startedAt,userId:n.substring(0,8)+"...",existingSessionId:c.docs[0].id});return}const d={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,startedAt:Ja.fromDate(new Date(e.startedAt)),completed:!1,difficulty:e.selection.mode,selection:{mode:e.selection.mode,target:e.selection.target,finalCount:e.selection.finalCount},createdAt:t,updatedAt:t},h={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_started",timestamp:t,data:e,createdAt:t};await Promise.all([Ma(wn(th,nh.QUIZ_SESSIONS),d),Ma(wn(th,nh.QUIZ_EVENTS),h)]),console.log(" Quiz start event saved to Firestore:",{quizId:e.quizId,difficulty:e.selection.mode,userId:n.substring(0,8)+"..."})}catch(t){throw console.error(" Error saving quiz start event:",t),t}},Bfe=async(e,n)=>{try{const t=Ja.now(),r={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"answer_changed",timestamp:t,data:{quizId:e.quizId,chatbotId:e.chatbotId,questionId:e.questionId,value:e.value,answers:e.answers},createdAt:t};await Ma(wn(th,nh.QUIZ_EVENTS),r),console.log(" Answer change event saved to Firestore:",{quizId:e.quizId,questionId:e.questionId,userId:n.substring(0,8)+"..."})}catch(t){console.error(" Error saving answer change event:",t)}},Ufe=async(e,n)=>{try{const t=Ja.now(),r=Ja.fromMillis(t.toMillis()-3600*1e3),i=nl(wn(th,nh.QUIZ_SESSIONS),Si("quizId","==",e.quizId),Si("userId","==",n),Si("completed","==",!1),Si("createdAt",">=",r),iv("createdAt","desc")),a=await mi(i);if(a.empty)throw console.error(" No incomplete session found for quiz submission - this should not happen!",{quizId:e.quizId,userId:n.substring(0,8)+"...",submittedAt:e.submittedAt}),new Error("No matching quiz session found for submission");{const l=a.docs[0],c=l.ref,d=l.data(),h={submittedAt:Ja.fromDate(new Date(e.submittedAt)),completed:!0,finalAnswers:e.answers,summary:e.summary,updatedAt:t};await Wr(c,h),console.log(" Updated quiz session:",{quizId:e.quizId,difficulty:d.difficulty,score:`${e.summary.total_score}/${e.summary.total_max}`,userId:n.substring(0,8)+"..."})}const s={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_submitted",timestamp:t,data:e,createdAt:t};await Ma(wn(th,nh.QUIZ_EVENTS),s),console.log(" Quiz submission saved to Firestore:",{quizId:e.quizId,score:`${e.summary.total_score}/${e.summary.total_max} (${e.summary.percent}%)`})}catch(t){throw console.error(" Error saving quiz submission:",t),t}},$fe=async(e,n)=>{try{const t=Ja.now(),r=nl(wn(th,nh.QUIZ_SESSIONS),Si("quizId","==",e.quizId),Si("userId","==",n)),i=await mi(r);if(!i.empty){const l=i.docs[0].ref,c={closedAt:Ja.fromDate(new Date(e.closedAt)),updatedAt:t};e.completed&&e.summary&&(c.completed=!0,c.finalAnswers=e.answers,c.summary=e.summary),await Wr(l,c)}const a={quizId:e.quizId,chatbotId:e.chatbotId,userId:n,eventType:"quiz_closed",timestamp:t,data:e,createdAt:t};await Ma(wn(th,nh.QUIZ_EVENTS),a),console.log(" Quiz close event saved to Firestore:",{quizId:e.quizId,completed:e.completed})}catch(t){throw console.error(" Error saving quiz close event:",t),t}},BL=K.forwardRef(({chatbotId:e,difficulty:n,open:t,onClose:r,eventHandlers:i},a)=>{const{userDetails:s}=Ai(),l=K.useRef(null),{startQuiz:c,updateAnswers:d,submitQuiz:h,closeQuiz:g,setError:b}=qL(),m=K.useCallback(C=>{console.log("Quiz started:",C),c(C),s!=null&&s.uid&&qfe(C,s.uid).catch(N=>{console.error("Failed to save quiz start event:",N)}),i!=null&&i.onQuizStart&&i.onQuizStart(C)},[s==null?void 0:s.uid,c,i]),x=K.useCallback(C=>{if(console.log("Answer changed:",C),d(C),s!=null&&s.uid){const N={...C,chatbotId:C.chatbotId||e};Bfe(N,s.uid).catch(F=>{console.warn("Failed to save answer change event:",F)})}i!=null&&i.onAnswerChange&&i.onAnswerChange(C)},[d,i,s==null?void 0:s.uid,e]),y=K.useCallback(C=>{console.log("Quiz submitted:",C),h(C),s!=null&&s.uid&&Ufe(C,s.uid).catch(N=>{console.error("Failed to save quiz submission event:",N)}),i!=null&&i.onQuizSubmit&&i.onQuizSubmit(C)},[h,i,s==null?void 0:s.uid]),A=K.useCallback(C=>{console.log("Quiz closed:",C),g(C),s!=null&&s.uid&&$fe(C,s.uid).catch(N=>{console.error("Failed to save quiz close event:",N)}),i!=null&&i.onQuizClose&&i.onQuizClose(C)},[g,i,s==null?void 0:s.uid]),w=K.useCallback((C,N)=>{console.error("Error in",N,C),b(`Quiz ${N} failed: ${C.message}`),i!=null&&i.onError&&i.onError(C,N)},[b,i]);return K.useImperativeHandle(a,()=>({reloadQuiz:()=>{l.current&&l.current.reloadQuiz()},clearProgress:()=>{l.current&&l.current.clearProgress()},submit:()=>{l.current&&l.current.submit()},getAnswers:()=>l.current?l.current.getAnswers():{},getSummary:()=>l.current?l.current.getSummary():null,close:()=>{l.current&&l.current.close(),r()}})),f.jsx(zfe,{ref:l,chatbotId:e,open:t,onClose:r,difficulty:n,onQuizStart:m,onAnswerChange:x,onQuizSubmit:y,onQuizClose:A,onError:w})});BL.displayName="QuizWrapper";const Hfe=({onStartQuiz:e,disabled:n=!1})=>{const[t,r]=K.useState(null),i=!!t,a=d=>{r(d.currentTarget)},s=()=>{r(null)},l=d=>{e(d),s()},c=[{value:"easy",description:"~5 questions",icon:f.jsx(Pd,{color:"success"}),color:"success"},{value:"medium",description:"~8 questions",icon:f.jsx(LR,{color:"warning"}),color:"warning"},{value:"hard",description:"Up to 10 questions",icon:f.jsx(RR,{color:"error"}),color:"error"}];return f.jsxs(f.Fragment,{children:[f.jsx(At,{variant:"contained",onClick:a,disabled:n,startIcon:i?f.jsx(og,{}):f.jsx(qc,{}),sx:{background:"#0B53C0",color:"white",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",fontWeight:"bold",px:3,py:1.5,borderRadius:"12px",textTransform:"none","&:hover":{background:"#064a9e",boxShadow:"0px 4px 12px rgba(11, 83, 192, 0.3)"},"&:disabled":{background:"#ccc",color:"#999"},boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",transition:"all 0.2s ease-in-out"},children:"Start Quiz"}),f.jsxs(DR,{anchorEl:t,open:i,onClose:s,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},PaperProps:{sx:{minWidth:300,borderRadius:2,border:"1px solid #e0e0e0",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)","& .MuiMenuItem-root":{py:1.5,px:2,borderRadius:1,mx:1,mb:.5,"&:hover":{backgroundColor:"#f5f5f5",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},"&:last-child":{mb:1}}}},children:[f.jsx(me,{sx:{px:2,py:1.5,borderBottom:"1px solid #e0e0e0",backgroundColor:"#CDDAFF"},children:f.jsx(de,{variant:"subtitle1",sx:{fontFamily:"Staatliches, sans-serif",color:"#0B53C0",fontSize:"1.1rem",textAlign:"center"},children:"Select Quiz Difficulty"})}),c.map(d=>f.jsxs(Zn,{onClick:()=>l(d.value),children:[f.jsx(Vy,{sx:{minWidth:40},children:d.icon}),f.jsx(Il,{primary:f.jsx(de,{variant:"body1",sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1.1rem",color:"#333",fontWeight:"bold"},children:d.value.charAt(0).toUpperCase()+d.value.slice(1)}),secondary:f.jsx(de,{variant:"body2",sx:{fontFamily:"Gabarito, sans-serif",color:"#666",fontSize:"0.875rem"},children:d.description})})]},d.value))]})]})},S0="ce5f7921-a3a0-4ea7-b95f-10fe41becda5",Wfe=({defaultDifficulty:e="medium",position:n="fixed"})=>{const{userDetails:t}=Ai(),[r]=Bg(),i=K.useRef(null),{isModalOpen:a,currentChatbotId:s,currentDifficulty:l,statistics:c,openQuizModal:d,closeQuizModal:h,setDifficulty:g,fetchUserSessions:b,setError:m}=qL(),[x,y]=it.useState(S0);K.useEffect(()=>{const F=r.get("material");if(!F){x!==S0&&y(S0);return}(async()=>{try{console.log(" Fetching chatbot ID for quiz material:",F);const M=Jn(),k=wn(M,"chatbots"),L=nl(k,Si("material.id","==",F)),B=await mi(L);if(B.empty)console.log(` No chatbot found for material ${F}, using default for quiz:`,S0),y(S0);else{const Q=B.docs[0].data();console.log(` Found chatbot for quiz material ${F}:`,Q.chatbotId),y(Q.chatbotId)}}catch(M){console.error("Failed to fetch chatbot for quiz:",M),m("Failed to load quiz for this material"),y(S0)}})()},[r,x,m]),K.useEffect(()=>{t!=null&&t.uid&&b(t.uid)},[t==null?void 0:t.uid,b]),K.useEffect(()=>{g(e)},[e,g]);const A=K.useCallback(F=>{x?d(x,F):m("No chatbot available for quiz")},[x,d,m]),w=K.useCallback(()=>{h()},[h]);if(!(t!=null&&t.uid)||!r.get("material"))return null;const N=n==="fixed"?{position:"fixed",bottom:120,right:16,zIndex:1e3}:{position:"relative"};return f.jsxs(f.Fragment,{children:[f.jsx(me,{sx:N,children:f.jsx(Hfe,{onStartQuiz:A,disabled:!x})}),a&&s&&f.jsx(BL,{ref:i,chatbotId:s,difficulty:l,open:a,onClose:w,eventHandlers:{onQuizStart:F=>{},onQuizSubmit:F=>{},onError:(F,R)=>{console.error("Quiz error:",R,F)}}})]})},Vfe=({children:e})=>f.jsxs(me,{sx:{display:"flex",flexDirection:"column",height:"100vh",backgroundColor:Ue.background.primary,overflow:"hidden"},children:[f.jsx(me,{component:"header",sx:{height:"12.5vh",minHeight:90,zIndex:1100,flexShrink:0},children:f.jsx(WJ,{})}),f.jsx(me,{component:"main",sx:{height:"77.5vh",display:"flex",flexGrow:1,overflow:"hidden"},children:f.jsx(HJ,{children:e})}),f.jsx(me,{component:"footer",sx:{height:"10vh",minHeight:70,flexShrink:0},children:f.jsx(VJ,{})}),f.jsx(Xle,{}),f.jsx(Wfe,{}),f.jsx(kM,{})]}),Yfe=()=>{const{userDetails:e,isSuperAdmin:n}=Ai(),t=qJ(e,n),r=D3(t);return e!=null&&e.uid?f.jsx(Vfe,{children:r}):r},Gfe=()=>{const{userDetails:e,loading:n}=Ai();if(n)return f.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Gr,{})});const t="/nexlab";return e!=null&&e.uid,f.jsxs(MR,{theme:BJ,children:[f.jsx(FR,{}),f.jsx(X3,{basename:t,future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:f.jsx(K.Suspense,{fallback:f.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:f.jsx(Gr,{})}),children:f.jsx(Yfe,{})})})]})},Qfe=document.getElementById("root"),Kfe=i3.createRoot(Qfe);Kfe.render(f.jsx(iM,{children:f.jsx(Gfe,{})}));export{zT as A,qT as B,xM as C,VJ as D,NF as E,np as F,ihe as G,Pl as P,gv as R,IX as V,Li as _,on as a,Zt as b,Ue as c,bo as d,ET as e,D6 as f,_T as g,ht as h,ea as i,mhe as j,i4 as k,a4 as l,Bg as m,_M as n,nhe as o,xp as p,Ug as q,Yd as r,Jt as s,at as t,Ai as u,ov as v,jv as w,dJ as x,kF as y,jF as z};
