const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CxUF1Sdq.js","assets/vendor-DeqkGhWy.js","assets/index-DlpswmMY.js","assets/MaterialImportWrapper-BKZT1iDI.js","assets/ui-Dgq5IdU5.js","assets/firebase-BbBYlhCW.js","assets/index.es-B1-NTblP.js","assets/index-pil7TiCw.js","assets/index-0wLwLdIl.js","assets/purify.es-CQJ0hv7W.js","assets/SupplementalMaterials-Bzt8NU2M.js"])))=>i.map(i=>d[i]);
var AW=Object.defineProperty;var _W=(t,r,n)=>r in t?AW(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n;var bt=(t,r,n)=>_W(t,typeof r!="symbol"?r+"":r,n);import{r as Y,R as C1,j as A,C as Rr,P as Bn,E as vP,T as je,B as Pe,a as kt,b as AP,A as br,H as CW,c as _P,d as at,e as ls,f as zk,g as xW,h as CP,G as Pt,D as na,I as Ln,i as Uk,k as _s,l as $_,m as Ks,n as Qi,o as Ji,p as Zi,q as Ts,s as Xi,t as xP,u as ic,v as oc,w as ii,x as kl,y as sc,L as Pg,M as SW,S as cs,z as mk,F as ap,J as lp,K as Jt,N as gk,O as EW,Q as DW,U as IW,V as Nr,W as SP,X as Xt,Y as TW,Z as x1,_ as H_,$ as Dp,a0 as NW,a1 as yg,a2 as EP,a3 as DP,a4 as IP,a5 as qk,a6 as bI,a7 as MW,a8 as Vk,a9 as fd,aa as pd,ab as vc,ac as PW,ad as TP,ae as vd,af as Ad,ag as _d,ah as xo,ai as It,aj as Cd,ak as OW,al as jW,am as su,an as au,ao as LW,ap as BW,aq as vh,ar as RW,as as FW,at as zW,au as W_,av as Og,aw as UW,ax as qW,ay as VW,az as $W,aA as kI,aB as HW,aC as WW,aD as wI,aE as G_,aF as GW,aG as YW,aH as KW,aI as QW,aJ as fl,aK as ec,aL as NP,aM as Y_,aN as MP,aO as $k,aP as JW,aQ as ZW,aR as XW,aS as eG,aT as vv,aU as tG,aV as nG,aW as rG,aX as PP,aY as iG,aZ as OP,a_ as K_,a$ as Jh,b0 as Cc,b1 as He,b2 as An,b3 as oG,b4 as jP,b5 as yn,b6 as sG,b7 as aG,b8 as lG,b9 as cG}from"./ui-Dgq5IdU5.js";import{a as uG,g as bu,b as ku,r as dG,c as od}from"./vendor-DeqkGhWy.js";import{g as hG,G as fG,o as pG,b as mG,a as gG,s as bG,c as kG,d as wG,P as Kn,e as mn,f as Wo,h as ac,m as LP,i as _r,I as BP,j as yG,k as xd,R as Rp,x as vG,_ as Zn,y as Jg,r as gl,u as ud,l as lu,n as RP,p as la,q as hp,t as So,K as AG,W as Q_,v as Zg,Q as _G}from"./firebase-BbBYlhCW.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();var V0={},yI;function CG(){if(yI)return V0;yI=1;var t=uG();return V0.createRoot=t.createRoot,V0.hydrateRoot=t.hydrateRoot,V0}var xG=CG();const SG=bu(xG);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},jg.apply(this,arguments)}var Sh;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Sh||(Sh={}));const vI="popstate";function EG(t){t===void 0&&(t={});function r(o,s){let{pathname:l,search:d,hash:h}=o.location;return LA("",{pathname:l,search:d,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(o,s){return typeof s=="string"?s:zP(s)}return IG(r,n,null,t)}function Ho(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function FP(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function DG(){return Math.random().toString(36).substr(2,8)}function AI(t,r){return{usr:t.state,key:t.key,idx:r}}function LA(t,r,n,o){return n===void 0&&(n=null),jg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?Xg(r):r,{state:n,key:r&&r.key||o||DG()})}function zP(t){let{pathname:r="/",search:n="",hash:o=""}=t;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function Xg(t){let r={};if(t){let n=t.indexOf("#");n>=0&&(r.hash=t.substr(n),t=t.substr(0,n));let o=t.indexOf("?");o>=0&&(r.search=t.substr(o),t=t.substr(0,o)),t&&(r.pathname=t)}return r}function IG(t,r,n,o){o===void 0&&(o={});let{window:s=document.defaultView,v5Compat:l=!1}=o,d=s.history,h=Sh.Pop,p=null,g=b();g==null&&(g=0,d.replaceState(jg({},d.state,{idx:g}),""));function b(){return(d.state||{idx:null}).idx}function v(){h=Sh.Pop;let D=b(),S=D==null?null:D-g;g=D,p&&p({action:h,location:C.location,delta:S})}function y(D,S){h=Sh.Push;let M=LA(C.location,D,S);g=b()+1;let P=AI(M,g),B=C.createHref(M);try{d.pushState(P,"",B)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;s.location.assign(B)}l&&p&&p({action:h,location:C.location,delta:1})}function k(D,S){h=Sh.Replace;let M=LA(C.location,D,S);g=b();let P=AI(M,g),B=C.createHref(M);d.replaceState(P,"",B),l&&p&&p({action:h,location:C.location,delta:0})}function x(D){let S=s.location.origin!=="null"?s.location.origin:s.location.href,M=typeof D=="string"?D:zP(D);return M=M.replace(/ $/,"%20"),Ho(S,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,S)}let C={get action(){return h},get location(){return t(s,d)},listen(D){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(vI,v),p=D,()=>{s.removeEventListener(vI,v),p=null}},createHref(D){return r(s,D)},createURL:x,encodeLocation(D){let S=x(D);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:k,go(D){return d.go(D)}};return C}var _I;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_I||(_I={}));function TG(t,r,n){return n===void 0&&(n="/"),NG(t,r,n)}function NG(t,r,n,o){let s=typeof r=="string"?Xg(r):r,l=VP(s.pathname||"/",n);if(l==null)return null;let d=UP(t);MG(d);let h=null;for(let p=0;h==null&&p<d.length;++p){let g=$G(l);h=UG(d[p],g)}return h}function UP(t,r,n,o){r===void 0&&(r=[]),n===void 0&&(n=[]),o===void 0&&(o="");let s=(l,d,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};p.relativePath.startsWith("/")&&(Ho(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let g=Ph([o,p.relativePath]),b=n.concat(p);l.children&&l.children.length>0&&(Ho(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),UP(l.children,r,b,g)),!(l.path==null&&!l.index)&&r.push({path:g,score:FG(g,l.index),routesMeta:b})};return t.forEach((l,d)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))s(l,d);else for(let p of qP(l.path))s(l,d,p)}),r}function qP(t){let r=t.split("/");if(r.length===0)return[];let[n,...o]=r,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(o.length===0)return s?[l,""]:[l];let d=qP(o.join("/")),h=[];return h.push(...d.map(p=>p===""?l:[l,p].join("/"))),s&&h.push(...d),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function MG(t){t.sort((r,n)=>r.score!==n.score?n.score-r.score:zG(r.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const PG=/^:[\w-]+$/,OG=3,jG=2,LG=1,BG=10,RG=-2,CI=t=>t==="*";function FG(t,r){let n=t.split("/"),o=n.length;return n.some(CI)&&(o+=RG),r&&(o+=jG),n.filter(s=>!CI(s)).reduce((s,l)=>s+(PG.test(l)?OG:l===""?LG:BG),o)}function zG(t,r){return t.length===r.length&&t.slice(0,-1).every((o,s)=>o===r[s])?t[t.length-1]-r[r.length-1]:0}function UG(t,r,n){let{routesMeta:o}=t,s={},l="/",d=[];for(let h=0;h<o.length;++h){let p=o[h],g=h===o.length-1,b=l==="/"?r:r.slice(l.length)||"/",v=qG({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),y=p.route;if(!v)return null;Object.assign(s,v.params),d.push({params:s,pathname:Ph([l,v.pathname]),pathnameBase:YG(Ph([l,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(l=Ph([l,v.pathnameBase]))}return d}function qG(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,o]=VG(t.path,t.caseSensitive,t.end),s=r.match(n);if(!s)return null;let l=s[0],d=l.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:o.reduce((g,b,v)=>{let{paramName:y,isOptional:k}=b;if(y==="*"){let C=h[v]||"";d=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const x=h[v];return k&&!x?g[y]=void 0:g[y]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:d,pattern:t}}function VG(t,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),FP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let o=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,p)=>(o.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(o.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,r?void 0:"i"),o]}function $G(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return FP(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function VP(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,o=t.charAt(n);return o&&o!=="/"?null:t.slice(n)||"/"}function HG(t,r){r===void 0&&(r="/");let{pathname:n,search:o="",hash:s=""}=typeof t=="string"?Xg(t):t;return{pathname:n?n.startsWith("/")?n:WG(n,r):r,search:KG(o),hash:QG(s)}}function WG(t,r){let n=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Av(t,r,n,o){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GG(t){return t.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function $P(t,r){let n=GG(t);return r?n.map((o,s)=>s===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function HP(t,r,n,o){o===void 0&&(o=!1);let s;typeof t=="string"?s=Xg(t):(s=jg({},t),Ho(!s.pathname||!s.pathname.includes("?"),Av("?","pathname","search",s)),Ho(!s.pathname||!s.pathname.includes("#"),Av("#","pathname","hash",s)),Ho(!s.search||!s.search.includes("#"),Av("#","search","hash",s)));let l=t===""||s.pathname==="",d=l?"/":s.pathname,h;if(d==null)h=n;else{let v=r.length-1;if(!o&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),v-=1;s.pathname=y.join("/")}h=v>=0?r[v]:"/"}let p=HG(s,h),g=d&&d!=="/"&&d.endsWith("/"),b=(l||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}const Ph=t=>t.join("/").replace(/\/\/+/g,"/"),YG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KG=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const WP=["post","put","patch","delete"];new Set(WP);const ZG=["get",...WP];new Set(ZG);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hk(){return Hk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Hk.apply(this,arguments)}const J_=Y.createContext(null),XG=Y.createContext(null),eb=Y.createContext(null),Z_=Y.createContext(null),Sd=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),GP=Y.createContext(null);function tb(){return Y.useContext(Z_)!=null}function S1(){return tb()||Ho(!1),Y.useContext(Z_).location}function YP(t){Y.useContext(eb).static||Y.useLayoutEffect(t)}function Wr(){let{isDataRoute:t}=Y.useContext(Sd);return t?hY():eY()}function eY(){tb()||Ho(!1);let t=Y.useContext(J_),{basename:r,future:n,navigator:o}=Y.useContext(eb),{matches:s}=Y.useContext(Sd),{pathname:l}=S1(),d=JSON.stringify($P(s,n.v7_relativeSplatPath)),h=Y.useRef(!1);return YP(()=>{h.current=!0}),Y.useCallback(function(g,b){if(b===void 0&&(b={}),!h.current)return;if(typeof g=="number"){o.go(g);return}let v=HP(g,JSON.parse(d),l,b.relative==="path");t==null&&r!=="/"&&(v.pathname=v.pathname==="/"?r:Ph([r,v.pathname])),(b.replace?o.replace:o.push)(v,b.state,b)},[r,o,d,l,t])}function X_(){let{matches:t}=Y.useContext(Sd),r=t[t.length-1];return r?r.params:{}}function tY(t,r){return nY(t)}function nY(t,r,n,o){tb()||Ho(!1);let{navigator:s}=Y.useContext(eb),{matches:l}=Y.useContext(Sd),d=l[l.length-1],h=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let g=S1(),b;b=g;let v=b.pathname||"/",y=v;if(p!=="/"){let C=p.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let k=TG(t,{pathname:y});return aY(k&&k.map(C=>Object.assign({},C,{params:Object.assign({},h,C.params),pathname:Ph([p,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:Ph([p,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,n,o)}function rY(){let t=dY(),r=JG(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},r),n?Y.createElement("pre",{style:s},n):null,null)}const iY=Y.createElement(rY,null);class oY extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?Y.createElement(Sd.Provider,{value:this.props.routeContext},Y.createElement(GP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sY(t){let{routeContext:r,match:n,children:o}=t,s=Y.useContext(J_);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(Sd.Provider,{value:r},o)}function aY(t,r,n,o){var s;if(r===void 0&&(r=[]),n===void 0&&(n=null),o===void 0&&(o=null),t==null){var l;if(!n)return null;if(n.errors)t=n.matches;else if((l=o)!=null&&l.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let d=t,h=(s=n)==null?void 0:s.errors;if(h!=null){let b=d.findIndex(v=>v.route.id&&(h==null?void 0:h[v.route.id])!==void 0);b>=0||Ho(!1),d=d.slice(0,Math.min(d.length,b+1))}let p=!1,g=-1;if(n&&o&&o.v7_partialHydration)for(let b=0;b<d.length;b++){let v=d[b];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=b),v.route.id){let{loaderData:y,errors:k}=n,x=v.route.loader&&y[v.route.id]===void 0&&(!k||k[v.route.id]===void 0);if(v.route.lazy||x){p=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((b,v,y)=>{let k,x=!1,C=null,D=null;n&&(k=h&&v.route.id?h[v.route.id]:void 0,C=v.route.errorElement||iY,p&&(g<0&&y===0?(fY("route-fallback"),x=!0,D=null):g===y&&(x=!0,D=v.route.hydrateFallbackElement||null)));let S=r.concat(d.slice(0,y+1)),M=()=>{let P;return k?P=C:x?P=D:v.route.Component?P=Y.createElement(v.route.Component,null):v.route.element?P=v.route.element:P=b,Y.createElement(sY,{match:v,routeContext:{outlet:b,matches:S,isDataRoute:n!=null},children:P})};return n&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?Y.createElement(oY,{location:n.location,revalidation:n.revalidation,component:C,error:k,children:M(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):M()},null)}var KP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(KP||{}),QP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(QP||{});function lY(t){let r=Y.useContext(J_);return r||Ho(!1),r}function cY(t){let r=Y.useContext(XG);return r||Ho(!1),r}function uY(t){let r=Y.useContext(Sd);return r||Ho(!1),r}function JP(t){let r=uY(),n=r.matches[r.matches.length-1];return n.route.id||Ho(!1),n.route.id}function dY(){var t;let r=Y.useContext(GP),n=cY(),o=JP();return r!==void 0?r:(t=n.errors)==null?void 0:t[o]}function hY(){let{router:t}=lY(KP.UseNavigateStable),r=JP(QP.UseNavigateStable),n=Y.useRef(!1);return YP(()=>{n.current=!0}),Y.useCallback(function(s,l){l===void 0&&(l={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Hk({fromRouteId:r},l)))},[t,r])}const xI={};function fY(t,r,n){xI[t]||(xI[t]=!0)}function pY(t,r){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ZP(t){let{to:r,replace:n,state:o,relative:s}=t;tb()||Ho(!1);let{future:l,static:d}=Y.useContext(eb),{matches:h}=Y.useContext(Sd),{pathname:p}=S1(),g=Wr(),b=HP(r,$P(h,l.v7_relativeSplatPath),p,s==="path"),v=JSON.stringify(b);return Y.useEffect(()=>g(JSON.parse(v),{replace:n,state:o,relative:s}),[g,v,s,n,o]),null}function mY(t){let{basename:r="/",children:n=null,location:o,navigationType:s=Sh.Pop,navigator:l,static:d=!1,future:h}=t;tb()&&Ho(!1);let p=r.replace(/^\/*/,"/"),g=Y.useMemo(()=>({basename:p,navigator:l,static:d,future:Hk({v7_relativeSplatPath:!1},h)}),[p,h,l,d]);typeof o=="string"&&(o=Xg(o));let{pathname:b="/",search:v="",hash:y="",state:k=null,key:x="default"}=o,C=Y.useMemo(()=>{let D=VP(b,p);return D==null?null:{location:{pathname:D,search:v,hash:y,state:k,key:x},navigationType:s}},[p,b,v,y,k,x,s]);return C==null?null:Y.createElement(eb.Provider,{value:g},Y.createElement(Z_.Provider,{children:n,value:C}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function BA(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,n)=>{let o=t[n];return r.concat(Array.isArray(o)?o.map(s=>[n,s]):[[n,o]])},[]))}function gY(t,r){let n=BA(t);return r&&r.forEach((o,s)=>{n.has(s)||r.getAll(s).forEach(l=>{n.append(s,l)})}),n}const bY="6";try{window.__reactRouterVersion=bY}catch{}const kY="startTransition",SI=C1[kY];function wY(t){let{basename:r,children:n,future:o,window:s}=t,l=Y.useRef();l.current==null&&(l.current=EG({window:s,v5Compat:!0}));let d=l.current,[h,p]=Y.useState({action:d.action,location:d.location}),{v7_startTransition:g}=o||{},b=Y.useCallback(v=>{g&&SI?SI(()=>p(v)):p(v)},[p,g]);return Y.useLayoutEffect(()=>d.listen(b),[d,b]),Y.useEffect(()=>pY(o),[o]),Y.createElement(mY,{basename:r,children:n,location:h.location,navigationType:h.action,navigator:d,future:o})}var EI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(EI||(EI={}));var DI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(DI||(DI={}));function E1(t){let r=Y.useRef(BA(t)),n=Y.useRef(!1),o=S1(),s=Y.useMemo(()=>gY(o.search,n.current?null:r.current),[o.search]),l=Wr(),d=Y.useCallback((h,p)=>{const g=BA(typeof h=="function"?h(s):h);n.current=!0,l("?"+g,p)},[l,s]);return[s,d]}const yY="modulepreload",vY=function(t){return"/nexlab/"+t},II={},Ki=function(r,n,o){let s=Promise.resolve();if(n&&n.length>0){let d=function(g){return Promise.all(g.map(b=>Promise.resolve(b).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));s=d(n.map(g=>{if(g=vY(g),g in II)return;II[g]=!0;const b=g.endsWith(".css"),v=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const y=document.createElement("link");if(y.rel=b?"stylesheet":yY,b||(y.as="script"),y.crossOrigin="",y.href=g,p&&y.setAttribute("nonce",p),document.head.appendChild(y),b)return new Promise((k,x)=>{y.addEventListener("load",k),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return s.then(d=>{for(const h of d||[])h.status==="rejected"&&l(h.reason);return r().catch(l)})};var Ys=(t=>(t.NETWORK="NETWORK",t.AUTHENTICATION="AUTHENTICATION",t.AUTHORIZATION="AUTHORIZATION",t.VALIDATION="VALIDATION",t.NOT_FOUND="NOT_FOUND",t.SERVER_ERROR="SERVER_ERROR",t.UNKNOWN="UNKNOWN",t))(Ys||{});const TI={"auth/user-not-found":{type:"AUTHENTICATION",message:"No user found with this email address."},"auth/wrong-password":{type:"AUTHENTICATION",message:"Incorrect password. Please try again."},"auth/user-disabled":{type:"AUTHORIZATION",message:"This account has been disabled. Please contact support."},"auth/too-many-requests":{type:"NETWORK",message:"Too many failed attempts. Please try again later."},"auth/network-request-failed":{type:"NETWORK",message:"Network error. Please check your connection and try again."},"permission-denied":{type:"AUTHORIZATION",message:"You do not have permission for this action."},"not-found":{type:"NOT_FOUND",message:"The requested resource was not found."},unavailable:{type:"NETWORK",message:"Service is temporarily unavailable. Please try again."}},xh=class xh{constructor(){bt(this,"errorQueue",[]);bt(this,"maxErrorQueueSize",50)}static getInstance(){return xh.instance||(xh.instance=new xh),xh.instance}handleError(r,n){const o=this.createAppError(r,n);return this.logError(o),this.queueError(o),o}createAppError(r,n){let o="UNKNOWN",s="An unexpected error occurred.";if(r!=null&&r.code&&TI[r.code]){const l=TI[r.code];o=l.type,s=l.message}else r!=null&&r.message&&(s=r.message,r.message.includes("network")||r.message.includes("fetch")?o="NETWORK":r.message.includes("unauthorized")||r.message.includes("permission")?o="AUTHORIZATION":r.message.includes("not found")?o="NOT_FOUND":r.message.includes("validation")&&(o="VALIDATION"));return{type:o,message:s,originalError:r instanceof Error?r:new Error(String(r)),context:{...n,userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString()},timestamp:new Date,userId:n==null?void 0:n.userId}}logError(r){const n=`[${r.type}] ${r.message}`,o={error:r.originalError,context:r.context,timestamp:r.timestamp};switch(r.type){case"NETWORK":case"NOT_FOUND":console.warn(n,o);break;case"AUTHENTICATION":case"AUTHORIZATION":case"VALIDATION":console.error(n,o);break;case"SERVER_ERROR":case"UNKNOWN":console.error(n,o);break}}queueError(r){this.errorQueue.push(r),this.errorQueue.length>this.maxErrorQueueSize&&this.errorQueue.shift()}getErrorQueue(){return[...this.errorQueue]}clearErrorQueue(){this.errorQueue=[]}getUserFriendlyMessage(r){return r.message}shouldRetry(r){return r.type==="NETWORK"}};bt(xh,"instance");let Lg=xh;const NI=async(t,r)=>{try{return{data:await t()}}catch(n){return{error:Lg.getInstance().handleError(n,r)}}},AY=()=>{const t=Lg.getInstance();return{handleError:(s,l)=>t.handleError(s,l),getUserFriendlyMessage:s=>t.getUserFriendlyMessage(s),shouldRetry:s=>t.shouldRetry(s)}};Lg.getInstance();class _Y{constructor(){bt(this,"auth",null);bt(this,"googleProvider",null)}initialize(){this.auth||(Ki(()=>Promise.resolve().then(()=>mp),void 0),this.auth=hG(),this.googleProvider=new fG)}async signInWithGoogle(r=!0){this.initialize();const n=await NI(async()=>{const o=r?mG:gG;await bG(this.auth,o);const s=await kG(this.auth,this.googleProvider);if(!s.user)throw new Error("No user returned from authentication");return s.user},{operation:"google_sign_in",keepSignedIn:r});if(n.error)throw n.error;return n.data}async signOut(){this.initialize();const r=await NI(async()=>{await wG(this.auth)},{operation:"sign_out"});if(r.error)throw r.error}onAuthStateChanged(r){return this.initialize(),pG(this.auth,r)}getCurrentUser(){return this.initialize(),this.auth.currentUser}getErrorMessage(r){return{"auth/network-request-failed":"Login Failed: Network error, please check your connection.","auth/popup-closed-by-user":"Login Failed: The sign-in popup was closed before completion.","auth/cancelled-popup-request":"Login Failed: Another sign-in request was made before the first one was completed.","auth/popup-blocked":"Login Failed: The sign-in popup was blocked by the browser. Please allow popups for this site.","auth/user-disabled":"Login Failed: This account has been disabled.","auth/user-not-found":"Login Failed: No account found with this email.","auth/wrong-password":"Login Failed: Incorrect password.","auth/too-many-requests":"Login Failed: Too many failed attempts. Please try again later."}[r]||"Login Failed: An unexpected error occurred."}}const XP=new _Y;class CY{constructor(){bt(this,"db",null);bt(this,"publicCourseId");if(this.publicCourseId="rqoyheM9Lf8jGftIoZyT",!this.publicCourseId)throw new Error("Public course ID is not defined in environment variables.")}initialize(){this.db||(Ki(()=>Promise.resolve().then(()=>mp),void 0),this.db=Kn())}async getUserDetails(r){this.initialize();try{const n=mn(this.db,"users",r),o=await Wo(n);return o.exists()?{...o.data(),uid:r}:null}catch(n){throw console.error("Error fetching user details:",n),new Error("Failed to fetch user details")}}async createUserDocument(r){this.initialize();try{const n=await this.getPublicCourseInfo(),o=mn(this.db,"users",r.uid),s={isAdmin:!1,isSuperAdmin:!1,lastLogin:ac(),classes:{[this.publicCourseId]:n}};return await LP(o,s),{uid:r.uid,isAdmin:!1,isSuperAdmin:!1,lastLogin:ac(),classes:{[this.publicCourseId]:n}}}catch(n){throw console.error("Error creating user document:",n),new Error("Failed to create user document")}}async updateUserLogin(r){this.initialize();try{const n=mn(this.db,"users",r);await _r(n,{lastLogin:ac()})}catch(n){throw console.error("Error updating user login:",n),new Error("Failed to update user login")}}async refreshUserDetails(r){return this.getUserDetails(r)}subscribeToUserDetails(r,n){this.initialize();const o=mn(this.db,"users",r);return BP(o,s=>{if(s.exists()){const l=s.data();n({...l,uid:r})}else n(null)},s=>{console.error("Error in user details subscription:",s),n(null)})}async ensurePublicCourseAccess(r,n){this.initialize();try{if(n.classes&&n.classes[this.publicCourseId])return n;const o=await this.getPublicCourseInfo(),s=mn(this.db,"users",r);return await _r(s,{[`classes.${this.publicCourseId}`]:o}),{...n,classes:{...n.classes||{},[this.publicCourseId]:o}}}catch(o){throw console.error("Error ensuring public course access:",o),new Error("Failed to ensure public course access")}}async getPublicCourseInfo(){this.initialize();try{const r=mn(this.db,"courses",this.publicCourseId),n=await Wo(r);if(!n.exists())throw new Error("Public course document does not exist in the courses collection!");const o=n.data();if(!o||!o.number||!o.title)throw new Error("Public course data is incomplete or invalid.");return{number:o.number,title:o.title,isCourseAdmin:!1}}catch(r){throw console.error("Error fetching public course info:",r),new Error("Failed to fetch public course information")}}}const Hf=new CY,xY={apiKey:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",authDomain:"nexlab-prod.firebaseapp.com",projectId:"nexlab-prod",storageBucket:"nexlab-prod.firebasestorage.app",messagingSenderId:"922352392986",appId:"1:922352392986:web:6c4d6e16b5e615bd4daaa3"},eC=yG(xY),eO=Kn(eC),SY=xd(eC),mp=Object.freeze(Object.defineProperty({__proto__:null,app:eC,db:eO,storage:SY},Symbol.toStringTag,{value:"Module"})),tO=Y.createContext(void 0),EY=({children:t})=>{const[r,n]=Y.useState(null),[o,s]=Y.useState(null),[l,d]=Y.useState(!1),[h,p]=Y.useState(!0),[g,b]=Y.useState(null),v=Y.useRef(null);Y.useEffect(()=>{const k=XP.onAuthStateChanged(async x=>{p(!0),b(null),v.current&&(v.current(),v.current=null);try{if(x){console.log("User is signed in with UID:",x.uid);let C=await Hf.getUserDetails(x.uid);C?(await Hf.updateUserLogin(x.uid),C=await Hf.ensurePublicCourseAccess(x.uid,C)):(console.log("User document does not exist. Creating a new one..."),C=await Hf.createUserDocument(x)),s(C),d(C.isSuperAdmin||!1);const D=Hf.subscribeToUserDetails(x.uid,S=>{console.log("[UserContext] User details updated in real-time:",{uid:S==null?void 0:S.uid,classesCount:S!=null&&S.classes?Object.keys(S.classes).length:0,classes:S!=null&&S.classes?Object.keys(S.classes):[],timestamp:new Date().toISOString()}),S&&(s(S),d(S.isSuperAdmin||!1))});v.current=D}else s(null),d(!1);n(x)}catch(C){console.error("Error managing user authentication:",C),b(C instanceof Error?C:new Error("Failed to manage user authentication")),n(null),s(null),d(!1)}finally{p(!1)}});return()=>{k(),v.current&&(v.current(),v.current=null)}},[]);const y=async()=>{if(!r){console.warn("No user signed in, cannot refresh user details");return}try{const k=await Hf.refreshUserDetails(r.uid);k?(s(k),d(k.isSuperAdmin||!1)):(console.error("User document does not exist. Unable to refresh user details."),b(new Error("User document not found")))}catch(k){console.error("Error refreshing user details:",k),b(k instanceof Error?k:new Error("Failed to refresh user details"))}};return A.jsx(tO.Provider,{value:{user:r,userDetails:o,setUserDetails:s,refreshUserDetails:y,loading:h,error:g,isSuperAdmin:l},children:t})},Pi=()=>{const t=Y.useContext(tO);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t},vs=({element:t})=>{const{userDetails:r,loading:n}=Pi();return n?A.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:A.jsx(Rr,{})}):r?A.jsx(t,{}):A.jsx(ZP,{to:"/"})};let nO=class extends Y.Component{constructor(n){super(n);bt(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,o){console.error("ErrorBoundary caught an error:",n,o),this.setState({error:n,errorInfo:o}),this.props.onError&&this.props.onError(n,o)}render(){var n;return this.state.hasError?this.props.fallbackComponent?this.props.fallbackComponent:A.jsxs(Bn,{elevation:3,sx:{p:4,m:2,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0"},children:[A.jsx(vP,{color:"error",sx:{fontSize:48,mb:2}}),A.jsx(je,{variant:"h5",gutterBottom:!0,color:"error",children:"Something went wrong"}),A.jsx(je,{variant:"body1",sx:{mb:3,color:"text.secondary"},children:"We encountered an unexpected error. Please try refreshing the page or contact support if the problem persists."}),A.jsxs(Pe,{sx:{mb:3},children:[A.jsx(kt,{variant:"contained",color:"primary",startIcon:A.jsx(AP,{}),onClick:this.handleRetry,sx:{mr:2},children:"Try Again"}),A.jsx(kt,{variant:"outlined",color:"primary",onClick:()=>window.location.reload(),children:"Refresh Page"})]}),this.props.showDetails&&this.state.error&&A.jsxs(br,{severity:"error",sx:{textAlign:"left",mt:2},children:[A.jsx(je,{variant:"subtitle2",gutterBottom:!0,children:"Error Details:"}),A.jsxs(je,{variant:"body2",component:"pre",sx:{whiteSpace:"pre-wrap",fontSize:"0.75rem",fontFamily:"monospace"},children:[this.state.error.message,((n=this.state.errorInfo)==null?void 0:n.componentStack)&&A.jsxs(A.Fragment,{children:[`

Component Stack:`,this.state.errorInfo.componentStack]})]})]})]}):this.props.children}};const DY=()=>{const t=Wr();return A.jsxs(Bn,{elevation:3,sx:{p:4,m:4,textAlign:"center",backgroundColor:"#fafafa",border:"1px solid #e0e0e0",maxWidth:600,mx:"auto",mt:8},children:[A.jsx(vP,{color:"error",sx:{fontSize:64,mb:2}}),A.jsx(je,{variant:"h4",gutterBottom:!0,color:"error",children:"Page Error"}),A.jsx(je,{variant:"body1",sx:{mb:4,color:"text.secondary"},children:"This page encountered an error and cannot be displayed. You can try going back to the previous page or return to the home page."}),A.jsxs(Pe,{sx:{display:"flex",gap:2,justifyContent:"center",flexWrap:"wrap"},children:[A.jsx(kt,{variant:"contained",color:"primary",startIcon:A.jsx(CW,{}),onClick:()=>t("/"),children:"Go to Home"}),A.jsx(kt,{variant:"outlined",color:"primary",startIcon:A.jsx(_P,{}),onClick:()=>t(-1),children:"Go Back"}),A.jsx(kt,{variant:"outlined",color:"secondary",onClick:()=>window.location.reload(),children:"Refresh Page"})]})]})},rO=({children:t,showDetails:r})=>A.jsx(nO,{fallbackComponent:A.jsx(DY,{}),showDetails:r,onError:(n,o)=>{console.error("Route Error:",{error:n.message,stack:n.stack,componentStack:o.componentStack,url:window.location.href,timestamp:new Date().toISOString()})},children:t});class IY{constructor(){bt(this,"db",null);bt(this,"cacheKey","messages")}initialize(){this.db||(Ki(()=>Promise.resolve().then(()=>mp),void 0),this.db=Kn())}subscribeToMessages(r){this.initialize();const n=Rp(Zn(this.db,"messages"),vG("postedOn","desc"));return BP(n,o=>{const s=o.docs.map(l=>({id:l.id,...l.data()}));r(s),this.setCachedMessages(s)},o=>{console.error("Error listening to messages:",o);const s=this.getCachedMessages();s&&r(s)})}getCachedMessages(){try{const r=sessionStorage.getItem(this.cacheKey);return r?JSON.parse(r):null}catch(r){return console.error("Error reading cached messages:",r),null}}setCachedMessages(r){try{sessionStorage.setItem(this.cacheKey,JSON.stringify(r))}catch(n){console.error("Error caching messages:",n)}}clearCache(){try{sessionStorage.removeItem(this.cacheKey)}catch(r){console.error("Error clearing message cache:",r)}}async togglePinMessage(r,n){this.initialize();try{const o=mn(this.db,"messages",r);await _r(o,{isPinned:!n})}catch(o){throw console.error("Error toggling pin status:",o),o}}async deleteMessage(r){try{const n=mn(this.db,"messages",r);await Jg(n)}catch(n){throw console.error("Error deleting message:",n),n}}}const $0=new IY,MI=t=>{let r;const n=new Set,o=(g,b)=>{const v=typeof g=="function"?g(r):g;if(!Object.is(v,r)){const y=r;r=b??(typeof v!="object"||v===null)?v:Object.assign({},r,v),n.forEach(k=>k(r,y))}},s=()=>r,h={setState:o,getState:s,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=r=t(o,s,h);return h},TY=t=>t?MI(t):MI,NY=t=>t;function MY(t,r=NY){const n=at.useSyncExternalStore(t.subscribe,()=>r(t.getState()),()=>r(t.getInitialState()));return at.useDebugValue(n),n}const PI=t=>{const r=TY(t),n=o=>MY(r,o);return Object.assign(n,r),n},nb=t=>t?PI(t):PI,PY=()=>Math.random().toString(36).substr(2,9),OY=t=>{switch(t){case Ys.NETWORK:return"ðŸŒ";case Ys.AUTHENTICATION:return"ðŸ”’";case Ys.AUTHORIZATION:return"â›”";case Ys.VALIDATION:return"âš ï¸";case Ys.NOT_FOUND:return"ðŸ”";case Ys.SERVER_ERROR:return"ðŸš¨";default:return"âŒ"}},jY=t=>{switch(t){case Ys.NETWORK:return 8e3;case Ys.AUTHENTICATION:case Ys.AUTHORIZATION:return 1e4;case Ys.VALIDATION:return 6e3;case Ys.NOT_FOUND:return 5e3;default:return 7e3}},iO=nb((t,r)=>({notifications:[],addNotification:n=>{const o={...n,id:PY(),timestamp:new Date,duration:n.duration??5e3};t(s=>({notifications:[...s.notifications,o]})),o.duration>0&&setTimeout(()=>{r().removeNotification(o.id)},o.duration)},removeNotification:n=>{t(o=>({notifications:o.notifications.filter(s=>s.id!==n)}))},clearAll:()=>{t({notifications:[]})},showError:(n,o)=>{const s=OY(n.type),l=jY(n.type),d=[];n.type===Ys.NETWORK&&d.push({label:"Retry",action:()=>{console.log("Retry requested for:",n)},primary:!0}),r().addNotification({type:"error",title:`${s} ${n.type.replace("_"," ")} Error`,message:n.message,duration:l,actions:o||d,error:n})},showSuccess:(n,o)=>{r().addNotification({type:"success",title:o||"âœ… Success",message:n,duration:4e3})},showWarning:(n,o)=>{r().addNotification({type:"warning",title:o||"âš ï¸ Warning",message:n,duration:6e3})},showInfo:(n,o)=>{r().addNotification({type:"info",title:o||"â„¹ï¸ Info",message:n,duration:5e3})}})),LY=()=>{const[t,r]=Y.useState([]),[n,o]=Y.useState(!0),[s,l]=Y.useState(null),{handleError:d}=AY(),{showError:h,showSuccess:p}=iO();return Y.useEffect(()=>{const y=$0.getCachedMessages();y&&(r(y),o(!1));const k=$0.subscribeToMessages(x=>{r(x),l(null),y||o(!1)});return()=>{k()}},[]),{messages:t,loading:n,error:s,deleteMessage:async y=>{try{await $0.deleteMessage(y),p("Message deleted successfully")}catch(k){const x=d(k,{operation:"delete_message",messageId:y});l(x.message),h(x)}},togglePinMessage:async(y,k)=>{try{await $0.togglePinMessage(y,k),p(`Message ${k?"unpinned":"pinned"} successfully`)}catch(x){const C=d(x,{operation:"toggle_pin_message",messageId:y,currentPinStatus:k});l(C.message),h(C)}},clearError:()=>{l(null)}}},ml=({title:t,onClick:r,disabled:n=!1,disabledTooltip:o,lockIcon:s=!1,className:l="menu-item"})=>{const d=A.jsx(zk,{className:l,children:A.jsx(xW,{onClick:r,disabled:n,children:A.jsx(CP,{children:A.jsxs(je,{className:"menu-item-typography",variant:"h6",component:"div",sx:n?{color:"#9e9e9e",opacity:.5}:{},children:[t,s&&A.jsx("span",{style:{marginLeft:8},children:"ðŸ”’"})]})})})});return n&&o?A.jsx(ls,{title:o,children:A.jsx("span",{children:d})}):d},BY=({userDetails:t})=>{const r=Wr(),n=t&&!t.isAdmin&&(!t.classes||Object.keys(t.classes).length===0);return A.jsxs(A.Fragment,{children:[A.jsx(Pt,{item:!0,xs:12,children:A.jsx(ml,{title:"My Account",onClick:()=>r("/my-profile")})}),A.jsx(Pt,{item:!0,xs:12,children:A.jsx(ml,{title:"Laboratory Notebook",onClick:()=>r("/laboratory-notebooks"),disabled:n,disabledTooltip:"The Laboratory Notebook is accessible to users enrolled in an academic course. Please enroll in a course via 'My Account' by following the instructions provided by your academic instructor.",lockIcon:n})}),A.jsx(Pt,{item:!0,xs:12,children:A.jsx(ml,{title:"Course Materials",onClick:()=>r("/supplemental-materials")})})]})},OI={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"256599ed-a0a2-496f-990d-c51faaefd71a",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},Bg=new Map,H0=t=>{const r=Bg.get(t);return r?Object.fromEntries(Object.entries(r.stores).map(([n,o])=>[n,o.getState()])):{}},RY=(t,r,n)=>{if(t===void 0)return{type:"untracked",connection:r.connect(n)};const o=Bg.get(n.name);if(o)return{type:"tracked",store:t,...o};const s={connection:r.connect(n),stores:{}};return Bg.set(n.name,s),{type:"tracked",store:t,...s}},FY=(t,r)=>{if(r===void 0)return;const n=Bg.get(t);n&&(delete n.stores[r],Object.keys(n.stores).length===0&&Bg.delete(t))},zY=t=>{var r,n;if(!t)return;const o=t.split(`
`),s=o.findIndex(d=>d.includes("api.setState"));if(s<0)return;const l=((r=o[s+1])==null?void 0:r.trim())||"";return(n=/.+ (.+) .+/.exec(l))==null?void 0:n[1]},UY=(t,r={})=>(n,o,s)=>{const{enabled:l,anonymousActionType:d,store:h,...p}=r;let g;try{g=(l??(OI?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!g)return t(n,o,s);const{connection:b,...v}=RY(h,g,p);let y=!0;s.setState=(C,D,S)=>{const M=n(C,D);if(!y)return M;const P=S===void 0?{type:d||zY(new Error().stack)||"anonymous"}:typeof S=="string"?{type:S}:S;return h===void 0?(b==null||b.send(P,o()),M):(b==null||b.send({...P,type:`${h}/${P.type}`},{...H0(p.name),[h]:s.getState()}),M)},s.devtools={cleanup:()=>{b&&typeof b.unsubscribe=="function"&&b.unsubscribe(),FY(p.name,h)}};const k=(...C)=>{const D=y;y=!1,n(...C),y=D},x=t(s.setState,o,s);if(v.type==="untracked"?b==null||b.init(x):(v.stores[v.store]=s,b==null||b.init(Object.fromEntries(Object.entries(v.stores).map(([C,D])=>[C,C===v.store?x:D.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let C=!1;const D=s.dispatch;s.dispatch=(...S)=>{(OI?"production":void 0)!=="production"&&S[0].type==="__setState"&&!C&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),C=!0),D(...S)}}return b.subscribe(C=>{var D;switch(C.type){case"ACTION":if(typeof C.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return _v(C.payload,S=>{if(S.type==="__setState"){if(h===void 0){k(S.state);return}Object.keys(S.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const M=S.state[h];if(M==null)return;JSON.stringify(s.getState())!==JSON.stringify(M)&&k(M);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(S)});case"DISPATCH":switch(C.payload.type){case"RESET":return k(x),h===void 0?b==null?void 0:b.init(s.getState()):b==null?void 0:b.init(H0(p.name));case"COMMIT":if(h===void 0){b==null||b.init(s.getState());return}return b==null?void 0:b.init(H0(p.name));case"ROLLBACK":return _v(C.state,S=>{if(h===void 0){k(S),b==null||b.init(s.getState());return}k(S[h]),b==null||b.init(H0(p.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return _v(C.state,S=>{if(h===void 0){k(S);return}JSON.stringify(s.getState())!==JSON.stringify(S[h])&&k(S[h])});case"IMPORT_STATE":{const{nextLiftedState:S}=C.payload,M=(D=S.computedStates.slice(-1)[0])==null?void 0:D.state;if(!M)return;k(h===void 0?M:M[h]),b==null||b.send(null,S);return}case"PAUSE_RECORDING":return y=!y}return}}),x},D1=UY,_v=(t,r)=>{let n;try{n=JSON.parse(t)}catch(o){console.error("[zustand devtools middleware] Could not parse the received json",o)}n!==void 0&&r(n)};function qY(t,r){let n;try{n=t()}catch{return}return{getItem:s=>{var l;const d=p=>p===null?null:JSON.parse(p,void 0),h=(l=n.getItem(s))!=null?l:null;return h instanceof Promise?h.then(d):d(h)},setItem:(s,l)=>n.setItem(s,JSON.stringify(l,void 0)),removeItem:s=>n.removeItem(s)}}const RA=t=>r=>{try{const n=t(r);return n instanceof Promise?n:{then(o){return RA(o)(n)},catch(o){return this}}}catch(n){return{then(o){return this},catch(o){return RA(o)(n)}}}},VY=(t,r)=>(n,o,s)=>{let l={storage:qY(()=>localStorage),partialize:C=>C,version:0,merge:(C,D)=>({...D,...C}),...r},d=!1;const h=new Set,p=new Set;let g=l.storage;if(!g)return t((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...C)},o,s);const b=()=>{const C=l.partialize({...o()});return g.setItem(l.name,{state:C,version:l.version})},v=s.setState;s.setState=(C,D)=>{v(C,D),b()};const y=t((...C)=>{n(...C),b()},o,s);s.getInitialState=()=>y;let k;const x=()=>{var C,D;if(!g)return;d=!1,h.forEach(M=>{var P;return M((P=o())!=null?P:y)});const S=((D=l.onRehydrateStorage)==null?void 0:D.call(l,(C=o())!=null?C:y))||void 0;return RA(g.getItem.bind(g))(l.name).then(M=>{if(M)if(typeof M.version=="number"&&M.version!==l.version){if(l.migrate){const P=l.migrate(M.state,M.version);return P instanceof Promise?P.then(B=>[!0,B]):[!0,P]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,M.state];return[!1,void 0]}).then(M=>{var P;const[B,$]=M;if(k=l.merge($,(P=o())!=null?P:y),n(k,!0),B)return b()}).then(()=>{S==null||S(k,void 0),k=o(),d=!0,p.forEach(M=>M(k))}).catch(M=>{S==null||S(void 0,M)})};return s.persist={setOptions:C=>{l={...l,...C},C.storage&&(g=C.storage)},clearStorage:()=>{g==null||g.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>x(),hasHydrated:()=>d,onHydrate:C=>(h.add(C),()=>{h.delete(C)}),onFinishHydration:C=>(p.add(C),()=>{p.delete(C)})},l.skipHydration||x(),k||y},oO=VY,sO=nb()(D1(oO((t,r)=>({globalLoading:!1,pageLoading:{},openDialogs:{},currentPage:"/",previousPage:null,navigationSections:{educatorExpanded:!1,superAdminExpanded:!1},sidebarCollapsed:!1,theme:"light",setGlobalLoading:n=>t({globalLoading:n}),setPageLoading:(n,o)=>t(s=>({pageLoading:{...s.pageLoading,[n]:o}})),openDialog:n=>t(o=>({openDialogs:{...o.openDialogs,[n]:!0}})),closeDialog:n=>t(o=>({openDialogs:{...o.openDialogs,[n]:!1}})),toggleDialog:n=>t(o=>({openDialogs:{...o.openDialogs,[n]:!o.openDialogs[n]}})),isDialogOpen:n=>!!r().openDialogs[n],setCurrentPage:n=>t(o=>({currentPage:n,previousPage:o.currentPage})),toggleEducatorSection:()=>t(n=>({navigationSections:{...n.navigationSections,educatorExpanded:!n.navigationSections.educatorExpanded}})),toggleSuperAdminSection:()=>t(n=>({navigationSections:{...n.navigationSections,superAdminExpanded:!n.navigationSections.superAdminExpanded}})),setEducatorSectionExpanded:n=>t(o=>({navigationSections:{...o.navigationSections,educatorExpanded:n}})),setSuperAdminSectionExpanded:n=>t(o=>({navigationSections:{...o.navigationSections,superAdminExpanded:n}})),setSidebarCollapsed:n=>t({sidebarCollapsed:n}),toggleSidebar:()=>t(n=>({sidebarCollapsed:!n.sidebarCollapsed})),setTheme:n=>t({theme:n}),toggleTheme:()=>t(n=>({theme:n.theme==="light"?"dark":"light"}))}),{name:"ui-preferences",partialize:t=>({sidebarCollapsed:t.sidebarCollapsed,theme:t.theme,navigationSections:t.navigationSections})}))),$Y=()=>{const t=Wr(),{navigationSections:r,toggleEducatorSection:n}=sO(),o=r.educatorExpanded;return A.jsx(A.Fragment,{children:A.jsxs(Pt,{item:!0,xs:12,children:[A.jsx(na,{sx:{my:2}}),A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",py:1.5,px:2,mx:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},borderRadius:2,transition:"background-color 0.2s"},onClick:n,children:[A.jsx(je,{className:"general-menu-title",variant:"h6",component:"h2",sx:{flexGrow:1,textAlign:"center"},children:"Educator Access"}),A.jsx(Ln,{size:"small",sx:{ml:2,p:.5,color:"primary.main","&:hover":{backgroundColor:"primary.light",color:"primary.contrastText"}},"aria-label":o?"collapse educator section":"expand educator section",children:o?A.jsx(Uk,{fontSize:"small"}):A.jsx(_s,{fontSize:"small"})})]}),A.jsx($_,{in:o,timeout:"auto",unmountOnExit:!0,children:A.jsxs(Pe,{sx:{mt:2,px:1},children:[A.jsx(ml,{title:"Course Management",onClick:()=>t("/course-management")}),A.jsx(Pe,{sx:{mt:1},children:A.jsx(ml,{title:"Chatbot Management",onClick:()=>t("/chatbot-management")})})]})})]})})},HY=()=>{const t=Wr(),{navigationSections:r,toggleSuperAdminSection:n}=sO(),o=r.superAdminExpanded;return A.jsx(A.Fragment,{children:A.jsxs(Pt,{item:!0,xs:12,children:[A.jsx(na,{sx:{my:2}}),A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",py:1.5,px:2,mx:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"},borderRadius:2,transition:"background-color 0.2s"},onClick:n,children:[A.jsx(je,{className:"general-menu-title",variant:"h6",component:"h2",sx:{flexGrow:1,textAlign:"center"},children:"Super-Admin Access"}),A.jsx(Ln,{size:"small",sx:{ml:2,p:.5,color:"primary.main","&:hover":{backgroundColor:"primary.light",color:"primary.contrastText"}},"aria-label":o?"collapse super-admin section":"expand super-admin section",children:o?A.jsx(Uk,{fontSize:"small"}):A.jsx(_s,{fontSize:"small"})})]}),A.jsx($_,{in:o,timeout:"auto",unmountOnExit:!0,children:A.jsxs(Pe,{sx:{mt:2,px:1},children:[A.jsx(ml,{title:"User Management",onClick:()=>t("/user-management")}),A.jsx(Pe,{sx:{mt:1},children:A.jsx(ml,{title:"Course Management",onClick:()=>t("/super-admin-course-management")})}),A.jsx(Pe,{sx:{mt:1},children:A.jsx(ml,{title:"Educator Requests",onClick:()=>t("/educator-requests")})}),A.jsx(Pe,{sx:{mt:1},children:A.jsx(ml,{title:"Course Requests",onClick:()=>t("/course-requests")})}),A.jsx(Pe,{sx:{mt:1},children:A.jsx(ml,{title:"Chatbot Requests",onClick:()=>t("/super-admin-chatbot-requests")})}),A.jsx(Pe,{sx:{mt:1},children:A.jsx(ml,{title:"Chatbot Conversations",onClick:()=>t("/chatbot-conversations")})})]})})]})})},WY=({userDetails:t,isSuperAdmin:r})=>A.jsx(Pe,{className:"menu-container",children:A.jsxs(Pt,{container:!0,spacing:2,justifyContent:"center",children:[A.jsx(BY,{userDetails:t}),(t==null?void 0:t.isAdmin)&&A.jsx($Y,{}),r&&A.jsx(HY,{})]})}),jI=({messageId:t,onDelete:r})=>{const[n,o]=Y.useState(!1),s=Kn(),l=()=>{o(!0)},d=()=>{o(!1)},h=async()=>{try{await Jg(mn(s,"messages",t)),r(t),d()}catch(p){console.error("Error deleting message: ",p)}};return A.jsxs(A.Fragment,{children:[A.jsx(Ln,{onClick:l,children:A.jsx(Ks,{})}),A.jsxs(Qi,{open:n,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[A.jsx(Ji,{id:"alert-dialog-title",children:"Confirm Delete"}),A.jsx(Zi,{children:A.jsx(Ts,{id:"alert-dialog-description",children:"Are you sure you want to delete this message? This action cannot be undone."})}),A.jsxs(Xi,{children:[A.jsx(kt,{onClick:d,color:"primary",children:"Cancel"}),A.jsx(kt,{onClick:h,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},LI=({message:t,togglePinMessage:r})=>{const n=async()=>{try{await r(t.id,t.isPinned||!1)}catch(o){console.error("Error updating pin status: ",o)}};return A.jsx(Ln,{onClick:n,sx:{marginRight:1},children:A.jsx(xP,{color:t.isPinned?"primary":"inherit"})})},sd=t=>t?typeof t=="object"&&"toDate"in t?t.toDate().toLocaleString():typeof t=="object"&&"seconds"in t?new Date(t.seconds*1e3).toLocaleString():"N/A":"No data available",GY=({messages:t,userDetails:r,navigate:n,handleDeleteMessage:o,togglePinMessage:s})=>{const[l,d]=Y.useState(0),h=3,p=t.filter(P=>(r==null?void 0:r.classes)&&P.course in r.classes),g=p.filter(P=>P.isPinned),b=p.filter(P=>!P.isPinned),v=(l+1)*h,y=v-h,k=b.slice(y,v),x=Math.ceil(b.length/h),C=()=>d(P=>P+1),D=()=>d(P=>P-1),S=P=>{var B,$;return!!(r!=null&&r.isSuperAdmin||($=(B=r==null?void 0:r.classes)==null?void 0:B[P.course])!=null&&$.isCourseAdmin)},M=P=>{var $;const B=($=r==null?void 0:r.classes)==null?void 0:$[P];return B?`${B.number}`:"Unknown Course"};return A.jsxs(Pe,{className:"messages-display-container",children:[" ",g.length>0&&A.jsxs(Bn,{elevation:3,sx:{mb:3,p:2,backgroundColor:"#FBFADA",borderRadius:"15px"},children:[A.jsxs(Pe,{className:"pinned-section",children:[A.jsx(xP,{color:"primary",sx:{mr:1}}),A.jsx(je,{variant:"h6",className:"pinned-title",children:"Pinned"})]}),g.map(P=>A.jsx(zk,{className:"messages-card",children:A.jsxs(ic,{children:[A.jsx(oc,{expandIcon:A.jsx(_s,{}),"aria-controls":`panel-${P.id}-content`,id:`panel-${P.id}-header`,children:A.jsxs(Pt,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[A.jsxs(Pt,{item:!0,children:[A.jsxs(Pe,{display:"flex",alignItems:"center",children:[A.jsx(ii,{label:M(P.course),color:"primary",variant:"outlined",className:"message-chip",sx:{marginRight:1}}),A.jsxs(je,{variant:"subtitle2",className:"message-posted-on",children:["Posted On: ",sd(P.postedOn)," |"]}),P.lastUpdatedOn&&A.jsxs(je,{variant:"subtitle2",className:"message-updated-on",children:["| Last Updated: ",sd(P.lastUpdatedOn)]})]}),A.jsxs(je,{variant:"h6",className:"message-title",children:["Subject: ",P.title]})]}),S(P)&&A.jsxs(Pt,{item:!0,children:[A.jsx(LI,{message:P,togglePinMessage:s}),A.jsx(Ln,{onClick:()=>n(`/edit-message/${P.id}`),sx:{marginRight:1},children:A.jsx(kl,{})}),A.jsx(jI,{messageId:P.id,onDelete:o})]})]})}),A.jsx(sc,{children:A.jsxs(Pe,{sx:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"4px",backgroundColor:"#fafafa",marginBottom:"16px"},children:[A.jsx(je,{variant:"body1",className:"message-description",children:P.description}),P.links&&P.links.some(B=>B.title&&B.url)&&A.jsxs(Pe,{sx:{mt:1},children:[A.jsx(je,{variant:"subtitle2",className:"message-links-title",children:"Links:"}),P.links.map((B,$)=>B.title&&B.url&&A.jsxs(Pe,{sx:{mt:1},children:[A.jsxs(je,{variant:"body2",component:"span",className:"message-link",children:["ðŸ”— ",B.title,": "]}),A.jsx(Pg,{href:B.url,target:"_blank",rel:"noopener",children:B.url})]},$))]})]})})]})},P.id))]}),A.jsx(Bn,{elevation:3,sx:{mb:3,p:2,backgroundColor:"#f5f5f5",borderRadius:"15px"},children:k.map(P=>A.jsx(zk,{className:"messages-card",children:A.jsxs(ic,{children:[A.jsx(oc,{expandIcon:A.jsx(_s,{}),"aria-controls":`panel-${P.id}-content`,id:`panel-${P.id}-header`,children:A.jsxs(Pt,{container:!0,justifyContent:"space-between",alignItems:"flex-start",children:[A.jsxs(Pt,{item:!0,children:[A.jsxs(Pe,{display:"flex",alignItems:"center",children:[A.jsx(ii,{label:M(P.course),color:"primary",variant:"outlined",className:"message-chip",sx:{marginRight:1}}),A.jsxs(je,{variant:"subtitle2",className:"message-posted-on",children:["Posted On: ",sd(P.postedOn)]}),P.lastUpdatedOn&&A.jsxs(je,{variant:"subtitle2",className:"message-updated-on",children:["Last Updated: ",sd(P.lastUpdatedOn)]})]}),A.jsxs(je,{variant:"h6",className:"message-title",children:["Subject: ",P.title]})]}),S(P)&&A.jsxs(Pt,{item:!0,children:[A.jsx(LI,{message:P,togglePinMessage:s}),A.jsx(Ln,{onClick:()=>n(`/edit-message/${P.id}`),sx:{marginRight:1},children:A.jsx(kl,{})}),A.jsx(jI,{messageId:P.id,onDelete:o})]})]})}),A.jsx(sc,{children:A.jsxs(Pe,{sx:{border:"1px solid #e0e0e0",padding:"20px",borderRadius:"4px",backgroundColor:"#fafafa",marginBottom:"16px"},children:[A.jsx(je,{variant:"body1",className:"message-description",children:P.description}),P.links&&P.links.some(B=>B.title&&B.url)&&A.jsxs(Pe,{sx:{mt:1},children:[A.jsx(je,{variant:"subtitle2",className:"message-links-title",children:"Links:"}),P.links.map((B,$)=>B.title&&B.url&&A.jsxs(Pe,{sx:{mt:1},children:[A.jsxs(je,{variant:"body2",component:"span",className:"message-link",children:["ðŸ”— ",B.title,": "]}),A.jsx(Pg,{href:B.url,target:"_blank",rel:"noopener",children:B.url})]},$))]})]})})]})},P.id))}),A.jsxs(Pe,{className:"pagination-container",children:[" ",A.jsx(kt,{onClick:D,disabled:l===0,className:"pagination-button",children:"Previous"}),A.jsx(kt,{onClick:C,disabled:l>=x-1,className:"pagination-button",children:"Next"})]})]})},YY=({messages:t,loading:r,userDetails:n,handleDeleteMessage:o,togglePinMessage:s})=>{const l=Wr();return A.jsxs(Pe,{className:"messages-container",children:[A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[A.jsxs(Pe,{sx:{display:"flex",alignItems:"center"},children:[A.jsx(SW,{sx:{mr:1}}),A.jsx(je,{variant:"h5",component:"h4",className:"inbox-text",children:"Inbox"})]}),(n==null?void 0:n.isAdmin)&&A.jsx(kt,{variant:"contained",onClick:()=>l("/add-message"),sx:{backgroundColor:"#CDDAFF",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",border:"0px solid #0B53C0"}},children:"+ Add Message"})]}),r?A.jsx(Pe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px"},children:A.jsx(Rr,{})}):A.jsx(GY,{messages:t,userDetails:n,navigate:l,handleDeleteMessage:o,togglePinMessage:s})]})},KY=()=>{const{userDetails:t,isSuperAdmin:r}=Pi(),[n,o]=Y.useState(!1),{messages:s,loading:l,deleteMessage:d,togglePinMessage:h}=LY(),p=(b,v)=>{v!=="clickaway"&&o(!1)},g=b=>{d(b)};return A.jsxs(Pe,{sx:{flexGrow:1,padding:3},children:[A.jsxs(Pt,{container:!0,spacing:3,children:[A.jsx(Pt,{item:!0,xs:12,md:3,children:A.jsx(WY,{userDetails:t,isSuperAdmin:r})}),A.jsx(Pt,{item:!0,xs:12,md:9,children:A.jsx(YY,{messages:s,loading:l,userDetails:t,handleDeleteMessage:g,togglePinMessage:h})})]}),A.jsx(cs,{open:n,autoHideDuration:6e3,onClose:p,children:A.jsx(br,{onClose:p,severity:"success",sx:{width:"100%"},children:"User ID copied to clipboard!"})})]})};let W0;const QY=new Uint8Array(16);function JY(){if(!W0&&(W0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!W0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return W0(QY)}const _o=[];for(let t=0;t<256;++t)_o.push((t+256).toString(16).slice(1));function ZY(t,r=0){return _o[t[r+0]]+_o[t[r+1]]+_o[t[r+2]]+_o[t[r+3]]+"-"+_o[t[r+4]]+_o[t[r+5]]+"-"+_o[t[r+6]]+_o[t[r+7]]+"-"+_o[t[r+8]]+_o[t[r+9]]+"-"+_o[t[r+10]]+_o[t[r+11]]+_o[t[r+12]]+_o[t[r+13]]+_o[t[r+14]]+_o[t[r+15]]}const XY=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),BI={randomUUID:XY};function zo(t,r,n){if(BI.randomUUID&&!t)return BI.randomUUID();t=t||{};const o=t.random||(t.rng||JY)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,ZY(o)}var RI;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(RI||(RI={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FI;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(FI||(FI={}));var zI;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(zI||(zI={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=["user","model","function","system"];var qI;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(qI||(qI={}));var VI;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(VI||(VI={}));var $I;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})($I||($I={}));var HI;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(HI||(HI={}));var vg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(vg||(vg={}));var WI;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(WI||(WI={}));var GI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(GI||(GI={}));var YI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(YI||(YI={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends Error{constructor(r){super(`[GoogleGenerativeAI Error]: ${r}`)}}class Wf extends Uo{constructor(r,n){super(r),this.response=n}}class aO extends Uo{constructor(r,n,o,s){super(r),this.status=n,this.statusText=o,this.errorDetails=s}}class dd extends Uo{}class lO extends Uo{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eK="https://generativelanguage.googleapis.com",tK="v1beta",nK="0.24.1",rK="genai-js";var Vh;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Vh||(Vh={}));class iK{constructor(r,n,o,s,l){this.model=r,this.task=n,this.apiKey=o,this.stream=s,this.requestOptions=l}toString(){var r,n;const o=((r=this.requestOptions)===null||r===void 0?void 0:r.apiVersion)||tK;let l=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||eK}/${o}/${this.model}:${this.task}`;return this.stream&&(l+="?alt=sse"),l}}function oK(t){const r=[];return t!=null&&t.apiClient&&r.push(t.apiClient),r.push(`${rK}/${nK}`),r.join(" ")}async function sK(t){var r;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",oK(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let o=(r=t.requestOptions)===null||r===void 0?void 0:r.customHeaders;if(o){if(!(o instanceof Headers))try{o=new Headers(o)}catch(s){throw new dd(`unable to convert customHeaders value ${JSON.stringify(o)} to Headers: ${s.message}`)}for(const[s,l]of o.entries()){if(s==="x-goog-api-key")throw new dd(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new dd(`Header name ${s} can only be set using the apiClient field`);n.append(s,l)}}return n}async function aK(t,r,n,o,s,l){const d=new iK(t,r,n,o,l);return{url:d.toString(),fetchOptions:Object.assign(Object.assign({},dK(l)),{method:"POST",headers:await sK(d),body:s})}}async function rb(t,r,n,o,s,l={},d=fetch){const{url:h,fetchOptions:p}=await aK(t,r,n,o,s,l);return lK(h,p,d)}async function lK(t,r,n=fetch){let o;try{o=await n(t,r)}catch(s){cK(s,t)}return o.ok||await uK(o,t),o}function cK(t,r){let n=t;throw n.name==="AbortError"?(n=new lO(`Request aborted when fetching ${r.toString()}: ${t.message}`),n.stack=t.stack):t instanceof aO||t instanceof dd||(n=new Uo(`Error fetching from ${r.toString()}: ${t.message}`),n.stack=t.stack),n}async function uK(t,r){let n="",o;try{const s=await t.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,o=s.error.details)}catch{}throw new aO(`Error fetching from ${r.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,o)}function dK(t){const r={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),r.signal=n.signal}return r}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),bk(t.candidates[0]))throw new Wf(`${nd(t)}`,t);return hK(t)}else if(t.promptFeedback)throw new Wf(`Text not available. ${nd(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),bk(t.candidates[0]))throw new Wf(`${nd(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),KI(t)[0]}else if(t.promptFeedback)throw new Wf(`Function call not available. ${nd(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),bk(t.candidates[0]))throw new Wf(`${nd(t)}`,t);return KI(t)}else if(t.promptFeedback)throw new Wf(`Function call not available. ${nd(t)}`,t)},t}function hK(t){var r,n,o,s;const l=[];if(!((n=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||n===void 0)&&n.parts)for(const d of(s=(o=t.candidates)===null||o===void 0?void 0:o[0].content)===null||s===void 0?void 0:s.parts)d.text&&l.push(d.text),d.executableCode&&l.push("\n```"+d.executableCode.language+`
`+d.executableCode.code+"\n```\n"),d.codeExecutionResult&&l.push("\n```\n"+d.codeExecutionResult.output+"\n```\n");return l.length>0?l.join(""):""}function KI(t){var r,n,o,s;const l=[];if(!((n=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||n===void 0)&&n.parts)for(const d of(s=(o=t.candidates)===null||o===void 0?void 0:o[0].content)===null||s===void 0?void 0:s.parts)d.functionCall&&l.push(d.functionCall);if(l.length>0)return l}const fK=[vg.RECITATION,vg.SAFETY,vg.LANGUAGE];function bk(t){return!!t.finishReason&&fK.includes(t.finishReason)}function nd(t){var r,n,o;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((r=t.promptFeedback)===null||r===void 0)&&r.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((o=t.candidates)===null||o===void 0)&&o[0]){const l=t.candidates[0];bk(l)&&(s+=`Candidate was blocked due to ${l.finishReason}`,l.finishMessage&&(s+=`: ${l.finishMessage}`))}return s}function Rg(t){return this instanceof Rg?(this.v=t,this):new Rg(t)}function pK(t,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,r||[]),s,l=[];return s={},d("next"),d("throw"),d("return"),s[Symbol.asyncIterator]=function(){return this},s;function d(y){o[y]&&(s[y]=function(k){return new Promise(function(x,C){l.push([y,k,x,C])>1||h(y,k)})})}function h(y,k){try{p(o[y](k))}catch(x){v(l[0][3],x)}}function p(y){y.value instanceof Rg?Promise.resolve(y.value.v).then(g,b):v(l[0][2],y)}function g(y){h("next",y)}function b(y){h("throw",y)}function v(y,k){y(k),l.shift(),l.length&&h(l[0][0],l[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function mK(t){const r=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=kK(r),[o,s]=n.tee();return{stream:bK(o),response:gK(s)}}async function gK(t){const r=[],n=t.getReader();for(;;){const{done:o,value:s}=await n.read();if(o)return tC(wK(r));r.push(s)}}function bK(t){return pK(this,arguments,function*(){const n=t.getReader();for(;;){const{value:o,done:s}=yield Rg(n.read());if(s)break;yield yield Rg(tC(o))}})}function kK(t){const r=t.getReader();return new ReadableStream({start(o){let s="";return l();function l(){return r.read().then(({value:d,done:h})=>{if(h){if(s.trim()){o.error(new Uo("Failed to parse stream"));return}o.close();return}s+=d;let p=s.match(QI),g;for(;p;){try{g=JSON.parse(p[1])}catch{o.error(new Uo(`Error parsing JSON response: "${p[1]}"`));return}o.enqueue(g),s=s.substring(p[0].length),p=s.match(QI)}return l()}).catch(d=>{let h=d;throw h.stack=d.stack,h.name==="AbortError"?h=new lO("Request aborted when reading from the stream"):h=new Uo("Error reading from the stream"),h})}}})}function wK(t){const r=t[t.length-1],n={promptFeedback:r==null?void 0:r.promptFeedback};for(const o of t){if(o.candidates){let s=0;for(const l of o.candidates)if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:s}),n.candidates[s].citationMetadata=l.citationMetadata,n.candidates[s].groundingMetadata=l.groundingMetadata,n.candidates[s].finishReason=l.finishReason,n.candidates[s].finishMessage=l.finishMessage,n.candidates[s].safetyRatings=l.safetyRatings,l.content&&l.content.parts){n.candidates[s].content||(n.candidates[s].content={role:l.content.role||"user",parts:[]});const d={};for(const h of l.content.parts)h.text&&(d.text=h.text),h.functionCall&&(d.functionCall=h.functionCall),h.executableCode&&(d.executableCode=h.executableCode),h.codeExecutionResult&&(d.codeExecutionResult=h.codeExecutionResult),Object.keys(d).length===0&&(d.text=""),n.candidates[s].content.parts.push(d)}s++}o.usageMetadata&&(n.usageMetadata=o.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(t,r,n,o){const s=await rb(r,Vh.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),o);return mK(s)}async function uO(t,r,n,o){const l=await(await rb(r,Vh.GENERATE_CONTENT,t,!1,JSON.stringify(n),o)).json();return{response:tC(l)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Fg(t){let r=[];if(typeof t=="string")r=[{text:t}];else for(const n of t)typeof n=="string"?r.push({text:n}):r.push(n);return yK(r)}function yK(t){const r={role:"user",parts:[]},n={role:"function",parts:[]};let o=!1,s=!1;for(const l of t)"functionResponse"in l?(n.parts.push(l),s=!0):(r.parts.push(l),o=!0);if(o&&s)throw new Uo("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!o&&!s)throw new Uo("No content is provided for sending chat message.");return o?r:n}function vK(t,r){var n;let o={model:r==null?void 0:r.model,generationConfig:r==null?void 0:r.generationConfig,safetySettings:r==null?void 0:r.safetySettings,tools:r==null?void 0:r.tools,toolConfig:r==null?void 0:r.toolConfig,systemInstruction:r==null?void 0:r.systemInstruction,cachedContent:(n=r==null?void 0:r.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=t.generateContentRequest!=null;if(t.contents){if(s)throw new dd("CountTokensRequest must have one of contents or generateContentRequest, not both.");o.contents=t.contents}else if(s)o=Object.assign(Object.assign({},o),t.generateContentRequest);else{const l=Fg(t);o.contents=[l]}return{generateContentRequest:o}}function JI(t){let r;return t.contents?r=t:r={contents:[Fg(t)]},t.systemInstruction&&(r.systemInstruction=dO(t.systemInstruction)),r}function AK(t){return typeof t=="string"||Array.isArray(t)?{content:Fg(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],_K={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function CK(t){let r=!1;for(const n of t){const{role:o,parts:s}=n;if(!r&&o!=="user")throw new Uo(`First content should be with role 'user', got ${o}`);if(!UI.includes(o))throw new Uo(`Each item should include role field. Got ${o} but valid roles are: ${JSON.stringify(UI)}`);if(!Array.isArray(s))throw new Uo("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new Uo("Each Content should have at least one part");const l={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const h of s)for(const p of ZI)p in h&&(l[p]+=1);const d=_K[o];for(const h of ZI)if(!d.includes(h)&&l[h]>0)throw new Uo(`Content with role '${o}' can't contain '${h}' part`);r=!0}}function XI(t){var r;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(r=t.candidates[0])===null||r===void 0?void 0:r.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const o of n.parts)if(o===void 0||Object.keys(o).length===0||o.text!==void 0&&o.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="SILENT_ERROR";class xK{constructor(r,n,o,s={}){this.model=n,this.params=o,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=r,o!=null&&o.history&&(CK(o.history),this._history=o.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(r,n={}){var o,s,l,d,h,p;await this._sendPromise;const g=Fg(r),b={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},v=Object.assign(Object.assign({},this._requestOptions),n);let y;return this._sendPromise=this._sendPromise.then(()=>uO(this._apiKey,this.model,b,v)).then(k=>{var x;if(XI(k.response)){this._history.push(g);const C=Object.assign({parts:[],role:"model"},(x=k.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(C)}else{const C=nd(k.response);C&&console.warn(`sendMessage() was unsuccessful. ${C}. Inspect response object for details.`)}y=k}).catch(k=>{throw this._sendPromise=Promise.resolve(),k}),await this._sendPromise,y}async sendMessageStream(r,n={}){var o,s,l,d,h,p;await this._sendPromise;const g=Fg(r),b={safetySettings:(o=this.params)===null||o===void 0?void 0:o.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},v=Object.assign(Object.assign({},this._requestOptions),n),y=cO(this._apiKey,this.model,b,v);return this._sendPromise=this._sendPromise.then(()=>y).catch(k=>{throw new Error(eT)}).then(k=>k.response).then(k=>{if(XI(k)){this._history.push(g);const x=Object.assign({},k.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=nd(k);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(k=>{k.message!==eT&&console.error(k)}),y}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SK(t,r,n,o){return(await rb(r,Vh.COUNT_TOKENS,t,!1,JSON.stringify(n),o)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EK(t,r,n,o){return(await rb(r,Vh.EMBED_CONTENT,t,!1,JSON.stringify(n),o)).json()}async function DK(t,r,n,o){const s=n.requests.map(d=>Object.assign(Object.assign({},d),{model:r}));return(await rb(r,Vh.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:s}),o)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(r,n,o={}){this.apiKey=r,this._requestOptions=o,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=dO(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(r,n={}){var o;const s=JI(r),l=Object.assign(Object.assign({},this._requestOptions),n);return uO(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},s),l)}async generateContentStream(r,n={}){var o;const s=JI(r),l=Object.assign(Object.assign({},this._requestOptions),n);return cO(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(o=this.cachedContent)===null||o===void 0?void 0:o.name},s),l)}startChat(r){var n;return new xK(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},r),this._requestOptions)}async countTokens(r,n={}){const o=vK(r,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return SK(this.apiKey,this.model,o,s)}async embedContent(r,n={}){const o=AK(r),s=Object.assign(Object.assign({},this._requestOptions),n);return EK(this.apiKey,this.model,o,s)}async batchEmbedContents(r,n={}){const o=Object.assign(Object.assign({},this._requestOptions),n);return DK(this.apiKey,this.model,r,o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(r){this.apiKey=r}getGenerativeModel(r,n){if(!r.model)throw new Uo("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new tT(this.apiKey,r,n)}getGenerativeModelFromCachedContent(r,n,o){if(!r.name)throw new dd("Cached content must contain a `name` field.");if(!r.model)throw new dd("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const d of s)if(n!=null&&n[d]&&r[d]&&(n==null?void 0:n[d])!==r[d]){if(d==="model"){const h=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,p=r.model.startsWith("models/")?r.model.replace("models/",""):r.model;if(h===p)continue}throw new dd(`Different value for "${d}" specified in modelParams (${n[d]}) and cachedContent (${r[d]})`)}const l=Object.assign(Object.assign({},n),{model:r.model,tools:r.tools,toolConfig:r.toolConfig,systemInstruction:r.systemInstruction,cachedContent:r});return new tT(this.apiKey,l,o)}}var Cv={exports:{}},nT;function IK(){return nT||(nT=1,(()=>{var t={d:(l,d)=>{for(var h in d)t.o(d,h)&&!t.o(l,h)&&Object.defineProperty(l,h,{enumerable:!0,get:d[h]})},o:(l,d)=>Object.prototype.hasOwnProperty.call(l,d),r:l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})}},r={};function n(l,d){for(var h=0;h<d.length;h++){var p=d[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}t.r(r),t.d(r,{default:()=>s});var o=function(){function l(){(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,l)}var d,h;return d=l,h=[{key:"changeHeightWidth",value:function(p,g,b,v,y,k){return b>v&&(p=Math.round(p*v/b),b=v),p>g&&(b=Math.round(b*g/p),p=g),y&&b<y&&(p=Math.round(p*y/b),b=y),k&&p<k&&(b=Math.round(b*k/p),p=k),{height:p,width:b}}},{key:"resizeAndRotateImage",value:function(p,g,b,v,y){var k=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"jpeg",x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,C=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,D=x/100,S=document.createElement("canvas"),M=p.width,P=p.height,B=this.changeHeightWidth(P,b,M,g,v,y);!C||C!==90&&C!==270?(S.width=B.width,S.height=B.height):(S.width=B.height,S.height=B.width),M=B.width,P=B.height;var $=S.getContext("2d");return $.fillStyle="rgba(0, 0, 0, 0)",$.fillRect(0,0,M,P),$.imageSmoothingEnabled&&$.imageSmoothingQuality&&($.imageSmoothingQuality="high"),C&&($.rotate(C*Math.PI/180),C===90?$.translate(0,-S.width):C===180?$.translate(-S.width,-S.height):C===270?$.translate(-S.height,0):C!==0&&C!==360||$.translate(0,0)),$.drawImage(p,0,0,M,P),S.toDataURL("image/".concat(k),D)}},{key:"b64toByteArrays",value:function(p,g){for(var b=atob(p.toString().replace(/^data:image\/(png|jpeg|jpg|webp);base64,/,"")),v=[],y=0;y<b.length;y+=512){for(var k=b.slice(y,y+512),x=new Array(k.length),C=0;C<k.length;C++)x[C]=k.charCodeAt(C);var D=new Uint8Array(x);v.push(D)}return v}},{key:"b64toBlob",value:function(p,g){var b=this.b64toByteArrays(p,g);return new Blob(b,{type:g,lastModified:new Date})}},{key:"b64toFile",value:function(p,g,b){var v=this.b64toByteArrays(p,b);return new File(v,g,{type:b,lastModified:new Date})}},{key:"createResizedImage",value:function(p,g,b,v,y,k,x){var C=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"base64",D=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,S=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,M=new FileReader;if(!p)throw Error("File Not Found!");if(p.type&&!p.type.includes("image"))throw Error("File Is NOT Image!");M.readAsDataURL(p),M.onload=function(){var P=new Image;P.src=M.result,P.onload=function(){var B=l.resizeAndRotateImage(P,g,b,D,S,v,y,k),$="image/".concat(v);switch(C){case"blob":var F=l.b64toBlob(B,$);x(F);break;case"base64":x(B);break;case"file":var N=p.name.toString().replace(/(png|jpeg|jpg|webp)$/i,"").concat(v.toString()),L=l.b64toFile(B,N,$);x(L);break;default:x(B)}}},M.onerror=function(P){throw Error(P)}}}],h&&n(d,h),l}();const s={imageFileResizer:function(l,d,h,p,g,b,v,y,k,x){return o.createResizedImage(l,d,h,p,g,b,v,y,k,x)}};Cv.exports=r})()),Cv.exports}var TK=IK();const fO=bu(TK),NK=(t,r=5*1024*1024)=>new Promise((n,o)=>{var y;const s=((y=t.type.split("/")[1])==null?void 0:y.toLowerCase())||"unknown";if(t.size<=r&&(s==="jpeg"||s==="png"||s==="webp")){console.log(`âœ… Image already optimized: ${t.size} bytes, format: ${s}`),n({blob:t,format:s==="jpeg"?"jpg":s});return}const l=t.size>r;console.log(`ðŸ”§ Processing image: ${t.size} bytes, format: ${s}, compress: ${l}`);const d=new File([t],`image.${s}`,{type:t.type});let h="JPEG",p="jpg";(s==="png"||s==="gif")&&(h="PNG",p="png");const g=l?60:75,b=l?600:800,v=setTimeout(()=>{o(new Error("Image compression timed out after 10 seconds"))},1e4);fO.imageFileResizer(d,b,b,h,g,0,k=>{clearTimeout(v),k instanceof Blob?(console.log(`âœ… Image compressed: ${t.size} â†’ ${k.size} bytes (${((1-k.size/t.size)*100).toFixed(1)}% reduction)`),n({blob:k,format:p})):o(new Error("Compression failed - unexpected result type"))},"blob")}),MK=async(t,r,n,o=3,s=15e3)=>{const l=xd();for(let d=1;d<=o;d++)try{const{blob:h,format:p}=await NK(t),g=`${r}_${zo()}.${p}`,b=async()=>{const k=gl(l,`materials/${n}/${g}`),x=await ud(k,h);return{url:await lu(x.ref),path:x.ref.fullPath,filename:g,originalSize:t.size,compressedSize:h.size}},v=new Promise((k,x)=>{setTimeout(()=>x(new Error(`Upload timeout after ${s}ms`)),s)}),y=await Promise.race([b(),v]);return console.log(`Successfully uploaded image: ${y.filename} (attempt ${d})`,{originalSize:y.originalSize,compressedSize:y.compressedSize,url:y.url}),{url:y.url,path:y.path}}catch(h){const p=h instanceof Error?h.message:"Unknown error";if(console.warn(`Upload attempt ${d}/${o} failed for ${r}: ${p}`),d===o)throw console.error(`All ${o} upload attempts failed for ${r}:`,h),new Error(`Image upload failed after ${o} attempts: ${p}`);const g=Math.min(1e3*Math.pow(2,d-1),5e3);console.log(`Waiting ${g}ms before retry...`),await new Promise(b=>setTimeout(b,g))}throw new Error("Upload failed - should not reach here")},xv=t=>{const n=`
    <svg width="400" height="300" xmlns="http://www.w3.org/2000/svg">
      <rect width="100%" height="100%" fill="#f44336"/>
      <text x="50%" y="45%" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle" dominant-baseline="middle">
        Upload Failed
      </text>
      <text x="50%" y="55%" font-family="Arial, sans-serif" font-size="10" fill="white" text-anchor="middle" dominant-baseline="middle">
        ${t.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30)}
      </text>
    </svg>
  `;try{return`data:image/svg+xml;base64,${btoa(n)}`}catch(o){return console.error("Failed to create fallback placeholder:",o),`data:image/svg+xml,${encodeURIComponent(n)}`}},PK=async(t,r,n,o=3)=>{const s=t.filter(p=>p.imageBlob),l=[];console.log(`Starting batch upload of ${s.length} images (batch size: ${o})`);for(let p=0;p<s.length;p+=o){const g=Math.min(p+o,s.length),b=s.slice(p,g);console.log(`Processing batch ${Math.floor(p/o)+1}/${Math.ceil(s.length/o)} (images ${p+1}-${g})`);const v=b.map(async(y,k)=>{const x=p+k;console.log(`ðŸš€ Starting upload for image ${x+1}/${s.length} (slide ${y.slideNumber})`);try{const C=`slide_${y.slideNumber}_image_${x+1}`,D=MK(y.imageBlob,C,r,2,1e4),S=new Promise((P,B)=>{setTimeout(()=>{B(new Error(`Individual image timeout after 15 seconds for image ${x+1}`))},15e3)}),{url:M}=await Promise.race([D,S]);return console.log(`âœ… Successfully processed image ${x+1}/${s.length}`),{url:M,title:y.description||`Image from Slide ${y.slideNumber}`,originalFilename:y.filename,slideNumber:y.slideNumber,index:x}}catch(C){return console.error(`âŒ Failed to upload image ${x+1}/${s.length} from slide ${y.slideNumber}:`,C),{url:xv(y.description||`Image from Slide ${y.slideNumber}`),title:y.description||`Image from Slide ${y.slideNumber}`,originalFilename:y.filename,slideNumber:y.slideNumber,index:x}}});try{console.log(`â³ Waiting for batch ${Math.floor(p/o)+1} to complete...`);const y=2e4,k=new Promise((C,D)=>{setTimeout(()=>{D(new Error(`Batch ${Math.floor(p/o)+1} timeout after ${y}ms`))},y)}),x=await Promise.race([Promise.allSettled(v),k]);console.log(`âœ… Batch ${Math.floor(p/o)+1} completed, processing ${x.length} results...`),x.forEach((C,D)=>{const S=p+D;if(C.status==="fulfilled")l.push(C.value),console.log(`âœ… Image ${S+1}/${s.length} uploaded successfully`);else{console.error(`âŒ Image ${S+1}/${s.length} failed:`,C.reason);const M=b[D];l.push({url:xv(M.description||`Image from Slide ${M.slideNumber}`),title:M.description||`Image from Slide ${M.slideNumber}`,originalFilename:M.filename,slideNumber:M.slideNumber})}n==null||n(S+1,s.length)})}catch(y){console.error(`âŒ Batch ${Math.floor(p/o)+1} failed or timed out:`,y),b.forEach((k,x)=>{const C=p+x;console.log(`ðŸ”„ Creating fallback for timed out image ${C+1}/${s.length}`),l.push({url:xv(k.description||`Image from Slide ${k.slideNumber}`),title:k.description||`Image from Slide ${k.slideNumber}`,originalFilename:k.filename,slideNumber:k.slideNumber}),n==null||n(C+1,s.length)})}g<s.length&&(console.log("â³ Waiting 1 second before next batch..."),await new Promise(y=>setTimeout(y,1e3)))}l.sort((p,g)=>(p.index||0)-(g.index||0));const d=l.filter(p=>!p.url.startsWith("data:")).length,h=l.length-d;return console.log(`Upload complete: ${d} successful, ${h} failed out of ${l.length} total`),l};class OK{constructor(r){bt(this,"genAI");bt(this,"model");bt(this,"activeBlobUrls",new Set);this.genAI=new hO(r),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.2,topK:3,topP:.9,maxOutputTokens:16384}})}cleanupBlobUrls(){this.activeBlobUrls.forEach(r=>{URL.revokeObjectURL(r)}),this.activeBlobUrls.clear()}createTrackedBlobUrl(r){const n=URL.createObjectURL(r);return this.activeBlobUrls.add(n),n}async processMaterialContent(r,n,o,s,l,d){if(!(r!=null&&r.trim()))throw new Error("No content provided for processing");l==null||l({stage:"analyzing",percentage:20,currentOperation:"Analyzing document structure..."});const h=r.length,p=Math.ceil(h/4);if(h>15e3||p>4e3){console.log(`Document is large (${h} chars, ~${p} tokens), using chunked processing`);const g=r.substring(0,15e3);return console.log("Truncating input to prevent AI response truncation"),this.processSingleMaterial(g+`

[Content truncated for processing]`,n,o,s,l,d)}return this.processSingleMaterial(r,n,o,s,l,d)}async processSingleMaterial(r,n,o,s,l,d){const h=this.buildMaterialAnalysisPrompt(r,n,o,s,d);l==null||l({stage:"analyzing",percentage:40,currentOperation:"Processing with AI..."});try{const b=(await(await this.model.generateContent(h)).response).text();if(!b||b.trim().length===0)throw new Error("Empty response from AI service");l==null||l({stage:"structuring",percentage:70,currentOperation:"Structuring content..."});let v=b.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();console.log("Raw response text (first 1000 chars):",b.substring(0,1e3)),console.log("Cleaned text (first 1000 chars):",v.substring(0,1e3)),v=this.repairTruncatedJSON(v);let y;try{y=JSON.parse(v)}catch(k){throw console.error("JSON parsing failed:",k),console.error("Raw response text (first 1000 chars):",b.substring(0,1e3)),console.error("Cleaned text (first 1000 chars):",v.substring(0,1e3)),new Error("AI response format invalid - unable to parse JSON")}if(!y||typeof y!="object")throw new Error("AI response is not a valid object");return l==null||l({stage:"complete",percentage:100,currentOperation:"Processing complete!"}),this.validateAndSanitizeMaterialResponse(y,n,o)}catch(p){if(console.error("Material Import AI Error:",p),l==null||l({stage:"error",percentage:0,currentOperation:`Error: ${p instanceof Error?p.message:"Unknown error"}`}),p instanceof Error){if(p.message.includes("API_KEY_INVALID")||p.message.includes("API key"))throw new Error("Invalid API key. Please check your material import API key configuration.");if(p.message.includes("RATE_LIMIT_EXCEEDED"))throw new Error("Rate limit exceeded. Please try again in a few minutes.");if(p.message.includes("SAFETY"))throw new Error("Content flagged by safety filters. Please try with different content.")}throw new Error(`Material processing failed: ${p instanceof Error?p.message:"Unknown error"}`)}}async processLargeMaterial(r,n,o,s,l){l==null||l({stage:"analyzing",percentage:10,currentOperation:"Processing large document with chunking..."});const d=this.chunkMaterialText(r);let h=null;const p=[];l==null||l({stage:"analyzing",percentage:30,currentOperation:`Processing main content (1/${d.length})...`,subSteps:{current:1,total:d.length,description:"Analyzing primary structure"}}),h=await this.processSingleMaterial(d[0],n,o,s);for(let b=1;b<d.length;b++){l==null||l({stage:"analyzing",percentage:30+40*b/d.length,currentOperation:`Processing additional content (${b+1}/${d.length})...`,subSteps:{current:b+1,total:d.length,description:"Extracting supplementary details"}});try{const v=await this.processChunkForAdditionalContent(d[b],n,o);v&&p.push(v)}catch(v){console.warn(`Failed to process chunk ${b+1}:`,v)}}l==null||l({stage:"structuring",percentage:80,currentOperation:"Merging content from all sections..."});const g=this.mergeChunkedMaterialResults(h,p);return l==null||l({stage:"complete",percentage:100,currentOperation:"Large document processing complete!"}),g}buildMaterialAnalysisPrompt(r,n,o,s,l){const d=this.getFileTypeContext(o);return`
Analyze this ${d} educational material and extract structured information for course content management.

File: ${n}
Type: ${o}

CONTENT:
${r}

${l!=null&&l.images&&l.images.length>0?`
DETECTED IMAGES:
${l.images.map((h,p)=>`${p+1}. ${h.description||`Image ${p+1}`}${h.slideNumber?` (Slide ${h.slideNumber})`:""}${h.altText?` - ${h.altText}`:""}`).join(`
`)}

CRITICAL IMAGE PLACEMENT INSTRUCTIONS:
- Each image MUST be placed in the section corresponding to its slide number
- If "Image X (Slide Y)" is detected, place it in the section created from Slide Y content
- Each image should have a unique, descriptive title based on its context
- Include slideNumber property in each image object for proper matching
- DO NOT reuse the same image in multiple sections
`:""}

Please extract and structure this content into a comprehensive educational material format. Focus on:

1. **Document Structure**: Identify main topics, subtopics, and hierarchical organization
2. **Content Quality**: Preserve important educational information and context
3. **Visual Elements**: Note references to images, diagrams, charts (even if not extractable)
4. **Links and Resources**: Extract any URLs, references, or external resources mentioned
5. **Learning Context**: Maintain educational value and logical flow

${d==="presentation slide deck"?`
SPECIAL INSTRUCTIONS FOR PRESENTATIONS:
- Each slide should become a section or subsection
- Preserve slide order and hierarchy
- Note slide titles and main content points
- Identify slide transitions and logical groupings
- Extract speaker notes or additional context if present
`:""}

Return ONLY a JSON object with this exact structure:
{
  "title": "Material title (extracted from content or filename)",
  "description": "Brief description of the material content",
  "header": {
    "title": "Introduction or Overview",
    "content": "HTML formatted introductory content"
  },
  "footer": {
    "title": "Summary or Conclusion", 
    "content": "HTML formatted concluding content"
  },
  "sections": [
    {
      "title": "Section Title",
      "content": "HTML formatted main section content",
      "subsections": [
        {
          "title": "Subsection Title",
          "content": "HTML formatted subsection content",
          "subSubsections": [
            {
              "title": "Sub-subsection Title",
              "content": "HTML formatted detailed content",
              "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 2}],
              "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
            }
          ],
          "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 3}],
          "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
        }
      ],
      "images": [{"url": "", "title": "Image description", "description": "Context or caption", "slideNumber": 4}],
      "links": [{"title": "Link title", "url": "URL if available", "description": "Link context"}]
    }
  ],
  "sourceInfo": {
    "fileName": "${n}",
    "fileType": "${o}",
    "extractedAt": "${new Date().toISOString()}",
    "originalFileReference": "Reference to original file for debugging"
  },
  "images": [{"url": "", "title": "Overall image description", "description": "Context", "slideNumber": 1}],
  "links": [{"title": "Overall link title", "url": "URL", "description": "Link context"}]
}

CRITICAL JSON FORMATTING RULES:
- Return ONLY valid JSON - no comments, no explanations, no additional text
- Use proper HTML tags for content formatting (<p>, <h1>-<h6>, <ul>, <ol>, <li>, <strong>, <em>, <br>)
- Preserve educational structure and hierarchy
- Create logical sections based on content organization
- For images: Use EMPTY STRINGS for URLs ("url": "") with descriptive titles, context, and slideNumber property
-- IMPORTANT: Each image object MUST include "slideNumber" property matching the source slide
-- NEVER use placeholder filenames like "placeholder_image_1.png" - always use empty strings for URLs
- For links: Extract actual URLs when present, provide context
- Complete ALL sections and subsections - do not use comments like "// ... continue"
- Ensure all JSON arrays and objects are properly closed
- Maintain educational value and readability

IMPORTANT: Your response must be complete, valid JSON that can be parsed directly. Do not include any explanatory text, comments, or incomplete sections. End your response when the JSON object is complete.
`}async processChunkForAdditionalContent(r,n,o){const s=`
Extract additional educational content from this section of the material:

File: ${n}
Type: ${o}

CONTENT:
${r}

Focus on extracting any additional sections, detailed information, or supplementary content that should be included in the educational material.

Return ONLY a JSON object with additional sections, images, or links:
{
  "sections": [...],
  "images": [...],
  "links": [...]
}
`;try{const h=(await(await this.model.generateContent(s)).response).text();if(!h||h.trim().length===0)return null;let p;try{p=this.extractValidJSON(h)}catch(g){try{p=this.fallbackJSONExtraction(h)}catch{throw g}}return JSON.parse(p)}catch(l){return console.warn("Failed to process additional content chunk:",l),null}}chunkMaterialText(r,n=25e3){const o=[],s=r.split(`
`);let l="";for(const d of s)l.length+d.length>n&&l.length>0?(o.push(l.trim()),l=d):l+=(l?`
`:"")+d;return l.trim()&&o.push(l.trim()),o.length>0?o:[r]}mergeChunkedMaterialResults(r,n){const o={...r};for(const s of n)s.sections&&Array.isArray(s.sections)&&(o.sections=[...o.sections,...s.sections]),s.images&&Array.isArray(s.images)&&(o.images=[...o.images||[],...s.images]),s.links&&Array.isArray(s.links)&&(o.links=[...o.links||[],...s.links]);return o}extractValidJSON(r){let n=r.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();n=n.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const o=n.indexOf("{");if(o===-1)throw new Error("No JSON object found in response");n=n.substring(o);let s=0,l=-1,d=!1,h=!1;for(let b=0;b<n.length;b++){const v=n[b];if(h){h=!1;continue}if(v==="\\"){h=!0;continue}if(v==='"'&&!h){d=!d;continue}if(!d){if(v==="{")s++;else if(v==="}"&&(s--,s===0)){l=b+1;break}}}if(l===-1)throw new Error("No matching closing brace found for JSON object");let p=n.substring(0,l);p=p.replace(/,(\s*[}\]])/g,"$1"),this.detectTruncatedJSON(p)&&(console.warn("Detected truncated JSON response, attempting repair"),p=this.attemptJSONRepair(p));try{return JSON.parse(p),p}catch(b){console.warn("Initial JSON parsing failed, attempting to fix common issues:",b);const v=this.attemptJSONRepair(p);try{return JSON.parse(v),v}catch(y){throw console.error("JSON repair failed:",y),new Error(`Invalid JSON structure: ${y.message}`)}}}detectTruncatedJSON(r){const n=r.trim(),o=[/"[^"]*$/,/:\s*$/,/,\s*$/,/"[a-zA-Z]+\w*$/,/[a-zA-Z]+\w*$/,/\[\s*$/,/{\s*$/];for(const l of o)if(l.test(n))return console.log(`Truncation detected: ${l.toString()}`),!0;const s=n.charAt(n.length-1);return s!=="}"&&s!=="]"?(console.log(`Truncation detected: JSON doesn't end with } or ], ends with: "${s}"`),!0):!1}detectTruncatedResponse(r){const o=r.trim().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),s=[/"[^"]*$/,/\w+$/,/:\s*$/,/,\s*$/,!o.endsWith("}"),!o.endsWith("]"),o.length<500];for(let l=0;l<s.length-1;l++){const d=s[l];if(d instanceof RegExp&&d.test(o))return!0}return!!(s[s.length-3]||s[s.length-2]||s[s.length-1])}attemptJSONRepair(r){let n=r;const o=n.split(`
`),s=[];for(const g of o){const b=g.trim();b.startsWith("//")||b.includes("... (Continue")||b.includes("continue structuring")||b.includes("similarly")||s.push(g)}n=s.join(`
`),n=n.replace(/,(\s*[}\]])/g,"$1");const l=(n.match(/{/g)||[]).length,d=(n.match(/}/g)||[]).length,h=(n.match(/\[/g)||[]).length,p=(n.match(/\]/g)||[]).length;for(let g=0;g<l-d;g++)n+="}";for(let g=0;g<h-p;g++)n+="]";return n}fallbackJSONExtraction(r){console.log("Attempting fallback JSON extraction...");let n=r.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();n=n.replace(/\/\/.*$/gm,"").replace(/\/\*[\s\S]*?\*\//g,"");const o=n.indexOf("{");if(o===-1)throw new Error("No JSON object found in response");n=n.substring(o);const s=[/}\s*$/m,/}\s*\n\s*[A-Z]/m,/}\s*\n\s*This/m,/}\s*\n\s*Note:/m];let l=-1;for(const h of s){const p=n.match(h);if(p&&p.index!==void 0){const g=p.index+p[0].indexOf("}")+1;(l===-1||g<l)&&(l=g)}}l>0&&(n=n.substring(0,l));const d=this.attemptJSONRepair(n);try{return JSON.parse(d),d}catch{return console.log("Attempting aggressive JSON repair..."),this.aggressiveJSONRepair(n)}}aggressiveJSONRepair(r){let n=r;const o=n.split(`
`),s=[];for(const g of o){const b=g.trim();if(b.startsWith("//")||b.includes("... (")||b.includes("continue")||b.includes("similarly")||b.includes("Remember to")||b.includes("This structure")||b.length>0&&!b.includes('"')&&!b.includes("{")&&!b.includes("}")&&!b.includes("[")&&!b.includes("]"))break;s.push(g)}n=s.join(`
`),n=n.replace(/,(\s*[}\]])/g,"$1");const l=(n.match(/{/g)||[]).length,d=(n.match(/}/g)||[]).length,h=(n.match(/\[/g)||[]).length,p=(n.match(/\]/g)||[]).length;for(let g=0;g<l-d;g++)n+=`
}`;for(let g=0;g<h-p;g++)n+=`
]`;return n=n.replace(/,(\s*[}\]])/g,"$1"),n}repairTruncatedJSON(r){let n=r;const o=n.split(`
`),s=[];for(const g of o){const b=g.trim();if(b.length===0){s.push(g);continue}if(b.match(/^"[^"]*$/)){s.push('"": ""');break}if(b.match(/:\s*"[^"]*$/)){s.push(b.replace(/:\s*"[^"]*$/,': ""'));break}if(b.match(/^[a-zA-Z]+\w*$/))break;s.push(g)}n=s.join(`
`),n=n.replace(/,(\s*[}\]])/g,"$1"),n=n.replace(/,\s*$/,"");const l=(n.match(/{/g)||[]).length,d=(n.match(/}/g)||[]).length,h=(n.match(/\[/g)||[]).length,p=(n.match(/\]/g)||[]).length;console.log(`JSON structure analysis: ${l} open braces, ${d} close braces, ${h} open brackets, ${p} close brackets`);for(let g=0;g<h-p;g++)n+=`
]`;for(let g=0;g<l-d;g++)n+=`
}`;return n=n.replace(/,(\s*[}\]])/g,"$1"),console.log("Repaired JSON (first 1000 chars):",n.substring(0,1e3)),n}getFileTypeContext(r){const n=r.toLowerCase();return n.includes("presentation")||n.includes("powerpoint")||n.includes("pptx")?"presentation slide deck":n.includes("pdf")?"PDF document":n.includes("word")||n.includes("docx")?"Word document":"document"}validateAndSanitizeMaterialResponse(r,n,o){var l,d,h,p,g;const s={title:r.title||n.replace(/\.[^/.]+$/,"")||"Untitled Material",description:r.description||"",header:{title:((l=r.header)==null?void 0:l.title)||"Introduction",content:((d=r.header)==null?void 0:d.content)||""},footer:{title:((h=r.footer)==null?void 0:h.title)||"Summary",content:((p=r.footer)==null?void 0:p.content)||""},sections:[],sourceInfo:{fileName:n,fileType:o,extractedAt:new Date().toISOString(),originalFileReference:((g=r.sourceInfo)==null?void 0:g.originalFileReference)||n},images:Array.isArray(r.images)?r.images:[],links:Array.isArray(r.links)?r.links:[]};return Array.isArray(r.sections)&&(s.sections=r.sections.map(b=>({title:b.title||"Section",content:b.content||"",subsections:Array.isArray(b.subsections)?b.subsections.map(v=>({title:v.title||"Subsection",content:v.content||"",subSubsections:Array.isArray(v.subSubsections)?v.subSubsections.map(y=>({title:y.title||"Sub-subsection",content:y.content||"",images:Array.isArray(y.images)?y.images:[],links:Array.isArray(y.links)?y.links:[]})):[],images:Array.isArray(v.images)?v.images:[],links:Array.isArray(v.links)?v.links:[]})):[],images:Array.isArray(b.images)?b.images:[],links:Array.isArray(b.links)?b.links:[]}))),s.sections.length===0&&s.sections.push({title:"Main Content",content:"Content extracted from the uploaded material.",subsections:[],images:[],links:[]}),s}convertToMaterialFormat(r,n,o,s){const l=(p,g=400,b=300)=>{const v=p.replace(/[^\u0020-\u00FF]/g,"?").substring(0,30),y=`
        <svg width="${g}" height="${b}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${v}
          </text>
        </svg>
      `;try{return`data:image/svg+xml;base64,${btoa(y)}`}catch(k){return console.error("Failed to create placeholder image URL:",k),`data:image/svg+xml,${encodeURIComponent(y)}`}},d=p=>{const g=new Map;s!=null&&s.images&&s.images.forEach(k=>{k.slideNumber&&k.imageBlob&&(g.has(k.slideNumber)||g.set(k.slideNumber,[]),g.get(k.slideNumber).push(k))});const b=new Map,v=(p==null?void 0:p.map((k,x)=>{let C="";if(k.slideNumber&&g.has(k.slideNumber)){const S=g.get(k.slideNumber);b.has(k.slideNumber)||b.set(k.slideNumber,new Set);const M=b.get(k.slideNumber);let P=null;if(k.title||k.description){const B=(k.title||k.description).toLowerCase();P=S.find($=>{const F=($.description||"").toLowerCase();return!M.has($.embedId||"")&&F.includes(B.split(" ")[0])})||null}if(P||(P=S.find(B=>!M.has(B.embedId||""))||null),!P&&S.length>0){const B=x%S.length;P=S[B]}P!=null&&P.imageBlob&&(P.embedId&&M.add(P.embedId),C=this.createTrackedBlobUrl(P.imageBlob),console.log(`Using extracted image blob for slide ${k.slideNumber} (${M.size}/${S.length}):`,{slideNumber:k.slideNumber,imageIndex:x,embedId:P.embedId,blobSize:P.imageBlob.size,blobType:P.imageBlob.type,matchedBy:P.description||"position"}))}C||(k.url&&k.url.trim()&&(k.url.startsWith("data:")||k.url.startsWith("http"))&&!k.url.includes("placeholder_image")?C=k.url:C=l(k.title||"Image"));const D={url:C,title:k.title||k.description||"Detected Image"};return console.log("Enhanced image (preview):",D),D}))||[],y=Array.from(g.values()).reduce((k,x)=>k+x.length,0);return console.log(`Enhanced ${v.length} images for material preview (${y} extracted images available across ${g.size} slides)`),v},h=p=>{var g;return{id:zo(),title:p.title,content:p.content,subsections:((g=p.subsections)==null?void 0:g.map(b=>{var v;return{id:zo(),title:b.title,content:b.content,subSubsections:((v=b.subSubsections)==null?void 0:v.map(y=>({id:zo(),title:y.title,content:y.content,images:d(y.images||[]),links:y.links||[]})))||[],images:d(b.images||[]),links:b.links||[]}}))||[],images:d(p.images||[]),links:p.links||[]}};return{course:n,title:r.title,header:r.header,footer:r.footer,sections:r.sections.map(h),author:o,published:!1,sourceInfo:r.sourceInfo}}async convertToMaterialFormatWithImageUpload(r,n,o,s,l,d){var k;let h=[];if(l!=null&&l.images)try{console.log(`Uploading ${l.images.length} extracted images...`),h=await PK(l.images,s,d),console.log(`Successfully uploaded ${h.length} images`)}catch(x){console.error("Failed to upload extracted images:",x)}const p=(x,C=400,D=300)=>{const S=x.substring(0,30),M=`
        <svg width="${C}" height="${D}" xmlns="http://www.w3.org/2000/svg">
          <rect width="100%" height="100%" fill="#4a90e2"/>
          <text x="50%" y="50%" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle" dominant-baseline="middle">
            ${S}
          </text>
        </svg>
      `;return`data:image/svg+xml;base64,${btoa(M)}`},g=x=>{const C=new Map;h.forEach(M=>{M.slideNumber&&(C.has(M.slideNumber)||C.set(M.slideNumber,[]),C.get(M.slideNumber).push(M))});const D=new Set,S=(x==null?void 0:x.map((M,P)=>{let B=null;if(M.slideNumber&&C.has(M.slideNumber)){const F=C.get(M.slideNumber);if(B=F.find(N=>!D.has(N.url))||null,!B&&F.length>0){const N=P%F.length;B=F[N]}}if(!B){const F=(M.title||M.description||"").toLowerCase().split(" ");B=h.find(N=>{if(D.has(N.url))return!1;const L=N.title.toLowerCase().split(" ");return F.some(U=>U.length>3&&L.some(Q=>Q.includes(U)))})||null}if(B||(B=h.find(F=>!D.has(F.url))||null),!B&&h.length>0){const F=P%h.length;B=h[F]}B&&D.add(B.url);const $={url:(B==null?void 0:B.url)||(M.url&&M.url.trim()?M.url:p(M.title||"Image")),title:(B==null?void 0:B.title)||M.title||M.description||"Detected Image"};return console.log("Enhanced image with upload:",{...$,url:$.url.substring(0,100)+"...",isUploaded:!!B,imageIndex:P,originalSlideNumber:M.slideNumber,matchedSlideNumber:B==null?void 0:B.slideNumber,matchStrategy:B?B.slideNumber===M.slideNumber?"slideNumber":$.title.includes(M.title||"")?"title":"sequential":"placeholder",usedCount:D.size,totalAvailable:h.length}),$}))||[];return console.log(`Enhanced ${S.length} images for material (${h.length} uploaded, ${D.size} used)`),S},b=x=>{var C;return{id:zo(),title:x.title,content:x.content,images:g(x.images||[]),links:x.links||[],subsections:((C=x.subsections)==null?void 0:C.map(v))||[]}},v=x=>{var C;return{id:zo(),title:x.title,content:x.content,images:g(x.images||[]),links:x.links||[],subSubsections:((C=x.subSubsections)==null?void 0:C.map(y))||[]}},y=x=>({id:zo(),title:x.title,content:x.content,images:g(x.images||[]),links:x.links||[]});return{course:n,title:r.title,header:r.header||{title:"",content:""},footer:r.footer||{title:"",content:""},sections:((k=r.sections)==null?void 0:k.map(b))||[],author:o,published:!1,scheduledTimestamp:null}}}let G0=null;const FA=t=>{const r=t||"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0";if(!G0&&r&&(G0=new OK(r)),!G0)throw new Error("Material Import service not initialized. Please configure VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.");return G0},jK=async t=>{try{const r=await Ki(()=>import("./pdf-DQ7craWA.js"),[]),n="/nexlab";r.GlobalWorkerOptions.workerSrc=`${n}/js/pdf.worker.min.js`;const o=await t.arrayBuffer(),s=await r.getDocument({data:o}).promise,l=s.numPages;let d="";for(let h=1;h<=l;h++){const b=(await(await s.getPage(h)).getTextContent()).items.filter(v=>v&&typeof v.str=="string").map(v=>v.str).join(" ").trim();b&&(d+=b+`

`)}return{text:d.trim(),metadata:{pageCount:l,wordCount:d.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"PDF.js"}}}catch(r){throw{message:"Failed to extract text from PDF file. Please ensure the PDF contains selectable text.",code:"PDF_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},LK=async t=>{try{const r=await Ki(()=>import("./index-CxUF1Sdq.js").then(s=>s.i),__vite__mapDeps([0,1])),n=await t.arrayBuffer(),o=await r.extractRawText({arrayBuffer:n});return o.messages&&o.messages.length>0&&console.warn("DOCX extraction warnings:",o.messages),{text:o.value.trim(),metadata:{wordCount:o.value.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"Mammoth"}}}catch(r){throw{message:"Failed to extract text from Word document. Please ensure the file is not corrupted.",code:"DOCX_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},BK=async t=>{var r,n;try{const o=(await Ki(async()=>{const{default:v}=await import("./index-DlpswmMY.js").then(y=>y.i);return{default:v}},__vite__mapDeps([2,1]))).default,s=await t.arrayBuffer(),l=new o(s);let d="",h=0;const p=[],g=Object.keys(l.files).filter(v=>v.startsWith("ppt/slides/slide")&&v.endsWith(".xml"));h=g.length;for(const v of g)try{const y=l.files[v].asText(),k=parseInt(((r=v.match(/slide(\d+)\.xml/))==null?void 0:r[1])||"0"),x=y.matchAll(/<a:blip[^>]*r:embed="([^"]*)"[^>]*>/g);for(const S of x){const M=S[1],P=y.match(new RegExp('<p:cNvPr[^>]*name="([^"]*)"[^>]*>',"i")),B=y.match(new RegExp('<p:cNvPr[^>]*descr="([^"]*)"[^>]*>',"i")),$=y.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();let F=`Image on slide ${k}`;const N=["chart","graph","diagram","figure","table","photo","image","illustration","screenshot","logo","flowchart","timeline","comparison","data","results","example","structure","process"],L=$.toLowerCase().split(/\s+/),U=N.filter(H=>L.some(z=>z.includes(H)));if(U.length>0)F=`${U[0].charAt(0).toUpperCase()+U[0].slice(1)} (Slide ${k})`;else if($.length>0){const H=L.slice(0,3).join(" ");H.length>5&&(F=`Image: ${H}... (Slide ${k})`)}let Q;try{const H=`ppt/slides/_rels/slide${k}.xml.rels`;if(l.files[H]){const G=l.files[H].asText().match(new RegExp(`Id="${M}"[^>]*Target="([^"]*)"`,"i"));if(G){const R=G[1],ne=R.startsWith("../")?`ppt/${R.substring(3)}`:`ppt/slides/${R}`;if(l.files[ne]){const ue=l.files[ne].asUint8Array();let ie="image/jpeg";const oe=ne.toLowerCase();if(oe.includes(".png"))ie="image/png";else if(oe.includes(".gif"))ie="image/gif";else if(oe.includes(".bmp"))ie="image/bmp";else if(oe.includes(".webp"))ie="image/webp";else if(oe.includes(".emf")||oe.includes(".wmf")){console.warn(`Skipping unsupported vector image format: ${ne}`);continue}Q=new Blob([ue],{type:ie}),console.log(`Extracted image blob for slide ${k}:`,{size:Q.size,type:ie,path:ne})}}}}catch(H){console.warn(`Failed to extract image blob for ${M} on slide ${k}:`,H)}p.push({slideNumber:k,description:(P==null?void 0:P[1])||F,altText:(B==null?void 0:B[1])||void 0,filename:M,embedId:M,imageBlob:Q})}const C=y.replace(/<a:t[^>]*>(.*?)<\/a:t>/g,"$1 ").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();C&&(d+=`
--- Slide ${k} ---
${C}
`);const D=p.filter(S=>S.slideNumber===k);D.length>0&&(d+=`
[IMAGES ON SLIDE ${k}]: `,D.forEach(S=>{d+=`"${S.description}"${S.altText?` (${S.altText})`:""}, `}),d=d.slice(0,-2)+`
`)}catch(y){console.warn(`Failed to extract text from ${v}:`,y)}const b=Object.keys(l.files).filter(v=>v.startsWith("ppt/notesSlides/notesSlide")&&v.endsWith(".xml"));for(const v of b)try{const k=l.files[v].asText().replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();if(k){const x=((n=v.match(/notesSlide(\d+)\.xml/))==null?void 0:n[1])||"unknown";d+=`
--- Notes for Slide ${x} ---
${k}
`}}catch(y){console.warn(`Failed to extract notes from ${v}:`,y)}if(!d.trim())throw new Error("No text content found in PowerPoint file");return{text:d.trim(),metadata:{slideCount:h,wordCount:d.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"PizZip",images:p.length>0?p:void 0}}}catch(o){throw{message:"Failed to extract text from PowerPoint file. Please ensure the file is not corrupted and contains text content.",code:"PPTX_EXTRACTION_ERROR",originalError:o instanceof Error?o:new Error(String(o))}}},RK=async t=>{try{const r=await t.text();return{text:r.trim(),metadata:{wordCount:r.trim().split(/\s+/).length,fileSize:t.size,extractionMethod:"Native"}}}catch(r){throw{message:"Failed to extract text from text file",code:"TXT_EXTRACTION_ERROR",originalError:r instanceof Error?r:new Error(String(r))}}},pO=async t=>{if(!t)throw{message:"No file provided",code:"NO_FILE_ERROR"};const r=t.type.toLowerCase(),n=t.name.toLowerCase();try{if(r==="application/pdf"||n.endsWith(".pdf"))return await jK(t);if(r==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||n.endsWith(".docx"))return await LK(t);if(r==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||n.endsWith(".pptx"))return await BK(t);if(r==="text/plain"||n.endsWith(".txt"))return await RK(t);throw{message:`Unsupported file format: ${r||"unknown"}. Supported formats: PDF (.pdf), Word (.docx), PowerPoint (.pptx), Text (.txt)`,code:"UNSUPPORTED_FORMAT_ERROR"}}catch(o){throw o&&typeof o=="object"&&"code"in o?o:{message:`Failed to extract text from ${t.name}`,code:"GENERIC_EXTRACTION_ERROR",originalError:o instanceof Error?o:new Error(String(o))}}},mO=t=>{const n=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","text/plain"],o=[".pdf",".docx",".pptx",".txt"];if(t.size>524288e3)return{isValid:!1,error:`File size (${(t.size/1024/1024).toFixed(1)}MB) exceeds the maximum limit of 500MB.`};const s=t.type.toLowerCase(),l=t.name.toLowerCase(),d=n.includes(s),h=o.some(p=>l.endsWith(p));return!d&&!h?{isValid:!1,error:`Unsupported file format. Please upload files with extensions: ${o.join(", ")}`}:{isValid:!0}},gO=t=>{const r=t.type.toLowerCase(),n=t.name.toLowerCase();return r==="application/pdf"||n.endsWith(".pdf")?"PDF Document":r==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||n.endsWith(".docx")?"Word Document":r==="application/vnd.openxmlformats-officedocument.presentationml.presentation"||n.endsWith(".pptx")?"PowerPoint Presentation":r==="text/plain"||n.endsWith(".txt")?"Text File":"Unknown Format"},FK=t=>{const r=t.size/1048576,n=t.type.toLowerCase();let o=0;return n==="application/pdf"?o=Math.max(2,r*.5):n==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?o=Math.max(1,r*.3):n==="application/vnd.openxmlformats-officedocument.presentationml.presentation"?o=Math.max(1.5,r*.4):o=Math.max(.5,r*.1),Math.round(o)};class zK{constructor(){bt(this,"storage",xd());bt(this,"DEFAULT_CHUNK_SIZE",5*1024*1024);bt(this,"DEFAULT_MAX_RETRIES",3);bt(this,"DEFAULT_TIMEOUT",6e4)}async uploadLargeFile(r,n,o={}){const s=Date.now(),{chunkSize:l=this.DEFAULT_CHUNK_SIZE,maxRetries:d=this.DEFAULT_MAX_RETRIES,timeoutMs:h=this.DEFAULT_TIMEOUT,onProgress:p,onChunkComplete:g}=o,b=500*1024*1024;if(r.size>b)throw new Error(`File size (${(r.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`);if(!(r.size>l))return this.uploadStandardFile(r,n,p);console.log(`ðŸš€ Starting chunked upload for ${r.name} (${(r.size/1024/1024).toFixed(1)}MB)`),p==null||p({stage:"preparing",percentage:0,bytesUploaded:0,totalBytes:r.size,currentOperation:"Preparing file for chunked upload..."});const y=this.createChunkMetadata(r,l),k=zo(),x=`${n}_chunks_${k}`;p==null||p({stage:"preparing",percentage:5,totalChunks:y.length,bytesUploaded:0,totalBytes:r.size,currentOperation:`Created ${y.length} chunks for upload...`});try{await this.uploadChunks(r,y,x,{maxRetries:d,timeoutMs:h,onProgress:S=>{const M=this.calculateOverallProgress(y,S);p==null||p({stage:"uploading",percentage:5+M*.85,currentChunk:S.currentChunk,totalChunks:y.length,bytesUploaded:S.bytesUploaded,totalBytes:r.size,currentOperation:S.currentOperation,estimatedTimeRemaining:this.estimateTimeRemaining(s,M)})},onChunkComplete:g}),p==null||p({stage:"assembling",percentage:90,totalChunks:y.length,bytesUploaded:r.size,totalBytes:r.size,currentOperation:"Assembling chunks into final file..."});const C=await this.assembleChunks(r,y,n,k);p==null||p({stage:"completed",percentage:100,totalChunks:y.length,bytesUploaded:r.size,totalBytes:r.size,currentOperation:"Upload completed successfully!"});const D=Date.now()-s;return console.log(`âœ… Chunked upload completed in ${(D/1e3).toFixed(1)}s`),{...C,chunks:y.length,uploadTime:D}}catch(C){throw console.error("âŒ Chunked upload failed:",C),await this.cleanupFailedUpload(y),C}}createChunkMetadata(r,n){const o=[];let s=0;for(;s<r.size;){const l=Math.min(s+n,r.size);o.push({index:o.length,size:l-s,start:s,end:l,retries:0}),s=l}return o}async uploadChunks(r,n,o,s){const{maxRetries:l,timeoutMs:d,onProgress:h,onChunkComplete:p}=s;let g=0;const b=3;for(let v=0;v<n.length;v+=b){const k=n.slice(v,Math.min(v+b,n.length)).map(async x=>{const C=r.slice(x.start,x.end),D=`${o}/chunk_${x.index.toString().padStart(4,"0")}`;let S=null;for(let M=0;M<=l;M++)try{h==null||h({currentChunk:x.index+1,bytesUploaded:g,currentOperation:`Uploading chunk ${x.index+1}/${n.length} (attempt ${M+1})`});const P=await this.uploadSingleChunk(C,D,d);x.uploadUrl=P.url,x.uploadPath=P.path,g+=x.size,p==null||p(x.index,n.length),console.log(`âœ… Chunk ${x.index+1}/${n.length} uploaded successfully`);return}catch(P){S=P,x.retries=M+1,M<l&&(console.warn(`âš ï¸ Chunk ${x.index+1} failed (attempt ${M+1}), retrying...`),await this.delay(Math.pow(2,M)*1e3))}throw new Error(`Failed to upload chunk ${x.index+1} after ${l+1} attempts: ${S==null?void 0:S.message}`)});await Promise.all(k),v+b<n.length&&await this.delay(500)}}async uploadSingleChunk(r,n,o){const s=gl(this.storage,n),l=async()=>{const h=await ud(s,r);return{url:await lu(h.ref),path:h.ref.fullPath}},d=new Promise((h,p)=>{setTimeout(()=>p(new Error(`Chunk upload timeout after ${o}ms`)),o)});return Promise.race([l(),d])}async assembleChunks(r,n,o,s){const l=await this.reconstructFileFromChunks(r,n),d=gl(this.storage,o),h=await ud(d,l),p=await lu(h.ref);return await this.cleanupChunks(n),{url:p,path:h.ref.fullPath,name:r.name,type:r.type,size:r.size,uploadedAt:new Date}}async reconstructFileFromChunks(r,n){const o=[];for(const s of n.sort((l,d)=>l.index-d.index))o.push(r.slice(s.start,s.end));return new Blob(o,{type:r.type})}async uploadStandardFile(r,n,o){const s=Date.now(),l=gl(this.storage,n);o==null||o({stage:"uploading",percentage:10,bytesUploaded:0,totalBytes:r.size,currentOperation:"Uploading file..."});const d=await ud(l,r);o==null||o({stage:"uploading",percentage:90,bytesUploaded:r.size,totalBytes:r.size,currentOperation:"Getting download URL..."});const h=await lu(d.ref);o==null||o({stage:"completed",percentage:100,bytesUploaded:r.size,totalBytes:r.size,currentOperation:"Upload completed!"});const p=Date.now()-s;return{url:h,path:d.ref.fullPath,name:r.name,type:r.type,size:r.size,uploadedAt:new Date,chunks:1,uploadTime:p}}calculateOverallProgress(r,n){const o=r.filter(l=>l.uploadUrl).length,s=n.currentChunk?n.bytesUploaded/r.reduce((l,d)=>l+d.size,0):0;return(o+s)/r.length}estimateTimeRemaining(r,n){if(n<=0)return 0;const o=Date.now()-r,s=o/n;return Math.max(0,s-o)}async cleanupChunks(r){const n=r.filter(o=>o.uploadPath).map(async o=>{try{const s=gl(this.storage,o.uploadPath);await RP(s)}catch(s){console.warn(`Failed to cleanup chunk ${o.index}:`,s)}});await Promise.allSettled(n)}async cleanupFailedUpload(r){console.log("ðŸ§¹ Cleaning up failed chunked upload..."),await this.cleanupChunks(r)}delay(r){return new Promise(n=>setTimeout(n,r))}validateFileForChunkedUpload(r){return r.size>524288e3?{isValid:!1,error:`File size (${(r.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(r.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${r.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const rT=new zK;class UK{constructor(){bt(this,"storage",xd())}async uploadOriginalFile(r,n,o,s){return r.size>26214400?(console.log(`ðŸ”„ File is large (${(r.size/1024/1024).toFixed(1)}MB), using chunked upload`),this.uploadOriginalFileEnhanced(r,n,o,s?d=>s(d.percentage):void 0)):this.uploadOriginalFileStandard(r,n,o,s)}async uploadOriginalFileEnhanced(r,n,o,s){const l=rT.validateFileForChunkedUpload(r);if(!l.isValid)throw new Error(l.error);const d=r.name.split(".").pop()||"",h=o||zo(),p=`${r.name.replace(/\.[^/.]+$/,"")}_${h}.${d}`,g=`original-files/${n}/${p}`;console.log("ðŸš€ Starting enhanced original file upload:",{fileName:p,fileSize:r.size,fileType:r.type,courseId:n,chunked:!0});try{const b=await rT.uploadLargeFile(r,g,{chunkSize:5242880,maxRetries:3,timeoutMs:6e4,onProgress:s,onChunkComplete:(y,k)=>{console.log(`âœ… Chunk ${y+1}/${k} completed`)}}),v={name:r.name,type:r.type,size:r.size,url:b.url,uploadedAt:new Date};return console.log("âœ… Enhanced original file uploaded successfully:",{originalName:r.name,storageName:p,url:b.url,size:r.size,chunks:b.chunks,uploadTime:`${(b.uploadTime/1e3).toFixed(1)}s`}),v}catch(b){throw console.error("âŒ Enhanced original file upload failed:",b),new Error(`Failed to upload original file: ${b instanceof Error?b.message:"Unknown error"}`)}}async uploadOriginalFileStandard(r,n,o,s){try{const l=r.name.split(".").pop()||"",d=o||zo(),h=`${r.name.replace(/\.[^/.]+$/,"")}_${d}.${l}`,p=gl(this.storage,`original-files/${n}/${h}`);console.log("ðŸš€ Starting original file upload:",{fileName:h,fileSize:r.size,fileType:r.type,courseId:n}),s==null||s(10);const g=await ud(p,r);s==null||s(70);const b=await lu(g.ref);s==null||s(100);const v={name:r.name,type:r.type,size:r.size,url:b,uploadedAt:new Date};return console.log("âœ… Original file uploaded successfully:",{originalName:r.name,storageName:h,url:b,size:r.size}),v}catch(l){throw console.error("âŒ Original file upload failed:",l),new Error(`Failed to upload original file: ${l instanceof Error?l.message:"Unknown error"}`)}}async deleteOriginalFile(r){try{const o=new URL(r).pathname.match(/\/o\/(.+?)\?/);if(!o)throw new Error("Invalid Firebase Storage URL format");const s=decodeURIComponent(o[1]),l=gl(this.storage,s);await RP(l),console.log("âœ… Original file deleted successfully:",s)}catch(n){console.error("âŒ Original file deletion failed:",n),console.warn("Continuing despite file deletion failure")}}async replaceOriginalFile(r,n,o,s,l){try{return s&&await this.deleteOriginalFile(s),await this.uploadOriginalFile(r,n,o,l)}catch(d){throw console.error("âŒ Original file replacement failed:",d),new Error(`Failed to replace original file: ${d instanceof Error?d.message:"Unknown error"}`)}}getFileExtension(r){var n;return((n=r.split(".").pop())==null?void 0:n.toLowerCase())||""}validateFile(r){return r.size>524288e3?{isValid:!1,error:`File size (${(r.size/1024/1024).toFixed(1)}MB) exceeds maximum limit of 500MB`}:["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/msword","text/plain"].includes(r.type)?{isValid:!0}:{isValid:!1,error:`Unsupported file type: ${r.type}. Supported formats: PowerPoint, PDF, Word, Text files`}}}const Sv=new UK,iT={isProcessing:!1,progress:null,error:null,uploadedFile:null,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,processingOptions:{maxOutputTokens:4096,topK:1,topP:.1,preserveFormatting:!0,extractImages:!0,extractLinks:!0}},Zh=nb()(D1((t,r)=>({...iT,setUploadedFile:n=>{const{originalFileUrl:o}=r();o&&n&&n.name!==o&&Sv.deleteOriginalFile(o).catch(s=>{console.warn("Failed to delete previous original file:",s)}),t({uploadedFile:n,extractedText:null,extractionResult:null,originalFileUploadProgress:null,originalFileUrl:null,aiExtractedData:null,convertedMaterial:null,error:null})},extractTextFromFile:async()=>{const{uploadedFile:n}=r();if(!n){t({error:"No file uploaded"});return}try{const o=mO(n);if(!o.isValid){t({error:o.error||"Invalid file"});return}}catch(o){console.error("File validation error:",o),t({error:"Failed to validate file"});return}t({isProcessing:!0,error:null,progress:{stage:"extracting",percentage:10,currentOperation:`Extracting text from ${gO(n)}...`}});try{const o=await pO(n);if(!o||!o.text||o.text.trim().length===0)throw new Error("No text content could be extracted from the file");const s=o.text.trim().split(/\s+/).length;s<5&&console.warn("Very short text extracted:",{wordCount:s,text:o.text.substring(0,100)}),t({extractedText:o.text,extractionResult:o,progress:{stage:"extracting",percentage:100,currentOperation:"Text extraction complete!"}}),setTimeout(()=>{t({isProcessing:!1,progress:null})},500)}catch(o){console.error("Text extraction error:",o);const s=o;let l="Failed to extract text from file";s.code==="PDF_EXTRACTION_ERROR"?l="Could not extract text from PDF. The file may be image-based or corrupted.":s.code==="DOCX_EXTRACTION_ERROR"?l="Could not extract text from Word document. Please check the file is not corrupted.":s.code==="PPTX_EXTRACTION_ERROR"?l="Could not extract text from PowerPoint presentation. Please ensure it contains text content.":s.message&&(l=s.message),t({error:l,isProcessing:!1,progress:null})}},processWithAI:async(n,o,s)=>{var b;const{uploadedFile:l,extractedText:d,extractionResult:h,processingOptions:p}=r();if(!(n!=null&&n.trim())){t({error:"Course ID is required for AI processing"});return}if(!(o!=null&&o.trim())){t({error:"Author ID is required for AI processing"});return}if(!l||!(d!=null&&d.trim())){t({error:"No file or extracted text available for AI processing"});return}const g=d.trim().split(/\s+/).length;if(g<10){t({error:"Extracted text is too short for meaningful AI processing (minimum 10 words required)"});return}g>5e4&&console.warn("Very large text content detected:",{wordCount:g,fileName:l.name}),t({isProcessing:!0,error:null,progress:{stage:"analyzing",percentage:0,currentOperation:"Initializing AI processing..."}});try{let v;try{v=FA(s)}catch(S){console.error("Service initialization error:",S);let M="Material import service not available.";S instanceof Error&&(S.message.includes("API key")?M="API key not configured. Please set VITE_GEMINI_MATERIAL_API_KEY or VITE_GEMINI_API_KEY environment variable.":M=`Service error: ${S.message}`),t({error:M,isProcessing:!1,progress:null});return}const y={maxOutputTokens:Math.min(Math.max(p.maxOutputTokens||16384,8192),32768),topK:Math.min(Math.max(p.topK||3,1),10),topP:Math.min(Math.max(p.topP||.9,.1),1),preserveFormatting:!!p.preserveFormatting,extractImages:!!p.extractImages,extractLinks:!!p.extractLinks},k=12e4,x=new Promise((S,M)=>{setTimeout(()=>M(new Error("AI processing timeout - please try with a smaller file")),k)}),C=await Promise.race([v.processMaterialContent(d,l.name,l.type,y,S=>{S&&typeof S=="object"&&t({progress:S})},h==null?void 0:h.metadata),x]);if(!C||typeof C!="object")throw new Error("Invalid AI processing result received");(b=C.title)!=null&&b.trim()||(console.warn("AI result missing title, using filename as fallback"),C.title=l.name.replace(/\.[^/.]+$/,"")||"Untitled Material"),(!C.sections||!Array.isArray(C.sections)||C.sections.length===0)&&(console.warn("AI result missing sections, creating default section"),C.sections=[{title:"Main Content",content:"Content extracted from uploaded material.",subsections:[],images:[],links:[]}]);const D=v.convertToMaterialFormat(C,n,o,h==null?void 0:h.metadata);t({aiExtractedData:C,convertedMaterial:D,isProcessing:!1,progress:{stage:"complete",percentage:100,currentOperation:"Material processing complete!"}}),setTimeout(()=>{t({progress:null})},1500)}catch(v){console.error("AI processing error:",v);let y="Failed to process material with AI";v instanceof Error&&(v.message.includes("timeout")?y="AI processing timed out. Please try with a smaller file or simpler content.":v.message.includes("API key")||v.message.includes("API_KEY_INVALID")?y="Invalid API key. Please check your API key configuration.":v.message.includes("RATE_LIMIT")||v.message.includes("rate limit")?y="API rate limit exceeded. Please wait a few minutes before trying again.":v.message.includes("SAFETY")||v.message.includes("safety")?y="Content flagged by safety filters. Please try with different content.":v.message.includes("network")||v.message.includes("fetch")?y="Network error. Please check your internet connection and try again.":y=`AI processing failed: ${v.message}`),t({error:y,isProcessing:!1,progress:null})}},uploadOriginalFile:async(n,o)=>{const{uploadedFile:s}=r();if(!s){t({error:"No file selected for upload"});return}try{t({originalFileUploadProgress:0,error:null});const l=s.size>25*1024*1024,d=(s.size/1024/1024).toFixed(1);console.log(`ðŸš€ Starting original file upload to Firebase Storage... (${d}MB, ${l?"chunked":"standard"} upload)`);const h=await Sv.uploadOriginalFile(s,n,o,p=>{t({originalFileUploadProgress:p})});t({originalFileUrl:h.url,originalFileUploadProgress:null}),console.log("âœ… Original file uploaded successfully:",{url:h.url,size:`${d}MB`,method:l?"chunked":"standard"})}catch(l){throw console.error("âŒ Original file upload failed:",l),t({error:l instanceof Error?l.message:"Failed to upload original file",originalFileUploadProgress:null}),l}},replaceOriginalFile:async(n,o,s)=>{const{uploadedFile:l}=r();if(!l){t({error:"No file selected for replacement"});return}try{t({originalFileUploadProgress:0,error:null}),console.log("ðŸ”„ Replacing original file in Firebase Storage...");const d=await Sv.replaceOriginalFile(l,n,o,s,h=>{t({originalFileUploadProgress:h})});t({originalFileUrl:d.url,originalFileUploadProgress:null}),console.log("âœ… Original file replaced successfully:",d.url)}catch(d){throw console.error("âŒ Original file replacement failed:",d),t({error:d instanceof Error?d.message:"Failed to replace original file",originalFileUploadProgress:null}),d}},resetImport:()=>{try{FA().cleanupBlobUrls()}catch(n){console.warn("Failed to cleanup blob URLs during reset:",n)}t(iT)},setProcessingOptions:n=>{t(o=>({processingOptions:{...o.processingOptions,...n}}))},setError:n=>{t({error:n})}}),{name:"material-import-store",partialize:t=>({processingOptions:t.processingOptions})})),qK=()=>{const t=Zh();return{setUploadedFile:t.setUploadedFile,extractTextFromFile:t.extractTextFromFile,processWithAI:t.processWithAI,resetImport:t.resetImport,setProcessingOptions:t.setProcessingOptions,setError:t.setError}},VK=()=>{const t=Zh();return{isProcessing:t.isProcessing,progress:t.progress,error:t.error,uploadedFile:t.uploadedFile,extractedText:t.extractedText,aiExtractedData:t.aiExtractedData,convertedMaterial:t.convertedMaterial,processingOptions:t.processingOptions}},zA=async(t,r,n,o)=>{const s=Zh.getState(),{aiExtractedData:l,extractionResult:d}=s;if(!l)throw new Error("No AI result available for conversion");return await FA().convertToMaterialFormatWithImageUpload(l,t,r,n,d==null?void 0:d.metadata,o)},$K=()=>{const{extractedText:t,isProcessing:r}=Zh();return!r&&!!(t!=null&&t.trim())},HK=()=>{const{convertedMaterial:t,isProcessing:r}=Zh();return!r&&!!t},lye=Object.freeze(Object.defineProperty({__proto__:null,convertMaterialWithImageUpload:zA,useIsImportComplete:HK,useIsReadyForAI:$K,useMaterialImportActions:qK,useMaterialImportStatus:VK,useMaterialImportStore:Zh},Symbol.toStringTag,{value:"Module"})),Ev=({onDelete:t,itemType:r})=>{const[n,o]=at.useState(!1),s=()=>{o(!0)},l=()=>{o(!1)},d=()=>{t(),l()};return A.jsxs(A.Fragment,{children:[A.jsx(Ln,{onClick:s,size:"small",children:A.jsx(Ks,{})}),A.jsxs(Qi,{open:n,onClose:l,children:[A.jsx(Ji,{children:`Delete ${r}`}),A.jsx(Zi,{children:A.jsx(Ts,{children:`Are you sure you want to delete this ${r}? This action cannot be undone.`})}),A.jsxs(Xi,{children:[A.jsx(kt,{onClick:l,color:"primary",children:"Cancel"}),A.jsx(kt,{onClick:d,color:"secondary",children:"Delete"})]})]})]})},bO=({sections:t,selected:r,onAddSection:n,onAddSubsection:o,onAddSubSubsection:s,onSelectSection:l,onUpdateSectionTitle:d,onUpdateSubsectionTitle:h,onUpdateSubSubsectionTitle:p,onDeleteSection:g,onDeleteSubsection:b,onDeleteSubSubsection:v,isViewMode:y})=>{const[k,x]=Y.useState(null),[C,D]=Y.useState(null),[S,M]=Y.useState(null),[P,B]=Y.useState(""),[$,F]=Y.useState(t.map(()=>!0)),[N,L]=Y.useState(t.reduce((ie,oe,ye)=>(ie[ye]=oe.subsections.map(()=>!0),ie),{}));Y.useEffect(()=>{F(t.map(()=>!0))},[t]),Y.useEffect(()=>{const ie=t.reduce((oe,ye,re)=>(oe[re]=ye.subsections.map(()=>!0),oe),{});L(ie)},[t]);const U=ie=>{const oe=[...$];oe[ie]=!oe[ie],F(oe)},Q=(ie,oe)=>{const ye={...N};ye[ie][oe]=!ye[ie][oe],L(ye)},H=(ie,oe)=>{k!==null?d(k,P):C?h(C.section,C.subsection,P):S&&p(S.section,S.subsection,S.subSubsection,P),x(ie),D(null),M(null),B(oe)},z=ie=>{d(ie,P),x(null),B("")},G=(ie,oe,ye)=>{k!==null?d(k,P):C?h(C.section,C.subsection,P):S&&p(S.section,S.subsection,S.subSubsection,P),x(null),D({section:ie,subsection:oe}),M(null),B(ye)},R=(ie,oe)=>{h(ie,oe,P),D(null),B("")},ne=(ie,oe,ye,re)=>{k!==null?d(k,P):C?h(C.section,C.subsection,P):S&&p(S.section,S.subsection,S.subSubsection,P),x(null),D(null),M({section:ie,subsection:oe,subSubsection:ye}),B(re)},ue=(ie,oe,ye)=>{p(ie,oe,ye,P),M(null),B("")};return A.jsxs(Pe,{sx:{width:"450px",borderRight:"1px solid #ddd",padding:2},children:[A.jsx(je,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Outline"}),!y&&A.jsx(kt,{variant:"contained",color:"primary",onClick:n,sx:{mb:2},children:"+ Add Section"}),A.jsxs(mk,{children:[A.jsx(ap,{component:"div",onClick:()=>l("header"),sx:{backgroundColor:r.type==="header"?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:A.jsx(lp,{primary:"Header"})}),t.map((ie,oe)=>A.jsxs(Pe,{children:[A.jsxs(ap,{component:"div",onClick:()=>l(oe),sx:{backgroundColor:r.sectionIndex===oe&&r.subsectionIndex===void 0?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[k===oe?A.jsxs(A.Fragment,{children:[A.jsx(Jt,{value:P,onChange:ye=>B(ye.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&A.jsx(Ln,{onClick:()=>z(oe),size:"small",children:A.jsx(gk,{})})]}):A.jsxs(A.Fragment,{children:[A.jsx(lp,{primary:ie.title}),!y&&A.jsxs(A.Fragment,{children:[A.jsx(Ln,{onClick:()=>H(oe,ie.title),size:"small",children:A.jsx(kl,{})}),A.jsx(Ev,{onDelete:()=>g(oe),itemType:"section"})]})]}),ie.subsections.length>0&&A.jsx(Ln,{onClick:()=>U(oe),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:$[oe]?A.jsx(Uk,{sx:{fontSize:"20px"}}):A.jsx(_s,{sx:{fontSize:"20px"}})}),!y&&A.jsx(kt,{variant:"text",onClick:()=>o(oe),size:"small",children:"+ Add Subsection"})]}),$[oe]&&A.jsx(mk,{sx:{pl:4},children:ie.subsections.map((ye,re)=>A.jsxs(Pe,{children:[A.jsxs(ap,{component:"div",onClick:()=>l(oe,re),sx:{backgroundColor:r.sectionIndex===oe&&r.subsectionIndex===re&&r.subSubsectionIndex===void 0?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:[C&&C.section===oe&&C.subsection===re?A.jsxs(A.Fragment,{children:[A.jsx(Jt,{value:P,onChange:Ce=>B(Ce.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&A.jsx(Ln,{onClick:()=>R(oe,re),size:"small",children:A.jsx(gk,{})})]}):A.jsxs(A.Fragment,{children:[A.jsx(lp,{primary:ye.title}),!y&&A.jsxs(A.Fragment,{children:[A.jsx(Ln,{onClick:()=>G(oe,re,ye.title),size:"small",children:A.jsx(kl,{})}),A.jsx(Ev,{onDelete:()=>b(oe,re),itemType:"subsection"})]})]}),ye.subSubsections.length>0&&A.jsx(Ln,{onClick:()=>Q(oe,re),sx:{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"transparent"},width:"24px",height:"24px"},children:N[oe][re]?A.jsx(Uk,{sx:{fontSize:"20px"}}):A.jsx(_s,{sx:{fontSize:"20px"}})}),!y&&A.jsx(kt,{variant:"text",onClick:()=>s(oe,re),size:"small",children:"+ Add Sub-Subsection"})]}),N[oe][re]&&A.jsx(mk,{sx:{pl:4},children:ye.subSubsections.map((Ce,X)=>A.jsx(ap,{component:"div",onClick:()=>l(oe,re,X),sx:{backgroundColor:r.sectionIndex===oe&&r.subsectionIndex===re&&r.subSubsectionIndex===X?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:S&&S.section===oe&&S.subsection===re&&S.subSubsection===X?A.jsxs(A.Fragment,{children:[A.jsx(Jt,{value:P,onChange:J=>B(J.target.value),size:"small",sx:{mr:1},disabled:y}),!y&&A.jsx(Ln,{onClick:()=>ue(oe,re,X),size:"small",children:A.jsx(gk,{})})]}):A.jsxs(A.Fragment,{children:[A.jsx(lp,{primary:Ce.title}),!y&&A.jsxs(A.Fragment,{children:[A.jsx(Ln,{onClick:()=>ne(oe,re,X,Ce.title),size:"small",children:A.jsx(kl,{})}),A.jsx(Ev,{onDelete:()=>v(oe,re,X),itemType:"subSubsection"})]})]})},Ce.id))})]},ye.id))})]},ie.id)),A.jsx(ap,{component:"div",onClick:()=>l("footer"),sx:{backgroundColor:r.type==="footer"?"lightgray":"transparent",cursor:"pointer","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:A.jsx(lp,{primary:"Footer"})})]})]})},kO=({returnToSelection:t=!1})=>{const r=Wr(),[n]=E1(),o=n.get("course"),s=()=>{r(t||!o?"/supplemental-materials":`/supplemental-materials?course=${o}`)};return A.jsx(kt,{variant:"text",color:"primary",startIcon:A.jsx(_P,{}),onClick:s,className:"supplemental-back-button",children:t?"Course Selection":"Course Materials"})},WK=({sectionId:t,onImagesUploaded:r})=>{const[n,o]=Y.useState(!1),[s,l]=Y.useState(""),[d,h]=Y.useState("success"),p=xd(),g=async y=>{if(y.target.files){const k=Array.from(y.target.files),x=[];for(const C of k)try{const D=await b(C),S=await v(D);x.push({url:S.url,title:`Image ${zo()}`})}catch{l("Failed to upload images"),h("error"),o(!0)}r(x),l("Image(s) uploaded successfully"),h("success"),o(!0)}},b=y=>new Promise((k,x)=>{y.size>5*1024*1024?fO.imageFileResizer(y,500,500,"JPEG",70,0,C=>{typeof C=="string"?x(new Error("Compression returned a string instead of a file")):k(C)},"file"):k(y)}),v=y=>new Promise((k,x)=>{const C=gl(p,`materials/${t}/${y.name}`);ud(C,y).then(D=>{lu(D.ref).then(S=>{k({url:S,path:D.ref.fullPath})})}).catch(D=>x(D))});return A.jsxs(Pe,{children:[A.jsxs(Pe,{sx:{mt:2,display:"flex",alignItems:"center"},children:[A.jsx(EW,{sx:{mr:1}}),A.jsx(je,{variant:"h6",children:"Images"})]}),A.jsxs(Pe,{sx:{mt:2},children:[A.jsxs(kt,{variant:"contained",component:"label",color:"primary",children:["Add Image",A.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:g})]}),A.jsx(cs,{open:n,autoHideDuration:6e3,onClose:()=>o(!1),children:A.jsx(br,{onClose:()=>o(!1),severity:d,sx:{width:"100%"},children:s})})]})]})},GK=({imageTitle:t,onTitleChange:r})=>A.jsx(Jt,{variant:"outlined",fullWidth:!0,value:t,onChange:n=>r(n.target.value),placeholder:"Image Title",sx:{mt:1}}),YK=({links:t,onLinksChange:r})=>{const n=()=>{const s={title:"",url:"",description:""};r([...t,s])},o=s=>{const l=t.filter((d,h)=>h!==s);r(l)};return A.jsxs(Pe,{children:[A.jsxs(Pe,{sx:{mt:2,display:"flex",alignItems:"center"},children:[A.jsx(DW,{sx:{mr:1}}),A.jsx(je,{variant:"h6",children:"Links"})]}),A.jsx(Pe,{sx:{mt:1},children:t.map((s,l)=>A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",mb:1},children:[A.jsx(Jt,{label:"Title",value:s.title,onChange:d=>{const h=[...t];h[l].title=d.target.value,r(h)},sx:{flexBasis:"20%",mr:1}}),A.jsx(Jt,{label:"URL",value:s.url,onChange:d=>{const h=[...t];h[l].url=d.target.value,r(h)},sx:{flexBasis:"40%",mr:1}}),A.jsx(Jt,{label:"Description",value:s.description,onChange:d=>{const h=[...t];h[l].description=d.target.value,r(h)},sx:{flexBasis:"40%"}}),A.jsx(Ln,{onClick:()=>o(l),children:A.jsx(Ks,{})})]},l))}),A.jsx(kt,{variant:"contained",onClick:n,sx:{mt:2},children:"Add Link"})]})};var Dv={exports:{}};/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class nC{constructor(r){bt(this,"crashes",[]);bt(this,"state","initializing");bt(this,"_crashNumberLimit");bt(this,"_now",Date.now);bt(this,"_minimumNonErrorTimePeriod");bt(this,"_boundErrorHandler");bt(this,"_listeners");if(this.crashes=[],this._crashNumberLimit=typeof r.crashNumberLimit=="number"?r.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof r.minimumNonErrorTimePeriod=="number"?r.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=n=>{const o="error"in n?n.error:n.reason;o instanceof Error&&this._handleError(o,n)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(r,n){this._listeners[r]||(this._listeners[r]=[]),this._listeners[r].push(n)}off(r,n){this._listeners[r]=this._listeners[r].filter(o=>o!==n)}_fire(r,...n){const o=this._listeners[r]||[];for(const s of o)s.apply(this,[null,...n])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(r,n){if(this._shouldReactToError(r)){this.crashes.push({message:r.message,stack:r.stack,filename:n instanceof ErrorEvent?n.filename:void 0,lineno:n instanceof ErrorEvent?n.lineno:void 0,colno:n instanceof ErrorEvent?n.colno:void 0,date:this._now()});const o=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:r,causesRestart:o}),o?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(r){return r.is&&r.is("CKEditorError")&&r.context!==void 0&&r.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(r)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;const r=this.crashes[this.crashes.length-1].date,n=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(r-n)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function KK(t){return t==null||typeof t!="object"&&typeof t!="function"}function QK(t){return Object.getOwnPropertySymbols(t).filter(r=>Object.prototype.propertyIsEnumerable.call(t,r))}function JK(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const ZK="[object RegExp]",wO="[object String]",yO="[object Number]",vO="[object Boolean]",AO="[object Arguments]",XK="[object Symbol]",eQ="[object Date]",tQ="[object Map]",nQ="[object Set]",rQ="[object Array]",iQ="[object ArrayBuffer]",oQ="[object Object]",sQ="[object DataView]",aQ="[object Uint8Array]",lQ="[object Uint8ClampedArray]",cQ="[object Uint16Array]",uQ="[object Uint32Array]",dQ="[object Int8Array]",hQ="[object Int16Array]",fQ="[object Int32Array]",pQ="[object Float32Array]",mQ="[object Float64Array]";function gQ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function bQ(t,r){return fp(t,void 0,t,new Map,r)}function fp(t,r,n,o=new Map,s=void 0){const l=s==null?void 0:s(t,r,n,o);if(l!=null)return l;if(KK(t))return t;if(o.has(t))return o.get(t);if(Array.isArray(t)){const d=new Array(t.length);o.set(t,d);for(let h=0;h<t.length;h++)d[h]=fp(t[h],h,n,o,s);return Object.hasOwn(t,"index")&&(d.index=t.index),Object.hasOwn(t,"input")&&(d.input=t.input),d}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const d=new RegExp(t.source,t.flags);return d.lastIndex=t.lastIndex,d}if(t instanceof Map){const d=new Map;o.set(t,d);for(const[h,p]of t)d.set(h,fp(p,h,n,o,s));return d}if(t instanceof Set){const d=new Set;o.set(t,d);for(const h of t)d.add(fp(h,void 0,n,o,s));return d}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(gQ(t)){const d=new(Object.getPrototypeOf(t)).constructor(t.length);o.set(t,d);for(let h=0;h<t.length;h++)d[h]=fp(t[h],h,n,o,s);return d}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const d=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return o.set(t,d),Ah(d,t,n,o,s),d}if(typeof File<"u"&&t instanceof File){const d=new File([t],t.name,{type:t.type});return o.set(t,d),Ah(d,t,n,o,s),d}if(t instanceof Blob){const d=new Blob([t],{type:t.type});return o.set(t,d),Ah(d,t,n,o,s),d}if(t instanceof Error){const d=new t.constructor;return o.set(t,d),d.message=t.message,d.name=t.name,d.stack=t.stack,d.cause=t.cause,Ah(d,t,n,o,s),d}if(typeof t=="object"&&kQ(t)){const d=Object.create(Object.getPrototypeOf(t));return o.set(t,d),Ah(d,t,n,o,s),d}return t}function Ah(t,r,n=t,o,s){const l=[...Object.keys(r),...QK(r)];for(let d=0;d<l.length;d++){const h=l[d],p=Object.getOwnPropertyDescriptor(t,h);(p==null||p.writable)&&(t[h]=fp(r[h],h,n,o,s))}}function kQ(t){switch(JK(t)){case AO:case rQ:case iQ:case sQ:case vO:case eQ:case pQ:case mQ:case dQ:case hQ:case fQ:case tQ:case yO:case oQ:case ZK:case nQ:case wO:case XK:case aQ:case lQ:case cQ:case uQ:return!0;default:return!1}}function wQ(t,r){return bQ(t,(n,o,s,l)=>{const d=r==null?void 0:r(n,o,s,l);if(d!=null)return d;if(typeof t=="object")switch(Object.prototype.toString.call(t)){case yO:case wO:case vO:{const h=new t.constructor(t==null?void 0:t.valueOf());return Ah(h,t),h}case AO:{const h={};return Ah(h,t),h.length=t.length,h[Symbol.iterator]=t[Symbol.iterator],h}default:return}})}function yQ(t){return typeof t=="object"&&t!==null}function vQ(t,r,{signal:n,edges:o}={}){let s,l=null;const d=o!=null&&o.includes("leading"),h=o==null||o.includes("trailing"),p=()=>{l!==null&&(t.apply(s,l),s=void 0,l=null)},g=()=>{h&&p(),k()};let b=null;const v=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},y=()=>{b!==null&&(clearTimeout(b),b=null)},k=()=>{y(),s=void 0,l=null},x=()=>{y(),p()},C=function(...D){if(n!=null&&n.aborted)return;s=this,l=D;const S=b==null;v(),d&&S&&p()};return C.schedule=v,C.cancel=k,C.flush=x,n==null||n.addEventListener("abort",k,{once:!0}),C}function AQ(t,r=0,n={}){typeof n!="object"&&(n={});const{leading:o=!1,trailing:s=!0,maxWait:l}=n,d=Array(2);o&&(d[0]="leading"),s&&(d[1]="trailing");let h,p=null;const g=vQ(function(...y){h=t.apply(this,y),p=null},r,{edges:d}),b=function(...y){return l!=null&&(p===null&&(p=Date.now()),Date.now()-p>=l)?(h=t.apply(this,y),p=Date.now(),g.cancel(),g.schedule(),h):(g.apply(this,y),h)},v=()=>(g.flush(),h);return b.cancel=g.cancel,b.flush=v,b}function _Q(t,r=0,n={}){typeof n!="object"&&(n={});const{leading:o=!0,trailing:s=!0}=n;return AQ(t,r,{leading:o,trailing:s,maxWait:r})}function CQ(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const o=t[Symbol.toStringTag];return o==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${o}]`}let r=t;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}function oT(t){return yQ(t)&&t.nodeType===1&&!CQ(t)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function UA(t,r=new Set){const n=[t],o=new Set;let s=0;for(;n.length>s;){const l=n[s++];if(!(o.has(l)||!xQ(l)||r.has(l)))if(o.add(l),Symbol.iterator in l)try{for(const d of l)n.push(d)}catch{}else for(const d in l)d!=="defaultValue"&&n.push(l[d])}return o}function xQ(t){const r=Object.prototype.toString.call(t),n=typeof t;return!(n==="number"||n==="boolean"||n==="string"||n==="symbol"||n==="function"||r==="[object Date]"||r==="[object RegExp]"||r==="[object Module]"||t===void 0||t===null||t._watchdogExcluded||t instanceof EventTarget||t instanceof Event)}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function _O(t,r,n=new Set){if(t===r&&SQ(t))return!0;const o=UA(t,n),s=UA(r,n);for(const l of o)if(s.has(l))return!0;return!1}function SQ(t){return typeof t=="object"&&t!==null}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class CO extends nC{constructor(n,o={}){super(o);bt(this,"_editor",null);bt(this,"_lifecyclePromise",null);bt(this,"_throttledSave");bt(this,"_data");bt(this,"_lastDocumentVersion");bt(this,"_elementOrData");bt(this,"_initUsingData",!0);bt(this,"_editables",{});bt(this,"_config");bt(this,"_excludedProps");this._throttledSave=_Q(this._save.bind(this),typeof o.saveInterval=="number"?o.saveInterval:5e3),n&&(this._creator=(s,l)=>n.create(s,l)),this._destructor=s=>s.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(n=>{console.error("An error happened during the editor destroying.",n)}).then(()=>{const n={},o=[],s=this._config.rootsAttributes||{},l={};for(const[h,p]of Object.entries(this._data.roots))p.isLoaded?(n[h]="",l[h]=s[h]||{}):o.push(h);const d={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:o,rootsAttributes:l,_watchdogInitialData:this._data};return delete d.initialData,d.extraPlugins.push(EQ),this._initUsingData?this.create(n,d,d.context):oT(this._elementOrData)?this.create(this._elementOrData,d,d.context):this.create(this._editables,d,d.context)}).then(()=>{this._fire("restart")})}create(n=this._elementOrData,o=this._config,s){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=n,this._initUsingData=typeof n=="string"||Object.keys(n).length>0&&typeof Object.values(n)[0]=="string",this._config=this._cloneEditorConfiguration(o)||{},this._config.context=s,this._creator(n,this._config))).then(l=>{this._editor=l,l.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=l.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const n=this._editor;return this._editor=null,n.model.document.off("change:data",this._throttledSave),this._destructor(n)})}_save(){const n=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=n}catch(o){console.error(o,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(n){this._excludedProps=n}_getData(){const n=this._editor,o=n.model.document.roots.filter(p=>p.isAttached()&&p.rootName!="$graveyard"),{plugins:s}=n,l=s.has("CommentsRepository")&&s.get("CommentsRepository"),d=s.has("TrackChanges")&&s.get("TrackChanges"),h={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};o.forEach(p=>{h.roots[p.rootName]={content:JSON.stringify(Array.from(p.getChildren())),attributes:JSON.stringify(Array.from(p.getAttributes())),isLoaded:p._isLoaded}});for(const p of n.model.markers)p._affectsData&&(h.markers[p.name]={rangeJSON:p.getRange().toJSON(),usingOperation:p._managedUsingOperations,affectsData:p._affectsData});return l&&(h.commentThreads=JSON.stringify(l.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),d&&(h.suggestions=JSON.stringify(d.getSuggestions({toJSON:!0,skipNotAttached:!0}))),h}_getEditables(){const n={};for(const o of this.editor.model.document.getRootNames()){const s=this.editor.ui.getEditableElement(o);s&&(n[o]=s)}return n}_isErrorComingFromThisItem(n){return _O(this._editor,n.context,this._excludedProps)}_cloneEditorConfiguration(n){return wQ(n,(o,s)=>{if(oT(o)||s==="context")return o})}}class EQ{constructor(r){bt(this,"editor");bt(this,"_data");this.editor=r,this._data=r.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",r=>{r.stop(),this.editor.model.enqueueChange({isUndoable:!1},n=>{this._restoreCollaborationData(),this._restoreEditorData(n)}),this.editor.data.fire("ready")},{priority:999})}_createNode(r,n){if("name"in n){const o=r.createElement(n.name,n.attributes);if(n.children)for(const s of n.children)o._appendChild(this._createNode(r,s));return o}else return r.createText(n.data,n.attributes)}_restoreEditorData(r){const n=this.editor;Object.entries(this._data.roots).forEach(([o,{content:s,attributes:l}])=>{const d=JSON.parse(s),h=JSON.parse(l),p=n.model.document.getRoot(o);for(const[g,b]of h)r.setAttribute(g,b,p);for(const g of d){const b=this._createNode(r,g);r.insert(b,p,"end")}}),Object.entries(this._data.markers).forEach(([o,s])=>{const{document:l}=n.model,{rangeJSON:{start:d,end:h},...p}=s,g=l.getRoot(d.root),b=r.createPositionFromPath(g,d.path,d.stickiness),v=r.createPositionFromPath(g,h.path,h.stickiness),y=r.createRange(b,v);r.addMarker(o,{range:y,...p})})}_restoreCollaborationData(){const r=JSON.parse(this._data.commentThreads),n=JSON.parse(this._data.suggestions);r.forEach(o=>{const s=this.editor.config.get("collaboration.channelId"),l=this.editor.plugins.get("CommentsRepository");l.hasCommentThread(o.threadId)&&l.getCommentThread(o.threadId).remove(),l.addCommentThread({channelId:s,...o})}),n.forEach(o=>{const s=this.editor.plugins.get("TrackChangesEditing");if(s.hasSuggestion(o.id)){const l=s.getSuggestion(o.id);l.attributes=o.attributes}else s.addSuggestionData(o)})}}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const Ag=Symbol("MainQueueId");class DQ extends nC{constructor(n,o={}){super(o);bt(this,"_watchdogs",new Map);bt(this,"_watchdogConfig");bt(this,"_context",null);bt(this,"_contextProps",new Set);bt(this,"_actionQueues",new IQ);bt(this,"_contextConfig");bt(this,"_item");this._watchdogConfig=o,this._creator=s=>n.create(s),this._destructor=s=>s.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(n){this._creator=n}setDestructor(n){this._destructor=n}get context(){return this._context}create(n={}){return this._actionQueues.enqueue(Ag,()=>(this._contextConfig=n,this._create()))}getItem(n){return this._getWatchdog(n)._item}getItemState(n){return this._getWatchdog(n).state}add(n){const o=sT(n);return Promise.all(o.map(s=>this._actionQueues.enqueue(s.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let l;if(this._watchdogs.has(s.id))throw new Error(`Item with the given id is already added: '${s.id}'.`);if(s.type==="editor")return l=new CO(null,this._watchdogConfig),l.setCreator(s.creator),l._setExcludedProperties(this._contextProps),s.destructor&&l.setDestructor(s.destructor),this._watchdogs.set(s.id,l),l.on("error",(d,{error:h,causesRestart:p})=>{this._fire("itemError",{itemId:s.id,error:h}),p&&this._actionQueues.enqueue(s.id,()=>new Promise(g=>{const b=()=>{l.off("restart",b),this._fire("itemRestart",{itemId:s.id}),g()};l.on("restart",b)}))}),l.create(s.sourceElementOrData,s.config,this._context);throw new Error(`Not supported item type: '${s.type}'.`)})))}remove(n){const o=sT(n);return Promise.all(o.map(s=>this._actionQueues.enqueue(s,()=>{const l=this._getWatchdog(s);return this._watchdogs.delete(s),l.destroy()})))}destroy(){return this._actionQueues.enqueue(Ag,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Ag,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(n=>{console.error("An error happened during destroying the context or items.",n)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(n=>(this._context=n,this._contextProps=UA(this._context),Promise.all(Array.from(this._watchdogs.values()).map(o=>(o._setExcludedProperties(this._contextProps),o.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const n=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(o=>o.destroy())).then(()=>this._destructor(n))})}_getWatchdog(n){const o=this._watchdogs.get(n);if(!o)throw new Error(`Item with the given id was not registered: ${n}.`);return o}_isErrorComingFromThisItem(n){for(const o of this._watchdogs.values())if(o._isErrorComingFromThisItem(n))return!1;return _O(this._context,n.context)}}class IQ{constructor(){bt(this,"_onEmptyCallbacks",[]);bt(this,"_queues",new Map);bt(this,"_activeActions",0)}onEmpty(r){this._onEmptyCallbacks.push(r)}enqueue(r,n){const o=r===Ag;this._activeActions++,this._queues.get(r)||this._queues.set(r,Promise.resolve());const l=(o?Promise.all(this._queues.values()):Promise.all([this._queues.get(Ag),this._queues.get(r)])).then(n),d=l.catch(()=>{});return this._queues.set(r,d),l.finally(()=>{this._activeActions--,this._queues.get(r)===d&&this._activeActions===0&&this._onEmptyCallbacks.forEach(h=>h())})}}function sT(t){return Array.isArray(t)?t:[t]}/**
 * @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */const TQ=Object.freeze(Object.defineProperty({__proto__:null,ContextWatchdog:DQ,EditorWatchdog:CO,Watchdog:nC},Symbol.toStringTag,{value:"Module"})),NQ=ku(TQ);/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */var aT;function MQ(){return aT||(aT=1,function(t,r){(function(n,o){t.exports=o(dG(),IW(),NQ)})(self,(n,o,s)=>(()=>{var l={546:g=>{g.exports=s},949:g=>{g.exports=o},155:g=>{g.exports=n}},d={};function h(g){var b=d[g];if(b!==void 0)return b.exports;var v=d[g]={exports:{}};return l[g](v,v.exports,h),v.exports}h.n=g=>{var b=g&&g.__esModule?()=>g.default:()=>g;return h.d(b,{a:b}),b},h.d=(g,b)=>{for(var v in b)h.o(b,v)&&!h.o(g,v)&&Object.defineProperty(g,v,{enumerable:!0,get:b[v]})},h.o=(g,b)=>Object.prototype.hasOwnProperty.call(g,b),h.r=g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})};var p={};return(()=>{h.r(p),h.d(p,{CKEditor:()=>M,CKEditorContext:()=>D,useMultiRootEditor:()=>F});var g=h(155),b=h.n(g),v=h(949),y=h.n(v);const k=new Array(256).fill("").map((N,L)=>("0"+L.toString(16)).slice(-2));var x=h(546);const C=b().createContext("contextWatchdog");class D extends b().Component{constructor(L,U){super(L,U),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(L){return this._shouldComponentUpdate(L)}async _shouldComponentUpdate(L){return L.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(L.config)),L.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(L.config),!0):this.props.children!==L.children}render(){return b().createElement(C.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(L){this.contextWatchdog=new x.ContextWatchdog(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(U,Q)=>{this.props.onError(Q.error,{phase:"runtime",willContextRestart:Q.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(L).catch(U=>{this.props.onError(U,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}D.defaultProps={isLayoutReady:!0,onError:(N,L)=>console.error(N,L)},D.propTypes={id:y().string,isLayoutReady:y().bool,context:y().func,watchdogConfig:y().object,config:y().object,onReady:y().func,onError:y().func};const S="Lock from React integration (@ckeditor/ckeditor5-react)";class M extends b().Component{constructor(L){super(L),this.editorDestructionInProgress=null,this.domContainer=b().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:U}=window;if(U){const[Q]=U.split(".").map(Number);Q<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(L){return!!this.editor&&(L.id!==this.props.id||L.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(L)&&this.editor.data.set(L.data),"disabled"in L&&(L.disabled?this.editor.enableReadOnlyMode(S):this.editor.disableReadOnlyMode(S)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return b().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof x.ContextWatchdog?this.watchdog=new P(this.context):this.watchdog=new M._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((L,U)=>this._createEditor(L,U)),this.watchdog.on("error",(L,{error:U,causesRestart:Q})=>{(this.props.onError||console.error)(U,{phase:"runtime",willEditorRestart:Q})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(L=>{(this.props.onError||console.error)(L,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(L,U){return this.props.editor.create(L,U).then(Q=>{"disabled"in this.props&&this.props.disabled&&Q.enableReadOnlyMode(S);const H=Q.model.document,z=Q.editing.view.document;return H.on("change:data",G=>{this.props.onChange&&this.props.onChange(G,Q)}),z.on("focus",G=>{this.props.onFocus&&this.props.onFocus(G,Q)}),z.on("blur",G=>{this.props.onBlur&&this.props.onBlur(G,Q)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(Q)}),Q})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(L=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,L()):this.instance?(await this.instance.destroy(),this.instance=null,L()):void L())})}_shouldUpdateEditor(L){return this.props.data!==L.data&&this.editor.data.get()!==L.data}_getConfig(){const L=this.props.config||{};return this.props.data&&L.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...L,initialData:L.initialData||this.props.data||""}}}M.contextType=C,M.propTypes={editor:y().func.isRequired,data:y().string,config:y().object,disableWatchdog:y().bool,watchdogConfig:y().object,onChange:y().func,onReady:y().func,onFocus:y().func,onBlur:y().func,onError:y().func,disabled:y().bool,id:y().any},M._EditorWatchdog=x.EditorWatchdog;class P{constructor(L){this._contextWatchdog=L,this._id=function(){const U=4294967296*Math.random()>>>0,Q=4294967296*Math.random()>>>0,H=4294967296*Math.random()>>>0,z=4294967296*Math.random()>>>0;return"e"+k[255&U]+k[U>>8&255]+k[U>>16&255]+k[U>>24&255]+k[255&Q]+k[Q>>8&255]+k[Q>>16&255]+k[Q>>24&255]+k[255&H]+k[H>>8&255]+k[H>>16&255]+k[H>>24&255]+k[255&z]+k[z>>8&255]+k[z>>16&255]+k[z>>24&255]}()}setCreator(L){this._creator=L}create(L,U){return this._contextWatchdog.add({sourceElementOrData:L,config:U,creator:this._creator,id:this._id,type:"editor"})}on(L,U){this._contextWatchdog.on("itemError",(Q,{itemId:H,error:z})=>{H===this._id&&U(null,{error:z,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}const B="Lock from React integration (@ckeditor/ckeditor5-react)",$=({editor:N})=>{const L=(0,g.useRef)(null);return(0,g.useEffect)(()=>{const U=L.current;if(!N||!U)return;const Q=N.ui.view.toolbar.element;return U&&U.appendChild(Q),()=>{U&&U.removeChild(Q)}},[N&&N.id]),b().createElement("div",{ref:L})},F=N=>{const L=(0,g.useRef)(null),U=(0,g.useRef)(null),Q=(0,g.useContext)(C),[H,z]=(0,g.useState)(null),[G,R]=(0,g.useState)(N.data),[ne,ue]=(0,g.useState)(N.rootsAttributes||{}),[ie,oe]=(0,g.useState)([]),ye=(0,g.useRef)(!0);(0,g.useEffect)(()=>((async()=>(await U.current,N.isLayoutReady!==!1&&await fe()))(),()=>{J().then(()=>{U.current=null})}),[N.isLayoutReady]),(0,g.useEffect)(()=>{H&&(N.disabled?H.enableReadOnlyMode(B):H.disableReadOnlyMode(B))},[N.disabled]),(0,g.useEffect)(()=>{if(H&&!U.current){const Je=H.getFullData();R({...Je}),ue({...H.getRootsAttributes()}),oe([...Object.keys(Je).map(Ue=>Ce(H,Ue))])}},[H&&H.id]);const re=()=>{const Je=N.config||{};return N.data&&Je.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...Je,rootsAttributes:ne}},Ce=(Je,Ue)=>b().createElement("div",{id:Ue,key:Ue,ref:Z=>{if(Z){const _e=Je.ui.view.createEditable(Ue,Z);Je.ui.addEditable(_e),Je.editing.view.forceRender()}}}),X=(Je,Ue)=>N.editor.create(Je,Ue).then(Z=>{N.disabled&&N.disabled&&Z.enableReadOnlyMode(B);const _e=Z.model.document,he=Z.editing.view.document;return _e.on("change:data",be=>((pe,Ae)=>{const Oe=pe.model.document;if(!N.disableTwoWayDataBinding){const Me={},Ie={};Oe.differ.getChanges().forEach($e=>{let Ke;if(Ke=$e.type=="insert"||$e.type=="remove"?$e.position.root:$e.range.root,!Ke.isAttached())return;const{rootName:qe}=Ke;Me[qe]=pe.getData({rootName:qe})}),Oe.differ.getChangedRoots().forEach($e=>{if($e.state)return void(Me[$e.name]!==void 0&&delete Me[$e.name]);const Ke=$e.name;Ie[Ke]=pe.getRootAttributes(Ke)}),Object.keys(Me).length&&R($e=>({...$e,...Me})),Object.keys(Ie).length&&ue($e=>({...$e,...Ie}))}N.onChange&&N.onChange(Ae,pe)})(Z,be)),Z.on("addRoot",(be,pe)=>((Ae,Oe,Me)=>{const Ie=Me.rootName,$e=Ce(Ae,Ie);N.disableTwoWayDataBinding||(R(Ke=>({...Ke,[Ie]:Ae.getData({rootName:Ie})})),ue(Ke=>({...Ke,[Ie]:Ae.getRootAttributes(Ie)}))),oe(Ke=>[...Ke,$e])})(Z,0,pe)),Z.on("detachRoot",(be,pe)=>((Ae,Oe,Me)=>{const Ie=Me.rootName;oe($e=>$e.filter(Ke=>Ke.props.id!==Ie)),N.disableTwoWayDataBinding||(R($e=>{const{[Ie]:Ke,...qe}=$e;return{...qe}}),ue($e=>{const{[Ie]:Ke,...qe}=$e;return{...qe}})),Ae.detachEditable(Me)})(Z,0,pe)),he.on("focus",be=>{N.onFocus&&N.onFocus(be,Z)}),he.on("blur",be=>{N.onBlur&&N.onBlur(be,Z)}),z(Z),N.onReady&&N.onReady(Z),Z}),J=async()=>{z(null),R({}),ue({}),oe([]),U.current=new Promise(Je=>{setTimeout(async()=>L.current?(await L.current.destroy(),L.current=null,Je()):H?(await H.destroy(),Je()):void Je())})},fe=async()=>{if(N.disableWatchdog)return void await X(N.data,re());if(L.current)return;Q instanceof x.ContextWatchdog?L.current=new P(Q):L.current=new x.EditorWatchdog(N.editor,N.watchdogConfig);const Je=L.current;Je.setCreator((Ue,Z)=>X(Ue,Z)),Je.on("error",(Ue,{error:Z,causesRestart:_e})=>{(N.onError||console.error)(Z,{phase:"runtime",willEditorRestart:_e})}),await Je.create(G,re()).catch(Ue=>{(N.onError||console.error)(Ue,{phase:"initialization",willEditorRestart:!1})})};(0,g.useEffect)(()=>{if(H&&ye.current){ye.current=!1;const Je=Object.keys(G),Ue=Object.keys(ne);if(!Je.every(Oe=>Ue.includes(Oe)))throw new Error("`data` and `attributes` objects must have the same keys (roots).");const Z=H.getFullData(),_e=H.getRootsAttributes(),{addedKeys:he,removedKeys:be}=le(Z,G||{}),pe=Je.some(Oe=>Z[Oe]!==void 0&&JSON.stringify(Z[Oe])!==JSON.stringify(G[Oe])),Ae=Ue.filter(Oe=>JSON.stringify(_e[Oe])!==JSON.stringify(ne[Oe]));H.model.change(Oe=>{ae(he),Se(be),pe&&xe(),Ae.length&&Te(Oe,Ae)})}},[G,ne]);const le=(Je,Ue)=>{const Z=Object.keys(Je),_e=Object.keys(Ue);return{addedKeys:_e.filter(he=>!Z.includes(he)),removedKeys:Z.filter(he=>!_e.includes(he))}},ae=Je=>{Je.forEach(Ue=>{H.addRoot(Ue,{data:G[Ue]||"",attributes:(ne==null?void 0:ne[Ue])||{},isUndoable:!0})})},Se=Je=>{Je.forEach(Ue=>{H.detachRoot(Ue,!0)})},xe=()=>{H.data.set(G,{suppressErrorInCollaboration:!0})},Te=(Je,Ue)=>{Ue.forEach(Z=>{Object.keys(ne[Z]).forEach(_e=>{H.registerRootAttribute(_e)}),Je.clearAttributes(H.model.document.getRoot(Z)),Je.setAttributes(ne[Z],H.model.document.getRoot(Z))})},Ye=(0,g.useCallback)(Je=>{ye.current=!0,R(Je)},[R]),We=(0,g.useCallback)(Je=>{ye.current=!0,ue(Je)},[ue]);return{editor:H,editableElements:ie,toolbarElement:b().createElement($,{editor:H}),data:G,setData:Ye,attributes:ne,setAttributes:We}}})(),p})())}(Dv)),Dv.exports}var xO=MQ(),bg={exports:{}};bg.exports;var lT;function PQ(){return lT||(lT=1,function(t,r){(function(n){const o=n.en=n.en||{};o.dictionary=Object.assign(o.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lowerâ€“roman":"Lowerâ€“roman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerâ€“latin list style":"Toggle the lowerâ€“latin list style","Toggle the lowerâ€“roman list style":"Toggle the lowerâ€“roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperâ€“latin list style":"Toggle the upperâ€“latin list style","Toggle the upperâ€“roman list style":"Toggle the upperâ€“roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(n,o){t.exports=o()}(self,()=>(()=>{var n={9246:(d,h,p)=>{const g=p(6931),b={};for(const y of Object.keys(g))b[g[y]]=y;const v={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};d.exports=v;for(const y of Object.keys(v)){if(!("channels"in v[y]))throw new Error("missing channels property: "+y);if(!("labels"in v[y]))throw new Error("missing channel labels property: "+y);if(v[y].labels.length!==v[y].channels)throw new Error("channel and label counts mismatch: "+y);const{channels:k,labels:x}=v[y];delete v[y].channels,delete v[y].labels,Object.defineProperty(v[y],"channels",{value:k}),Object.defineProperty(v[y],"labels",{value:x})}v.rgb.hsl=function(y){const k=y[0]/255,x=y[1]/255,C=y[2]/255,D=Math.min(k,x,C),S=Math.max(k,x,C),M=S-D;let P,B;S===D?P=0:k===S?P=(x-C)/M:x===S?P=2+(C-k)/M:C===S&&(P=4+(k-x)/M),P=Math.min(60*P,360),P<0&&(P+=360);const $=(D+S)/2;return B=S===D?0:$<=.5?M/(S+D):M/(2-S-D),[P,100*B,100*$]},v.rgb.hsv=function(y){let k,x,C,D,S;const M=y[0]/255,P=y[1]/255,B=y[2]/255,$=Math.max(M,P,B),F=$-Math.min(M,P,B),N=function(L){return($-L)/6/F+.5};return F===0?(D=0,S=0):(S=F/$,k=N(M),x=N(P),C=N(B),M===$?D=C-x:P===$?D=.3333333333333333+k-C:B===$&&(D=.6666666666666666+x-k),D<0?D+=1:D>1&&(D-=1)),[360*D,100*S,100*$]},v.rgb.hwb=function(y){const k=y[0],x=y[1];let C=y[2];const D=v.rgb.hsl(y)[0],S=1/255*Math.min(k,Math.min(x,C));return C=1-.00392156862745098*Math.max(k,Math.max(x,C)),[D,100*S,100*C]},v.rgb.cmyk=function(y){const k=y[0]/255,x=y[1]/255,C=y[2]/255,D=Math.min(1-k,1-x,1-C);return[100*((1-k-D)/(1-D)||0),100*((1-x-D)/(1-D)||0),100*((1-C-D)/(1-D)||0),100*D]},v.rgb.keyword=function(y){const k=b[y];if(k)return k;let x,C=1/0;for(const M of Object.keys(g)){const P=g[M],B=(S=P,((D=y)[0]-S[0])**2+(D[1]-S[1])**2+(D[2]-S[2])**2);B<C&&(C=B,x=M)}var D,S;return x},v.keyword.rgb=function(y){return g[y]},v.rgb.xyz=function(y){let k=y[0]/255,x=y[1]/255,C=y[2]/255;return k=k>.04045?((k+.055)/1.055)**2.4:k/12.92,x=x>.04045?((x+.055)/1.055)**2.4:x/12.92,C=C>.04045?((C+.055)/1.055)**2.4:C/12.92,[100*(.4124*k+.3576*x+.1805*C),100*(.2126*k+.7152*x+.0722*C),100*(.0193*k+.1192*x+.9505*C)]},v.rgb.lab=function(y){const k=v.rgb.xyz(y);let x=k[0],C=k[1],D=k[2];return x/=95.047,C/=100,D/=108.883,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,C=C>.008856?C**.3333333333333333:7.787*C+.13793103448275862,D=D>.008856?D**.3333333333333333:7.787*D+.13793103448275862,[116*C-16,500*(x-C),200*(C-D)]},v.hsl.rgb=function(y){const k=y[0]/360,x=y[1]/100,C=y[2]/100;let D,S,M;if(x===0)return M=255*C,[M,M,M];D=C<.5?C*(1+x):C+x-C*x;const P=2*C-D,B=[0,0,0];for(let $=0;$<3;$++)S=k+.3333333333333333*-($-1),S<0&&S++,S>1&&S--,M=6*S<1?P+6*(D-P)*S:2*S<1?D:3*S<2?P+(D-P)*(.6666666666666666-S)*6:P,B[$]=255*M;return B},v.hsl.hsv=function(y){const k=y[0];let x=y[1]/100,C=y[2]/100,D=x;const S=Math.max(C,.01);return C*=2,x*=C<=1?C:2-C,D*=S<=1?S:2-S,[k,100*(C===0?2*D/(S+D):2*x/(C+x)),100*((C+x)/2)]},v.hsv.rgb=function(y){const k=y[0]/60,x=y[1]/100;let C=y[2]/100;const D=Math.floor(k)%6,S=k-Math.floor(k),M=255*C*(1-x),P=255*C*(1-x*S),B=255*C*(1-x*(1-S));switch(C*=255,D){case 0:return[C,B,M];case 1:return[P,C,M];case 2:return[M,C,B];case 3:return[M,P,C];case 4:return[B,M,C];case 5:return[C,M,P]}},v.hsv.hsl=function(y){const k=y[0],x=y[1]/100,C=y[2]/100,D=Math.max(C,.01);let S,M;M=(2-x)*C;const P=(2-x)*D;return S=x*D,S/=P<=1?P:2-P,S=S||0,M/=2,[k,100*S,100*M]},v.hwb.rgb=function(y){const k=y[0]/360;let x=y[1]/100,C=y[2]/100;const D=x+C;let S;D>1&&(x/=D,C/=D);const M=Math.floor(6*k),P=1-C;S=6*k-M,1&M&&(S=1-S);const B=x+S*(P-x);let $,F,N;switch(M){default:case 6:case 0:$=P,F=B,N=x;break;case 1:$=B,F=P,N=x;break;case 2:$=x,F=P,N=B;break;case 3:$=x,F=B,N=P;break;case 4:$=B,F=x,N=P;break;case 5:$=P,F=x,N=B}return[255*$,255*F,255*N]},v.cmyk.rgb=function(y){const k=y[0]/100,x=y[1]/100,C=y[2]/100,D=y[3]/100;return[255*(1-Math.min(1,k*(1-D)+D)),255*(1-Math.min(1,x*(1-D)+D)),255*(1-Math.min(1,C*(1-D)+D))]},v.xyz.rgb=function(y){const k=y[0]/100,x=y[1]/100,C=y[2]/100;let D,S,M;return D=3.2406*k+-1.5372*x+-.4986*C,S=-.9689*k+1.8758*x+.0415*C,M=.0557*k+-.204*x+1.057*C,D=D>.0031308?1.055*D**.4166666666666667-.055:12.92*D,S=S>.0031308?1.055*S**.4166666666666667-.055:12.92*S,M=M>.0031308?1.055*M**.4166666666666667-.055:12.92*M,D=Math.min(Math.max(0,D),1),S=Math.min(Math.max(0,S),1),M=Math.min(Math.max(0,M),1),[255*D,255*S,255*M]},v.xyz.lab=function(y){let k=y[0],x=y[1],C=y[2];return k/=95.047,x/=100,C/=108.883,k=k>.008856?k**.3333333333333333:7.787*k+.13793103448275862,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,C=C>.008856?C**.3333333333333333:7.787*C+.13793103448275862,[116*x-16,500*(k-x),200*(x-C)]},v.lab.xyz=function(y){let k,x,C;x=(y[0]+16)/116,k=y[1]/500+x,C=x-y[2]/200;const D=x**3,S=k**3,M=C**3;return x=D>.008856?D:(x-.13793103448275862)/7.787,k=S>.008856?S:(k-.13793103448275862)/7.787,C=M>.008856?M:(C-.13793103448275862)/7.787,k*=95.047,x*=100,C*=108.883,[k,x,C]},v.lab.lch=function(y){const k=y[0],x=y[1],C=y[2];let D;return D=360*Math.atan2(C,x)/2/Math.PI,D<0&&(D+=360),[k,Math.sqrt(x*x+C*C),D]},v.lch.lab=function(y){const k=y[0],x=y[1],C=y[2]/360*2*Math.PI;return[k,x*Math.cos(C),x*Math.sin(C)]},v.rgb.ansi16=function(y,k=null){const[x,C,D]=y;let S=k===null?v.rgb.hsv(y)[2]:k;if(S=Math.round(S/50),S===0)return 30;let M=30+(Math.round(D/255)<<2|Math.round(C/255)<<1|Math.round(x/255));return S===2&&(M+=60),M},v.hsv.ansi16=function(y){return v.rgb.ansi16(v.hsv.rgb(y),y[2])},v.rgb.ansi256=function(y){const k=y[0],x=y[1],C=y[2];return k===x&&x===C?k<8?16:k>248?231:Math.round((k-8)/247*24)+232:16+36*Math.round(k/255*5)+6*Math.round(x/255*5)+Math.round(C/255*5)},v.ansi16.rgb=function(y){let k=y%10;if(k===0||k===7)return y>50&&(k+=3.5),k=k/10.5*255,[k,k,k];const x=.5*(1+~~(y>50));return[(1&k)*x*255,(k>>1&1)*x*255,(k>>2&1)*x*255]},v.ansi256.rgb=function(y){if(y>=232){const x=10*(y-232)+8;return[x,x,x]}let k;return y-=16,[Math.floor(y/36)/5*255,Math.floor((k=y%36)/6)/5*255,k%6/5*255]},v.rgb.hex=function(y){const k=(((255&Math.round(y[0]))<<16)+((255&Math.round(y[1]))<<8)+(255&Math.round(y[2]))).toString(16).toUpperCase();return"000000".substring(k.length)+k},v.hex.rgb=function(y){const k=y.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!k)return[0,0,0];let x=k[0];k[0].length===3&&(x=x.split("").map(D=>D+D).join(""));const C=parseInt(x,16);return[C>>16&255,C>>8&255,255&C]},v.rgb.hcg=function(y){const k=y[0]/255,x=y[1]/255,C=y[2]/255,D=Math.max(Math.max(k,x),C),S=Math.min(Math.min(k,x),C),M=D-S;let P,B;return P=M<1?S/(1-M):0,B=M<=0?0:D===k?(x-C)/M%6:D===x?2+(C-k)/M:4+(k-x)/M,B/=6,B%=1,[360*B,100*M,100*P]},v.hsl.hcg=function(y){const k=y[1]/100,x=y[2]/100,C=x<.5?2*k*x:2*k*(1-x);let D=0;return C<1&&(D=(x-.5*C)/(1-C)),[y[0],100*C,100*D]},v.hsv.hcg=function(y){const k=y[1]/100,x=y[2]/100,C=k*x;let D=0;return C<1&&(D=(x-C)/(1-C)),[y[0],100*C,100*D]},v.hcg.rgb=function(y){const k=y[0]/360,x=y[1]/100,C=y[2]/100;if(x===0)return[255*C,255*C,255*C];const D=[0,0,0],S=k%1*6,M=S%1,P=1-M;let B=0;switch(Math.floor(S)){case 0:D[0]=1,D[1]=M,D[2]=0;break;case 1:D[0]=P,D[1]=1,D[2]=0;break;case 2:D[0]=0,D[1]=1,D[2]=M;break;case 3:D[0]=0,D[1]=P,D[2]=1;break;case 4:D[0]=M,D[1]=0,D[2]=1;break;default:D[0]=1,D[1]=0,D[2]=P}return B=(1-x)*C,[255*(x*D[0]+B),255*(x*D[1]+B),255*(x*D[2]+B)]},v.hcg.hsv=function(y){const k=y[1]/100,x=k+y[2]/100*(1-k);let C=0;return x>0&&(C=k/x),[y[0],100*C,100*x]},v.hcg.hsl=function(y){const k=y[1]/100,x=y[2]/100*(1-k)+.5*k;let C=0;return x>0&&x<.5?C=k/(2*x):x>=.5&&x<1&&(C=k/(2*(1-x))),[y[0],100*C,100*x]},v.hcg.hwb=function(y){const k=y[1]/100,x=k+y[2]/100*(1-k);return[y[0],100*(x-k),100*(1-x)]},v.hwb.hcg=function(y){const k=y[1]/100,x=1-y[2]/100,C=x-k;let D=0;return C<1&&(D=(x-C)/(1-C)),[y[0],100*C,100*D]},v.apple.rgb=function(y){return[y[0]/65535*255,y[1]/65535*255,y[2]/65535*255]},v.rgb.apple=function(y){return[y[0]/255*65535,y[1]/255*65535,y[2]/255*65535]},v.gray.rgb=function(y){return[y[0]/100*255,y[0]/100*255,y[0]/100*255]},v.gray.hsl=function(y){return[0,0,y[0]]},v.gray.hsv=v.gray.hsl,v.gray.hwb=function(y){return[0,100,y[0]]},v.gray.cmyk=function(y){return[0,0,0,y[0]]},v.gray.lab=function(y){return[y[0],0,0]},v.gray.hex=function(y){const k=255&Math.round(y[0]/100*255),x=((k<<16)+(k<<8)+k).toString(16).toUpperCase();return"000000".substring(x.length)+x},v.rgb.gray=function(y){return[(y[0]+y[1]+y[2])/3/255*100]}},9047:(d,h,p)=>{const g=p(9246),b=p(802),v={};Object.keys(g).forEach(y=>{v[y]={},Object.defineProperty(v[y],"channels",{value:g[y].channels}),Object.defineProperty(v[y],"labels",{value:g[y].labels});const k=b(y);Object.keys(k).forEach(x=>{const C=k[x];v[y][x]=function(D){const S=function(...M){const P=M[0];if(P==null)return P;P.length>1&&(M=P);const B=D(M);if(typeof B=="object")for(let $=B.length,F=0;F<$;F++)B[F]=Math.round(B[F]);return B};return"conversion"in D&&(S.conversion=D.conversion),S}(C),v[y][x].raw=function(D){const S=function(...M){const P=M[0];return P==null?P:(P.length>1&&(M=P),D(M))};return"conversion"in D&&(S.conversion=D.conversion),S}(C)})}),d.exports=v},802:(d,h,p)=>{const g=p(9246);function b(k){const x=function(){const D={},S=Object.keys(g);for(let M=S.length,P=0;P<M;P++)D[S[P]]={distance:-1,parent:null};return D}(),C=[k];for(x[k].distance=0;C.length;){const D=C.pop(),S=Object.keys(g[D]);for(let M=S.length,P=0;P<M;P++){const B=S[P],$=x[B];$.distance===-1&&($.distance=x[D].distance+1,$.parent=D,C.unshift(B))}}return x}function v(k,x){return function(C){return x(k(C))}}function y(k,x){const C=[x[k].parent,k];let D=g[x[k].parent][k],S=x[k].parent;for(;x[S].parent;)C.unshift(x[S].parent),D=v(g[x[S].parent][S],D),S=x[S].parent;return D.conversion=C,D}d.exports=function(k){const x=b(k),C={},D=Object.keys(x);for(let S=D.length,M=0;M<S;M++){const P=D[M];x[P].parent!==null&&(C[P]=y(P,x))}return C}},6931:d=>{d.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const k=y},8708:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const k=y},1866:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Based on default CKBox theme colors */
	--ck-image-processing-highlight-color: hsl(220, 10%, 98%);
	--ck-image-processing-background-color: hsl(220, 10%, 90%);
}

.ck.ck-editor__editable {
	& .image {
		&.image-processing {
			position: relative;

			&:before {
				content: '';

				position: absolute;
				top: 0;
				left: 0;
				z-index: 1;

				height: 100%;
				width: 100%;

				background: linear-gradient(
					90deg,
					var(--ck-image-processing-background-color),
					var(--ck-image-processing-highlight-color),
					var(--ck-image-processing-background-color)
				);
				background-size: 200% 100%;

				animation: ck-image-processing-animation 2s linear infinite;
			}

			& img {
				height: 100%;
			}
		}
	}
}

@keyframes ck-image-processing-animation {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}
`],sourceRoot:""}]);const k=y},7793:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border);
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: '';
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;

	&::before {
		content: '';
		position: absolute;
		top: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));
		width: 0;
		height: 0;
		border-style: solid;

		@mixin ck-dir ltr {
			left: -1px;

			border-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);
			border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
		}

		@mixin ck-dir rtl {
			right: -1px;

			border-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;
			border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
		}
	}
}
`],sourceRoot:""}]);const k=y},7388:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-panel);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-sticky-panel__content {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border: 1px solid var(--ck-color-base-border);
			border-bottom-width: 0;

			&.ck-sticky-panel__content_sticky {
				border-bottom-width: 1px;
			}

			& .ck-menu-bar,
			& .ck-toolbar {
				border: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},4098:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	@mixin ck-media-forced-colors {
		/*
		 * This is needed for Edge on Windows to use the right color for the placeholder content (::before).
		 * See https://github.com/ckeditor/ckeditor5/issues/14907.
		 */
		forced-color-adjust: preserve-parent-color;
	}

	&::before {
		cursor: text;

		@mixin ck-media-default-colors {
			color: var(--ck-color-engine-placeholder-text);
		}

		@mixin ck-media-forced-colors {
			/*
			 * In the high contrast mode there is no telling between regular and placeholder text. Using
			 * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			font-style: italic;

			/*
			 * Without this margin, the caret will not show up and blink when the user puts the selection
			 * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.
			 */
			margin-left: 1px;
		}
	}
}
`],sourceRoot:""}]);const k=y},8264:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const k=y},6269:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const k=y},265:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%;

			/* Keep proportions of the block image if the height is set and the image is wider than the editor width.
			See https://github.com/ckeditor/ckeditor5/issues/14542. */
			height: auto;
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image {
		z-index: 1;

		/*
		 * Make sure the selected image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;
		}
	}

	/*
	 * See https://github.com/ckeditor/ckeditor5/issues/15115.
	 */
	& .image-inline {
		z-index: 1;

		/*
		 * Make sure the selected inline image always stays on top of its siblings.
		 * See https://github.com/ckeditor/ckeditor5/issues/9108.
		 */
		&.ck-widget_selected {
			z-index: 2;

			/*
			 * Make sure the native browser selection style is not displayed.
			 * Inline image widgets have their own styles for the selected state and
			 * leaving this up to the browser is asking for a visual collision.
			 */
			& ::selection {
				display: none;
			}
		}
	}

	/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.
	See https://github.com/ckeditor/ckeditor5/issues/14542. */
	& .image-inline img {
		height: auto;
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const k=y},5247:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@media (forced-colors: active) {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	@mixin ck-media-default-colors {
		animation: ck-image-caption-highlight .6s ease-out;
	}

	@media (prefers-reduced-motion: reduce) {
		animation: none;
	}
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const k=y},4642:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-image-custom-resize-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: flex-start;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},3350:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-url {
	& .ck-image-insert-url__action-row {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-image-insert-insert-by-url-width: 250px;
}

.ck.ck-image-insert-url {
	--ck-input-width: 100%;

	& .ck-image-insert-url__action-row {
		grid-column-gap: var(--ck-spacing-large);
		margin-top: var(--ck-spacing-large);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
			min-width: auto;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}

.ck.ck-image-insert-form {
	& > .ck.ck-button {
		display: block;
		width: 100%;
		padding: var(--ck-list-button-padding);

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& > .ck.ck-collapsible {
		&:not(:first-child) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		&:not(:last-child) {
			border-bottom: 1px solid var(--ck-color-base-border);
		}

		min-width: var(--ck-image-insert-insert-by-url-width);
	}

	/* This is the case when there are no other integrations configured than insert by URL */
	& > .ck.ck-image-insert-url {
		min-width: var(--ck-image-insert-insert-by-url-width);
		padding: var(--ck-spacing-large);
	}

	&:focus {
		outline: none;
	}
}
`],sourceRoot:""}]);const k=y},7378:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& img.image_placeholder {
		background-size: 100% 100%;
	}
}
`],sourceRoot:""}]);const k=y},3469:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Preserve aspect ratio of the resized image after introducing image height attribute. */
.ck-content img.image_resized {
	height: auto;
}

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const k=y},6386:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},7693:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 0ms;

		&::after {
			animation: none;
			opacity: 1;
			width: 0.3em;
			height: 0.45em;
		}
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const k=y},1559:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const k=y},2267:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;

			@media (prefers-reduced-motion: reduce) {
				opacity: 1;
				animation: none;
			}
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const k=y},4062:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},7719:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const k=y},8762:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},3817:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;
	align-items: flex-start;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},4808:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const k=y},1232:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const k=y},6903:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},9968:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const k=y},7141:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const k=y},8991:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

@define-mixin todo-list-checkbox {
	-webkit-appearance: none;
	display: inline-block;
	position: relative;
	width: var(--ck-todo-list-checkmark-size);
	height: var(--ck-todo-list-checkmark-size);
	vertical-align: middle;

	/* Needed on iOS */
	border: 0;

	/* LTR styles */
	left: -25px;
	margin-right: -15px;
	right: 0;
	margin-left: 0;

	/* RTL styles */
	@nest [dir=rtl]& {
		left: 0;
		margin-right: 0;
		right: -25px;
		margin-left: -15px;
	}

	&::before {
		display: block;
		position: absolute;
		box-sizing: border-box;
		content: '';
		width: 100%;
		height: 100%;
		border: 1px solid hsl(0, 0%, 20%);
		border-radius: 2px;
		transition: 250ms ease-in-out box-shadow;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}
	}

	&::after {
		display: block;
		position: absolute;
		box-sizing: content-box;
		pointer-events: none;
		content: '';

		/* Calculate tick position, size and border-width proportional to the checkmark size. */
		left: calc( var(--ck-todo-list-checkmark-size) / 3 );
		top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
		height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
		border-style: solid;
		border-color: transparent;
		border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
		transform: rotate(45deg);
	}

	&[checked] {
		&::before {
			background: hsl(126, 64%, 41%);
			border-color: hsl(126, 64%, 41%);
		}

		&::after {
			border-color: hsl(0, 0%, 100%);
		}
	}
}

/*
 * To-do list content styles.
 */
.ck-content .todo-list {
	list-style: none;

	& li {
		position: relative;
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			@mixin todo-list-checkbox;
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}

		&.todo-list__label_without-description input[type=checkbox] {
			position: absolute;
		}
	}
}

/*
 * To-do list editing view styles.
 */
.ck-editor__editable.ck-content .todo-list .todo-list__label {
	/*
	 * To-do list should be interactive only during the editing
	 * (https://github.com/ckeditor/ckeditor5/issues/2090).
	 */
	& > input,
	& > span[contenteditable=false] > input {
		cursor: pointer;

		&:hover::before {
			box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
		}
	}

	/*
	 * Document Lists - editing view has an additional span around checkbox.
	 */
	& > span[contenteditable=false] > input {
		@mixin todo-list-checkbox;
	}

	&.todo-list__label_without-description {
		& input[type=checkbox] {
			position: absolute;
		}
	}
}
`],sourceRoot:""}]);const k=y},70:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const k=y},7048:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readâ€“only.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},5651:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},5506:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},4043:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},2655:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const k=y},5032:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const k=y},2329:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const k=y},4143:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;

	/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */
	@mixin ck-media-forced-colors {
		background-color: unset;
		color: unset;
	}
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	@mixin ck-media-default-colors {
		&.table__caption_highlighted {
			animation: ck-table-caption-highlight .6s ease-out;
		}
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const k=y},8986:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},8795:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	top: 0;
	bottom: 0;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const k=y},8137:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const k=y},1623:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;

			@media (prefers-reduced-motion: reduce) {
				animation: none;
			}
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},5562:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},8423:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},1801:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-aria-live-announcer {
	position: absolute;
	left: -10000px;
	top: -10000px;
}

.ck.ck-aria-live-region-list {
	list-style-type: none;
}
`],sourceRoot:""}]);const k=y},5727:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-autocomplete {
	position: relative;

	& > .ck-search__results {
		position: absolute;
		z-index: var(--ck-z-panel);

		&.ck-search__results_n {
			bottom: 100%;
		}

		&.ck-search__results_s {
			top: 100%;
			bottom: auto;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";
@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";

.ck.ck-autocomplete {
	& > .ck-search__results {
		@mixin ck-rounded-corners;
		@mixin ck-drop-shadow;

		max-height: 200px;
		overflow-y: auto;
		background: var(--ck-color-base-background);
		border: 1px solid var(--ck-color-dropdown-panel-border);
		min-width: auto;

		&.ck-search__results_n {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-bottom: -1px;
		}

		&.ck-search__results_s {
			border-top-left-radius: 0;
			border-top-right-radius: 0;

			/* Prevent duplicated borders between the input and the results pane. */
			margin-top: -1px;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=y},9715:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";
@import "../../mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;

	@mixin ck-dir ltr {
		justify-content: left;
	}

	@mixin ck-dir rtl {
		justify-content: right;
	}

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		opacity: .5;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const k=y},4391:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingâ€“point numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const k=y},25:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-list-button-padding);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const k=y},7317:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	transition: .2s ease box-shadow;

	@mixin ck-media-default-colors {
		width: var(--ck-color-grid-tile-size);
		height: var(--ck-color-grid-tile-size);
		min-width: var(--ck-color-grid-tile-size);
		min-height: var(--ck-color-grid-tile-size);
		padding: 0;
		border: 0;

		&.ck-on,
		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			/* Disable the default .ck-button's border ring. */
			border: 0;
		}

		&.ck-color-selector__color-tile_bordered {
			box-shadow: 0 0 0 1px var(--ck-color-base-border);
		}

		&.ck-on {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);
		}

		&:focus:not( .ck-disabled ),
		&:hover:not( .ck-disabled ) {
			box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
		}
	}

	/*
	 * In high contrast mode, the colors are replaced with text labels.
	 * See https://github.com/ckeditor/ckeditor5/issues/14907.
	 */
	@mixin ck-media-forced-colors {
		width: unset;
		height: unset;
		min-width: unset;
		min-height: unset;
		padding: 0 var(--ck-spacing-small);

		& .ck-button__label {
			display: inline-block;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		& .ck.ck-icon {
			display: block;
		}
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const k=y},1905:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const k=y},6309:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const k=y},9819:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog-overlay {
	user-select: none;
	overscroll-behavior: none;

	position: fixed;
	bottom: 0;
	left: 0;
	right: 0;
	top: 0;

	&.ck-dialog-overlay__transparent {
		pointer-events: none;
		animation: none;
		background: none;
	}
}

.ck.ck-dialog {
	overscroll-behavior: none;
	width: fit-content;
	position: absolute;

	& .ck.ck-form__header  {
		flex-shrink: 0;

		& .ck-form__header__label {
			cursor: grab;
		}
	}

	@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {
		pointer-events: all;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

:root {
	--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );
	--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);
	--ck-dialog-max-width: 100vw;
	--ck-dialog-max-height: 90vh;
	--ck-color-dialog-background: var(--ck-color-base-background);
	--ck-color-dialog-form-header-border: var(--ck-color-base-border);
}

.ck.ck-dialog-overlay {
	animation: ck-dialog-fade-in .3s;
	background: var(--ck-dialog-overlay-background-color);
	z-index: var(--ck-z-dialog);
}

.ck.ck-dialog {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	--ck-drop-shadow: var(--ck-dialog-drop-shadow);

	background: var(--ck-color-dialog-background);
	max-height: var(--ck-dialog-max-height);
	max-width: var(--ck-dialog-max-width);
	border: 1px solid var(--ck-color-base-border);

	& .ck.ck-form__header {
		border-bottom: 1px solid var(--ck-color-dialog-form-header-border);
	}
}

@keyframes ck-dialog-fade-in {
	0% {
		background: hsla( 0, 0%, 0%, 0 );
	}

	100% {
		background: var(--ck-dialog-overlay-background-color);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=y},9822:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		display: flex;
		justify-content: flex-end;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-dialog {
	& .ck.ck-dialog__actions {
		padding: var(--ck-spacing-large);

		& > * + * {
			margin-left: var(--ck-spacing-large);
		}
	}
}
`],sourceRoot:""}]);const k=y},8149:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-panel);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-panel) + 1 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},3629:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child > .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},1792:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},1666:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const k=y},8527:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-accessibility-help-dialog-max-width: 600px;
	--ck-accessibility-help-dialog-max-height: 400px;
	--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);
	--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);
	--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);
}

.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {
	padding: var(--ck-spacing-large);
	max-width: var(--ck-accessibility-help-dialog-max-width);
	max-height: var(--ck-accessibility-help-dialog-max-height);
	overflow: auto;
	user-select: text;

	border: 1px solid transparent;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	* {
		white-space: normal;
	}

	/* Hide the main label of the content container. */
	& .ck-label {
		display: none;
	}

	& h3 {
		font-weight: bold;
		font-size: 1.2em;
	}

	& h4 {
		font-weight: bold;
		font-size: 1em;
	}

	& p,
	& h3,
	& h4,
	& table {
		margin: 1em 0;
	}

	& dl {
		display: grid;
		grid-template-columns: 2fr 1fr;
		border-top: 1px solid var(--ck-accessibility-help-dialog-border-color);
		border-bottom: none;

		& dt, & dd {
			border-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);
			padding: .4em 0;
		}

		& dt {
			grid-column-start: 1;
		}

		& dd {
			grid-column-start: 2;
			text-align: right;
		}
	}

	& kbd, & code {
		display: inline-block;
		background: var(--ck-accessibility-help-dialog-code-background-color);
		padding: .4em;
		vertical-align: middle;
		line-height: 1;
		border-radius: 2px;
		text-align: center;
		font-size: .9em;
	}

	& code {
		font-family: monospace;
	}

	& kbd {
		min-width: 1.8em;
		box-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);
		margin: 0 1px;

		& + kbd {
			margin-left: 2px;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=y},1185:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=y},7913:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;

	& h2.ck-form__header__label {
		flex-grow: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-form-header-height: 44px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& > .ck-icon {
		@mixin ck-dir ltr {
			margin-right: var(--ck-spacing-medium);
		}

		@mixin ck-dir rtl {
			margin-left: var(--ck-spacing-medium);
		}
	}

	& .ck-form__header__label {
		--ck-font-size-base: 15px;
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const k=y},9529:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-highlighted-text mark {
	background: var(--ck-color-highlight-background);
	vertical-align: initial;
	font-weight: inherit;
	line-height: inherit;
	font-size: inherit;
}
`],sourceRoot:""}]);const k=y},7621:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},253:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		@media (prefers-reduced-motion: reduce) {
			animation: none;
		}

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=y},7801:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const k=y},4962:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
				transform-origin: 0 0;
				/* By default, display the label scaled down above the field. */
				transform: translate(var(--ck-spacing-medium), -6px) scale(.75);
			}

			@mixin ck-dir rtl {
				right: 0px;
				transform-origin: 100% 0;
				transform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);
			}

			pointer-events: none;

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},5199:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-list-button-padding:
		calc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))
		calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));
}

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& > .ck-button {
		min-height: unset;
		width: 100%;
		border-radius: 0;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding: var(--ck-list-button-padding);

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& > .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck-list .ck-list__group {
	padding-top: var(--ck-spacing-medium);

	/* The group should have a border when it's not the first item. */
	*:not(.ck-hidden) ~ & {
		border-top: 1px solid var(--ck-color-base-border);
	}

	& > .ck-label {
		font-size: 11px;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},497:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar {
	display: flex;
	flex-wrap: wrap;
	justify-content: flex-start;
	background: var(--ck-color-base-background);
	padding: var(--ck-spacing-small);
	gap: var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);
	width: 100%;
}
`],sourceRoot:""}]);const k=y},4:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	display: block;
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	&.ck-menu-bar__menu_top-level {
		max-width: 100%;
	}
}
`],sourceRoot:""}]);const k=y},3344:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu  {
	& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-menu-bar__menu {
	/*
	 * All menu buttons.
	 */
	& > .ck-menu-bar__menu__button {
		padding: var(--ck-list-button-padding);
		width: 100%;

		& > .ck-button__label {
			flex-grow: 1;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		&.ck-disabled > .ck-button__label {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				padding-right: var(--ck-spacing-small);
			}
		}
	}

	/*
	 * Top-level menu buttons only.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {
		padding: var(--ck-spacing-small) var(--ck-spacing-medium);
		min-height: unset;

		& .ck-button__label {
			width: unset;
			line-height: unset;
		}

		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		& .ck-icon {
			display: none;
		}
	}

	/*
	 * Sub-menu buttons.
	 */
	&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {
		border-radius: 0;

		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}

		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}

		& > .ck-menu-bar__menu__button__arrow {
			width: var(--ck-dropdown-arrow-size);

			@mixin ck-dir ltr {
				transform: rotate(-90deg);
			}

			@mixin ck-dir rtl {
				transform: rotate(90deg);
			}
		}

		&.ck-disabled > .ck-menu-bar__menu__button__arrow {
			@mixin ck-disabled;
		}

		@mixin ck-dir ltr {
			& > .ck-menu-bar__menu__button__arrow {
				right: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-left: var(--ck-spacing-standard);
			}
		}

		@mixin ck-dir rtl {
			& > .ck-menu-bar__menu__button__arrow {
				left: var(--ck-spacing-standard);

				/* A space to accommodate the triangle. */
				margin-right: var(--ck-spacing-small);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const k=y},9481:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-item-min-width: 18em;
}

.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {
	min-width: var(--ck-menu-bar-menu-item-min-width);
}
`],sourceRoot:""}]);const k=y},977:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-menu-bar__menu {
	/*
	 * List item buttons.
	 */
	& .ck-button.ck-menu-bar__menu__item__button {
		border-radius: 0;

		& > .ck-spinner-container,
		& > .ck-spinner-container .ck-spinner {
			/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */
			--ck-toolbar-spinner-size: 20px;
		}

		& > .ck-spinner-container {
			/* These margins are the same as for .ck-icon. */
			margin-left: calc(-1 * var(--ck-spacing-small));
			margin-right: var(--ck-spacing-small);
		}

		/*
		 * Hovered items automatically get focused. Default focus styles look odd
		 * while moving across a huge list of items so let's get rid of them
		 */
		&:focus {
			border-color: transparent;
			box-shadow: none;

			&:not(.ck-on) {
				background: var(--ck-color-button-default-hover-background);
			}
		}
	}

	/*
	 * First-level sub-menu item buttons.
	 */
	&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {
		/* Spacing in buttons that miss the icon. */
		&:not(:has(.ck-button__icon)) > .ck-button__label {
			margin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));
		}
	}
}


`],sourceRoot:""}]);const k=y},9108:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-menu-bar-menu-max-width: 75vw;
	--ck-menu-bar-nested-menu-horizontal-offset: 5px;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	z-index: var(--ck-z-panel);
	max-width: var(--ck-menu-bar-menu-max-width);
	position: absolute;

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_nw {
		bottom: 100%;
	}

	&.ck-menu-bar__menu__panel_position_se,
	&.ck-menu-bar__menu__panel_position_sw {
		top: 100%;
		bottom: auto;
	}

	&.ck-menu-bar__menu__panel_position_ne,
	&.ck-menu-bar__menu__panel_position_se {
		left: 0px;
	}

	&.ck-menu-bar__menu__panel_position_nw,
	&.ck-menu-bar__menu__panel_position_sw {
		right: 0px;
	}

	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_en {
		left: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_es {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_en {
		bottom: 0px;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_wn {
		right: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );
	}

	&.ck-menu-bar__menu__panel_position_ws {
		top: 0px;
	}

	&.ck-menu-bar__menu__panel_position_wn {
		bottom: 0px;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-menu-bar-menu-panel-max-width: 75vw;
}

.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;
	height: fit-content;
	max-width: var(--ck-menu-bar-menu-panel-max-width);

	/* Corner border radius consistent with the button. */
	&.ck-menu-bar__menu__panel_position_es,
	&.ck-menu-bar__menu__panel_position_se {
		border-top-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_ws,
	&.ck-menu-bar__menu__panel_position_sw {
		border-top-right-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_en,
	&.ck-menu-bar__menu__panel_position_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-menu-bar__menu__panel_position_wn,
	&.ck-menu-bar__menu__panel_position_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=y},3710:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-panel);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=y},991:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const k=y},5380:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-panel) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=y},8298:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-panel); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const k=y},2722:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text,
			& .ck-input-number {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const k=y},8107:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-search {
	& > .ck-labeled-field-view {
		& > .ck-labeled-field-view__input-wrapper > .ck-icon {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);

			@mixin ck-dir ltr {
				left: var(--ck-spacing-medium);
			}

			@mixin ck-dir rtl {
				right: var(--ck-spacing-medium);
			}
		}

		& .ck-search__reset {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
		}
	}

	& > .ck-search__results {
		& > .ck-search__info {
			& > span:first-child {
				display: block;
			}

			/* Hide the filtered view when nothing was found */
			&:not(.ck-hidden) ~ * {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));
}

.ck.ck-search {
	& > .ck-labeled-field-view {
		& .ck-input {
			width: 100%;
		}

		&.ck-search__query_with-icon {
			--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);

			& > .ck-labeled-field-view__input-wrapper > .ck-icon {
				opacity: .5;
				pointer-events: none;
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					padding-left: var(--ck-search-field-view-horizontal-spacing);
				}

				@mixin ck-dir rtl {
					&:not(.ck-input-text_empty) {
						padding-left: var(--ck-search-field-view-horizontal-spacing);
					}
				}
			}
		}

		&.ck-search__query_with-reset {
			--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);

			&.ck-labeled-field-view_empty {
				--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);
			}

			& .ck-search__reset {
				min-width: auto;
				min-height: auto;

				background: none;
				opacity: .5;
				padding: 0;

				@mixin ck-dir ltr {
					right: var(--ck-spacing-medium);
				}

				@mixin ck-dir rtl {
					left: var(--ck-spacing-medium);
				}

				&:hover {
					opacity: 1;
				}
			}

			& .ck-input {
				width: 100%;

				@mixin ck-dir ltr {
					&:not(.ck-input-text_empty) {
						padding-right: var(--ck-search-field-view-horizontal-spacing);
					}
				}

				@mixin ck-dir rtl {
					padding-right: var(--ck-search-field-view-horizontal-spacing);
				}
			}
		}
	}

	& > .ck-search__results {
		min-width: 100%;

		& > .ck-search__info {
			width: 100%;
			padding: var(--ck-spacing-medium) var(--ck-spacing-large);

			& * {
				white-space: normal;
			}

			& > span:first-child {
				font-weight: bold;
			}

			& > span:last-child {
				margin-top: var(--ck-spacing-medium);
			}
		}
	}
}

`],sourceRoot:""}]);const k=y},109:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCAAsC,CADtC,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	display: block;
	position: relative;
}

.ck.ck-spinner {
	position: absolute;
	top: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	transform: translateY(-50%);
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-spinner-size: 18px;
}

.ck.ck-spinner-container {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	animation: 1.5s infinite rotate linear;

	@media (prefers-reduced-motion: reduce) {
		animation-duration: 3s;
	}
}

.ck.ck-spinner {
	width: var(--ck-toolbar-spinner-size);
	height: var(--ck-toolbar-spinner-size);
	border-radius: 50%;
	border: 2px solid var(--ck-color-text);
	border-top-color: transparent;
}

@keyframes rotate {
	to {
		transform: rotate(360deg)
	}
}
`],sourceRoot:""}]);const k=y},1671:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/*
 * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.
 * This bug is especially visible when rows=1.
 */
.ck-textarea {
	overflow-x: hidden
}
`],sourceRoot:""}]);const k=y},2710:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const k=y},9677:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const k=y},9205:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-balloon-panel.ck-tooltip {
	@mixin ck-unselectable;

	z-index: calc( var(--ck-z-dialog) + 100 );
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-tooltip-text-padding: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	&.ck-tooltip_multi-line .ck-tooltip__text {
		white-space: break-spaces;
		display: inline-block;
		padding: var(--ck-tooltip-text-padding) 0;
		max-width: 200px;
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const k=y},7676:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-panel: calc( var(--ck-z-default) + 999 );
	--ck-z-dialog: 9999;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-panel) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Dialog -------------------------------------------------------------------------------- */

	--ck-color-dialog-background: 								var(--ck-custom-background);
	--ck-color-dialog-form-header-border: 						var(--ck-custom-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%);

	/* -- Generic colors ------------------------------------------------------------------------- */

	--ck-color-light-red:										hsl(0, 100%, 90%);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;

	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const k=y},695:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	@media (prefers-reduced-motion: reduce) {
		transition: none;
	}

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
		@mixin ck-media-default-colors {
			background-color: var(--ck-color-widget-editable-focus-background);
		}
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);

				@media (prefers-reduced-motion: reduce) {
					transition: none;
				}
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-forced-colors {
	@media (forced-colors: active) {
		& {
			@mixin-content;
		}
	}
}

@define-mixin ck-media-default-colors {
	@media (forced-colors: none) {
		& {
			@mixin-content;
		}
	}
}
`],sourceRoot:""}]);const k=y},4095:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const k=y},8508:(d,h,p)=>{p.d(h,{A:()=>k});var g=p(9372),b=p.n(g),v=p(935),y=p.n(v)()(b());y.push([d.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		@media (prefers-reduced-motion: reduce) {
			transition: none;
		}

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			@media (prefers-reduced-motion: reduce) {
				transition: none;
			}

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}

			@media (prefers-reduced-motion: reduce) {
				animation: none;

				& svg {
					& polyline {
						animation: none;
					}

					& line {
						animation: none;
					}
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const k=y},935:d=>{d.exports=function(h){var p=[];return p.toString=function(){return this.map(function(g){var b=h(g);return g[2]?"@media ".concat(g[2]," {").concat(b,"}"):b}).join("")},p.i=function(g,b,v){typeof g=="string"&&(g=[[null,g,""]]);var y={};if(v)for(var k=0;k<this.length;k++){var x=this[k][0];x!=null&&(y[x]=!0)}for(var C=0;C<g.length;C++){var D=[].concat(g[C]);v&&y[D[0]]||(b&&(D[2]?D[2]="".concat(b," and ").concat(D[2]):D[2]=b),p.push(D))}},p}},9372:d=>{function h(g,b){return function(v){if(Array.isArray(v))return v}(g)||function(v,y){var k=v&&(typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"]);if(k!=null){var x,C,D=[],S=!0,M=!1;try{for(k=k.call(v);!(S=(x=k.next()).done)&&(D.push(x.value),!y||D.length!==y);S=!0);}catch(P){M=!0,C=P}finally{try{S||k.return==null||k.return()}finally{if(M)throw C}}return D}}(g,b)||function(v,y){if(v){if(typeof v=="string")return p(v,y);var k=Object.prototype.toString.call(v).slice(8,-1);if(k==="Object"&&v.constructor&&(k=v.constructor.name),k==="Map"||k==="Set")return Array.from(v);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return p(v,y)}}(g,b)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function p(g,b){(b==null||b>g.length)&&(b=g.length);for(var v=0,y=new Array(b);v<b;v++)y[v]=g[v];return y}d.exports=function(g){var b=h(g,4),v=b[1],y=b[3];if(!y)return v;if(typeof btoa=="function"){var k=btoa(unescape(encodeURIComponent(JSON.stringify(y)))),x="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(k),C="/*# ".concat(x," */"),D=y.sources.map(function(S){return"/*# sourceURL=".concat(y.sourceRoot||"").concat(S," */")});return[v].concat(D).concat([C]).join(`
`)}return[v].join(`
`)}},2591:(d,h,p)=>{var g,b=function(){return g===void 0&&(g=!!(window&&document&&document.all&&!window.atob)),g},v=function(){var N={};return function(L){if(N[L]===void 0){var U=document.querySelector(L);if(window.HTMLIFrameElement&&U instanceof window.HTMLIFrameElement)try{U=U.contentDocument.head}catch{U=null}N[L]=U}return N[L]}}(),y=[];function k(N){for(var L=-1,U=0;U<y.length;U++)if(y[U].identifier===N){L=U;break}return L}function x(N,L){for(var U={},Q=[],H=0;H<N.length;H++){var z=N[H],G=L.base?z[0]+L.base:z[0],R=U[G]||0,ne="".concat(G," ").concat(R);U[G]=R+1;var ue=k(ne),ie={css:z[1],media:z[2],sourceMap:z[3]};ue!==-1?(y[ue].references++,y[ue].updater(ie)):y.push({identifier:ne,updater:F(ie,L),references:1}),Q.push(ne)}return Q}function C(N){var L=document.createElement("style"),U=N.attributes||{};if(U.nonce===void 0){var Q=p.nc;Q&&(U.nonce=Q)}if(Object.keys(U).forEach(function(z){L.setAttribute(z,U[z])}),typeof N.insert=="function")N.insert(L);else{var H=v(N.insert||"head");if(!H)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");H.appendChild(L)}return L}var D,S=(D=[],function(N,L){return D[N]=L,D.filter(Boolean).join(`
`)});function M(N,L,U,Q){var H=U?"":Q.media?"@media ".concat(Q.media," {").concat(Q.css,"}"):Q.css;if(N.styleSheet)N.styleSheet.cssText=S(L,H);else{var z=document.createTextNode(H),G=N.childNodes;G[L]&&N.removeChild(G[L]),G.length?N.insertBefore(z,G[L]):N.appendChild(z)}}function P(N,L,U){var Q=U.css,H=U.media,z=U.sourceMap;if(H?N.setAttribute("media",H):N.removeAttribute("media"),z&&typeof btoa<"u"&&(Q+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(z))))," */")),N.styleSheet)N.styleSheet.cssText=Q;else{for(;N.firstChild;)N.removeChild(N.firstChild);N.appendChild(document.createTextNode(Q))}}var B=null,$=0;function F(N,L){var U,Q,H;if(L.singleton){var z=$++;U=B||(B=C(L)),Q=M.bind(null,U,z,!1),H=M.bind(null,U,z,!0)}else U=C(L),Q=P.bind(null,U,L),H=function(){(function(G){if(G.parentNode===null)return!1;G.parentNode.removeChild(G)})(U)};return Q(N),function(G){if(G){if(G.css===N.css&&G.media===N.media&&G.sourceMap===N.sourceMap)return;Q(N=G)}else H()}}d.exports=function(N,L){(L=L||{}).singleton||typeof L.singleton=="boolean"||(L.singleton=b());var U=x(N=N||[],L);return function(Q){if(Q=Q||[],Object.prototype.toString.call(Q)==="[object Array]"){for(var H=0;H<U.length;H++){var z=k(U[H]);y[z].references--}for(var G=x(Q,L),R=0;R<U.length;R++){var ne=k(U[R]);y[ne].references===0&&(y[ne].updater(),y.splice(ne,1))}U=G}}}}},o={};function s(d){var h=o[d];if(h!==void 0)return h.exports;var p=o[d]={id:d,exports:{}};return n[d](p,p.exports,s),p.exports}s.n=d=>{var h=d&&d.__esModule?()=>d.default:()=>d;return s.d(h,{a:h}),h},s.d=(d,h)=>{for(var p in h)s.o(h,p)&&!s.o(d,p)&&Object.defineProperty(d,p,{enumerable:!0,get:h[p]})},s.o=(d,h)=>Object.prototype.hasOwnProperty.call(d,h),s.nc=void 0;var l={};return(()=>{let d;s.d(l,{default:()=>yv});try{d={window,document}}catch{d={window:{},document:{}}}const h=d,p=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var g;const b={isMac:v(p),isWindows:(g=p,g.indexOf("windows")>-1),isGecko:function(c){return!!c.match(/gecko\/\d+/)}(p),isSafari:function(c){return c.indexOf(" applewebkit/")>-1&&c.indexOf("chrome")===-1}(p),isiOS:function(c){return!!c.match(/iphone|ipad/i)||v(c)&&navigator.maxTouchPoints>0}(p),isAndroid:function(c){return c.indexOf("android")>-1}(p),isBlink:function(c){return c.indexOf("chrome/")>-1&&c.indexOf("edge/")<0}(p),features:{isRegExpUnicodePropertySupported:function(){let c=!1;try{c="Ä‡".search(new RegExp("[\\p{L}]","u"))===0}catch{}return c}()}};function v(c){return c.indexOf("macintosh")>-1}function y(c,e,i,a){i=i||function(_,E){return _===E};const u=Array.isArray(c)?c:Array.prototype.slice.call(c),f=Array.isArray(e)?e:Array.prototype.slice.call(e),m=function(_,E,T){const O=k(_,E,T);if(O===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const V=x(_,O),K=x(E,O),ee=k(V,K,T),se=_.length-ee,ke=E.length-ee;return{firstIndex:O,lastIndexOld:se,lastIndexNew:ke}}(u,f,i);return a?function(_,E){const{firstIndex:T,lastIndexOld:O,lastIndexNew:V}=_;if(T===-1)return Array(E).fill("equal");let K=[];return T>0&&(K=K.concat(Array(T).fill("equal"))),V-T>0&&(K=K.concat(Array(V-T).fill("insert"))),O-T>0&&(K=K.concat(Array(O-T).fill("delete"))),V<E&&(K=K.concat(Array(E-V).fill("equal"))),K}(m,f.length):function(_,E){const T=[],{firstIndex:O,lastIndexOld:V,lastIndexNew:K}=E;return K-O>0&&T.push({index:O,type:"insert",values:_.slice(O,K)}),V-O>0&&T.push({index:O+(K-O),type:"delete",howMany:V-O}),T}(f,m)}function k(c,e,i){for(let a=0;a<Math.max(c.length,e.length);a++)if(c[a]===void 0||e[a]===void 0||!i(c[a],e[a]))return a;return-1}function x(c,e){return c.slice(e).reverse()}function C(c,e,i){i=i||function(se,ke){return se===ke};const a=c.length,u=e.length;if(a>200||u>200||a+u>300)return C.fastDiff(c,e,i,!0);let f,m;if(u<a){const se=c;c=e,e=se,f="delete",m="insert"}else f="insert",m="delete";const w=c.length,_=e.length,E=_-w,T={},O={};function V(se){const ke=(O[se-1]!==void 0?O[se-1]:-1)+1,Ee=O[se+1]!==void 0?O[se+1]:-1,Le=ke>Ee?-1:1;T[se+Le]&&(T[se]=T[se+Le].slice(0)),T[se]||(T[se]=[]),T[se].push(ke>Ee?f:m);let tt=Math.max(ke,Ee),ft=tt-se;for(;ft<w&&tt<_&&i(c[ft],e[tt]);)ft++,tt++,T[se].push("equal");return tt}let K,ee=0;do{for(K=-ee;K<E;K++)O[K]=V(K);for(K=E+ee;K>E;K--)O[K]=V(K);O[E]=V(E),ee++}while(O[E]!==_);return T[E].slice(1)}C.fastDiff=y;const D=function(){return function c(){c.called=!0}};class S{constructor(e,i){this.source=e,this.name=i,this.path=[],this.stop=D(),this.off=D()}}const M=new Array(256).fill("").map((c,e)=>("0"+e.toString(16)).slice(-2));function P(){const c=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0;return"e"+M[255&c]+M[c>>8&255]+M[c>>16&255]+M[c>>24&255]+M[255&e]+M[e>>8&255]+M[e>>16&255]+M[e>>24&255]+M[255&i]+M[i>>8&255]+M[i>>16&255]+M[i>>24&255]+M[255&a]+M[a>>8&255]+M[a>>16&255]+M[a>>24&255]}const B={get(c="normal"){return typeof c!="number"?this[c]||this.normal:c},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function $(c,e){const i=B.get(e.priority);for(let a=0;a<c.length;a++)if(B.get(c[a].priority)<i)return void c.splice(a,0,e);c.push(e)}const F="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class N extends Error{constructor(e,i,a){super(function(u,f){const m=new WeakSet,w=(T,O)=>{if(typeof O=="object"&&O!==null){if(m.has(O))return`[object ${O.constructor.name}]`;m.add(O)}return O},_=f?` ${JSON.stringify(f,w)}`:"",E=Q(u);return u+_+E}(e,a)),this.name="CKEditorError",this.context=i,this.data=a}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,i){if(e.is&&e.is("CKEditorError"))throw e;const a=new N(e.message,i);throw a.stack=e.stack,a}}function L(c,e){console.warn(...H(c,e))}function U(c,e){console.error(...H(c,e))}function Q(c){return`
Read more: ${F}#error-${c}`}function H(c,e){const i=Q(c);return e?[c,e,i]:[c,i]}const z="41.4.2",G=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new N("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION=z;const R=Symbol("listeningTo"),ne=Symbol("emitterId"),ue=Symbol("delegations"),ie=oe(Object);function oe(c){return c?class extends c{on(e,i,a){this.listenTo(this,e,i,a)}once(e,i,a){let u=!1;this.listenTo(this,e,(f,...m)=>{u||(u=!0,f.off(),i.call(this,f,...m))},a)}off(e,i){this.stopListening(this,e,i)}listenTo(e,i,a,u={}){let f,m;this[R]||(this[R]={});const w=this[R];re(e)||ye(e);const _=re(e);(f=w[_])||(f=w[_]={emitter:e,callbacks:{}}),(m=f.callbacks[i])||(m=f.callbacks[i]=[]),m.push(a),function(E,T,O,V,K){T._addEventListener?T._addEventListener(O,V,K):E._addEventListener.call(T,O,V,K)}(this,e,i,a,u)}stopListening(e,i,a){const u=this[R];let f=e&&re(e);const m=u&&f?u[f]:void 0,w=m&&i?m.callbacks[i]:void 0;if(!(!u||e&&!m||i&&!w))if(a)le(this,e,i,a),w.indexOf(a)!==-1&&(w.length===1?delete m.callbacks[i]:le(this,e,i,a));else if(w){for(;a=w.pop();)le(this,e,i,a);delete m.callbacks[i]}else if(m){for(i in m.callbacks)this.stopListening(e,i);delete u[f]}else{for(f in u)this.stopListening(u[f].emitter);delete this[R]}}fire(e,...i){try{const a=e instanceof S?e:new S(this,e),u=a.name;let f=J(this,u);if(a.path.push(this),f){const w=[a,...i];f=Array.from(f);for(let _=0;_<f.length&&(f[_].callback.apply(this,w),a.off.called&&(delete a.off.called,this._removeEventListener(u,f[_].callback)),!a.stop.called);_++);}const m=this[ue];if(m){const w=m.get(u),_=m.get("*");w&&fe(w,a,i),_&&fe(_,a,i)}return a.return}catch(a){N.rethrowUnexpectedError(a,this)}}delegate(...e){return{to:(i,a)=>{this[ue]||(this[ue]=new Map),e.forEach(u=>{const f=this[ue].get(u);f?f.set(i,a):this[ue].set(u,new Map([[i,a]]))})}}}stopDelegating(e,i){if(this[ue])if(e)if(i){const a=this[ue].get(e);a&&a.delete(i)}else this[ue].delete(e);else this[ue].clear()}_addEventListener(e,i,a){(function(m,w){const _=Ce(m);if(_[w])return;let E=w,T=null;const O=[];for(;E!==""&&!_[E];)_[E]={callbacks:[],childEvents:[]},O.push(_[E]),T&&_[E].childEvents.push(T),T=E,E=E.substr(0,E.lastIndexOf(":"));if(E!==""){for(const V of O)V.callbacks=_[E].callbacks.slice();_[E].childEvents.push(T)}})(this,e);const u=X(this,e),f={callback:i,priority:B.get(a.priority)};for(const m of u)$(m,f)}_removeEventListener(e,i){const a=X(this,e);for(const u of a)for(let f=0;f<u.length;f++)u[f].callback==i&&(u.splice(f,1),f--)}}:ie}function ye(c,e){c[ne]||(c[ne]=e||P())}function re(c){return c[ne]}function Ce(c){return c._events||Object.defineProperty(c,"_events",{value:{}}),c._events}function X(c,e){const i=Ce(c)[e];if(!i)return[];let a=[i.callbacks];for(let u=0;u<i.childEvents.length;u++){const f=X(c,i.childEvents[u]);a=a.concat(f)}return a}function J(c,e){let i;return c._events&&(i=c._events[e])&&i.callbacks.length?i.callbacks:e.indexOf(":")>-1?J(c,e.substr(0,e.lastIndexOf(":"))):null}function fe(c,e,i){for(let[a,u]of c){u?typeof u=="function"&&(u=u(e.name)):u=e.name;const f=new S(e.source,u);f.path=[...e.path],a.fire(f,...i)}}function le(c,e,i,a){e._removeEventListener?e._removeEventListener(i,a):c._removeEventListener.call(e,i,a)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{oe[c]=ie.prototype[c]});const ae=function(c){var e=typeof c;return c!=null&&(e=="object"||e=="function")},Se=Symbol("observableProperties"),xe=Symbol("boundObservables"),Te=Symbol("boundProperties"),Ye=Symbol("decoratedMethods"),We=Symbol("decoratedOriginal"),Je=Ue(oe());function Ue(c){return c?class extends c{set(e,i){if(ae(e))return void Object.keys(e).forEach(u=>{this.set(u,e[u])},this);Z(this);const a=this[Se];if(e in this&&!a.has(e))throw new N("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>a.get(e),set(u){const f=a.get(e);let m=this.fire(`set:${e}`,e,u,f);m===void 0&&(m=u),f===m&&a.has(e)||(a.set(e,m),this.fire(`change:${e}`,e,m,f))}}),this[e]=i}bind(...e){if(!e.length||!be(e))throw new N("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new N("observable-bind-duplicate-properties",this);Z(this);const i=this[Te];e.forEach(u=>{if(i.has(u))throw new N("observable-bind-rebind",this)});const a=new Map;return e.forEach(u=>{const f={property:u,to:[]};i.set(u,f),a.set(u,f)}),{to:_e,toMany:he,_observable:this,_bindProperties:e,_to:[],_bindings:a}}unbind(...e){if(!this[Se])return;const i=this[Te],a=this[xe];if(e.length){if(!be(e))throw new N("observable-unbind-wrong-properties",this);e.forEach(u=>{const f=i.get(u);f&&(f.to.forEach(([m,w])=>{const _=a.get(m),E=_[w];E.delete(f),E.size||delete _[w],Object.keys(_).length||(a.delete(m),this.stopListening(m,"change"))}),i.delete(u))})}else a.forEach((u,f)=>{this.stopListening(f,"change")}),a.clear(),i.clear()}decorate(e){Z(this);const i=this[e];if(!i)throw new N("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(a,u)=>{a.return=i.apply(this,u)}),this[e]=function(...a){return this.fire(e,a)},this[e][We]=i,this[Ye]||(this[Ye]=[]),this[Ye].push(e)}stopListening(e,i,a){if(!e&&this[Ye]){for(const u of this[Ye])this[u]=this[u][We];delete this[Ye]}super.stopListening(e,i,a)}}:Je}function Z(c){c[Se]||(Object.defineProperty(c,Se,{value:new Map}),Object.defineProperty(c,xe,{value:new Map}),Object.defineProperty(c,Te,{value:new Map}))}function _e(...c){const e=function(...f){if(!f.length)throw new N("observable-bind-to-parse-error",null);const m={to:[]};let w;return typeof f[f.length-1]=="function"&&(m.callback=f.pop()),f.forEach(_=>{if(typeof _=="string")w.properties.push(_);else{if(typeof _!="object")throw new N("observable-bind-to-parse-error",null);w={observable:_,properties:[]},m.to.push(w)}}),m}(...c),i=Array.from(this._bindings.keys()),a=i.length;if(!e.callback&&e.to.length>1)throw new N("observable-bind-to-no-callback",this);if(a>1&&e.callback)throw new N("observable-bind-to-extra-callback",this);var u;e.to.forEach(f=>{if(f.properties.length&&f.properties.length!==a)throw new N("observable-bind-to-properties-length",this);f.properties.length||(f.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(i[0]).callback=e.callback),u=this._observable,this._to.forEach(f=>{const m=u[xe];let w;m.get(f.observable)||u.listenTo(f.observable,"change",(_,E)=>{w=m.get(f.observable)[E],w&&w.forEach(T=>{pe(u,T.property)})})}),function(f){let m;f._bindings.forEach((w,_)=>{f._to.forEach(E=>{m=E.properties[w.callback?0:f._bindProperties.indexOf(_)],w.to.push([E.observable,m]),function(T,O,V,K){const ee=T[xe],se=ee.get(V),ke=se||{};ke[K]||(ke[K]=new Set),ke[K].add(O),se||ee.set(V,ke)}(f._observable,w,E.observable,m)})})}(this),this._bindProperties.forEach(f=>{pe(this._observable,f)})}function he(c,e,i){if(this._bindings.size>1)throw new N("observable-bind-to-many-not-one-binding",this);this.to(...function(a,u){const f=a.map(m=>[m,u]);return Array.prototype.concat.apply([],f)}(c,e),i)}function be(c){return c.every(e=>typeof e=="string")}function pe(c,e){const i=c[Te].get(e);let a;i.callback?a=i.callback.apply(c,i.to.map(u=>u[0][u[1]])):(a=i.to[0],a=a[0][a[1]]),Object.prototype.hasOwnProperty.call(c,e)?c[e]=a:c.set(e,a)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{Ue[c]=Je.prototype[c]});class Ae{constructor(){this._replacedElements=[]}replace(e,i){this._replacedElements.push({element:e,newElement:i}),e.style.display="none",i&&e.parentNode.insertBefore(i,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:i})=>{e.style.display="",i&&i.remove()}),this._replacedElements=[]}}function Oe(c){let e=0;for(const i of c)e++;return e}function Me(c,e){const i=Math.min(c.length,e.length);for(let a=0;a<i;a++)if(c[a]!=e[a])return a;return c.length==e.length?"same":c.length<e.length?"prefix":"extension"}function Ie(c){return!(!c||!c[Symbol.iterator])}const $e=typeof od=="object"&&od&&od.Object===Object&&od;var Ke=typeof self=="object"&&self&&self.Object===Object&&self;const qe=$e||Ke||Function("return this")(),it=qe.Symbol;var Be=Object.prototype,Qe=Be.hasOwnProperty,Ze=Be.toString,Ct=it?it.toStringTag:void 0;const dt=function(c){var e=Qe.call(c,Ct),i=c[Ct];try{c[Ct]=void 0;var a=!0}catch{}var u=Ze.call(c);return a&&(e?c[Ct]=i:delete c[Ct]),u};var en=Object.prototype.toString;const pt=function(c){return en.call(c)};var Wt=it?it.toStringTag:void 0;const Rt=function(c){return c==null?c===void 0?"[object Undefined]":"[object Null]":Wt&&Wt in Object(c)?dt(c):pt(c)},zt=Array.isArray,Qt=function(c){return c!=null&&typeof c=="object"},bn=function(c){return typeof c=="string"||!zt(c)&&Qt(c)&&Rt(c)=="[object String]"};function Dn(c,e,i={},a=[]){const u=i&&i.xmlns,f=u?c.createElementNS(u,e):c.createElement(e);for(const m in i)f.setAttribute(m,i[m]);!bn(a)&&Ie(a)||(a=[a]);for(let m of a)bn(m)&&(m=c.createTextNode(m)),f.appendChild(m);return f}const Vn=function(c,e){return function(i){return c(e(i))}},zr=Vn(Object.getPrototypeOf,Object);var Kr=Function.prototype,Rn=Object.prototype,tn=Kr.toString,In=Rn.hasOwnProperty,Go=tn.call(Object);const Mn=function(c){if(!Qt(c)||Rt(c)!="[object Object]")return!1;var e=zr(c);if(e===null)return!0;var i=In.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&tn.call(i)==Go},eo=function(){this.__data__=[],this.size=0},si=function(c,e){return c===e||c!=c&&e!=e},$t=function(c,e){for(var i=c.length;i--;)if(si(c[i][0],e))return i;return-1};var qi=Array.prototype.splice;const to=function(c){var e=this.__data__,i=$t(e,c);return!(i<0)&&(i==e.length-1?e.pop():qi.call(e,i,1),--this.size,!0)},ai=function(c){var e=this.__data__,i=$t(e,c);return i<0?void 0:e[i][1]},xr=function(c){return $t(this.__data__,c)>-1},kr=function(c,e){var i=this.__data__,a=$t(i,c);return a<0?(++this.size,i.push([c,e])):i[a][1]=e,this};function $n(c){var e=-1,i=c==null?0:c.length;for(this.clear();++e<i;){var a=c[e];this.set(a[0],a[1])}}$n.prototype.clear=eo,$n.prototype.delete=to,$n.prototype.get=ai,$n.prototype.has=xr,$n.prototype.set=kr;const us=$n,ds=function(){this.__data__=new us,this.size=0},Eo=function(c){var e=this.__data__,i=e.delete(c);return this.size=e.size,i},Do=function(c){return this.__data__.get(c)},Io=function(c){return this.__data__.has(c)},wi=function(c){if(!ae(c))return!1;var e=Rt(c);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Vi=qe["__core-js_shared__"];var To=function(){var c=/[^.]+$/.exec(Vi&&Vi.keys&&Vi.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}();const ca=function(c){return!!To&&To in c};var Ga=Function.prototype.toString;const uo=function(c){if(c!=null){try{return Ga.call(c)}catch{}try{return c+""}catch{}}return""};var Ya=/^\[object .+?Constructor\]$/,Ka=Function.prototype,Ec=Object.prototype,yt=Ka.toString,xt=Ec.hasOwnProperty,St=RegExp("^"+yt.call(xt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Gt=function(c){return!(!ae(c)||ca(c))&&(wi(c)?St:Ya).test(uo(c))},Vt=function(c,e){return c==null?void 0:c[e]},un=function(c,e){var i=Vt(c,e);return Gt(i)?i:void 0},Fn=un(qe,"Map"),cr=un(Object,"create"),Ur=function(){this.__data__=cr?cr(null):{},this.size=0},$i=function(c){var e=this.has(c)&&delete this.__data__[c];return this.size-=e?1:0,e};var Qa=Object.prototype.hasOwnProperty;const Qn=function(c){var e=this.__data__;if(cr){var i=e[c];return i==="__lodash_hash_undefined__"?void 0:i}return Qa.call(e,c)?e[c]:void 0};var Yo=Object.prototype.hasOwnProperty;const Dc=function(c){var e=this.__data__;return cr?e[c]!==void 0:Yo.call(e,c)},Ic=function(c,e){var i=this.__data__;return this.size+=this.has(c)?0:1,i[c]=cr&&e===void 0?"__lodash_hash_undefined__":e,this};function ho(c){var e=-1,i=c==null?0:c.length;for(this.clear();++e<i;){var a=c[e];this.set(a[0],a[1])}}ho.prototype.clear=Ur,ho.prototype.delete=$i,ho.prototype.get=Qn,ho.prototype.has=Dc,ho.prototype.set=Ic;const Sl=ho,No=function(){this.size=0,this.__data__={hash:new Sl,map:new(Fn||us),string:new Sl}},Ja=function(c){var e=typeof c;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?c!=="__proto__":c===null},yi=function(c,e){var i=c.__data__;return Ja(e)?i[typeof e=="string"?"string":"hash"]:i.map},Id=function(c){var e=yi(this,c).delete(c);return this.size-=e?1:0,e},rf=function(c){return yi(this,c).get(c)},Jp=function(c){return yi(this,c).has(c)},of=function(c,e){var i=yi(this,c),a=i.size;return i.set(c,e),this.size+=i.size==a?0:1,this};function El(c){var e=-1,i=c==null?0:c.length;for(this.clear();++e<i;){var a=c[e];this.set(a[0],a[1])}}El.prototype.clear=No,El.prototype.delete=Id,El.prototype.get=rf,El.prototype.has=Jp,El.prototype.set=of;const Tc=El,Zp=function(c,e){var i=this.__data__;if(i instanceof us){var a=i.__data__;if(!Fn||a.length<199)return a.push([c,e]),this.size=++i.size,this;i=this.__data__=new Tc(a)}return i.set(c,e),this.size=i.size,this};function ua(c){var e=this.__data__=new us(c);this.size=e.size}ua.prototype.clear=ds,ua.prototype.delete=Eo,ua.prototype.get=Do,ua.prototype.has=Io,ua.prototype.set=Zp;const Dl=ua,Xp=function(c,e){for(var i=-1,a=c==null?0:c.length;++i<a&&e(c[i],i,c)!==!1;);return c},yu=function(){try{var c=un(Object,"defineProperty");return c({},"",{}),c}catch{}}(),hs=function(c,e,i){e=="__proto__"&&yu?yu(c,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):c[e]=i};var vu=Object.prototype.hasOwnProperty;const Il=function(c,e,i){var a=c[e];vu.call(c,e)&&si(a,i)&&(i!==void 0||e in c)||hs(c,e,i)},Za=function(c,e,i,a){var u=!i;i||(i={});for(var f=-1,m=e.length;++f<m;){var w=e[f],_=void 0;_===void 0&&(_=c[w]),u?hs(i,w,_):Il(i,w,_)}return i},no=function(c,e){for(var i=-1,a=Array(c);++i<c;)a[i]=e(i);return a},sf=function(c){return Qt(c)&&Rt(c)=="[object Arguments]"};var Td=Object.prototype,dn=Td.hasOwnProperty,em=Td.propertyIsEnumerable;const Au=sf(function(){return arguments}())?sf:function(c){return Qt(c)&&dn.call(c,"callee")&&!em.call(c,"callee")},da=function(){return!1};var Nd=r&&!r.nodeType&&r,Md=Nd&&!0&&t&&!t.nodeType&&t,Nc=Md&&Md.exports===Nd?qe.Buffer:void 0;const Xa=(Nc?Nc.isBuffer:void 0)||da;var tm=/^(?:0|[1-9]\d*)$/;const _u=function(c,e){var i=typeof c;return!!(e=e??9007199254740991)&&(i=="number"||i!="symbol"&&tm.test(c))&&c>-1&&c%1==0&&c<e},Pd=function(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=9007199254740991};var Xn={};Xn["[object Float32Array]"]=Xn["[object Float64Array]"]=Xn["[object Int8Array]"]=Xn["[object Int16Array]"]=Xn["[object Int32Array]"]=Xn["[object Uint8Array]"]=Xn["[object Uint8ClampedArray]"]=Xn["[object Uint16Array]"]=Xn["[object Uint32Array]"]=!0,Xn["[object Arguments]"]=Xn["[object Array]"]=Xn["[object ArrayBuffer]"]=Xn["[object Boolean]"]=Xn["[object DataView]"]=Xn["[object Date]"]=Xn["[object Error]"]=Xn["[object Function]"]=Xn["[object Map]"]=Xn["[object Number]"]=Xn["[object Object]"]=Xn["[object RegExp]"]=Xn["[object Set]"]=Xn["[object String]"]=Xn["[object WeakMap]"]=!1;const Mc=function(c){return Qt(c)&&Pd(c.length)&&!!Xn[Rt(c)]},ha=function(c){return function(e){return c(e)}};var af=r&&!r.nodeType&&r,Ms=af&&!0&&t&&!t.nodeType&&t,Pc=Ms&&Ms.exports===af&&$e.process;const Ps=function(){try{var c=Ms&&Ms.require&&Ms.require("util").types;return c||Pc&&Pc.binding&&Pc.binding("util")}catch{}}();var Od=Ps&&Ps.isTypedArray;const Cu=Od?ha(Od):Mc;var lf=Object.prototype.hasOwnProperty;const jd=function(c,e){var i=zt(c),a=!i&&Au(c),u=!i&&!a&&Xa(c),f=!i&&!a&&!u&&Cu(c),m=i||a||u||f,w=m?no(c.length,String):[],_=w.length;for(var E in c)!e&&!lf.call(c,E)||m&&(E=="length"||u&&(E=="offset"||E=="parent")||f&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||_u(E,_))||w.push(E);return w};var fa=Object.prototype;const Os=function(c){var e=c&&c.constructor;return c===(typeof e=="function"&&e.prototype||fa)},nm=Vn(Object.keys,Object);var Tl=Object.prototype.hasOwnProperty;const js=function(c){if(!Os(c))return nm(c);var e=[];for(var i in Object(c))Tl.call(c,i)&&i!="constructor"&&e.push(i);return e},Nl=function(c){return c!=null&&Pd(c.length)&&!wi(c)},Ls=function(c){return Nl(c)?jd(c):js(c)},rm=function(c,e){return c&&Za(e,Ls(e),c)},xu=function(c){var e=[];if(c!=null)for(var i in Object(c))e.push(i);return e};var im=Object.prototype.hasOwnProperty;const Ld=function(c){if(!ae(c))return xu(c);var e=Os(c),i=[];for(var a in c)(a!="constructor"||!e&&im.call(c,a))&&i.push(a);return i},pa=function(c){return Nl(c)?jd(c,!0):Ld(c)},cf=function(c,e){return c&&Za(e,pa(e),c)};var Oc=r&&!r.nodeType&&r,Su=Oc&&!0&&t&&!t.nodeType&&t,Eu=Su&&Su.exports===Oc?qe.Buffer:void 0,Bd=Eu?Eu.allocUnsafe:void 0;const uf=function(c,e){if(e)return c.slice();var i=c.length,a=Bd?Bd(i):new c.constructor(i);return c.copy(a),a},jc=function(c,e){var i=-1,a=c.length;for(e||(e=Array(a));++i<a;)e[i]=c[i];return e},Lc=function(c,e){for(var i=-1,a=c==null?0:c.length,u=0,f=[];++i<a;){var m=c[i];e(m,i,c)&&(f[u++]=m)}return f},Du=function(){return[]};var Ml=Object.prototype.propertyIsEnumerable,Iu=Object.getOwnPropertySymbols;const q=Iu?function(c){return c==null?[]:(c=Object(c),Lc(Iu(c),function(e){return Ml.call(c,e)}))}:Du,de=function(c,e){return Za(c,q(c),e)},Ne=function(c,e){for(var i=-1,a=e.length,u=c.length;++i<a;)c[u+i]=e[i];return c},Re=Object.getOwnPropertySymbols?function(c){for(var e=[];c;)Ne(e,q(c)),c=zr(c);return e}:Du,Xe=function(c,e){return Za(c,Re(c),e)},ht=function(c,e,i){var a=e(c);return zt(c)?a:Ne(a,i(c))},_t=function(c){return ht(c,Ls,q)},jt=function(c){return ht(c,pa,Re)},Yt=un(qe,"DataView"),hn=un(qe,"Promise"),cn=un(qe,"Set"),Tn=un(qe,"WeakMap");var Ir="[object Map]",Or="[object Promise]",Qr="[object Set]",Hi="[object WeakMap]",vi="[object DataView]",Bs=uo(Yt),Ko=uo(Fn),ma=uo(hn),df=uo(cn),Rd=uo(Tn),Rs=Rt;(Yt&&Rs(new Yt(new ArrayBuffer(1)))!=vi||Fn&&Rs(new Fn)!=Ir||hn&&Rs(hn.resolve())!=Or||cn&&Rs(new cn)!=Qr||Tn&&Rs(new Tn)!=Hi)&&(Rs=function(c){var e=Rt(c),i=e=="[object Object]"?c.constructor:void 0,a=i?uo(i):"";if(a)switch(a){case Bs:return vi;case Ko:return Ir;case ma:return Or;case df:return Qr;case Rd:return Hi}return e});const ga=Rs;var Fd=Object.prototype.hasOwnProperty;const zd=function(c){var e=c.length,i=new c.constructor(e);return e&&typeof c[0]=="string"&&Fd.call(c,"index")&&(i.index=c.index,i.input=c.input),i},el=qe.Uint8Array,Ai=function(c){var e=new c.constructor(c.byteLength);return new el(e).set(new el(c)),e},Tu=function(c,e){var i=e?Ai(c.buffer):c.buffer;return new c.constructor(i,c.byteOffset,c.byteLength)};var Nu=/\w*$/;const Mu=function(c){var e=new c.constructor(c.source,Nu.exec(c));return e.lastIndex=c.lastIndex,e};var Pu=it?it.prototype:void 0,fo=Pu?Pu.valueOf:void 0;const om=function(c){return fo?Object(fo.call(c)):{}},Ou=function(c,e){var i=e?Ai(c.buffer):c.buffer;return new c.constructor(i,c.byteOffset,c.length)},hf=function(c,e,i){var a=c.constructor;switch(e){case"[object ArrayBuffer]":return Ai(c);case"[object Boolean]":case"[object Date]":return new a(+c);case"[object DataView]":return Tu(c,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ou(c,i);case"[object Map]":case"[object Set]":return new a;case"[object Number]":case"[object String]":return new a(c);case"[object RegExp]":return Mu(c);case"[object Symbol]":return om(c)}};var Qo=Object.create;const ju=function(){function c(){}return function(e){if(!ae(e))return{};if(Qo)return Qo(e);c.prototype=e;var i=new c;return c.prototype=void 0,i}}(),Ud=function(c){return typeof c.constructor!="function"||Os(c)?{}:ju(zr(c))},ff=function(c){return Qt(c)&&ga(c)=="[object Map]"};var tl=Ps&&Ps.isMap;const Bc=tl?ha(tl):ff,Mo=function(c){return Qt(c)&&ga(c)=="[object Set]"};var ro=Ps&&Ps.isSet;const Pl=ro?ha(ro):Mo;var ba="[object Arguments]",ka="[object Function]",Rc="[object Object]",jn={};jn[ba]=jn["[object Array]"]=jn["[object ArrayBuffer]"]=jn["[object DataView]"]=jn["[object Boolean]"]=jn["[object Date]"]=jn["[object Float32Array]"]=jn["[object Float64Array]"]=jn["[object Int8Array]"]=jn["[object Int16Array]"]=jn["[object Int32Array]"]=jn["[object Map]"]=jn["[object Number]"]=jn[Rc]=jn["[object RegExp]"]=jn["[object Set]"]=jn["[object String]"]=jn["[object Symbol]"]=jn["[object Uint8Array]"]=jn["[object Uint8ClampedArray]"]=jn["[object Uint16Array]"]=jn["[object Uint32Array]"]=!0,jn["[object Error]"]=jn[ka]=jn["[object WeakMap]"]=!1;const jr=function c(e,i,a,u,f,m){var w,_=1&i,E=2&i,T=4&i;if(a&&(w=f?a(e,u,f,m):a(e)),w!==void 0)return w;if(!ae(e))return e;var O=zt(e);if(O){if(w=zd(e),!_)return jc(e,w)}else{var V=ga(e),K=V==ka||V=="[object GeneratorFunction]";if(Xa(e))return uf(e,_);if(V==Rc||V==ba||K&&!f){if(w=E||K?{}:Ud(e),!_)return E?Xe(e,cf(w,e)):de(e,rm(w,e))}else{if(!jn[V])return f?e:{};w=hf(e,V,_)}}m||(m=new Dl);var ee=m.get(e);if(ee)return ee;m.set(e,w),Pl(e)?e.forEach(function(ke){w.add(c(ke,i,a,ke,e,m))}):Bc(e)&&e.forEach(function(ke,Ee){w.set(Ee,c(ke,i,a,Ee,e,m))});var se=O?void 0:(T?E?jt:_t:E?pa:Ls)(e);return Xp(se||e,function(ke,Ee){se&&(ke=e[Ee=ke]),Il(w,Ee,c(ke,i,a,Ee,e,m))}),w},Fc=function(c,e){return jr(c,5,e=typeof e=="function"?e:void 0)},Jr=function(c){return Qt(c)&&c.nodeType===1&&!Mn(c)};class Jo{constructor(e,i){this._config={},i&&this.define(zc(i)),e&&this._setObjectToTarget(this._config,e)}set(e,i){this._setToTarget(this._config,e,i)}define(e,i){this._setToTarget(this._config,e,i,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,i,a,u=!1){if(Mn(i))return void this._setObjectToTarget(e,i,u);const f=i.split(".");i=f.pop();for(const m of f)Mn(e[m])||(e[m]={}),e=e[m];if(Mn(a))return Mn(e[i])||(e[i]={}),e=e[i],void this._setObjectToTarget(e,a,u);u&&e[i]!==void 0||(e[i]=a)}_getFromSource(e,i){const a=i.split(".");i=a.pop();for(const u of a){if(!Mn(e[u])){e=null;break}e=e[u]}return e?zc(e[i]):void 0}_setObjectToTarget(e,i,a){Object.keys(i).forEach(u=>{this._setToTarget(e,u,i[u],a)})}}function zc(c){return Fc(c,pf)}function pf(c){return Jr(c)||typeof c=="function"?c:void 0}function fs(c){if(c){if(c.defaultView)return c instanceof c.defaultView.Document;if(c.ownerDocument&&c.ownerDocument.defaultView)return c instanceof c.ownerDocument.defaultView.Node}return!1}function wa(c){const e=Object.prototype.toString.apply(c);return e=="[object Window]"||e=="[object global]"}const Ol=_i(oe());function _i(c){return c?class extends c{listenTo(e,i,a,u={}){if(fs(e)||wa(e)){const f={capture:!!u.useCapture,passive:!!u.usePassive},m=this._getProxyEmitter(e,f)||new Uc(e,f);this.listenTo(m,i,a,u)}else super.listenTo(e,i,a,u)}stopListening(e,i,a){if(fs(e)||wa(e)){const u=this._getAllProxyEmitters(e);for(const f of u)this.stopListening(f,i,a)}else super.stopListening(e,i,a)}_getProxyEmitter(e,i){return function(a,u){const f=a[R];return f&&f[u]?f[u].emitter:null}(this,qc(e,i))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(i=>this._getProxyEmitter(e,i)).filter(i=>!!i)}}:Ol}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(c=>{_i[c]=Ol.prototype[c]});class Uc extends oe(){constructor(e,i){super(),ye(this,qc(e,i)),this._domNode=e,this._options=i}attach(e){if(this._domListeners&&this._domListeners[e])return;const i=this._createDomListener(e);this._domNode.addEventListener(e,i,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=i}detach(e){let i;!this._domListeners[e]||(i=this._events[e])&&i.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,i,a){this.attach(e),oe().prototype._addEventListener.call(this,e,i,a)}_removeEventListener(e,i){oe().prototype._removeEventListener.call(this,e,i),this.detach(e)}_createDomListener(e){const i=a=>{this.fire(e,a)};return i.removeListener=()=>{this._domNode.removeEventListener(e,i,this._options),delete this._domListeners[e]},i}}function qc(c,e){let i=function(a){return a["data-ck-expando"]||(a["data-ck-expando"]=P())}(c);for(const a of Object.keys(e).sort())e[a]&&(i+="-"+a);return i}function jl(c){const e=c.ownerDocument.defaultView.getComputedStyle(c);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function or(c){return Object.prototype.toString.call(c)=="[object Text]"}function Ll(c){return Object.prototype.toString.apply(c)=="[object Range]"}function Zo(c){return c&&c.parentNode?c.offsetParent===h.document.body?null:c.offsetParent:null}const Xo=["top","right","bottom","left","width","height"];class Ut{constructor(e){const i=Ll(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Zr(e)||i)if(i){const a=Ut.getDomRangeRects(e);er(this,Ut.getBoundingRect(a))}else er(this,e.getBoundingClientRect());else if(wa(e)){const{innerWidth:a,innerHeight:u}=e;er(this,{top:0,right:a,bottom:u,left:0,width:a,height:u})}else er(this,e)}clone(){return new Ut(this)}moveTo(e,i){return this.top=i,this.right=e+this.width,this.bottom=i+this.height,this.left=e,this}moveBy(e,i){return this.top+=i,this.right+=e,this.left+=e,this.bottom+=i,this}getIntersection(e){const i={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<0||i.height<0)return null;{const a=new Ut(i);return a._source=this._source,a}}getIntersectionArea(e){const i=this.getIntersection(e);return i?i.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let i=this.clone();if(qr(e))return i;let a,u=e,f=e.parentNode||e.commonAncestorContainer;for(;f&&!qr(f);){const w=((m=f)instanceof HTMLElement?m.ownerDocument.defaultView.getComputedStyle(m).overflow:"visible")==="visible";u instanceof HTMLElement&&ya(u)==="absolute"&&(a=u);const _=ya(f);if(w||a&&(_==="relative"&&w||_!=="relative")){u=f,f=f.parentNode;continue}const E=new Ut(f),T=i.getIntersection(E);if(!T)return null;T.getArea()<i.getArea()&&(i=T),u=f,f=f.parentNode}var m;return i}isEqual(e){for(const i of Xo)if(this[i]!==e[i])return!1;return!0}contains(e){const i=this.getIntersection(e);return!(!i||!i.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:i}=h.window,a=this.clone().moveBy(e,i);if(Zr(a._source)){const u=Zo(a._source);u&&function(f,m){const w=new Ut(m),_=jl(m);let E=0,T=0;E-=w.left,T-=w.top,E+=m.scrollLeft,T+=m.scrollTop,E-=_.left,T-=_.top,f.moveBy(E,T)}(a,u)}return a}excludeScrollbarsAndBorders(){const e=this._source;let i,a,u;if(wa(e))i=e.innerWidth-e.document.documentElement.clientWidth,a=e.innerHeight-e.document.documentElement.clientHeight,u=e.getComputedStyle(e.document.documentElement).direction;else{const f=jl(e);i=e.offsetWidth-e.clientWidth-f.left-f.right,a=e.offsetHeight-e.clientHeight-f.top-f.bottom,u=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=f.left,this.top+=f.top,this.right-=f.right,this.bottom-=f.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=i,u==="ltr"?this.right-=i:this.left+=i,this.height-=a,this.bottom-=a,this}static getDomRangeRects(e){const i=[],a=Array.from(e.getClientRects());if(a.length)for(const u of a)i.push(new Ut(u));else{let u=e.startContainer;or(u)&&(u=u.parentNode);const f=new Ut(u.getBoundingClientRect());f.right=f.left,f.width=0,i.push(f)}return i}static getBoundingRect(e){const i={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let a=0;for(const u of e)a++,i.left=Math.min(i.left,u.left),i.top=Math.min(i.top,u.top),i.right=Math.max(i.right,u.right),i.bottom=Math.max(i.bottom,u.bottom);return a==0?null:(i.width=i.right-i.left,i.height=i.bottom-i.top,new Ut(i))}}function er(c,e){for(const i of Xo)c[i]=e[i]}function qr(c){return!!Zr(c)&&c===c.ownerDocument.body}function Zr(c){return c!==null&&typeof c=="object"&&c.nodeType===1&&typeof c.getBoundingClientRect=="function"}function ya(c){return c instanceof HTMLElement?c.ownerDocument.defaultView.getComputedStyle(c).position:"static"}const Sr=class{constructor(c,e){Sr._observerInstance||Sr._createObserver(),this._element=c,this._callback=e,Sr._addElementCallback(c,e),Sr._observerInstance.observe(c)}get element(){return this._element}destroy(){Sr._deleteElementCallback(this._element,this._callback)}static _addElementCallback(c,e){Sr._elementCallbacks||(Sr._elementCallbacks=new Map);let i=Sr._elementCallbacks.get(c);i||(i=new Set,Sr._elementCallbacks.set(c,i)),i.add(e)}static _deleteElementCallback(c,e){const i=Sr._getElementCallbacks(c);i&&(i.delete(e),i.size||(Sr._elementCallbacks.delete(c),Sr._observerInstance.unobserve(c))),Sr._elementCallbacks&&!Sr._elementCallbacks.size&&(Sr._observerInstance=null,Sr._elementCallbacks=null)}static _getElementCallbacks(c){return Sr._elementCallbacks?Sr._elementCallbacks.get(c):null}static _createObserver(){Sr._observerInstance=new h.window.ResizeObserver(c=>{for(const e of c){const i=Sr._getElementCallbacks(e.target);if(i)for(const a of i)a(e)}})}};let va=Sr;function qd(c,e){c instanceof HTMLTextAreaElement&&(c.value=e),c.innerHTML=e}function Bl(c){return e=>e+c}function Rl(c){let e=0;for(;c.previousSibling;)c=c.previousSibling,e++;return e}function Po(c,e,i){c.insertBefore(i,c.childNodes[e]||null)}function io(c){return c&&c.nodeType===Node.COMMENT_NODE}function Aa(c){return!!(c&&c.getClientRects&&c.getClientRects().length)}va._observerInstance=null,va._elementCallbacks=null;var Vd=Math.pow;function $d({element:c,target:e,positions:i,limiter:a,fitInViewport:u,viewportOffsetConfig:f}){wi(e)&&(e=e()),wi(a)&&(a=a());const m=Zo(c),w=function(V){V=Object.assign({top:0,bottom:0,left:0,right:0},V);const K=new Ut(h.window);return K.top+=V.top,K.height-=V.top,K.bottom-=V.bottom,K.height-=V.bottom,K}(f),_=new Ut(c),E=Hd(e,w);let T;if(!E||!w.getIntersection(E))return null;const O={targetRect:E,elementRect:_,positionedElementAncestor:m,viewportRect:w};if(a||u){if(a){const V=Hd(a,w);V&&(O.limiterRect=V)}T=function(V,K){const{elementRect:ee}=K,se=ee.getArea(),ke=V.map(tt=>new Wd(tt,K)).filter(tt=>!!tt.name);let Ee=0,Le=null;for(const tt of ke){const{limiterIntersectionArea:ft,viewportIntersectionArea:Mt}=tt;if(ft===se)return tt;const rn=Vd(Mt,2)+Vd(ft,2);rn>Ee&&(Ee=rn,Le=tt)}return Le}(i,O)}else T=new Wd(i[0],O);return T}function Hd(c,e){const i=new Ut(c).getVisible();return i?i.getIntersection(e):null}class Wd{constructor(e,i){const a=e(i.targetRect,i.elementRect,i.viewportRect,i.limiterRect);if(!a)return;const{left:u,top:f,name:m,config:w}=a;this.name=m,this.config=w,this._positioningFunctionCoordinates={left:u,top:f},this._options=i}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function mf(c){const e=c.parentNode;e&&e.removeChild(c)}function xb({window:c,rect:e,alignToTop:i,forceScroll:a,viewportOffset:u}){const f=e.clone().moveBy(0,u.bottom),m=e.clone().moveBy(0,-u.top),w=new Ut(c).excludeScrollbarsAndBorders(),_=i&&a,E=[m,f].every(ee=>w.contains(ee));let{scrollX:T,scrollY:O}=c;const V=T,K=O;_?O-=w.top-e.top+u.top:E||(Gd(m,w)?O-=w.top-e.top+u.top:gf(f,w)&&(O+=i?e.top-w.top-u.top:e.bottom-w.bottom+u.bottom)),E||(bf(e,w)?T-=w.left-e.left+u.left:Sb(e,w)&&(T+=e.right-w.right+u.right)),T==V&&O===K||c.scrollTo(T,O)}function sm({parent:c,getRect:e,alignToTop:i,forceScroll:a,ancestorOffset:u=0,limiterElement:f}){const m=am(c),w=i&&a;let _,E,T;const O=f||m.document.body;for(;c!=O;)E=e(),_=new Ut(c).excludeScrollbarsAndBorders(),T=_.contains(E),w?c.scrollTop-=_.top-E.top+u:T||(Gd(E,_)?c.scrollTop-=_.top-E.top+u:gf(E,_)&&(c.scrollTop+=i?E.top-_.top-u:E.bottom-_.bottom+u)),T||(bf(E,_)?c.scrollLeft-=_.left-E.left+u:Sb(E,_)&&(c.scrollLeft+=E.right-_.right+u)),c=c.parentNode}function gf(c,e){return c.bottom>e.bottom}function Gd(c,e){return c.top<e.top}function bf(c,e){return c.left<e.left}function Sb(c,e){return c.right>e.right}function am(c){return Ll(c)?c.startContainer.ownerDocument.defaultView:c.ownerDocument.defaultView}function Eb(c){if(Ll(c)){let e=c.commonAncestorContainer;return or(e)&&(e=e.parentNode),e}return c.parentNode}function Db(c,e){const i=am(c),a=new Ut(c);if(i===e)return a;{let u=i;for(;u!=e;){const f=u.frameElement,m=new Ut(f).excludeScrollbarsAndBorders();a.moveBy(m.left,m.top),u=u.parent}}return a}const jw={ctrl:"âŒƒ",cmd:"âŒ˜",alt:"âŒ¥",shift:"â‡§"},Lw={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Ib={37:"â†",38:"â†‘",39:"â†’",40:"â†“",9:"â‡¥",33:"Page Up",34:"Page Down"},Pn=function(){const c={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)c[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)c[e-48]=e;for(let e=112;e<=123;e++)c["f"+(e-111)]=e;return Object.assign(c,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),c}(),lm=Object.fromEntries(Object.entries(Pn).map(([c,e])=>{let i;return i=e in Ib?Ib[e]:c.charAt(0).toUpperCase()+c.slice(1),[e,i]}));function Fl(c){let e;if(typeof c=="string"){if(e=Pn[c.toLowerCase()],!e)throw new N("keyboard-unknown-key",null,{key:c})}else e=c.keyCode+(c.altKey?Pn.alt:0)+(c.ctrlKey?Pn.ctrl:0)+(c.shiftKey?Pn.shift:0)+(c.metaKey?Pn.cmd:0);return e}function nl(c){return typeof c=="string"&&(c=function(e){return e.split("+").map(i=>i.trim())}(c)),c.map(e=>typeof e=="string"?function(i){if(i.endsWith("!"))return Fl(i.slice(0,-1));const a=Fl(i);return(b.isMac||b.isiOS)&&a==Pn.ctrl?Pn.cmd:a}(e):e).reduce((e,i)=>i+e,0)}function kf(c){let e=nl(c);return Object.entries(b.isMac||b.isiOS?jw:Lw).reduce((i,[a,u])=>(e&Pn[a]&&(e&=~Pn[a],i+=u),i),"")+(e?lm[e]:"")}function cm(c,e){const i=e==="ltr";switch(c){case Pn.arrowleft:return i?"left":"right";case Pn.arrowright:return i?"right":"left";case Pn.arrowup:return"up";case Pn.arrowdown:return"down"}}function sr(c){return Array.isArray(c)?c:[c]}const um=function(c,e,i){(i!==void 0&&!si(c[e],i)||i===void 0&&!(e in c))&&hs(c,e,i)},Tb=function(c){return function(e,i,a){for(var u=-1,f=Object(e),m=a(e),w=m.length;w--;){var _=m[++u];if(i(f[_],_,f)===!1)break}return e}}(),Bw=function(c){return Qt(c)&&Nl(c)},Nb=function(c,e){if((e!=="constructor"||typeof c[e]!="function")&&e!="__proto__")return c[e]},zl=function(c){return Za(c,pa(c))},Fs=function(c,e,i,a,u,f,m){var w=Nb(c,i),_=Nb(e,i),E=m.get(_);if(E)um(c,i,E);else{var T=void 0,O=T===void 0;if(O){var V=zt(_),K=!V&&Xa(_),ee=!V&&!K&&Cu(_);T=_,V||K||ee?zt(w)?T=w:Bw(w)?T=jc(w):K?(O=!1,T=uf(_,!0)):ee?(O=!1,T=Ou(_,!0)):T=[]:Mn(_)||Au(_)?(T=w,Au(w)?T=zl(w):ae(w)&&!wi(w)||(T=Ud(_))):O=!1}O&&(m.set(_,T),u(T,_,a,f,m),m.delete(_)),um(c,i,T)}},rl=function c(e,i,a,u,f){e!==i&&Tb(i,function(m,w){if(f||(f=new Dl),ae(m))Fs(e,i,w,a,c,u,f);else{var _=void 0;_===void 0&&(_=m),um(e,w,_)}},pa)},Ul=function(c){return c},Mb=function(c,e,i){switch(i.length){case 0:return c.call(e);case 1:return c.call(e,i[0]);case 2:return c.call(e,i[0],i[1]);case 3:return c.call(e,i[0],i[1],i[2])}return c.apply(e,i)};var il=Math.max;const ps=function(c,e,i){return e=il(e===void 0?c.length-1:e,0),function(){for(var a=arguments,u=-1,f=il(a.length-e,0),m=Array(f);++u<f;)m[u]=a[e+u];u=-1;for(var w=Array(e+1);++u<e;)w[u]=a[u];return w[e]=i(m),Mb(c,this,w)}},Rw=function(c){return function(){return c}},Fw=yu?function(c,e){return yu(c,"toString",{configurable:!0,enumerable:!1,value:Rw(e),writable:!0})}:Ul;var Pb=Date.now;const Ob=function(c){var e=0,i=0;return function(){var a=Pb(),u=16-(a-i);if(i=a,u>0){if(++e>=800)return arguments[0]}else e=0;return c.apply(void 0,arguments)}}(Fw),jb=function(c,e){return Ob(ps(c,e,Ul),c+"")},Uw=function(c,e,i){if(!ae(i))return!1;var a=typeof e;return!!(a=="number"?Nl(i)&&_u(e,i.length):a=="string"&&e in i)&&si(i[e],c)},Yd=function(c){return jb(function(e,i){var a=-1,u=i.length,f=u>1?i[u-1]:void 0,m=u>2?i[2]:void 0;for(f=c.length>3&&typeof f=="function"?(u--,f):void 0,m&&Uw(i[0],i[1],m)&&(f=u<3?void 0:f,u=1),e=Object(e);++a<u;){var w=i[a];w&&c(e,w,a,f)}return e})},Lu=Yd(function(c,e,i){rl(c,e,i)});function Kd(c,e,i=1,a){if(typeof i!="number")throw new N("translation-service-quantity-not-a-number",null,{quantity:i});const u=a||h.window.CKEDITOR_TRANSLATIONS,f=function(T){return Object.keys(T).length}(u);f===1&&(c=Object.keys(u)[0]);const m=e.id||e.string;if(f===0||!function(T,O,V){return!!V[T]&&!!V[T].dictionary[O]}(c,m,u))return i!==1?e.plural:e.string;const w=u[c].dictionary,_=u[c].getPluralForm||(T=>T===1?0:1),E=w[m];return typeof E=="string"?E:E[Number(_(i))]}h.window.CKEDITOR_TRANSLATIONS||(h.window.CKEDITOR_TRANSLATIONS={});const dm=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function Lb(c){return dm.includes(c)?"rtl":"ltr"}class Bb{constructor({uiLanguage:e="en",contentLanguage:i,translations:a}={}){this.uiLanguage=e,this.contentLanguage=i||this.uiLanguage,this.uiLanguageDirection=Lb(this.uiLanguage),this.contentLanguageDirection=Lb(this.contentLanguage),this.translations=function(u){return Array.isArray(u)?u.reduce((f,m)=>Lu(f,m)):u}(a),this.t=(u,f)=>this._t(u,f)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,i=[]){i=sr(i),typeof e=="string"&&(e={string:e});const a=e.plural?i[0]:1;return function(u,f){return u.replace(/%(\d+)/g,(m,w)=>w<f.length?f[w]:m)}(Kd(this.uiLanguage,e,a,this.translations),i)}}class zs extends oe(){constructor(e={},i={}){super();const a=Ie(e);if(a||(i=e),this._items=[],this._itemMap=new Map,this._idProperty=i.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],a)for(const u of e)this._items.push(u),this._itemMap.set(this._getItemIdBeforeAdding(u),u)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,i){return this.addMany([e],i)}addMany(e,i){if(i===void 0)i=this._items.length;else if(i>this._items.length||i<0)throw new N("collection-add-item-invalid-index",this);let a=0;for(const u of e){const f=this._getItemIdBeforeAdding(u),m=i+a;this._items.splice(m,0,u),this._itemMap.set(f,u),this.fire("add",u,m),a++}return this.fire("change",{added:e,removed:[],index:i}),this}get(e){let i;if(typeof e=="string")i=this._itemMap.get(e);else{if(typeof e!="number")throw new N("collection-get-invalid-arg",this);i=this._items[e]}return i||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const i=e[this._idProperty];return i&&this._itemMap.has(i)}}getIndex(e){let i;return i=typeof e=="string"?this._itemMap.get(e):e,i?this._items.indexOf(i):-1}remove(e){const[i,a]=this._remove(e);return this.fire("change",{added:[],removed:[i],index:a}),i}map(e,i){return this._items.map(e,i)}forEach(e,i){this._items.forEach(e,i)}find(e,i){return this._items.find(e,i)}filter(e,i){return this._items.filter(e,i)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new N("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:i=>{this._setUpBindToBinding(a=>new i(a))},using:i=>{typeof i=="function"?this._setUpBindToBinding(i):this._setUpBindToBinding(a=>a[i])}}}_setUpBindToBinding(e){const i=this._bindToCollection,a=(u,f,m)=>{const w=i._bindToCollection==this,_=i._bindToInternalToExternalMap.get(f);if(w&&_)this._bindToExternalToInternalMap.set(f,_),this._bindToInternalToExternalMap.set(_,f);else{const E=e(f);if(!E)return void this._skippedIndexesFromExternal.push(m);let T=m;for(const O of this._skippedIndexesFromExternal)m>O&&T--;for(const O of i._skippedIndexesFromExternal)T>=O&&T++;this._bindToExternalToInternalMap.set(f,E),this._bindToInternalToExternalMap.set(E,f),this.add(E,T);for(let O=0;O<i._skippedIndexesFromExternal.length;O++)T<=i._skippedIndexesFromExternal[O]&&i._skippedIndexesFromExternal[O]++}};for(const u of i)a(0,u,i.getIndex(u));this.listenTo(i,"add",a),this.listenTo(i,"remove",(u,f,m)=>{const w=this._bindToExternalToInternalMap.get(f);w&&this.remove(w),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((_,E)=>(m<E&&_.push(E-1),m>E&&_.push(E),_),[])})}_getItemIdBeforeAdding(e){const i=this._idProperty;let a;if(i in e){if(a=e[i],typeof a!="string")throw new N("collection-add-invalid-id",this);if(this.get(a))throw new N("collection-add-item-already-exists",this)}else e[i]=a=P();return a}_remove(e){let i,a,u,f=!1;const m=this._idProperty;if(typeof e=="string"?(a=e,u=this._itemMap.get(a),f=!u,u&&(i=this._items.indexOf(u))):typeof e=="number"?(i=e,u=this._items[i],f=!u,u&&(a=u[m])):(u=e,a=u[m],i=this._items.indexOf(u),f=i==-1||!this._itemMap.get(a)),f)throw new N("collection-remove-404",this);this._items.splice(i,1),this._itemMap.delete(a);const w=this._bindToInternalToExternalMap.get(u);return this._bindToInternalToExternalMap.delete(u),this._bindToExternalToInternalMap.delete(w),this.fire("remove",u,i),[u,i]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Bi(c){const e=c.next();return e.done?null:e.value}class Ri extends _i(Ue()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new N("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class po{constructor(){this._listener=new(_i())}listenTo(e){this._listener.listenTo(e,"keydown",(i,a)=>{this._listener.fire("_keydown:"+Fl(a),a)})}set(e,i,a={}){const u=nl(e),f=a.priority;this._listener.listenTo(this._listener,"_keydown:"+u,(m,w)=>{i(w,()=>{w.preventDefault(),w.stopPropagation(),m.stop()}),m.return=!0},{priority:f})}press(e){return!!this._listener.fire("_keydown:"+Fl(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function _a(c){return Ie(c)?new Map(c):function(e){const i=new Map;for(const a in e)i.set(a,e[a]);return i}(c)}function hm(c,e){let i;function a(...u){a.cancel(),i=setTimeout(()=>c(...u),e)}return a.cancel=()=>{clearTimeout(i)},a}function wf(c,e){return!!(i=c.charAt(e-1))&&i.length==1&&/[\ud800-\udbff]/.test(i)&&function(a){return!!a&&a.length==1&&/[\udc00-\udfff]/.test(a)}(c.charAt(e));var i}function Bu(c,e){return!!(i=c.charAt(e))&&i.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i);var i}const qw=function(){const c=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,i="(?:"+c.map(a=>a.source).join("|")+")";return new RegExp(`${e}|${i}(?:â€${i})*`,"ug")}();function Rb(c,e){const i=String(c).matchAll(qw);return Array.from(i).some(a=>a.index<e&&e<a.index+a[0].length)}class es extends zs{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(i,a,u)=>{this._renderViewIntoCollectionParent(a,u)}),this.on("remove",(i,a)=>{a.element&&this._parentElement&&a.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const i of this)this._renderViewIntoCollectionParent(i)}delegate(...e){if(!e.length||!e.every(i=>typeof i=="string"))throw new N("ui-viewcollection-delegate-wrong-events",this);return{to:i=>{for(const a of this)for(const u of e)a.delegate(u).to(i);this.on("add",(a,u)=>{for(const f of e)u.delegate(f).to(i)}),this.on("remove",(a,u)=>{for(const f of e)u.stopDelegating(f,i)})}}}_renderViewIntoCollectionParent(e,i){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[i])}remove(e){return super.remove(e)}}class I extends oe(){constructor(e){super(),Object.assign(this,ze(De(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new N("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(i){if(i.children)for(const a of i.children)Fe(a)?yield a:Ve(a)&&(yield*e(a))}(this)}static bind(e,i){return{to:(a,u)=>new W({eventNameOrFunction:a,attribute:a,observable:e,emitter:i,callback:u}),if:(a,u,f)=>new te({observable:e,emitter:i,attribute:a,valueIfTrue:u,callback:f})}}static extend(e,i){if(e._isRendered)throw new N("template-extend-render",[this,e]);wt(e,ze(De(i)))}_renderNode(e){let i;if(i=e.node?this.tag&&this.text:this.tag?this.text:!this.text,i)throw new N("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let i=e.node;return i||(i=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),i}_renderText(e){let i=e.node;return i?e.revertData.text=i.textContent:i=e.node=document.createTextNode(""),ce(this.text)?this._bindToObservable({schema:this.text,updater:ge(i),data:e}):i.textContent=this.text.join(""),i}_renderAttributes(e){if(!this.attributes)return;const i=e.node,a=e.revertData;for(const u in this.attributes){const f=i.getAttribute(u),m=this.attributes[u];a&&(a.attributes[u]=f);const w=vt(m)?m[0].ns:null;if(ce(m)){const _=vt(m)?m[0].value:m;a&&gt(u)&&_.unshift(f),this._bindToObservable({schema:_,updater:we(i,u,w),data:e})}else if(u=="style"&&typeof m[0]!="string")this._renderStyleAttribute(m[0],e);else{a&&f&&gt(u)&&m.unshift(f);const _=m.map(E=>E&&E.value||E).reduce((E,T)=>E.concat(T),[]).reduce(rt,"");st(_)||i.setAttributeNS(w,u,_)}}}_renderStyleAttribute(e,i){const a=i.node;for(const u in e){const f=e[u];ce(f)?this._bindToObservable({schema:[f],updater:ve(a,u),data:i}):a.style[u]=f}}_renderElementChildren(e){const i=e.node,a=e.intoFragment?document.createDocumentFragment():i,u=e.isApplying;let f=0;for(const m of this.children)if(mt(m)){if(!u){m.setParent(i);for(const w of m)a.appendChild(w.element)}}else if(Fe(m))u||(m.isRendered||m.render(),a.appendChild(m.element));else if(fs(m))a.appendChild(m);else if(u){const w={children:[],bindings:[],attributes:{}};e.revertData.children.push(w),m._renderNode({intoFragment:!1,node:a.childNodes[f++],isApplying:!0,revertData:w})}else a.appendChild(m.render());e.intoFragment&&i.appendChild(a)}_setUpListeners(e){if(this.eventListeners)for(const i in this.eventListeners){const a=this.eventListeners[i].map(u=>{const[f,m]=i.split("@");return u.activateDomEventListener(f,m,e)});e.revertData&&e.revertData.bindings.push(a)}}_bindToObservable({schema:e,updater:i,data:a}){const u=a.revertData;me(e,i,a);const f=e.filter(m=>!st(m)).filter(m=>m.observable).map(m=>m.activateAttributeListener(e,i,a));u&&u.bindings.push(f)}_revertTemplateFromNode(e,i){for(const u of i.bindings)for(const f of u)f();if(i.text)return void(e.textContent=i.text);const a=e;for(const u in i.attributes){const f=i.attributes[u];f===null?a.removeAttribute(u):a.setAttribute(u,f)}for(let u=0;u<i.children.length;++u)this._revertTemplateFromNode(a.childNodes[u],i.children[u])}}class j{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const i=this.observable[this.attribute];return this.callback?this.callback(i,e):i}activateAttributeListener(e,i,a){const u=()=>me(e,i,a);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,u),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,u)}}}class W extends j{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,i,a){const u=(f,m)=>{i&&!m.target.matches(i)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(m):this.observable.fire(this.eventNameOrFunction,m))};return this.emitter.listenTo(a.node,e,u),()=>{this.emitter.stopListening(a.node,e,u)}}}class te extends j{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!st(super.getValue(e))&&(this.valueIfTrue||!0)}}function ce(c){return!!c&&(c.value&&(c=c.value),Array.isArray(c)?c.some(ce):c instanceof j)}function me(c,e,{node:i}){const a=function(f,m){return f.map(w=>w instanceof j?w.getValue(m):w)}(c,i);let u;u=c.length==1&&c[0]instanceof te?a[0]:a.reduce(rt,""),st(u)?e.remove():e.set(u)}function ge(c){return{set(e){c.textContent=e},remove(){c.textContent=""}}}function we(c,e,i){return{set(a){c.setAttributeNS(i,e,a)},remove(){c.removeAttributeNS(i,e)}}}function ve(c,e){return{set(i){c.style[e]=i},remove(){c.style[e]=null}}}function De(c){return Fc(c,e=>{if(e&&(e instanceof j||Ve(e)||Fe(e)||mt(e)))return e})}function ze(c){if(typeof c=="string"?c=function(e){return{text:[e]}}(c):c.text&&function(e){e.text=sr(e.text)}(c),c.on&&(c.eventListeners=function(e){for(const i in e)nt(e,i);return e}(c.on),delete c.on),!c.text){c.attributes&&function(i){for(const a in i)i[a].value&&(i[a].value=sr(i[a].value)),nt(i,a)}(c.attributes);const e=[];if(c.children)if(mt(c.children))e.push(c.children);else for(const i of c.children)Ve(i)||Fe(i)||fs(i)?e.push(i):e.push(new I(i));c.children=e}return c}function nt(c,e){c[e]=sr(c[e])}function rt(c,e){return st(e)?c:st(c)?e:`${c} ${e}`}function Ge(c,e){for(const i in e)c[i]?c[i].push(...e[i]):c[i]=e[i]}function wt(c,e){if(e.attributes&&(c.attributes||(c.attributes={}),Ge(c.attributes,e.attributes)),e.eventListeners&&(c.eventListeners||(c.eventListeners={}),Ge(c.eventListeners,e.eventListeners)),e.text&&c.text.push(...e.text),e.children&&e.children.length){if(c.children.length!=e.children.length)throw new N("ui-template-extend-children-mismatch",c);let i=0;for(const a of e.children)wt(c.children[i++],a)}}function st(c){return!c&&c!==0}function Fe(c){return c instanceof Nt}function Ve(c){return c instanceof I}function mt(c){return c instanceof es}function vt(c){return ae(c[0])&&c[0].ns}function gt(c){return c=="class"||c=="style"}var Bt=s(2591),et=s.n(Bt),Zt=s(7676),Ot={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(Zt.A,Ot),Zt.A.locals;class Nt extends _i(Ue()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new zs,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(i,a)=>{a.locale=e,a.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=I.bind(this,this)}createCollection(e){const i=new es(e);return this._viewCollections.add(i),i}registerChild(e){Ie(e)||(e=[e]);for(const i of e)this._unboundChildren.add(i)}deregisterChild(e){Ie(e)||(e=[e]);for(const i of e)this._unboundChildren.remove(i)}setTemplate(e){this.template=new I(e)}extendTemplate(e){I.extend(this.template,e)}render(){if(this.isRendered)throw new N("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}function zn({emitter:c,activator:e,callback:i,contextElements:a}){c.listenTo(document,"mousedown",(u,f)=>{if(!e())return;const m=typeof f.composedPath=="function"?f.composedPath():[],w=typeof a=="function"?a():a;for(const _ of w)if(_.contains(f.target)||m.includes(_))return;i()})}function On(c){return class extends c{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function Sn({view:c}){c.listenTo(c.element,"submit",(e,i)=>{i.preventDefault(),c.fire("submit")},{useCapture:!0})}function ur({keystrokeHandler:c,focusTracker:e,gridItems:i,numberOfColumns:a,uiLanguageDirection:u}){const f=()=>a;function m(E){return T=>{const O=i.find(ee=>ee.element===e.focusedElement),V=i.getIndex(O),K=E(V,i);i.get(K).focus(),T.stopPropagation(),T.preventDefault()}}function w(E,T){return E===T-1?0:E+1}function _(E,T){return E===0?T-1:E-1}c.set("arrowright",m((E,T)=>u==="rtl"?_(E,T.length):w(E,T.length))),c.set("arrowleft",m((E,T)=>u==="rtl"?w(E,T.length):_(E,T.length))),c.set("arrowup",m((E,T)=>{let O=E-f();return O<0&&(O=E+f()*Math.floor(T.length/f()),O>T.length-1&&(O-=f())),O})),c.set("arrowdown",m((E,T)=>{let O=E+f();return O>T.length-1&&(O=E%f()),O}))}class ct extends Ue(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",kn,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",kn),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function kn(c){c.return=!1,c.stop()}class Ht extends Ue(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",i=>{if(!this.affectsData)return;const a=e.model.document.selection,u=a.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(a);(e.isReadOnly||this._isEnabledBasedOnSelection&&!u)&&(i.return=!1,i.stop())},{priority:"highest"}),this.on("execute",i=>{this.isEnabled||i.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",mo,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",mo),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function mo(c){c.return=!1,c.stop()}class Xr extends Ht{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const i=this._getFirstEnabledCommand();return!!i&&i.execute(e)}registerChildCommand(e,i={}){$(this._childCommandsDefinitions,{command:e,priority:i.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:i})=>i.isEnabled);return e&&e.command}}class go extends oe(){constructor(e,i=[],a=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const u of i)u.pluginName&&this._availablePlugins.set(u.pluginName,u);this._contextPlugins=new Map;for(const[u,f]of a)this._contextPlugins.set(u,f),this._contextPlugins.set(f,u),u.pluginName&&this._availablePlugins.set(u.pluginName,u)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const i=this._plugins.get(e);if(!i){let a=e;throw typeof e=="function"&&(a=e.pluginName||e.name),new N("plugincollection-plugin-not-loaded",this._context,{plugin:a})}return i}has(e){return this._plugins.has(e)}init(e,i=[],a=[]){const u=this,f=this._context;(function ee(se,ke=new Set){se.forEach(Ee=>{_(Ee)&&(ke.has(Ee)||(ke.add(Ee),Ee.pluginName&&!u._availablePlugins.has(Ee.pluginName)&&u._availablePlugins.set(Ee.pluginName,Ee),Ee.requires&&ee(Ee.requires,ke)))})})(e),V(e);const m=[...function ee(se,ke=new Set){return se.map(Ee=>_(Ee)?Ee:u._availablePlugins.get(Ee)).reduce((Ee,Le)=>ke.has(Le)?Ee:(ke.add(Le),Le.requires&&(V(Le.requires,Le),ee(Le.requires,ke).forEach(tt=>Ee.add(tt))),Ee.add(Le)),new Set)}(e.filter(ee=>!T(ee,i)))];(function(ee,se){for(const ke of se){if(typeof ke!="function")throw new N("plugincollection-replace-plugin-invalid-type",null,{pluginItem:ke});const Ee=ke.pluginName;if(!Ee)throw new N("plugincollection-replace-plugin-missing-name",null,{pluginItem:ke});if(ke.requires&&ke.requires.length)throw new N("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:Ee});const Le=u._availablePlugins.get(Ee);if(!Le)throw new N("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:Ee});const tt=ee.indexOf(Le);if(tt===-1){if(u._contextPlugins.has(Le))return;throw new N("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:Ee})}if(Le.requires&&Le.requires.length)throw new N("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:Ee});ee.splice(tt,1,ke),u._availablePlugins.set(Ee,ke)}})(m,a);const w=m.map(ee=>{let se=u._contextPlugins.get(ee);return se=se||new ee(f),u._add(ee,se),se});return K(w,"init").then(()=>K(w,"afterInit")).then(()=>w);function _(ee){return typeof ee=="function"}function E(ee){return _(ee)&&!!ee.isContextPlugin}function T(ee,se){return se.some(ke=>ke===ee||O(ee)===ke||O(ke)===ee)}function O(ee){return _(ee)?ee.pluginName||ee.name:ee}function V(ee,se=null){ee.map(ke=>_(ke)?ke:u._availablePlugins.get(ke)||ke).forEach(ke=>{(function(Ee,Le){if(!_(Ee))throw Le?new N("plugincollection-soft-required",f,{missingPlugin:Ee,requiredBy:O(Le)}):new N("plugincollection-plugin-not-found",f,{plugin:Ee})})(ke,se),function(Ee,Le){if(E(Le)&&!E(Ee))throw new N("plugincollection-context-required",f,{plugin:O(Ee),requiredBy:O(Le)})}(ke,se),function(Ee,Le){if(Le&&T(Ee,i))throw new N("plugincollection-required",f,{plugin:O(Ee),requiredBy:O(Le)})}(ke,se)})}function K(ee,se){return ee.reduce((ke,Ee)=>Ee[se]?u._contextPlugins.has(Ee)?ke:ke.then(Ee[se].bind(Ee)):ke,Promise.resolve())}}destroy(){const e=[];for(const[,i]of this)typeof i.destroy!="function"||this._contextPlugins.has(i)||e.push(i.destroy());return Promise.all(e)}_add(e,i){this._plugins.set(e,i);const a=e.pluginName;if(a){if(this._plugins.has(a))throw new N("plugincollection-plugin-name-conflict",null,{pluginName:a,plugin1:this._plugins.get(a).constructor,plugin2:e});this._plugins.set(a,i)}}}var Jn=Object.getOwnPropertySymbols,ts=Object.prototype.hasOwnProperty,ns=Object.prototype.propertyIsEnumerable;class Ci{constructor(e){this._contextOwner=null;const i=e||{},{translations:a}=i,u=((w,_)=>{var E={};for(var T in w)ts.call(w,T)&&_.indexOf(T)<0&&(E[T]=w[T]);if(w!=null&&Jn)for(var T of Jn(w))_.indexOf(T)<0&&ns.call(w,T)&&(E[T]=w[T]);return E})(i,["translations"]);this.config=new Jo(u,this.constructor.defaultConfig);const f=this.constructor.builtinPlugins;this.config.define("plugins",f),this.plugins=new go(this,f);const m=this.config.get("language")||{};this.locale=new Bb({uiLanguage:typeof m=="string"?m:m.ui,contentLanguage:this.config.get("language.content"),translations:a}),this.t=this.locale.t,this.editors=new zs}initPlugins(){const e=this.config.get("plugins")||[],i=this.config.get("substitutePlugins")||[];for(const a of e.concat(i)){if(typeof a!="function")throw new N("context-initplugins-constructor-only",null,{Plugin:a});if(a.isContextPlugin!==!0)throw new N("context-initplugins-invalid-plugin",null,{Plugin:a})}return this.plugins.init(e,[],i)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,i){if(this._contextOwner)throw new N("context-addeditor-private-context");this.editors.add(e),i&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const i of this.config.names())["plugins","removePlugins","extraPlugins"].includes(i)||(e[i]=this.config.get(i));return e}static create(e){return new Promise(i=>{const a=new this(e);i(a.initPlugins().then(()=>a))})}}class li extends Ue(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class bo extends po{constructor(e){super(),this.editor=e}set(e,i,a={}){if(typeof i=="string"){const u=i;i=(f,m)=>{this.editor.execute(u),m()}}super.set(e,i,a)}}var rs=s(4098),Ca={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(rs.A,Ca),rs.A.locals;const ei=new WeakMap;let xa=!1;function ql({view:c,element:e,text:i,isDirectHost:a=!0,keepOnFocus:u=!1}){const f=c.document;function m(w){ei.get(f).set(e,{text:w,isDirectHost:a,keepOnFocus:u,hostElement:a?e:null}),c.change(_=>Qd(f,_))}ei.has(f)||(ei.set(f,new Map),f.registerPostFixer(w=>Qd(f,w)),f.on("change:isComposing",()=>{c.change(w=>Qd(f,w))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(w,_,E)=>{m(E)}),e.placeholder?m(e.placeholder):i&&m(i),i&&function(){xa||L("enableplaceholder-deprecated-text-option"),xa=!0}()}function Ru(c,e){return!e.hasClass("ck-placeholder")&&(c.addClass("ck-placeholder",e),!0)}function Vl(c,e){return!!e.hasClass("ck-placeholder")&&(c.removeClass("ck-placeholder",e),!0)}function Vr(c,e){if(!c.isAttached()||Array.from(c.getChildren()).some(u=>!u.is("uiElement")))return!1;const i=c.document,a=i.selection.anchor;return(!i.isComposing||!a||a.parent!==c)&&(!!e||!i.isFocused||!!a&&a.parent!==c)}function Qd(c,e){const i=ei.get(c),a=[];let u=!1;for(const[f,m]of i)m.isDirectHost&&(a.push(f),fm(e,f,m)&&(u=!0));for(const[f,m]of i){if(m.isDirectHost)continue;const w=Fb(f);w&&(a.includes(w)||(m.hostElement=w,fm(e,f,m)&&(u=!0)))}return u}function fm(c,e,i){const{text:a,isDirectHost:u,hostElement:f}=i;let m=!1;return f.getAttribute("data-placeholder")!==a&&(c.setAttribute("data-placeholder",a,f),m=!0),(u||e.childCount==1)&&Vr(f,i.keepOnFocus)?Ru(c,f)&&(m=!0):Vl(c,f)&&(m=!0),m}function Fb(c){if(c.childCount){const e=c.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Sa{is(){throw new Error("is() method is abstract")}}const Fu=function(c){return jr(c,4)};class Ea extends oe(Sa){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new N("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.index),i=i.parent;return e}getAncestors(e={}){const i=[];let a=e.includeSelf?this:this.parent;for(;a;)i[e.parentFirst?"push":"unshift"](a),a=a.parent;return i}getCommonAncestor(e,i={}){const a=this.getAncestors(i),u=e.getAncestors(i);let f=0;for(;a[f]==u[f]&&a[f];)f++;return f===0?null:a[f-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),a=e.getPath(),u=Me(i,a);switch(u){case"prefix":return!0;case"extension":return!1;default:return i[u]<a[u]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,i){this.fire(`change:${e}`,i),this.parent&&this.parent._fireChange(e,i)}toJSON(){const e=Fu(this);return delete e.parent,e}}Ea.prototype.is=function(c){return c==="node"||c==="view:node"};class En extends Ea{constructor(e,i){super(e),this._textData=i}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof En&&(this===e||this.data===e.data)}_clone(){return new En(this.document,this.data)}}En.prototype.is=function(c){return c==="$text"||c==="view:$text"||c==="text"||c==="view:text"||c==="node"||c==="view:node"};class ko extends Sa{constructor(e,i,a){if(super(),this.textNode=e,i<0||i>e.data.length)throw new N("view-textproxy-wrong-offsetintext",this);if(a<0||i+a>e.data.length)throw new N("view-textproxy-wrong-length",this);this.data=e.data.substring(i,i+a),this.offsetInText=i}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const i=[];let a=e.includeSelf?this.textNode:this.parent;for(;a!==null;)i[e.parentFirst?"push":"unshift"](a),a=a.parent;return i}}ko.prototype.is=function(c){return c==="$textProxy"||c==="view:$textProxy"||c==="textProxy"||c==="view:textProxy"};class wo{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let i of e)(typeof i=="string"||i instanceof RegExp)&&(i={name:i}),this._patterns.push(i)}match(...e){for(const i of e)for(const a of this._patterns){const u=pm(i,a);if(u)return{element:i,pattern:a,match:u}}return null}matchAll(...e){const i=[];for(const a of e)for(const u of this._patterns){const f=pm(a,u);f&&i.push({element:a,pattern:u,match:f})}return i.length>0?i:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],i=e.name;return typeof e=="function"||!i||i instanceof RegExp?null:i}}function pm(c,e){if(typeof e=="function")return e(c);const i={};return e.name&&(i.name=function(a,u){return a instanceof RegExp?!!u.match(a):a===u}(e.name,c.name),!i.name)||e.attributes&&(i.attributes=function(a,u){const f=new Set(u.getAttributeKeys());return Mn(a)?(a.style!==void 0&&L("matcher-pattern-deprecated-attributes-style-key",a),a.class!==void 0&&L("matcher-pattern-deprecated-attributes-class-key",a)):(f.delete("style"),f.delete("class")),zu(a,f,m=>u.getAttribute(m))}(e.attributes,c),!i.attributes)||e.classes&&(i.classes=function(a,u){return zu(a,u.getClassNames(),()=>{})}(e.classes,c),!i.classes)||e.styles&&(i.styles=function(a,u){return zu(a,u.getStyleNames(!0),f=>u.getStyle(f))}(e.styles,c),!i.styles)?null:i}function zu(c,e,i){const a=function(m){return Array.isArray(m)?m.map(w=>Mn(w)?(w.key!==void 0&&w.value!==void 0||L("matcher-pattern-missing-key-or-value",w),[w.key,w.value]):[w,!0]):Mn(m)?Object.entries(m):[[m,!0]]}(c),u=Array.from(e),f=[];if(a.forEach(([m,w])=>{u.forEach(_=>{(function(E,T){return E===!0||E===T||E instanceof RegExp&&T.match(E)})(m,_)&&function(E,T,O){if(E===!0)return!0;const V=O(T);return E===V||E instanceof RegExp&&!!String(V).match(E)}(w,_,i)&&f.push(_)})}),a.length&&!(f.length<a.length))return f}const Jd=function(c){return typeof c=="symbol"||Qt(c)&&Rt(c)=="[object Symbol]"};var yf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mm=/^\w*$/;const Uu=function(c,e){if(zt(c))return!1;var i=typeof c;return!(i!="number"&&i!="symbol"&&i!="boolean"&&c!=null&&!Jd(c))||mm.test(c)||!yf.test(c)||e!=null&&c in Object(e)};function Vc(c,e){if(typeof c!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var i=function(){var a=arguments,u=e?e.apply(this,a):a[0],f=i.cache;if(f.has(u))return f.get(u);var m=c.apply(this,a);return i.cache=f.set(u,m)||f,m};return i.cache=new(Vc.Cache||Tc),i}Vc.Cache=Tc;const Vw=Vc,$w=function(c){var e=Vw(c,function(a){return i.size===500&&i.clear(),a}),i=e.cache;return e};var gm=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$l=/\\(\\)?/g,Hw=$w(function(c){var e=[];return c.charCodeAt(0)===46&&e.push(""),c.replace(gm,function(i,a,u,f){e.push(u?f.replace($l,"$1"):a||i)}),e});const Ww=Hw,Gw=function(c,e){for(var i=-1,a=c==null?0:c.length,u=Array(a);++i<a;)u[i]=e(c[i],i,c);return u};var bm=it?it.prototype:void 0,Zd=bm?bm.toString:void 0;const zb=function c(e){if(typeof e=="string")return e;if(zt(e))return Gw(e,c)+"";if(Jd(e))return Zd?Zd.call(e):"";var i=e+"";return i=="0"&&1/e==-1/0?"-0":i},vf=function(c){return c==null?"":zb(c)},$c=function(c,e){return zt(c)?c:Uu(c,e)?[c]:Ww(vf(c))},km=function(c){var e=c==null?0:c.length;return e?c[e-1]:void 0},Da=function(c){if(typeof c=="string"||Jd(c))return c;var e=c+"";return e=="0"&&1/c==-1/0?"-0":e},Af=function(c,e){for(var i=0,a=(e=$c(e,c)).length;c!=null&&i<a;)c=c[Da(e[i++])];return i&&i==a?c:void 0},Ub=function(c,e,i){var a=-1,u=c.length;e<0&&(e=-e>u?0:u+e),(i=i>u?u:i)<0&&(i+=u),u=e>i?0:i-e>>>0,e>>>=0;for(var f=Array(u);++a<u;)f[a]=c[a+e];return f},_f=function(c,e){return e.length<2?c:Af(c,Ub(e,0,-1))},qb=function(c,e){return e=$c(e,c),(c=_f(c,e))==null||delete c[Da(km(e))]},wm=function(c,e){return c==null||qb(c,e)},ms=function(c,e,i){var a=c==null?void 0:Af(c,e);return a===void 0?i:a},Vb=function(c,e,i,a){if(!ae(c))return c;for(var u=-1,f=(e=$c(e,c)).length,m=f-1,w=c;w!=null&&++u<f;){var _=Da(e[u]),E=i;if(_==="__proto__"||_==="constructor"||_==="prototype")return c;if(u!=m){var T=w[_];(E=void 0)==void 0&&(E=ae(T)?T:_u(e[u+1])?[]:{})}Il(w,_,E),w=w[_]}return c},$b=function(c,e,i){return c==null?c:Vb(c,e,i)};class ym{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const i=function(a){let u=null,f=0,m=0,w=null;const _=new Map;if(a==="")return _;a.charAt(a.length-1)!=";"&&(a+=";");for(let E=0;E<a.length;E++){const T=a.charAt(E);if(u===null)switch(T){case":":w||(w=a.substr(f,E-f),m=E+1);break;case'"':case"'":u=T;break;case";":{const O=a.substr(m,E-m);w&&_.set(w.trim(),O.trim()),w=null,f=E+1;break}}else T===u&&(u=null)}return _}(e);for(const[a,u]of i)this._styleProcessor.toNormalizedForm(a,u,this._styles)}has(e){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(e,this._styles).find(([a])=>a===e);return Array.isArray(i)}set(e,i){if(ae(e))for(const[a,u]of Object.entries(e))this._styleProcessor.toNormalizedForm(a,u,this._styles);else this._styleProcessor.toNormalizedForm(e,i,this._styles)}remove(e){const i=Hl(e);wm(this._styles,i),delete this._styles[e],this._cleanEmptyObjectsOnPath(i)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!ae(this._styles[e]))return this._styles[e];const i=this._styleProcessor.getReducedForm(e,this._styles).find(([a])=>a===e);return Array.isArray(i)?i[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map(([i])=>i)}clear(){this._styles={}}getStylesEntries(){const e=[],i=Object.keys(this._styles);for(const a of i)e.push(...this._styleProcessor.getReducedForm(a,this._styles));return e}_cleanEmptyObjectsOnPath(e){const i=e.split(".");if(!(i.length>1))return;const a=i.splice(0,i.length-1).join("."),u=ms(this._styles,a);u&&!Object.keys(u).length&&this.remove(a)}}class Hb{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,i,a){if(ae(i))vm(a,Hl(e),i);else if(this._normalizers.has(e)){const u=this._normalizers.get(e),{path:f,value:m}=u(i);vm(a,f,m)}else vm(a,e,i)}getNormalized(e,i){if(!e)return Lu({},i);if(i[e]!==void 0)return i[e];if(this._extractors.has(e)){const a=this._extractors.get(e);if(typeof a=="string")return ms(i,a);const u=a(e,i);if(u)return u}return ms(i,Hl(e))}getReducedForm(e,i){const a=this.getNormalized(e,i);return a===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(a):[[e,a]]}getStyleNames(e){const i=Array.from(this._consumables.keys()).filter(u=>{const f=this.getNormalized(u,e);return f&&typeof f=="object"?Object.keys(f).length:f}),a=new Set([...i,...Object.keys(e)]);return Array.from(a)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,i){this._normalizers.set(e,i)}setExtractor(e,i){this._extractors.set(e,i)}setReducer(e,i){this._reducers.set(e,i)}setStyleRelation(e,i){this._mapStyleNames(e,i);for(const a of i)this._mapStyleNames(a,[e])}_mapStyleNames(e,i){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...i)}}function Hl(c){return c.replace("-",".")}function vm(c,e,i){let a=i;ae(i)&&(a=Lu({},ms(c,e),i)),$b(c,e,a)}class Oo extends Ea{constructor(e,i,a,u){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=i,this._attrs=function(f){const m=_a(f);for(const[w,_]of m)_===null?m.delete(w):typeof _!="string"&&m.set(w,String(_));return m}(a),this._children=[],u&&this._insertChild(0,u),this._classes=new Set,this._attrs.has("class")){const f=this._attrs.get("class");Wb(this._classes,f),this._attrs.delete("class")}this._styles=new ym(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const i=this._styles.toString();return i==""?void 0:i}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Oo))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[i,a]of this._attrs)if(!e._attrs.has(i)||e._attrs.get(i)!==a)return!1;for(const i of this._classes)if(!e._classes.has(i))return!1;for(const i of this._styles.getStyleNames())if(!e._styles.has(i)||e._styles.getAsString(i)!==this._styles.getAsString(i))return!1;return!0}hasClass(...e){for(const i of e)if(!this._classes.has(i))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const i of e)if(!this._styles.has(i))return!1;return!0}findAncestor(...e){const i=new wo(...e);let a=this.parent;for(;a&&!a.is("documentFragment");){if(i.match(a))return a;a=a.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),i=this._styles.toString(),a=Array.from(this._attrs).map(u=>`${u[0]}="${u[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(i?` style="${i}"`:"")+(a==""?"":` ${a}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const i=[];if(e)for(const u of this.getChildren())i.push(u._clone(e));const a=new this.constructor(this.document,this.name,this._attrs,i);return a._classes=new Set(this._classes),a._styles.set(this._styles.getNormalized()),a._customProperties=new Map(this._customProperties),a.getFillerOffset=this.getFillerOffset,a._unsafeAttributesToRender=this._unsafeAttributesToRender,a}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,i){this._fireChange("children",this);let a=0;const u=function(f,m){return typeof m=="string"?[new En(f,m)]:(Ie(m)||(m=[m]),Array.from(m).map(w=>typeof w=="string"?new En(f,w):w instanceof ko?new En(f,w.data):w))}(this.document,i);for(const f of u)f.parent!==null&&f._remove(),f.parent=this,f.document=this.document,this._children.splice(e,0,f),e++,a++;return a}_removeChildren(e,i=1){this._fireChange("children",this);for(let a=e;a<e+i;a++)this._children[a].parent=null;return this._children.splice(e,i)}_setAttribute(e,i){const a=String(i);this._fireChange("attributes",this),e=="class"?Wb(this._classes,a):e=="style"?this._styles.setTo(a):this._attrs.set(e,a)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const i of sr(e))this._classes.add(i)}_removeClass(e){this._fireChange("attributes",this);for(const i of sr(e))this._classes.delete(i)}_setStyle(e,i){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,i)}_removeStyle(e){this._fireChange("attributes",this);for(const i of sr(e))this._styles.remove(i)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function Wb(c,e){const i=e.split(/\s+/);c.clear(),i.forEach(a=>c.add(a))}Oo.prototype.is=function(c,e){return e?e===this.name&&(c==="element"||c==="view:element"):c==="element"||c==="view:element"||c==="node"||c==="view:node"};class qu extends Oo{constructor(e,i,a,u){super(e,i,a,u),this.getFillerOffset=Yw}}function Yw(){const c=[...this.getChildren()],e=c[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const i of c)if(!i.is("uiElement"))return null;return this.childCount}qu.prototype.is=function(c,e){return e?e===this.name&&(c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Wl extends Ue(qu){constructor(e,i,a,u){super(e,i,a,u),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",f=>f&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Wl.prototype.is=function(c,e){return e?e===this.name&&(c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};const Cf=Symbol("rootName");class Xd extends Wl{constructor(e,i){super(e,i),this.rootName="main"}get rootName(){return this.getCustomProperty(Cf)}set rootName(e){this._setCustomProperty(Cf,e)}set _name(e){this.name=e}}Xd.prototype.is=function(c,e){return e?e===this.name&&(c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"):c==="rootElement"||c==="view:rootElement"||c==="editableElement"||c==="view:editableElement"||c==="containerElement"||c==="view:containerElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class yo{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new N("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new N("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Dt._createAt(e.startPosition):this._position=Dt._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let i,a;do a=this.position,i=this.next();while(!i.done&&e(i.value));i.done||(this._position=a)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const i=this.position,a=e.parent;if(a.parent===null&&e.offset===a.childCount)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let u;if(a instanceof En){if(e.isAtEnd)return this._position=Dt._createAfter(a),this._next();u=a.data[e.offset]}else u=a.getChild(e.offset);if(u instanceof Oo){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new Dt(u,0);return this._position=e,this._formatReturnValue("elementStart",u,i,e,1)}if(u instanceof En){if(this.singleCharacters)return e=new Dt(u,0),this._position=e,this._next();let f,m=u.data.length;return u==this._boundaryEndParent?(m=this.boundaries.end.offset,f=new ko(u,0,m),e=Dt._createAfter(f)):(f=new ko(u,0,u.data.length),e.offset++),this._position=e,this._formatReturnValue("text",f,i,e,m)}if(typeof u=="string"){let f;this.singleCharacters?f=1:f=(a===this._boundaryEndParent?this.boundaries.end.offset:a.data.length)-e.offset;const m=new ko(a,e.offset,f);return e.offset+=f,this._position=e,this._formatReturnValue("text",m,i,e,f)}return e=Dt._createAfter(a),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",a,i,e)}_previous(){let e=this.position.clone();const i=this.position,a=e.parent;if(a.parent===null&&e.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let u;if(a instanceof En){if(e.isAtStart)return this._position=Dt._createBefore(a),this._previous();u=a.data[e.offset-1]}else u=a.getChild(e.offset-1);if(u instanceof Oo)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",u,i,e,1)):(e=new Dt(u,u.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",u,i,e));if(u instanceof En){if(this.singleCharacters)return e=new Dt(u,u.data.length),this._position=e,this._previous();let f,m=u.data.length;if(u==this._boundaryStartParent){const w=this.boundaries.start.offset;f=new ko(u,w,u.data.length-w),m=f.data.length,e=Dt._createBefore(f)}else f=new ko(u,0,u.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",f,i,e,m)}if(typeof u=="string"){let f;if(this.singleCharacters)f=1;else{const w=a===this._boundaryStartParent?this.boundaries.start.offset:0;f=e.offset-w}e.offset-=f;const m=new ko(a,e.offset,f);return this._position=e,this._formatReturnValue("text",m,i,e,f)}return e=Dt._createBefore(a),this._position=e,this._formatReturnValue("elementStart",a,i,e,1)}_formatReturnValue(e,i,a,u,f){return i instanceof ko&&(i.offsetInText+i.data.length==i.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?a=Dt._createAfter(i.textNode):(u=Dt._createAfter(i.textNode),this._position=u)),i.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?a=Dt._createBefore(i.textNode):(u=Dt._createBefore(i.textNode),this._position=u))),{done:!1,value:{type:e,item:i,previousPosition:a,nextPosition:u,length:f}}}}class Dt extends Sa{constructor(e,i){super(),this.parent=e,this.offset=i}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Wl);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const i=Dt._createAt(this),a=i.offset+e;return i.offset=a<0?0:a,i}getLastMatchingPosition(e,i={}){i.startPosition=this;const a=new yo(i);return a.skip(e),a.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const i=this.getAncestors(),a=e.getAncestors();let u=0;for(;i[u]==a[u]&&i[u];)u++;return u===0?null:i[u-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const i=this.parent.is("node")?this.parent.getPath():[],a=e.parent.is("node")?e.parent.getPath():[];i.push(this.offset),a.push(e.offset);const u=Me(i,a);switch(u){case"prefix":return"before";case"extension":return"after";default:return i[u]<a[u]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new yo(e)}clone(){return new Dt(this.parent,this.offset)}static _createAt(e,i){if(e instanceof Dt)return new this(e.parent,e.offset);{const a=e;if(i=="end")i=a.is("$text")?a.data.length:a.childCount;else{if(i=="before")return this._createBefore(a);if(i=="after")return this._createAfter(a);if(i!==0&&!i)throw new N("view-createpositionat-offset-required",a)}return new Dt(a,i)}}static _createAfter(e){if(e.is("$textProxy"))return new Dt(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new N("view-position-after-root",e,{root:e});return new Dt(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Dt(e.textNode,e.offsetInText);if(!e.parent)throw new N("view-position-before-root",e,{root:e});return new Dt(e.parent,e.index)}}Dt.prototype.is=function(c){return c==="position"||c==="view:position"};class Kt extends Sa{constructor(e,i=null){super(),this.start=e.clone(),this.end=i?i.clone():e.clone()}*[Symbol.iterator](){yield*new yo({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Hc,{direction:"backward"}),i=this.end.getLastMatchingPosition(Hc);return e.parent.is("$text")&&e.isAtStart&&(e=Dt._createBefore(e.parent)),i.parent.is("$text")&&i.isAtEnd&&(i=Dt._createAfter(i.parent)),new Kt(e,i)}getTrimmed(){let e=this.start.getLastMatchingPosition(Hc);if(e.isAfter(this.end)||e.isEqual(this.end))return new Kt(e,e);let i=this.end.getLastMatchingPosition(Hc,{direction:"backward"});const a=e.nodeAfter,u=i.nodeBefore;return a&&a.is("$text")&&(e=new Dt(a,0)),u&&u.is("$text")&&(i=new Dt(u,u.data.length)),new Kt(e,i)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const a=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),u=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return a&&u}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new Kt(this.start,e.start)),this.containsPosition(e.end)&&i.push(new Kt(e.end,this.end))):i.push(this.clone()),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,a=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(a=e.end),new Kt(i,a)}return null}getWalker(e={}){return e.boundaries=this,new yo(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,i=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(i=this.end.parent.previousSibling),e&&e.is("element")&&e===i?e:null}clone(){return new Kt(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new yo(e);for(const a of i)yield a.item}*getPositions(e={}){e.boundaries=this;const i=new yo(e);yield i.position;for(const a of i)yield a.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,i,a,u){return new this(new Dt(e,i),new Dt(a,u))}static _createFromPositionAndShift(e,i){const a=e,u=e.getShiftedBy(i);return i>0?new this(a,u):new this(u,a)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const i=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Dt._createBefore(e),i)}}function Hc(c){return!(!c.item.is("attributeElement")&&!c.item.is("uiElement"))}Kt.prototype.is=function(c){return c==="range"||c==="view:range"};class is extends oe(Sa){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const i of this._ranges)e&&!i.start.isBefore(e.start)||(e=i);return e?e.clone():null}getLastRange(){let e=null;for(const i of this._ranges)e&&!i.end.isAfter(e.end)||(e=i);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let a=!1;for(const u of e._ranges)if(i.isEqual(u)){a=!0;break}if(!a)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const i=Oe(this.getRanges());if(i!=Oe(e.getRanges()))return!1;if(i==0)return!0;for(let a of this.getRanges()){a=a.getTrimmed();let u=!1;for(let f of e.getRanges())if(f=f.getTrimmed(),a.start.isEqual(f.start)&&a.end.isEqual(f.end)){u=!0;break}if(!u)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[i,a,u]=e;if(typeof a=="object"&&(u=a,a=void 0),i===null)this._setRanges([]),this._setFakeOptions(u);else if(i instanceof is||i instanceof xf)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof Kt)this._setRanges([i],u&&u.backward),this._setFakeOptions(u);else if(i instanceof Dt)this._setRanges([new Kt(i)]),this._setFakeOptions(u);else if(i instanceof Ea){const f=!!u&&!!u.backward;let m;if(a===void 0)throw new N("view-selection-setto-required-second-parameter",this);m=a=="in"?Kt._createIn(i):a=="on"?Kt._createOn(i):new Kt(Dt._createAt(i,a)),this._setRanges([m],f),this._setFakeOptions(u)}else{if(!Ie(i))throw new N("view-selection-setto-not-selectable",this);this._setRanges(i,u&&u.backward),this._setFakeOptions(u)}this.fire("change")}setFocus(e,i){if(this.anchor===null)throw new N("view-selection-setfocus-no-ranges",this);const a=Dt._createAt(e,i);if(a.compareWith(this.focus)=="same")return;const u=this.anchor;this._ranges.pop(),a.compareWith(u)=="before"?this._addRange(new Kt(a,u),!0):this._addRange(new Kt(u,a)),this.fire("change")}_setRanges(e,i=!1){e=Array.from(e),this._ranges=[];for(const a of e)this._addRange(a);this._lastRangeBackward=!!i}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,i=!1){if(!(e instanceof Kt))throw new N("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!i}_pushRange(e){for(const i of this._ranges)if(e.isIntersecting(i))throw new N("view-selection-range-intersects",this,{addedRange:e,intersectingRange:i});this._ranges.push(new Kt(e.start,e.end))}}is.prototype.is=function(c){return c==="selection"||c==="view:selection"};class xf extends oe(Sa){constructor(...e){super(),this._selection=new is,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,i){this._selection.setFocus(e,i)}}xf.prototype.is=function(c){return c==="selection"||c=="documentSelection"||c=="view:selection"||c=="view:documentSelection"};class Vu extends S{constructor(e,i,a){super(e,i),this.startRange=a,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const eh=Symbol("bubbling contexts");function th(c){return class extends c{fire(e,...i){try{const a=e instanceof S?e:new S(this,e),u=Kw(this);if(!u.size)return;if(Am(a,"capturing",this),Sf(u,"$capture",a,...i))return a.return;const f=a.startRange||this.selection.getFirstRange(),m=f?f.getContainedElement():null,w=!!m&&!!f2(u,m);let _=m||function(E){if(!E)return null;const T=E.start.parent,O=E.end.parent,V=T.getPath(),K=O.getPath();return V.length>K.length?T:O}(f);if(Am(a,"atTarget",_),!w){if(Sf(u,"$text",a,...i))return a.return;Am(a,"bubbling",_)}for(;_;){if(_.is("rootElement")){if(Sf(u,"$root",a,...i))return a.return}else if(_.is("element")&&Sf(u,_.name,a,...i))return a.return;if(Sf(u,_,a,...i))return a.return;_=_.parent,Am(a,"bubbling",_)}return Am(a,"bubbling",this),Sf(u,"$document",a,...i),a.return}catch(a){N.rethrowUnexpectedError(a,this)}}_addEventListener(e,i,a){const u=sr(a.context||"$document"),f=Kw(this);for(const m of u){let w=f.get(m);w||(w=new(oe()),f.set(m,w)),this.listenTo(w,e,i,a)}}_removeEventListener(e,i){const a=Kw(this);for(const u of a.values())this.stopListening(u,e,i)}}}{const c=th(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{th[e]=c.prototype[e]})}function Am(c,e,i){c instanceof Vu&&(c._eventPhase=e,c._currentTarget=i)}function Sf(c,e,i,...a){const u=typeof e=="string"?c.get(e):f2(c,e);return!!u&&(u.fire(i,...a),i.stop.called)}function f2(c,e){for(const[i,a]of c)if(typeof i=="function"&&i(e))return a;return null}function Kw(c){return c[eh]||(c[eh]=new Map),c[eh]}class Gb extends th(Ue()){constructor(e){super(),this._postFixers=new Set,this.selection=new xf,this.roots=new zs({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let i=!1;do for(const a of this._postFixers)if(i=a(e),i)break;while(i)}}class nh extends Oo{constructor(e,i,a,u){super(e,i,a,u),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=PB}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new N("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const i=super._clone(e);return i._priority=this._priority,i._id=this._id,i}}function PB(){if(Qw(this))return null;let c=this.parent;for(;c&&c.is("attributeElement");){if(Qw(c)>1)return null;c=c.parent}return!c||Qw(c)>1?null:this.childCount}function Qw(c){return Array.from(c.getChildren()).filter(e=>!e.is("uiElement")).length}nh.DEFAULT_PRIORITY=10,nh.prototype.is=function(c,e){return e?e===this.name&&(c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"):c==="attributeElement"||c==="view:attributeElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Jw extends Oo{constructor(e,i,a,u){super(e,i,a,u),this.getFillerOffset=OB}_insertChild(e,i){if(i&&(i instanceof Ea||Array.from(i).length>0))throw new N("view-emptyelement-cannot-add",[this,i]);return 0}}function OB(){return null}Jw.prototype.is=function(c,e){return e?e===this.name&&(c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"):c==="emptyElement"||c==="view:emptyElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Yb extends Oo{constructor(e,i,a,u){super(e,i,a,u),this.getFillerOffset=LB}_insertChild(e,i){if(i&&(i instanceof Ea||Array.from(i).length>0))throw new N("view-uielement-cannot-add",[this,i]);return 0}render(e,i){return this.toDomElement(e)}toDomElement(e){const i=e.createElement(this.name);for(const a of this.getAttributeKeys())i.setAttribute(a,this.getAttribute(a));return i}}function jB(c){c.document.on("arrowKey",(e,i)=>function(a,u,f){if(u.keyCode==Pn.arrowright){const m=u.domTarget.ownerDocument.defaultView.getSelection(),w=m.rangeCount==1&&m.getRangeAt(0).collapsed;if(w||u.shiftKey){const _=m.focusNode,E=m.focusOffset,T=f.domPositionToView(_,E);if(T===null)return;let O=!1;const V=T.getLastMatchingPosition(K=>(K.item.is("uiElement")&&(O=!0),!(!K.item.is("uiElement")&&!K.item.is("attributeElement"))));if(O){const K=f.viewPositionToDom(V);w?m.collapse(K.parent,K.offset):m.extend(K.parent,K.offset)}}}}(0,i,c.domConverter),{priority:"low"})}function LB(){return null}Yb.prototype.is=function(c,e){return e?e===this.name&&(c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"):c==="uiElement"||c==="view:uiElement"||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class Zw extends Oo{constructor(e,i,a,u){super(e,i,a,u),this.getFillerOffset=BB}_insertChild(e,i){if(i&&(i instanceof Ea||Array.from(i).length>0))throw new N("view-rawelement-cannot-add",[this,i]);return 0}render(e,i){}}function BB(){return null}Zw.prototype.is=function(c,e){return e?e===this.name&&(c==="rawElement"||c==="view:rawElement"||c==="element"||c==="view:element"):c==="rawElement"||c==="view:rawElement"||c===this.name||c==="view:"+this.name||c==="element"||c==="view:element"||c==="node"||c==="view:node"};class rh extends oe(Sa){constructor(e,i){super(),this._children=[],this._customProperties=new Map,this.document=e,i&&this._insertChild(0,i)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,i){this._fireChange("children",this);let a=0;const u=function(f,m){return typeof m=="string"?[new En(f,m)]:(Ie(m)||(m=[m]),Array.from(m).map(w=>typeof w=="string"?new En(f,w):w instanceof ko?new En(f,w.data):w))}(this.document,i);for(const f of u)f.parent!==null&&f._remove(),f.parent=this,this._children.splice(e,0,f),e++,a++;return a}_removeChildren(e,i=1){this._fireChange("children",this);for(let a=e;a<e+i;a++)this._children[a].parent=null;return this._children.splice(e,i)}_fireChange(e,i){this.fire("change:"+e,i)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}}rh.prototype.is=function(c){return c==="documentFragment"||c==="view:documentFragment"};class p2{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,i){this.document.selection._setFocus(e,i)}createDocumentFragment(e){return new rh(this.document,e)}createText(e){return new En(this.document,e)}createAttributeElement(e,i,a={}){const u=new nh(this.document,e,i);return typeof a.priority=="number"&&(u._priority=a.priority),a.id&&(u._id=a.id),a.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),u}createContainerElement(e,i,a={},u={}){let f=null;Mn(a)?u=a:f=a;const m=new qu(this.document,e,i,f);return u.renderUnsafeAttributes&&m._unsafeAttributesToRender.push(...u.renderUnsafeAttributes),m}createEditableElement(e,i,a={}){const u=new Wl(this.document,e,i);return a.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),u}createEmptyElement(e,i,a={}){const u=new Jw(this.document,e,i);return a.renderUnsafeAttributes&&u._unsafeAttributesToRender.push(...a.renderUnsafeAttributes),u}createUIElement(e,i,a){const u=new Yb(this.document,e,i);return a&&(u.render=a),u}createRawElement(e,i,a,u={}){const f=new Zw(this.document,e,i);return a&&(f.render=a),u.renderUnsafeAttributes&&f._unsafeAttributesToRender.push(...u.renderUnsafeAttributes),f}setAttribute(e,i,a){a._setAttribute(e,i)}removeAttribute(e,i){i._removeAttribute(e)}addClass(e,i){i._addClass(e)}removeClass(e,i){i._removeClass(e)}setStyle(e,i,a){Mn(e)&&a===void 0?i._setStyle(e):a._setStyle(e,i)}removeStyle(e,i){i._removeStyle(e)}setCustomProperty(e,i,a){a._setCustomProperty(e,i)}removeCustomProperty(e,i){return i._removeCustomProperty(e)}breakAttributes(e){return e instanceof Dt?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const i=e.parent;if(!i.is("containerElement"))throw new N("view-writer-break-non-container-element",this.document);if(!i.parent)throw new N("view-writer-break-root",this.document);if(e.isAtStart)return Dt._createBefore(i);if(!e.isAtEnd){const a=i._clone(!1);this.insert(Dt._createAfter(i),a);const u=new Kt(e,Dt._createAt(i,"end")),f=new Dt(a,0);this.move(u,f)}return Dt._createAfter(i)}mergeAttributes(e){const i=e.offset,a=e.parent;if(a.is("$text"))return e;if(a.is("attributeElement")&&a.childCount===0){const m=a.parent,w=a.index;return a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new Dt(m,w))}const u=a.getChild(i-1),f=a.getChild(i);if(!u||!f)return e;if(u.is("$text")&&f.is("$text"))return g2(u,f);if(u.is("attributeElement")&&f.is("attributeElement")&&u.isSimilar(f)){const m=u.childCount;return u._appendChild(f.getChildren()),f._remove(),this._removeFromClonedElementsGroup(f),this.mergeAttributes(new Dt(u,m))}return e}mergeContainers(e){const i=e.nodeBefore,a=e.nodeAfter;if(!(i&&a&&i.is("containerElement")&&a.is("containerElement")))throw new N("view-writer-merge-containers-invalid-position",this.document);const u=i.getChild(i.childCount-1),f=u instanceof En?Dt._createAt(u,"end"):Dt._createAt(i,"end");return this.move(Kt._createIn(a),Dt._createAt(i,"end")),this.remove(Kt._createOn(a)),f}insert(e,i){b2(i=Ie(i)?[...i]:[i],this.document);const a=i.reduce((m,w)=>{const _=m[m.length-1],E=!w.is("uiElement");return _&&_.breakAttributes==E?_.nodes.push(w):m.push({breakAttributes:E,nodes:[w]}),m},[]);let u=null,f=e;for(const{nodes:m,breakAttributes:w}of a){const _=this._insertNodes(f,m,w);u||(u=_.start),f=_.end}return u?new Kt(u,f):new Kt(e)}remove(e){const i=e instanceof Kt?e:Kt._createOn(e);if(_m(i,this.document),i.isCollapsed)return new rh(this.document);const{start:a,end:u}=this._breakAttributesRange(i,!0),f=a.parent,m=u.offset-a.offset,w=f._removeChildren(a.offset,m);for(const E of w)this._removeFromClonedElementsGroup(E);const _=this.mergeAttributes(a);return i.start=_,i.end=_.clone(),new rh(this.document,w)}clear(e,i){_m(e,this.document);const a=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const u of a){const f=u.item;let m;if(f.is("element")&&i.isSimilar(f))m=Kt._createOn(f);else if(!u.nextPosition.isAfter(e.start)&&f.is("$textProxy")){const w=f.getAncestors().find(_=>_.is("element")&&i.isSimilar(_));w&&(m=Kt._createIn(w))}m&&(m.end.isAfter(e.end)&&(m.end=e.end),m.start.isBefore(e.start)&&(m.start=e.start),this.remove(m))}}move(e,i){let a;if(i.isAfter(e.end)){const u=(i=this._breakAttributes(i,!0)).parent,f=u.childCount;e=this._breakAttributesRange(e,!0),a=this.remove(e),i.offset+=u.childCount-f}else a=this.remove(e);return this.insert(i,a)}wrap(e,i){if(!(i instanceof nh))throw new N("view-writer-wrap-invalid-attribute",this.document);if(_m(e,this.document),e.isCollapsed){let u=e.start;u.parent.is("element")&&(a=u.parent,!Array.from(a.getChildren()).some(m=>!m.is("uiElement")))&&(u=u.getLastMatchingPosition(m=>m.item.is("uiElement"))),u=this._wrapPosition(u,i);const f=this.document.selection;return f.isCollapsed&&f.getFirstPosition().isEqual(e.start)&&this.setSelection(u),new Kt(u)}return this._wrapRange(e,i);var a}unwrap(e,i){if(!(i instanceof nh))throw new N("view-writer-unwrap-invalid-attribute",this.document);if(_m(e,this.document),e.isCollapsed)return e;const{start:a,end:u}=this._breakAttributesRange(e,!0),f=a.parent,m=this._unwrapChildren(f,a.offset,u.offset,i),w=this.mergeAttributes(m.start);w.isEqual(m.start)||m.end.offset--;const _=this.mergeAttributes(m.end);return new Kt(w,_)}rename(e,i){const a=new qu(this.document,e,i.getAttributes());return this.insert(Dt._createAfter(i),a),this.move(Kt._createIn(i),Dt._createAt(a,0)),this.remove(Kt._createOn(i)),a}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,i){return Dt._createAt(e,i)}createPositionAfter(e){return Dt._createAfter(e)}createPositionBefore(e){return Dt._createBefore(e)}createRange(e,i){return new Kt(e,i)}createRangeOn(e){return Kt._createOn(e)}createRangeIn(e){return Kt._createIn(e)}createSelection(...e){return new is(...e)}createSlot(e="children"){if(!this._slotFactory)throw new N("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,i,a){let u,f;if(u=a?Xw(e):e.parent.is("$text")?e.parent.parent:e.parent,!u)throw new N("view-writer-invalid-position-container",this.document);f=a?this._breakAttributes(e,!0):e.parent.is("$text")?ey(e):e;const m=u._insertChild(f.offset,i);for(const T of i)this._addToClonedElementsGroup(T);const w=f.getShiftedBy(m),_=this.mergeAttributes(f);_.isEqual(f)||w.offset--;const E=this.mergeAttributes(w);return new Kt(_,E)}_wrapChildren(e,i,a,u){let f=i;const m=[];for(;f<a;){const _=e.getChild(f),E=_.is("$text"),T=_.is("attributeElement");if(T&&this._wrapAttributeElement(u,_))m.push(new Dt(e,f));else if(E||!T||RB(u,_)){const O=u._clone();_._remove(),O._appendChild(_),e._insertChild(f,O),this._addToClonedElementsGroup(O),m.push(new Dt(e,f))}else this._wrapChildren(_,0,_.childCount,u);f++}let w=0;for(const _ of m)_.offset-=w,_.offset!=i&&(this.mergeAttributes(_).isEqual(_)||(w++,a--));return Kt._createFromParentsAndOffsets(e,i,e,a)}_unwrapChildren(e,i,a,u){let f=i;const m=[];for(;f<a;){const _=e.getChild(f);if(_.is("attributeElement"))if(_.isSimilar(u)){const E=_.getChildren(),T=_.childCount;_._remove(),e._insertChild(f,E),this._removeFromClonedElementsGroup(_),m.push(new Dt(e,f),new Dt(e,f+T)),f+=T,a+=T-1}else this._unwrapAttributeElement(u,_)?(m.push(new Dt(e,f),new Dt(e,f+1)),f++):(this._unwrapChildren(_,0,_.childCount,u),f++);else f++}let w=0;for(const _ of m)_.offset-=w,!(_.offset==i||_.offset==a)&&(this.mergeAttributes(_).isEqual(_)||(w++,a--));return Kt._createFromParentsAndOffsets(e,i,e,a)}_wrapRange(e,i){const{start:a,end:u}=this._breakAttributesRange(e,!0),f=a.parent,m=this._wrapChildren(f,a.offset,u.offset,i),w=this.mergeAttributes(m.start);w.isEqual(m.start)||m.end.offset--;const _=this.mergeAttributes(m.end);return new Kt(w,_)}_wrapPosition(e,i){if(i.isSimilar(e.parent))return m2(e.clone());e.parent.is("$text")&&(e=ey(e));const a=this.createAttributeElement("_wrapPosition-fake-element");a._priority=Number.POSITIVE_INFINITY,a.isSimilar=()=>!1,e.parent._insertChild(e.offset,a);const u=new Kt(e,e.getShiftedBy(1));this.wrap(u,i);const f=new Dt(a.parent,a.index);a._remove();const m=f.nodeBefore,w=f.nodeAfter;return m instanceof En&&w instanceof En?g2(m,w):m2(f)}_wrapAttributeElement(e,i){if(!k2(e,i)||e.name!==i.name||e.priority!==i.priority)return!1;for(const a of e.getAttributeKeys())if(a!=="class"&&a!=="style"&&i.hasAttribute(a)&&i.getAttribute(a)!==e.getAttribute(a))return!1;for(const a of e.getStyleNames())if(i.hasStyle(a)&&i.getStyle(a)!==e.getStyle(a))return!1;for(const a of e.getAttributeKeys())a!=="class"&&a!=="style"&&(i.hasAttribute(a)||this.setAttribute(a,e.getAttribute(a),i));for(const a of e.getStyleNames())i.hasStyle(a)||this.setStyle(a,e.getStyle(a),i);for(const a of e.getClassNames())i.hasClass(a)||this.addClass(a,i);return!0}_unwrapAttributeElement(e,i){if(!k2(e,i)||e.name!==i.name||e.priority!==i.priority)return!1;for(const a of e.getAttributeKeys())if(a!=="class"&&a!=="style"&&(!i.hasAttribute(a)||i.getAttribute(a)!==e.getAttribute(a)))return!1;if(!i.hasClass(...e.getClassNames()))return!1;for(const a of e.getStyleNames())if(!i.hasStyle(a)||i.getStyle(a)!==e.getStyle(a))return!1;for(const a of e.getAttributeKeys())a!=="class"&&a!=="style"&&this.removeAttribute(a,i);return this.removeClass(Array.from(e.getClassNames()),i),this.removeStyle(Array.from(e.getStyleNames()),i),!0}_breakAttributesRange(e,i=!1){const a=e.start,u=e.end;if(_m(e,this.document),e.isCollapsed){const _=this._breakAttributes(e.start,i);return new Kt(_,_)}const f=this._breakAttributes(u,i),m=f.parent.childCount,w=this._breakAttributes(a,i);return f.offset+=f.parent.childCount-m,new Kt(w,f)}_breakAttributes(e,i=!1){const a=e.offset,u=e.parent;if(e.parent.is("emptyElement"))throw new N("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new N("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new N("view-writer-cannot-break-raw-element",this.document);if(!i&&u.is("$text")&&ty(u.parent)||ty(u))return e.clone();if(u.is("$text"))return this._breakAttributes(ey(e),i);if(a==u.childCount){const f=new Dt(u.parent,u.index+1);return this._breakAttributes(f,i)}if(a===0){const f=new Dt(u.parent,u.index);return this._breakAttributes(f,i)}{const f=u.index+1,m=u._clone();u.parent._insertChild(f,m),this._addToClonedElementsGroup(m);const w=u.childCount-a,_=u._removeChildren(a,w);m._appendChild(_);const E=new Dt(u.parent,f);return this._breakAttributes(E,i)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const u of e.getChildren())this._addToClonedElementsGroup(u);const i=e.id;if(!i)return;let a=this._cloneGroups.get(i);a||(a=new Set,this._cloneGroups.set(i,a)),a.add(e),e._clonesGroup=a}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const u of e.getChildren())this._removeFromClonedElementsGroup(u);const i=e.id;if(!i)return;const a=this._cloneGroups.get(i);a&&a.delete(e)}}function Xw(c){let e=c.parent;for(;!ty(e);){if(!e)return;e=e.parent}return e}function RB(c,e){return c.priority<e.priority||!(c.priority>e.priority)&&c.getIdentity()<e.getIdentity()}function m2(c){const e=c.nodeBefore;if(e&&e.is("$text"))return new Dt(e,e.data.length);const i=c.nodeAfter;return i&&i.is("$text")?new Dt(i,0):c}function ey(c){if(c.offset==c.parent.data.length)return new Dt(c.parent.parent,c.parent.index+1);if(c.offset===0)return new Dt(c.parent.parent,c.parent.index);const e=c.parent.data.slice(c.offset);return c.parent._data=c.parent.data.slice(0,c.offset),c.parent.parent._insertChild(c.parent.index+1,new En(c.root.document,e)),new Dt(c.parent.parent,c.parent.index+1)}function g2(c,e){const i=c.data.length;return c._data+=e.data,e._remove(),new Dt(c,i)}const FB=[En,nh,qu,Jw,Zw,Yb];function b2(c,e){for(const i of c){if(!FB.some(a=>i instanceof a))throw new N("view-writer-insert-invalid-node-type",e);i.is("$text")||b2(i.getChildren(),e)}}function ty(c){return c&&(c.is("containerElement")||c.is("documentFragment"))}function _m(c,e){const i=Xw(c.start),a=Xw(c.end);if(!i||!a||i!==a)throw new N("view-writer-invalid-range-container",e)}function k2(c,e){return c.id===null&&e.id===null}const w2=c=>c.createTextNode("Â "),y2=c=>{const e=c.createElement("span");return e.dataset.ckeFiller="true",e.innerText="Â ",e},v2=c=>{const e=c.createElement("br");return e.dataset.ckeFiller="true",e},ol=7,Cm="â ".repeat(ol);function Us(c){return typeof c=="string"?c.substr(0,ol)===Cm:or(c)&&c.data.substr(0,ol)===Cm}function Ef(c){return c.data.length==ol&&Us(c)}function A2(c){const e=typeof c=="string"?c:c.data;return Us(c)?e.slice(ol):e}function zB(c,e){if(e.keyCode==Pn.arrowleft){const i=e.domTarget.ownerDocument.defaultView.getSelection();if(i.rangeCount==1&&i.getRangeAt(0).collapsed){const a=i.getRangeAt(0).startContainer,u=i.getRangeAt(0).startOffset;Us(a)&&u<=ol&&i.collapse(a,0)}}}var _2=s(8264),UB={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(_2.A,UB),_2.A.locals;class qB extends Ue(){constructor(e,i){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=i,this.set("isFocused",!1),this.set("isSelecting",!1),b.isBlink&&!b.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,i){if(e==="text")this.domConverter.mapViewToDom(i.parent)&&this.markedTexts.add(i);else{if(!this.domConverter.mapViewToDom(i))return;if(e==="attributes")this.markedAttributes.add(i);else{if(e!=="children")throw new N("view-renderer-unknown-type",this);this.markedChildren.add(i)}}}render(){if(this.isComposing&&!b.isAndroid)return;let e=null;const i=!(b.isBlink&&!b.isAndroid)||!this.isSelecting;for(const a of this.markedChildren)this._updateChildrenMappings(a);i?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Dt._createBefore(e.parent)));for(const a of this.markedAttributes)this._updateAttrs(a);for(const a of this.markedChildren)this._updateChildren(a,{inlineFillerPosition:e});for(const a of this.markedTexts)!this.markedChildren.has(a.parent)&&this.domConverter.mapViewToDom(a.parent)&&this._updateText(a,{inlineFillerPosition:e});if(i)if(e){const a=this.domConverter.viewPositionToDom(e),u=a.parent.ownerDocument;Us(a.parent)?this._inlineFiller=a.parent:this._inlineFiller=C2(u,a.parent,a.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const i=this.domConverter.mapViewToDom(e);if(!i)return;const a=Array.from(i.childNodes),u=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),f=this._diffNodeLists(a,u),m=this._findUpdateActions(f,a,u,VB);if(m.indexOf("update")!==-1){const w={equal:0,insert:0,delete:0};for(const _ of m)if(_==="update"){const E=w.equal+w.insert,T=w.equal+w.delete,O=e.getChild(E);!O||O.is("uiElement")||O.is("rawElement")||this._updateElementMappings(O,a[T]),mf(u[E]),w.equal++}else w[_]++}}_updateElementMappings(e,i){this.domConverter.unbindDomElement(i),this.domConverter.bindElements(i,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Dt._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=this.domConverter.viewPositionToDom(e);return!!(i&&or(i.parent)&&Us(i.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Us(e))throw new N("view-renderer-filler-was-lost",this);Ef(e)?e.remove():e.data=e.data.substr(ol),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=e.parent,a=e.offset;if(!this.domConverter.mapViewToDom(i.root)||!i.is("element")||!function(m){if(m.getAttribute("contenteditable")=="false")return!1;const w=m.findAncestor(_=>_.hasAttribute("contenteditable"));return!w||w.getAttribute("contenteditable")=="true"}(i))return!1;const u=e.nodeBefore,f=e.nodeAfter;return!(u instanceof En||f instanceof En)&&!!(a!==i.getFillerOffset()||u&&u.is("element","br"))&&(!b.isAndroid||!u&&!f)}_updateText(e,i){const a=this.domConverter.findCorrespondingDomText(e);let u=this.domConverter.viewToDom(e).data;const f=i.inlineFillerPosition;f&&f.parent==e.parent&&f.offset==e.index&&(u=Cm+u),x2(a,u)}_updateAttrs(e){const i=this.domConverter.mapViewToDom(e);if(!i)return;const a=Array.from(i.attributes).map(f=>f.name),u=e.getAttributeKeys();for(const f of u)this.domConverter.setDomElementAttribute(i,f,e.getAttribute(f),e);for(const f of a)e.hasAttribute(f)||this.domConverter.removeDomElementAttribute(i,f)}_updateChildren(e,i){const a=this.domConverter.mapViewToDom(e);if(!a)return;if(b.isAndroid){let O=null;for(const V of Array.from(a.childNodes)){if(O&&or(O)&&or(V)){a.normalize();break}O=V}}const u=i.inlineFillerPosition,f=a.childNodes,m=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));u&&u.parent===e&&C2(a.ownerDocument,m,u.offset);const w=this._diffNodeLists(f,m),_=this._findUpdateActions(w,f,m,$B);let E=0;const T=new Set;for(const O of _)O==="delete"?(T.add(f[E]),mf(f[E])):O!=="equal"&&O!=="update"||E++;E=0;for(const O of _)O==="insert"?(Po(a,E,m[E]),E++):O==="update"?(x2(f[E],m[E].data),E++):O==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(m[E])),E++);for(const O of T)O.parentNode||this.domConverter.unbindDomElement(O)}_diffNodeLists(e,i){return e=function(a,u){const f=Array.from(a);return f.length==0||!u||f[f.length-1]==u&&f.pop(),f}(e,this._fakeSelectionContainer),C(e,i,HB.bind(null,this.domConverter))}_findUpdateActions(e,i,a,u){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let f=[],m=[],w=[];const _={equal:0,insert:0,delete:0};for(const E of e)E==="insert"?w.push(a[_.equal+_.insert]):E==="delete"?m.push(i[_.equal+_.delete]):(f=f.concat(C(m,w,u).map(T=>T==="equal"?"update":T)),f.push("equal"),m=[],w=[]),_[E]++;return f.concat(C(m,w,u).map(E=>E==="equal"?"update":E))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const i of e.getChildren())this._markDescendantTextToSync(i)}}_updateSelection(){if(b.isBlink&&!b.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&b.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const i=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(m){const w=m.createElement("div");return w.className="ck-fake-selection-container",Object.assign(w.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),w.textContent="Â ",w}(i));const a=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(a,this.selection),!this._fakeSelectionNeedsUpdate(e))return;a.parentElement&&a.parentElement==e||e.appendChild(a),a.textContent=this.selection.fakeSelectionLabel||"Â ";const u=i.getSelection(),f=i.createRange();u.removeAllRanges(),f.selectNodeContents(a),u.addRange(f)}_updateDomSelection(e){const i=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(i))return;const a=this.domConverter.viewPositionToDom(this.selection.anchor),u=this.domConverter.viewPositionToDom(this.selection.focus);i.setBaseAndExtent(a.parent,a.offset,u.parent,u.offset),b.isGecko&&function(f,m){let w=f.parent,_=f.offset;if(or(w)&&Ef(w)&&(_=Rl(w)+1,w=w.parentNode),w.nodeType!=Node.ELEMENT_NODE||_!=w.childNodes.length-1)return;const E=w.childNodes[_];E&&E.tagName=="BR"&&m.addRange(m.getRangeAt(0))}(u,i)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const i=e&&this.domConverter.domSelectionToView(e);return(!i||!this.selection.isEqual(i))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(i))}_fakeSelectionNeedsUpdate(e){const i=this._fakeSelectionContainer,a=e.ownerDocument.getSelection();return!i||i.parentElement!==e||a.anchorNode!==i&&!i.contains(a.anchorNode)||i.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const i=e.getSelection();if(i.rangeCount){const a=e.activeElement,u=this.domConverter.mapDomToView(a);a&&u&&i.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function C2(c,e,i){const a=e instanceof Array?e:e.childNodes,u=a[i];if(or(u))return u.data=Cm+u.data,u;{const f=c.createTextNode(Cm);return Array.isArray(e)?a.splice(i,0,f):Po(e,i,f),f}}function VB(c,e){return fs(c)&&fs(e)&&!or(c)&&!or(e)&&!io(c)&&!io(e)&&c.tagName.toLowerCase()===e.tagName.toLowerCase()}function $B(c,e){return fs(c)&&fs(e)&&or(c)&&or(e)}function HB(c,e,i){return e===i||(or(e)&&or(i)?e.data===i.data:!(!c.isBlockFiller(e)||!c.isBlockFiller(i)))}function x2(c,e){const i=c.data;if(i==e)return;const a=y(i,e);for(const u of a)u.type==="insert"?c.insertData(u.index,u.values.join("")):c.deleteData(u.index,u.howMany)}const WB=v2(h.document),GB=w2(h.document),YB=y2(h.document),Kb="data-ck-unsafe-attribute-",S2="data-ck-unsafe-element";class Qb{constructor(e,{blockFillerMode:i,renderingMode:a="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new wo,this._inlineObjectElementMatcher=new wo,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=a,this.blockFillerMode=i||(a==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?h.document:h.document.implementation.createHTMLDocument("")}bindFakeSelection(e,i){this._fakeSelectionMapping.set(e,new is(i))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,i){this._domToViewMapping.set(e,i),this._viewToDomMapping.set(i,e)}unbindDomElement(e){const i=this._domToViewMapping.get(e);if(i){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(i);for(const a of Array.from(e.children))this.unbindDomElement(a)}}bindDocumentFragments(e,i){this._domToViewMapping.set(e,i),this._viewToDomMapping.set(i,e)}shouldRenderAttribute(e,i,a){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!i.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(a==="img"&&(e==="src"||e==="srcset")||a==="source"&&e==="srcset"||!i.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,i){if(this.renderingMode==="data")return void(e.innerHTML=i);const a=new DOMParser().parseFromString(i,"text/html"),u=a.createDocumentFragment(),f=a.body.childNodes;for(;f.length>0;)u.appendChild(f[0]);const m=a.createTreeWalker(u,NodeFilter.SHOW_ELEMENT),w=[];let _;for(;_=m.nextNode();)w.push(_);for(const E of w){for(const O of E.getAttributeNames())this.setDomElementAttribute(E,O,E.getAttribute(O));const T=E.tagName.toLowerCase();this._shouldRenameElement(T)&&(I2(T),E.replaceWith(this._createReplacementDomElement(T,E)))}for(;e.firstChild;)e.firstChild.remove();e.append(u)}viewToDom(e,i={}){if(e.is("$text")){const a=this._processDataFromViewText(e);return this._domDocument.createTextNode(a)}{const a=e;if(this.mapViewToDom(a)){if(!a.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(a);this._elementsWithTemporaryCustomProperties.add(a)}let u;if(a.is("documentFragment"))u=this._domDocument.createDocumentFragment(),i.bind&&this.bindDocumentFragments(u,a);else{if(a.is("uiElement"))return u=a.name==="$comment"?this._domDocument.createComment(a.getCustomProperty("$rawContent")):a.render(this._domDocument,this),i.bind&&this.bindElements(u,a),u;this._shouldRenameElement(a.name)?(I2(a.name),u=this._createReplacementDomElement(a.name)):u=a.hasAttribute("xmlns")?this._domDocument.createElementNS(a.getAttribute("xmlns"),a.name):this._domDocument.createElement(a.name),a.is("rawElement")&&a.render(u,this),i.bind&&this.bindElements(u,a);for(const f of a.getAttributeKeys())this.setDomElementAttribute(u,f,a.getAttribute(f),a)}if(i.withChildren!==!1)for(const f of this.viewChildrenToDom(a,i))u instanceof HTMLTemplateElement?u.content.appendChild(f):u.appendChild(f);return u}}setDomElementAttribute(e,i,a,u){const f=this.shouldRenderAttribute(i,a,e.tagName.toLowerCase())||u&&u.shouldRenderUnsafeAttribute(i);f||L("domconverter-unsafe-attribute-detected",{domElement:e,key:i,value:a}),function(m){try{h.document.createAttribute(m)}catch{return!1}return!0}(i)?(e.hasAttribute(i)&&!f?e.removeAttribute(i):e.hasAttribute(Kb+i)&&f&&e.removeAttribute(Kb+i),e.setAttribute(f?i:Kb+i,a)):L("domconverter-invalid-attribute-detected",{domElement:e,key:i,value:a})}removeDomElementAttribute(e,i){i!=S2&&(e.removeAttribute(i),e.removeAttribute(Kb+i))}*viewChildrenToDom(e,i={}){const a=e.getFillerOffset&&e.getFillerOffset();let u=0;for(const f of e.getChildren()){a===u&&(yield this._getBlockFiller());const m=f.is("element")&&!!f.getCustomProperty("dataPipeline:transparentRendering")&&!Bi(f.getAttributes());m&&this.renderingMode=="data"?yield*this.viewChildrenToDom(f,i):(m&&L("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:f}),yield this.viewToDom(f,i)),u++}a===u&&(yield this._getBlockFiller())}viewRangeToDom(e){const i=this.viewPositionToDom(e.start),a=this.viewPositionToDom(e.end),u=this._domDocument.createRange();return u.setStart(i.parent,i.offset),u.setEnd(a.parent,a.offset),u}viewPositionToDom(e){const i=e.parent;if(i.is("$text")){const a=this.findCorrespondingDomText(i);if(!a)return null;let u=e.offset;return Us(a)&&(u+=ol),{parent:a,offset:u}}{let a,u,f;if(e.offset===0){if(a=this.mapViewToDom(i),!a)return null;f=a.childNodes[0]}else{const m=e.nodeBefore;if(u=m.is("$text")?this.findCorrespondingDomText(m):this.mapViewToDom(m),!u)return null;a=u.parentNode,f=u.nextSibling}return or(f)&&Us(f)?{parent:f,offset:ol}:{parent:a,offset:u?Rl(u)+1:0}}}domToView(e,i={}){const a=[],u=this._domToView(e,i,a),f=u.next().value;return f?(u.next(),this._processDomInlineNodes(null,a,i),f.is("$text")&&f.data.length==0?null:f):null}*domChildrenToView(e,i={},a=[]){let u=[];u=e instanceof HTMLTemplateElement?[...e.content.childNodes]:[...e.childNodes];for(let f=0;f<u.length;f++){const m=u[f],w=this._domToView(m,i,a),_=w.next().value;_!==null&&(this._isBlockViewElement(_)&&this._processDomInlineNodes(e,a,i),yield _,w.next())}this._processDomInlineNodes(e,a,i)}domSelectionToView(e){if(function(u){if(!b.isGecko||!u.rangeCount)return!1;const f=u.getRangeAt(0).startContainer;try{Object.prototype.toString.call(f)}catch{return!0}return!1}(e))return new is([]);if(e.rangeCount===1){let u=e.getRangeAt(0).startContainer;or(u)&&(u=u.parentNode);const f=this.fakeSelectionToView(u);if(f)return f}const i=this.isDomSelectionBackward(e),a=[];for(let u=0;u<e.rangeCount;u++){const f=e.getRangeAt(u),m=this.domRangeToView(f);m&&a.push(m)}return new is(a,{backward:i})}domRangeToView(e){const i=this.domPositionToView(e.startContainer,e.startOffset),a=this.domPositionToView(e.endContainer,e.endOffset);return i&&a?new Kt(i,a):null}domPositionToView(e,i=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,Rl(e));const a=this.mapDomToView(e);if(a&&(a.is("uiElement")||a.is("rawElement")))return Dt._createBefore(a);if(or(e)){if(Ef(e))return this.domPositionToView(e.parentNode,Rl(e));const u=this.findCorrespondingViewText(e);let f=i;return u?(Us(e)&&(f-=ol,f=f<0?0:f),new Dt(u,f)):null}if(i===0){const u=this.mapDomToView(e);if(u)return new Dt(u,0)}else{const u=e.childNodes[i-1];if(or(u)&&Ef(u)||u&&this.isBlockFiller(u))return this.domPositionToView(u.parentNode,Rl(u));const f=or(u)?this.findCorrespondingViewText(u):this.mapDomToView(u);if(f&&f.parent)return new Dt(f.parent,f.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Ef(e))return null;const i=this.getHostViewElement(e);if(i)return i;const a=e.previousSibling;if(a){if(!this.isElement(a))return null;const u=this.mapDomToView(a);if(u){const f=u.nextSibling;return f instanceof En?f:null}}else{const u=this.mapDomToView(e.parentNode);if(u){const f=u.getChild(0);return f instanceof En?f:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const i=e.previousSibling;return i&&this.mapViewToDom(i)?this.mapViewToDom(i).nextSibling:!i&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const i=this.mapViewToDom(e);if(i&&i.ownerDocument.activeElement!==i){const{scrollX:a,scrollY:u}=h.window,f=[];E2(i,m=>{const{scrollLeft:w,scrollTop:_}=m;f.push([w,_])}),i.focus(),E2(i,m=>{const[w,_]=f.shift();m.scrollLeft=w,m.scrollTop=_}),h.window.scrollTo(a,u)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const i=e.ownerDocument.defaultView.getSelection(),a=this.domSelectionToView(i);a&&a.rangeCount>0&&i.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(WB):!(e.tagName!=="BR"||!D2(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(YB)||function(i,a){return i.isEqualNode(GB)&&D2(i,a)&&i.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const i=this._domDocument.createRange();try{i.setStart(e.anchorNode,e.anchorOffset),i.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const a=i.collapsed;return i.detach(),a}getHostViewElement(e){const i=function(a){const u=[];let f=a;for(;f&&f.nodeType!=Node.DOCUMENT_NODE;)u.unshift(f),f=f.parentNode;return u}(e);for(i.pop();i.length;){const a=i.pop(),u=this._domToViewMapping.get(a);if(u&&(u.is("uiElement")||u.is("rawElement")))return u}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return w2(this._domDocument);case"markedNbsp":return y2(this._domDocument);case"br":return v2(this._domDocument)}}_isDomSelectionPositionCorrect(e,i){if(or(e)&&Us(e)&&i<ol||this.isElement(e)&&Us(e.childNodes[i]))return!1;const a=this.mapDomToView(e);return!a||!a.is("uiElement")&&!a.is("rawElement")}*_domToView(e,i,a){if(this.isBlockFiller(e))return null;const u=this.getHostViewElement(e);if(u)return u;if(io(e)&&i.skipComments)return null;if(or(e)){if(Ef(e))return null;{const f=e.data;if(f==="")return null;const m=new En(this.document,f);return a.push(m),m}}{let f=this.mapDomToView(e);if(f)return this._isInlineObjectElement(f)&&a.push(f),f;if(this.isDocumentFragment(e))f=new rh(this.document),i.bind&&this.bindDocumentFragments(e,f);else{f=this._createViewElement(e,i),i.bind&&this.bindElements(e,f);const w=e.attributes;if(w)for(let _=w.length,E=0;E<_;E++)f._setAttribute(w[E].name,w[E].value);if(this._isViewElementWithRawContent(f,i))return f._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(f)||a.push(f),f;if(io(e))return f._setCustomProperty("$rawContent",e.data),f}yield f;const m=[];if(i.withChildren!==!1)for(const w of this.domChildrenToView(e,i,m))f._appendChild(w);if(this._isInlineObjectElement(f))a.push(f);else for(const w of m)a.push(w)}}_processDomInlineNodes(e,i,a){if(!i.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let u=!1;for(let f=0;f<i.length;f++){const m=i[f];if(!m.is("$text")){u=!1;continue}let w,_=!1;if(KB(m,this.preElements))w=A2(m.data);else{w=m.data.replace(/[ \n\t\r]{1,}/g," "),_=/[^\S\u00A0]/.test(w.charAt(w.length-1));const E=f>0?i[f-1]:null,T=f+1<i.length?i[f+1]:null,O=!E||E.is("element")&&E.name=="br"||u,V=!T&&!Us(m.data);a.withChildren!==!1&&(O&&(w=w.replace(/^ /,"")),V&&(w=w.replace(/ $/,""))),w=A2(w),w=w.replace(/ \u00A0/g,"  ");const K=T&&T.is("element")&&T.name!="br",ee=T&&T.is("$text")&&T.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(w)||!T||K||ee)&&(w=w.replace(/\u00A0$/," ")),(O||E&&E.is("element")&&E.name!="br")&&(w=w.replace(/^\u00A0/," "))}w.length==0&&m.parent?(m._remove(),i.splice(f,1),f--):(m._data=w,u=_)}i.length=0}_processDataFromViewText(e){let i=e.data;if(e.getAncestors().some(a=>this.preElements.includes(a.name)))return i;if(i.charAt(0)==" "){const a=this._getTouchingInlineViewNode(e,!1);!(a&&a.is("$textProxy")&&this._nodeEndsWithSpace(a))&&a||(i="Â "+i.substr(1))}if(i.charAt(i.length-1)==" "){const a=this._getTouchingInlineViewNode(e,!0),u=a&&a.is("$textProxy")&&a.data.charAt(0)==" ";i.charAt(i.length-2)!=" "&&a&&!u||(i=i.substr(0,i.length-1)+"Â ")}return i.replace(/ {2}/g," Â ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(a=>this.preElements.includes(a.name)))return!1;const i=this._processDataFromViewText(e);return i.charAt(i.length-1)==" "}_getTouchingInlineViewNode(e,i){const a=new yo({startPosition:i?Dt._createAfter(e):Dt._createBefore(e),direction:i?"forward":"backward"});for(const u of a){if(u.item.is("element","br"))return null;if(this._isInlineObjectElement(u.item))return u.item;if(u.item.is("containerElement"))return null;if(u.item.is("$textProxy"))return u.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,i){if(io(e))return new Yb(this.document,"$comment");const a=i.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Oo(this.document,a)}_isViewElementWithRawContent(e,i){return i.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const i=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(i)}_createReplacementDomElement(e,i){const a=this._domDocument.createElement("span");if(a.setAttribute(S2,e),i){for(;i.firstChild;)a.appendChild(i.firstChild);for(const u of i.getAttributeNames())a.setAttribute(u,i.getAttribute(u))}return a}}function KB(c,e){return c.getAncestors().some(i=>i.is("element")&&e.includes(i.name))}function E2(c,e){let i=c;for(;i;)e(i),i=i.parentElement}function D2(c,e){const i=c.parentNode;return!!i&&!!i.tagName&&e.includes(i.tagName.toLowerCase())}function I2(c){c==="script"&&L("domconverter-unsafe-script-element-detected"),c==="style"&&L("domconverter-unsafe-style-element-detected")}class Gl extends _i(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const T2=Yd(function(c,e){Za(e,pa(e),c)});class Df{constructor(e,i,a){this.view=e,this.document=e.document,this.domEvent=i,this.domTarget=i.target,T2(this,a)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class $u extends Gl{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(e,i,(a,u)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(u.target)&&this.onDomEvent(u)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,i,a){this.isEnabled&&this.document.fire(e,new Df(this.view,i,a))}}class QB extends $u{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const i={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Fl(this)}};this.fire(e.type,e,i)}}const ny=function(){return qe.Date.now()};var JB=/\s/;const ZB=function(c){for(var e=c.length;e--&&JB.test(c.charAt(e)););return e};var XB=/^\s+/;const eR=function(c){return c&&c.slice(0,ZB(c)+1).replace(XB,"")};var tR=/^[-+]0x[0-9a-f]+$/i,nR=/^0b[01]+$/i,rR=/^0o[0-7]+$/i,iR=parseInt;const N2=function(c){if(typeof c=="number")return c;if(Jd(c))return NaN;if(ae(c)){var e=typeof c.valueOf=="function"?c.valueOf():c;c=ae(e)?e+"":e}if(typeof c!="string")return c===0?c:+c;c=eR(c);var i=nR.test(c);return i||rR.test(c)?iR(c.slice(2),i?2:8):tR.test(c)?NaN:+c};var oR=Math.max,sR=Math.min;const If=function(c,e,i){var a,u,f,m,w,_,E=0,T=!1,O=!1,V=!0;if(typeof c!="function")throw new TypeError("Expected a function");function K(Le){var tt=a,ft=u;return a=u=void 0,E=Le,m=c.apply(ft,tt)}function ee(Le){var tt=Le-_;return _===void 0||tt>=e||tt<0||O&&Le-E>=f}function se(){var Le=ny();if(ee(Le))return ke(Le);w=setTimeout(se,function(tt){var ft=e-(tt-_);return O?sR(ft,f-(tt-E)):ft}(Le))}function ke(Le){return w=void 0,V&&a?K(Le):(a=u=void 0,m)}function Ee(){var Le=ny(),tt=ee(Le);if(a=arguments,u=this,_=Le,tt){if(w===void 0)return function(ft){return E=ft,w=setTimeout(se,e),T?K(ft):m}(_);if(O)return clearTimeout(w),w=setTimeout(se,e),K(_)}return w===void 0&&(w=setTimeout(se,e)),m}return e=N2(e)||0,ae(i)&&(T=!!i.leading,f=(O="maxWait"in i)?oR(N2(i.maxWait)||0,e):f,V="trailing"in i?!!i.trailing:V),Ee.cancel=function(){w!==void 0&&clearTimeout(w),E=0,a=_=u=w=void 0},Ee.flush=function(){return w===void 0?m:ke(ny())},Ee};class aR extends Gl{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=If(i=>{this.document.fire("selectionChangeDone",i)},200)}observe(){const e=this.document;e.on("arrowKey",(i,a)=>{e.selection.isFake&&this.isEnabled&&a.preventDefault()},{context:"$capture"}),e.on("arrowKey",(i,a)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(a.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const i=this.document.selection,a=new is(i.getRanges(),{backward:i.isBackward,fake:!1});e!=Pn.arrowleft&&e!=Pn.arrowup||a.setTo(a.getFirstPosition()),e!=Pn.arrowright&&e!=Pn.arrowdown||a.setTo(a.getLastPosition());const u={oldSelection:i,newSelection:a,domSelection:null};this.document.fire("selectionChange",u),this._fireSelectionChangeDoneDebounced(u)}}const lR=function(c){return this.__data__.set(c,"__lodash_hash_undefined__"),this},cR=function(c){return this.__data__.has(c)};function Jb(c){var e=-1,i=c==null?0:c.length;for(this.__data__=new Tc;++e<i;)this.add(c[e])}Jb.prototype.add=Jb.prototype.push=lR,Jb.prototype.has=cR;const uR=Jb,dR=function(c,e){for(var i=-1,a=c==null?0:c.length;++i<a;)if(e(c[i],i,c))return!0;return!1},hR=function(c,e){return c.has(e)},M2=function(c,e,i,a,u,f){var m=1&i,w=c.length,_=e.length;if(w!=_&&!(m&&_>w))return!1;var E=f.get(c),T=f.get(e);if(E&&T)return E==e&&T==c;var O=-1,V=!0,K=2&i?new uR:void 0;for(f.set(c,e),f.set(e,c);++O<w;){var ee=c[O],se=e[O];if(a)var ke=m?a(se,ee,O,e,c,f):a(ee,se,O,c,e,f);if(ke!==void 0){if(ke)continue;V=!1;break}if(K){if(!dR(e,function(Ee,Le){if(!hR(K,Le)&&(ee===Ee||u(ee,Ee,i,a,f)))return K.push(Le)})){V=!1;break}}else if(ee!==se&&!u(ee,se,i,a,f)){V=!1;break}}return f.delete(c),f.delete(e),V},fR=function(c){var e=-1,i=Array(c.size);return c.forEach(function(a,u){i[++e]=[u,a]}),i},pR=function(c){var e=-1,i=Array(c.size);return c.forEach(function(a){i[++e]=a}),i};var P2=it?it.prototype:void 0,ry=P2?P2.valueOf:void 0;const mR=function(c,e,i,a,u,f,m){switch(i){case"[object DataView]":if(c.byteLength!=e.byteLength||c.byteOffset!=e.byteOffset)return!1;c=c.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(c.byteLength!=e.byteLength||!f(new el(c),new el(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return si(+c,+e);case"[object Error]":return c.name==e.name&&c.message==e.message;case"[object RegExp]":case"[object String]":return c==e+"";case"[object Map]":var w=fR;case"[object Set]":var _=1&a;if(w||(w=pR),c.size!=e.size&&!_)return!1;var E=m.get(c);if(E)return E==e;a|=2,m.set(c,e);var T=M2(w(c),w(e),a,u,f,m);return m.delete(c),T;case"[object Symbol]":if(ry)return ry.call(c)==ry.call(e)}return!1};var gR=Object.prototype.hasOwnProperty;const bR=function(c,e,i,a,u,f){var m=1&i,w=_t(c),_=w.length;if(_!=_t(e).length&&!m)return!1;for(var E=_;E--;){var T=w[E];if(!(m?T in e:gR.call(e,T)))return!1}var O=f.get(c),V=f.get(e);if(O&&V)return O==e&&V==c;var K=!0;f.set(c,e),f.set(e,c);for(var ee=m;++E<_;){var se=c[T=w[E]],ke=e[T];if(a)var Ee=m?a(ke,se,T,e,c,f):a(se,ke,T,c,e,f);if(!(Ee===void 0?se===ke||u(se,ke,i,a,f):Ee)){K=!1;break}ee||(ee=T=="constructor")}if(K&&!ee){var Le=c.constructor,tt=e.constructor;Le==tt||!("constructor"in c)||!("constructor"in e)||typeof Le=="function"&&Le instanceof Le&&typeof tt=="function"&&tt instanceof tt||(K=!1)}return f.delete(c),f.delete(e),K};var O2="[object Arguments]",j2="[object Array]",Zb="[object Object]",L2=Object.prototype.hasOwnProperty;const kR=function(c,e,i,a,u,f){var m=zt(c),w=zt(e),_=m?j2:ga(c),E=w?j2:ga(e),T=(_=_==O2?Zb:_)==Zb,O=(E=E==O2?Zb:E)==Zb,V=_==E;if(V&&Xa(c)){if(!Xa(e))return!1;m=!0,T=!1}if(V&&!T)return f||(f=new Dl),m||Cu(c)?M2(c,e,i,a,u,f):mR(c,e,_,i,a,u,f);if(!(1&i)){var K=T&&L2.call(c,"__wrapped__"),ee=O&&L2.call(e,"__wrapped__");if(K||ee){var se=K?c.value():c,ke=ee?e.value():e;return f||(f=new Dl),u(se,ke,i,a,f)}}return!!V&&(f||(f=new Dl),bR(c,e,i,a,u,f))},Xb=function c(e,i,a,u,f){return e===i||(e==null||i==null||!Qt(e)&&!Qt(i)?e!=e&&i!=i:kR(e,i,a,u,c,f))},wR=function(c,e,i){var a=(i=typeof i=="function"?i:void 0)?i(c,e):void 0;return a===void 0?Xb(c,e,void 0,i):!!a};class B2 extends Gl{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const i of this._domElements)this._mutationObserver.observe(i,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const i=this.domConverter,a=new Set,u=new Set;for(const m of e){const w=i.mapDomToView(m.target);w&&(w.is("uiElement")||w.is("rawElement")||m.type!=="childList"||this._isBogusBrMutation(m)||u.add(w))}for(const m of e){const w=i.mapDomToView(m.target);if((!w||!w.is("uiElement")&&!w.is("rawElement"))&&m.type==="characterData"){const _=i.findCorrespondingViewText(m.target);_&&!u.has(_.parent)?a.add(_):!_&&Us(m.target)&&u.add(i.mapDomToView(m.target.parentNode))}}let f=!1;for(const m of a)f=!0,this.renderer.markToSync("text",m);for(const m of u){const w=i.mapViewToDom(m),_=Array.from(m.getChildren()),E=Array.from(i.domChildrenToView(w,{withChildren:!1}));wR(_,E,yR)||(f=!0,this.renderer.markToSync("children",m))}f&&this.view.forceRender()}_isBogusBrMutation(e){let i=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(i=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}}function yR(c,e){if(!Array.isArray(c))return c===e||!(!c.is("$text")||!e.is("$text"))&&c.data===e.data}class e0 extends $u{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const i=this.document;i.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),i.on("blur",(a,u)=>{const f=i.selection.editableElement;f!==null&&f!==u.target||(i.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class vR extends Gl{constructor(e){super(e),this.mutationObserver=e.getObserver(B2),this.focusObserver=e.getObserver(e0),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=If(i=>{this.document.fire("selectionChangeDone",i)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=If(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const i=e.ownerDocument,a=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,i),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",a,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",a,{priority:"highest",useCapture:!0}),this._documents.has(i)||(this.listenTo(i,"mouseup",a,{priority:"highest",useCapture:!0}),this.listenTo(i,"selectionchange",(u,f)=>{this.document.isComposing&&!b.isAndroid||(this._handleSelectionChange(f,i),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(i))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,i){if(!this.isEnabled)return;const a=i.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(a.anchorNode))return;this.mutationObserver.flush();const u=this.domConverter.domSelectionToView(a);if(u.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(u)||!this.domConverter.isDomSelectionCorrect(a))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(u))this.view.forceRender();else{const f={oldSelection:this.selection,newSelection:u,domSelection:a};this.document.fire("selectionChange",f),this._fireSelectionChangeDoneDebounced(f)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class AR extends $u{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const i=this.document;i.on("compositionstart",()=>{i.isComposing=!0},{priority:"low"}),i.on("compositionend",()=>{i.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class R2{constructor(e,i={}){this._files=i.cacheFiles?F2(e):null,this._native=e}get files(){return this._files||(this._files=F2(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,i){this._native.setData(e,i)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,i,a){this._native.setDragImage(e,i,a)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function F2(c){const e=Array.from(c.files||[]),i=Array.from(c.items||[]);return e.length?e:i.filter(a=>a.kind==="file").map(a=>a.getAsFile())}class _R extends $u{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const i=e.getTargetRanges(),a=this.view,u=a.document;let f=null,m=null,w=[];if(e.dataTransfer&&(f=new R2(e.dataTransfer)),e.data!==null?m=e.data:f&&(m=f.getData("text/plain")),u.selection.isFake)w=Array.from(u.selection.getRanges());else if(i.length)w=i.map(_=>{const E=a.domConverter.domPositionToView(_.startContainer,_.startOffset),T=a.domConverter.domPositionToView(_.endContainer,_.endOffset);return E?a.createRange(E,T):T?a.createRange(T):void 0}).filter(_=>!!_);else if(b.isAndroid){const _=e.target.ownerDocument.defaultView.getSelection();w=Array.from(a.domConverter.domSelectionToView(_).getRanges())}if(b.isAndroid&&e.inputType=="insertCompositionText"&&m&&m.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[a.createRange(w[0].end)]});else if(e.inputType=="insertText"&&m&&m.includes(`
`)){const _=m.split(/\n{1,2}/g);let E=w;for(let T=0;T<_.length;T++){const O=_[T];O!=""&&(this.fire(e.type,e,{data:O,dataTransfer:f,targetRanges:E,inputType:e.inputType,isComposing:e.isComposing}),E=[u.selection.getFirstRange()]),T+1<_.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:E}),E=[u.selection.getFirstRange()])}}else this.fire(e.type,e,{data:m,dataTransfer:f,targetRanges:w,inputType:e.inputType,isComposing:e.isComposing})}}class CR extends Gl{constructor(e){super(e),this.document.on("keydown",(i,a)=>{if(this.isEnabled&&((u=a.keyCode)==Pn.arrowright||u==Pn.arrowleft||u==Pn.arrowup||u==Pn.arrowdown)){const f=new Vu(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(f,a),f.stop.called&&i.stop()}var u})}observe(){}stopObserving(){}}class xR extends Gl{constructor(e){super(e);const i=this.document;i.on("keydown",(a,u)=>{if(!this.isEnabled||u.keyCode!=Pn.tab||u.ctrlKey)return;const f=new Vu(i,"tab",i.selection.getFirstRange());i.fire(f,u),f.stop.called&&a.stop()})}observe(){}stopObserving(){}}const sl=function(c){return jr(c,5)};class SR extends Ue(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Gb(e),this.domConverter=new Qb(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new qB(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new p2(this.document),this.addObserver(B2),this.addObserver(e0),this.addObserver(vR),this.addObserver(QB),this.addObserver(aR),this.addObserver(AR),this.addObserver(CR),this.addObserver(_R),this.addObserver(xR),this.document.on("arrowKey",zB,{priority:"low"}),jB(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),b.isiOS&&this.listenTo(this.document,"blur",(i,a)=>{this.domConverter.mapDomToView(a.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,i="main"){const a=this.document.getRoot(i);a._name=e.tagName.toLowerCase();const u={};for(const{name:m,value:w}of Array.from(e.attributes))u[m]=w,m==="class"?this._writer.addClass(w.split(" "),a):this._writer.setAttribute(m,w,a);this._initialDomRootAttributes.set(e,u);const f=()=>{this._writer.setAttribute("contenteditable",(!a.isReadOnly).toString(),a),a.isReadOnly?this._writer.addClass("ck-read-only",a):this._writer.removeClass("ck-read-only",a)};f(),this.domRoots.set(i,e),this.domConverter.bindElements(e,a),this._renderer.markToSync("children",a),this._renderer.markToSync("attributes",a),this._renderer.domDocuments.add(e.ownerDocument),a.on("change:children",(m,w)=>this._renderer.markToSync("children",w)),a.on("change:attributes",(m,w)=>this._renderer.markToSync("attributes",w)),a.on("change:text",(m,w)=>this._renderer.markToSync("text",w)),a.on("change:isReadOnly",()=>this.change(f)),a.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const m of this._observers.values())m.observe(e,i)}detachDomRoot(e){const i=this.domRoots.get(e);Array.from(i.attributes).forEach(({name:u})=>i.removeAttribute(u));const a=this._initialDomRootAttributes.get(i);for(const u in a)i.setAttribute(u,a[u]);this.domRoots.delete(e),this.domConverter.unbindDomElement(i);for(const u of this._observers.values())u.stopObserving(i)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let i=this._observers.get(e);if(i)return i;i=new e(this),this._observers.set(e,i);for(const[a,u]of this.domRoots)i.observe(u,a);return i.enable(),i}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:i,viewportOffset:a=20,ancestorOffset:u=20}={}){const f=this.document.selection.getFirstRange();if(!f)return;const m=sl({alignToTop:e,forceScroll:i,viewportOffset:a,ancestorOffset:u});typeof a=="number"&&(a={top:a,bottom:a,left:a,right:a});const w={target:this.domConverter.viewRangeToDom(f),viewportOffset:a,ancestorOffset:u,alignToTop:e,forceScroll:i};this.fire("scrollToTheSelection",w,m),function({target:_,viewportOffset:E=0,ancestorOffset:T=0,alignToTop:O,forceScroll:V}){const K=am(_);let ee=K,se=null;for(E=function(ke){return typeof ke=="number"?{top:ke,bottom:ke,left:ke,right:ke}:ke}(E);ee;){let ke;ke=Eb(ee==K?_:se),sm({parent:ke,getRect:()=>Db(_,ee),alignToTop:O,ancestorOffset:T,forceScroll:V});const Ee=Db(_,ee);if(xb({window:ee,rect:Ee,viewportOffset:E,alignToTop:O,forceScroll:V}),ee.parent!=ee){if(se=ee.frameElement,ee=ee.parent,!se)return}else ee=null}}(w)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new N("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const i=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),i}catch(i){N.rethrowUnexpectedError(i,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(e0).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,i){return Dt._createAt(e,i)}createPositionAfter(e){return Dt._createAfter(e)}createPositionBefore(e){return Dt._createBefore(e)}createRange(e,i){return new Kt(e,i)}createRangeOn(e){return Kt._createOn(e)}createRangeIn(e){return Kt._createIn(e)}createSelection(...e){return new is(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Hu{is(){throw new Error("is() method is abstract")}}class ih extends Hu{constructor(e){super(),this.parent=null,this._attrs=_a(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new N("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new N("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.startOffset),i=i.parent;return e}getAncestors(e={}){const i=[];let a=e.includeSelf?this:this.parent;for(;a;)i[e.parentFirst?"push":"unshift"](a),a=a.parent;return i}getCommonAncestor(e,i={}){const a=this.getAncestors(i),u=e.getAncestors(i);let f=0;for(;a[f]==u[f]&&a[f];)f++;return f===0?null:a[f-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),a=e.getPath(),u=Me(i,a);switch(u){case"prefix":return!0;case"extension":return!1;default:return i[u]<a[u]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((i,a)=>(i[a[0]]=a[1],i),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,i){this._attrs.set(e,i)}_setAttributesTo(e){this._attrs=_a(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}ih.prototype.is=function(c){return c==="node"||c==="model:node"};class xm{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,i)=>e+i.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const i=this._nodes.indexOf(e);return i==-1?null:i}getNodeStartOffset(e){const i=this.getNodeIndex(e);return i===null?null:this._nodes.slice(0,i).reduce((a,u)=>a+u.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const i=this._nodes[e];if(!i)throw new N("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(i)}offsetToIndex(e){let i=0;for(const a of this._nodes){if(e>=i&&e<i+a.offsetSize)return this.getNodeIndex(a);i+=a.offsetSize}if(i!=e)throw new N("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,i){for(const a of i)if(!(a instanceof ih))throw new N("model-nodelist-insertnodes-not-node",this);this._nodes=function(a,u,f,m){if(Math.max(u.length,a.length)>1e4)return a.slice(0,f).concat(u).concat(a.slice(f+m,a.length));{const w=Array.from(a);return w.splice(f,m,...u),w}}(this._nodes,Array.from(i),e,0)}_removeNodes(e,i=1){return this._nodes.splice(e,i)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class wr extends ih{constructor(e,i){super(i),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new wr(this.data,this.getAttributes())}static fromJSON(e){return new wr(e.data,e.attributes)}}wr.prototype.is=function(c){return c==="$text"||c==="model:$text"||c==="text"||c==="model:text"||c==="node"||c==="model:node"};class al extends Hu{constructor(e,i,a){if(super(),this.textNode=e,i<0||i>e.offsetSize)throw new N("model-textproxy-wrong-offsetintext",this);if(a<0||i+a>e.offsetSize)throw new N("model-textproxy-wrong-length",this);this.data=e.data.substring(i,i+a),this.offsetInText=i}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const i=[];let a=e.includeSelf?this:this.parent;for(;a;)i[e.parentFirst?"push":"unshift"](a),a=a.parent;return i}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}al.prototype.is=function(c){return c==="$textProxy"||c==="model:$textProxy"||c==="textProxy"||c==="model:textProxy"};class dr extends ih{constructor(e,i,a){super(i),this._children=new xm,this.name=e,a&&this._insertChild(0,a)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let i=this;for(const a of e)i=i.getChild(i.offsetToIndex(a));return i}findAncestor(e,i={}){let a=i.includeSelf?this:this.parent;for(;a;){if(a.name===e)return a;a=a.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const i of this._children)e.children.push(i.toJSON())}return e}_clone(e=!1){const i=e?Array.from(this._children).map(a=>a._clone(!0)):void 0;return new dr(this.name,this.getAttributes(),i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const a=function(u){return typeof u=="string"?[new wr(u)]:(Ie(u)||(u=[u]),Array.from(u).map(f=>typeof f=="string"?new wr(f):f instanceof al?new wr(f.data,f.getAttributes()):f))}(i);for(const u of a)u.parent!==null&&u._remove(),u.parent=this;this._children._insertNodes(e,a)}_removeChildren(e,i=1){const a=this._children._removeNodes(e,i);for(const u of a)u.parent=null;return a}static fromJSON(e){let i;if(e.children){i=[];for(const a of e.children)a.name?i.push(dr.fromJSON(a)):i.push(wr.fromJSON(a))}return new dr(e.name,e.attributes,i)}}dr.prototype.is=function(c,e){return e?e===this.name&&(c==="element"||c==="model:element"):c==="element"||c==="model:element"||c==="node"||c==="model:node"};class Wc{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new N("model-tree-walker-no-start-position",null);const i=e.direction||"forward";if(i!="forward"&&i!="backward")throw new N("model-tree-walker-unknown-direction",e,{direction:i});this.direction=i,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=At._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let i,a,u,f;do u=this.position,f=this._visitedParent,{done:i,value:a}=this.next();while(!i&&e(a));i||(this._position=u,this._visitedParent=f)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,i=this.position.clone(),a=this._visitedParent;if(a.parent===null&&i.offset===a.maxOffset)return{done:!0,value:void 0};if(a===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const u=Sm(i,a),f=u||z2(i,a,u);if(f instanceof dr){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(i))return{done:!0,value:void 0};i.offset++}else i.path.push(0),this._visitedParent=f;return this._position=i,oh("elementStart",f,e,i,1)}if(f instanceof wr){let m;if(this.singleCharacters)m=1;else{let E=f.endOffset;this._boundaryEndParent==a&&this.boundaries.end.offset<E&&(E=this.boundaries.end.offset),m=E-i.offset}const w=i.offset-f.startOffset,_=new al(f,w,m);return i.offset+=m,this._position=i,oh("text",_,e,i,m)}return i.path.pop(),i.offset++,this._position=i,this._visitedParent=a.parent,this.ignoreElementEnd?this._next():oh("elementEnd",a,e,i)}_previous(){const e=this.position,i=this.position.clone(),a=this._visitedParent;if(a.parent===null&&i.offset===0)return{done:!0,value:void 0};if(a==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const u=i.parent,f=Sm(i,u),m=f||U2(i,u,f);if(m instanceof dr)return i.offset--,this.shallow?(this._position=i,oh("elementStart",m,e,i,1)):(i.path.push(m.maxOffset),this._position=i,this._visitedParent=m,this.ignoreElementEnd?this._previous():oh("elementEnd",m,e,i));if(m instanceof wr){let w;if(this.singleCharacters)w=1;else{let T=m.startOffset;this._boundaryStartParent==a&&this.boundaries.start.offset>T&&(T=this.boundaries.start.offset),w=i.offset-T}const _=i.offset-m.startOffset,E=new al(m,_-w,w);return i.offset-=w,this._position=i,oh("text",E,e,i,w)}return i.path.pop(),this._position=i,this._visitedParent=a.parent,oh("elementStart",a,e,i,1)}}function oh(c,e,i,a,u){return{done:!1,value:{type:c,item:e,previousPosition:i,nextPosition:a,length:u}}}class At extends Hu{constructor(e,i,a="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new N("model-position-root-invalid",e);if(!(i instanceof Array)||i.length===0)throw new N("model-position-path-incorrect-format",e,{path:i});e.is("rootElement")?i=i.slice():(i=[...e.getPath(),...i],e=e.root),this.root=e,this.path=i,this.stickiness=a}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let i=0;i<this.path.length-1;i++)if(e=e.getChild(e.offsetToIndex(this.path[i])),!e)throw new N("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new N("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Sm(this,this.parent)}get nodeAfter(){const e=this.parent;return z2(this,e,Sm(this,e))}get nodeBefore(){const e=this.parent;return U2(this,e,Sm(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const i=Me(this.path,e.path);switch(i){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[i]<e.path[i]?"before":"after"}}getLastMatchingPosition(e,i={}){i.startPosition=this;const a=new Wc(i);return a.skip(e),a.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const i=this.parent;return i.is("element")?i.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const i=Me(this.path,e.path),a=typeof i=="string"?Math.min(this.path.length,e.path.length):i;return this.path.slice(0,a)}getCommonAncestor(e){const i=this.getAncestors(),a=e.getAncestors();let u=0;for(;i[u]==a[u]&&i[u];)u++;return u===0?null:i[u-1]}getShiftedBy(e){const i=this.clone(),a=i.offset+e;return i.offset=a<0?0:a,i}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const i=Math.min(this.path.length,e.path.length);for(let a=0;a<i;a++){const u=this.path[a]-e.path[a];if(u<-1||u>1)return!1;if(u===1)return q2(e,this,a);if(u===-1)return q2(this,e,a)}return this.path.length===e.path.length||(this.path.length>e.path.length?iy(this.path,i):iy(e.path,i))}hasSameParentAs(e){return this.root!==e.root?!1:Me(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let i;switch(e.type){case"insert":i=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":i=this._getTransformedByMoveOperation(e);break;case"split":i=this._getTransformedBySplitOperation(e);break;case"merge":i=this._getTransformedByMergeOperation(e);break;default:i=At._createAt(this)}return i}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const i=e.movedRange;return i.containsPosition(this)||i.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const i=e.movedRange;let a;return i.containsPosition(this)||i.start.isEqual(this)?(a=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(a=a._getTransformedByDeletion(e.deletionPosition,1))):a=this.isEqual(e.deletionPosition)?At._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),a}_getTransformedByDeletion(e,i){const a=At._createAt(this);if(this.root!=e.root)return a;if(Me(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+i>this.offset)return null;a.offset-=i}}else if(Me(e.getParentPath(),this.getParentPath())=="prefix"){const u=e.path.length-1;if(e.offset<=this.path[u]){if(e.offset+i>this.path[u])return null;a.path[u]-=i}}return a}_getTransformedByInsertion(e,i){const a=At._createAt(this);if(this.root!=e.root)return a;if(Me(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(a.offset+=i);else if(Me(e.getParentPath(),this.getParentPath())=="prefix"){const u=e.path.length-1;e.offset<=this.path[u]&&(a.path[u]+=i)}return a}_getTransformedByMove(e,i,a){if(i=i._getTransformedByDeletion(e,a),e.isEqual(i))return At._createAt(this);const u=this._getTransformedByDeletion(e,a);return u===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(a).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,i):u._getTransformedByInsertion(i,a)}_getCombined(e,i){const a=e.path.length-1,u=At._createAt(i);return u.stickiness=this.stickiness,u.offset=u.offset+this.path[a]-e.offset,u.path=[...u.path,...this.path.slice(a+1)],u}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,i,a="toNone"){if(e instanceof At)return new At(e.root,e.path,e.stickiness);{const u=e;if(i=="end")i=u.maxOffset;else{if(i=="before")return this._createBefore(u,a);if(i=="after")return this._createAfter(u,a);if(i!==0&&!i)throw new N("model-createpositionat-offset-required",[this,e])}if(!u.is("element")&&!u.is("documentFragment"))throw new N("model-position-parent-incorrect",[this,e]);const f=u.getPath();return f.push(i),new this(u.root,f,a)}}static _createAfter(e,i){if(!e.parent)throw new N("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,i)}static _createBefore(e,i){if(!e.parent)throw new N("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,i)}static fromJSON(e,i){if(e.root==="$graveyard"){const a=new At(i.graveyard,e.path);return a.stickiness=e.stickiness,a}if(!i.getRoot(e.root))throw new N("model-position-fromjson-no-root",i,{rootName:e.root});return new At(i.getRoot(e.root),e.path,e.stickiness)}}function Sm(c,e){const i=e.getChild(e.offsetToIndex(c.offset));return i&&i.is("$text")&&i.startOffset<c.offset?i:null}function z2(c,e,i){return i!==null?null:e.getChild(e.offsetToIndex(c.offset))}function U2(c,e,i){return i!==null?null:e.getChild(e.offsetToIndex(c.offset)-1)}function q2(c,e,i){return i+1!==c.path.length&&!!iy(e.path,i+1)&&!!function(a,u){let f=a.parent,m=a.path.length-1,w=0;for(;m>=u;){if(a.path[m]+w!==f.maxOffset)return!1;w=1,m--,f=f.parent}return!0}(c,i+1)}function iy(c,e){for(;e<c.length;){if(c[e]!==0)return!1;e++}return!0}At.prototype.is=function(c){return c==="position"||c==="model:position"};class ot extends Hu{constructor(e,i){super(),this.start=At._createAt(e),this.end=i?At._createAt(i):At._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Wc({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return Me(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const a=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),u=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return a&&u}containsItem(e){const i=At._createBefore(e);return this.containsPosition(i)||this.start.isEqual(i)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new ot(this.start,e.start)),this.containsPosition(e.end)&&i.push(new ot(e.end,this.end))):i.push(new ot(this.start,this.end)),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,a=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(a=e.end),new ot(i,a)}return null}getJoined(e,i=!1){let a=this.isIntersecting(e);if(a||(a=this.start.isBefore(e.start)?i?this.end.isTouching(e.start):this.end.isEqual(e.start):i?e.end.isTouching(this.start):e.end.isEqual(this.start)),!a)return null;let u=this.start,f=this.end;return e.start.isBefore(u)&&(u=e.start),e.end.isAfter(f)&&(f=e.end),new ot(u,f)}getMinimalFlatRanges(){const e=[],i=this.start.getCommonPath(this.end).length,a=At._createAt(this.start);let u=a.parent;for(;a.path.length>i+1;){const f=u.maxOffset-a.offset;f!==0&&e.push(new ot(a,a.getShiftedBy(f))),a.path=a.path.slice(0,-1),a.offset++,u=u.parent}for(;a.path.length<=this.end.path.length;){const f=this.end.path[a.path.length-1],m=f-a.offset;m!==0&&e.push(new ot(a,a.getShiftedBy(m))),a.offset=f,a.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Wc(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new Wc(e);for(const a of i)yield a.item}*getPositions(e={}){e.boundaries=this;const i=new Wc(e);yield i.position;for(const a of i)yield a.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new ot(this.start,this.end)]}getTransformedByOperations(e){const i=[new ot(this.start,this.end)];for(const a of e)for(let u=0;u<i.length;u++){const f=i[u].getTransformedByOperation(a);i.splice(u,1,...f),u+=f.length-1}for(let a=0;a<i.length;a++){const u=i[a];for(let f=a+1;f<i.length;f++){const m=i[f];(u.containsRange(m)||m.containsRange(u)||u.isEqual(m))&&i.splice(f,1)}}return i}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,i=this.end.nodeBefore;return e&&e.is("element")&&e===i?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,i=!1){return this._getTransformedByInsertion(e.position,e.howMany,i)}_getTransformedByMoveOperation(e,i=!1){const a=e.sourcePosition,u=e.howMany,f=e.targetPosition;return this._getTransformedByMove(a,f,u,i)}_getTransformedBySplitOperation(e){const i=this.start._getTransformedBySplitOperation(e);let a=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(a=this.end.getShiftedBy(1)),i.root!=a.root&&(a=this.end.getShiftedBy(-1)),new ot(i,a)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new ot(this.start);let i=this.start._getTransformedByMergeOperation(e),a=this.end._getTransformedByMergeOperation(e);return i.root!=a.root&&(a=this.end.getShiftedBy(-1)),i.isAfter(a)?(e.sourcePosition.isBefore(e.targetPosition)?(i=At._createAt(a),i.offset=0):(e.deletionPosition.isEqual(i)||(a=e.deletionPosition),i=e.targetPosition),new ot(i,a)):new ot(i,a)}_getTransformedByInsertion(e,i,a=!1){if(a&&this.containsPosition(e))return[new ot(this.start,e),new ot(e.getShiftedBy(i),this.end._getTransformedByInsertion(e,i))];{const u=new ot(this.start,this.end);return u.start=u.start._getTransformedByInsertion(e,i),u.end=u.end._getTransformedByInsertion(e,i),[u]}}_getTransformedByMove(e,i,a,u=!1){if(this.isCollapsed){const O=this.start._getTransformedByMove(e,i,a);return[new ot(O)]}const f=ot._createFromPositionAndShift(e,a),m=i._getTransformedByDeletion(e,a);if(this.containsPosition(i)&&!u&&(f.containsPosition(this.start)||f.containsPosition(this.end))){const O=this.start._getTransformedByMove(e,i,a),V=this.end._getTransformedByMove(e,i,a);return[new ot(O,V)]}let w;const _=this.getDifference(f);let E=null;const T=this.getIntersection(f);if(_.length==1?E=new ot(_[0].start._getTransformedByDeletion(e,a),_[0].end._getTransformedByDeletion(e,a)):_.length==2&&(E=new ot(this.start,this.end._getTransformedByDeletion(e,a))),w=E?E._getTransformedByInsertion(m,a,T!==null||u):[],T){const O=new ot(T.start._getCombined(f.start,m),T.end._getCombined(f.start,m));w.length==2?w.splice(1,0,O):w.push(O)}return w}_getTransformedByDeletion(e,i){let a=this.start._getTransformedByDeletion(e,i),u=this.end._getTransformedByDeletion(e,i);return a==null&&u==null?null:(a==null&&(a=e),u==null&&(u=e),new ot(a,u))}static _createFromPositionAndShift(e,i){const a=e,u=e.getShiftedBy(i);return i>0?new this(a,u):new this(u,a)}static _createIn(e){return new this(At._createAt(e,0),At._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(At._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new N("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const i=e[0];e.sort((f,m)=>f.start.isAfter(m.start)?1:-1);const a=e.indexOf(i),u=new this(i.start,i.end);if(a>0)for(let f=a-1;e[f].end.isEqual(u.start);f++)u.start=At._createAt(e[f].start);for(let f=a+1;f<e.length&&e[f].start.isEqual(u.end);f++)u.end=At._createAt(e[f].end);return u}static fromJSON(e,i){return new this(At.fromJSON(e.start,i),At.fromJSON(e.end,i))}}ot.prototype.is=function(c){return c==="range"||c==="model:range"};class V2 extends oe(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,i)=>{if(i.viewPosition)return;const a=this._modelToViewMapping.get(i.modelPosition.parent);if(!a)throw new N("mapping-model-position-view-parent-not-found",this,{modelPosition:i.modelPosition});i.viewPosition=this.findPositionIn(a,i.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,i)=>{if(i.modelPosition)return;const a=this.findMappedViewAncestor(i.viewPosition),u=this._viewToModelMapping.get(a),f=this._toModelOffset(i.viewPosition.parent,i.viewPosition.offset,a);i.modelPosition=At._createAt(u,f)},{priority:"low"})}bindElements(e,i){this._modelToViewMapping.set(e,i),this._viewToModelMapping.set(i,e)}unbindViewElement(e,i={}){const a=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const u of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(u);i.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(a)==e&&this._modelToViewMapping.delete(a))}unbindModelElement(e){const i=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(i)==e&&this._viewToModelMapping.delete(i)}bindElementToMarker(e,i){const a=this._markerNameToElements.get(i)||new Set;a.add(e);const u=this._elementToMarkerNames.get(e)||new Set;u.add(i),this._markerNameToElements.set(i,a),this._elementToMarkerNames.set(e,u)}unbindElementFromMarkerName(e,i){const a=this._markerNameToElements.get(i);a&&(a.delete(e),a.size==0&&this._markerNameToElements.delete(i));const u=this._elementToMarkerNames.get(e);u&&(u.delete(i),u.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,i]of this._deferredBindingRemovals)e.root==i&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new ot(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Kt(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const i={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",i),i.modelPosition}toViewPosition(e,i={}){const a={modelPosition:e,mapper:this,isPhantom:i.isPhantom};return this.fire("modelToViewPosition",a),a.viewPosition}markerNameToElements(e){const i=this._markerNameToElements.get(e);if(!i)return null;const a=new Set;for(const u of i)if(u.is("attributeElement"))for(const f of u.getElementsWithSameId())a.add(f);else a.add(u);return a}registerViewToModelLength(e,i){this._viewToModelLengthCallbacks.set(e,i)}findMappedViewAncestor(e){let i=e.parent;for(;!this._viewToModelMapping.has(i);)i=i.parent;return i}_toModelOffset(e,i,a){if(a!=e)return this._toModelOffset(e.parent,e.index,a)+this._toModelOffset(e,i,e);if(e.is("$text"))return i;let u=0;for(let f=0;f<i;f++)u+=this.getModelLength(e.getChild(f));return u}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let i=0;for(const a of e.getChildren())i+=this.getModelLength(a);return i}}findPositionIn(e,i){let a,u=0,f=0,m=0;if(e.is("$text"))return new Dt(e,i);for(;f<i;)a=e.getChild(m),u=this.getModelLength(a),f+=u,m++;return f==i?this._moveViewPositionToTextNode(new Dt(e,m)):this.findPositionIn(a,i-(f-u))}_moveViewPositionToTextNode(e){const i=e.nodeBefore,a=e.nodeAfter;return i instanceof En?new Dt(i,i.data.length):a instanceof En?new Dt(a,0):e}}class ER{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,i){i=t0(i),e instanceof al&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(i,!0)}consume(e,i){return i=t0(i),e instanceof al&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,i)&&(this._consumable.get(e).set(i,!1),!0)}test(e,i){i=t0(i),e instanceof al&&(e=this._getSymbolForTextProxy(e));const a=this._consumable.get(e);if(a===void 0)return null;const u=a.get(i);return u===void 0?null:u}revert(e,i){i=t0(i),e instanceof al&&(e=this._getSymbolForTextProxy(e));const a=this.test(e,i);return a===!1?(this._consumable.get(e).set(i,!0),!0):a!==!0&&null}verifyAllConsumed(e){const i=[];for(const[a,u]of this._consumable)for(const[f,m]of u){const w=f.split(":")[0];m&&e==w&&i.push({event:f,item:a.name||a.description})}if(i.length)throw new N("conversion-model-consumable-not-consumed",null,{items:i})}_getSymbolForTextProxy(e){let i=null;const a=this._textProxyRegistry.get(e.startOffset);if(a){const u=a.get(e.endOffset);u&&(i=u.get(e.parent))}return i||(i=this._addSymbolForTextProxy(e)),i}_addSymbolForTextProxy(e){const i=e.startOffset,a=e.endOffset,u=e.parent,f=Symbol("$textProxy:"+e.data);let m,w;return m=this._textProxyRegistry.get(i),m||(m=new Map,this._textProxyRegistry.set(i,m)),w=m.get(a),w||(w=new Map,m.set(a,w)),w.set(u,f),f}}function t0(c){const e=c.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?c:e.length>1?e[0]+":"+e[1]:e[0]}var DR=Object.defineProperty,IR=Object.defineProperties,TR=Object.getOwnPropertyDescriptors,$2=Object.getOwnPropertySymbols,NR=Object.prototype.hasOwnProperty,MR=Object.prototype.propertyIsEnumerable,H2=(c,e,i)=>e in c?DR(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,oy=(c,e)=>{for(var i in e||(e={}))NR.call(e,i)&&H2(c,i,e[i]);if($2)for(var i of $2(e))MR.call(e,i)&&H2(c,i,e[i]);return c},W2=(c,e)=>IR(c,TR(e));class G2 extends oe(){constructor(e){super(),this._conversionApi=oy({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,i,a){const u=this._createConversionApi(a,e.getRefreshedItems());for(const m of e.getMarkersToRemove())this._convertMarkerRemove(m.name,m.range,u);const f=this._reduceChanges(e.getChanges());for(const m of f)m.type==="insert"?this._convertInsert(ot._createFromPositionAndShift(m.position,m.length),u):m.type==="reinsert"?this._convertReinsert(ot._createFromPositionAndShift(m.position,m.length),u):m.type==="remove"?this._convertRemove(m.position,m.length,m.name,u):this._convertAttribute(m.range,m.attributeKey,m.attributeOldValue,m.attributeNewValue,u);u.mapper.flushDeferredBindings();for(const m of u.mapper.flushUnboundMarkerNames()){const w=i.get(m).getRange();this._convertMarkerRemove(m,w,u),this._convertMarkerAdd(m,w,u)}for(const m of e.getMarkersToAdd())this._convertMarkerAdd(m.name,m.range,u);u.consumable.verifyAllConsumed("insert")}convert(e,i,a,u={}){const f=this._createConversionApi(a,void 0,u);this._convertInsert(e,f);for(const[m,w]of i)this._convertMarkerAdd(m,w,f);f.consumable.verifyAllConsumed("insert")}convertSelection(e,i,a){const u=this._createConversionApi(a);this.fire("cleanSelection",{selection:e},u);const f=e.getFirstPosition().root;if(!u.mapper.toViewElement(f))return;const m=Array.from(i.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(u.consumable,e,m),this.fire("selection",{selection:e},u),e.isCollapsed){for(const w of m)if(u.consumable.test(e,"addMarker:"+w.name)){const _=w.getRange();if(!PR(e.getFirstPosition(),w,u.mapper))continue;const E={item:e,markerName:w.name,markerRange:_};this.fire(`addMarker:${w.name}`,E,u)}for(const w of e.getAttributeKeys())if(u.consumable.test(e,"attribute:"+w)){const _={item:e,range:e.getFirstRange(),attributeKey:w,attributeOldValue:null,attributeNewValue:e.getAttribute(w)};this.fire(`attribute:${w}:$text`,_,u)}}}_convertInsert(e,i,a={}){a.doNotAddConsumables||this._addConsumablesForInsert(i.consumable,e);for(const u of Array.from(e.getWalker({shallow:!0})).map(Y2))this._testAndFire("insert",u,i)}_convertRemove(e,i,a,u){this.fire(`remove:${a}`,{position:e,length:i},u)}_convertAttribute(e,i,a,u,f){this._addConsumablesForRange(f.consumable,e,`attribute:${i}`);for(const m of e){const w={item:m.item,range:ot._createFromPositionAndShift(m.previousPosition,m.length),attributeKey:i,attributeOldValue:a,attributeNewValue:u};this._testAndFire(`attribute:${i}`,w,f)}}_convertReinsert(e,i){const a=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(i.consumable,a);for(const u of a.map(Y2))this._testAndFire("insert",W2(oy({},u),{reconversion:!0}),i)}_convertMarkerAdd(e,i,a){if(i.root.rootName=="$graveyard")return;const u=`addMarker:${e}`;if(a.consumable.add(i,u),this.fire(u,{markerName:e,markerRange:i},a),a.consumable.consume(i,u)){this._addConsumablesForRange(a.consumable,i,u);for(const f of i.getItems()){if(!a.consumable.test(f,u))continue;const m={item:f,range:ot._createOn(f),markerName:e,markerRange:i};this.fire(u,m,a)}}}_convertMarkerRemove(e,i,a){i.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:i},a)}_reduceChanges(e){const i={changes:e};return this.fire("reduceChanges",i),i.changes}_addConsumablesForInsert(e,i){for(const a of i){const u=a.item;if(e.test(u,"insert")===null){e.add(u,"insert");for(const f of u.getAttributeKeys())e.add(u,"attribute:"+f)}}return e}_addConsumablesForRange(e,i,a){for(const u of i.getItems())e.add(u,a);return e}_addConsumablesForSelection(e,i,a){e.add(i,"selection");for(const u of a)e.add(i,"addMarker:"+u.name);for(const u of i.getAttributeKeys())e.add(i,"attribute:"+u);return e}_testAndFire(e,i,a){const u=function(_,E){const T=E.item.is("element")?E.item.name:"$text";return`${_}:${T}`}(e,i),f=i.item.is("$textProxy")?a.consumable._getSymbolForTextProxy(i.item):i.item,m=this._firedEventsMap.get(a),w=m.get(f);if(w){if(w.has(u))return;w.add(u)}else m.set(f,new Set([u]));this.fire(u,i,a)}_testAndFireAddAttributes(e,i){const a={item:e,range:ot._createOn(e)};for(const u of a.item.getAttributeKeys())a.attributeKey=u,a.attributeOldValue=null,a.attributeNewValue=a.item.getAttribute(u),this._testAndFire(`attribute:${u}`,a,i)}_createConversionApi(e,i=new Set,a={}){const u=W2(oy({},this._conversionApi),{consumable:new ER,writer:e,options:a,convertItem:f=>this._convertInsert(ot._createOn(f),u),convertChildren:f=>this._convertInsert(ot._createIn(f),u,{doNotAddConsumables:!0}),convertAttributes:f=>this._testAndFireAddAttributes(f,u),canReuseView:f=>!i.has(u.mapper.toModelElement(f))});return this._firedEventsMap.set(u,new Map),u}}function PR(c,e,i){const a=e.getRange(),u=Array.from(c.getAncestors());return u.shift(),u.reverse(),!u.some(f=>{if(a.containsItem(f))return!!i.toViewElement(f).getCustomProperty("addHighlight")})}function Y2(c){return{item:c.item,range:ot._createFromPositionAndShift(c.previousPosition,c.length)}}class qs extends oe(Hu){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let a=!1;for(const u of e._ranges)if(i.isEqual(u)){a=!0;break}if(!a)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new ot(e.start,e.end)}getFirstRange(){let e=null;for(const i of this._ranges)e&&!i.start.isBefore(e.start)||(e=i);return e?new ot(e.start,e.end):null}getLastRange(){let e=null;for(const i of this._ranges)e&&!i.end.isAfter(e.end)||(e=i);return e?new ot(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[i,a,u]=e;if(typeof a=="object"&&(u=a,a=void 0),i===null)this._setRanges([]);else if(i instanceof qs)this._setRanges(i.getRanges(),i.isBackward);else if(i&&typeof i.getRanges=="function")this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof ot)this._setRanges([i],!!u&&!!u.backward);else if(i instanceof At)this._setRanges([new ot(i)]);else if(i instanceof ih){const f=!!u&&!!u.backward;let m;if(a=="in")m=ot._createIn(i);else if(a=="on")m=ot._createOn(i);else{if(a===void 0)throw new N("model-selection-setto-required-second-parameter",[this,i]);m=new ot(At._createAt(i,a))}this._setRanges([m],f)}else{if(!Ie(i))throw new N("model-selection-setto-not-selectable",[this,i]);this._setRanges(i,u&&!!u.backward)}}_setRanges(e,i=!1){const a=Array.from(e),u=a.some(f=>{if(!(f instanceof ot))throw new N("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(m=>!m.isEqual(f))});(a.length!==this._ranges.length||u)&&(this._replaceAllRanges(a),this._lastRangeBackward=!!i,this.fire("change:range",{directChange:!0}))}setFocus(e,i){if(this.anchor===null)throw new N("model-selection-setfocus-no-ranges",[this,e]);const a=At._createAt(e,i);if(a.compareWith(this.focus)=="same")return;const u=this.anchor;this._ranges.length&&this._popRange(),a.compareWith(u)=="before"?(this._pushRange(new ot(a,u)),this._lastRangeBackward=!0):(this._pushRange(new ot(u,a)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,i){this.getAttribute(e)!==i&&(this._attrs.set(e,i),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const i of this.getRanges()){const a=Q2(i.start,e);jR(a,i)&&(yield a);for(const f of i.getWalker()){const m=f.item;f.type=="elementEnd"&&OR(m,e,i)&&(yield m)}const u=Q2(i.end,e);LR(u,i)&&(yield u)}}containsEntireContent(e=this.anchor.root){const i=At._createAt(e,0),a=At._createAt(e,"end");return i.isTouching(this.getFirstPosition())&&a.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new ot(e.start,e.end))}_checkRange(e){for(let i=0;i<this._ranges.length;i++)if(e.isIntersecting(this._ranges[i]))throw new N("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[i]})}_replaceAllRanges(e){this._removeAllRanges();for(const i of e)this._pushRange(i)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function K2(c,e){return!e.has(c)&&(e.add(c),c.root.document.model.schema.isBlock(c)&&!!c.parent)}function OR(c,e,i){return K2(c,e)&&sy(c,i)}function Q2(c,e){const i=c.parent.root.document.model.schema,a=c.parent.getAncestors({parentFirst:!0,includeSelf:!0});let u=!1;const f=a.find(m=>!u&&(u=i.isLimit(m),!u&&K2(m,e)));return a.forEach(m=>e.add(m)),f}function sy(c,e){const i=function(a){const u=a.root.document.model.schema;let f=a.parent;for(;f;){if(u.isBlock(f))return f;f=f.parent}}(c);return i?!e.containsRange(ot._createOn(i),!0):!0}function jR(c,e){return!!c&&(!(!e.isCollapsed&&!c.isEmpty)||!e.start.isTouching(At._createAt(c,c.maxOffset))&&sy(c,e))}function LR(c,e){return!!c&&(!(!e.isCollapsed&&!c.isEmpty)||!e.end.isTouching(At._createAt(c,0))&&sy(c,e))}qs.prototype.is=function(c){return c==="selection"||c==="model:selection"};class Vs extends oe(ot){constructor(e,i){super(e,i),BR.call(this)}detach(){this.stopListening()}toRange(){return new ot(this.start,this.end)}static fromRange(e){return new Vs(e.start,e.end)}}function BR(){this.listenTo(this.root.document.model,"applyOperation",(c,e)=>{const i=e[0];i.isDocumentOperation&&RR.call(this,i)},{priority:"low"})}function RR(c){const e=this.getTransformedByOperation(c),i=ot._createFromRanges(e),a=!i.isEqual(this),u=function(m,w){switch(w.type){case"insert":return m.containsPosition(w.position);case"move":case"remove":case"reinsert":case"merge":return m.containsPosition(w.sourcePosition)||m.start.isEqual(w.sourcePosition)||m.containsPosition(w.targetPosition);case"split":return m.containsPosition(w.splitPosition)||m.containsPosition(w.insertionPosition)}return!1}(this,c);let f=null;if(a){i.root.rootName=="$graveyard"&&(f=c.type=="remove"?c.sourcePosition:c.deletionPosition);const m=this.toRange();this.start=i.start,this.end=i.end,this.fire("change:range",m,{deletionPosition:f})}else u&&this.fire("change:content",this.toRange(),{deletionPosition:f})}Vs.prototype.is=function(c){return c==="liveRange"||c==="model:liveRange"||c=="range"||c==="model:range"};const n0="selection:";class ll extends oe(Hu){constructor(e){super(),this._selection=new FR(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,i){this._selection.setFocus(e,i)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,i){this._selection.setAttribute(e,i)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return n0+e}static _isStoreAttributeKey(e){return e.startsWith(n0)}}ll.prototype.is=function(c){return c==="selection"||c=="model:selection"||c=="documentSelection"||c=="model:documentSelection"};class FR extends qs{constructor(e){super(),this.markers=new zs({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(i,a)=>{const u=a[0];u.isDocumentOperation&&u.type!="marker"&&u.type!="rename"&&u.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(i,a,u,f)=>{this._updateMarker(a,f)}),this.listenTo(this._document,"change",(i,a)=>{(function(u,f){const m=u.document.differ;for(const w of m.getChanges()){if(w.type!="insert")continue;const _=w.position.parent;w.length===_.maxOffset&&u.enqueueChange(f,E=>{const T=Array.from(_.getAttributeKeys()).filter(O=>O.startsWith(n0));for(const O of T)E.removeAttribute(O,_)})}})(this._model,a)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,i){super.setFocus(e,i),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,i){if(this._setAttribute(e,i)){const a=[e];this.fire("change:attribute",{attributeKeys:a,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}overrideGravity(){const e=P();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new N("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const i=this._prepareRange(e);i&&this._ranges.push(i)}_validateSelectionRanges(e){for(const i of e)if(!this._document._validateSelectionRange(i))throw new N("document-selection-wrong-position",this,{range:i})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const i=Vs.fromRange(e);return i.on("change:range",(a,u,f)=>{if(this._hasChangedRange=!0,i.root==this._document.graveyard){this._selectionRestorePosition=f.deletionPosition;const m=this._ranges.indexOf(i);this._ranges.splice(m,1),i.detach()}}),i}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let i=!1;for(const u of this._model.markers){const f=u.name.split(":",1)[0];if(!this._observedMarkers.has(f))continue;const m=u.getRange();for(const w of this.getRanges())m.containsRange(w,!w.isCollapsed)&&e.push(u)}const a=Array.from(this.markers);for(const u of e)this.markers.has(u)||(this.markers.add(u),i=!0);for(const u of Array.from(this.markers))e.includes(u)||(this.markers.remove(u),i=!0);i&&this.fire("change:marker",{oldMarkers:a,directChange:!1})}_updateMarker(e,i){const a=e.name.split(":",1)[0];if(!this._observedMarkers.has(a))return;let u=!1;const f=Array.from(this.markers),m=this.markers.has(e);if(i){let w=!1;for(const _ of this.getRanges())if(i.containsRange(_,!_.isCollapsed)){w=!0;break}w&&!m?(this.markers.add(e),u=!0):!w&&m&&(this.markers.remove(e),u=!0)}else m&&(this.markers.remove(e),u=!0);u&&this.fire("change:marker",{oldMarkers:f,directChange:!1})}_updateAttributes(e){const i=_a(this._getSurroundingAttributes()),a=_a(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[f,m]of this._attributePriority)m=="low"&&(this._attrs.delete(f),this._attributePriority.delete(f));this._setAttributesTo(i);const u=[];for(const[f,m]of this.getAttributes())a.has(f)&&a.get(f)===m||u.push(f);for(const[f]of a)this.hasAttribute(f)||u.push(f);u.length>0&&this.fire("change:attribute",{attributeKeys:u,directChange:!1})}_setAttribute(e,i,a=!0){const u=a?"normal":"low";return u=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==i&&(this._attrs.set(e,i),this._attributePriority.set(e,u),!0)}_removeAttribute(e,i=!0){const a=i?"normal":"low";return(a!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,a),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const i=new Set;for(const[a,u]of this.getAttributes())e.get(a)!==u&&this._removeAttribute(a,!1);for(const[a,u]of e)this._setAttribute(a,u,!1)&&i.add(a);return i}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const i of e.getAttributeKeys())i.startsWith(n0)&&(yield[i.substr(10),e.getAttribute(i)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),i=this._model.schema;if(e.root.rootName=="$graveyard")return null;let a=null;if(this.isCollapsed){const u=e.textNode?e.textNode:e.nodeBefore,f=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(a=Em(u,i)),a||(a=Em(f,i)),!this.isGravityOverridden&&!a){let m=u;for(;m&&!a;)m=m.previousSibling,a=Em(m,i)}if(!a){let m=f;for(;m&&!a;)m=m.nextSibling,a=Em(m,i)}a||(a=this.getStoredAttributes())}else{const u=this.getFirstRange();for(const f of u){if(f.item.is("element")&&i.isObject(f.item)){a=Em(f.item,i);break}if(f.type=="text"){a=f.item.getAttributes();break}}}return a}_fixGraveyardSelection(e){const i=this._model.schema.getNearestSelectionRange(e);i&&this._pushRange(i)}}function Em(c,e){if(!c)return null;if(c instanceof al||c instanceof wr)return c.getAttributes();if(!e.isInline(c))return null;if(!e.isObject(c))return[];const i=[];for(const[a,u]of c.getAttributes())e.checkAttribute("$text",a)&&e.getAttributeProperties(a).copyFromObject!==!1&&i.push([a,u]);return i}class J2{constructor(e){this._dispatchers=e}add(e){for(const i of this._dispatchers)e(i);return this}}class zR extends J2{elementToElement(e){return this.add(function(i){const a=ex(i.model),u=Dm(i.view,"container");return a.attributes.length&&(a.children=!0),f=>{f.on(`insert:${a.name}`,qR(u,ix(a)),{priority:i.converterPriority||"normal"}),(a.children||a.attributes.length)&&f.on("reduceChanges",rx(a),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(i){const a=ex(i.model),u=Dm(i.view,"container");return a.children=!0,f=>{if(f._conversionApi.schema.checkChild(a.name,"$text"))throw new N("conversion-element-to-structure-disallowed-text",f,{elementName:a.name});var m,w;f.on(`insert:${a.name}`,(m=u,w=ix(a),(_,E,T)=>{if(!w(E.item,T.consumable,{preflight:!0}))return;const O=new Map;T.writer._registerSlotFactory(function(ee,se,ke){return(Ee,Le)=>{const tt=Ee.createContainerElement("$slot");let ft=null;if(Le==="children")ft=Array.from(ee.getChildren());else{if(typeof Le!="function")throw new N("conversion-slot-mode-unknown",ke.dispatcher,{modeOrFilter:Le});ft=Array.from(ee.getChildren()).filter(Mt=>Le(Mt))}return se.set(tt,ft),tt}}(E.item,O,T));const V=m(E.item,T,E);if(T.writer._clearSlotFactory(),!V)return;(function(ee,se,ke){const Ee=Array.from(se.values()).flat(),Le=new Set(Ee);if(Le.size!=Ee.length)throw new N("conversion-slot-filter-overlap",ke.dispatcher,{element:ee});if(Le.size!=ee.childCount)throw new N("conversion-slot-filter-incomplete",ke.dispatcher,{element:ee})})(E.item,O,T),w(E.item,T.consumable);const K=T.mapper.toViewPosition(E.range.start);T.mapper.bindElements(E.item,V),T.writer.insert(K,V),T.convertAttributes(E.item),function(ee,se,ke,Ee){ke.mapper.on("modelToViewPosition",ft,{priority:"highest"});let Le=null,tt=null;for([Le,tt]of se)ox(ee,tt,ke,Ee),ke.writer.move(ke.writer.createRangeIn(Le),ke.writer.createPositionBefore(Le)),ke.writer.remove(Le);function ft(Mt,rn){const wn=rn.modelPosition.nodeAfter,Er=tt.indexOf(wn);Er<0||(rn.viewPosition=rn.mapper.findPositionIn(Le,Er))}ke.mapper.off("modelToViewPosition",ft)}(V,O,T,{reconversion:E.reconversion})}),{priority:i.converterPriority||"normal"}),f.on("reduceChanges",rx(a),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(i){i=sl(i);let a=i.model;typeof a=="string"&&(a={key:a});let u=`attribute:${a.key}`;if(a.name&&(u+=":"+a.name),a.values)for(const m of a.values)i.view[m]=Dm(i.view[m],"attribute");else i.view=Dm(i.view,"attribute");const f=tx(i);return m=>{m.on(u,UR(f),{priority:i.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(i){i=sl(i);let a=i.model;typeof a=="string"&&(a={key:a});let u=`attribute:${a.key}`;if(a.name&&(u+=":"+a.name),a.values)for(const m of a.values)i.view[m]=nx(i.view[m]);else i.view=nx(i.view);const f=tx(i);return m=>{var w;m.on(u,(w=f,(_,E,T)=>{if(!T.consumable.test(E.item,_.name))return;const O=w(E.attributeOldValue,T,E),V=w(E.attributeNewValue,T,E);if(!O&&!V)return;T.consumable.consume(E.item,_.name);const K=T.mapper.toViewElement(E.item),ee=T.writer;if(!K)throw new N("conversion-attribute-to-attribute-on-text",T.dispatcher,E);if(E.attributeOldValue!==null&&O)if(O.key=="class"){const se=typeof O.value=="string"?O.value.split(/\s+/):O.value;for(const ke of se)ee.removeClass(ke,K)}else if(O.key=="style")if(typeof O.value=="string"){const se=new ym(ee.document.stylesProcessor);se.setTo(O.value);for(const[ke]of se.getStylesEntries())ee.removeStyle(ke,K)}else{const se=Object.keys(O.value);for(const ke of se)ee.removeStyle(ke,K)}else ee.removeAttribute(O.key,K);if(E.attributeNewValue!==null&&V)if(V.key=="class"){const se=typeof V.value=="string"?V.value.split(/\s+/):V.value;for(const ke of se)ee.addClass(ke,K)}else if(V.key=="style")if(typeof V.value=="string"){const se=new ym(ee.document.stylesProcessor);se.setTo(V.value);for(const[ke,Ee]of se.getStylesEntries())ee.setStyle(ke,Ee,K)}else{const se=Object.keys(V.value);for(const ke of se)ee.setStyle(ke,V.value[ke],K)}else ee.setAttribute(V.key,V.value,K)}),{priority:i.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(i){const a=Dm(i.view,"ui");return u=>{u.on(`addMarker:${i.model}`,VR(a),{priority:i.converterPriority||"normal"}),u.on(`removeMarker:${i.model}`,(f,m,w)=>{const _=w.mapper.markerNameToElements(m.markerName);if(_){for(const E of _)w.mapper.unbindElementFromMarkerName(E,m.markerName),w.writer.clear(w.writer.createRangeOn(E),E);w.writer.clearClonedElementsGroup(m.markerName),f.stop()}},{priority:i.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(i){return a=>{var u;a.on(`addMarker:${i.model}`,(u=i.view,(f,m,w)=>{if(!m.item||!(m.item instanceof qs||m.item instanceof ll||m.item.is("$textProxy")))return;const _=ay(u,m,w);if(!_||!w.consumable.consume(m.item,f.name))return;const E=w.writer,T=Z2(E,_),O=E.document.selection;if(m.item instanceof qs||m.item instanceof ll)E.wrap(O.getFirstRange(),T);else{const V=w.mapper.toViewRange(m.range),K=E.wrap(V,T);for(const ee of K.getItems())if(ee.is("attributeElement")&&ee.isSimilar(T)){w.mapper.bindElementToMarker(ee,m.markerName);break}}}),{priority:i.converterPriority||"normal"}),a.on(`addMarker:${i.model}`,function(f){return(m,w,_)=>{if(!w.item||!(w.item instanceof dr))return;const E=ay(f,w,_);if(!E||!_.consumable.test(w.item,m.name))return;const T=_.mapper.toViewElement(w.item);if(T&&T.getCustomProperty("addHighlight")){_.consumable.consume(w.item,m.name);for(const O of ot._createIn(w.item))_.consumable.consume(O.item,m.name);T.getCustomProperty("addHighlight")(T,E,_.writer),_.mapper.bindElementToMarker(T,w.markerName)}}}(i.view),{priority:i.converterPriority||"normal"}),a.on(`removeMarker:${i.model}`,function(f){return(m,w,_)=>{if(w.markerRange.isCollapsed)return;const E=ay(f,w,_);if(!E)return;const T=Z2(_.writer,E),O=_.mapper.markerNameToElements(w.markerName);if(O){for(const V of O)_.mapper.unbindElementFromMarkerName(V,w.markerName),V.is("attributeElement")?_.writer.unwrap(_.writer.createRangeOn(V),T):V.getCustomProperty("removeHighlight")(V,E.id,_.writer);_.writer.clearClonedElementsGroup(w.markerName),m.stop()}}}(i.view),{priority:i.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(i){i=sl(i);const a=i.model;let u=i.view;return u||(u=f=>({group:a,name:f.substr(i.model.length+1)})),f=>{var m;f.on(`addMarker:${a}`,(m=u,(w,_,E)=>{const T=m(_.markerName,E);if(!T)return;const O=_.markerRange;E.consumable.consume(O,w.name)&&(X2(O,!1,E,_,T),X2(O,!0,E,_,T),w.stop())}),{priority:i.converterPriority||"normal"}),f.on(`removeMarker:${a}`,function(w){return(_,E,T)=>{const O=w(E.markerName,T);if(!O)return;const V=T.mapper.markerNameToElements(E.markerName);if(V){for(const ee of V)T.mapper.unbindElementFromMarkerName(ee,E.markerName),ee.is("containerElement")?(K(`data-${O.group}-start-before`,ee),K(`data-${O.group}-start-after`,ee),K(`data-${O.group}-end-before`,ee),K(`data-${O.group}-end-after`,ee)):T.writer.clear(T.writer.createRangeOn(ee),ee);T.writer.clearClonedElementsGroup(E.markerName),_.stop()}function K(ee,se){if(se.hasAttribute(ee)){const ke=new Set(se.getAttribute(ee).split(","));ke.delete(O.name),ke.size==0?T.writer.removeAttribute(ee,se):T.writer.setAttribute(ee,Array.from(ke).join(","),se)}}}}(u),{priority:i.converterPriority||"normal"})}}(e))}}function Z2(c,e){const i=c.createAttributeElement("span",e.attributes);return e.classes&&i._addClass(e.classes),typeof e.priority=="number"&&(i._priority=e.priority),i._id=e.id,i}function UR(c){return(e,i,a)=>{if(!a.consumable.test(i.item,e.name))return;const u=c(i.attributeOldValue,a,i),f=c(i.attributeNewValue,a,i);if(!u&&!f)return;a.consumable.consume(i.item,e.name);const m=a.writer,w=m.document.selection;if(i.item instanceof qs||i.item instanceof ll)m.wrap(w.getFirstRange(),f);else{let _=a.mapper.toViewRange(i.range);i.attributeOldValue!==null&&u&&(_=m.unwrap(_,u)),i.attributeNewValue!==null&&f&&m.wrap(_,f)}}}function qR(c,e=HR){return(i,a,u)=>{if(!e(a.item,u.consumable,{preflight:!0}))return;const f=c(a.item,u,a);if(!f)return;e(a.item,u.consumable);const m=u.mapper.toViewPosition(a.range.start);u.mapper.bindElements(a.item,f),u.writer.insert(m,f),u.convertAttributes(a.item),ox(f,a.item.getChildren(),u,{reconversion:a.reconversion})}}function VR(c){return(e,i,a)=>{i.isOpening=!0;const u=c(i,a);i.isOpening=!1;const f=c(i,a);if(!u||!f)return;const m=i.markerRange;if(m.isCollapsed&&!a.consumable.consume(m,e.name))return;for(const E of m)if(!a.consumable.consume(E.item,e.name))return;const w=a.mapper,_=a.writer;_.insert(w.toViewPosition(m.start),u),a.mapper.bindElementToMarker(u,i.markerName),m.isCollapsed||(_.insert(w.toViewPosition(m.end),f),a.mapper.bindElementToMarker(f,i.markerName)),e.stop()}}function X2(c,e,i,a,u){const f=e?c.start:c.end,m=f.nodeAfter&&f.nodeAfter.is("element")?f.nodeAfter:null,w=f.nodeBefore&&f.nodeBefore.is("element")?f.nodeBefore:null;if(m||w){let _,E;e&&m||!e&&!w?(_=m,E=!0):(_=w,E=!1);const T=i.mapper.toViewElement(_);if(T)return void function(O,V,K,ee,se,ke){const Ee=`data-${ke.group}-${V?"start":"end"}-${K?"before":"after"}`,Le=O.hasAttribute(Ee)?O.getAttribute(Ee).split(","):[];Le.unshift(ke.name),ee.writer.setAttribute(Ee,Le.join(","),O),ee.mapper.bindElementToMarker(O,se.markerName)}(T,e,E,i,a,u)}(function(_,E,T,O,V){const K=`${V.group}-${E?"start":"end"}`,ee=V.name?{name:V.name}:null,se=T.writer.createUIElement(K,ee);T.writer.insert(_,se),T.mapper.bindElementToMarker(se,O.markerName)})(i.mapper.toViewPosition(f),e,i,a,u)}function ex(c){return typeof c=="string"&&(c={name:c}),{name:c.name,attributes:c.attributes?sr(c.attributes):[],children:!!c.children}}function Dm(c,e){return typeof c=="function"?c:(i,a)=>function(u,f,m){typeof u=="string"&&(u={name:u});let w;const _=f.writer,E=Object.assign({},u.attributes);if(m=="container")w=_.createContainerElement(u.name,E);else if(m=="attribute"){const T={priority:u.priority||nh.DEFAULT_PRIORITY};w=_.createAttributeElement(u.name,E,T)}else w=_.createUIElement(u.name,E);if(u.styles){const T=Object.keys(u.styles);for(const O of T)_.setStyle(O,u.styles[O],w)}if(u.classes){const T=u.classes;if(typeof T=="string")_.addClass(T,w);else for(const O of T)_.addClass(O,w)}return w}(c,a,e)}function tx(c){return c.model.values?(e,i,a)=>{const u=c.view[e];return u?u(e,i,a):null}:c.view}function nx(c){return typeof c=="string"?e=>({key:c,value:e}):typeof c=="object"?c.value?()=>c:e=>({key:c.key,value:e}):c}function ay(c,e,i){const a=typeof c=="function"?c(e,i):c;return a?(a.priority||(a.priority=10),a.id||(a.id=e.markerName),a):null}function rx(c){const e=function(i){return(a,u)=>{if(!a.is("element",i.name))return!1;if(u.type=="attribute"){if(i.attributes.includes(u.attributeKey))return!0}else if(i.children)return!0;return!1}}(c);return(i,a)=>{const u=[];a.reconvertedElements||(a.reconvertedElements=new Set);for(const f of a.changes){const m=f.type=="attribute"?f.range.start.nodeAfter:f.position.parent;if(m&&e(m,f)){if(!a.reconvertedElements.has(m)){a.reconvertedElements.add(m);const w=At._createBefore(m);let _=u.length;for(let E=u.length-1;E>=0;E--){const T=u[E],O=(T.type=="attribute"?T.range.start:T.position).compareWith(w);if(O=="before"||T.type=="remove"&&O=="same")break;_=E}u.splice(_,0,{type:"remove",name:m.name,position:w,length:1},{type:"reinsert",name:m.name,position:w,length:1})}}else u.push(f)}a.changes=u}}function ix(c){return(e,i,a={})=>{const u=["insert"];for(const f of c.attributes)e.hasAttribute(f)&&u.push(`attribute:${f}`);return!!u.every(f=>i.test(e,f))&&(a.preflight||u.forEach(f=>i.consume(e,f)),!0)}}function ox(c,e,i,a){for(const u of e)$R(c.root,u,i,a)||i.convertItem(u)}function $R(c,e,i,a){const{writer:u,mapper:f}=i;if(!a.reconversion)return!1;const m=f.toViewElement(e);return!(!m||m.root==c)&&!!i.canReuseView(m)&&(u.move(u.createRangeOn(m),f.toViewPosition(At._createBefore(e))),!0)}function HR(c,e,{preflight:i}={}){return i?e.test(c,"insert"):e.consume(c,"insert")}function sx(c){const{schema:e,document:i}=c.model;for(const a of i.getRoots())if(a.isEmpty&&!e.checkChild(a,"$text")&&e.checkChild(a,"paragraph"))return c.insertElement("paragraph",a),!0;return!1}function ax(c,e,i){const a=i.createContext(c);return!!i.checkChild(a,"paragraph")&&!!i.checkChild(a.push("paragraph"),e)}function lx(c,e){const i=e.createElement("paragraph");return e.insert(i,c),e.createPositionAt(i,0)}var WR=Object.defineProperty,GR=Object.defineProperties,YR=Object.getOwnPropertyDescriptors,cx=Object.getOwnPropertySymbols,KR=Object.prototype.hasOwnProperty,QR=Object.prototype.propertyIsEnumerable,ux=(c,e,i)=>e in c?WR(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class JR extends J2{elementToElement(e){return this.add(dx(e))}elementToAttribute(e){return this.add(function(i){i=sl(i),hx(i);const a=fx(i,!1),u=ly(i.view),f=u?`element:${u}`:"element";return m=>{m.on(f,a,{priority:i.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(i){i=sl(i);let a=null;(typeof i.view=="string"||i.view.key)&&(a=function(f){typeof f.view=="string"&&(f.view={key:f.view});const m=f.view.key,w=f.view.value===void 0?/[\s\S]*/:f.view.value;let _;return m=="class"||m=="style"?_={[m=="class"?"classes":"styles"]:w}:_={attributes:{[m]:w}},f.view.name&&(_.name=f.view.name),f.view=_,m}(i)),hx(i,a);const u=fx(i,!0);return f=>{f.on("element",u,{priority:i.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(i){const a=function(m){return(w,_)=>{const E=typeof m=="string"?m:m(w,_);return _.writer.createElement("$marker",{"data-name":E})}}(i.model);return dx((u=((m,w)=>{for(var _ in w||(w={}))KR.call(w,_)&&ux(m,_,w[_]);if(cx)for(var _ of cx(w))QR.call(w,_)&&ux(m,_,w[_]);return m})({},i),f={model:a},GR(u,YR(f))));var u,f}(e))}dataToMarker(e){return this.add(function(i){i=sl(i),i.model||(i.model=m=>m?i.view+":"+m:i.view);const a={view:i.view,model:i.model},u=cy(px(a,"start")),f=cy(px(a,"end"));return m=>{m.on(`element:${i.view}-start`,u,{priority:i.converterPriority||"normal"}),m.on(`element:${i.view}-end`,f,{priority:i.converterPriority||"normal"});const w=B.low,_=B.highest,E=B.get(i.converterPriority)/_;m.on("element",function(T){return(O,V,K)=>{const ee=`data-${T.view}`;function se(ke,Ee){for(const Le of Ee){const tt=T.model(Le,K),ft=K.writer.createElement("$marker",{"data-name":tt});K.writer.insert(ft,ke),V.modelCursor.isEqual(ke)?V.modelCursor=V.modelCursor.getShiftedBy(1):V.modelCursor=V.modelCursor._getTransformedByInsertion(ke,1),V.modelRange=V.modelRange._getTransformedByInsertion(ke,1)[0]}}(K.consumable.test(V.viewItem,{attributes:ee+"-end-after"})||K.consumable.test(V.viewItem,{attributes:ee+"-start-after"})||K.consumable.test(V.viewItem,{attributes:ee+"-end-before"})||K.consumable.test(V.viewItem,{attributes:ee+"-start-before"}))&&(V.modelRange||Object.assign(V,K.convertChildren(V.viewItem,V.modelCursor)),K.consumable.consume(V.viewItem,{attributes:ee+"-end-after"})&&se(V.modelRange.end,V.viewItem.getAttribute(ee+"-end-after").split(",")),K.consumable.consume(V.viewItem,{attributes:ee+"-start-after"})&&se(V.modelRange.end,V.viewItem.getAttribute(ee+"-start-after").split(",")),K.consumable.consume(V.viewItem,{attributes:ee+"-end-before"})&&se(V.modelRange.start,V.viewItem.getAttribute(ee+"-end-before").split(",")),K.consumable.consume(V.viewItem,{attributes:ee+"-start-before"})&&se(V.modelRange.start,V.viewItem.getAttribute(ee+"-start-before").split(",")))}}(a),{priority:w+E})}}(e))}}function dx(c){const e=cy(c=sl(c)),i=ly(c.view),a=i?`element:${i}`:"element";return u=>{u.on(a,e,{priority:c.converterPriority||"normal"})}}function ly(c){return typeof c=="string"?c:typeof c=="object"&&typeof c.name=="string"?c.name:null}function cy(c){const e=new wo(c.view);return(i,a,u)=>{const f=e.match(a.viewItem);if(!f)return;const m=f.match;if(m.name=!0,!u.consumable.test(a.viewItem,m))return;const w=function(_,E,T){return _ instanceof Function?_(E,T):T.writer.createElement(_)}(c.model,a.viewItem,u);w&&u.safeInsert(w,a.modelCursor)&&(u.consumable.consume(a.viewItem,m),u.convertChildren(a.viewItem,w),u.updateConversionResult(w,a))}}function hx(c,e=null){const i=e===null||(f=>f.getAttribute(e)),a=typeof c.model!="object"?c.model:c.model.key,u=typeof c.model!="object"||c.model.value===void 0?i:c.model.value;c.model={key:a,value:u}}function fx(c,e){const i=new wo(c.view);return(a,u,f)=>{if(!u.modelRange&&e)return;const m=i.match(u.viewItem);if(!m||(function(T,O){const V=typeof T=="function"?T(O):T;return typeof V=="object"&&!ly(V)?!1:!V.classes&&!V.attributes&&!V.styles}(c.view,u.viewItem)?m.match.name=!0:delete m.match.name,!f.consumable.test(u.viewItem,m.match)))return;const w=c.model.key,_=typeof c.model.value=="function"?c.model.value(u.viewItem,f):c.model.value;if(_===null)return;u.modelRange||Object.assign(u,f.convertChildren(u.viewItem,u.modelCursor)),function(T,O,V,K){let ee=!1;for(const se of Array.from(T.getItems({shallow:V})))K.schema.checkAttribute(se,O.key)&&(ee=!0,se.hasAttribute(O.key)||K.writer.setAttribute(O.key,O.value,se));return ee}(u.modelRange,{key:w,value:_},e,f)&&(f.consumable.test(u.viewItem,{name:!0})&&(m.match.name=!0),f.consumable.consume(u.viewItem,m.match))}}function px(c,e){return{view:`${c.view}-${e}`,model:(i,a)=>{const u=i.getAttribute("name"),f=c.model(u,a);return a.writer.createElement("$marker",{"data-name":f})}}}function ZR(c){c.document.registerPostFixer(e=>function(i,a){const u=a.document.selection,f=a.schema,m=[];let w=!1;for(const _ of u.getRanges()){const E=mx(_,f);E&&!E.isEqual(_)?(m.push(E),w=!0):m.push(_)}return w&&i.setSelection(function(_){const E=[..._],T=new Set;let O=1;for(;O<E.length;){const V=E[O],K=E.slice(0,O);for(const[ee,se]of K.entries())if(!T.has(ee)){if(V.isEqual(se))T.add(ee);else if(V.isIntersecting(se)){T.add(ee),T.add(O);const ke=V.getJoined(se);E.push(ke)}}O++}return E.filter((V,K)=>!T.has(K))}(m),{backward:u.isBackward}),!1}(e,c))}function mx(c,e){return c.isCollapsed?function(i,a){const u=i.start,f=a.getNearestSelectionRange(u);if(!f){const w=u.getAncestors().reverse().find(_=>a.isObject(_));return w?ot._createOn(w):null}if(!f.isCollapsed)return f;const m=f.start;return u.isEqual(m)?null:new ot(m)}(c,e):function(i,a){const{start:u,end:f}=i,m=a.checkChild(u,"$text"),w=a.checkChild(f,"$text"),_=a.getLimitElement(u),E=a.getLimitElement(f);if(_===E){if(m&&w)return null;if(function(V,K,ee){const se=V.nodeAfter&&!ee.isLimit(V.nodeAfter)||ee.checkChild(V,"$text"),ke=K.nodeBefore&&!ee.isLimit(K.nodeBefore)||ee.checkChild(K,"$text");return se||ke}(u,f,a)){const V=u.nodeAfter&&a.isSelectable(u.nodeAfter)?null:a.getNearestSelectionRange(u,"forward"),K=f.nodeBefore&&a.isSelectable(f.nodeBefore)?null:a.getNearestSelectionRange(f,"backward"),ee=V?V.start:u,se=K?K.end:f;return new ot(ee,se)}}const T=_&&!_.is("rootElement"),O=E&&!E.is("rootElement");if(T||O){const V=u.nodeAfter&&f.nodeBefore&&u.nodeAfter.parent===f.nodeBefore.parent,K=T&&(!V||!bx(u.nodeAfter,a)),ee=O&&(!V||!bx(f.nodeBefore,a));let se=u,ke=f;return K&&(se=At._createBefore(gx(_,a))),ee&&(ke=At._createAfter(gx(E,a))),new ot(se,ke)}return null}(c,e)}function gx(c,e){let i=c,a=i;for(;e.isLimit(a)&&a.parent;)i=a,a=a.parent;return i}function bx(c,e){return c&&e.isSelectable(c)}class XR extends Ue(){constructor(e,i){super(),this.model=e,this.view=new SR(i),this.mapper=new V2,this.downcastDispatcher=new G2({mapper:this.mapper,schema:e.schema});const a=this.model.document,u=a.selection,f=this.model.markers;var m,w,_;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(a,"change",()=>{this.view.change(E=>{this.downcastDispatcher.convertChanges(a.differ,f,E),this.downcastDispatcher.convertSelection(u,f,E)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(E,T){return(O,V)=>{const K=V.newSelection,ee=[];for(const ke of K.getRanges())ee.push(T.toModelRange(ke));const se=E.createSelection(ee,{backward:K.isBackward});se.isEqual(E.document.selection)||E.change(ke=>{ke.setSelection(se)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(m=this.mapper,w=this.model.schema,_=this.view,(E,T)=>{if(!_.document.isComposing||b.isAndroid)for(let O=0;O<T.targetRanges.length;O++){const V=T.targetRanges[O],K=m.toModelRange(V),ee=mx(K,w);ee&&!ee.isEqual(K)&&(T.targetRanges[O]=m.toViewRange(ee))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(E,T,O)=>{if(!O.consumable.consume(T.item,E.name))return;const V=O.writer,K=O.mapper.toViewPosition(T.range.start),ee=V.createText(T.item.data);V.insert(K,ee)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(E,T,O)=>{O.convertAttributes(T.item),T.reconversion||!T.item.is("element")||T.item.isEmpty||O.convertChildren(T.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(E,T,O)=>{const V=O.mapper.toViewPosition(T.position),K=T.position.getShiftedBy(T.length),ee=O.mapper.toViewPosition(K,{isPhantom:!0}),se=O.writer.createRange(V,ee),ke=O.writer.remove(se.getTrimmed());for(const Ee of O.writer.createRangeIn(ke).getItems())O.mapper.unbindViewElement(Ee,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(E,T,O)=>{const V=O.writer,K=V.document.selection;for(const ee of K.getRanges())ee.isCollapsed&&ee.end.parent.isAttached()&&O.writer.mergeAttributes(ee.start);V.setSelection(null)}),this.downcastDispatcher.on("selection",(E,T,O)=>{const V=T.selection;if(V.isCollapsed||!O.consumable.consume(V,"selection"))return;const K=[];for(const ee of V.getRanges())K.push(O.mapper.toViewRange(ee));O.writer.setSelection(K,{backward:V.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(E,T,O)=>{const V=T.selection;if(!V.isCollapsed||!O.consumable.consume(V,"selection"))return;const K=O.writer,ee=V.getFirstPosition(),se=O.mapper.toViewPosition(ee),ke=K.breakAttributes(se);K.setSelection(ke)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(E=>{if(E.rootName=="$graveyard")return null;const T=new Xd(this.view.document,E.name);return T.rootName=E.rootName,this.mapper.bindElements(E,T),T})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const i=typeof e=="string"?e:e.name,a=this.model.markers.get(i);if(!a)throw new N("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:i});this.model.change(()=>{this.model.markers._refresh(a)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class Im{constructor(){this._consumables=new Map}add(e,i){let a;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?a=this._consumables.get(e):(a=new e7(e),this._consumables.set(e,a)),a.add(i))}test(e,i){const a=this._consumables.get(e);return a===void 0?null:e.is("$text")||e.is("documentFragment")?a:a.test(i)}consume(e,i){return!!this.test(e,i)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(i),!0)}revert(e,i){const a=this._consumables.get(e);a!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):a.revert(i))}static consumablesFromElement(e){const i={element:e,name:!0,attributes:[],classes:[],styles:[]},a=e.getAttributeKeys();for(const m of a)m!="style"&&m!="class"&&i.attributes.push(m);const u=e.getClassNames();for(const m of u)i.classes.push(m);const f=e.getStyleNames();for(const m of f)i.styles.push(m);return i}static createFrom(e,i){if(i||(i=new Im),e.is("$text"))return i.add(e),i;e.is("element")&&i.add(e,Im.consumablesFromElement(e)),e.is("documentFragment")&&i.add(e);for(const a of e.getChildren())i=Im.createFrom(a,i);return i}}const r0=["attributes","classes","styles"];class e7{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const i of r0)i in e&&this._add(i,e[i])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const i of r0)if(i in e){const a=this._test(i,e[i]);if(a!==!0)return a}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const i of r0)i in e&&this._consume(i,e[i])}revert(e){e.name&&(this._canConsumeName=!0);for(const i of r0)i in e&&this._revert(i,e[i])}_add(e,i){const a=sr(i),u=this._consumables[e];for(const f of a){if(e==="attributes"&&(f==="class"||f==="style"))throw new N("viewconsumable-invalid-attribute",this);if(u.set(f,!0),e==="styles")for(const m of this.element.document.stylesProcessor.getRelatedStyles(f))u.set(m,!0)}}_test(e,i){const a=sr(i),u=this._consumables[e];for(const f of a)if(e!=="attributes"||f!=="class"&&f!=="style"){const m=u.get(f);if(m===void 0)return null;if(!m)return!1}else{const m=f=="class"?"classes":"styles",w=this._test(m,[...this._consumables[m].keys()]);if(w!==!0)return w}return!0}_consume(e,i){const a=sr(i),u=this._consumables[e];for(const f of a)if(e!=="attributes"||f!=="class"&&f!=="style"){if(u.set(f,!1),e=="styles")for(const m of this.element.document.stylesProcessor.getRelatedStyles(f))u.set(m,!1)}else{const m=f=="class"?"classes":"styles";this._consume(m,[...this._consumables[m].keys()])}}_revert(e,i){const a=sr(i),u=this._consumables[e];for(const f of a)if(e!=="attributes"||f!=="class"&&f!=="style")u.get(f)===!1&&u.set(f,!0);else{const m=f=="class"?"classes":"styles";this._revert(m,[...this._consumables[m].keys()])}}}class t7 extends Ue(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,i)=>{i[0]=new sh(i[0])},{priority:"highest"}),this.on("checkChild",(e,i)=>{i[0]=new sh(i[0]),i[1]=this.getDefinition(i[1])},{priority:"highest"})}register(e,i){if(this._sourceDefinitions[e])throw new N("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},i)],this._clearCache()}extend(e,i){if(!this._sourceDefinitions[e])throw new N("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},i)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let i;return i=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[i]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const i=this.getDefinition(e);return!(!i||!i.isBlock)}isLimit(e){const i=this.getDefinition(e);return!!i&&!(!i.isLimit&&!i.isObject)}isObject(e){const i=this.getDefinition(e);return!!i&&!!(i.isObject||i.isLimit&&i.isSelectable&&i.isContent)}isInline(e){const i=this.getDefinition(e);return!(!i||!i.isInline)}isSelectable(e){const i=this.getDefinition(e);return!!i&&!(!i.isSelectable&&!i.isObject)}isContent(e){const i=this.getDefinition(e);return!!i&&!(!i.isContent&&!i.isObject)}checkChild(e,i){return!!i&&this._checkContextMatch(i,e)}checkAttribute(e,i){const a=this.getDefinition(e.last);return!!a&&a.allowAttributes.includes(i)}checkMerge(e,i){if(e instanceof At){const a=e.nodeBefore,u=e.nodeAfter;if(!(a instanceof dr))throw new N("schema-check-merge-no-element-before",this);if(!(u instanceof dr))throw new N("schema-check-merge-no-element-after",this);return this.checkMerge(a,u)}for(const a of i.getChildren())if(!this.checkChild(e,a))return!1;return!0}addChildCheck(e){this.on("checkChild",(i,[a,u])=>{if(!u)return;const f=e(a,u);typeof f=="boolean"&&(i.stop(),i.return=f)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(i,[a,u])=>{const f=e(a,u);typeof f=="boolean"&&(i.stop(),i.return=f)},{priority:"high"})}setAttributeProperties(e,i){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),i)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let i;for(e instanceof At?i=e.parent:i=(e instanceof ot?[e]:Array.from(e.getRanges())).reduce((a,u)=>{const f=u.getCommonAncestor();return a?a.getCommonAncestor(f,{includeSelf:!0}):f},null);!this.isLimit(i)&&i.parent;)i=i.parent;return i}checkAttributeInSelection(e,i){if(e.isCollapsed){const a=[...e.getFirstPosition().getAncestors(),new wr("",e.getAttributes())];return this.checkAttribute(a,i)}{const a=e.getRanges();for(const u of a)for(const f of u)if(this.checkAttribute(f.item,i))return!0}return!1}*getValidRanges(e,i){e=function*(a){for(const u of a)yield*u.getMinimalFlatRanges()}(e);for(const a of e)yield*this._getValidRangesForRange(a,i)}getNearestSelectionRange(e,i="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new ot(e);let a,u;const f=e.getAncestors().reverse().find(m=>this.isLimit(m))||e.root;i!="both"&&i!="backward"||(a=new Wc({boundaries:ot._createIn(f),startPosition:e,direction:"backward"})),i!="both"&&i!="forward"||(u=new Wc({boundaries:ot._createIn(f),startPosition:e}));for(const m of function*(w,_){let E=!1;for(;!E;){if(E=!0,w){const T=w.next();T.done||(E=!1,yield{walker:w,value:T.value})}if(_){const T=_.next();T.done||(E=!1,yield{walker:_,value:T.value})}}}(a,u)){const w=m.walker==a?"elementEnd":"elementStart",_=m.value;if(_.type==w&&this.isObject(_.item))return ot._createOn(_.item);if(this.checkChild(_.nextPosition,"$text"))return new ot(_.nextPosition)}return null}findAllowedParent(e,i){let a=e.parent;for(;a;){if(this.checkChild(a,i))return a;if(this.isLimit(a))return null;a=a.parent}return null}setAllowedAttributes(e,i,a){const u=a.model;for(const[f,m]of Object.entries(i))u.schema.checkAttribute(e,f)&&a.setAttribute(f,m,e)}removeDisallowedAttributes(e,i){for(const a of e)if(a.is("$text"))kx(this,a,i);else{const u=ot._createIn(a).getPositions();for(const f of u)kx(this,f.nodeBefore||f.parent,i)}}getAttributesWithProperty(e,i,a){const u={};for(const[f,m]of e.getAttributes()){const w=this.getAttributeProperties(f);w[i]!==void 0&&(a!==void 0&&a!==w[i]||(u[f]=m))}return u}createContext(e){return new sh(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},i=this._sourceDefinitions,a=Object.keys(i);for(const u of a)e[u]=n7(i[u],u);for(const u of a)r7(e,u);for(const u of a)i7(e,u);for(const u of a)o7(e,u);for(const u of a)s7(e,u),a7(e,u);for(const u of a)l7(e,u),c7(e,u),u7(e,u);this._compiledDefinitions=e}_checkContextMatch(e,i,a=i.length-1){const u=i.getItem(a);if(e.allowIn.includes(u.name)){if(a==0)return!0;{const f=this.getDefinition(u);return this._checkContextMatch(f,i,a-1)}}return!1}*_getValidRangesForRange(e,i){let a=e.start,u=e.start;for(const f of e.getItems({shallow:!0}))f.is("element")&&(yield*this._getValidRangesForRange(ot._createIn(f),i)),this.checkAttribute(f,i)||(a.isEqual(u)||(yield new ot(a,u)),a=At._createAfter(f)),u=At._createAfter(f);a.isEqual(u)||(yield new ot(a,u))}findOptimalInsertionRange(e,i){const a=e.getSelectedElement();if(a&&this.isObject(a)&&!this.isInline(a))return i=="before"||i=="after"?new ot(At._createAt(a,i)):ot._createOn(a);const u=Bi(e.getSelectedBlocks());if(!u)return new ot(e.focus);if(u.isEmpty)return new ot(At._createAt(u,0));const f=At._createAfter(u);return e.focus.isTouching(f)?new ot(f):new ot(At._createBefore(u))}}class sh{constructor(e){if(e instanceof sh)return e;let i;i=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=i.map(h7)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const i=new sh([e]);return i._items=[...this._items,...i._items],i}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function n7(c,e){const i={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(a,u){for(const f of a){const m=Object.keys(f).filter(w=>w.startsWith("is"));for(const w of m)u[w]=!!f[w]}}(c,i),ah(c,i,"allowIn"),ah(c,i,"allowContentOf"),ah(c,i,"allowWhere"),ah(c,i,"allowAttributes"),ah(c,i,"allowAttributesOf"),ah(c,i,"allowChildren"),ah(c,i,"inheritTypesFrom"),function(a,u){for(const f of a){const m=f.inheritAllFrom;m&&(u.allowContentOf.push(m),u.allowWhere.push(m),u.allowAttributesOf.push(m),u.inheritTypesFrom.push(m))}}(c,i),i}function r7(c,e){const i=c[e];for(const a of i.allowChildren){const u=c[a];u&&u.allowIn.push(e)}i.allowChildren.length=0}function i7(c,e){for(const i of c[e].allowContentOf)c[i]&&d7(c,i).forEach(a=>{a.allowIn.push(e)});delete c[e].allowContentOf}function o7(c,e){for(const i of c[e].allowWhere){const a=c[i];if(a){const u=a.allowIn;c[e].allowIn.push(...u)}}delete c[e].allowWhere}function s7(c,e){for(const i of c[e].allowAttributesOf){const a=c[i];if(a){const u=a.allowAttributes;c[e].allowAttributes.push(...u)}}delete c[e].allowAttributesOf}function a7(c,e){const i=c[e];for(const a of i.inheritTypesFrom){const u=c[a];if(u){const f=Object.keys(u).filter(m=>m.startsWith("is"));for(const m of f)m in i||(i[m]=u[m])}}delete i.inheritTypesFrom}function l7(c,e){const i=c[e],a=i.allowIn.filter(u=>c[u]);i.allowIn=Array.from(new Set(a))}function c7(c,e){const i=c[e];for(const a of i.allowIn)c[a].allowChildren.push(e)}function u7(c,e){const i=c[e];i.allowAttributes=Array.from(new Set(i.allowAttributes))}function ah(c,e,i){for(const a of c){const u=a[i];typeof u=="string"?e[i].push(u):Array.isArray(u)&&e[i].push(...u)}}function d7(c,e){const i=c[e];return(a=c,Object.keys(a).map(u=>a[u])).filter(u=>u.allowIn.includes(i.name));var a}function h7(c){return typeof c=="string"||c.is("documentFragment")?{name:typeof c=="string"?c:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:c.is("element")?c.name:"$text",*getAttributeKeys(){yield*c.getAttributeKeys()},getAttribute:e=>c.getAttribute(e)}}function kx(c,e,i){for(const a of e.getAttributeKeys())c.checkAttribute(e,a)||i.removeAttribute(a,e)}var f7=Object.defineProperty,p7=Object.defineProperties,m7=Object.getOwnPropertyDescriptors,wx=Object.getOwnPropertySymbols,g7=Object.prototype.hasOwnProperty,b7=Object.prototype.propertyIsEnumerable,yx=(c,e,i)=>e in c?f7(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class k7 extends oe(){constructor(e){var i;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(i=((a,u)=>{for(var f in u||(u={}))g7.call(u,f)&&yx(a,f,u[f]);if(wx)for(var f of wx(u))b7.call(u,f)&&yx(a,f,u[f]);return a})({},e),p7(i,m7({consumable:null,writer:null,store:null,convertItem:(a,u)=>this._convertItem(a,u),convertChildren:(a,u)=>this._convertChildren(a,u),safeInsert:(a,u)=>this._safeInsert(a,u),updateConversionResult:(a,u)=>this._updateConversionResult(a,u),splitToAllowedParent:(a,u)=>this._splitToAllowedParent(a,u),getSplitParts:a=>this._getSplitParts(a),keepEmptyElement:a=>this._keepEmptyElement(a)})))}convert(e,i,a=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(m,w){let _;for(const E of new sh(m)){const T={};for(const V of E.getAttributeKeys())T[V]=E.getAttribute(V);const O=w.createElement(E.name,T);_&&w.insert(O,_),_=At._createAt(O,0)}return _}(a,i),this.conversionApi.writer=i,this.conversionApi.consumable=Im.createFrom(e),this.conversionApi.store={};const{modelRange:u}=this._convertItem(e,this._modelCursor),f=i.createDocumentFragment();if(u){this._removeEmptyElements();for(const m of Array.from(this._modelCursor.parent.getChildren()))i.append(m,f);f.markers=function(m,w){const _=new Set,E=new Map,T=ot._createIn(m).getItems();for(const O of T)O.is("element","$marker")&&_.add(O);for(const O of _){const V=O.getAttribute("data-name"),K=w.createPositionBefore(O);E.has(V)?E.get(V).end=K.clone():E.set(V,new ot(K.clone())),w.remove(O)}return E}(f,i)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,f}_convertItem(e,i){const a={viewItem:e,modelCursor:i,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,a,this.conversionApi):e.is("$text")?this.fire("text",a,this.conversionApi):this.fire("documentFragment",a,this.conversionApi),a.modelRange&&!(a.modelRange instanceof ot))throw new N("view-conversion-dispatcher-incorrect-result",this);return{modelRange:a.modelRange,modelCursor:a.modelCursor}}_convertChildren(e,i){let a=i.is("position")?i:At._createAt(i,0);const u=new ot(a);for(const f of Array.from(e.getChildren())){const m=this._convertItem(f,a);m.modelRange instanceof ot&&(u.end=m.modelRange.end,a=m.modelCursor)}return{modelRange:u,modelCursor:a}}_safeInsert(e,i){const a=this._splitToAllowedParent(e,i);return!!a&&(this.conversionApi.writer.insert(e,a.position),!0)}_updateConversionResult(e,i){const a=this._getSplitParts(e),u=this.conversionApi.writer;i.modelRange||(i.modelRange=u.createRange(u.createPositionBefore(e),u.createPositionAfter(a[a.length-1])));const f=this._cursorParents.get(e);i.modelCursor=f?u.createPositionAt(f,0):i.modelRange.end}_splitToAllowedParent(e,i){const{schema:a,writer:u}=this.conversionApi;let f=a.findAllowedParent(i,e);if(f){if(f===i.parent)return{position:i};this._modelCursor.parent.getAncestors().includes(f)&&(f=null)}if(!f)return ax(i,e,a)?{position:lx(i,u)}:null;const m=this.conversionApi.writer.split(i,f),w=[];for(const E of m.range.getWalker())if(E.type=="elementEnd")w.push(E.item);else{const T=w.pop(),O=E.item;this._registerSplitPair(T,O)}const _=m.range.end.parent;return this._cursorParents.set(e,_),{position:m.position,cursorParent:_}}_registerSplitPair(e,i){this._splitParts.has(e)||this._splitParts.set(e,[e]);const a=this._splitParts.get(e);this._splitParts.set(i,a),a.push(i)}_getSplitParts(e){let i;return i=this._splitParts.has(e)?this._splitParts.get(e):[e],i}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const i of this._splitParts.keys())i.isEmpty&&!this._emptyElementsToKeep.has(i)&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),e=!0);e&&this._removeEmptyElements()}}class w7{getHtml(e){const i=h.document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(e),i.innerHTML}}class y7{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Qb(e,{renderingMode:"data"}),this.htmlWriter=new w7}toData(e){const i=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(i)}toView(e){const i=this._toDom(e);return this.domConverter.domToView(i,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const i=this.domParser.parseFromString(e,"text/html"),a=i.createDocumentFragment(),u=i.body.childNodes;for(;u.length>0;)a.appendChild(u[0]);return a}}class v7 extends oe(){constructor(e,i){super(),this.model=e,this.mapper=new V2,this.downcastDispatcher=new G2({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(a,u,f)=>{if(!f.consumable.consume(u.item,a.name))return;const m=f.writer,w=f.mapper.toViewPosition(u.range.start),_=m.createText(u.item.data);m.insert(w,_)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(a,u,f)=>{f.convertAttributes(u.item),u.reconversion||!u.item.is("element")||u.item.isEmpty||f.convertChildren(u.item)},{priority:"lowest"}),this.upcastDispatcher=new k7({schema:e.schema}),this.viewDocument=new Gb(i),this.stylesProcessor=i,this.htmlProcessor=new y7(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new p2(this.viewDocument),this.upcastDispatcher.on("text",(a,u,{schema:f,consumable:m,writer:w})=>{let _=u.modelCursor;if(!m.test(u.viewItem))return;if(!f.checkChild(_,"$text")){if(!ax(_,"$text",f)||u.viewItem.data.trim().length==0)return;const T=_.nodeBefore;_=lx(_,w),T&&T.is("element","$marker")&&(w.move(w.createRangeOn(T),_),_=w.createPositionAfter(T))}m.consume(u.viewItem);const E=w.createText(u.viewItem.data);w.insert(E,_),u.modelRange=w.createRange(_,_.getShiftedBy(E.offsetSize)),u.modelCursor=u.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(a,u,f)=>{if(!u.modelRange&&f.consumable.consume(u.viewItem,{name:!0})){const{modelRange:m,modelCursor:w}=f.convertChildren(u.viewItem,u.modelCursor);u.modelRange=m,u.modelCursor=w}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(a,u,f)=>{if(!u.modelRange&&f.consumable.consume(u.viewItem,{name:!0})){const{modelRange:m,modelCursor:w}=f.convertChildren(u.viewItem,u.modelCursor);u.modelRange=m,u.modelCursor=w}},{priority:"lowest"}),Ue().prototype.decorate.call(this,"init"),Ue().prototype.decorate.call(this,"set"),Ue().prototype.decorate.call(this,"get"),Ue().prototype.decorate.call(this,"toView"),Ue().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},sx)},{priority:"lowest"})}get(e={}){const{rootName:i="main",trim:a="empty"}=e;if(!this._checkIfRootsExists([i]))throw new N("datacontroller-get-non-existent-root",this);const u=this.model.document.getRoot(i);return u.isAttached()||L("datacontroller-get-detached-root",this),a!=="empty"||this.model.hasContent(u,{ignoreWhitespaces:!0})?this.stringify(u,e):""}stringify(e,i={}){const a=this.toView(e,i);return this.processor.toData(a)}toView(e,i={}){const a=this.viewDocument,u=this._viewWriter;this.mapper.clearBindings();const f=ot._createIn(e),m=new rh(a);this.mapper.bindElements(e,m);const w=e.is("documentFragment")?e.markers:function(_){const E=[],T=_.root.document;if(!T)return new Map;const O=ot._createIn(_);for(const V of T.model.markers){const K=V.getRange(),ee=K.isCollapsed,se=K.start.isEqual(O.start)||K.end.isEqual(O.end);if(ee&&se)E.push([V.name,K]);else{const ke=O.getIntersection(K);ke&&E.push([V.name,ke])}}return E.sort(([V,K],[ee,se])=>{if(K.end.compareWith(se.start)!=="after")return 1;if(K.start.compareWith(se.end)!=="before")return-1;switch(K.start.compareWith(se.start)){case"before":return 1;case"after":return-1;default:switch(K.end.compareWith(se.end)){case"before":return 1;case"after":return-1;default:return ee.localeCompare(V)}}}),new Map(E)}(e);return this.downcastDispatcher.convert(f,w,u,i),m}init(e){if(this.model.document.version)throw new N("datacontroller-init-document-not-empty",this);let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new N("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},a=>{for(const u of Object.keys(i)){const f=this.model.document.getRoot(u);a.insert(this.parse(i[u],f),f,0)}}),Promise.resolve()}set(e,i={}){let a={};if(typeof e=="string"?a.main=e:a=e,!this._checkIfRootsExists(Object.keys(a)))throw new N("datacontroller-set-non-existent-root",this);this.model.enqueueChange(i.batchType||{},u=>{u.setSelection(null),u.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const f of Object.keys(a)){const m=this.model.document.getRoot(f);u.remove(u.createRangeIn(m)),u.insert(this.parse(a[f],m),m,0)}})}parse(e,i="$root"){const a=this.processor.toView(e);return this.toModel(a,i)}toModel(e,i="$root"){return this.model.change(a=>this.upcastDispatcher.convert(e,a,i))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const i of e)if(!this.model.document.getRoot(i))return!1;return!0}}class A7{constructor(e,i){this._helpers=new Map,this._downcast=sr(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=sr(i),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,i){const a=this._downcast.includes(i);if(!this._upcast.includes(i)&&!a)throw new N("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[i],isDowncast:a})}for(e){if(!this._helpers.has(e))throw new N("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:i,view:a}of uy(e))this.for("upcast").elementToElement({model:i,view:a,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:i,view:a}of uy(e))this.for("upcast").elementToAttribute({view:a,model:i,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:i,view:a}of uy(e))this.for("upcast").attributeToAttribute({view:a,model:i})}_createConversionHelpers({name:e,dispatchers:i,isDowncast:a}){if(this._helpers.has(e))throw new N("conversion-group-exists",this);const u=a?new zR(i):new JR(i);this._helpers.set(e,u)}}function*uy(c){if(c.model.values)for(const e of c.model.values){const i={key:c.model.key,value:e},a=c.view[e],u=c.upcastAlso?c.upcastAlso[e]:void 0;yield*vx(i,a,u)}else yield*vx(c.model,c.view,c.upcastAlso)}function*vx(c,e,i){if(yield{model:c,view:e},i)for(const a of sr(i))yield{model:c,view:a}}class $s{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,i){return new this(e.baseVersion)}}function dy(c,e){const i=_x(e),a=i.reduce((m,w)=>m+w.offsetSize,0),u=c.parent;Mm(c);const f=c.index;return u._insertChild(f,i),Nm(u,f+i.length),Nm(u,f),new ot(c,c.getShiftedBy(a))}function Ax(c){if(!c.isFlat)throw new N("operation-utils-remove-range-not-flat",this);const e=c.start.parent;Mm(c.start),Mm(c.end);const i=e._removeChildren(c.start.index,c.end.index-c.start.index);return Nm(e,c.start.index),i}function Tm(c,e){if(!c.isFlat)throw new N("operation-utils-move-range-not-flat",this);const i=Ax(c);return dy(e=e._getTransformedByDeletion(c.start,c.end.offset-c.start.offset),i)}function _x(c){const e=[];(function i(a){if(typeof a=="string")e.push(new wr(a));else if(a instanceof al)e.push(new wr(a.data,a.getAttributes()));else if(a instanceof ih)e.push(a);else if(Ie(a))for(const u of a)i(u)})(c);for(let i=1;i<e.length;i++){const a=e[i],u=e[i-1];a instanceof wr&&u instanceof wr&&Cx(a,u)&&(e.splice(i-1,2,new wr(u.data+a.data,u.getAttributes())),i--)}return e}function Nm(c,e){const i=c.getChild(e-1),a=c.getChild(e);if(i&&a&&i.is("$text")&&a.is("$text")&&Cx(i,a)){const u=new wr(i.data+a.data,i.getAttributes());c._removeChildren(e-1,2),c._insertChild(e-1,u)}}function Mm(c){const e=c.textNode,i=c.parent;if(e){const a=c.offset-e.startOffset,u=e.index;i._removeChildren(u,1);const f=new wr(e.data.substr(0,a),e.getAttributes()),m=new wr(e.data.substr(a),e.getAttributes());i._insertChild(u,[f,m])}}function Cx(c,e){const i=c.getAttributes(),a=e.getAttributes();for(const u of i){if(u[1]!==e.getAttribute(u[0]))return!1;a.next()}return a.next().done}class Hn extends $s{constructor(e,i,a,u){super(u),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=i,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[ot._createFromPositionAndShift(this.sourcePosition,this.howMany),ot._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Hn(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Hn(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent,a=this.sourcePosition.offset,u=this.targetPosition.offset;if(a+this.howMany>e.maxOffset)throw new N("move-operation-nodes-do-not-exist",this);if(e===i&&a<u&&u<a+this.howMany)throw new N("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&Me(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const f=this.sourcePosition.path.length-1;if(this.targetPosition.path[f]>=a&&this.targetPosition.path[f]<a+this.howMany)throw new N("move-operation-node-into-itself",this)}}_execute(){Tm(ot._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,i){const a=At.fromJSON(e.sourcePosition,i),u=At.fromJSON(e.targetPosition,i);return new this(a,e.howMany,u,e.baseVersion)}}class oo extends $s{constructor(e,i,a){super(a),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new xm(_x(i)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new xm([...this.nodes].map(a=>a._clone(!0))),i=new oo(this.position,e,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}getReversed(){const e=this.position.root.document.graveyard,i=new At(e,[0]);return new Hn(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new N("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new xm([...e].map(i=>i._clone(!0))),dy(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,i){const a=[];for(const f of e.nodes)f.name?a.push(dr.fromJSON(f)):a.push(wr.fromJSON(f));const u=new oo(At.fromJSON(e.position,i),a,e.baseVersion);return u.shouldReceiveAttributes=e.shouldReceiveAttributes,u}}class yr extends $s{constructor(e,i,a,u,f){super(f),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=i,this.insertionPosition=a,this.graveyardPosition=u?u.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new At(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ot(this.splitPosition,e)}get affectedSelectable(){const e=[ot._createFromPositionAndShift(this.splitPosition,0),ot._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(ot._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new yr(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,i=new At(e,[0]);return new ci(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,i=this.splitPosition.offset;if(!e||e.maxOffset<i)throw new N("split-operation-position-invalid",this);if(!e.parent)throw new N("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new N("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new N("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Tm(ot._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const i=e._clone();dy(this.insertionPosition,i)}Tm(new ot(At._createAt(e,this.splitPosition.offset),At._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const i=e.path.slice(0,-1);return i[i.length-1]++,new At(e.root,i,"toPrevious")}static fromJSON(e,i){const a=At.fromJSON(e.splitPosition,i),u=At.fromJSON(e.insertionPosition,i),f=e.graveyardPosition?At.fromJSON(e.graveyardPosition,i):null;return new this(a,e.howMany,u,f,e.baseVersion)}}class ci extends $s{constructor(e,i,a,u,f){super(f),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=i,this.targetPosition=a.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=u.clone()}get type(){return"merge"}get deletionPosition(){return new At(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ot(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[ot._createOn(e),ot._createFromPositionAndShift(this.targetPosition,0),ot._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new ci(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),a=new At(this.sourcePosition.root,i)._getTransformedByMergeOperation(this);return new yr(e,this.howMany,a,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent;if(!e.parent)throw new N("merge-operation-source-position-invalid",this);if(!i.parent)throw new N("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new N("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;Tm(ot._createIn(e),this.targetPosition),Tm(ot._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,i){const a=At.fromJSON(e.sourcePosition,i),u=At.fromJSON(e.targetPosition,i),f=At.fromJSON(e.graveyardPosition,i);return new this(a,e.howMany,u,f,e.baseVersion)}}class gs extends $s{constructor(e,i,a,u,f,m){super(m),this.name=e,this.oldRange=i?i.clone():null,this.newRange=a?a.clone():null,this.affectsData=f,this._markers=u}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new gs(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new gs(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,i){return new gs(e.name,e.oldRange?ot.fromJSON(e.oldRange,i):null,e.newRange?ot.fromJSON(e.newRange,i):null,i.model.markers,e.affectsData,e.baseVersion)}}const xx=function(c,e){return Xb(c,e)};class xi extends $s{constructor(e,i,a,u,f){super(f),this.range=e.clone(),this.key=i,this.oldValue=a===void 0?null:a,this.newValue=u===void 0?null:u}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new xi(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new xi(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new N("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!xx(e.getAttribute(this.key),this.oldValue))throw new N("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new N("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){xx(this.oldValue,this.newValue)||function(e,i,a){Mm(e.start),Mm(e.end);for(const u of e.getItems({shallow:!0})){const f=u.is("$textProxy")?u.textNode:u;a!==null?f._setAttribute(i,a):f._removeAttribute(i),Nm(f.parent,f.index)}Nm(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,i){return new xi(ot.fromJSON(e.range,i),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Wi extends $s{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Wi(this.baseVersion)}getReversed(){return new Wi(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class bs extends $s{constructor(e,i,a,u){super(u),this.position=e,this.position.stickiness="toNext",this.oldName=i,this.newName=a}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new bs(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new bs(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof dr))throw new N("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new N("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,i){return new bs(At.fromJSON(e.position,i),e.oldName,e.newName,e.baseVersion)}}class Gc extends $s{constructor(e,i,a,u,f){super(f),this.root=e,this.key=i,this.oldValue=a===void 0?null:a,this.newValue=u===void 0?null:u}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Gc(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Gc(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new N("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new N("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new N("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,i){if(!i.getRoot(e.root))throw new N("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Gc(i.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Yl extends $s{constructor(e,i,a,u,f){super(f),this.rootName=e,this.elementName=i,this.isAdd=a,this._document=u,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Yl(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Yl(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,i){return new Yl(e.rootName,e.elementName,e.isAdd,i,e.baseVersion)}}const Ia={};Ia[xi.className]=xi,Ia[oo.className]=oo,Ia[gs.className]=gs,Ia[Hn.className]=Hn,Ia[Wi.className]=Wi,Ia[$s.className]=$s,Ia[bs.className]=bs,Ia[Gc.className]=Gc,Ia[Yl.className]=Yl,Ia[yr.className]=yr,Ia[ci.className]=ci;class _7{static fromJSON(e,i){return Ia[e.__className].fromJSON(e,i)}}const hy=new Map;function Un(c,e,i){let a=hy.get(c);a||(a=new Map,hy.set(c,a)),a.set(e,i)}function C7(c){return[c]}function Sx(c,e,i={}){const a=function(u,f){const m=hy.get(u);return m&&m.has(f)?m.get(f):C7}(c.constructor,e.constructor);try{return a(c=c.clone(),e,i)}catch(u){throw u}}function x7(c,e,i){c=c.slice(),e=e.slice();const a=new S7(i.document,i.useRelations,i.forceWeakRemove);a.setOriginalOperations(c),a.setOriginalOperations(e);const u=a.originalOperations;if(c.length==0||e.length==0)return{operationsA:c,operationsB:e,originalOperations:u};const f=new WeakMap;for(const _ of c)f.set(_,0);const m={nextBaseVersionA:c[c.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:c.length,originalOperationsBCount:e.length};let w=0;for(;w<c.length;){const _=c[w],E=f.get(_);if(E==e.length){w++;continue}const T=e[E],O=Sx(_,T,a.getContext(_,T,!0)),V=Sx(T,_,a.getContext(T,_,!1));a.updateRelation(_,T),a.setOriginalOperations(O,_),a.setOriginalOperations(V,T);for(const K of O)f.set(K,E+V.length);c.splice(w,1,...O),e.splice(E,1,...V)}return Ex(c,m.nextBaseVersionB),Ex(e,m.nextBaseVersionA),{operationsA:c,operationsB:e,originalOperations:u}}class S7{constructor(e,i,a=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=i,this._forceWeakRemove=!!a,this._relations=new Map}setOriginalOperations(e,i=null){const a=i?this.originalOperations.get(i):null;for(const u of e)this.originalOperations.set(u,a||u)}updateRelation(e,i){if(e instanceof Hn)i instanceof ci?e.targetPosition.isEqual(i.sourcePosition)||i.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,i,"insertAtSource"):e.targetPosition.isEqual(i.deletionPosition)?this._setRelation(e,i,"insertBetween"):e.targetPosition.isAfter(i.sourcePosition)&&this._setRelation(e,i,"moveTargetAfter"):i instanceof Hn&&(e.targetPosition.isEqual(i.sourcePosition)||e.targetPosition.isBefore(i.sourcePosition)?this._setRelation(e,i,"insertBefore"):this._setRelation(e,i,"insertAfter"));else if(e instanceof yr){if(i instanceof ci)e.splitPosition.isBefore(i.sourcePosition)&&this._setRelation(e,i,"splitBefore");else if(i instanceof Hn)if(e.splitPosition.isEqual(i.sourcePosition)||e.splitPosition.isBefore(i.sourcePosition))this._setRelation(e,i,"splitBefore");else{const a=ot._createFromPositionAndShift(i.sourcePosition,i.howMany);if(e.splitPosition.hasSameParentAs(i.sourcePosition)&&a.containsPosition(e.splitPosition)){const u=a.end.offset-e.splitPosition.offset,f=e.splitPosition.offset-a.start.offset;this._setRelation(e,i,{howMany:u,offset:f})}}}else if(e instanceof ci)i instanceof ci?(e.targetPosition.isEqual(i.sourcePosition)||this._setRelation(e,i,"mergeTargetNotMoved"),e.sourcePosition.isEqual(i.targetPosition)&&this._setRelation(e,i,"mergeSourceNotMoved"),e.sourcePosition.isEqual(i.sourcePosition)&&this._setRelation(e,i,"mergeSameElement")):i instanceof yr?e.sourcePosition.isEqual(i.splitPosition)&&this._setRelation(e,i,"splitAtSource"):i instanceof Hn&&i.howMany>0&&(e.sourcePosition.isEqual(i.sourcePosition.getShiftedBy(i.howMany))&&this._setRelation(e,i,"mergeSourceAffected"),e.targetPosition.isEqual(i.sourcePosition)&&this._setRelation(e,i,"mergeTargetWasBefore"));else if(e instanceof gs){const a=e.newRange;if(!a)return;if(i instanceof Hn){const u=ot._createFromPositionAndShift(i.sourcePosition,i.howMany),f=u.containsPosition(a.start)||u.start.isEqual(a.start),m=u.containsPosition(a.end)||u.end.isEqual(a.end);!f&&!m||u.containsRange(a)||this._setRelation(e,i,{side:f?"left":"right",path:f?a.start.path.slice():a.end.path.slice()})}else if(i instanceof ci){const u=a.start.isEqual(i.targetPosition),f=a.start.isEqual(i.deletionPosition),m=a.end.isEqual(i.deletionPosition),w=a.end.isEqual(i.sourcePosition);(u||f||m||w)&&this._setRelation(e,i,{wasInLeftElement:u,wasStartBeforeMergedElement:f,wasEndBeforeMergedElement:m,wasInRightElement:w})}}}getContext(e,i,a){return{aIsStrong:a,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(i),abRelation:this._useRelations?this._getRelation(e,i):null,baRelation:this._useRelations?this._getRelation(i,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const i=this.originalOperations.get(e);return i.wasUndone||this._history.isUndoneOperation(i)}_getRelation(e,i){const a=this.originalOperations.get(i),u=this._history.getUndoneOperation(a);if(!u)return null;const f=this.originalOperations.get(e),m=this._relations.get(f);return m&&m.get(u)||null}_setRelation(e,i,a){const u=this.originalOperations.get(e),f=this.originalOperations.get(i);let m=this._relations.get(u);m||(m=new Map,this._relations.set(u,m)),m.set(f,a)}}function Ex(c,e){for(const i of c)i.baseVersion=e++}function Dx(c,e,i){const a=c.nodes.getNode(0).getAttribute(e);if(a==i)return null;const u=new ot(c.position,c.position.getShiftedBy(c.howMany));return new xi(u,e,a,i,0)}function Ix(c,e){return c.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function Tf(c,e){const i=[];for(let a=0;a<c.length;a++){const u=c[a],f=new Hn(u.start,u.end.offset-u.start.offset,e,0);i.push(f);for(let m=a+1;m<c.length;m++)c[m]=c[m]._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany)[0];e=e._getTransformedByMove(f.sourcePosition,f.targetPosition,f.howMany)}return i}Un(xi,xi,(c,e,i)=>{if(c.key===e.key&&c.range.start.hasSameParentAs(e.range.start)){const a=c.range.getDifference(e.range).map(f=>new xi(f,c.key,c.oldValue,c.newValue,0)),u=c.range.getIntersection(e.range);return u&&i.aIsStrong&&a.push(new xi(u,e.key,e.newValue,c.newValue,0)),a.length==0?[new Wi(0)]:a}return[c]}),Un(xi,oo,(c,e)=>{if(c.range.start.hasSameParentAs(e.position)&&c.range.containsPosition(e.position)){const i=c.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(a=>new xi(a,c.key,c.oldValue,c.newValue,c.baseVersion));if(e.shouldReceiveAttributes){const a=Dx(e,c.key,c.oldValue);a&&i.unshift(a)}return i}return c.range=c.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[c]}),Un(xi,ci,(c,e)=>{const i=[];c.range.start.hasSameParentAs(e.deletionPosition)&&(c.range.containsPosition(e.deletionPosition)||c.range.start.isEqual(e.deletionPosition))&&i.push(ot._createFromPositionAndShift(e.graveyardPosition,1));const a=c.range._getTransformedByMergeOperation(e);return a.isCollapsed||i.push(a),i.map(u=>new xi(u,c.key,c.oldValue,c.newValue,c.baseVersion))}),Un(xi,Hn,(c,e)=>function(a,u){const f=ot._createFromPositionAndShift(u.sourcePosition,u.howMany);let m=null,w=[];f.containsRange(a,!0)?m=a:a.start.hasSameParentAs(f.start)?(w=a.getDifference(f),m=a.getIntersection(f)):w=[a];const _=[];for(let E of w){E=E._getTransformedByDeletion(u.sourcePosition,u.howMany);const T=u.getMovedRangeStart(),O=E.start.hasSameParentAs(T),V=E._getTransformedByInsertion(T,u.howMany,O);_.push(...V)}return m&&_.push(m._getTransformedByMove(u.sourcePosition,u.targetPosition,u.howMany,!1)[0]),_}(c.range,e).map(a=>new xi(a,c.key,c.oldValue,c.newValue,c.baseVersion))),Un(xi,yr,(c,e)=>{if(c.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||c.range.end.offset++,[c];if(c.range.start.hasSameParentAs(e.splitPosition)&&c.range.containsPosition(e.splitPosition)){const i=c.clone();return i.range=new ot(e.moveTargetPosition.clone(),c.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),c.range.end=e.splitPosition.clone(),c.range.end.stickiness="toPrevious",[c,i]}return c.range=c.range._getTransformedBySplitOperation(e),[c]}),Un(oo,xi,(c,e)=>{const i=[c];if(c.shouldReceiveAttributes&&c.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(c.position)){const a=Dx(c,e.key,e.newValue);a&&i.push(a)}return i}),Un(oo,oo,(c,e,i)=>(c.position.isEqual(e.position)&&i.aIsStrong||(c.position=c.position._getTransformedByInsertOperation(e)),[c])),Un(oo,Hn,(c,e)=>(c.position=c.position._getTransformedByMoveOperation(e),[c])),Un(oo,yr,(c,e)=>(c.position=c.position._getTransformedBySplitOperation(e),[c])),Un(oo,ci,(c,e)=>(c.position=c.position._getTransformedByMergeOperation(e),[c])),Un(gs,oo,(c,e)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByInsertOperation(e)[0]),c.newRange&&(c.newRange=c.newRange._getTransformedByInsertOperation(e)[0]),[c])),Un(gs,gs,(c,e,i)=>{if(c.name==e.name){if(!i.aIsStrong)return[new Wi(0)];c.oldRange=e.newRange?e.newRange.clone():null}return[c]}),Un(gs,ci,(c,e)=>(c.oldRange&&(c.oldRange=c.oldRange._getTransformedByMergeOperation(e)),c.newRange&&(c.newRange=c.newRange._getTransformedByMergeOperation(e)),[c])),Un(gs,Hn,(c,e,i)=>{if(c.oldRange&&(c.oldRange=ot._createFromRanges(c.oldRange._getTransformedByMoveOperation(e))),c.newRange){if(i.abRelation){const a=ot._createFromRanges(c.newRange._getTransformedByMoveOperation(e));if(i.abRelation.side=="left"&&e.targetPosition.isEqual(c.newRange.start))return c.newRange.end=a.end,c.newRange.start.path=i.abRelation.path,[c];if(i.abRelation.side=="right"&&e.targetPosition.isEqual(c.newRange.end))return c.newRange.start=a.start,c.newRange.end.path=i.abRelation.path,[c]}c.newRange=ot._createFromRanges(c.newRange._getTransformedByMoveOperation(e))}return[c]}),Un(gs,yr,(c,e,i)=>{if(c.oldRange&&(c.oldRange=c.oldRange._getTransformedBySplitOperation(e)),c.newRange){if(i.abRelation){const a=c.newRange._getTransformedBySplitOperation(e);return c.newRange.start.isEqual(e.splitPosition)&&i.abRelation.wasStartBeforeMergedElement?c.newRange.start=At._createAt(e.insertionPosition):c.newRange.start.isEqual(e.splitPosition)&&!i.abRelation.wasInLeftElement&&(c.newRange.start=At._createAt(e.moveTargetPosition)),c.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasInRightElement?c.newRange.end=At._createAt(e.moveTargetPosition):c.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasEndBeforeMergedElement?c.newRange.end=At._createAt(e.insertionPosition):c.newRange.end=a.end,[c]}c.newRange=c.newRange._getTransformedBySplitOperation(e)}return[c]}),Un(ci,oo,(c,e)=>(c.sourcePosition.hasSameParentAs(e.position)&&(c.howMany+=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByInsertOperation(e),c.targetPosition=c.targetPosition._getTransformedByInsertOperation(e),[c])),Un(ci,ci,(c,e,i)=>{if(c.sourcePosition.isEqual(e.sourcePosition)&&c.targetPosition.isEqual(e.targetPosition)){if(i.bWasUndone){const a=e.graveyardPosition.path.slice();return a.push(0),c.sourcePosition=new At(e.graveyardPosition.root,a),c.howMany=0,[c]}return[new Wi(0)]}if(c.sourcePosition.isEqual(e.sourcePosition)&&!c.targetPosition.isEqual(e.targetPosition)&&!i.bWasUndone&&i.abRelation!="splitAtSource"){const a=c.targetPosition.root.rootName=="$graveyard",u=e.targetPosition.root.rootName=="$graveyard";if(u&&!a||!(a&&!u)&&i.aIsStrong){const f=e.targetPosition._getTransformedByMergeOperation(e),m=c.targetPosition._getTransformedByMergeOperation(e);return[new Hn(f,c.howMany,m,0)]}return[new Wi(0)]}return c.sourcePosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.sourcePosition=c.sourcePosition._getTransformedByMergeOperation(e),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),c.graveyardPosition.isEqual(e.graveyardPosition)&&i.aIsStrong||(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(e)),[c]}),Un(ci,Hn,(c,e,i)=>{const a=ot._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!i.bWasUndone&&!i.forceWeakRemove&&c.deletionPosition.hasSameParentAs(e.sourcePosition)&&a.containsPosition(c.sourcePosition)?[new Wi(0)]:(e.sourcePosition.getShiftedBy(e.howMany).isEqual(c.sourcePosition)?c.sourcePosition.stickiness="toNone":e.targetPosition.isEqual(c.sourcePosition)&&i.abRelation=="mergeSourceAffected"?c.sourcePosition.stickiness="toNext":e.sourcePosition.isEqual(c.targetPosition)?(c.targetPosition.stickiness="toNone",c.howMany-=e.howMany):e.targetPosition.isEqual(c.targetPosition)&&i.abRelation=="mergeTargetWasBefore"?(c.targetPosition.stickiness="toPrevious",c.howMany+=e.howMany):(c.sourcePosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.sourcePosition.hasSameParentAs(e.sourcePosition)&&(c.howMany-=e.howMany)),c.sourcePosition=c.sourcePosition._getTransformedByMoveOperation(e),c.targetPosition=c.targetPosition._getTransformedByMoveOperation(e),c.sourcePosition.stickiness="toPrevious",c.targetPosition.stickiness="toNext",c.graveyardPosition.isEqual(e.targetPosition)||(c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(e)),[c])}),Un(ci,yr,(c,e,i)=>{if(e.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),c.deletionPosition.isEqual(e.graveyardPosition)&&(c.howMany=e.howMany)),c.targetPosition.isEqual(e.splitPosition)){const a=e.howMany!=0,u=e.graveyardPosition&&c.deletionPosition.isEqual(e.graveyardPosition);if(a||u||i.abRelation=="mergeTargetNotMoved")return c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(e),[c]}if(c.sourcePosition.isEqual(e.splitPosition)){if(i.abRelation=="mergeSourceNotMoved")return c.howMany=0,c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c];if(i.abRelation=="mergeSameElement"||c.sourcePosition.offset>0)return c.sourcePosition=e.moveTargetPosition.clone(),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c]}return c.sourcePosition.hasSameParentAs(e.splitPosition)&&(c.howMany=e.splitPosition.offset),c.sourcePosition=c.sourcePosition._getTransformedBySplitOperation(e),c.targetPosition=c.targetPosition._getTransformedBySplitOperation(e),[c]}),Un(Hn,oo,(c,e)=>{const i=ot._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByInsertOperation(e,!1)[0];return c.sourcePosition=i.start,c.howMany=i.end.offset-i.start.offset,c.targetPosition.isEqual(e.position)||(c.targetPosition=c.targetPosition._getTransformedByInsertOperation(e)),[c]}),Un(Hn,Hn,(c,e,i)=>{const a=ot._createFromPositionAndShift(c.sourcePosition,c.howMany),u=ot._createFromPositionAndShift(e.sourcePosition,e.howMany);let f,m=i.aIsStrong,w=!i.aIsStrong;if(i.abRelation=="insertBefore"||i.baRelation=="insertAfter"?w=!0:i.abRelation!="insertAfter"&&i.baRelation!="insertBefore"||(w=!1),f=c.targetPosition.isEqual(e.targetPosition)&&w?c.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):c.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Ix(c,e)&&Ix(e,c))return[e.getReversed()];if(a.containsPosition(e.targetPosition)&&a.containsRange(u,!0))return a.start=a.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),a.end=a.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Tf([a],f);if(u.containsPosition(c.targetPosition)&&u.containsRange(a,!0))return a.start=a.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),a.end=a.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Tf([a],f);const _=Me(c.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(_=="prefix"||_=="extension")return a.start=a.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),a.end=a.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Tf([a],f);c.type!="remove"||e.type=="remove"||i.aWasUndone||i.forceWeakRemove?c.type=="remove"||e.type!="remove"||i.bWasUndone||i.forceWeakRemove||(m=!1):m=!0;const E=[],T=a.getDifference(u);for(const V of T){V.start=V.start._getTransformedByDeletion(e.sourcePosition,e.howMany),V.end=V.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const K=Me(V.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",ee=V._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,K);E.push(...ee)}const O=a.getIntersection(u);return O!==null&&m&&(O.start=O.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),O.end=O.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),E.length===0?E.push(O):E.length==1?u.start.isBefore(a.start)||u.start.isEqual(a.start)?E.unshift(O):E.push(O):E.splice(1,0,O)),E.length===0?[new Wi(c.baseVersion)]:Tf(E,f)}),Un(Hn,yr,(c,e,i)=>{let a=c.targetPosition.clone();c.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&i.abRelation!="moveTargetAfter"||(a=c.targetPosition._getTransformedBySplitOperation(e));const u=ot._createFromPositionAndShift(c.sourcePosition,c.howMany);if(u.end.isEqual(e.insertionPosition))return e.graveyardPosition||c.howMany++,c.targetPosition=a,[c];if(u.start.hasSameParentAs(e.splitPosition)&&u.containsPosition(e.splitPosition)){let m=new ot(e.splitPosition,u.end);return m=m._getTransformedBySplitOperation(e),Tf([new ot(u.start,e.splitPosition),m],a)}c.targetPosition.isEqual(e.splitPosition)&&i.abRelation=="insertAtSource"&&(a=e.moveTargetPosition),c.targetPosition.isEqual(e.insertionPosition)&&i.abRelation=="insertBetween"&&(a=c.targetPosition);const f=[u._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const m=u.start.isEqual(e.graveyardPosition)||u.containsPosition(e.graveyardPosition);c.howMany>1&&m&&!i.aWasUndone&&f.push(ot._createFromPositionAndShift(e.insertionPosition,1))}return Tf(f,a)}),Un(Hn,ci,(c,e,i)=>{const a=ot._createFromPositionAndShift(c.sourcePosition,c.howMany);if(e.deletionPosition.hasSameParentAs(c.sourcePosition)&&a.containsPosition(e.sourcePosition)){if(c.type!="remove"||i.forceWeakRemove){if(c.howMany==1)return i.bWasUndone?(c.sourcePosition=e.graveyardPosition.clone(),c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),[c]):[new Wi(0)]}else if(!i.aWasUndone){const f=[];let m=e.graveyardPosition.clone(),w=e.targetPosition._getTransformedByMergeOperation(e);c.howMany>1&&(f.push(new Hn(c.sourcePosition,c.howMany-1,c.targetPosition,0)),m=m._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1),w=w._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany-1));const _=e.deletionPosition._getCombined(c.sourcePosition,c.targetPosition),E=new Hn(m,1,_,0),T=E.getMovedRangeStart().path.slice();T.push(0);const O=new At(E.targetPosition.root,T);w=w._getTransformedByMove(m,_,1);const V=new Hn(w,e.howMany,O,0);return f.push(E),f.push(V),f}}const u=ot._createFromPositionAndShift(c.sourcePosition,c.howMany)._getTransformedByMergeOperation(e);return c.sourcePosition=u.start,c.howMany=u.end.offset-u.start.offset,c.targetPosition=c.targetPosition._getTransformedByMergeOperation(e),[c]}),Un(bs,oo,(c,e)=>(c.position=c.position._getTransformedByInsertOperation(e),[c])),Un(bs,ci,(c,e)=>c.position.isEqual(e.deletionPosition)?(c.position=e.graveyardPosition.clone(),c.position.stickiness="toNext",[c]):(c.position=c.position._getTransformedByMergeOperation(e),[c])),Un(bs,Hn,(c,e)=>(c.position=c.position._getTransformedByMoveOperation(e),[c])),Un(bs,bs,(c,e,i)=>{if(c.position.isEqual(e.position)){if(!i.aIsStrong)return[new Wi(0)];c.oldName=e.newName}return[c]}),Un(bs,yr,(c,e)=>{if(Me(c.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const i=new bs(c.position.getShiftedBy(1),c.oldName,c.newName,0);return[c,i]}return c.position=c.position._getTransformedBySplitOperation(e),[c]}),Un(Gc,Gc,(c,e,i)=>{if(c.root===e.root&&c.key===e.key){if(!i.aIsStrong||c.newValue===e.newValue)return[new Wi(0)];c.oldValue=e.newValue}return[c]}),Un(Yl,Yl,(c,e)=>c.rootName===e.rootName&&c.isAdd===e.isAdd?[new Wi(0)]:[c]),Un(yr,oo,(c,e)=>(c.splitPosition.hasSameParentAs(e.position)&&c.splitPosition.offset<e.position.offset&&(c.howMany+=e.howMany),c.splitPosition=c.splitPosition._getTransformedByInsertOperation(e),c.insertionPosition=c.insertionPosition._getTransformedByInsertOperation(e),[c])),Un(yr,ci,(c,e,i)=>{if(!c.graveyardPosition&&!i.bWasUndone&&c.splitPosition.hasSameParentAs(e.sourcePosition)){const a=e.graveyardPosition.path.slice();a.push(0);const u=new At(e.graveyardPosition.root,a),f=yr.getInsertionPosition(new At(e.graveyardPosition.root,a)),m=new yr(u,0,f,null,0);return c.splitPosition=c.splitPosition._getTransformedByMergeOperation(e),c.insertionPosition=yr.getInsertionPosition(c.splitPosition),c.graveyardPosition=m.insertionPosition.clone(),c.graveyardPosition.stickiness="toNext",[m,c]}return c.splitPosition.hasSameParentAs(e.deletionPosition)&&!c.splitPosition.isAfter(e.deletionPosition)&&c.howMany--,c.splitPosition.hasSameParentAs(e.targetPosition)&&(c.howMany+=e.howMany),c.splitPosition=c.splitPosition._getTransformedByMergeOperation(e),c.insertionPosition=yr.getInsertionPosition(c.splitPosition),c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedByMergeOperation(e)),[c]}),Un(yr,Hn,(c,e,i)=>{const a=ot._createFromPositionAndShift(e.sourcePosition,e.howMany);if(c.graveyardPosition){const f=a.start.isEqual(c.graveyardPosition)||a.containsPosition(c.graveyardPosition);if(!i.bWasUndone&&f){const m=c.splitPosition._getTransformedByMoveOperation(e),w=c.graveyardPosition._getTransformedByMoveOperation(e),_=w.path.slice();_.push(0);const E=new At(w.root,_);return[new Hn(m,c.howMany,E,0)]}c.graveyardPosition=c.graveyardPosition._getTransformedByMoveOperation(e)}const u=c.splitPosition.isEqual(e.targetPosition);if(u&&(i.baRelation=="insertAtSource"||i.abRelation=="splitBefore"))return c.howMany+=e.howMany,c.splitPosition=c.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),c.insertionPosition=yr.getInsertionPosition(c.splitPosition),[c];if(u&&i.abRelation&&i.abRelation.howMany){const{howMany:f,offset:m}=i.abRelation;return c.howMany+=f,c.splitPosition=c.splitPosition.getShiftedBy(m),[c]}if(c.splitPosition.hasSameParentAs(e.sourcePosition)&&a.containsPosition(c.splitPosition)){const f=e.howMany-(c.splitPosition.offset-e.sourcePosition.offset);return c.howMany-=f,c.splitPosition.hasSameParentAs(e.targetPosition)&&c.splitPosition.offset<e.targetPosition.offset&&(c.howMany+=e.howMany),c.splitPosition=e.sourcePosition.clone(),c.insertionPosition=yr.getInsertionPosition(c.splitPosition),[c]}return e.sourcePosition.isEqual(e.targetPosition)||(c.splitPosition.hasSameParentAs(e.sourcePosition)&&c.splitPosition.offset<=e.sourcePosition.offset&&(c.howMany-=e.howMany),c.splitPosition.hasSameParentAs(e.targetPosition)&&c.splitPosition.offset<e.targetPosition.offset&&(c.howMany+=e.howMany)),c.splitPosition.stickiness="toNone",c.splitPosition=c.splitPosition._getTransformedByMoveOperation(e),c.splitPosition.stickiness="toNext",c.graveyardPosition?c.insertionPosition=c.insertionPosition._getTransformedByMoveOperation(e):c.insertionPosition=yr.getInsertionPosition(c.splitPosition),[c]}),Un(yr,yr,(c,e,i)=>{if(c.splitPosition.isEqual(e.splitPosition)){if(!c.graveyardPosition&&!e.graveyardPosition)return[new Wi(0)];if(c.graveyardPosition&&e.graveyardPosition&&c.graveyardPosition.isEqual(e.graveyardPosition))return[new Wi(0)];if(i.abRelation=="splitBefore")return c.howMany=0,c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(e),[c]}if(c.graveyardPosition&&e.graveyardPosition&&c.graveyardPosition.isEqual(e.graveyardPosition)){const a=c.splitPosition.root.rootName=="$graveyard",u=e.splitPosition.root.rootName=="$graveyard";if(u&&!a||!(a&&!u)&&i.aIsStrong){const f=[];return e.howMany&&f.push(new Hn(e.moveTargetPosition,e.howMany,e.splitPosition,0)),c.howMany&&f.push(new Hn(c.splitPosition,c.howMany,c.moveTargetPosition,0)),f}return[new Wi(0)]}if(c.graveyardPosition&&(c.graveyardPosition=c.graveyardPosition._getTransformedBySplitOperation(e)),c.splitPosition.isEqual(e.insertionPosition)&&i.abRelation=="splitBefore")return c.howMany++,[c];if(e.splitPosition.isEqual(c.insertionPosition)&&i.baRelation=="splitBefore"){const a=e.insertionPosition.path.slice();a.push(0);const u=new At(e.insertionPosition.root,a);return[c,new Hn(c.insertionPosition,1,u,0)]}return c.splitPosition.hasSameParentAs(e.splitPosition)&&c.splitPosition.offset<e.splitPosition.offset&&(c.howMany-=e.howMany),c.splitPosition=c.splitPosition._getTransformedBySplitOperation(e),c.insertionPosition=yr.getInsertionPosition(c.splitPosition),[c]});class vo extends oe(At){constructor(e,i,a="toNone"){if(super(e,i,a),!this.root.is("rootElement"))throw new N("model-liveposition-root-not-rootelement",e);E7.call(this)}detach(){this.stopListening()}toPosition(){return new At(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,i){return new this(e.root,e.path.slice(),i||e.stickiness)}}function E7(){this.listenTo(this.root.document.model,"applyOperation",(c,e)=>{const i=e[0];i.isDocumentOperation&&D7.call(this,i)},{priority:"low"})}function D7(c){const e=this.getTransformedByOperation(c);if(!this.isEqual(e)){const i=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",i)}}vo.prototype.is=function(c){return c==="livePosition"||c==="model:livePosition"||c=="position"||c==="model:position"};class Nf{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},L("batch-constructor-deprecated-string-type"));const{isUndoable:i=!0,isLocal:a=!0,isUndo:u=!1,isTyping:f=!1}=e;this.operations=[],this.isUndoable=i,this.isLocal=a,this.isUndo=u,this.isTyping=f}get type(){return L("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var I7=Object.defineProperty,T7=Object.defineProperties,N7=Object.getOwnPropertyDescriptors,Tx=Object.getOwnPropertySymbols,M7=Object.prototype.hasOwnProperty,P7=Object.prototype.propertyIsEnumerable,Nx=(c,e,i)=>e in c?I7(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,Mx=(c,e)=>{for(var i in e||(e={}))M7.call(e,i)&&Nx(c,i,e[i]);if(Tx)for(var i of Tx(e))P7.call(e,i)&&Nx(c,i,e[i]);return c};class O7{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const i=e;switch(i.type){case"insert":if(this._isInInsertedElement(i.position.parent))return;this._markInsert(i.position.parent,i.position.offset,i.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const a of i.range.getItems({shallow:!0}))this._isInInsertedElement(a.parent)||this._markAttribute(a);break;case"remove":case"move":case"reinsert":{if(i.sourcePosition.isEqual(i.targetPosition)||i.sourcePosition.getShiftedBy(i.howMany).isEqual(i.targetPosition))return;const a=this._isInInsertedElement(i.sourcePosition.parent),u=this._isInInsertedElement(i.targetPosition.parent);a||this._markRemove(i.sourcePosition.parent,i.sourcePosition.offset,i.howMany),u||this._markInsert(i.targetPosition.parent,i.getMovedRangeStart().offset,i.howMany);break}case"rename":{if(this._isInInsertedElement(i.position.parent))return;this._markRemove(i.position.parent,i.position.offset,1),this._markInsert(i.position.parent,i.position.offset,1);const a=ot._createFromPositionAndShift(i.position,1);for(const u of this._markerCollection.getMarkersIntersectingRange(a)){const f=u.getData();this.bufferMarkerChange(u.name,f,f)}break}case"split":{const a=i.splitPosition.parent;this._isInInsertedElement(a)||this._markRemove(a,i.splitPosition.offset,i.howMany),this._isInInsertedElement(i.insertionPosition.parent)||this._markInsert(i.insertionPosition.parent,i.insertionPosition.offset,1),i.graveyardPosition&&this._markRemove(i.graveyardPosition.parent,i.graveyardPosition.offset,1);break}case"merge":{const a=i.sourcePosition.parent;this._isInInsertedElement(a.parent)||this._markRemove(a.parent,a.startOffset,1);const u=i.graveyardPosition.parent;this._markInsert(u,i.graveyardPosition.offset,1);const f=i.targetPosition.parent;this._isInInsertedElement(f)||this._markInsert(f,i.targetPosition.offset,a.maxOffset);break}case"detachRoot":case"addRoot":{const a=i.affectedSelectable;if(!a._isLoaded||a.isAttached()==i.isAdd)return;this._bufferRootStateChange(i.rootName,i.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!i.root._isLoaded)return;const a=i.root.rootName;this._bufferRootAttributeChange(a,i.key,i.oldValue,i.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,i,a){i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null),a.range&&a.range.root.is("rootElement")&&!a.range.root._isLoaded&&(a.range=null);let u=this._changedMarkers.get(e);u?u.newMarkerData=a:(u={newMarkerData:a,oldMarkerData:i},this._changedMarkers.set(e,u)),u.oldMarkerData.range==null&&a.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[i,a]of this._changedMarkers)a.oldMarkerData.range!=null&&e.push({name:i,range:a.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[i,a]of this._changedMarkers)a.newMarkerData.range!=null&&e.push({name:i,range:a.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,i])=>({name:e,data:{oldRange:i.oldMarkerData.range,newRange:i.newMarkerData.range}}))}hasDataChanges(){if(this.getChanges().length||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:i}of this._changedMarkers.values()){if(e.affectsData!==i.affectsData)return!0;if(e.affectsData){const a=e.range&&!i.range,u=!e.range&&i.range,f=e.range&&i.range&&!e.range.isEqual(i.range);if(a||u||f)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let i=[];for(const a of this._changesInElement.keys()){const u=this._changesInElement.get(a).sort((T,O)=>T.offset===O.offset?T.type!=O.type?T.type=="remove"?-1:1:0:T.offset<O.offset?-1:1),f=this._elementSnapshots.get(a),m=Px(a.getChildren()),w=j7(f.length,u);let _=0,E=0;for(const T of w)if(T==="i")i.push(this._getInsertDiff(a,_,m[_])),_++;else if(T==="r")i.push(this._getRemoveDiff(a,_,f[E])),E++;else if(T==="a"){const O=m[_].attributes,V=f[E].attributes;let K;if(m[_].name=="$text")K=new ot(At._createAt(a,_),At._createAt(a,_+1));else{const ee=a.offsetToIndex(_);K=new ot(At._createAt(a,_),At._createAt(a.getChild(ee),0))}i.push(...this._getAttributesDiff(K,V,O)),_++,E++}else _++,E++}i.sort((a,u)=>a.position.root!=u.position.root?a.position.root.rootName<u.position.root.rootName?-1:1:a.position.isEqual(u.position)?a.changeCount-u.changeCount:a.position.isBefore(u.position)?-1:1);for(let a=1,u=0;a<i.length;a++){const f=i[u],m=i[a],w=f.type=="remove"&&m.type=="remove"&&f.name=="$text"&&m.name=="$text"&&f.position.isEqual(m.position),_=f.type=="insert"&&m.type=="insert"&&f.name=="$text"&&m.name=="$text"&&f.position.parent==m.position.parent&&f.position.offset+f.length==m.position.offset,E=f.type=="attribute"&&m.type=="attribute"&&f.position.parent==m.position.parent&&f.range.isFlat&&m.range.isFlat&&f.position.offset+f.length==m.position.offset&&f.attributeKey==m.attributeKey&&f.attributeOldValue==m.attributeOldValue&&f.attributeNewValue==m.attributeNewValue;w||_||E?(f.length++,E&&(f.range.end=f.range.end.getShiftedBy(1)),i[a]=null):u=a}i=i.filter(a=>a);for(const a of i)delete a.changeCount,a.type=="attribute"&&(delete a.position,delete a.length);return this._changeCount=0,this._cachedChangesWithGraveyard=i,this._cachedChanges=i.filter(L7),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const i=Mx({},e);return i.state!==void 0&&delete i.attributes,i})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,i){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:i?"attached":"detached"});const a=this._changedRoots.get(e);a.state!==void 0?(delete a.state,a.attributes===void 0&&this._changedRoots.delete(e)):a.state=i?"attached":"detached"}_bufferRootAttributeChange(e,i,a,u){const f=this._changedRoots.get(e)||{name:e},m=f.attributes||{};if(m[i]){const w=m[i];u===w.oldValue?delete m[i]:w.newValue=u}else m[i]={oldValue:a,newValue:u};Object.entries(m).length===0?(delete f.attributes,f.state===void 0&&this._changedRoots.delete(e)):(f.attributes=m,this._changedRoots.set(e,f))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const i=ot._createOn(e);for(const a of this._markerCollection.getMarkersIntersectingRange(i)){const u=a.getData();this.bufferMarkerChange(a.name,u,u)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const a of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,a,null,e.getAttribute(a));for(const a of this._markerCollection)if(a.getRange().root==e){const u=a.getData();this.bufferMarkerChange(a.name,(i=Mx({},u),T7(i,N7({range:null}))),u)}var i}}_markInsert(e,i,a){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const u={type:"insert",offset:i,howMany:a,count:this._changeCount++};this._markChange(e,u)}_markRemove(e,i,a){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const u={type:"remove",offset:i,howMany:a,count:this._changeCount++};this._markChange(e,u),this._removeAllNestedChanges(e,i,a)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const i={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,i)}_markChange(e,i){this._makeSnapshot(e);const a=this._getChangesForElement(e);this._handleChange(i,a),a.push(i);for(let u=0;u<a.length;u++)a[u].howMany<1&&(a.splice(u,1),u--)}_getChangesForElement(e){let i;return this._changesInElement.has(e)?i=this._changesInElement.get(e):(i=[],this._changesInElement.set(e,i)),i}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Px(e.getChildren()))}_handleChange(e,i){e.nodesToHandle=e.howMany;for(const a of i){const u=e.offset+e.howMany,f=a.offset+a.howMany;if(e.type=="insert"&&(a.type=="insert"&&(e.offset<=a.offset?a.offset+=e.howMany:e.offset<f&&(a.howMany+=e.nodesToHandle,e.nodesToHandle=0)),a.type=="remove"&&e.offset<a.offset&&(a.offset+=e.howMany),a.type=="attribute")){if(e.offset<=a.offset)a.offset+=e.howMany;else if(e.offset<f){const m=a.howMany;a.howMany=e.offset-a.offset,i.unshift({type:"attribute",offset:u,howMany:m-a.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(a.type=="insert"){if(u<=a.offset)a.offset-=e.howMany;else if(u<=f)if(e.offset<a.offset){const m=u-a.offset;a.offset=e.offset,a.howMany-=m,e.nodesToHandle-=m}else a.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=a.offset)e.nodesToHandle-=a.howMany,a.howMany=0;else if(e.offset<f){const m=f-e.offset;a.howMany-=m,e.nodesToHandle-=m}}if(a.type=="remove"&&(u<=a.offset?a.offset-=e.howMany:e.offset<a.offset&&(e.nodesToHandle+=a.howMany,a.howMany=0)),a.type=="attribute"){if(u<=a.offset)a.offset-=e.howMany;else if(e.offset<a.offset){const m=u-a.offset;a.offset=e.offset,a.howMany-=m}else if(e.offset<f)if(u<=f){const m=a.howMany;a.howMany=e.offset-a.offset;const w=m-a.howMany-e.nodesToHandle;i.unshift({type:"attribute",offset:e.offset,howMany:w,count:this._changeCount++})}else a.howMany-=f-e.offset}}if(e.type=="attribute"){if(a.type=="insert")if(e.offset<a.offset&&u>a.offset){if(u>f){const m={type:"attribute",offset:f,howMany:u-f,count:this._changeCount++};this._handleChange(m,i),i.push(m)}e.nodesToHandle=a.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=a.offset&&e.offset<f&&(u>f?(e.nodesToHandle=u-f,e.offset=f):e.nodesToHandle=0);if(a.type=="remove"&&e.offset<a.offset&&u>a.offset){const m={type:"attribute",offset:a.offset,howMany:u-a.offset,count:this._changeCount++};this._handleChange(m,i),i.push(m),e.nodesToHandle=a.offset-e.offset,e.howMany=e.nodesToHandle}a.type=="attribute"&&(e.offset>=a.offset&&u<=f?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=a.offset&&u>=f&&(a.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,i,a){return{type:"insert",position:At._createAt(e,i),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++,_element:a.element}}_getRemoveDiff(e,i,a){return{type:"remove",position:At._createAt(e,i),name:a.name,attributes:new Map(a.attributes),length:1,changeCount:this._changeCount++,_element:a.element}}_getAttributesDiff(e,i,a){const u=[];a=new Map(a);for(const[f,m]of i){const w=a.has(f)?a.get(f):null;w!==m&&u.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:f,attributeOldValue:m,attributeNewValue:w,changeCount:this._changeCount++}),a.delete(f)}for(const[f,m]of a)u.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:f,attributeOldValue:null,attributeNewValue:m,changeCount:this._changeCount++});return u}_isInInsertedElement(e){const i=e.parent;if(!i)return!1;const a=this._changesInElement.get(i),u=e.startOffset;if(a){for(const f of a)if(f.type=="insert"&&u>=f.offset&&u<f.offset+f.howMany)return!0}return this._isInInsertedElement(i)}_removeAllNestedChanges(e,i,a){const u=new ot(At._createAt(e,i),At._createAt(e,i+a));for(const f of u.getItems({shallow:!0}))f.is("element")&&(this._elementSnapshots.delete(f),this._changesInElement.delete(f),this._removeAllNestedChanges(f,0,f.maxOffset))}}function Px(c){const e=[];for(const i of c)if(i.is("$text"))for(let a=0;a<i.data.length;a++)e.push({name:"$text",attributes:new Map(i.getAttributes())});else e.push({name:i.name,attributes:new Map(i.getAttributes()),element:i});return e}function j7(c,e){const i=[];let a=0,u=0;for(const f of e){if(f.offset>a){for(let m=0;m<f.offset-a;m++)i.push("e");u+=f.offset-a}if(f.type=="insert"){for(let m=0;m<f.howMany;m++)i.push("i");a=f.offset+f.howMany}else if(f.type=="remove"){for(let m=0;m<f.howMany;m++)i.push("r");a=f.offset,u+=f.howMany}else i.push(..."a".repeat(f.howMany).split("")),a=f.offset+f.howMany,u+=f.howMany}if(u<c)for(let f=0;f<c-u-a;f++)i.push("e");return i}function L7(c){const e="position"in c&&c.position.root.rootName=="$graveyard",i="range"in c&&c.range.root.rootName=="$graveyard";return!e&&!i}class B7{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new N("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,i=this.version){if(!this._operations.length)return[];const a=this._operations[0];e===void 0&&(e=a.baseVersion);let u=i-1;for(const[w,_]of this._gaps)e>w&&e<_&&(e=_),u>w&&u<_&&(u=w-1);if(u<a.baseVersion||e>this.lastOperation.baseVersion)return[];let f=this._baseVersionToOperationIndex.get(e);f===void 0&&(f=0);let m=this._baseVersionToOperationIndex.get(u);return m===void 0&&(m=this._operations.length-1),this._operations.slice(f,m+1)}getOperation(e){const i=this._baseVersionToOperationIndex.get(e);if(i!==void 0)return this._operations[i]}setOperationAsUndone(e,i){this._undoPairs.set(i,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class i0 extends dr{constructor(e,i,a="main"){super(i),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=a}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}i0.prototype.is=function(c,e){return e?e===this.name&&(c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"):c==="rootElement"||c==="model:rootElement"||c==="element"||c==="model:element"||c==="node"||c==="model:node"};var R7=Object.defineProperty,F7=Object.defineProperties,z7=Object.getOwnPropertyDescriptors,Ox=Object.getOwnPropertySymbols,U7=Object.prototype.hasOwnProperty,q7=Object.prototype.propertyIsEnumerable,jx=(c,e,i)=>e in c?R7(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,Lx=(c,e)=>{for(var i in e||(e={}))U7.call(e,i)&&jx(c,i,e[i]);if(Ox)for(var i of Ox(e))q7.call(e,i)&&jx(c,i,e[i]);return c},Bx=(c,e)=>F7(c,z7(e));const Rx="$graveyard";class V7 extends oe(){constructor(e){super(),this.model=e,this.history=new B7,this.selection=new ll(this),this.roots=new zs({idProperty:"rootName"}),this.differ=new O7(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Rx),this.listenTo(e,"applyOperation",(i,a)=>{const u=a[0];u.isDocumentOperation&&this.differ.bufferOperation(u)},{priority:"high"}),this.listenTo(e,"applyOperation",(i,a)=>{const u=a[0];u.isDocumentOperation&&this.history.addOperation(u)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(i,a,u,f,m)=>{const w=Bx(Lx({},a.getData()),{range:f});this.differ.bufferMarkerChange(a.name,m,w),u===null&&a.on("change",(_,E)=>{const T=a.getData();this.differ.bufferMarkerChange(a.name,Bx(Lx({},T),{range:E}),T)})}),this.registerPostFixer(i=>{let a=!1;for(const u of this.roots)u.isAttached()||u.isEmpty||(i.remove(i.createRangeIn(u)),a=!0);for(const u of this.model.markers)u.getRange().root.isAttached()||(i.removeMarker(u),a=!0);return a})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Rx)}createRoot(e="$root",i="main"){if(this.roots.get(i))throw new N("model-document-createroot-name-exists",this,{name:i});const a=new i0(this,e,i);return this.roots.add(a),a}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(i=>i.rootName)}getRoots(e=!1){return this.roots.filter(i=>i!=this.graveyard&&(e||i.isAttached())&&i._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=Fu(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),i=this.model,a=i.schema,u=i.createPositionFromPath(e,[0]);return a.getNearestSelectionRange(u)||i.createRange(u)}_validateSelectionRange(e){return Fx(e.start)&&Fx(e.end)}_callPostFixers(e){let i=!1;do for(const a of this._postFixers)if(this.selection.refresh(),i=a(e),i)break;while(i)}}function Fx(c){const e=c.textNode;if(e){const i=e.data,a=c.offset-e.startOffset;return!wf(i,a)&&!Bu(i,a)}return!0}var $7=Object.defineProperty,H7=Object.defineProperties,W7=Object.getOwnPropertyDescriptors,zx=Object.getOwnPropertySymbols,G7=Object.prototype.hasOwnProperty,Y7=Object.prototype.propertyIsEnumerable,Ux=(c,e,i)=>e in c?$7(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class K7 extends oe(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const i=e instanceof Mf?e.name:e;return this._markers.has(i)}get(e){return this._markers.get(e)||null}_set(e,i,a=!1,u=!1){const f=e instanceof Mf?e.name:e;if(f.includes(","))throw new N("markercollection-incorrect-marker-name",this);const m=this._markers.get(f);if(m){const T=m.getData(),O=m.getRange();let V=!1;return O.isEqual(i)||(m._attachLiveRange(Vs.fromRange(i)),V=!0),a!=m.managedUsingOperations&&(m._managedUsingOperations=a,V=!0),typeof u=="boolean"&&u!=m.affectsData&&(m._affectsData=u,V=!0),V&&this.fire(`update:${f}`,m,O,i,T),m}const w=Vs.fromRange(i),_=new Mf(f,w,a,u);var E;return this._markers.set(f,_),this.fire(`update:${f}`,_,null,i,(E=((T,O)=>{for(var V in O||(O={}))G7.call(O,V)&&Ux(T,V,O[V]);if(zx)for(var V of zx(O))Y7.call(O,V)&&Ux(T,V,O[V]);return T})({},_.getData()),H7(E,W7({range:null})))),_}_remove(e){const i=e instanceof Mf?e.name:e,a=this._markers.get(i);return!!a&&(this._markers.delete(i),this.fire(`update:${i}`,a,a.getRange(),null,a.getData()),this._destroyMarker(a),!0)}_refresh(e){const i=e instanceof Mf?e.name:e,a=this._markers.get(i);if(!a)throw new N("markercollection-refresh-marker-not-exists",this);const u=a.getRange();this.fire(`update:${i}`,a,u,u,a.getData())}*getMarkersAtPosition(e){for(const i of this)i.getRange().containsPosition(e)&&(yield i)}*getMarkersIntersectingRange(e){for(const i of this)i.getRange().getIntersection(e)!==null&&(yield i)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const i of this._markers.values())i.name.startsWith(e+":")&&(yield i)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class Mf extends oe(Hu){constructor(e,i,a,u){super(),this.name=e,this._liveRange=this._attachLiveRange(i),this._managedUsingOperations=a,this._affectsData=u}get managedUsingOperations(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new N("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Mf.prototype.is=function(c){return c==="marker"||c==="model:marker"};class Q7 extends $s{constructor(e,i){super(null),this.sourcePosition=e.clone(),this.howMany=i}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new N("detach-operation-on-document-node",this)}_execute(){Ax(ot._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Yc extends Hu{constructor(e){super(),this.markers=new Map,this._children=new xm,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let i=this;for(const a of e)i=i.getChild(i.offsetToIndex(a));return i}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const i of this._children)e.push(i.toJSON());return e}static fromJSON(e){const i=[];for(const a of e)a.name?i.push(dr.fromJSON(a)):i.push(wr.fromJSON(a));return new Yc(i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const a=function(u){return typeof u=="string"?[new wr(u)]:(Ie(u)||(u=[u]),Array.from(u).map(f=>typeof f=="string"?new wr(f):f instanceof al?new wr(f.data,f.getAttributes()):f))}(i);for(const u of a)u.parent!==null&&u._remove(),u.parent=this;this._children._insertNodes(e,a)}_removeChildren(e,i=1){const a=this._children._removeNodes(e,i);for(const u of a)u.parent=null;return a}}Yc.prototype.is=function(c){return c==="documentFragment"||c==="model:documentFragment"};class J7{constructor(e,i){this.model=e,this.batch=i}createText(e,i){return new wr(e,i)}createElement(e,i){return new dr(e,i)}createDocumentFragment(){return new Yc}cloneElement(e,i=!0){return e._clone(i)}insert(e,i,a=0){if(this._assertWriterUsedCorrectly(),e instanceof wr&&e.data=="")return;const u=At._createAt(i,a);if(e.parent){if($x(e.root,u.root))return void this.move(ot._createOn(e),u);if(e.root.document)throw new N("model-writer-insert-forbidden-move",this);this.remove(e)}const f=u.root.document?u.root.document.version:null,m=new oo(u,e,f);if(e instanceof wr&&(m.shouldReceiveAttributes=!0),this.batch.addOperation(m),this.model.applyOperation(m),e instanceof Yc)for(const[w,_]of e.markers){const E=At._createAt(_.root,0),T={range:new ot(_.start._getCombined(E,u),_.end._getCombined(E,u)),usingOperation:!0,affectsData:!0};this.model.markers.has(w)?this.updateMarker(w,T):this.addMarker(w,T)}}insertText(e,i,a,u){i instanceof Yc||i instanceof dr||i instanceof At?this.insert(this.createText(e),i,a):this.insert(this.createText(e,i),a,u)}insertElement(e,i,a,u){i instanceof Yc||i instanceof dr||i instanceof At?this.insert(this.createElement(e),i,a):this.insert(this.createElement(e,i),a,u)}append(e,i){this.insert(e,i,"end")}appendText(e,i,a){i instanceof Yc||i instanceof dr?this.insert(this.createText(e),i,"end"):this.insert(this.createText(e,i),a,"end")}appendElement(e,i,a){i instanceof Yc||i instanceof dr?this.insert(this.createElement(e),i,"end"):this.insert(this.createElement(e,i),a,"end")}setAttribute(e,i,a){if(this._assertWriterUsedCorrectly(),a instanceof ot){const u=a.getMinimalFlatRanges();for(const f of u)qx(this,e,i,f)}else Vx(this,e,i,a)}setAttributes(e,i){for(const[a,u]of _a(e))this.setAttribute(a,u,i)}removeAttribute(e,i){if(this._assertWriterUsedCorrectly(),i instanceof ot){const a=i.getMinimalFlatRanges();for(const u of a)qx(this,e,null,u)}else Vx(this,e,null,i)}clearAttributes(e){this._assertWriterUsedCorrectly();const i=a=>{for(const u of a.getAttributeKeys())this.removeAttribute(u,a)};if(e instanceof ot)for(const a of e.getItems())i(a);else i(e)}move(e,i,a){if(this._assertWriterUsedCorrectly(),!(e instanceof ot))throw new N("writer-move-invalid-range",this);if(!e.isFlat)throw new N("writer-move-range-not-flat",this);const u=At._createAt(i,a);if(u.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!$x(e.root,u.root))throw new N("writer-move-different-document",this);const f=e.root.document?e.root.document.version:null,m=new Hn(e.start,e.end.offset-e.start.offset,u,f);this.batch.addOperation(m),this.model.applyOperation(m)}remove(e){this._assertWriterUsedCorrectly();const i=(e instanceof ot?e:ot._createOn(e)).getMinimalFlatRanges().reverse();for(const a of i)this._addOperationForAffectedMarkers("move",a),Z7(a.start,a.end.offset-a.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const i=e.nodeBefore,a=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(i instanceof dr))throw new N("writer-merge-no-element-before",this);if(!(a instanceof dr))throw new N("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,i,a){return this.model.createPositionFromPath(e,i,a)}createPositionAt(e,i){return this.model.createPositionAt(e,i)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,i){return this.model.createRange(e,i)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const i=e.nodeBefore,a=e.nodeAfter;this.move(ot._createIn(a),At._createAt(i,"end")),this.remove(a)}_merge(e){const i=At._createAt(e.nodeBefore,"end"),a=At._createAt(e.nodeAfter,0),u=e.root.document.graveyard,f=new At(u,[0]),m=e.root.document.version,w=new ci(a,e.nodeAfter.maxOffset,i,f,m);this.batch.addOperation(w),this.model.applyOperation(w)}rename(e,i){if(this._assertWriterUsedCorrectly(),!(e instanceof dr))throw new N("writer-rename-not-element-instance",this);const a=e.root.document?e.root.document.version:null,u=new bs(At._createBefore(e),e.name,i,a);this.batch.addOperation(u),this.model.applyOperation(u)}split(e,i){this._assertWriterUsedCorrectly();let a,u,f=e.parent;if(!f.parent)throw new N("writer-split-element-no-parent",this);if(i||(i=f.parent),!e.parent.getAncestors({includeSelf:!0}).includes(i))throw new N("writer-split-invalid-limit-element",this);do{const m=f.root.document?f.root.document.version:null,w=f.maxOffset-e.offset,_=yr.getInsertionPosition(e),E=new yr(e,w,_,null,m);this.batch.addOperation(E),this.model.applyOperation(E),a||u||(a=f,u=e.parent.nextSibling),f=(e=this.createPositionAfter(e.parent)).parent}while(f!==i);return{position:e,range:new ot(At._createAt(a,"end"),At._createAt(u,0))}}wrap(e,i){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new N("writer-wrap-range-not-flat",this);const a=i instanceof dr?i:new dr(i);if(a.childCount>0)throw new N("writer-wrap-element-not-empty",this);if(a.parent!==null)throw new N("writer-wrap-element-attached",this);this.insert(a,e.start);const u=new ot(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(u,At._createAt(a,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new N("writer-unwrap-element-no-parent",this);this.move(ot._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,i){if(this._assertWriterUsedCorrectly(),!i||typeof i.usingOperation!="boolean")throw new N("writer-addmarker-no-usingoperation",this);const a=i.usingOperation,u=i.range,f=i.affectsData!==void 0&&i.affectsData;if(this.model.markers.has(e))throw new N("writer-addmarker-marker-exists",this);if(!u)throw new N("writer-addmarker-no-range",this);return a?(Pm(this,e,null,u,f),this.model.markers.get(e)):this.model.markers._set(e,u,a,f)}updateMarker(e,i){this._assertWriterUsedCorrectly();const a=typeof e=="string"?e:e.name,u=this.model.markers.get(a);if(!u)throw new N("writer-updatemarker-marker-not-exists",this);if(!i)return L("writer-updatemarker-reconvert-using-editingcontroller",{markerName:a}),void this.model.markers._refresh(u);const f=typeof i.usingOperation=="boolean",m=typeof i.affectsData=="boolean",w=m?i.affectsData:u.affectsData;if(!f&&!i.range&&!m)throw new N("writer-updatemarker-wrong-options",this);const _=u.getRange(),E=i.range?i.range:_;f&&i.usingOperation!==u.managedUsingOperations?i.usingOperation?Pm(this,a,null,E,w):(Pm(this,a,_,null,w),this.model.markers._set(a,E,void 0,w)):u.managedUsingOperations?Pm(this,a,_,E,w):this.model.markers._set(a,E,void 0,w)}removeMarker(e){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name;if(!this.model.markers.has(i))throw new N("writer-removemarker-no-marker",this);const a=this.model.markers.get(i);if(!a.managedUsingOperations)return void this.model.markers._remove(i);Pm(this,i,a.getRange(),null,a.affectsData)}addRoot(e,i="$root"){this._assertWriterUsedCorrectly();const a=this.model.document.getRoot(e);if(a&&a.isAttached())throw new N("writer-addroot-root-exists",this);const u=this.model.document,f=new Yl(e,i,!0,u,u.version);return this.batch.addOperation(f),this.model.applyOperation(f),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const i=typeof e=="string"?this.model.document.getRoot(e):e;if(!i||!i.isAttached())throw new N("writer-detachroot-no-root",this);for(const f of this.model.markers)f.getRange().root===i&&this.removeMarker(f);for(const f of i.getAttributeKeys())this.removeAttribute(f,i);this.remove(this.createRangeIn(i));const a=this.model.document,u=new Yl(i.rootName,i.name,!1,a,a.version);this.batch.addOperation(u),this.model.applyOperation(u)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,i){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,i)}setSelectionAttribute(e,i){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,i);else for(const[a,u]of _a(e))this._setSelectionAttribute(a,u)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const i of e)this._removeSelectionAttribute(i)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,i){const a=this.model.document.selection;if(a.isCollapsed&&a.anchor.parent.isEmpty){const u=ll._getStoreAttributeKey(e);this.setAttribute(u,i,a.anchor.parent)}a._setAttribute(e,i)}_removeSelectionAttribute(e){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const a=ll._getStoreAttributeKey(e);this.removeAttribute(a,i.anchor.parent)}i._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new N("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,i){for(const a of this.model.markers){if(!a.managedUsingOperations)continue;const u=a.getRange();let f=!1;if(e==="move"){const m=i;f=m.containsPosition(u.start)||m.start.isEqual(u.start)||m.containsPosition(u.end)||m.end.isEqual(u.end)}else{const m=i,w=m.nodeBefore,_=m.nodeAfter,E=u.start.parent==w&&u.start.isAtEnd,T=u.end.parent==_&&u.end.offset==0,O=u.end.nodeAfter==_,V=u.start.nodeAfter==_;f=E||T||O||V}f&&this.updateMarker(a.name,{range:u})}}}function qx(c,e,i,a){const u=c.model,f=u.document;let m,w,_,E=a.start;for(const O of a.getWalker({shallow:!0}))_=O.item.getAttribute(e),m&&w!=_&&(w!=i&&T(),E=m),m=O.nextPosition,w=_;function T(){const O=new ot(E,m),V=O.root.document?f.version:null,K=new xi(O,e,w,i,V);c.batch.addOperation(K),u.applyOperation(K)}m instanceof At&&m!=E&&w!=i&&T()}function Vx(c,e,i,a){const u=c.model,f=u.document,m=a.getAttribute(e);let w,_;if(m!=i){if(a.root===a){const E=a.document?f.version:null;_=new Gc(a,e,m,i,E)}else{w=new ot(At._createBefore(a),c.createPositionAfter(a));const E=w.root.document?f.version:null;_=new xi(w,e,m,i,E)}c.batch.addOperation(_),u.applyOperation(_)}}function Pm(c,e,i,a,u){const f=c.model,m=f.document,w=new gs(e,i,a,f.markers,!!u,m.version);c.batch.addOperation(w),f.applyOperation(w)}function Z7(c,e,i,a){let u;if(c.root.document){const f=a.document,m=new At(f.graveyard,[0]);u=new Hn(c,e,m,f.version)}else u=new Q7(c,e);i.addOperation(u),a.applyOperation(u)}function $x(c,e){return c===e||c instanceof i0&&e instanceof i0}function X7(c,e,i={}){if(e.isCollapsed)return;const a=e.getFirstRange();if(a.root.rootName=="$graveyard")return;const u=c.schema;c.change(f=>{if(!i.doNotResetEntireContent&&function(E,T){const O=E.getLimitElement(T);if(!T.containsEntireContent(O))return!1;const V=T.getFirstRange();return V.start.parent==V.end.parent?!1:E.checkChild(O,"paragraph")}(u,e))return void function(E,T){const O=E.model.schema.getLimitElement(T);E.remove(E.createRangeIn(O)),Gx(E,E.createPositionAt(O,0),T)}(f,e);const m={};if(!i.doNotAutoparagraph){const E=e.getSelectedElement();E&&Object.assign(m,u.getAttributesWithProperty(E,"copyOnReplace",!0))}const[w,_]=function(E){const T=E.root.document.model,O=E.start;let V=E.end;if(T.hasContent(E,{ignoreMarkers:!0})){const K=function(ee){const se=ee.parent,ke=se.root.document.model.schema,Ee=se.getAncestors({parentFirst:!0,includeSelf:!0});for(const Le of Ee){if(ke.isLimit(Le))return null;if(ke.isBlock(Le))return Le}}(V);if(K&&V.isTouching(T.createPositionAt(K,0))){const ee=T.createSelection(E);T.modifySelection(ee,{direction:"backward"});const se=ee.getLastPosition(),ke=T.createRange(se,V);T.hasContent(ke,{ignoreMarkers:!0})||(V=se)}}return[vo.fromPosition(O,"toPrevious"),vo.fromPosition(V,"toNext")]}(a);w.isTouching(_)||f.remove(f.createRange(w,_)),i.leaveUnmerged||(function(E,T,O){const V=E.model;if(!fy(E.model.schema,T,O))return;const[K,ee]=function(se,ke){const Ee=se.getAncestors(),Le=ke.getAncestors();let tt=0;for(;Ee[tt]&&Ee[tt]==Le[tt];)tt++;return[Ee[tt],Le[tt]]}(T,O);!K||!ee||(!V.hasContent(K,{ignoreMarkers:!0})&&V.hasContent(ee,{ignoreMarkers:!0})?Wx(E,T,O,K.parent):Hx(E,T,O,K.parent))}(f,w,_),u.removeDisallowedAttributes(w.parent.getChildren(),f)),Yx(f,e,w),!i.doNotAutoparagraph&&function(E,T){const O=E.checkChild(T,"$text"),V=E.checkChild(T,"paragraph");return!O&&V}(u,w)&&Gx(f,w,e,m),w.detach(),_.detach()})}function Hx(c,e,i,a){const u=e.parent,f=i.parent;if(u!=a&&f!=a){for(e=c.createPositionAfter(u),(i=c.createPositionBefore(f)).isEqual(e)||c.insert(f,e),c.merge(e);i.parent.isEmpty;){const m=i.parent;i=c.createPositionBefore(m),c.remove(m)}fy(c.model.schema,e,i)&&Hx(c,e,i,a)}}function Wx(c,e,i,a){const u=e.parent,f=i.parent;if(u!=a&&f!=a){for(e=c.createPositionAfter(u),(i=c.createPositionBefore(f)).isEqual(e)||c.insert(u,i);e.parent.isEmpty;){const m=e.parent;e=c.createPositionBefore(m),c.remove(m)}i=c.createPositionBefore(f),function(m,w){const _=w.nodeBefore,E=w.nodeAfter;_.name!=E.name&&m.rename(_,E.name),m.clearAttributes(_),m.setAttributes(Object.fromEntries(E.getAttributes()),_),m.merge(w)}(c,i),fy(c.model.schema,e,i)&&Wx(c,e,i,a)}}function fy(c,e,i){const a=e.parent,u=i.parent;return a!=u&&!c.isLimit(a)&&!c.isLimit(u)&&function(f,m,w){const _=new ot(f,m);for(const E of _.getWalker())if(w.isLimit(E.item))return!1;return!0}(e,i,c)}function Gx(c,e,i,a={}){const u=c.createElement("paragraph");c.model.schema.setAllowedAttributes(u,a,c),c.insert(u,e),Yx(c,i,c.createPositionAt(u,0))}function Yx(c,e,i){e instanceof ll?c.setSelection(i):e.setTo(i)}function Kx(c,e){const i=[];Array.from(c.getItems({direction:"backward"})).map(a=>e.createRangeOn(a)).filter(a=>(a.start.isAfter(c.start)||a.start.isEqual(c.start))&&(a.end.isBefore(c.end)||a.end.isEqual(c.end))).forEach(a=>{i.push(a.start.parent),e.remove(a)}),i.forEach(a=>{let u=a;for(;u.parent&&u.isEmpty;){const f=e.createRangeOn(u);u=u.parent,e.remove(f)}})}class eF{constructor(e,i,a){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=i,this.position=a,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=i.createDocumentFragment(),this._documentFragmentPosition=i.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const i of Array.from(e))this._handleNode(i);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const i=this.writer.createPositionAfter(this._lastNode),a=this.writer.createPositionAfter(e);if(a.isAfter(i)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new N("insertcontent-invalid-insertion-position",this);this.position=a,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?ot._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new ot(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let i=this._checkAndAutoParagraphToAllowedPosition(e);i||(i=this._checkAndSplitToAllowedPosition(e),i)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=vo.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new N("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=vo.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=vo.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof dr)||!this._canMergeLeft(e))return;const i=vo._createBefore(e);i.stickiness="toNext";const a=vo.fromPosition(this.position,"toNext");this._affectedStart.isEqual(i)&&(this._affectedStart.detach(),this._affectedStart=vo._createAt(i.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=vo._createAt(i.nodeBefore,"end","toNext")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof dr)||!this._canMergeRight(e))return;const i=vo._createAfter(e);if(i.stickiness="toNext",!this.position.isEqual(i))throw new N("insertcontent-invalid-insertion-position",this);this.position=At._createAt(i.nodeBefore,"end");const a=vo.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(i)&&(this._affectedEnd.detach(),this._affectedEnd=vo._createAt(i.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=vo._createAt(i.nodeBefore,0,"toPrevious")),this.position=a.toPosition(),a.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_canMergeLeft(e){const i=e.previousSibling;return i instanceof dr&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(i,e)}_canMergeRight(e){const i=e.nextSibling;return i instanceof dr&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(e,i)}_tryAutoparagraphing(e){const i=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,i)&&this.schema.checkChild(i,e)&&(i._appendChild(e),this._handleNode(i))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const i=this.writer.createElement("paragraph");return this.writer.insert(i,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=i,this.position=this.writer.createPositionAt(i,0),!0}_checkAndSplitToAllowedPosition(e){const i=this._getAllowedIn(this.position.parent,e);if(!i)return!1;for(i!=this.position.parent&&this._insertPartialFragment();i!=this.position.parent;)if(this.position.isAtStart){const a=this.position.parent;this.position=this.writer.createPositionBefore(a),a.isEmpty&&a.parent===i&&this.writer.remove(a)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const a=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=a,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,i){return this.schema.checkChild(e,i)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,i)}}function tF(c,e,i,a={}){if(!c.schema.isObject(e))throw new N("insertobject-element-not-an-object",c,{object:e});const u=i||c.document.selection;let f=u;a.findOptimalPosition&&c.schema.isBlock(e)&&(f=c.createSelection(c.schema.findOptimalInsertionRange(u,a.findOptimalPosition)));const m=Bi(u.getSelectedBlocks()),w={};return m&&Object.assign(w,c.schema.getAttributesWithProperty(m,"copyOnReplace",!0)),c.change(_=>{f.isCollapsed||c.deleteContent(f,{doNotAutoparagraph:!0});let E=e;const T=f.anchor.parent;!c.schema.checkChild(T,e)&&c.schema.checkChild(T,"paragraph")&&c.schema.checkChild("paragraph",e)&&(E=_.createElement("paragraph"),_.insert(e,E)),c.schema.setAllowedAttributes(E,w,_);const O=c.insertContent(E,f);return O.isCollapsed||a.setSelection&&function(V,K,ee,se){const ke=V.model;if(ee=="on")return void V.setSelection(K,"on");if(ee!="after")throw new N("insertobject-invalid-place-parameter-value",ke);let Ee=K.nextSibling;if(ke.schema.isInline(K))return void V.setSelection(K,"after");!(Ee&&ke.schema.checkChild(Ee,"$text"))&&ke.schema.checkChild(K.parent,"paragraph")&&(Ee=V.createElement("paragraph"),ke.schema.setAllowedAttributes(Ee,se,V),ke.insertContent(Ee,V.createPositionAfter(K))),Ee&&V.setSelection(Ee,0)}(_,e,a.setSelection,w),O})}const nF=' ,.?!:;"-()';function rF(c,e){const{isForward:i,walker:a,unit:u,schema:f,treatEmojiAsSingleUnit:m}=c,{type:w,item:_,nextPosition:E}=e;if(w=="text")return c.unit==="word"?function(T,O){let V=T.position.textNode;for(V||(V=O?T.position.nodeAfter:T.position.nodeBefore);V&&V.is("$text");){const K=T.position.offset-V.startOffset;if(sF(V,K,O))V=O?T.position.nodeAfter:T.position.nodeBefore;else{if(oF(V.data,K,O))break;T.next()}}return T.position}(a,i):function(T,O,V){const K=T.position.textNode;if(K){const ee=K.data;let se=T.position.offset-K.startOffset;for(;wf(ee,se)||O=="character"&&Bu(ee,se)||V&&Rb(ee,se);)T.next(),se=T.position.offset-K.startOffset}return T.position}(a,u,m);if(w==(i?"elementStart":"elementEnd")){if(f.isSelectable(_))return At._createAt(_,i?"after":"before");if(f.checkChild(E,"$text"))return E}else{if(f.isLimit(_))return void a.skip(()=>!0);if(f.checkChild(E,"$text"))return E}}function iF(c,e){const i=c.root,a=At._createAt(i,e?"end":0);return e?new ot(c,a):new ot(a,c)}function oF(c,e,i){const a=e+(i?0:-1);return nF.includes(c.charAt(a))}function sF(c,e,i){return e===(i?c.offsetSize:0)}class aF extends Ue(){constructor(){super(),this.markers=new K7,this.document=new V7(this),this.schema=new t7,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,i)=>{i[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,i)=>{if(i.name==="$marker")return!0}),ZR(this),this.document.registerPostFixer(sx),this.on("insertContent",(e,[i,a])=>{e.return=function(u,f,m){return u.change(w=>{const _=m||u.document.selection;_.isCollapsed||u.deleteContent(_,{doNotAutoparagraph:!0});const E=new eF(u,w,_.anchor),T=[];let O;if(f.is("documentFragment")){if(f.markers.size){const ee=[];for(const[se,ke]of f.markers){const{start:Ee,end:Le}=ke,tt=Ee.isEqual(Le);ee.push({position:Ee,name:se,isCollapsed:tt},{position:Le,name:se,isCollapsed:tt})}ee.sort(({position:se},{position:ke})=>se.isBefore(ke)?1:-1);for(const{position:se,name:ke,isCollapsed:Ee}of ee){let Le=null,tt=null;const ft=se.parent===f&&se.isAtStart,Mt=se.parent===f&&se.isAtEnd;ft||Mt?Ee&&(tt=ft?"start":"end"):(Le=w.createElement("$marker"),w.insert(Le,se)),T.push({name:ke,element:Le,collapsed:tt})}}O=f.getChildren()}else O=[f];E.handleNodes(O);let V=E.getSelectionRange();if(f.is("documentFragment")&&T.length){const ee=V?Vs.fromRange(V):null,se={};for(let ke=T.length-1;ke>=0;ke--){const{name:Ee,element:Le,collapsed:tt}=T[ke],ft=!se[Ee];if(ft&&(se[Ee]=[]),Le){const Mt=w.createPositionAt(Le,"before");se[Ee].push(Mt),w.remove(Le)}else{const Mt=E.getAffectedRange();if(!Mt){tt&&se[Ee].push(E.position);continue}tt?se[Ee].push(Mt[tt]):se[Ee].push(ft?Mt.start:Mt.end)}}for(const[ke,[Ee,Le]]of Object.entries(se))Ee&&Le&&Ee.root===Le.root&&Ee.root.document&&!w.model.markers.has(ke)&&w.addMarker(ke,{usingOperation:!0,affectsData:!0,range:new ot(Ee,Le)});ee&&(V=ee.toRange(),ee.detach())}V&&(_ instanceof ll?w.setSelection(V):_.setTo(V));const K=E.getAffectedRange()||u.createRange(_.anchor);return E.destroy(),K})}(this,i,a)}),this.on("insertObject",(e,[i,a,u])=>{e.return=tF(this,i,a,u)}),this.on("canEditAt",e=>{const i=!this.document.isReadOnly;e.return=i,i||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new Nf,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(i){N.rethrowUnexpectedError(i,this)}}enqueueChange(e,i){try{e?typeof e=="function"?(i=e,e=new Nf):e instanceof Nf||(e=new Nf(e)):e=new Nf,this._pendingChanges.push({batch:e,callback:i}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(a){N.rethrowUnexpectedError(a,this)}}applyOperation(e){e._execute()}insertContent(e,i,a,...u){const f=py(i,a);return this.fire("insertContent",[e,f,a,...u])}insertObject(e,i,a,u,...f){const m=py(i,a);return this.fire("insertObject",[e,m,u,u,...f])}deleteContent(e,i){X7(this,e,i)}modifySelection(e,i){(function(a,u,f={}){const m=a.schema,w=f.direction!="backward",_=f.unit?f.unit:"character",E=!!f.treatEmojiAsSingleUnit,T=u.focus,O=new Wc({boundaries:iF(T,w),singleCharacters:!0,direction:w?"forward":"backward"}),V={walker:O,schema:m,isForward:w,unit:_,treatEmojiAsSingleUnit:E};let K;for(;K=O.next();){if(K.done)return;const ee=rF(V,K.value);if(ee)return void(u instanceof ll?a.change(se=>{se.setSelectionFocus(ee)}):u.setFocus(ee))}})(this,e,i)}getSelectedContent(e){return function(i,a){return i.change(u=>{const f=u.createDocumentFragment(),m=a.getFirstRange();if(!m||m.isCollapsed)return f;const w=m.start.root,_=m.start.getCommonPath(m.end),E=w.getNodeByPath(_);let T;T=m.start.parent==m.end.parent?m:u.createRange(u.createPositionAt(E,m.start.path[_.length]),u.createPositionAt(E,m.end.path[_.length]+1));const O=T.end.offset-T.start.offset;for(const V of T.getItems({shallow:!0}))V.is("$textProxy")?u.appendText(V.data,V.getAttributes(),f):u.append(u.cloneElement(V,!0),f);if(T!=m){const V=m._getTransformedByMove(T.start,u.createPositionAt(f,0),O)[0],K=u.createRange(u.createPositionAt(f,0),V.start);Kx(u.createRange(V.end,u.createPositionAt(f,"end")),u),Kx(K,u)}return f})}(this,e)}hasContent(e,i={}){const a=e instanceof ot?e:ot._createIn(e);if(a.isCollapsed)return!1;const{ignoreWhitespaces:u=!1,ignoreMarkers:f=!1}=i;if(!f){for(const m of this.markers.getMarkersIntersectingRange(a))if(m.affectsData)return!0}for(const m of a.getItems())if(this.schema.isContent(m)&&(!m.is("$textProxy")||!u||m.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const i=py(e);return this.fire("canEditAt",[i])}createPositionFromPath(e,i,a){return new At(e,i,a)}createPositionAt(e,i){return At._createAt(e,i)}createPositionAfter(e){return At._createAfter(e)}createPositionBefore(e){return At._createBefore(e)}createRange(e,i){return new ot(e,i)}createRangeIn(e){return ot._createIn(e)}createRangeOn(e){return ot._createOn(e)}createSelection(...e){return new qs(...e)}createBatch(e){return new Nf(e)}createOperationFromJSON(e){return _7.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const i=this._pendingChanges[0].batch;this._currentWriter=new J7(this,i);const a=this._pendingChanges[0].callback(this._currentWriter);e.push(a),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function py(c,e){if(c)return c instanceof qs||c instanceof ll?c:c instanceof ih?e||e===0?new qs(c,e):c.is("rootElement")?new qs(c,"in"):new qs(c,"on"):new qs(c)}class lF extends $u{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class my extends $u{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class Kc{constructor(e){this.document=e}createDocumentFragment(e){return new rh(this.document,e)}createElement(e,i,a){return new Oo(this.document,e,i,a)}createText(e){return new En(this.document,e)}clone(e,i=!1){return e._clone(i)}appendChild(e,i){return i._appendChild(e)}insertChild(e,i,a){return a._insertChild(e,i)}removeChildren(e,i,a){return a._removeChildren(e,i)}remove(e){const i=e.parent;return i?this.removeChildren(i.getChildIndex(e),1,i):[]}replace(e,i){const a=e.parent;if(a){const u=a.getChildIndex(e);return this.removeChildren(u,1,a),this.insertChild(u,i,a),!0}return!1}unwrapElement(e){const i=e.parent;if(i){const a=i.getChildIndex(e);this.remove(e),this.insertChild(a,e.getChildren(),i)}}rename(e,i){const a=new Oo(this.document,e,i.getAttributes(),i.getChildren());return this.replace(i,a)?a:null}setAttribute(e,i,a){a._setAttribute(e,i)}removeAttribute(e,i){i._removeAttribute(e)}addClass(e,i){i._addClass(e)}removeClass(e,i){i._removeClass(e)}setStyle(e,i,a){Mn(e)&&a===void 0?i._setStyle(e):a._setStyle(e,i)}removeStyle(e,i){i._removeStyle(e)}setCustomProperty(e,i,a){a._setCustomProperty(e,i)}removeCustomProperty(e,i){return i._removeCustomProperty(e)}createPositionAt(e,i){return Dt._createAt(e,i)}createPositionAfter(e){return Dt._createAfter(e)}createPositionBefore(e){return Dt._createBefore(e)}createRange(e,i){return new Kt(e,i)}createRangeOn(e){return Kt._createOn(e)}createRangeIn(e){return Kt._createIn(e)}createSelection(...e){return new is(...e)}}class cF{constructor(){this._commands=new Map}add(e,i){this._commands.set(e,i)}get(e){return this._commands.get(e)}execute(e,...i){const a=this.get(e);if(!a)throw new N("commandcollection-command-not-found",this,{commandName:e});return a.execute(...i)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}var uF=Object.defineProperty,Qx=Object.getOwnPropertySymbols,dF=Object.prototype.hasOwnProperty,hF=Object.prototype.propertyIsEnumerable,Jx=(c,e,i)=>e in c?uF(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;const gy="contentEditing",Zx="common";class fF{constructor(e){this.keystrokeInfos=new Map,this._editor=e;const i=e.config.get("menuBar.isVisible"),a=e.locale.t;this.addKeystrokeInfoCategory({id:gy,label:a("Content editing keystrokes"),description:a("These keyboard shortcuts allow for quick access to content editing features.")});const u=[{label:a("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:a("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:a("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:a("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:a("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:a("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];i&&u.push({label:a("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:a("User interface and content navigation keystrokes"),description:a("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:u}]})}addKeystrokeInfoCategory({id:e,label:i,description:a,groups:u}){this.keystrokeInfos.set(e,{id:e,label:i,description:a,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:e,id:Zx}),u&&u.forEach(f=>{this.addKeystrokeInfoGroup(((m,w)=>{for(var _ in w||(w={}))dF.call(w,_)&&Jx(m,_,w[_]);if(Qx)for(var _ of Qx(w))hF.call(w,_)&&Jx(m,_,w[_]);return m})({categoryId:e},f))})}addKeystrokeInfoGroup({categoryId:e=gy,id:i,label:a,keystrokes:u}){const f=this.keystrokeInfos.get(e);if(!f)throw new N("accessibility-unknown-keystroke-info-category",this._editor,{groupId:i,categoryId:e});f.groups.set(i,{id:i,label:a,keystrokes:u||[]})}addKeystrokeInfos({categoryId:e=gy,groupId:i=Zx,keystrokes:a}){if(!this.keystrokeInfos.has(e))throw new N("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:e,keystrokes:a});const u=this.keystrokeInfos.get(e);if(!u.groups.has(i))throw new N("accessibility-unknown-keystroke-info-group",this._editor,{groupId:i,categoryId:e,keystrokes:a});u.groups.get(i).keystrokes.push(...a)}}var Xx=Object.getOwnPropertySymbols,pF=Object.prototype.hasOwnProperty,mF=Object.prototype.propertyIsEnumerable,e5=(c,e)=>{var i={};for(var a in c)pF.call(c,a)&&e.indexOf(a)<0&&(i[a]=c[a]);if(c!=null&&Xx)for(var a of Xx(c))e.indexOf(a)<0&&mF.call(c,a)&&(i[a]=c[a]);return i};class gF extends Ue(){constructor(e={}){super();const i=this.constructor,a=i.defaultConfig||{},{translations:u}=a,f=e5(a,["translations"]),m=e,{translations:w=u}=m,_=e5(m,["translations"]),E=e.language||f.language;this._context=e.context||new Ci({language:E,translations:w}),this._context._addEditor(this,!e.context);const T=Array.from(i.builtinPlugins||[]);this.config=new Jo(_,f),this.config.define("plugins",T),this.config.define(this._context._getEditorConfig()),this.plugins=new go(this,T,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new cF,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new aF,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const O=new Hb;this.data=new v7(this.model,O),this.editing=new XR(this.model,O),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new A7([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new bo(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new fF(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new N("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new N("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new N("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,i=e.get("plugins"),a=e.get("removePlugins")||[],u=e.get("extraPlugins")||[],f=e.get("substitutePlugins")||[];return this.plugins.init(i.concat(u),a,f)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(i=>this.once("ready",i))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...i){try{return this.commands.execute(e,...i)}catch(a){N.rethrowUnexpectedError(a,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function by(c){return class extends c{updateSourceElement(e){if(!this.sourceElement)throw new N("editor-missing-sourceelement",this);const i=this.config.get("updateSourceElementOnDestroy"),a=this.sourceElement instanceof HTMLTextAreaElement;if(!i&&!a)return void qd(this.sourceElement,"");const u=typeof e=="string"?e:this.data.get();qd(this.sourceElement,u)}}}by.updateSourceElement=by(Object).prototype.updateSourceElement;class t5 extends li{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new zs({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new N("pendingactions-add-invalid-message",this);const i=new(Ue());return i.set("message",e),this._actions.add(i),this.hasAny=!0,i}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const fn={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var n5=s(7801),bF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(n5.A,bF),n5.A.locals;class o0 extends Nt{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${P()}`;const i=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:i.to("for")},children:[{text:i.to("text")}]})}}class kF extends Nt{constructor(e,i){super(e);const a=e.t,u=new o0;u.text=a("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":u.id,role:"document",tabindex:-1},children:[Dn(document,"p",{},a("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(i.values())),u]})}focus(){this.element.focus()}_createCategories(e){return e.map(i=>{const a=[Dn(document,"h3",{},i.label),...Array.from(i.groups.values()).map(u=>this._createGroup(u)).flat()];return i.description&&a.splice(1,0,Dn(document,"p",{},i.description)),Dn(document,"section",{},a)})}_createGroup(e){const i=e.keystrokes.sort((u,f)=>u.label.localeCompare(f.label)).map(u=>this._createGroupRow(u)).flat(),a=[Dn(document,"dl",{},i)];return e.label&&a.unshift(Dn(document,"h4",{},e.label)),a}_createGroupRow(e){const i=this.locale.t,a=Dn(document,"dt"),u=Dn(document,"dd"),f=function(w){return typeof w=="string"?[[w]]:typeof w[0]=="string"?[w]:w}(e.keystroke),m=[];for(const w of f)m.push(w.map(wF).join(""));return a.innerHTML=e.label,u.innerHTML=m.join(", ")+(e.mayRequireFn&&b.isMac?` ${i("(may require <kbd>Fn</kbd>)")}`:""),[a,u]}}function wF(c){return kf(c).split("+").map(e=>`<kbd>${e}</kbd>`).join("+")}const r5='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var i5=s(8527),yF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(i5.A,yF),i5.A.locals;class vF extends ct{constructor(){super(...arguments),this.contentView=null}static get requires(){return[Zc]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,i=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",()=>{const a=this._createButton(Wn);return a.set({tooltip:!0,withText:!1,label:i("Accessibility help")}),a}),e.ui.componentFactory.add("menuBar:accessibilityHelp",()=>{const a=this._createButton(Hs);return a.label=i("Accessibility"),a}),e.keystrokes.set("Alt+0",(a,u)=>{this._showDialog(),u()}),this._setupRootLabels()}_createButton(e){const i=new e(this.editor.locale);return i.set({keystroke:"Alt+0",icon:r5}),i.on("execute",()=>this._showDialog()),i}_setupRootLabels(){const e=this.editor,i=e.editing.view,a=e.t;function u(f,m){const w=`${m.getAttribute("aria-label")}. ${a("Press %0 for help.",[kf("Alt+0")])}`;f.setAttribute("aria-label",w,m)}e.ui.on("ready",()=>{i.change(f=>{for(const m of i.document.roots)u(f,m)}),e.on("addRoot",(f,m)=>{const w=e.editing.view.document.getRoot(m.rootName);i.change(_=>u(_,w))},{priority:"low"})})}_showDialog(){const e=this.editor,i=e.plugins.get("Dialog"),a=e.locale.t;this.contentView||(this.contentView=new kF(e.locale,e.accessibility.keystrokeInfos)),i.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:a("Accessibility help"),icon:r5,hasCloseButton:!0,content:this.contentView})}}class AF extends es{constructor(e,i=[]){super(i),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new I({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=Dn(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var o5=s(7621),_F={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(o5.A,_F),o5.A.locals;const s5=class extends Nt{constructor(){super();const c=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",c.if("isVisible","ck-hidden",e=>!e),"ck-reset_all-excluded",c.if("isColorInherited","ck-icon_inherit-color")],viewBox:c.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const c=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=c.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:i,value:a}of Array.from(c.attributes))s5.presentationalAttributeNames.includes(i)&&this.element.setAttribute(i,a);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;c.childNodes.length>0;)this.element.appendChild(c.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(c=>{c.style.fill=this.fillColor})}};let Qc=s5;Qc.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class CF extends Nt{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var a5=s(9715),xF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(a5.A,xF),a5.A.locals;class Wn extends Nt{constructor(e,i=new CF){super(e),this._focusDelayed=null;const a=this.bindTemplate,u=P();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${u}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(i),this.iconView=new Qc,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const f={tag:"button",attributes:{class:["ck","ck-button",a.to("class"),a.if("isEnabled","ck-disabled",m=>!m),a.if("isVisible","ck-hidden",m=>!m),a.to("isOn",m=>m?"ck-on":"ck-off"),a.if("withText","ck-button_with-text"),a.if("withKeystroke","ck-button_with-keystroke")],role:a.to("role"),type:a.to("type",m=>m||"button"),tabindex:a.to("tabindex"),"aria-checked":a.to("ariaChecked"),"aria-label":a.to("ariaLabel"),"aria-labelledby":a.to("ariaLabelledBy"),"aria-disabled":a.if("isEnabled",!0,m=>!m),"aria-pressed":a.to("isOn",m=>!!this.isToggleable&&String(!!m)),"data-cke-tooltip-text":a.to("_tooltipString"),"data-cke-tooltip-position":a.to("tooltipPosition")},children:this.children,on:{click:a.to(m=>{this.isEnabled?this.fire("execute"):m.preventDefault()})}};b.isSafari&&(this._focusDelayed||(this._focusDelayed=hm(()=>this.focus(),0)),f.on.mousedown=a.to(()=>{this._focusDelayed()}),f.on.mouseup=a.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(f)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new Nt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",i=>kf(i))}]}),e}_getTooltipString(e,i,a){return e?typeof e=="string"?e:(a&&(a=kf(a)),e instanceof Function?e(i,a):`${i}${a?` (${a})`:""}`):""}}var l5=s(4391),SF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(l5.A,SF),l5.A.locals;class s0 extends Wn{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Nt;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class c5 extends Wn{constructor(e){super(e),this.buttonView=this,this._fileInputView=new EF(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",()=>{this._fileInputView.open()}),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class EF extends Nt{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:i.to("acceptedType"),multiple:i.to("allowMultipleFiles")},on:{change:i.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const a0='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var u5=s(25),DF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(u5.A,DF),u5.A.locals;class IF extends Nt{constructor(e,i){super(e);const a=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),i&&this.children.addMany(i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",a.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:a.if("isCollapsed","hidden"),"aria-labelledby":a.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new Wn(this.locale),i=e.bindTemplate;return e.set({withText:!0,icon:a0}),e.extendTemplate({attributes:{"aria-expanded":i.to("isOn",a=>String(a))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",a=>!a),e.on("execute",()=>{this.isCollapsed=!this.isCollapsed}),e}}var d5=s(7317),TF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(d5.A,TF),d5.A.locals,s(6931),s(9047);var h5=s(4962),NF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(h5.A,NF),h5.A.locals;class l0 extends Nt{constructor(e,i){super(e);const a=`ck-labeled-field-view-${P()}`,u=`ck-labeled-field-view-status-${P()}`;this.fieldView=i(this,a,u),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(a),this.statusView=this._createStatusView(u),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(m,w)=>m||w);const f=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",f.to("class"),f.if("isEnabled","ck-disabled",m=>!m),f.if("isEmpty","ck-labeled-field-view_empty"),f.if("isFocused","ck-labeled-field-view_focused"),f.if("placeholder","ck-labeled-field-view_placeholder"),f.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const i=new o0(this.locale);return i.for=e,i.bind("text").to(this,"label"),i}_createStatusView(e){const i=new Nt(this.locale),a=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",a.if("errorText","ck-labeled-field-view__status_error"),a.if("_statusText","ck-hidden",u=>!u)],id:e,role:a.if("errorText","alert")},children:[{text:a.to("_statusText")}]}),i}focus(e){this.fieldView.focus(e)}}class MF extends Nt{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Ri,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",i.if("isFocused","ck-input_focused"),i.if("isEmpty","ck-input-text_empty"),i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),tabindex:i.to("tabIndex"),readonly:i.to("isReadOnly"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById"),"aria-label":i.to("ariaLabel")},on:{input:i.to((...a)=>{this.fire("input",...a),this._updateIsEmpty()}),change:i.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,i,a)=>{this._setDomElementValue(a),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}var f5=s(253),PF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(f5.A,PF),f5.A.locals;class OF extends MF{constructor(e){super(e),this.set("inputMode","text");const i=this.bindTemplate;this.extendTemplate({attributes:{inputmode:i.to("inputMode")}})}}class jF extends OF{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var p5=s(1671),LF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(p5.A,LF),p5.A.locals;class BF extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",a=>`ck-dropdown__panel_${a}`),i.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:i.to(a=>{a.target.tagName.toLocaleLowerCase()!=="input"&&a.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():L("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var m5=s(8149),RF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(m5.A,RF),m5.A.locals;const ky=class extends Nt{constructor(c,e,i){super(c);const a=this.bindTemplate;this.buttonView=e,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new po,this.focusTracker=new Ri,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",a.to("class"),a.if("isEnabled","ck-disabled",u=>!u)],id:a.to("id"),"aria-describedby":a.to("ariaDescribedById")},children:[e,i]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":a.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.on("change:isOpen",(e,i,a)=>{if(a)if(this.panelPosition==="auto"){const u=ky._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=u?u.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element);const c=(e,i)=>{this.isOpen&&(this.isOpen=!1,i())};this.keystrokes.set("arrowdown",(e,i)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,i())}),this.keystrokes.set("arrowright",(e,i)=>{this.isOpen&&i()}),this.keystrokes.set("arrowleft",c),this.keystrokes.set("esc",c)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:c,north:e,southEast:i,southWest:a,northEast:u,northWest:f,southMiddleEast:m,southMiddleWest:w,northMiddleEast:_,northMiddleWest:E}=ky.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[i,a,m,w,c,u,f,_,E,e]:[a,i,w,m,c,f,u,E,_,e]}};let wy=ky;wy.defaultPanelPositions={south:(c,e)=>({top:c.bottom,left:c.left-(e.width-c.width)/2,name:"s"}),southEast:c=>({top:c.bottom,left:c.left,name:"se"}),southWest:(c,e)=>({top:c.bottom,left:c.left-e.width+c.width,name:"sw"}),southMiddleEast:(c,e)=>({top:c.bottom,left:c.left-(e.width-c.width)/4,name:"sme"}),southMiddleWest:(c,e)=>({top:c.bottom,left:c.left-3*(e.width-c.width)/4,name:"smw"}),north:(c,e)=>({top:c.top-e.height,left:c.left-(e.width-c.width)/2,name:"n"}),northEast:(c,e)=>({top:c.top-e.height,left:c.left,name:"ne"}),northWest:(c,e)=>({top:c.top-e.height,left:c.left-e.width+c.width,name:"nw"}),northMiddleEast:(c,e)=>({top:c.top-e.height,left:c.left-(e.width-c.width)/4,name:"nme"}),northMiddleWest:(c,e)=>({top:c.top-e.height,left:c.left-3*(e.width-c.width)/4,name:"nmw"})},wy._getOptimalPosition=$d;class FF extends Wn{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Qc;return e.content=a0,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class Ta extends oe(){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const i in e.actions){let a=e.actions[i];typeof a=="string"&&(a=[a]);for(const u of a)e.keystrokeHandler.set(u,(f,m)=>{this[i](),m()})}this.on("forwardCycle",()=>this.focusFirst(),{priority:"low"}),this.on("backwardCycle",()=>this.focusLast(),{priority:"low"})}get first(){return this.focusables.find(yy)||null}get last(){return this.focusables.filter(yy).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((i,a)=>{const u=i.element===this.focusTracker.focusedElement;return u&&(e=a),u}),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}_focus(e,i){e&&this.focusTracker.focusedElement!==e.element&&e.focus(i)}_getDomFocusableItem(e){const i=this.focusables.length;if(!i)return null;const a=this.current;if(a===null)return this[e===1?"first":"last"];let u=this.focusables.get(a),f=(a+i+e)%i;do{const m=this.focusables.get(f);if(yy(m)){u=m;break}f=(f+i+e)%i}while(f!==a);return u}}function yy(c){return Om(c)&&Aa(c.element)}function Om(c){return!(!("focus"in c)||typeof c.focus!="function")}class g5 extends Nt{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class zF extends Nt{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var UF=Object.defineProperty,b5=Object.getOwnPropertySymbols,qF=Object.prototype.hasOwnProperty,VF=Object.prototype.propertyIsEnumerable,k5=(c,e,i)=>e in c?UF(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,w5=(c,e)=>{for(var i in e||(e={}))qF.call(e,i)&&k5(c,i,e[i]);if(b5)for(var i of b5(e))VF.call(e,i)&&k5(c,i,e[i]);return c};function y5(c){if(Array.isArray(c))return{items:c,removeItems:[]};const e={items:[],removeItems:[]};return c?w5(w5({},e),c):e}var v5=s(9677),$F={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(v5.A,$F),v5.A.locals;const HF={alignLeft:fn.alignLeft,bold:fn.bold,importExport:fn.importExport,paragraph:fn.paragraph,plus:fn.plus,text:fn.text,threeVerticalDots:fn.threeVerticalDots,pilcrow:fn.pilcrow,dragIndicator:fn.dragIndicator};class vy extends Nt{constructor(e,i){super(e);const a=this.bindTemplate,u=this.t;this.options=i||{},this.set("ariaLabel",u("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Ri,this.keystrokes=new po,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new WF(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const f=e.uiLanguageDirection==="rtl";this._focusCycler=new Ta({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[f?"arrowright":"arrowleft","arrowup"],focusNext:[f?"arrowleft":"arrowright","arrowdown"]}});const m=["ck","ck-toolbar",a.to("class"),a.if("isCompact","ck-toolbar_compact")];var w;this.options.shouldGroupWhenFull&&this.options.isFloating&&m.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:m,role:"toolbar","aria-label":a.to("ariaLabel"),style:{maxWidth:a.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(w=this,w.bindTemplate.to(_=>{_.target===w.element&&_.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new YF(this):new GF(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(e,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,i,a){this.items.addMany(this._buildItemsFromConfig(e,i,a))}_buildItemsFromConfig(e,i,a){const u=y5(e),f=a||u.removeItems;return this._cleanItemsConfiguration(u.items,i,f).map(m=>ae(m)?this._createNestedToolbarDropdown(m,i,f):m==="|"?new g5:m==="-"?new zF:i.create(m)).filter(m=>!!m)}_cleanItemsConfiguration(e,i,a){const u=e.filter((f,m,w)=>f==="|"||a.indexOf(f)===-1&&(f==="-"?!this.options.shouldGroupWhenFull||(L("toolbarview-line-break-ignored-when-grouping-items",w),!1):!(!ae(f)&&!i.has(f))||(L("toolbarview-item-unavailable",{item:f}),!1)));return this._cleanSeparatorsAndLineBreaks(u)}_cleanSeparatorsAndLineBreaks(e){const i=m=>m!=="-"&&m!=="|",a=e.length,u=e.findIndex(i);if(u===-1)return[];const f=a-e.slice().reverse().findIndex(i);return e.slice(u,f).filter((m,w,_)=>i(m)?!0:!(w>0&&_[w-1]===m))}_createNestedToolbarDropdown(e,i,a){let{label:u,icon:f,items:m,tooltip:w=!0,withText:_=!1}=e;if(m=this._cleanItemsConfiguration(m,i,a),!m.length)return null;const E=Jc(this.locale);return u||L("toolbarview-nested-toolbar-dropdown-missing-label",e),E.class="ck-toolbar__nested-toolbar-dropdown",E.buttonView.set({label:u,tooltip:w,withText:!!_}),f!==!1?E.buttonView.icon=HF[f]||f||fn.threeVerticalDots:E.buttonView.withText=!0,Cy(E,()=>E.toolbarView._buildItemsFromConfig(m,i,a)),E}}class WF extends Nt{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class GF{constructor(e){const i=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(a=>a),e.focusables.bindTo(e.items).using(a=>Om(a)?a:null),e.extendTemplate({attributes:{class:[i.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class YF{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(i=>i),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",(i,a)=>{const u=a.index,f=Array.from(a.added);for(const m of a.removed)u>=this.ungroupedItems.length?this.groupedItems.remove(m):this.ungroupedItems.remove(m);for(let m=u;m<u+f.length;m++){const w=f[m-u];m>this.ungroupedItems.length?this.groupedItems.add(w,m-this.ungroupedItems.length):this.ungroupedItems.add(w,m)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Aa(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let i;for(;this._areItemsOverflowing;)this._groupLastItem(),i=!0;if(!i&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,i=this.viewLocale.uiLanguageDirection,a=new Ut(e.lastChild),u=new Ut(e);if(!this.cachedPadding){const f=h.window.getComputedStyle(e),m=i==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(f[m])}return i==="ltr"?a.right>u.right-this.cachedPadding:a.left<u.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new va(this.viewElement,i=>{e&&e===i.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=i.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new g5),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,i=e.t,a=Jc(e);return a.class="ck-toolbar__grouped-dropdown",a.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",Cy(a,this.groupedItems),a.buttonView.set({label:i("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:fn.threeVerticalDots}),a}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{Om(e)&&this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class Pf extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",i.if("isVisible","ck-hidden",a=>!a)],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Ay extends Nt{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class c0 extends Nt{constructor(e,i=new o0){super(e);const a=this.bindTemplate,u=new _y(e);this.set({label:"",isVisible:!0}),this.labelView=i,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,u]),u.set({role:"group",ariaLabelledBy:i.id}),u.focusTracker.destroy(),u.keystrokes.destroy(),this.items=u.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",a.if("isVisible","ck-hidden",f=>!f)]},children:this.children})}focus(){if(this.items){const e=this.items.find(i=>!(i instanceof Ay));e&&e.focus()}}}var A5=s(5199),KF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(A5.A,KF),A5.A.locals;class _y extends Nt{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const i=this.bindTemplate;this.focusables=new es,this.items=this.createCollection(),this.focusTracker=new Ri,this.keystrokes=new po,this._focusCycler=new Ta({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:i.to("role"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof c0?this._registerFocusableItemsGroup(e):e instanceof Pf&&this._registerFocusableListItem(e);this.items.on("change",(e,i)=>{for(const a of i.removed)a instanceof c0?this._deregisterFocusableItemsGroup(a):a instanceof Pf&&this._deregisterFocusableListItem(a);for(const a of Array.from(i.added).reverse())a instanceof c0?this._registerFocusableItemsGroup(a,i.index):this._registerFocusableListItem(a,i.index)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,i){this.focusTracker.add(e.element),this.focusables.add(e,i)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(i,a)=>{for(const u of a.removed)this._deregisterFocusableListItem(u);for(const u of Array.from(a.added).reverse())this._registerFocusableListItem(u,this.items.getIndex(e)+a.index)}}_registerFocusableItemsGroup(e,i){Array.from(e.items).forEach((u,f)=>{const m=i!==void 0?i+f:void 0;this._registerFocusableListItem(u,m)});const a=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,a),e.items.on("change",a)}_deregisterFocusableItemsGroup(e){for(const i of e.items)this._deregisterFocusableListItem(i);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}var _5=s(1792),QF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(_5.A,QF),_5.A.locals;class u0 extends Nt{constructor(e,i){super(e);const a=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(i),this.arrowView=this._createArrowView(),this.keystrokes=new po,this.focusTracker=new Ri,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",a.to("class"),a.if("isVisible","ck-hidden",u=>!u),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,i)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),i())}),this.keystrokes.set("arrowleft",(e,i)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),i())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const i=e||new Wn;return e||i.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),i.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),i.delegate("execute").to(this),i}_createArrowView(){const e=new Wn,i=e.bindTemplate;return e.icon=a0,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":i.to("isOn"),"aria-haspopup":!0,"aria-expanded":i.to("isOn",a=>String(a))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var C5=s(1666),JF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(C5.A,JF),C5.A.locals;var x5=s(3629),ZF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(x5.A,ZF),x5.A.locals;function Jc(c,e=FF){const i=typeof e=="function"?new e(c):e,a=new BF(c),u=new wy(c,i,a);return i.bind("isEnabled").to(u),i instanceof u0?i.arrowView.bind("isOn").to(u,"isOpen"):i.bind("isOn").to(u,"isOpen"),function(f){(function(m){m.on("render",()=>{zn({emitter:m,activator:()=>m.isOpen,callback:()=>{m.isOpen=!1},contextElements:()=>[m.element,...m.focusTracker._elements]})})})(f),function(m){m.on("execute",w=>{w.source instanceof s0||(m.isOpen=!1)})}(f),function(m){m.focusTracker.on("change:isFocused",(w,_,E)=>{m.isOpen&&!E&&(m.isOpen=!1)})}(f),function(m){m.keystrokes.set("arrowdown",(w,_)=>{m.isOpen&&(m.panelView.focus(),_())}),m.keystrokes.set("arrowup",(w,_)=>{m.isOpen&&(m.panelView.focusLast(),_())})}(f),function(m){m.on("change:isOpen",(w,_,E)=>{if(E)return;const T=m.panelView.element;T&&T.contains(h.document.activeElement)&&m.buttonView.focus()})}(f),function(m){m.on("change:isOpen",(w,_,E)=>{E&&m.panelView.focus()},{priority:"low"})}(f)}(u),u}function Cy(c,e,i={}){c.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),c.isOpen?S5(c,e,i):c.once("change:isOpen",()=>S5(c,e,i),{priority:"highest"}),i.enableActiveItemFocusOnDropdownOpen&&I5(c,()=>c.toolbarView.items.find(a=>a.isOn))}function S5(c,e,i){const a=c.locale,u=a.t,f=c.toolbarView=new vy(a),m=typeof e=="function"?e():e;f.ariaLabel=i.ariaLabel||u("Dropdown toolbar"),i.maxWidth&&(f.maxWidth=i.maxWidth),i.class&&(f.class=i.class),i.isCompact&&(f.isCompact=i.isCompact),i.isVertical&&(f.isVertical=!0),m instanceof es?f.items.bindTo(m).using(w=>w):f.items.addMany(m),c.panelView.children.add(f),f.items.delegate("execute").to(c)}function E5(c,e,i={}){c.isOpen?D5(c,e,i):c.once("change:isOpen",()=>D5(c,e,i),{priority:"highest"}),I5(c,()=>c.listView.items.find(a=>a instanceof Pf&&a.children.first.isOn))}function D5(c,e,i){const a=c.locale,u=c.listView=new _y(a),f=typeof e=="function"?e():e;u.ariaLabel=i.ariaLabel,u.role=i.role,T5(c,u.items,f,a),c.panelView.children.add(u),u.items.delegate("execute").to(c)}function I5(c,e){c.on("change:isOpen",()=>{if(!c.isOpen)return;const i=e();i&&(typeof i.focus=="function"?i.focus():L("ui-dropdown-focus-child-on-open-child-missing-focus",{view:i}))},{priority:B.low-10})}function T5(c,e,i,a){e.bindTo(i).using(u=>{if(u.type==="separator")return new Ay(a);if(u.type==="group"){const f=new c0(a);return f.set({label:u.label}),T5(c,f.items,u.items,a),f.items.delegate("execute").to(c),f}if(u.type==="button"||u.type==="switchbutton"){const f=new Pf(a);let m;return u.type==="button"?(m=new Wn(a),m.bind("ariaChecked").to(m,"isOn")):m=new s0(a),m.bind(...Object.keys(u.model)).to(u.model),m.delegate("execute").to(f),f.children.add(m),f}return null})}const d0=(c,e,i)=>{const a=new jF(c.locale);return a.set({id:e,ariaDescribedById:i}),a.bind("isReadOnly").to(c,"isEnabled",u=>!u),a.bind("hasError").to(c,"errorText",u=>!!u),a.on("input",()=>{c.errorText=null}),c.bind("isEmpty","isFocused","placeholder").to(a),a};var N5=s(1905),XF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(N5.A,XF),N5.A.locals;var M5=s(6309),e9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(M5.A,e9),M5.A.locals;class t9{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,i){this._components.set(xy(e),{callback:i,originalName:e})}create(e){if(!this.has(e))throw new N("componentfactory-item-missing",this,{name:e});return this._components.get(xy(e)).callback(this.editor.locale)}has(e){return this._components.has(xy(e))}}function xy(c){return String(c).toLowerCase()}var P5=s(7913),n9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(P5.A,n9),P5.A.locals;class r9 extends Nt{constructor(e,i={}){super(e);const a=this.bindTemplate;this.set("label",i.label||""),this.set("class",i.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",a.to("class")]},children:this.children}),i.icon&&(this.iconView=new Qc,this.iconView.content=i.icon,this.children.add(this.iconView));const u=new Nt(e);u.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:a.to("label")}]}),this.children.add(u)}}var O5=s(9822),i9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(O5.A,i9),O5.A.locals;class o9 extends Nt{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new po,this._focusTracker=new Ri,this._focusables=new es,this.focusCycler=new Ta({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const i of e){const a=new Wn(this.locale);let u;for(u in a.on("execute",()=>i.onExecute()),i.onCreate&&i.onCreate(a),i)u!="onExecute"&&u!="onCreate"&&a.set(u,i[u]);this.children.add(a)}this._updateFocusCyclableItems()}focus(e){e===-1?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach(e=>{this._focusables.add(e),this._focusTracker.add(e.element)})}}class s9 extends Nt{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var j5=s(9819),a9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(j5.A,a9),j5.A.locals;const h0="screen-center",L5="editor-center",l9="editor-top-side",c9="editor-top-center",u9="editor-bottom-center",d9="editor-above-center",h9="editor-below-center",B5=Bl("px"),R5=class extends function(c){return class extends c{constructor(...e){super(...e),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",()=>{this._attachListeners()}),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(h.document,"mouseup",this._onDragEndBound),this.listenTo(h.document,"touchend",this._onDragEndBound),this.listenTo(h.document,"mousemove",this._onDragBound),this.listenTo(h.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(h.document,"mouseup",this._onDragEndBound),this.stopListening(h.document,"touchend",this._onDragEndBound),this.stopListening(h.document,"mousemove",this._onDragBound),this.stopListening(h.document,"touchmove",this._onDragBound)}_onDragStart(e,i){if(!this._isHandleElementPressed(i))return;this._attachDragListeners();let a=0,u=0;i instanceof MouseEvent?(a=i.clientX,u=i.clientY):(a=i.touches[0].clientX,u=i.touches[0].clientY),this._lastDraggingCoordinates={x:a,y:u},this.isDragging=!0}_onDrag(e,i){if(!this.isDragging)return void this._detachDragListeners();let a=0,u=0;i instanceof MouseEvent?(a=i.clientX,u=i.clientY):(a=i.touches[0].clientX,u=i.touches[0].clientY),i.preventDefault(),this.fire("drag",{deltaX:Math.round(a-this._lastDraggingCoordinates.x),deltaY:Math.round(u-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:a,y:u}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(e){return!!this.dragHandleElement&&(this.dragHandleElement===e.target||e.target instanceof HTMLElement&&this.dragHandleElement.contains(e.target))}}}(Nt){constructor(c,{getCurrentDomRoot:e,getViewportOffset:i}){super(c),this.wasMoved=!1;const a=this.bindTemplate,u=c.t;this.set("className",""),this.set("ariaLabel",u("Editor dialog")),this.set("isModal",!1),this.set("position",h0),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=e,this._getViewportOffset=i,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new po,this.focusTracker=new Ri,this._focusables=new es,this._focusCycler=new Ta({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",a.if("isModal","ck-dialog-overlay__transparent",f=>!f),a.if("_isVisible","ck-hidden",f=>!f)],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",a.to("className")],role:"dialog","aria-label":a.to("ariaLabel"),style:{top:a.to("_top",f=>B5(f)),left:a.to("_left",f=>B5(f)),visibility:a.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",(c,e)=>{this.fire("close",{source:"escKeyPress"}),e()}),this.on("drag",(c,{deltaX:e,deltaY:i})=>{this.wasMoved=!0,this.moveBy(e,i)}),this.listenTo(h.window,"resize",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.listenTo(h.document,"scroll",()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()}),this.on("change:_isVisible",(c,e,i)=>{i&&(this._isTransparent=!0,setTimeout(()=>{this.updatePosition(),this._isTransparent=!1,this.focus()},10))}),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts({icon:c,title:e,hasCloseButton:i=!0,content:a,actionButtons:u}){e&&(this.headerView=new r9(this.locale,{icon:c}),i&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=e,this.ariaLabel=e,this.parts.add(this.headerView,0)),a&&(a instanceof Nt&&(a=[a]),this.contentView=new s9(this.locale),this.contentView.children.addMany(a),this.parts.add(this.contentView)),u&&(this.actionsView=new o9(this.locale),this.actionsView.setButtons(u),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(c,e){const i=this._getViewportRect(),a=this._getDialogRect();c+a.width>i.right&&(c=i.right-a.width),c<i.left&&(c=i.left),e<i.top&&(e=i.top),this._moveTo(c,e)}_moveTo(c,e){this._left=c,this._top=e}moveBy(c,e){this.moveTo(this._left+c,this._top+e)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const c=this._getViewportRect();let e,i=this.position;this._getCurrentDomRoot()?e=this._getVisibleDomRootRect(c):i=h0;const a=R5.defaultOffset,u=this._getDialogRect();switch(i){case l9:if(e){const f=this.locale.contentLanguageDirection==="ltr"?e.right-u.width-a:e.left+a;this.moveTo(f,e.top+a)}else this._moveOffScreen();break;case L5:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),Math.round(e.top+e.height/2-u.height/2)):this._moveOffScreen();break;case h0:this.moveTo(Math.round((c.width-u.width)/2),Math.round((c.height-u.height)/2));break;case c9:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),e.top+a):this._moveOffScreen();break;case u9:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),e.bottom-u.height-a):this._moveOffScreen();break;case d9:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),e.top-u.height-a):this._moveOffScreen();break;case h9:e?this.moveTo(Math.round(e.left+e.width/2-u.width/2),e.bottom+a):this._moveOffScreen()}}_getVisibleDomRootRect(c){let e=new Ut(this._getCurrentDomRoot()).getVisible();return e?(e=c.getIntersection(e),e||null):null}_getDialogRect(){return new Ut(this.element.firstElementChild)}_getViewportRect(){return function(c){c=Object.assign({top:0,bottom:0,left:0,right:0},c);const e=new Ut(h.window);return e.top+=c.top,e.height-=c.top,e.bottom-=c.bottom,e.height-=c.bottom,e.left+=c.left,e.right-=c.right,e.width-=c.left+c.right,e}(this._getViewportOffset())}_updateFocusCyclableItems(){const c=[];if(this.contentView)for(const e of this.contentView.children)Om(e)&&c.push(e);this.actionsView&&c.push(this.actionsView),this.closeButtonView&&c.push(this.closeButtonView),c.forEach(e=>{var i;this._focusables.add(e),this.focusTracker.add(e.element),Om(i=e)&&"focusCycler"in i&&i.focusCycler instanceof Ta&&(this.listenTo(e.focusCycler,"forwardCycle",a=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&a.stop()}),this.listenTo(e.focusCycler,"backwardCycle",a=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&a.stop()}))})}_createCloseButton(){const c=new Wn(this.locale),e=this.locale.t;return c.set({label:e("Close"),tooltip:!0,icon:fn.cancel}),c.on("execute",()=>this.fire("close",{source:"closeButton"})),c}};let f0=R5;f0.defaultOffset=15;class Zc extends ct{constructor(e){super(e);const i=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:i("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",(e,i)=>{this._show(i)}),this.on("show",(e,i)=>{i.onShow&&i.onShow(this)},{priority:"low"}),this.on("hide",()=>{Zc._visibleDialogPlugin&&Zc._visibleDialogPlugin._hide()}),this.on("hide",()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)},{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",(i,a)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),a())})}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",()=>{if(!this.view)return;const i=e.document.differ.getChangedRoots();for(const a of i)a.state&&this.view.updatePosition()})}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show({id:e,icon:i,title:a,hasCloseButton:u=!0,content:f,actionButtons:m,className:w,isModal:_,position:E,onHide:T}){const O=this.editor;this.view=new f0(O.locale,{getCurrentDomRoot:()=>O.editing.view.getDomRoot(O.model.document.selection.anchor.root.rootName),getViewportOffset:()=>O.ui.viewportOffset});const V=this.view;V.on("close",()=>{this.hide()}),O.ui.view.body.add(V),O.ui.focusTracker.add(V.element),O.keystrokes.listenTo(V.element),E||(E=_?h0:L5),V.set({position:E,_isVisible:!0,className:w,isModal:_}),V.setupParts({icon:i,title:a,hasCloseButton:u,content:f,actionButtons:m}),this.id=e,T&&(this._onHide=T),this.isOpen=!0,Zc._visibleDialogPlugin=this}hide(){Zc._visibleDialogPlugin&&Zc._visibleDialogPlugin.fire(`hide:${Zc._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,i=this.view;i.contentView&&i.contentView.reset(),e.ui.view.body.remove(i),e.ui.focusTracker.remove(i.element),e.keystrokes.stopListening(i.element),i.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,Zc._visibleDialogPlugin=null}}var F5=s(3710),f9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(F5.A,f9),F5.A.locals;var p9=Object.defineProperty,z5=Object.getOwnPropertySymbols,m9=Object.prototype.hasOwnProperty,g9=Object.prototype.propertyIsEnumerable,U5=(c,e,i)=>e in c?p9(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,Gn=(c,e)=>{for(var i in e||(e={}))m9.call(e,i)&&U5(c,i,e[i]);if(z5)for(var i of z5(e))g9.call(e,i)&&U5(c,i,e[i]);return c};const q5=Bl("px"),V5=h.document.body,b9={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},Sy=class extends Nt{constructor(c){super(c);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",i=>`ck-balloon-panel_${i}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",q5),left:e.to("left",q5)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(c){this.show();const e=Sy.defaultPositions,i=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:V5,fitInViewport:!0},c),a=Sy._getOptimalPosition(i)||b9,u=parseInt(a.left),f=parseInt(a.top),m=a.name,w=a.config||{},{withArrow:_=!0}=w;this.top=f,this.left=u,this.position=m,this.withArrow=_}pin(c){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(c):this._stopPinning()},this._startPinning(c),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(c){this.attachTo(c);const e=Ey(c.target),i=c.limiter?Ey(c.limiter):V5;this.listenTo(h.document,"scroll",(a,u)=>{const f=u.target,m=e&&f.contains(e),w=i&&f.contains(i);!m&&!w&&e&&i||this.attachTo(c)},{useCapture:!0}),this.listenTo(h.window,"resize",()=>{this.attachTo(c)})}_stopPinning(){this.stopListening(h.document,"scroll"),this.stopListening(h.window,"resize")}};let ks=Sy;function Ey(c){return Jr(c)?c:Ll(c)?c.commonAncestorContainer:typeof c=="function"?Ey(c()):null}function $5(c={}){const{sideOffset:e=ks.arrowSideOffset,heightOffset:i=ks.arrowHeightOffset,stickyVerticalOffset:a=ks.stickyVerticalOffset,config:u}=c;return{northWestArrowSouthWest:(w,_)=>Gn({top:f(w,_),left:w.left-e,name:"arrow_sw"},u&&{config:u}),northWestArrowSouthMiddleWest:(w,_)=>Gn({top:f(w,_),left:w.left-.25*_.width-e,name:"arrow_smw"},u&&{config:u}),northWestArrowSouth:(w,_)=>Gn({top:f(w,_),left:w.left-_.width/2,name:"arrow_s"},u&&{config:u}),northWestArrowSouthMiddleEast:(w,_)=>Gn({top:f(w,_),left:w.left-.75*_.width+e,name:"arrow_sme"},u&&{config:u}),northWestArrowSouthEast:(w,_)=>Gn({top:f(w,_),left:w.left-_.width+e,name:"arrow_se"},u&&{config:u}),northArrowSouthWest:(w,_)=>Gn({top:f(w,_),left:w.left+w.width/2-e,name:"arrow_sw"},u&&{config:u}),northArrowSouthMiddleWest:(w,_)=>Gn({top:f(w,_),left:w.left+w.width/2-.25*_.width-e,name:"arrow_smw"},u&&{config:u}),northArrowSouth:(w,_)=>Gn({top:f(w,_),left:w.left+w.width/2-_.width/2,name:"arrow_s"},u&&{config:u}),northArrowSouthMiddleEast:(w,_)=>Gn({top:f(w,_),left:w.left+w.width/2-.75*_.width+e,name:"arrow_sme"},u&&{config:u}),northArrowSouthEast:(w,_)=>Gn({top:f(w,_),left:w.left+w.width/2-_.width+e,name:"arrow_se"},u&&{config:u}),northEastArrowSouthWest:(w,_)=>Gn({top:f(w,_),left:w.right-e,name:"arrow_sw"},u&&{config:u}),northEastArrowSouthMiddleWest:(w,_)=>Gn({top:f(w,_),left:w.right-.25*_.width-e,name:"arrow_smw"},u&&{config:u}),northEastArrowSouth:(w,_)=>Gn({top:f(w,_),left:w.right-_.width/2,name:"arrow_s"},u&&{config:u}),northEastArrowSouthMiddleEast:(w,_)=>Gn({top:f(w,_),left:w.right-.75*_.width+e,name:"arrow_sme"},u&&{config:u}),northEastArrowSouthEast:(w,_)=>Gn({top:f(w,_),left:w.right-_.width+e,name:"arrow_se"},u&&{config:u}),southWestArrowNorthWest:w=>Gn({top:m(w),left:w.left-e,name:"arrow_nw"},u&&{config:u}),southWestArrowNorthMiddleWest:(w,_)=>Gn({top:m(w),left:w.left-.25*_.width-e,name:"arrow_nmw"},u&&{config:u}),southWestArrowNorth:(w,_)=>Gn({top:m(w),left:w.left-_.width/2,name:"arrow_n"},u&&{config:u}),southWestArrowNorthMiddleEast:(w,_)=>Gn({top:m(w),left:w.left-.75*_.width+e,name:"arrow_nme"},u&&{config:u}),southWestArrowNorthEast:(w,_)=>Gn({top:m(w),left:w.left-_.width+e,name:"arrow_ne"},u&&{config:u}),southArrowNorthWest:w=>Gn({top:m(w),left:w.left+w.width/2-e,name:"arrow_nw"},u&&{config:u}),southArrowNorthMiddleWest:(w,_)=>Gn({top:m(w),left:w.left+w.width/2-.25*_.width-e,name:"arrow_nmw"},u&&{config:u}),southArrowNorth:(w,_)=>Gn({top:m(w),left:w.left+w.width/2-_.width/2,name:"arrow_n"},u&&{config:u}),southArrowNorthMiddleEast:(w,_)=>Gn({top:m(w),left:w.left+w.width/2-.75*_.width+e,name:"arrow_nme"},u&&{config:u}),southArrowNorthEast:(w,_)=>Gn({top:m(w),left:w.left+w.width/2-_.width+e,name:"arrow_ne"},u&&{config:u}),southEastArrowNorthWest:w=>Gn({top:m(w),left:w.right-e,name:"arrow_nw"},u&&{config:u}),southEastArrowNorthMiddleWest:(w,_)=>Gn({top:m(w),left:w.right-.25*_.width-e,name:"arrow_nmw"},u&&{config:u}),southEastArrowNorth:(w,_)=>Gn({top:m(w),left:w.right-_.width/2,name:"arrow_n"},u&&{config:u}),southEastArrowNorthMiddleEast:(w,_)=>Gn({top:m(w),left:w.right-.75*_.width+e,name:"arrow_nme"},u&&{config:u}),southEastArrowNorthEast:(w,_)=>Gn({top:m(w),left:w.right-_.width+e,name:"arrow_ne"},u&&{config:u}),westArrowEast:(w,_)=>Gn({top:w.top+w.height/2-_.height/2,left:w.left-_.width-i,name:"arrow_e"},u&&{config:u}),eastArrowWest:(w,_)=>Gn({top:w.top+w.height/2-_.height/2,left:w.right+i,name:"arrow_w"},u&&{config:u}),viewportStickyNorth:(w,_,E,T)=>{const O=T||E;return w.getIntersection(O)?O.height-w.height>a?null:{top:O.top+a,left:w.left+w.width/2-_.width/2,name:"arrowless",config:Gn({withArrow:!1},u)}:null}};function f(w,_){return w.top-_.height-i}function m(w){return w.bottom+i}}ks.arrowSideOffset=25,ks.arrowHeightOffset=10,ks.stickyVerticalOffset=20,ks._getOptimalPosition=$d,ks.defaultPositions=$5();var H5=s(9205),k9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(H5.A,k9),H5.A.locals;const W5="ck-tooltip",ws=class extends _i(){constructor(c){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,ws._editors.add(c),ws._instance)return ws._instance;ws._instance=this,this.tooltipTextView=new Nt(c.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new ks(c.locale),this.balloonPanelView.class=W5,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(e){const i=new MutationObserver(()=>{e()});return{attach(a){i.observe(a,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){i.disconnect()}}}(()=>{this._updateTooltipPosition()}),this._pinTooltipDebounced=If(this._pinTooltip,600),this._unpinTooltipDebounced=If(this._unpinTooltip,400),this.listenTo(h.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(h.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(h.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(h.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(h.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(h.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(c){const e=c.ui.view&&c.ui.view.body;ws._editors.delete(c),this.stopListening(c.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),ws._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),ws._instance=null)}static getPositioningFunctions(c){const e=ws.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[c]}_onKeyDown(c,e){e.key==="Escape"&&this._currentElementWithTooltip&&(this._unpinTooltip(),e.stopPropagation())}_onEnterOrFocus(c,{target:e}){const i=Dy(e);i?i!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(i,G5(i))):c.name==="focus"&&this._unpinTooltip()}_onLeaveOrBlur(c,{target:e,relatedTarget:i}){if(c.name==="mouseleave"){if(!Jr(e))return;const a=this.balloonPanelView.element,u=a&&(a===i||a.contains(i)),f=!u&&e===a;if(u)return void this._unpinTooltipDebounced.cancel();if(!f&&this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const m=Dy(e),w=Dy(i);(f||m&&m!==w)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(c,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(c,{text:e,position:i,cssClass:a}){this._unpinTooltip();const u=Bi(ws._editors.values()).ui.view.body;u.has(this.balloonPanelView)||u.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:c,positions:ws.getPositioningFunctions(i)}),this._resizeObserver=new va(c,()=>{Aa(c)||this._unpinTooltip()}),this._mutationObserver.attach(c),this.balloonPanelView.class=[W5,a].filter(f=>f).join(" ");for(const f of ws._editors)this.listenTo(f.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=c,this._currentTooltipPosition=i}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const c of ws._editors)this.stopListening(c.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const c=G5(this._currentElementWithTooltip);Aa(this._currentElementWithTooltip)&&c.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:ws.getPositioningFunctions(c.position)}):this._unpinTooltip()}};let p0=ws;function Dy(c){return Jr(c)?c.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function G5(c){return{text:c.dataset.ckeTooltipText,position:c.dataset.ckeTooltipPosition||"s",cssClass:c.dataset.ckeTooltipClass||""}}p0.defaultBalloonPositions=$5({heightOffset:5,sideOffset:13}),p0._editors=new Set,p0._instance=null;const m0=function(c,e,i){var a=!0,u=!0;if(typeof c!="function")throw new TypeError("Expected a function");return ae(i)&&(a="leading"in i?!!i.leading:a,u="trailing"in i?!!i.trailing:u),If(c,e,{leading:a,maxWait:e,trailing:u})};var w9=Object.defineProperty,Y5=Object.getOwnPropertySymbols,y9=Object.prototype.hasOwnProperty,v9=Object.prototype.propertyIsEnumerable,K5=(c,e,i)=>e in c?w9(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,A9=(c,e)=>{for(var i in e||(e={}))y9.call(e,i)&&K5(c,i,e[i]);if(Y5)for(var i of Y5(e))v9.call(e,i)&&K5(c,i,e[i]);return c};const _9=50,C9=350,x9="Powered by";class S9 extends _i(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=m0(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(i){function a(K){return K.length>=40&&K.length<=255?"VALID":"INVALID"}if(!i)return"INVALID";let u="";try{u=atob(i)}catch{return"INVALID"}const f=u.split("-"),m=f[0],w=f[1];if(!w)return a(i);try{atob(w)}catch{try{if(atob(m),!atob(m).length)return a(i)}catch{return a(i)}}if(m.length<40||m.length>255)return"INVALID";let _="";try{atob(m),_=atob(w)}catch{return"INVALID"}if(_.length!==8)return"INVALID";const E=Number(_.substring(0,4)),T=Number(_.substring(4,6))-1,O=Number(_.substring(6,8)),V=new Date(E,T,O);return V<G||isNaN(Number(V))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(i,a,u)=>{this._updateLastFocusedEditableElement(),u?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(i,a,u)=>{this._updateLastFocusedEditableElement(),u&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,i=this._balloonView=new ks,a=J5(e),u=new E9(e.locale,a.label);i.content.add(u),i.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(i),e.ui.focusTracker.add(i.element),this._balloonView=i}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(i,a){const u=J5(i),f=u.side==="right"?function(m,w){return Q5(m,w,(_,E)=>_.left+_.width-E.width-w.horizontalOffset)}(a,u):function(m,w){return Q5(m,w,_=>_.left+w.horizontalOffset)}(a,u);return{target:a,positions:[f]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,i=e.ui.focusTracker.isFocused,a=e.ui.focusTracker.focusedElement;if(!i||!a)return void(this._lastFocusedEditableElement=null);const u=Array.from(e.ui.getEditableElementsNames()).map(f=>e.ui.getEditableElement(f));u.includes(a)?this._lastFocusedEditableElement=a:this._lastFocusedEditableElement=u[0]}}class E9 extends Nt{constructor(e,i){super(e);const a=new Qc,u=this.bindTemplate;a.set({content:`<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>
`,isColorInherited:!1}),a.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...i?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[i]}]:[],a],on:{dragstart:u.to(f=>f.preventDefault())}}]})}}function Q5(c,e,i){return(a,u)=>{const f=new Ut(c);if(f.width<C9||f.height<_9)return null;let m;m=e.position==="inside"?f.bottom-u.height:f.bottom-u.height/2,m-=e.verticalOffset;const w=i(f,u),_=a.clone().moveTo(w,m).getIntersection(u.clone().moveTo(w,m)).getVisible();return!_||_.getArea()<u.getArea()?null:{top:m,left:w,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function J5(c){const e=c.config.get("ui.poweredBy"),i=e&&e.position||"border";return A9({position:i,label:x9,verticalOffset:i==="inside"?5:0,horizontalOffset:5,side:c.locale.contentLanguageDirection==="ltr"?"right":"left"},e)}var Z5=s(1801),D9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(Z5.A,D9),Z5.A.locals;const X5={POLITE:"polite",ASSERTIVE:"assertive"};class I9{constructor(e){this.editor=e,e.once("ready",()=>{for(const i of Object.values(X5))this.announce("",i)})}announce(e,i=X5.POLITE){const a=this.editor;if(!a.ui.view)return;this.view||(this.view=new T9(a.locale),a.ui.view.body.add(this.view));const{politeness:u,isUnsafeHTML:f}=typeof i=="string"?{politeness:i}:i;let m=this.view.regionViews.find(w=>w.politeness===u);m||(m=new N9(a,u),this.view.regionViews.add(m)),m.announce({announcement:e,isUnsafeHTML:f})}}class T9 extends Nt{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class N9 extends Nt{constructor(e,i){super(e.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":i,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",()=>{this._pruneAnnouncementsInterval!==null&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)}),this.politeness=i,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval(()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()},5e3)}announce({announcement:e,isUnsafeHTML:i}){if(!e.trim().length)return;const a=document.createElement("li");i?this._domConverter.setContentOf(a,e):a.innerText=e,this._listElement.appendChild(a)}get _listElement(){return this.element.querySelector("ul")}}var M9=Object.defineProperty,eS=Object.getOwnPropertySymbols,P9=Object.prototype.hasOwnProperty,O9=Object.prototype.propertyIsEnumerable,tS=(c,e,i)=>e in c?M9(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class j9 extends Ue(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const i=e.editing.view;this.editor=e,this.componentFactory=new t9(e),this.focusTracker=new Ri,this.tooltipManager=new p0(e),this.poweredBy=new S9(e),this.ariaLiveAnnouncer=new I9(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(i.document,"layoutChanged",this.update.bind(this)),this.listenTo(i,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,i){this._editableElementsMap.set(e,i),i.ckeditorInstance||(i.ckeditorInstance=this.editor),this.focusTracker.add(i);const a=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(i)};this.isReady?a():this.once("ready",a)}removeEditableElement(e){const i=this._editableElementsMap.get(e);i&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(i),this.focusTracker.remove(i),i.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,i={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:i})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,i=e.config.get("ui.viewportOffset");if(i)return i;const a=e.config.get("toolbar.viewportTopOffset");return a?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:a}):{top:0}}_initFocusTracking(){const e=this.editor,i=e.editing.view;let a,u;e.keystrokes.set("Alt+F10",(f,m)=>{const w=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(w)&&!Array.from(i.domRoots.values()).includes(w)&&(a=w);const _=this._getCurrentFocusedToolbarDefinition();_&&u||(u=this._getFocusableCandidateToolbarDefinitions());for(let E=0;E<u.length;E++){const T=u.shift();if(u.push(T),T!==_&&this._focusFocusableCandidateToolbar(T)){_&&_.options.afterBlur&&_.options.afterBlur();break}}m()}),e.keystrokes.set("Esc",(f,m)=>{const w=this._getCurrentFocusedToolbarDefinition();w&&(a?(a.focus(),a=null):e.editing.view.focus(),w.options.afterBlur&&w.options.afterBlur(),m())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const i of this._focusableToolbarDefinitions){const{toolbarView:a,options:u}=i;(Aa(a.element)||u.beforeFocus)&&e.push(i)}return e.sort((i,a)=>nS(i)-nS(a)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:i,options:{beforeFocus:a}}=e;return a&&a(),!!Aa(i.element)&&(i.focus(),!0)}_handleScrollToTheSelection(e,i){const a=((u,f)=>{for(var m in f||(f={}))P9.call(f,m)&&tS(u,m,f[m]);if(eS)for(var m of eS(f))O9.call(f,m)&&tS(u,m,f[m]);return u})({top:0,bottom:0,left:0,right:0},this.viewportOffset);i.viewportOffset.top+=a.top,i.viewportOffset.bottom+=a.bottom,i.viewportOffset.left+=a.left,i.viewportOffset.right+=a.right}}function nS(c){const{toolbarView:e,options:i}=c;let a=10;return Aa(e.element)&&a--,i.isContextual&&a--,a}var rS=s(1185),L9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(rS.A,L9),rS.A.locals;class B9 extends Nt{constructor(e){super(e),this.body=new AF(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class R9 extends B9{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,i=new o0;return i.text=e("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}class F9 extends Nt{constructor(e,i,a){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=a,this._hasExternalElement=!!this._editableElement,this._editingView=i}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function i(a){e.change(u=>{const f=e.document.getRoot(a.name);u.addClass(a.isFocused?"ck-focused":"ck-blurred",f),u.removeClass(a.isFocused?"ck-blurred":"ck-focused",f)})}e.isRenderingInProgress?function a(u){e.once("change:isRenderingInProgress",(f,m,w)=>{w?a(u):i(u)})}(this):i(this)}}class z9 extends F9{constructor(e,i,a,u={}){super(e,i,a);const f=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=u.label||(()=>f("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(i=>{const a=e.document.getRoot(this.name);i.setAttribute("aria-label",this._generateLabel(this),a)})}}class Iy extends li{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,i)=>{window.alert(i.message)},{priority:"lowest"})}showSuccess(e,i={}){this._showNotification({message:e,type:"success",namespace:i.namespace,title:i.title})}showInfo(e,i={}){this._showNotification({message:e,type:"info",namespace:i.namespace,title:i.title})}showWarning(e,i={}){this._showNotification({message:e,type:"warning",namespace:i.namespace,title:i.title})}_showNotification(e){const i=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(i,{message:e.message,type:e.type,title:e.title||""})}}class iS extends Ue(){constructor(e,i){super(),i&&T2(this,i),e&&this.set(e)}}var oS=s(991),U9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(oS.A,U9),oS.A.locals;var sS=s(5380),q9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(sS.A,q9),sS.A.locals;const g0=Bl("px");class b0 extends ct{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const i=this.editor.editing.view,a=i.document.selection.editableElement;return a?i.domConverter.mapViewToDom(a.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new N("contextualballoon-add-view-exist",[this,e]);const i=e.stackId||"main";if(!this._idToStack.has(i))return this._idToStack.set(i,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(i));const a=this._idToStack.get(i);e.singleViewMode&&this.showStack(i),a.set(e.view,e),this._viewToStack.set(e.view,a),a===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new N("contextualballoon-remove-view-not-exist",[this,e]);const i=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(i.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),i.size===1?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const i=this._idToStack.get(e);if(!i)throw new N("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}_createPanelView(){this._view=new ks(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(i=>i[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)+1;e[i]||(i=0),this.showStack(this._getStackId(e[i]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)-1;e[i]||(i=e.length-1),this.showStack(this._getStackId(e[i]))}_createRotatorView(){const e=new V9(this.editor.locale),i=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(a,u)=>!u&&a>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(a,u)=>{if(u<2)return"";const f=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return i("%0 of %1",[f,u])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new $9(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(i,a)=>!a&&i>=2?Math.min(i-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:i="",withArrow:a=!0,singleViewMode:u=!1}){this.view.class=i,this.view.withArrow=a,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),u&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class V9 extends Nt{constructor(e){super(e);const i=e.t,a=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Ri,this.buttonPrevView=this._createButtonView(i("Previous"),fn.previousArrow),this.buttonNextView=this._createButtonView(i("Next"),fn.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",a.to("isNavigationVisible",u=>u?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:a.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,i){const a=new Wn(this.locale);return a.set({label:e,icon:i,tooltip:!0}),a}}class $9 extends Nt{constructor(e,i){super(e);const a=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=i,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",a.to("numberOfPanels",u=>u?"":"ck-hidden")],style:{top:a.to("top",g0),left:a.to("left",g0),width:a.to("width",g0),height:a.to("height",g0)}},children:this.content}),this.on("change:numberOfPanels",(u,f,m,w)=>{m>w?this._addPanels(m-w):this._removePanels(w-m),this.updatePosition()})}_addPanels(e){for(;e--;){const i=new Nt;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}_removePanels(e){for(;e--;){const i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:i}=this._balloonPanelView,{width:a,height:u}=new Ut(this._balloonPanelView.element);Object.assign(this,{top:e,left:i,width:a,height:u})}}}var aS=s(8298),H9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(aS.A,H9),aS.A.locals;const Of=Bl("px");class W9 extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new I({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",a=>a?"block":"none"),height:i.to("isSticky",a=>a?Of(this._contentPanelRect.height):null)}}}).render(),this.contentPanelElement=new I({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",a=>a?Of(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:i.to("_stickyTopOffset",a=>a&&Of(a)),bottom:i.to("_stickyBottomOffset",a=>a&&Of(a)),marginLeft:i.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(h.document,"scroll",()=>{this.checkIfShouldBeSticky()},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const e=new Ut(this.limiterElement);let i=e.getVisible();if(i){const a=new Ut(h.window);a.top+=this.viewportTopOffset,a.height-=this.viewportTopOffset,i=i.getIntersection(a)}if(i&&e.top<i.top){const a=i.top;if(a+this._contentPanelRect.height+this.limiterBottomOffset>i.bottom){const u=Math.max(e.bottom-i.bottom,0)+this.limiterBottomOffset;e.bottom-u>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(u):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(a):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=Of(-h.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=Of(-h.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Ut(this.contentPanelElement)}}class G9 extends l0{constructor(e,i){const a=e.t,u=Object.assign({},{showResetButton:!0,showIcon:!0,creator:d0},i);super(e,u.creator),this.label=i.label,this._viewConfig=u,this._viewConfig.showIcon&&(this.iconView=new Qc,this.iconView.content=fn.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new Wn(e),this.resetButtonView.set({label:a("Clear"),icon:fn.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",()=>{this.reset(),this.focus(),this.fire("reset")}),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",f=>!f),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class Y9 extends Nt{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",i=>!i)],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class K9 extends Nt{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new Ri,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Ta({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var lS=/[\\^$.*+?()[\]{}|]/g,Q9=RegExp(lS.source);const cS=function(c){return(c=vf(c))&&Q9.test(c)?c.replace(lS,"\\$&"):c};var uS=s(8107),J9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(uS.A,J9),uS.A.locals;var Z9=Object.defineProperty,dS=Object.getOwnPropertySymbols,X9=Object.prototype.hasOwnProperty,ez=Object.prototype.propertyIsEnumerable,hS=(c,e,i)=>e in c?Z9(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class tz extends Nt{constructor(e,i){super(e),this._config=i,this.filteredView=i.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Ri,this.keystrokes=new po,this.resultsView=new K9(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),i.infoView&&i.infoView.instance?this.infoView=i.infoView.instance:(this.infoView=new Y9,this._enableDefaultInfoViewBehavior(),this.on("render",()=>{this.search("")})),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Ta({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",(a,{resultsCount:u,totalItemsCount:f})=>{this.resultsCount=u,this.totalItemsCount=f}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",i.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=i=>i.stopPropagation();for(const i of this.focusableChildren)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const i=e?new RegExp(cS(e),"ig"):null,a=this.filteredView.filter(i);this.fire("search",((u,f)=>{for(var m in f||(f={}))X9.call(f,m)&&hS(u,m,f[m]);if(dS)for(var m of dS(f))ez.call(f,m)&&hS(u,m,f[m]);return u})({query:e},a))}_createSearchTextQueryView(){const e=new G9(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",()=>{this.search(e.fieldView.element.value)}),e.on("reset",()=>this.reset()),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,i=this.infoView;function a(u,{query:f,resultsCount:m,totalItemsCount:w}){return typeof u=="function"?u(f,m,w):u}this.on("search",(u,f)=>{if(f.resultsCount)i.set({isVisible:!1});else{const m=this._config.infoView&&this._config.infoView.text;let w,_;f.totalItemsCount?m&&m.notFound?(w=m.notFound.primary,_=m.notFound.secondary):(w=e("No results found"),_=""):m&&m.noSearchableItems?(w=m.noSearchableItems.primary,_=m.noSearchableItems.secondary):(w=e("No searchable items"),_=""),i.set({primaryText:a(w,f),secondaryText:a(_,f),isVisible:!0})}})}}var fS=s(5727),nz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(fS.A,nz),fS.A.locals;const Ty=class extends tz{constructor(c,e){super(c,e),this._config=e;const i=Bl("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const a=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[a.if("isVisible","ck-hidden",u=>!u),a.to("_position",u=>`ck-search__results_${u}`)],style:{width:a.to("_width",i)}}}),this.focusTracker.on("change:isFocused",(u,f,m)=>{this._updateResultsVisibility(),m?this.resultsView.element.scrollTop=0:e.resetOnBlur&&this.queryView.reset()}),this.on("search",()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()}),this.keystrokes.set("esc",(u,f)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,f())}),this.listenTo(h.document,"scroll",()=>{this._updateResultsViewWidthAndPosition()}),this.on("change:isEnabled",()=>{this._updateResultsVisibility()}),this.filteredView.on("execute",(u,{value:f})=>{this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=f,this.resultsView.isVisible=!1}),this.resultsView.on("change:isVisible",()=>{this._updateResultsViewWidthAndPosition()})}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Ut(this.queryView.fieldView.element).width;const c=Ty._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:Ty.defaultResultsPositions});this.resultsView._position=c?c.name:"s"}_updateResultsVisibility(){const c=this._config.queryMinChars===void 0?0:this._config.queryMinChars,e=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&e>=c}};let pS=Ty;pS.defaultResultsPositions=[c=>({top:c.bottom,left:c.left,name:"s"}),(c,e)=>({top:c.top-e.height,left:c.left,name:"n"})],pS._getOptimalPosition=$d;var mS=s(9529),rz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(mS.A,rz),mS.A.locals;var gS=s(109),iz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(gS.A,iz),gS.A.locals;var bS=s(2710),oz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(bS.A,oz),bS.A.locals;var kS=s(3344),sz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(kS.A,sz),kS.A.locals;class az extends Wn{constructor(e){super(e);const i=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",a=>String(a)),"data-cke-tooltip-disabled":i.to("isOn")},on:{mouseenter:i.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Qc;return e.content=a0,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}var wS=s(9481),lz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(wS.A,lz),wS.A.locals;class Ny extends Pf{constructor(e,i){super(e);const a=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:a.to("mouseenter")}}),this.delegate("mouseenter").to(i)}}var cz=Object.defineProperty,yS=Object.getOwnPropertySymbols,uz=Object.prototype.hasOwnProperty,dz=Object.prototype.propertyIsEnumerable,vS=(c,e,i)=>e in c?cz(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,AS=(c,e)=>{for(var i in e||(e={}))uz.call(e,i)&&vS(c,i,e[i]);if(yS)for(var i of yS(e))dz.call(e,i)&&vS(c,i,e[i]);return c};const jm={toggleMenusAndFocusItemsOnHover(c){c.on("menu:mouseenter",e=>{if(c.isOpen){for(const i of c.menus){const a=e.path[0],u=a instanceof Ny&&a.children.first===i;i.isOpen=(e.path.includes(i)||u)&&i.isEnabled}e.source.focus()}})},focusCycleMenusOnArrows(c){const e=c.locale.uiLanguageDirection==="rtl";function i(a,u){const f=c.children.getIndex(a),m=a.isOpen,w=c.children.length,_=c.children.get((f+w+u)%w);a.isOpen=!1,m&&(_.isOpen=!0),_.buttonView.focus()}c.on("menu:arrowright",a=>{i(a.source,e?-1:1)}),c.on("menu:arrowleft",a=>{i(a.source,e?1:-1)})},closeMenusWhenTheBarCloses(c){c.on("change:isOpen",()=>{c.isOpen||c.menus.forEach(e=>{e.isOpen=!1})})},closeMenuWhenAnotherOnTheSameLevelOpens(c){c.on("menu:change:isOpen",(e,i,a)=>{a&&c.menus.filter(u=>e.source.parentMenuView===u.parentMenuView&&e.source!==u&&u.isOpen).forEach(u=>{u.isOpen=!1})})},closeOnClickOutside(c){zn({emitter:c,activator:()=>c.isOpen,callback:()=>c.close(),contextElements:()=>c.children.map(e=>e.element)})}},lh={openAndFocusPanelOnArrowDownKey(c){c.keystrokes.set("arrowdown",(e,i)=>{c.focusTracker.focusedElement===c.buttonView.element&&(c.isOpen||(c.isOpen=!0),c.panelView.focus(),i())})},openOnArrowRightKey(c){const e=c.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright";c.keystrokes.set(e,(i,a)=>{c.focusTracker.focusedElement===c.buttonView.element&&c.isEnabled&&(c.isOpen||(c.isOpen=!0),c.panelView.focus(),a())})},openOnButtonClick(c){c.buttonView.on("execute",()=>{c.isOpen=!0,c.panelView.focus()})},toggleOnButtonClick(c){c.buttonView.on("execute",()=>{c.isOpen=!c.isOpen,c.isOpen&&c.panelView.focus()})},closeOnArrowLeftKey(c){const e=c.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft";c.keystrokes.set(e,(i,a)=>{c.isOpen&&(c.isOpen=!1,c.focus(),a())})},closeOnEscKey(c){c.keystrokes.set("esc",(e,i)=>{c.isOpen&&(c.isOpen=!1,c.focus(),i())})},closeOnParentClose(c){c.parentMenuView.on("change:isOpen",(e,i,a)=>{a||e.source!==c.parentMenuView||(c.isOpen=!1)})}},hz={southEast:c=>({top:c.bottom,left:c.left,name:"se"}),southWest:(c,e)=>({top:c.bottom,left:c.left-e.width+c.width,name:"sw"}),northEast:(c,e)=>({top:c.top-e.height,left:c.left,name:"ne"}),northWest:(c,e)=>({top:c.top-e.height,left:c.left-e.width+c.width,name:"nw"}),eastSouth:c=>({top:c.top,left:c.right-5,name:"es"}),eastNorth:(c,e)=>({top:c.top-e.height,left:c.right-5,name:"en"}),westSouth:(c,e)=>({top:c.top,left:c.left-e.width+5,name:"ws"}),westNorth:(c,e)=>({top:c.top-e.height,left:c.left-e.width+5,name:"wn"})},fz=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function pz({normalizedConfig:c,locale:e,componentFactory:i}){const a=sl(c);return function(u,f){const m=f.removeItems,w=[];f.items=f.items.filter(({menuId:_})=>!m.includes(_)||(w.push(_),!1)),jf(f.items,_=>{_.groups=_.groups.filter(({groupId:E})=>!m.includes(E)||(w.push(E),!1));for(const E of _.groups)E.items=E.items.filter(T=>{const O=xS(T);return!m.includes(O)||(w.push(O),!1)})});for(const _ of m)w.includes(_)||L("menu-bar-item-could-not-be-removed",{menuBarConfig:u,itemName:_})}(c,a),function(u,f){const m=f.addItems,w=[];for(const _ of m){const E=bz(_.position),T=kz(_.position);if(mz(_))if(T){const O=f.items.findIndex(V=>V.menuId===T);O!=-1?E==="before"?(f.items.splice(O,0,_.menu),w.push(_)):E==="after"&&(f.items.splice(O+1,0,_.menu),w.push(_)):_S(f,_.menu,T,E)&&w.push(_)}else E==="start"?(f.items.unshift(_.menu),w.push(_)):E==="end"&&(f.items.push(_.menu),w.push(_));else gz(_)?jf(f.items,O=>{if(O.menuId===T)E==="start"?(O.groups.unshift(_.group),w.push(_)):E==="end"&&(O.groups.push(_.group),w.push(_));else{const V=O.groups.findIndex(K=>K.groupId===T);V!==-1&&(E==="before"?(O.groups.splice(V,0,_.group),w.push(_)):E==="after"&&(O.groups.splice(V+1,0,_.group),w.push(_)))}}):_S(f,_.item,T,E)&&w.push(_)}for(const _ of m)w.includes(_)||L("menu-bar-item-could-not-be-added",{menuBarConfig:u,addedItemConfig:_})}(c,a),function(u,f,m){jf(f.items,w=>{for(const _ of w.groups)_.items=_.items.filter(E=>{const T=typeof E=="string"&&!m.has(E);return T&&!f.isUsingDefaultConfig&&L("menu-bar-item-unavailable",{menuBarConfig:u,parentMenuConfig:sl(w),componentName:E}),!T})})}(c,a,i),CS(c,a),function(u,f){const m=f.t,w={File:m({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:m({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:m({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:m({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:m({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:m({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:m({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:m({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:m({string:"Font",id:"MENU_BAR_MENU_FONT"})};jf(u.items,_=>{_.label in w&&(_.label=w[_.label])})}(a,e),a}function _S(c,e,i,a){let u=!1;return jf(c.items,f=>{for(const{groupId:m,items:w}of f.groups){if(u)return;if(m===i)a==="start"?(w.unshift(e),u=!0):a==="end"&&(w.push(e),u=!0);else{const _=w.findIndex(E=>xS(E)===i);_!==-1&&(a==="before"?(w.splice(_,0,e),u=!0):a==="after"&&(w.splice(_+1,0,e),u=!0))}}}),u}function CS(c,e){const i=e.isUsingDefaultConfig;let a=!1;e.items=e.items.filter(u=>!!u.groups.length||(My(c,u,i),!1)),e.items.length?(jf(e.items,u=>{u.groups=u.groups.filter(f=>!!f.items.length||(a=!0,!1));for(const f of u.groups)f.items=f.items.filter(m=>!(SS(m)&&!m.groups.length)||(My(c,m,i),a=!0,!1))}),a&&CS(c,e)):My(c,c,i)}function My(c,e,i){i||L("menu-bar-menu-empty",{menuBarConfig:c,emptyMenuConfig:e})}function jf(c,e){if(Array.isArray(c))for(const a of c)i(a);function i(a){e(a);for(const u of a.groups)for(const f of u.items)SS(f)&&i(f)}}function mz(c){return typeof c=="object"&&"menu"in c}function gz(c){return typeof c=="object"&&"group"in c}function bz(c){return c.startsWith("start")?"start":c.startsWith("end")?"end":c.startsWith("after")?"after":"before"}function kz(c){const e=c.match(/^[^:]+:(.+)/);return e?e[1]:null}function xS(c){return typeof c=="string"?c:c.menuId}function SS(c){return typeof c=="object"&&"menuId"in c}function wz(c,e){const i=e.element;c.ui.focusTracker.add(i),c.keystrokes.listenTo(i);const a=function(u){let f;return f="items"in u&&u.items?AS({items:u.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},u):AS({items:sl(fz),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},u),f}(c.config.get("menuBar")||{});e.fillFromConfig(a,c.ui.componentFactory),c.keystrokes.set("Esc",(u,f)=>{i.contains(c.ui.focusTracker.focusedElement)&&(c.editing.view.focus(),f())}),c.keystrokes.set("Alt+F9",(u,f)=>{i.contains(c.ui.focusTracker.focusedElement)||(e.focus(),f())})}var ES=s(9108),yz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(ES.A,yz),ES.A.locals;class vz extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",i.to("position",a=>`ck-menu-bar__menu__panel_position_${a}`),i.if("isVisible","ck-hidden",a=>!a)],tabindex:"-1"},children:this.children,on:{selectstart:i.to(a=>{a.target.tagName.toLocaleLowerCase()!=="input"&&a.preventDefault()})}})}focus(e=1){this.children.length&&(e===1?this.children.first.focus():this.children.last.focus())}}var DS=s(4),Az={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(DS.A,Az),DS.A.locals;const IS=class extends Nt{constructor(c){super(c);const e=this.bindTemplate;this.buttonView=new az(c),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new vz(c),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new po,this.focusTracker=new Ri,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",e.to("class"),e.if("isEnabled","ck-disabled",i=>!i),e.if("parentMenuView","ck-menu-bar__menu_top-level",i=>!i)]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),lh.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(lh.openOnButtonClick(this),lh.openOnArrowRightKey(this),lh.closeOnArrowLeftKey(this),lh.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),lh.openAndFocusPanelOnArrowDownKey(this),lh.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",(c,e)=>{this.fire("arrowright"),e()}),this.keystrokes.set("arrowleft",(c,e)=>{this.fire("arrowleft"),e()})}_repositionPanelOnOpen(){this.on("change:isOpen",(c,e,i)=>{if(!i)return;const a=IS._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=a?a.name:this._panelPositions[0].name})}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:c,southWest:e,northEast:i,northWest:a,westSouth:u,eastSouth:f,westNorth:m,eastNorth:w}=hz;return this.locale.uiLanguageDirection==="ltr"?this.parentMenuView?[f,w,u,m]:[c,e,i,a]:this.parentMenuView?[u,m,f,w]:[e,c,a,i]}};let Lf=IS;Lf._getOptimalPosition=$d;class Py extends _y{constructor(e){super(e),this.role="menu"}}var TS=s(977),_z={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(TS.A,_z),TS.A.locals;class Hs extends Wn{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class NS extends c5{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var MS=s(497),Cz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(MS.A,Cz),MS.A.locals;const PS=["mouseenter","arrowleft","arrowright","change:isOpen"];class xz extends Nt{constructor(e){super(e),this.menus=[];const i=e.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":i("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,i){const a=pz({normalizedConfig:e,locale:this.locale,componentFactory:i}).items.map(u=>this._createMenu({componentFactory:i,menuDefinition:u}));this.children.addMany(a)}render(){super.render(),jm.toggleMenusAndFocusItemsOnHover(this),jm.closeMenusWhenTheBarCloses(this),jm.closeMenuWhenAnotherOnTheSameLevelOpens(this),jm.focusCycleMenusOnArrows(this),jm.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e,i=null){i?(e.delegate(...PS).to(i),e.parentMenuView=i):e.delegate(...PS).to(this,a=>"menu:"+a),e._attachBehaviors(),this.menus.push(e)}_createMenu({componentFactory:e,menuDefinition:i,parentMenuView:a}){const u=this.locale,f=new Lf(u);return this.registerMenu(f,a),f.buttonView.set({label:i.label}),f.once("change:isOpen",()=>{const m=new Py(u);m.ariaLabel=i.label,f.panelView.children.add(m),m.items.addMany(this._createMenuItems({menuDefinition:i,parentMenuView:f,componentFactory:e}))}),f}_createMenuItems({menuDefinition:e,parentMenuView:i,componentFactory:a}){const u=this.locale,f=[];for(const m of e.groups){for(const w of m.items){const _=new Ny(u,i);if(ae(w))_.children.add(this._createMenu({componentFactory:a,menuDefinition:w,parentMenuView:i}));else{const E=this._createMenuItemContentFromFactory({componentName:w,componentFactory:a,parentMenuView:i});if(!E)continue;_.children.add(E)}f.push(_)}m!==e.groups[e.groups.length-1]&&f.push(new Ay(u))}return f}_createMenuItemContentFromFactory({componentName:e,parentMenuView:i,componentFactory:a}){const u=a.create(e);return u instanceof Lf||u instanceof Hs||u instanceof NS?(this._registerMenuTree(u,i),u.on("execute",()=>{this.close()}),u):(L("menu-bar-component-unsupported",{componentName:e,componentView:u}),null)}_registerMenuTree(e,i){if(!(e instanceof Lf))return void e.delegate("mouseenter").to(i);this.registerMenu(e,i);const a=e.panelView.children.filter(f=>f instanceof Py)[0];if(!a)return void e.delegate("mouseenter").to(i);const u=a.items.filter(f=>f instanceof Pf);for(const f of u)this._registerMenuTree(f.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",(i,a,u)=>{clearTimeout(e),u?this.isOpen=!0:e=setTimeout(()=>{this.isOpen=Array.from(this.children).some(f=>f.isOpen)},0)})}}class Sz extends j9{constructor(e,i){super(e),this.view=i,this._toolbarConfig=y5(e.config.get("toolbar")),this._elementReplacer=new Ae,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const i=this.editor,a=this.view,u=i.editing.view,f=a.editable,m=u.document.getRoot();f.name=m.rootName,a.render();const w=f.element;this.setEditableElement(f.name,w),a.editable.bind("isFocused").to(this.focusTracker),u.attachDomRoot(w),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),a.menuBarView&&wz(i,a.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:i})=>i||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,i=e.editing.view,a=i.document.getRoot(),u=e.sourceElement;let f;const m=e.config.get("placeholder");m&&(f=typeof m=="string"?m:m[this.view.editable.name]),!f&&u&&u.tagName.toLowerCase()==="textarea"&&(f=u.getAttribute("placeholder")),f&&(a.placeholder=f),ql({view:i,element:a,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,i,a){const u=this.view.stickyPanel;if(u.isSticky){const f=new Ut(u.element).height;i.viewportOffset.top+=f}else{const f=()=>{this.editor.editing.view.scrollToTheSelection(a)};this.listenTo(u,"change:isSticky",f),setTimeout(()=>{this.stopListening(u,"change:isSticky",f)},20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,i=this.editor.plugins.get("Dialog");i.on("show",()=>{const a=i.view;a.on("moveTo",(u,f)=>{if(!e.isSticky||a.wasMoved)return;const m=new Ut(e.contentPanelElement);f[1]<m.bottom+f0.defaultOffset&&(f[1]=m.bottom+f0.defaultOffset)},{priority:"high"})},{priority:"low"})}}var OS=s(7388),Ez={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(OS.A,Ez),OS.A.locals;class Dz extends R9{constructor(e,i,a={}){super(e),this.stickyPanel=new W9(e),this.toolbar=new vy(e,{shouldGroupWhenFull:a.shouldToolbarGroupWhenFull}),a.useMenuBar&&(this.menuBarView=new xz(e)),this.editable=new z9(e,i)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class jS{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=i=>{const a="error"in i?i.error:i.reason;a instanceof Error&&this._handleError(a,i)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,i){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(i)}off(e,i){this._listeners[e]=this._listeners[e].filter(a=>a!==i)}_fire(e,...i){const a=this._listeners[e]||[];for(const u of a)u.apply(this,[null,...i])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,i){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:i instanceof ErrorEvent?i.filename:void 0,lineno:i instanceof ErrorEvent?i.lineno:void 0,colno:i instanceof ErrorEvent?i.colno:void 0,date:this._now()});const a=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:a}),a?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Oy(c,e=new Set){const i=[c],a=new Set;let u=0;for(;i.length>u;){const f=i[u++];if(!a.has(f)&&Iz(f)&&!e.has(f))if(a.add(f),Symbol.iterator in f)try{for(const m of f)i.push(m)}catch{}else for(const m in f)m!=="defaultValue"&&i.push(f[m])}return a}function Iz(c){const e=Object.prototype.toString.call(c),i=typeof c;return!(i==="number"||i==="boolean"||i==="string"||i==="symbol"||i==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||c==null||c._watchdogExcluded||c instanceof EventTarget||c instanceof Event)}function LS(c,e,i=new Set){if(c===e&&typeof(a=c)=="object"&&a!==null)return!0;var a;const u=Oy(c,i),f=Oy(e,i);for(const m of u)if(f.has(m))return!0;return!1}var Tz=Object.defineProperty,Nz=Object.defineProperties,Mz=Object.getOwnPropertyDescriptors,k0=Object.getOwnPropertySymbols,BS=Object.prototype.hasOwnProperty,RS=Object.prototype.propertyIsEnumerable,FS=(c,e,i)=>e in c?Tz(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,jy=(c,e)=>{for(var i in e||(e={}))BS.call(e,i)&&FS(c,i,e[i]);if(k0)for(var i of k0(e))RS.call(e,i)&&FS(c,i,e[i]);return c};class zS extends jS{constructor(e,i={}){super(i),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=m0(this._save.bind(this),typeof i.saveInterval=="number"?i.saveInterval:5e3),e&&(this._creator=(a,u)=>e.create(a,u)),this._destructor=a=>a.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},i=[],a=this._config.rootsAttributes||{},u={};for(const[_,E]of Object.entries(this._data.roots))E.isLoaded?(e[_]="",u[_]=a[_]||{}):i.push(_);const f=(m=jy({},this._config),w={extraPlugins:this._config.extraPlugins||[],lazyRoots:i,rootsAttributes:u,_watchdogInitialData:this._data},Nz(m,Mz(w)));var m,w;return delete f.initialData,f.extraPlugins.push(Pz),this._initUsingData?this.create(e,f,f.context):Jr(this._elementOrData)?this.create(this._elementOrData,f,f.context):this.create(this._editables,f,f.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,i=this._config,a){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(i)||{},this._config.context=a,this._creator(e,this._config))).then(u=>{this._editor=u,u.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=u.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(i){console.error(i,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,i=e.model.document.roots.filter(w=>w.isAttached()&&w.rootName!="$graveyard"),{plugins:a}=e,u=a.has("CommentsRepository")&&a.get("CommentsRepository"),f=a.has("TrackChanges")&&a.get("TrackChanges"),m={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};i.forEach(w=>{m.roots[w.rootName]={content:JSON.stringify(Array.from(w.getChildren())),attributes:JSON.stringify(Array.from(w.getAttributes())),isLoaded:w._isLoaded}});for(const w of e.model.markers)w._affectsData&&(m.markers[w.name]={rangeJSON:w.getRange().toJSON(),usingOperation:w._managedUsingOperations,affectsData:w._affectsData});return u&&(m.commentThreads=JSON.stringify(u.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),f&&(m.suggestions=JSON.stringify(f.getSuggestions({toJSON:!0,skipNotAttached:!0}))),m}_getEditables(){const e={};for(const i of this.editor.model.document.getRootNames()){const a=this.editor.ui.getEditableElement(i);a&&(e[i]=a)}return e}_isErrorComingFromThisItem(e){return LS(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Fc(e,(i,a)=>Jr(i)||a==="context"?i:void 0)}}class Pz{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},i=>{this._restoreCollaborationData(),this._restoreEditorData(i)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,i){if("name"in i){const a=e.createElement(i.name,i.attributes);if(i.children)for(const u of i.children)a._appendChild(this._createNode(e,u));return a}return e.createText(i.data,i.attributes)}_restoreEditorData(e){const i=this.editor;Object.entries(this._data.roots).forEach(([a,{content:u,attributes:f}])=>{const m=JSON.parse(u),w=JSON.parse(f),_=i.model.document.getRoot(a);for(const[E,T]of w)e.setAttribute(E,T,_);for(const E of m){const T=this._createNode(e,E);e.insert(T,_,"end")}}),Object.entries(this._data.markers).forEach(([a,u])=>{const{document:f}=i.model,m=u,{rangeJSON:{start:w,end:_}}=m,E=((ee,se)=>{var ke={};for(var Ee in ee)BS.call(ee,Ee)&&se.indexOf(Ee)<0&&(ke[Ee]=ee[Ee]);if(ee!=null&&k0)for(var Ee of k0(ee))se.indexOf(Ee)<0&&RS.call(ee,Ee)&&(ke[Ee]=ee[Ee]);return ke})(m,["rangeJSON"]),T=f.getRoot(w.root),O=e.createPositionFromPath(T,w.path,w.stickiness),V=e.createPositionFromPath(T,_.path,_.stickiness),K=e.createRange(O,V);e.addMarker(a,jy({range:K},E))})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),i=JSON.parse(this._data.suggestions);e.forEach(a=>{const u=this.editor.config.get("collaboration.channelId"),f=this.editor.plugins.get("CommentsRepository");f.hasCommentThread(a.threadId)&&f.getCommentThread(a.threadId).remove(),f.addCommentThread(jy({channelId:u},a))}),i.forEach(a=>{const u=this.editor.plugins.get("TrackChangesEditing");u.hasSuggestion(a.id)?u.getSuggestion(a.id).attributes=a.attributes:u.addSuggestionData(a)})}}const Lm=Symbol("MainQueueId");class Oz{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,i){const a=e===Lm;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const u=(a?Promise.all(this._queues.values()):Promise.all([this._queues.get(Lm),this._queues.get(e)])).then(i),f=u.catch(()=>{});return this._queues.set(e,f),u.finally(()=>{this._activeActions--,this._queues.get(e)===f&&this._activeActions===0&&this._onEmptyCallbacks.forEach(m=>m())})}}function US(c){return Array.isArray(c)?c:[c]}class w0 extends by(gF){constructor(e,i={}){if(!y0(e)&&i.initialData!==void 0)throw new N("editor-create-initial-data",null);super(i),this.config.define("menuBar.isVisible",!1),this.config.get("initialData")===void 0&&this.config.set("initialData",function(m){return y0(m)?(w=m,w instanceof HTMLTextAreaElement?w.value:w.innerHTML):m;var w}(e)),y0(e)&&(this.sourceElement=e),this.model.document.createRoot();const a=!this.config.get("toolbar.shouldNotGroupWhenFull"),u=this.config.get("menuBar"),f=new Dz(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:a,useMenuBar:u.isVisible});this.ui=new Sz(this,f),function(m){if(!wi(m.updateSourceElement))throw new N("attachtoform-missing-elementapi-interface",m);const w=m.sourceElement;if(function(_){return!!_&&_.tagName.toLowerCase()==="textarea"}(w)&&w.form){let _;const E=w.form,T=()=>m.updateSourceElement();wi(E.submit)&&(_=E.submit,E.submit=()=>{T(),_.apply(E)}),E.addEventListener("submit",T),m.on("destroy",()=>{E.removeEventListener("submit",T),_&&(E.submit=_)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,i={}){return new Promise(a=>{const u=new this(e,i);a(u.initPlugins().then(()=>u.ui.init(y0(e)?e:null)).then(()=>u.data.init(u.config.get("initialData"))).then(()=>u.fire("ready")).then(()=>u))})}}function y0(c){return Jr(c)}w0.Context=Ci,w0.EditorWatchdog=zS,w0.ContextWatchdog=class extends jS{constructor(c,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Oz,this._watchdogConfig=e,this._creator=i=>c.create(i),this._destructor=i=>i.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(c){this._creator=c}setDestructor(c){this._destructor=c}get context(){return this._context}create(c={}){return this._actionQueues.enqueue(Lm,()=>(this._contextConfig=c,this._create()))}getItem(c){return this._getWatchdog(c)._item}getItemState(c){return this._getWatchdog(c).state}add(c){const e=US(c);return Promise.all(e.map(i=>this._actionQueues.enqueue(i.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let a;if(this._watchdogs.has(i.id))throw new Error(`Item with the given id is already added: '${i.id}'.`);if(i.type==="editor")return a=new zS(null,this._watchdogConfig),a.setCreator(i.creator),a._setExcludedProperties(this._contextProps),i.destructor&&a.setDestructor(i.destructor),this._watchdogs.set(i.id,a),a.on("error",(u,{error:f,causesRestart:m})=>{this._fire("itemError",{itemId:i.id,error:f}),m&&this._actionQueues.enqueue(i.id,()=>new Promise(w=>{const _=()=>{a.off("restart",_),this._fire("itemRestart",{itemId:i.id}),w()};a.on("restart",_)}))}),a.create(i.sourceElementOrData,i.config,this._context);throw new Error(`Not supported item type: '${i.type}'.`)})))}remove(c){const e=US(c);return Promise.all(e.map(i=>this._actionQueues.enqueue(i,()=>{const a=this._getWatchdog(i);return this._watchdogs.delete(i),a.destroy()})))}destroy(){return this._actionQueues.enqueue(Lm,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Lm,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(c=>{console.error("An error happened during destroying the context or items.",c)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(c=>(this._context=c,this._contextProps=Oy(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const c=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(c))})}_getWatchdog(c){const e=this._watchdogs.get(c);if(!e)throw new Error(`Item with the given id was not registered: ${c}.`);return e}_isErrorComingFromThisItem(c){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(c))return!1;return LS(this._context,c.context)}};class Bm extends $u{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const i=this.document;function a(u){return(f,m)=>{m.preventDefault();const w=m.dropRange?[m.dropRange]:null,_=new S(i,u);i.fire(_,{dataTransfer:m.dataTransfer,method:f.name,targetRanges:w,target:m.target,domEvent:m.domEvent}),_.stop.called&&m.stopPropagation()}}this.listenTo(i,"paste",a("clipboardInput"),{priority:"low"}),this.listenTo(i,"drop",a("clipboardInput"),{priority:"low"}),this.listenTo(i,"dragover",a("dragging"),{priority:"low"})}onDomEvent(e){const i="clipboardData"in e?e.clipboardData:e.dataTransfer,a=e.type=="drop"||e.type=="paste",u={dataTransfer:new R2(i,{cacheFiles:a})};e.type!="drop"&&e.type!="dragover"||(u.dropRange=function(f,m){const w=m.target.ownerDocument,_=m.clientX,E=m.clientY;let T;return w.caretRangeFromPoint&&w.caretRangeFromPoint(_,E)?T=w.caretRangeFromPoint(_,E):m.rangeParent&&(T=w.createRange(),T.setStart(m.rangeParent,m.rangeOffset),T.collapse(!0)),T?f.domConverter.domRangeToView(T):null}(this.view,e)),this.fire(e.type,e,u)}}const qS=["figcaption","li"],VS=["ol","ul"];function $S(c){if(c.is("$text")||c.is("$textProxy"))return c.data;if(c.is("element","img")&&c.hasAttribute("alt"))return c.getAttribute("alt");if(c.is("element","br"))return`
`;let e="",i=null;for(const a of c.getChildren())e+=jz(a,i)+$S(a),i=a;return e}function jz(c,e){return e?c.is("element","li")&&!c.isEmpty&&c.getChild(0).is("containerElement")||VS.includes(c.name)&&VS.includes(e.name)?`

`:c.is("containerElement")||e.is("containerElement")?qS.includes(c.name)||qS.includes(e.name)?`
`:`

`:"":""}const Lz=function(c,e){return c&&Tb(c,e,Ls)},Bz=function(c,e,i,a){var u=i.length,f=u;if(c==null)return!f;for(c=Object(c);u--;){var m=i[u];if(m[2]?m[1]!==c[m[0]]:!(m[0]in c))return!1}for(;++u<f;){var w=(m=i[u])[0],_=c[w],E=m[1];if(m[2]){if(_===void 0&&!(w in c))return!1}else{var T=new Dl,O;if(!(O===void 0?Xb(E,_,3,a,T):O))return!1}}return!0},HS=function(c){return c==c&&!ae(c)},Rz=function(c){for(var e=Ls(c),i=e.length;i--;){var a=e[i],u=c[a];e[i]=[a,u,HS(u)]}return e},WS=function(c,e){return function(i){return i!=null&&i[c]===e&&(e!==void 0||c in Object(i))}},Fz=function(c){var e=Rz(c);return e.length==1&&e[0][2]?WS(e[0][0],e[0][1]):function(i){return i===c||Bz(i,c,e)}},zz=function(c,e){return c!=null&&e in Object(c)},Uz=function(c,e,i){for(var a=-1,u=(e=$c(e,c)).length,f=!1;++a<u;){var m=Da(e[a]);if(!(f=c!=null&&i(c,m)))break;c=c[m]}return f||++a!=u?f:!!(u=c==null?0:c.length)&&Pd(u)&&_u(m,u)&&(zt(c)||Au(c))},qz=function(c,e){return c!=null&&Uz(c,e,zz)},Vz=function(c,e){return Uu(c)&&HS(e)?WS(Da(c),e):function(i){var a=ms(i,c);return a===void 0&&a===e?qz(i,c):Xb(e,a,3)}},$z=function(c){return function(e){return e==null?void 0:e[c]}},Hz=function(c){return function(e){return Af(e,c)}},Wz=function(c){return Uu(c)?$z(Da(c)):Hz(c)},Gz=function(c){return typeof c=="function"?c:c==null?Ul:typeof c=="object"?zt(c)?Vz(c[0],c[1]):Fz(c):Wz(c)},Yz=function(c,e){var i={};return e=Gz(e),Lz(c,function(a,u,f){hs(i,u,e(a,u,f))}),i};var Kz=Object.defineProperty,Qz=Object.defineProperties,Jz=Object.getOwnPropertyDescriptors,GS=Object.getOwnPropertySymbols,Zz=Object.prototype.hasOwnProperty,Xz=Object.prototype.propertyIsEnumerable,YS=(c,e,i)=>e in c?Kz(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class Rm extends ct{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,i){this._markersToCopy.set(e,i)}_copySelectedFragmentWithMarkers(e,i,a=u=>u.model.getSelectedContent(u.model.document.selection)){return this.editor.model.change(u=>{const f=u.model.document.selection;u.setSelection(i);const m=this._insertFakeMarkersIntoSelection(u,u.model.document.selection,e),w=a(u),_=this._removeFakeMarkersInsideElement(u,w);for(const[E,T]of Object.entries(m)){_[E]||(_[E]=u.createRangeIn(w));for(const O of T)u.remove(O)}w.markers.clear();for(const[E,T]of Object.entries(_))w.markers.set(E,T);return u.setSelection(f),w})}_pasteMarkersIntoTransformedElement(e,i){const a=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change(u=>{const f=this._insertFakeMarkersElements(u,a),m=i(u),w=this._removeFakeMarkersInsideElement(u,m);for(const _ of Object.values(f).flat())u.remove(_);for(const[_,E]of Object.entries(w))u.model.markers.has(_)||u.addMarker(_,{usingOperation:!0,affectsData:!0,range:E});return m})}_pasteFragmentWithMarkers(e){const i=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const a of i)e.markers.set(a.name,a.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,i,a={allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0}){const u=this._markersToCopy.get(e);this._markersToCopy.set(e,a),i(),u?this._markersToCopy.set(e,u):this._markersToCopy.delete(e)}_isMarkerCopyable(e,i){const a=this._getMarkerClipboardConfig(e);if(!a)return!1;if(!i)return!0;const{allowedActions:u}=a;return u==="all"||u.includes(i)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[i]=e.split(":");return this._markersToCopy.get(i)||null}_insertFakeMarkersIntoSelection(e,i,a){const u=this._getCopyableMarkersFromSelection(e,i,a);return this._insertFakeMarkersElements(e,u)}_getCopyableMarkersFromSelection(e,i,a){const u=Array.from(i.getRanges()),f=new Set(u.flatMap(m=>Array.from(e.model.markers.getMarkersIntersectingRange(m))));return Array.from(f).filter(m=>{if(!this._isMarkerCopyable(m.name,a))return!1;const{copyPartiallySelected:w}=this._getMarkerClipboardConfig(m.name);if(!w){const _=m.getRange();return u.some(E=>E.containsRange(_,!0))}return!0}).map(m=>({name:a==="dragstart"?this._getUniqueMarkerName(m.name):m.name,range:m.getRange()}))}_getPasteMarkersFromRangeMap(e,i=null){const{model:a}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap(([u,f])=>{if(!this._hasMarkerConfiguration(u))return[{name:u,range:f}];if(this._isMarkerCopyable(u,i)){const m=this._getMarkerClipboardConfig(u),w=a.markers.has(u)&&a.markers.get(u).getRange().root.rootName==="$graveyard";return(m.duplicateOnPaste||w)&&(u=this._getUniqueMarkerName(u)),[{name:u,range:f}]}return[]})}_insertFakeMarkersElements(e,i){const a={},u=i.flatMap(f=>{const{start:m,end:w}=f.range;return[{position:m,marker:f,type:"start"},{position:w,marker:f,type:"end"}]}).sort(({position:f},{position:m})=>f.isBefore(m)?1:-1);for(const{position:f,marker:m,type:w}of u){const _=e.createElement("$marker",{"data-name":m.name,"data-type":w});a[m.name]||(a[m.name]=[]),a[m.name].push(_),e.insert(_,f)}return a}_removeFakeMarkersInsideElement(e,i){const a=this._getAllFakeMarkersFromElement(e,i).reduce((u,f)=>{const m=f.markerElement&&e.createPositionBefore(f.markerElement);let w=u[f.name],_=!1;w&&w.start&&w.end&&(this._getMarkerClipboardConfig(f.name).duplicateOnPaste?u[this._getUniqueMarkerName(f.name)]=u[f.name]:_=!0,w=null);var E,T;return _||(u[f.name]=(E=((O,V)=>{for(var K in V||(V={}))Zz.call(V,K)&&YS(O,K,V[K]);if(GS)for(var K of GS(V))Xz.call(V,K)&&YS(O,K,V[K]);return O})({},w),T={[f.type]:m},Qz(E,Jz(T)))),f.markerElement&&e.remove(f.markerElement),u},{});return Yz(a,u=>new ot(u.start||e.createPositionFromPath(i,[0]),u.end||e.createPositionAt(i,"end")))}_getAllFakeMarkersFromElement(e,i){const a=Array.from(e.createRangeIn(i)).flatMap(({item:m})=>{if(!m.is("element","$marker"))return[];const w=m.getAttribute("data-name"),_=m.getAttribute("data-type");return[{markerElement:m,name:w,type:_}]}),u=[],f=[];for(const m of a)m.type==="end"&&(a.some(w=>w.name===m.name&&w.type==="start")||u.push({markerElement:null,name:m.name,type:"start"})),m.type==="start"&&(a.some(w=>w.name===m.name&&w.type==="end")||f.unshift({markerElement:null,name:m.name,type:"end"}));return[...u,...a,...f]}_getUniqueMarkerName(e){const i=e.split(":"),a=P().substring(1,6);return i.length===3?`${i.slice(0,2).join(":")}:${a}`:`${i.join(":")}:${a}`}}class Na extends ct{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[Rm]}init(){this.editor.editing.view.addObserver(Bm),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,i,a){const u=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:a==="cut"},()=>{const f=u._copySelectedFragmentWithMarkers(a,i);this.fire("outputTransformation",{dataTransfer:e,content:f,method:a})})}_setupPasteDrop(){const e=this.editor,i=e.model,a=e.editing.view,u=a.document,f=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(u,"clipboardInput",(m,w)=>{w.method!="paste"||e.model.canEditAt(e.model.document.selection)||m.stop()},{priority:"highest"}),this.listenTo(u,"clipboardInput",(m,w)=>{const _=w.dataTransfer;let E;if(w.content)E=w.content;else{let V="";_.getData("text/html")?V=function(K){return K.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(ee,se)=>se.length==1?" ":se).replace(/<!--[\s\S]*?-->/g,"")}(_.getData("text/html")):_.getData("text/plain")&&(((T=(T=_.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||T.includes("<br>"))&&(T=`<p>${T}</p>`),V=T),E=this.editor.data.htmlProcessor.toView(V)}var T;const O=new S(this,"inputTransformation");this.fire(O,{content:E,dataTransfer:_,targetRanges:w.targetRanges,method:w.method}),O.stop.called&&m.stop(),a.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(m,w)=>{if(w.content.isEmpty)return;const _=this.editor.data.toModel(w.content,"$clipboardHolder");_.childCount!=0&&(m.stop(),i.change(()=>{this.fire("contentInsertion",{content:_,method:w.method,dataTransfer:w.dataTransfer,targetRanges:w.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(m,w)=>{w.resultRange=f._pasteFragmentWithMarkers(w.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,i=e.model.document,a=e.editing.view.document,u=(f,m)=>{const w=m.dataTransfer;m.preventDefault(),this._fireOutputTransformationEvent(w,i.selection,f.name)};this.listenTo(a,"copy",u,{priority:"low"}),this.listenTo(a,"cut",(f,m)=>{e.model.canEditAt(e.model.document.selection)?u(f,m):m.preventDefault()},{priority:"low"}),this.listenTo(this,"outputTransformation",(f,m)=>{const w=e.data.toView(m.content);a.fire("clipboardOutput",{dataTransfer:m.dataTransfer,content:w,method:m.method})},{priority:"low"}),this.listenTo(a,"clipboardOutput",(f,m)=>{m.content.isEmpty||(m.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(m.content)),m.dataTransfer.setData("text/plain",$S(m.content))),m.method=="cut"&&e.model.deleteContent(i.selection)},{priority:"low"})}}class KS{constructor(e,i=20){this._batch=null,this.model=e,this._size=0,this.limit=i,this._isLocked=!1,this._changeCallback=(a,u)=>{u.isLocal&&u.isUndoable&&u!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class eU extends Ht{constructor(e,i){super(e),this._buffer=new KS(e.model,i),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const i=this.editor.model,a=i.document,u=e.text||"",f=u.length;let m=a.selection;if(e.selection?m=e.selection:e.range&&(m=i.createSelection(e.range)),!i.canEditAt(m))return;const w=e.resultRange;i.enqueueChange(this._buffer.batch,_=>{this._buffer.lock();const E=Array.from(a.selection.getAttributes());i.deleteContent(m),u&&i.insertContent(_.createText(u,E),m),w?_.setSelection(w):m.is("documentSelection")||_.setSelection(m),this._buffer.unlock(),this._buffer.input(f)})}}const QS=["insertText","insertReplacementText"];class tU extends Gl{constructor(e){super(e),this.focusObserver=e.getObserver(e0),b.isAndroid&&QS.push("insertCompositionText");const i=e.document;i.on("beforeinput",(a,u)=>{if(!this.isEnabled)return;const{data:f,targetRanges:m,inputType:w,domEvent:_}=u;if(!QS.includes(w))return;this.focusObserver.flush();const E=new S(i,"insertText");i.fire(E,new Df(e,_,{text:f,selection:e.createSelection(m)})),E.stop.called&&a.stop()}),i.on("compositionend",(a,{data:u,domEvent:f})=>{this.isEnabled&&!b.isAndroid&&u&&i.fire("insertText",new Df(e,f,{text:u,selection:i.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class JS extends ct{static get pluginName(){return"Input"}init(){const e=this.editor,i=e.model,a=e.editing.view,u=i.document.selection;a.addObserver(tU);const f=new eU(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",f),e.commands.add("input",f),this.listenTo(a.document,"insertText",(m,w)=>{a.document.isComposing||w.preventDefault();const{text:_,selection:E,resultRange:T}=w,O=Array.from(E.getRanges()).map(ee=>e.editing.mapper.toModelRange(ee));let V=_;if(b.isAndroid){const ee=Array.from(O[0].getItems()).reduce((se,ke)=>se+(ke.is("$textProxy")?ke.data:""),"");ee&&(ee.length<=V.length?V.startsWith(ee)&&(V=V.substring(ee.length),O[0].start=O[0].start.getShiftedBy(ee.length)):ee.startsWith(V)&&(O[0].start=O[0].start.getShiftedBy(V.length),V=""))}const K={text:V,selection:i.createSelection(O)};T&&(K.resultRange=e.editing.mapper.toModelRange(T)),e.execute("insertText",K),a.scrollToTheSelection()}),b.isAndroid?this.listenTo(a.document,"keydown",(m,w)=>{!u.isCollapsed&&w.keyCode==229&&a.document.isComposing&&ZS(i,f)}):this.listenTo(a.document,"compositionstart",()=>{u.isCollapsed||ZS(i,f)})}}function ZS(c,e){if(!e.isEnabled)return;const i=e.buffer;i.lock(),c.enqueueChange(i.batch,()=>{c.deleteContent(c.document.selection)}),i.unlock()}class XS extends Ht{constructor(e,i){super(e),this.direction=i,this._buffer=new KS(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const i=this.editor.model,a=i.document;i.enqueueChange(this._buffer.batch,u=>{this._buffer.lock();const f=u.createSelection(e.selection||a.selection);if(!i.canEditAt(f))return;const m=e.sequence||1,w=f.isCollapsed;if(f.isCollapsed&&i.modifySelection(f,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(m))return void this._replaceEntireContentWithParagraph(u);if(this._shouldReplaceFirstBlockWithParagraph(f,m))return void this.editor.execute("paragraph",{selection:f});if(f.isCollapsed)return;let _=0;f.getFirstRange().getMinimalFlatRanges().forEach(E=>{_+=Oe(E.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),i.deleteContent(f,{doNotResetEntireContent:w,direction:this.direction}),this._buffer.input(_),u.setSelection(f),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const i=this.editor.model,a=i.document.selection,u=i.schema.getLimitElement(a);if(!(a.isCollapsed&&a.containsEntireContent(u))||!i.schema.checkChild(u,"paragraph"))return!1;const f=u.getChild(0);return!f||!f.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const i=this.editor.model,a=i.document.selection,u=i.schema.getLimitElement(a),f=e.createElement("paragraph");e.remove(e.createRangeIn(u)),e.insert(f,u),e.setSelection(f,0)}_shouldReplaceFirstBlockWithParagraph(e,i){const a=this.editor.model;if(i>1||this.direction!="backward"||!e.isCollapsed)return!1;const u=e.getFirstPosition(),f=a.schema.getLimitElement(u),m=f.getChild(0);return u.parent==m&&!!e.containsEntireContent(m)&&!!a.schema.checkChild(f,"paragraph")&&m.name!="paragraph"}}const eE="word",Wu="selection",Bf="backward",Fm="forward",tE={deleteContent:{unit:Wu,direction:Bf},deleteContentBackward:{unit:"codePoint",direction:Bf},deleteWordBackward:{unit:eE,direction:Bf},deleteHardLineBackward:{unit:Wu,direction:Bf},deleteSoftLineBackward:{unit:Wu,direction:Bf},deleteContentForward:{unit:"character",direction:Fm},deleteWordForward:{unit:eE,direction:Fm},deleteHardLineForward:{unit:Wu,direction:Fm},deleteSoftLineForward:{unit:Wu,direction:Fm}};class nU extends Gl{constructor(e){super(e);const i=e.document;let a=0;i.on("keydown",()=>{a++}),i.on("keyup",()=>{a=0}),i.on("beforeinput",(u,f)=>{if(!this.isEnabled)return;const{targetRanges:m,domEvent:w,inputType:_}=f,E=tE[_];if(!E)return;const T={direction:E.direction,unit:E.unit,sequence:a};T.unit==Wu&&(T.selectionToRemove=e.createSelection(m[0])),_==="deleteContentBackward"&&(b.isAndroid&&(T.sequence=1),function(V){if(V.length!=1||V[0].isCollapsed)return!1;const K=V[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let ee=0;for(const{nextPosition:se,item:ke}of K){if(se.parent.is("$text")){const Ee=se.parent.data,Le=se.offset;if(wf(Ee,Le)||Bu(Ee,Le)||Rb(Ee,Le))continue;ee++}else(ke.is("containerElement")||ke.is("emptyElement"))&&ee++;if(ee>1)return!0}return!1}(m)&&(T.unit=Wu,T.selectionToRemove=e.createSelection(m)));const O=new Vu(i,"delete",m[0]);i.fire(O,new Df(e,w,T)),O.stop.called&&u.stop()}),b.isBlink&&function(u){const f=u.view,m=f.document;let w=null,_=!1;function E(O){return O==Pn.backspace||O==Pn.delete}function T(O){return O==Pn.backspace?Bf:Fm}m.on("keydown",(O,{keyCode:V})=>{w=V,_=!1}),m.on("keyup",(O,{keyCode:V,domEvent:K})=>{const ee=m.selection,se=u.isEnabled&&V==w&&E(V)&&!ee.isCollapsed&&!_;if(w=null,se){const ke=ee.getFirstRange(),Ee=new Vu(m,"delete",ke),Le={unit:Wu,direction:T(V),selectionToRemove:ee};m.fire(Ee,new Df(f,K,Le))}}),m.on("beforeinput",(O,{inputType:V})=>{const K=tE[V];E(w)&&K&&K.direction==T(w)&&(_=!0)},{priority:"high"}),m.on("beforeinput",(O,{inputType:V,data:K})=>{w==Pn.delete&&V=="insertText"&&K==""&&O.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class Xc extends ct{static get pluginName(){return"Delete"}init(){const e=this.editor,i=e.editing.view,a=i.document,u=e.model.document;i.addObserver(nU),this._undoOnBackspace=!1;const f=new XS(e,"forward");e.commands.add("deleteForward",f),e.commands.add("forwardDelete",f),e.commands.add("delete",new XS(e,"backward")),this.listenTo(a,"delete",(m,w)=>{a.isComposing||w.preventDefault();const{direction:_,sequence:E,selectionToRemove:T,unit:O}=w,V=_==="forward"?"deleteForward":"delete",K={sequence:E};if(O=="selection"){const ee=Array.from(T.getRanges()).map(se=>e.editing.mapper.toModelRange(se));K.selection=e.model.createSelection(ee)}else K.unit=O;e.execute(V,K),i.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(a,"delete",(m,w)=>{this._undoOnBackspace&&w.direction=="backward"&&w.sequence==1&&w.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),w.preventDefault(),m.stop())},{context:"$capture"}),this.listenTo(u,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class rU extends ct{static get requires(){return[JS,Xc]}static get pluginName(){return"Typing"}}function nE(c,e){let i=c.start;return{text:Array.from(c.getWalker({ignoreElementEnd:!1})).reduce((a,{item:u})=>u.is("$text")||u.is("$textProxy")?a+u.data:(i=e.createPositionAfter(u),""),""),range:e.createRange(i,c.end)}}class rE extends Ue(){constructor(e,i){super(),this.model=e,this.testCallback=i,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(i,{directChange:a})=>{a&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(i,a)=>{!a.isUndo&&a.isLocal&&this._evaluateTextBeforeSelection("data",{batch:a})})}_evaluateTextBeforeSelection(e,i={}){const a=this.model,u=a.document.selection,f=a.createRange(a.createPositionAt(u.focus.parent,0),u.focus),{text:m,range:w}=nE(f,a),_=this.testCallback(m);if(!_&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!_,_){const E=Object.assign(i,{text:m,range:w});typeof _=="object"&&Object.assign(E,_),this.fire(`matched:${e}`,E)}}}class iE extends ct{constructor(e){super(e),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,i=e.model,a=e.editing.view,u=e.locale,f=i.document.selection;this.listenTo(a.document,"arrowKey",(m,w)=>{if(!f.isCollapsed||w.shiftKey||w.altKey||w.ctrlKey)return;const _=w.keyCode==Pn.arrowright,E=w.keyCode==Pn.arrowleft;if(!_&&!E)return;const T=u.contentLanguageDirection;let O=!1;O=T==="ltr"&&_||T==="rtl"&&E?this._handleForwardMovement(w):this._handleBackwardMovement(w),O===!0&&m.stop()},{context:"$text",priority:"highest"}),this.listenTo(f,"change:range",(m,w)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!w.directChange&&Ma(f.getFirstPosition(),this.attributes)||this._restoreGravity())}),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const i=this.attributes,a=this.editor.model,u=a.document.selection,f=u.getFirstPosition();return!this._isGravityOverridden&&(!f.isAtStart||!eu(u,i))&&!!Ma(f,i)&&(Um(e),eu(u,i)&&Ma(f,i,!0)?zm(a,i):this._overrideGravity(),!0)}_handleBackwardMovement(e){const i=this.attributes,a=this.editor.model,u=a.document.selection,f=u.getFirstPosition();return this._isGravityOverridden?(Um(e),this._restoreGravity(),Ma(f,i,!0)?zm(a,i):v0(a,i,f),!0):f.isAtStart?!!eu(u,i)&&(Um(e),v0(a,i,f),!0):!eu(u,i)&&Ma(f,i,!0)?(Um(e),v0(a,i,f),!0):!!oE(f,i)&&(f.isAtEnd&&!eu(u,i)&&Ma(f,i)?(Um(e),v0(a,i,f),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const e=this.editor,i=e.model,a=i.document.selection,u=e.editing.view.document;e.editing.view.addObserver(my);let f=!1;this.listenTo(u,"mousedown",()=>{f=!0}),this.listenTo(u,"selectionChange",()=>{const m=this.attributes;if(!f||(f=!1,!a.isCollapsed)||!eu(a,m))return;const w=a.getFirstPosition();Ma(w,m)&&(w.isAtStart||Ma(w,m,!0)?zm(i,m):this._isGravityOverridden||this._overrideGravity())})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,i=e.document.selection,a=this.attributes;this.listenTo(e,"insertContent",()=>{const u=i.getFirstPosition();eu(i,a)&&Ma(u,a)&&zm(e,a)},{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,i=e.model,a=i.document.selection,u=e.editing.view;let f=!1,m=!1;this.listenTo(u.document,"delete",(w,_)=>{f=_.direction==="backward"},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{if(!f)return;const w=a.getFirstPosition();m=eu(a,this.attributes)&&!oE(w,this.attributes)},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{f&&(f=!1,m||e.model.enqueueChange(()=>{const w=a.getFirstPosition();eu(a,this.attributes)&&Ma(w,this.attributes)&&(w.isAtStart||Ma(w,this.attributes,!0)?zm(i,this.attributes):this._isGravityOverridden||this._overrideGravity())}))},{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function eu(c,e){for(const i of e)if(c.hasAttribute(i))return!0;return!1}function v0(c,e,i){const a=i.nodeBefore;c.change(u=>{if(a){const f=[],m=c.schema.isObject(a)&&c.schema.isInline(a);for(const[w,_]of a.getAttributes())!c.schema.checkAttribute("$text",w)||m&&c.schema.getAttributeProperties(w).copyFromObject===!1||f.push([w,_]);u.setSelectionAttribute(f)}else u.removeSelectionAttribute(e)})}function zm(c,e){c.change(i=>{i.removeSelectionAttribute(e)})}function Um(c){c.preventDefault()}function oE(c,e){return Ma(c.getShiftedBy(-1),e)}function Ma(c,e,i=!1){const{nodeBefore:a,nodeAfter:u}=c;for(const f of e){const m=a?a.getAttribute(f):void 0,w=u?u.getAttribute(f):void 0;if((!i||m!==void 0&&w!==void 0)&&w!==m)return!0}return!1}const sE={copyright:{from:"(c)",to:"Â©"},registeredTrademark:{from:"(r)",to:"Â®"},trademark:{from:"(tm)",to:"â„¢"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"Â½",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"â…“",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"â…”",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"Â¼",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"Â¾",null]},lessThanOrEqual:{from:"<=",to:"â‰¤"},greaterThanOrEqual:{from:">=",to:"â‰¥"},notEqual:{from:"!=",to:"â‰ "},arrowLeft:{from:"<-",to:"â†"},arrowRight:{from:"->",to:"â†’"},horizontalEllipsis:{from:"...",to:"â€¦"},enDash:{from:/(^| )(--)( )$/,to:[null,"â€“",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"â€”",null]},quotesPrimary:{from:Rf('"'),to:[null,"â€œ",null,"â€"]},quotesSecondary:{from:Rf("'"),to:[null,"â€˜",null,"â€™"]},quotesPrimaryEnGb:{from:Rf("'"),to:[null,"â€˜",null,"â€™"]},quotesSecondaryEnGb:{from:Rf('"'),to:[null,"â€œ",null,"â€"]},quotesPrimaryPl:{from:Rf('"'),to:[null,"â€ž",null,"â€"]},quotesSecondaryPl:{from:Rf("'"),to:[null,"â€š",null,"â€™"]}},aE={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},iU=["symbols","mathematical","typography","quotes"];function oU(c){return typeof c=="string"?new RegExp(`(${cS(c)})$`):c}function sU(c){return typeof c=="string"?()=>[c]:c instanceof Array?()=>c:c}function aU(c){return(c.textNode?c.textNode:c.nodeAfter).getAttributes()}function Rf(c){return new RegExp(`(^|\\s)(${c})([^${c}]*)(${c})$`)}function A0(c,e,i,a){return a.createRange(lE(c,e,i,!0,a),lE(c,e,i,!1,a))}function lE(c,e,i,a,u){let f=c.textNode||(a?c.nodeBefore:c.nodeAfter),m=null;for(;f&&f.getAttribute(e)==i;)m=f,f=a?f.previousSibling:f.nextSibling;return m?u.createPositionAt(m,a?"before":"after"):c}function*cE(c,e){for(const i of e)i&&c.getAttributeProperties(i[0]).copyOnEnter&&(yield i)}class lU extends Ht{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const i=this.editor.model,a=i.document.selection,u=i.schema,f=a.isCollapsed,m=a.getFirstRange(),w=m.start.parent,_=m.end.parent;if(u.isLimit(w)||u.isLimit(_))return f||w!=_||i.deleteContent(a),!1;if(f){const E=cE(e.model.schema,a.getAttributes());return uE(e,m.start),e.setSelectionAttribute(E),!0}{const E=!(m.start.isAtStart&&m.end.isAtEnd),T=w==_;if(i.deleteContent(a,{leaveUnmerged:E}),E){if(T)return uE(e,a.focus),!0;e.setSelection(_,0)}}return!1}}function uE(c,e){c.split(e),c.setSelection(e.parent.nextSibling,0)}const cU={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class dE extends Gl{constructor(e){super(e);const i=this.document;let a=!1;i.on("keydown",(u,f)=>{a=f.shiftKey}),i.on("beforeinput",(u,f)=>{if(!this.isEnabled)return;let m=f.inputType;b.isSafari&&a&&m=="insertParagraph"&&(m="insertLineBreak");const w=f.domEvent,_=cU[m];if(!_)return;const E=new Vu(i,"enter",f.targetRanges[0]);i.fire(E,new Df(e,w,{isSoft:_.isSoft})),E.stop.called&&u.stop()})}observe(){}stopObserving(){}}class _0 extends ct{static get pluginName(){return"Enter"}init(){const e=this.editor,i=e.editing.view,a=i.document,u=this.editor.t;i.addObserver(dE),e.commands.add("enter",new lU(e)),this.listenTo(a,"enter",(f,m)=>{a.isComposing||m.preventDefault(),m.isSoft||(e.execute("enter"),i.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:u("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class uU extends Ht{execute(){const e=this.editor.model,i=e.document;e.change(a=>{(function(u,f,m){const w=m.isCollapsed,_=m.getFirstRange(),E=_.start.parent,T=_.end.parent,O=E==T;if(w){const V=cE(u.schema,m.getAttributes());hE(u,f,_.end),f.removeSelectionAttribute(m.getAttributeKeys()),f.setSelectionAttribute(V)}else{const V=!(_.start.isAtStart&&_.end.isAtEnd);u.deleteContent(m,{leaveUnmerged:V}),O?hE(u,f,m.focus):V&&f.setSelection(T,0)}})(e,a,i.selection),this.fire("afterExecute",{writer:a})})}refresh(){const e=this.editor.model,i=e.document;this.isEnabled=function(a,u){if(u.rangeCount>1)return!1;const f=u.anchor;if(!f||!a.checkChild(f,"softBreak"))return!1;const m=u.getFirstRange(),w=m.start.parent,_=m.end.parent;return!((Ly(w,a)||Ly(_,a))&&w!==_)}(e.schema,i.selection)}}function hE(c,e,i){const a=e.createElement("softBreak");c.insertContent(a,i),e.setSelection(a,"after")}function Ly(c,e){return!c.is("rootElement")&&(e.isLimit(c)||Ly(c.parent,e))}class dU extends ct{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,i=e.model.schema,a=e.conversion,u=e.editing.view,f=u.document,m=this.editor.t;i.register("softBreak",{allowWhere:"$text",isInline:!0}),a.for("upcast").elementToElement({model:"softBreak",view:"br"}),a.for("downcast").elementToElement({model:"softBreak",view:(w,{writer:_})=>_.createEmptyElement("br")}),u.addObserver(dE),e.commands.add("shiftEnter",new uU(e)),this.listenTo(f,"enter",(w,_)=>{f.isComposing||_.preventDefault(),_.isSoft&&(e.execute("shiftEnter"),u.scrollToTheSelection())},{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:m("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class hU extends oe(){constructor(){super(...arguments),this._stack=[]}add(e,i){const a=this._stack,u=a[0];this._insertDescriptor(e);const f=a[0];u===f||By(u,f)||this.fire("change:top",{oldDescriptor:u,newDescriptor:f,writer:i})}remove(e,i){const a=this._stack,u=a[0];this._removeDescriptor(e);const f=a[0];u===f||By(u,f)||this.fire("change:top",{oldDescriptor:u,newDescriptor:f,writer:i})}_insertDescriptor(e){const i=this._stack,a=i.findIndex(f=>f.id===e.id);if(By(e,i[a]))return;a>-1&&i.splice(a,1);let u=0;for(;i[u]&&fU(i[u],e);)u++;i.splice(u,0,e)}_removeDescriptor(e){const i=this._stack,a=i.findIndex(u=>u.id===e);a>-1&&i.splice(a,1)}}function By(c,e){return c&&e&&c.priority==e.priority&&C0(c.classes)==C0(e.classes)}function fU(c,e){return c.priority>e.priority||!(c.priority<e.priority)&&C0(c.classes)>C0(e.classes)}function C0(c){return Array.isArray(c)?c.sort().join(","):c}const pU='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',mU="ck-widget",fE="ck-widget_selected";function Si(c){return!!c.is("element")&&!!c.getCustomProperty("widget")}function Ry(c,e,i={}){if(!c.is("containerElement"))throw new N("widget-to-widget-wrong-element-type",null,{element:c});return e.setAttribute("contenteditable","false",c),e.addClass(mU,c),e.setCustomProperty("widget",!0,c),c.getFillerOffset=kU,e.setCustomProperty("widgetLabel",[],c),i.label&&function(a,u){a.getCustomProperty("widgetLabel").push(u)}(c,i.label),i.hasSelectionHandle&&function(a,u){const f=u.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(m){const w=this.toDomElement(m),_=new Qc;return _.set("content",pU),_.render(),w.appendChild(_.element),w});u.insert(u.createPositionAt(a,0),f),u.addClass(["ck-widget_with-selection-handle"],a)}(c,e),pE(c,e),c}function gU(c,e,i){if(e.classes&&i.addClass(sr(e.classes),c),e.attributes)for(const a in e.attributes)i.setAttribute(a,e.attributes[a],c)}function bU(c,e,i){if(e.classes&&i.removeClass(sr(e.classes),c),e.attributes)for(const a in e.attributes)i.removeAttribute(a,c)}function pE(c,e,i=gU,a=bU){const u=new hU;u.on("change:top",(f,m)=>{m.oldDescriptor&&a(c,m.oldDescriptor,m.writer),m.newDescriptor&&i(c,m.newDescriptor,m.writer)}),e.setCustomProperty("addHighlight",(f,m,w)=>u.add(m,w),c),e.setCustomProperty("removeHighlight",(f,m,w)=>u.remove(m,w),c)}function mE(c,e,i={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],c),e.setAttribute("role","textbox",c),e.setAttribute("tabindex","-1",c),i.label&&e.setAttribute("aria-label",i.label,c),e.setAttribute("contenteditable",c.isReadOnly?"false":"true",c),c.on("change:isReadOnly",(a,u,f)=>{e.setAttribute("contenteditable",f?"false":"true",c)}),c.on("change:isFocused",(a,u,f)=>{f?e.addClass("ck-editor__nested-editable_focused",c):e.removeClass("ck-editor__nested-editable_focused",c)}),pE(c,e),c}function gE(c,e){const i=c.getSelectedElement();if(i){const a=Gu(c);if(a)return e.createRange(e.createPositionAt(i,a))}return e.schema.findOptimalInsertionRange(c)}function kU(){return null}const tu="widget-type-around";function ch(c,e,i){return!!c&&Si(c)&&!i.isInline(e)}function Gu(c){return c.getAttribute(tu)}var bE=s(8508),wU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(bE.A,wU),bE.A.locals;const kE=["before","after"],yU=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,wE="ck-widget__type-around_disabled";class vU extends ct{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[_0,Xc]}init(){const e=this.editor,i=e.editing.view;this.on("change:isEnabled",(a,u,f)=>{i.change(m=>{for(const w of i.document.roots)f?m.removeClass(wE,w):m.addClass(wE,w)}),f||e.model.change(m=>{m.removeSelectionAttribute(tu)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,i){const a=this.editor,u=a.editing.view,f=a.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);a.execute("insertParagraph",{position:a.model.createPositionAt(e,i),attributes:f}),u.focus(),u.scrollToTheSelection()}_listenToIfEnabled(e,i,a,u){this.listenTo(e,i,(...f)=>{this.isEnabled&&a(...f)},u)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,i=Gu(e);if(!i)return!1;const a=e.getSelectedElement();return this._insertParagraph(a,i),!0}_enableTypeAroundUIInjection(){const e=this.editor,i=e.model.schema,a=e.locale.t,u={before:a("Insert paragraph before block"),after:a("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(f,m,w)=>{const _=w.mapper.toViewElement(m.item);_&&ch(_,m.item,i)&&(function(E,T,O){const V=E.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(K){const ee=this.toDomElement(K);return function(se,ke){for(const Ee of kE){const Le=new I({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${Ee}`],title:ke[Ee],"aria-hidden":"true"},children:[se.ownerDocument.importNode(yU,!0)]});se.appendChild(Le.render())}}(ee,T),function(se){const ke=new I({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});se.appendChild(ke.render())}(ee),ee});E.insert(E.createPositionAt(O,"end"),V)}(w.writer,u,_),_.getCustomProperty("widgetLabel").push(()=>this.isEnabled?a("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,i=e.model,a=i.document.selection,u=i.schema,f=e.editing.view;function m(w){return`ck-widget_type-around_show-fake-caret_${w}`}this._listenToIfEnabled(f.document,"arrowKey",(w,_)=>{this._handleArrowKeyPress(w,_)},{context:[Si,"$text"],priority:"high"}),this._listenToIfEnabled(a,"change:range",(w,_)=>{_.directChange&&e.model.change(E=>{E.removeSelectionAttribute(tu)})}),this._listenToIfEnabled(i.document,"change:data",()=>{const w=a.getSelectedElement();w&&ch(e.editing.mapper.toViewElement(w),w,u)||e.model.change(_=>{_.removeSelectionAttribute(tu)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(w,_,E)=>{const T=E.writer;if(this._currentFakeCaretModelElement){const ee=E.mapper.toViewElement(this._currentFakeCaretModelElement);ee&&(T.removeClass(kE.map(m),ee),this._currentFakeCaretModelElement=null)}const O=_.selection.getSelectedElement();if(!O)return;const V=E.mapper.toViewElement(O);if(!ch(V,O,u))return;const K=Gu(_.selection);K&&(T.addClass(m(K),V),this._currentFakeCaretModelElement=O)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(w,_,E)=>{E||e.model.change(T=>{T.removeSelectionAttribute(tu)})})}_handleArrowKeyPress(e,i){const a=this.editor,u=a.model,f=u.document.selection,m=u.schema,w=a.editing.view,_=function(O,V){const K=cm(O,V);return K==="down"||K==="right"}(i.keyCode,a.locale.contentLanguageDirection),E=w.document.selection.getSelectedElement();let T;ch(E,a.editing.mapper.toModelElement(E),m)?T=this._handleArrowKeyPressOnSelectedWidget(_):f.isCollapsed?T=this._handleArrowKeyPressWhenSelectionNextToAWidget(_):i.shiftKey||(T=this._handleArrowKeyPressWhenNonCollapsedSelection(_)),T&&(i.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const i=this.editor.model,a=Gu(i.document.selection);return i.change(u=>a?a!==(e?"after":"before")?(u.removeSelectionAttribute(tu),!0):!1:(u.setSelectionAttribute(tu,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const i=this.editor,a=i.model,u=a.schema,f=i.plugins.get("Widget"),m=f._getObjectElementNextToSelection(e);return!!ch(i.editing.mapper.toViewElement(m),m,u)&&(a.change(w=>{f._setSelectionOverElement(m),w.setSelectionAttribute(tu,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const i=this.editor,a=i.model,u=a.schema,f=i.editing.mapper,m=a.document.selection,w=e?m.getLastPosition().nodeBefore:m.getFirstPosition().nodeAfter;return!!ch(f.toViewElement(w),w,u)&&(a.change(_=>{_.setSelection(w,"on"),_.setSelectionAttribute(tu,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,i=e.editing.view;this._listenToIfEnabled(i.document,"mousedown",(a,u)=>{const f=u.domTarget.closest(".ck-widget__type-around__button");if(!f)return;const m=function(E){return E.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(f),w=function(E,T){const O=E.closest(".ck-widget");return T.mapDomToView(O)}(f,i.domConverter),_=e.editing.mapper.toModelElement(w);this._insertParagraph(_,m),u.preventDefault(),a.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,i=e.model.document.selection,a=e.editing.view;this._listenToIfEnabled(a.document,"enter",(u,f)=>{if(u.eventPhase!="atTarget")return;const m=i.getSelectedElement(),w=e.editing.mapper.toViewElement(m),_=e.model.schema;let E;this._insertParagraphAccordingToFakeCaretPosition()?E=!0:ch(w,m,_)&&(this._insertParagraph(m,f.isSoft?"before":"after"),E=!0),E&&(f.preventDefault(),u.stop())},{context:Si})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(i,a)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(a.selection=e.selection)},{priority:"high"}),b.isAndroid?this._listenToIfEnabled(e,"keydown",(i,a)=>{a.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,i=e.editing.view,a=e.model,u=a.schema;this._listenToIfEnabled(i.document,"delete",(f,m)=>{if(f.eventPhase!="atTarget")return;const w=Gu(a.document.selection);if(!w)return;const _=m.direction,E=a.document.selection.getSelectedElement(),T=_=="forward";if(w==="before"===T)e.execute("delete",{selection:a.createSelection(E,"on")});else{const O=u.getNearestSelectionRange(a.createPositionAt(E,w),_);if(O)if(O.isCollapsed){const V=a.createSelection(O.start);if(a.modifySelection(V,{direction:_}),V.focus.isEqual(O.start)){const K=function(ee,se){let ke=se;for(const Ee of se.getAncestors({parentFirst:!0})){if(Ee.childCount>1||ee.isLimit(Ee))break;ke=Ee}return ke}(u,O.start.parent);a.deleteContent(a.createSelection(K,"on"),{doNotAutoparagraph:!0})}else a.change(K=>{K.setSelection(O),e.execute(T?"deleteForward":"delete")})}else a.change(V=>{V.setSelection(O),e.execute(T?"deleteForward":"delete")})}m.preventDefault(),f.stop()},{context:Si})}_enableInsertContentIntegration(){const e=this.editor,i=this.editor.model,a=i.document.selection;this._listenToIfEnabled(e.model,"insertContent",(u,[f,m])=>{if(m&&!m.is("documentSelection"))return;const w=Gu(a);return w?(u.stop(),i.change(_=>{const E=a.getSelectedElement(),T=i.createPositionAt(E,w),O=_.createSelection(T),V=i.insertContent(f,O);return _.setSelection(O),V})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(a,u)=>{const[,f,m={}]=u;if(f&&!f.is("documentSelection"))return;const w=Gu(i);w&&(m.findOptimalPosition=w,u[3]=m)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(a,[u])=>{u&&!u.is("documentSelection")||Gu(i)&&a.stop()},{priority:"high"})}}function AU(c){const e=c.model;return(i,a)=>{const u=a.keyCode==Pn.arrowup,f=a.keyCode==Pn.arrowdown,m=a.shiftKey,w=e.document.selection;if(!u&&!f)return;const _=f;if(m&&function(T,O){return!T.isCollapsed&&T.isBackward==O}(w,_))return;const E=function(T,O,V){const K=T.model;if(V){const ee=O.isCollapsed?O.focus:O.getLastPosition(),se=yE(K,ee,"forward");if(!se)return null;const ke=K.createRange(ee,se),Ee=vE(K.schema,ke,"backward");return Ee?K.createRange(ee,Ee):null}{const ee=O.isCollapsed?O.focus:O.getFirstPosition(),se=yE(K,ee,"backward");if(!se)return null;const ke=K.createRange(se,ee),Ee=vE(K.schema,ke,"forward");return Ee?K.createRange(Ee,ee):null}}(c,w,_);if(E){if(E.isCollapsed&&(w.isCollapsed||m))return;(E.isCollapsed||function(T,O,V){const K=T.model,ee=T.view.domConverter;if(V){const tt=K.createSelection(O.start);K.modifySelection(tt),tt.focus.isAtEnd||O.start.isEqual(tt.focus)||(O=K.createRange(tt.focus,O.end))}const se=T.mapper.toViewRange(O),ke=ee.viewRangeToDom(se),Ee=Ut.getDomRangeRects(ke);let Le;for(const tt of Ee)if(Le!==void 0){if(Math.round(tt.top)>=Le)return!1;Le=Math.max(Le,Math.round(tt.bottom))}else Le=Math.round(tt.bottom);return!0}(c,E,_))&&(e.change(T=>{const O=_?E.end:E.start;if(m){const V=e.createSelection(w.anchor);V.setFocus(O),T.setSelection(V)}else T.setSelection(O)}),i.stop(),a.preventDefault(),a.stopPropagation())}}}function yE(c,e,i){const a=c.schema,u=c.createRangeIn(e.root),f=i=="forward"?"elementStart":"elementEnd";for(const{previousPosition:m,item:w,type:_}of u.getWalker({startPosition:e,direction:i})){if(a.isLimit(w)&&!a.isInline(w))return m;if(_==f&&a.isBlock(w))return null}return null}function vE(c,e,i){const a=i=="backward"?e.end:e.start;if(c.checkChild(a,"$text"))return a;for(const{nextPosition:u}of e.getWalker({direction:i}))if(c.checkChild(u,"$text"))return u;return null}var AE=s(695),_U={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(AE.A,_U),AE.A.locals;class qm extends ct{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[vU,Xc]}init(){const e=this.editor,i=e.editing.view,a=i.document,u=e.t;this.editor.editing.downcastDispatcher.on("selection",(f,m,w)=>{const _=w.writer,E=m.selection;if(E.isCollapsed)return;const T=E.getSelectedElement();if(!T)return;const O=e.editing.mapper.toViewElement(T);var V;Si(O)&&w.consumable.consume(E,"selection")&&_.setSelection(_.createRangeOn(O),{fake:!0,label:(V=O,V.getCustomProperty("widgetLabel").reduce((K,ee)=>typeof ee=="function"?K?K+". "+ee():ee():K?K+". "+ee:ee,""))})}),this.editor.editing.downcastDispatcher.on("selection",(f,m,w)=>{this._clearPreviouslySelectedWidgets(w.writer);const _=w.writer,E=_.document.selection;let T=null;for(const O of E.getRanges())for(const V of O){const K=V.item;Si(K)&&!CU(K,T)&&(_.addClass(fE,K),this._previouslySelected.add(K),T=K)}},{priority:"low"}),i.addObserver(my),this.listenTo(a,"mousedown",(...f)=>this._onMousedown(...f)),this.listenTo(a,"arrowKey",(...f)=>{this._handleSelectionChangeOnArrowKeyPress(...f)},{context:[Si,"$text"]}),this.listenTo(a,"arrowKey",(...f)=>{this._preventDefaultOnArrowKeyPress(...f)},{context:"$root"}),this.listenTo(a,"arrowKey",AU(this.editor.editing),{context:"$text"}),this.listenTo(a,"delete",(f,m)=>{this._handleDelete(m.direction=="forward")&&(m.preventDefault(),f.stop())},{context:"$root"}),this.listenTo(a,"tab",(f,m)=>{f.eventPhase=="atTarget"&&(m.shiftKey||this._selectFirstNestedEditable()&&(m.preventDefault(),f.stop()))},{context:Si,priority:"low"}),this.listenTo(a,"tab",(f,m)=>{m.shiftKey&&this._selectAncestorWidget()&&(m.preventDefault(),f.stop())},{priority:"low"}),this.listenTo(a,"keydown",(f,m)=>{m.keystroke==Pn.esc&&this._selectAncestorWidget()&&(m.preventDefault(),f.stop())},{priority:"low"}),e.accessibility.addKeystrokeInfoGroup({id:"widget",label:u("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:u("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:u("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:u("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:u("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,i){const a=this.editor,u=a.editing.view,f=u.document;let m=i.target;if(i.domEvent.detail>=3)return void(this._selectBlockContent(m)&&i.preventDefault());if(function(_){let E=_;for(;E;){if(E.is("editableElement")&&!E.is("rootElement"))return!0;if(Si(E))return!1;E=E.parent}return!1}(m)||!Si(m)&&(m=m.findAncestor(Si),!m))return;b.isAndroid&&i.preventDefault(),f.isFocused||u.focus();const w=a.editing.mapper.toModelElement(m);this._setSelectionOverElement(w)}_selectBlockContent(e){const i=this.editor,a=i.model,u=i.editing.mapper,f=a.schema,m=u.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),w=function(_,E){for(const T of _.getAncestors({includeSelf:!0,parentFirst:!0})){if(E.checkChild(T,"$text"))return T;if(E.isLimit(T)&&!E.isObject(T))break}return null}(u.toModelElement(m),a.schema);return!!w&&(a.change(_=>{const E=f.isLimit(w)?null:function(V,K){const ee=new Wc({startPosition:V});for(const{item:se}of ee){if(K.isLimit(se)||!se.is("element"))return null;if(K.checkChild(se,"$text"))return se}return null}(_.createPositionAfter(w),f),T=_.createPositionAt(w,0),O=E?_.createPositionAt(E,0):_.createPositionAt(w,"end");_.setSelection(_.createRange(T,O))}),!0)}_handleSelectionChangeOnArrowKeyPress(e,i){const a=i.keyCode,u=this.editor.model,f=u.schema,m=u.document.selection,w=m.getSelectedElement(),_=cm(a,this.editor.locale.contentLanguageDirection),E=_=="down"||_=="right",T=_=="up"||_=="down";if(w&&f.isObject(w)){const V=E?m.getLastPosition():m.getFirstPosition(),K=f.getNearestSelectionRange(V,E?"forward":"backward");return void(K&&(u.change(ee=>{ee.setSelection(K)}),i.preventDefault(),e.stop()))}if(!m.isCollapsed&&!i.shiftKey){const V=m.getFirstPosition(),K=m.getLastPosition(),ee=V.nodeAfter,se=K.nodeBefore;return void((ee&&f.isObject(ee)||se&&f.isObject(se))&&(u.change(ke=>{ke.setSelection(E?K:V)}),i.preventDefault(),e.stop()))}if(!m.isCollapsed)return;const O=this._getObjectElementNextToSelection(E);if(O&&f.isObject(O)){if(f.isInline(O)&&T)return;this._setSelectionOverElement(O),i.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,i){const a=this.editor.model,u=a.schema,f=a.document.selection.getSelectedElement();f&&u.isObject(f)&&(i.preventDefault(),e.stop())}_handleDelete(e){const i=this.editor.model.document.selection;if(!this.editor.model.canEditAt(i)||!i.isCollapsed)return;const a=this._getObjectElementNextToSelection(e);return a?(this.editor.model.change(u=>{let f=i.anchor.parent;for(;f.isEmpty;){const m=f;f=m.parent,u.remove(m)}this._setSelectionOverElement(a)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(i=>{i.setSelection(i.createRangeOn(e))})}_getObjectElementNextToSelection(e){const i=this.editor.model,a=i.schema,u=i.document.selection,f=i.createSelection(u);if(i.modifySelection(f,{direction:e?"forward":"backward"}),f.isEqual(u))return null;const m=e?f.focus.nodeBefore:f.focus.nodeAfter;return m&&a.isObject(m)?m:null}_clearPreviouslySelectedWidgets(e){for(const i of this._previouslySelected)e.removeClass(fE,i);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,i=this.editor.editing.view.document;for(const a of i.selection.getFirstRange().getItems())if(a.is("editableElement")){const u=e.editing.mapper.toModelElement(a);if(!u)continue;const f=e.model.createPositionAt(u,0),m=e.model.schema.getNearestSelectionRange(f,"forward");return e.model.change(w=>{w.setSelection(m)}),!0}return!1}_selectAncestorWidget(){const e=this.editor,i=e.editing.mapper,a=e.editing.view.document.selection.getFirstPosition().parent,u=(a.is("$text")?a.parent:a).findAncestor(Si);if(!u)return!1;const f=i.toModelElement(u);return!!f&&(e.model.change(m=>{m.setSelection(f,"on")}),!0)}}function CU(c,e){return!!e&&Array.from(c.getAncestors()).includes(e)}class x0 extends ct{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[b0]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const i=e.plugins.get("BalloonToolbar");this.listenTo(i,"show",a=>{(function(u){const f=u.getSelectedElement();return!(!f||!Si(f))})(e.editing.view.document.selection)&&a.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:i,items:a,getRelatedElement:u,balloonClassName:f="ck-toolbar-container"}){if(!a.length)return void L("widget-toolbar-no-items",{toolbarId:e});const m=this.editor,w=m.t,_=new vy(m.locale);if(_.ariaLabel=i||w("Widget toolbar"),this._toolbarDefinitions.has(e))throw new N("widget-toolbar-duplicated",this,{toolbarId:e});const E={view:_,getRelatedElement:u,balloonClassName:f,itemsConfig:a,initialized:!1};m.ui.addToolbar(_,{isContextual:!0,beforeFocus:()=>{const T=u(m.editing.view.document.selection);T&&this._showToolbar(E,T)},afterBlur:()=>{this._hideToolbar(E)}}),this._toolbarDefinitions.set(e,E)}_updateToolbarsVisibility(){let e=0,i=null,a=null;for(const u of this._toolbarDefinitions.values()){const f=u.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&f)if(this.editor.ui.focusTracker.isFocused){const m=f.getAncestors().length;m>e&&(e=m,i=f,a=u)}else this._isToolbarVisible(u)&&this._hideToolbar(u);else this._isToolbarInBalloon(u)&&this._hideToolbar(u)}a&&this._showToolbar(a,i)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,i){this._isToolbarVisible(e)?_E(this.editor,i):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:CE(this.editor,i),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const a of this._toolbarDefinitions.values())if(this._isToolbarVisible(a)){const u=a.getRelatedElement(this.editor.editing.view.document.selection);_E(this.editor,u)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function _E(c,e){const i=c.plugins.get("ContextualBalloon"),a=CE(c,e);i.updatePosition(a)}function CE(c,e){const i=c.editing.view,a=ks.defaultPositions;return{target:i.domConverter.mapViewToDom(e),positions:[a.northArrowSouth,a.northArrowSouthWest,a.northArrowSouthEast,a.southArrowNorth,a.southArrowNorthWest,a.southArrowNorthEast,a.viewportStickyNorth]}}var xE=s(4095),xU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(xE.A,xU),xE.A.locals;const Fy=Bl("px");class SU extends Nt{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",i=>!i)],style:{left:e.to("left",i=>Fy(i)),top:e.to("top",i=>Fy(i)),width:e.to("width",i=>Fy(i))}}})}}class S0 extends ct{constructor(){super(...arguments),this.removeDropMarkerDelayed=hm(()=>this.removeDropMarker(),40),this._updateDropMarkerThrottled=m0(e=>this._updateDropMarker(e),40),this._reconvertMarkerThrottled=m0(()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")},0),this._dropTargetLineView=new SU,this._domEmitter=new(_i()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,i,a,u,f,m){this.removeDropMarkerDelayed.cancel();const w=SE(this.editor,e,i,a,u,f,m);if(w)return m&&m.containsRange(w)?this.removeDropMarker():void this._updateDropMarkerThrottled(w)}getFinalDropRange(e,i,a,u,f,m){const w=SE(this.editor,e,i,a,u,f,m);return this.removeDropMarker(),w}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change(i=>{i.removeMarker("drop-target")})}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(i,{writer:a})=>{if(e.model.schema.checkChild(i.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(a);i.markerRange.isCollapsed?this._updateDropTargetLine(i.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const i=this.editor,a=i.model.markers;i.model.change(u=>{a.has("drop-target")?a.get("drop-target").getRange().isEqual(e)||u.updateMarker("drop-target",{range:e}):u.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(i){const a=this.toDomElement(i);return a.append("â ",i.createElement("span"),"â "),a})}_updateDropTargetLine(e){const i=this.editor.editing,a=e.start.nodeBefore,u=e.start.nodeAfter,f=e.start.parent,m=a?i.mapper.toViewElement(a):null,w=m?i.view.domConverter.mapViewToDom(m):null,_=u?i.mapper.toViewElement(u):null,E=_?i.view.domConverter.mapViewToDom(_):null,T=i.mapper.toViewElement(f);if(!T)return;const O=i.view.domConverter.mapViewToDom(T),V=this._getScrollableRect(T),{scrollX:K,scrollY:ee}=h.window,se=w?new Ut(w):null,ke=E?new Ut(E):null,Ee=new Ut(O).excludeScrollbarsAndBorders(),Le=se?se.bottom:Ee.top,tt=ke?ke.top:Ee.bottom,ft=h.window.getComputedStyle(O),Mt=Le<=tt?(Le+tt)/2:tt;if(V.top<Mt&&Mt<V.bottom){const rn=Ee.left+parseFloat(ft.paddingLeft),wn=Ee.right-parseFloat(ft.paddingRight),Er=Math.max(rn+K,V.left),Yi=Math.min(wn+K,V.right);this._dropTargetLineView.set({isVisible:!0,left:Er,top:Mt+ee,width:Yi-Er})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const i=e.root.rootName;let a;if(this._scrollables.has(i))a=this._scrollables.get(i).domElement;else{a=function(f){let m=f;do{m=m.parentElement;const w=h.window.getComputedStyle(m).overflowY;if(w=="auto"||w=="scroll")break}while(m.tagName!="BODY");return m}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(a,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const u=new va(a,this._reconvertMarkerThrottled);this._scrollables.set(i,{domElement:a,resizeObserver:u})}return new Ut(a).excludeScrollbarsAndBorders()}}function SE(c,e,i,a,u,f,m){const w=c.model,_=c.editing.mapper;let E=DE(c,e);for(;E;){if(!f){if(w.schema.checkChild(E,"$text")){if(i){const T=i[0].start,O=_.toModelPosition(T);if(!m||Array.from(m.getItems()).every(V=>w.schema.checkChild(O,V))){if(w.schema.checkChild(O,"$text"))return w.createRange(O);if(T)return E0(c,DE(c,T.parent),a,u)}}}else if(w.schema.isInline(E))return E0(c,E,a,u)}if(w.schema.isBlock(E))return E0(c,E,a,u);if(w.schema.checkChild(E,"$block")){const T=Array.from(E.getChildren()).filter(K=>K.is("element")&&!EU(c,K));let O=0,V=T.length;if(V==0)return w.createRange(w.createPositionAt(E,"end"));for(;O<V-1;){const K=Math.floor((O+V)/2);EE(c,T[K],a,u)=="before"?V=K:O=K}return E0(c,T[O],a,u)}E=E.parent}return null}function EU(c,e){const i=c.editing.mapper,a=c.editing.view.domConverter,u=i.toViewElement(e);if(!u)return!0;const f=a.mapViewToDom(u);return h.window.getComputedStyle(f).float!="none"}function E0(c,e,i,a){const u=c.model;return u.createRange(u.createPositionAt(e,EE(c,e,i,a)))}function EE(c,e,i,a){const u=c.editing.mapper,f=c.editing.view.domConverter,m=u.toViewElement(e),w=f.mapViewToDom(m),_=new Ut(w);return c.model.schema.isInline(e)?i<(_.left+_.right)/2?"before":"after":a<(_.top+_.bottom)/2?"before":"after"}function DE(c,e){const i=c.editing.mapper,a=c.editing.view,u=i.toModelElement(e);if(u)return u;const f=a.createPositionBefore(e),m=i.findMappedViewAncestor(f);return i.toModelElement(m)}var DU=Object.defineProperty,IU=Object.defineProperties,TU=Object.getOwnPropertyDescriptors,IE=Object.getOwnPropertySymbols,NU=Object.prototype.hasOwnProperty,MU=Object.prototype.propertyIsEnumerable,TE=(c,e,i)=>e in c?DU(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class PU extends ct{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(_i())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",(i,a,u)=>{u?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")}),b.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const i=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(i,"dragstart",(a,u)=>this._handleBlockDragStart(u)),this._domEmitter.listenTo(h.document,"dragover",(a,u)=>this._handleBlockDragging(u)),this._domEmitter.listenTo(h.document,"drop",(a,u)=>this._handleBlockDragging(u)),this._domEmitter.listenTo(h.document,"dragend",()=>this._handleBlockDragEnd(),{useCapture:!0}),this.isEnabled&&i.setAttribute("draggable","true"),this.on("change:isEnabled",(a,u,f)=>{i.setAttribute("draggable",f?"true":"false")})}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const i=this.editor.model,a=i.document.selection,u=this.editor.editing.view,f=Array.from(a.getSelectedBlocks()),m=i.createRange(i.createPositionBefore(f[0]),i.createPositionAfter(f[f.length-1]));i.change(w=>w.setSelection(m)),this._isBlockDragging=!0,u.focus(),u.getObserver(Bm).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const i=e.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100),a=e.clientY,u=document.elementFromPoint(i,a),f=this.editor.editing.view;var m,w;u&&u.closest(".ck-editor__editable")&&f.getObserver(Bm).onDomEvent((m=((_,E)=>{for(var T in E||(E={}))NU.call(E,T)&&TE(_,T,E[T]);if(IE)for(var T of IE(E))MU.call(E,T)&&TE(_,T,E[T]);return _})({},e),w={type:e.type,dataTransfer:e.dataTransfer,target:u,clientX:i,clientY:a,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()},IU(m,TU(w))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var NE=s(7793),OU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(NE.A,OU),NE.A.locals;class jU extends ct{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=hm(()=>this._clearDraggableAttributes(),40),this._blockMode=!1,this._domEmitter=new(_i())}static get pluginName(){return"DragDrop"}static get requires(){return[Na,qm,S0,PU]}init(){const e=this.editor,i=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,i.addObserver(Bm),i.addObserver(my),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(a,u,f)=>{f?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(a,u,f)=>{f||this._finalizeDragging(!1)}),b.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,i=e.model,a=e.editing.view,u=a.document,f=e.plugins.get(S0);this.listenTo(u,"dragstart",(m,w)=>{if(w.target&&w.target.is("editableElement")||(this._prepareDraggedRange(w.target),!this._draggedRange))return void w.preventDefault();this._draggingUid=P(),w.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",w.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const _=i.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(w.dataTransfer,_,"dragstart");const{dataTransfer:E,domTarget:T,domEvent:O}=w,{clientX:V}=O;this._updatePreview({dataTransfer:E,domTarget:T,clientX:V}),w.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(u,"dragend",(m,w)=>{this._finalizeDragging(!w.dataTransfer.isCanceled&&w.dataTransfer.dropEffect=="move")},{priority:"low"}),this._domEmitter.listenTo(h.document,"dragend",()=>{this._blockMode=!1},{useCapture:!0}),this.listenTo(u,"dragenter",()=>{this.isEnabled&&a.focus()}),this.listenTo(u,"dragleave",()=>{f.removeDropMarkerDelayed()}),this.listenTo(u,"dragging",(m,w)=>{if(!this.isEnabled)return void(w.dataTransfer.dropEffect="none");const{clientX:_,clientY:E}=w.domEvent;f.updateDropMarker(w.target,w.targetRanges,_,E,this._blockMode,this._draggedRange),this._draggedRange||(w.dataTransfer.dropEffect="copy"),b.isGecko||(w.dataTransfer.effectAllowed=="copy"?w.dataTransfer.dropEffect="copy":["all","copyMove"].includes(w.dataTransfer.effectAllowed)&&(w.dataTransfer.dropEffect="move")),m.stop()},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,i=e.editing.view.document,a=e.plugins.get(S0);this.listenTo(i,"clipboardInput",(u,f)=>{if(f.method!="drop")return;const{clientX:m,clientY:w}=f.domEvent,_=a.getFinalDropRange(f.target,f.targetRanges,m,w,this._blockMode,this._draggedRange);if(!_)return this._finalizeDragging(!1),void u.stop();if(this._draggedRange&&this._draggingUid!=f.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),ME(f.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(_,!0))return this._finalizeDragging(!1),void u.stop();f.targetRanges=[e.editing.mapper.toViewRange(_)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Na);e.on("contentInsertion",(i,a)=>{if(!this.isEnabled||a.method!=="drop")return;const u=a.targetRanges.map(f=>this.editor.editing.mapper.toModelRange(f));this.editor.model.change(f=>f.setSelection(u))},{priority:"high"}),e.on("contentInsertion",(i,a)=>{if(!this.isEnabled||a.method!=="drop")return;const u=ME(a.dataTransfer)=="move",f=!a.resultRange||!a.resultRange.isCollapsed;this._finalizeDragging(f&&u)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,i=e.editing.view,a=i.document;this.listenTo(a,"mousedown",(u,f)=>{if(b.isAndroid||!f)return;this._clearDraggableAttributesDelayed.cancel();let m=PE(f.target);if(b.isBlink&&!e.isReadOnly&&!m&&!a.selection.isCollapsed){const w=a.selection.getSelectedElement();w&&Si(w)||(m=a.selection.editableElement)}m&&(i.change(w=>{w.setAttribute("draggable","true",m)}),this._draggableElement=e.editing.mapper.toModelElement(m))}),this.listenTo(a,"mouseup",()=>{b.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(i=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&i.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_finalizeDragging(e){const i=this.editor,a=i.model;i.plugins.get(S0).removeDropMarker(),this._clearDraggableAttributes(),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&a.change(u=>{const f=a.createSelection(this._draggedRange);a.deleteContent(f,{doNotAutoparagraph:!0});const m=f.getFirstPosition().parent;m.isEmpty&&!a.schema.checkChild(m,"$text")&&a.schema.checkChild(m,"paragraph")&&u.insertElement("paragraph",m,0)}),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const i=this.editor,a=i.model,u=a.document.selection,f=e?PE(e):null;if(f){const E=i.editing.mapper.toModelElement(f);this._draggedRange=Vs.fromRange(a.createRangeOn(E)),this._blockMode=a.schema.isBlock(E),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop");return}if(u.isCollapsed&&!u.getFirstPosition().parent.isEmpty)return;const m=Array.from(u.getSelectedBlocks()),w=u.getFirstRange();if(m.length==0)return void(this._draggedRange=Vs.fromRange(w));const _=OE(a,m);if(m.length>1)this._draggedRange=Vs.fromRange(_),this._blockMode=!0;else if(m.length==1){const E=w.start.isTouching(_.start)&&w.end.isTouching(_.end);this._draggedRange=Vs.fromRange(E?_:w),this._blockMode=E}a.change(E=>E.setSelection(this._draggedRange.toRange()))}_updatePreview({dataTransfer:e,domTarget:i,clientX:a}){const u=this.editor.editing.view,f=u.document.selection.editableElement,m=u.domConverter.mapViewToDom(f),w=h.window.getComputedStyle(m);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=Dn(h.document,"div",{style:"position: fixed; left: -999999px;"}),h.document.body.appendChild(this._previewContainer));const _=new Ut(m);if(m.contains(i))return;const E=parseFloat(w.paddingLeft),T=Dn(h.document,"div");T.className="ck ck-content",T.style.width=w.width,T.style.paddingLeft=`${_.left-a+E}px`,b.isiOS&&(T.style.backgroundColor="white"),T.innerHTML=e.getData("text/html"),e.setDragImage(T,0,0),this._previewContainer.appendChild(T)}}function ME(c){return b.isGecko?c.dropEffect:["all","copyMove"].includes(c.effectAllowed)?"move":"copy"}function PE(c){if(c.is("editableElement"))return null;if(c.hasClass("ck-widget__selection-handle"))return c.findAncestor(Si);if(Si(c))return c;const e=c.findAncestor(i=>Si(i)||i.is("editableElement"));return Si(e)?e:null}function OE(c,e){const i=e[0],a=e[e.length-1],u=i.getCommonAncestor(a),f=c.createPositionBefore(i),m=c.createPositionAfter(a);if(u&&u.is("element")&&!c.schema.isLimit(u)){const w=c.createRangeOn(u),_=f.isTouching(w.start),E=m.isTouching(w.end);if(_&&E)return OE(c,[u])}return c.createRange(f,m)}class LU extends ct{static get pluginName(){return"PastePlainText"}static get requires(){return[Na]}init(){const e=this.editor,i=e.model,a=e.editing.view,u=a.document,f=i.document.selection;let m=!1;a.addObserver(Bm),this.listenTo(u,"keydown",(w,_)=>{m=_.shiftKey}),e.plugins.get(Na).on("contentInsertion",(w,_)=>{(m||function(E,T){if(E.childCount>1)return!1;const O=E.getChild(0);return T.isObject(O)?!1:Array.from(O.getAttributeKeys()).length==0}(_.content,i.schema))&&i.change(E=>{const T=Array.from(f.getAttributes()).filter(([V])=>i.schema.getAttributeProperties(V).isFormatting);f.isCollapsed||i.deleteContent(f,{doNotAutoparagraph:!0}),T.push(...f.getAttributes());const O=E.createRangeIn(_.content);for(const V of O.getItems())V.is("$textProxy")&&E.setAttributes(T,V)})})}}class jE extends ct{static get pluginName(){return"Clipboard"}static get requires(){return[Rm,Na,jU,LU]}init(){const e=this.editor,i=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Copy selected content"),keystroke:"CTRL+C"},{label:i("Paste content"),keystroke:"CTRL+V"},{label:i("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class BU extends Ht{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,i=e.document.selection;let a=e.schema.getLimitElement(i);if(i.containsEntireContent(a)||!LE(e.schema,a))do if(a=a.parent,!a)return;while(!LE(e.schema,a));e.change(u=>{u.setSelection(a,"in")})}}function LE(c,e){return c.isLimit(e)&&(c.checkChild(e,"$text")||c.checkChild(e,"paragraph"))}const RU=nl("Ctrl+A");class FU extends ct{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,i=e.t,a=e.editing.view.document;e.commands.add("selectAll",new BU(e)),this.listenTo(a,"keydown",(u,f)=>{Fl(f)===RU&&(e.execute("selectAll"),f.preventDefault())}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Select all"),keystroke:"CTRL+A"}]})}}class zU extends ct{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",()=>{const i=this._createButton(Wn);return i.set({tooltip:!0}),i}),e.ui.componentFactory.add("menuBar:selectAll",()=>this._createButton(Hs))}_createButton(e){const i=this.editor,a=i.locale,u=i.commands.get("selectAll"),f=new e(i.locale),m=a.t;return f.set({label:m("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),f.bind("isEnabled").to(u,"isEnabled"),this.listenTo(f,"execute",()=>{i.execute("selectAll"),i.editing.view.focus()}),f}}class UU extends ct{static get requires(){return[FU,zU]}static get pluginName(){return"SelectAll"}}var qU=Object.defineProperty,BE=Object.getOwnPropertySymbols,VU=Object.prototype.hasOwnProperty,$U=Object.prototype.propertyIsEnumerable,RE=(c,e,i)=>e in c?qU(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class FE extends Ht{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(i,a)=>{a[1]=((f,m)=>{for(var w in m||(m={}))VU.call(m,w)&&RE(f,w,m[w]);if(BE)for(var w of BE(m))$U.call(m,w)&&RE(f,w,m[w]);return f})({},a[1]);const u=a[1];u.batchType||(u.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(i,a)=>{a[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const i=this.editor.model.document.selection,a={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:e,selection:a}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,i,a){const u=this.editor.model,f=u.document,m=[],w=e.map(E=>E.getTransformedByOperations(a)),_=w.flat();for(const E of w){const T=E.filter(O=>O.root!=f.graveyard).filter(O=>!WU(O,_));T.length&&(HU(T),m.push(T[0]))}m.length&&u.change(E=>{E.setSelection(m,{backward:i})})}_undo(e,i){const a=this.editor.model,u=a.document;this._createdBatches.add(i);const f=e.operations.slice().filter(m=>m.isDocumentOperation);f.reverse();for(const m of f){const w=m.baseVersion+1,_=Array.from(u.history.getOperations(w)),E=x7([m.getReversed()],_,{useRelations:!0,document:this.editor.model.document,forceWeakRemove:!0}).operationsA;for(let T of E){const O=T.affectedSelectable;O&&!a.canEditAt(O)&&(T=new Wi(T.baseVersion)),i.addOperation(T),a.applyOperation(T),u.history.setOperationAsUndone(m,T)}}}}function HU(c){c.sort((e,i)=>e.start.isBefore(i.start)?-1:1);for(let e=1;e<c.length;e++){const i=c[e-1].getJoined(c[e],!0);i&&(e--,c.splice(e,2,i))}}function WU(c,e){return e.some(i=>i!==c&&i.containsRange(c,!0))}class GU extends FE{execute(e=null){const i=e?this._stack.findIndex(f=>f.batch==e):this._stack.length-1,a=this._stack.splice(i,1)[0],u=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(u,()=>{this._undo(a.batch,u);const f=this.editor.model.document.history.getOperations(a.batch.baseVersion);this._restoreSelection(a.selection.ranges,a.selection.isBackward,f)}),this.fire("revert",a.batch,u),this.refresh()}}class YU extends FE{execute(){const e=this._stack.pop(),i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{const a=e.batch.operations[e.batch.operations.length-1].baseVersion+1,u=this.editor.model.document.history.getOperations(a);this._restoreSelection(e.selection.ranges,e.selection.isBackward,u),this._undo(e.batch,i)}),this.refresh()}}class KU extends ct{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor,i=e.t;this._undoCommand=new GU(e),this._redoCommand=new YU(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(a,u)=>{const f=u[0];if(!f.isDocumentOperation)return;const m=f.batch,w=this._redoCommand.createdBatches.has(m),_=this._undoCommand.createdBatches.has(m);this._batchRegistry.has(m)||(this._batchRegistry.add(m),m.isUndoable&&(w?this._undoCommand.addBatch(m):_||(this._undoCommand.addBatch(m),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(a,u,f)=>{this._redoCommand.addBatch(f)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Undo"),keystroke:"CTRL+Z"},{label:i("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class QU extends ct{static get pluginName(){return"UndoUI"}init(){const e=this.editor,i=e.locale,a=e.t,u=i.uiLanguageDirection=="ltr"?fn.undo:fn.redo,f=i.uiLanguageDirection=="ltr"?fn.redo:fn.undo;this._addButtonsToFactory("undo",a("Undo"),"CTRL+Z",u),this._addButtonsToFactory("redo",a("Redo"),"CTRL+Y",f)}_addButtonsToFactory(e,i,a,u){const f=this.editor;f.ui.componentFactory.add(e,()=>{const m=this._createButton(Wn,e,i,a,u);return m.set({tooltip:!0}),m}),f.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(Hs,e,i,a,u))}_createButton(e,i,a,u,f){const m=this.editor,w=m.locale,_=m.commands.get(i),E=new e(w);return E.set({label:a,icon:f,keystroke:u}),E.bind("isEnabled").to(_,"isEnabled"),this.listenTo(E,"execute",()=>{m.execute(i),m.editing.view.focus()}),E}}class zE extends ct{static get requires(){return[KU,QU]}static get pluginName(){return"Undo"}}class JU extends Ue(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=i=>{this.loaded=i.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const i=this._reader;return this.total=e.size,new Promise((a,u)=>{i.onload=()=>{const f=i.result;this._data=f,a(f)},i.onerror=()=>{u("error")},i.onabort=()=>{u("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class cl extends ct{constructor(){super(...arguments),this.loaders=new zs,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[t5]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,i)=>i?e/i*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return L("filerepository-no-upload-adapter"),null;const i=new UE(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(i),this._loadersMap.set(e,i),e instanceof Promise&&i.file.then(a=>{this._loadersMap.set(a,i)}).catch(()=>{}),i.on("change:uploaded",()=>{let a=0;for(const u of this.loaders)a+=u.uploaded;this.uploaded=a}),i.on("change:uploadTotal",()=>{let a=0;for(const u of this.loaders)u.uploadTotal&&(a+=u.uploadTotal);this.uploadTotal=a}),i}destroyLoader(e){const i=e instanceof UE?e:this.getLoader(e);i._destroy(),this.loaders.remove(i),this._loadersMap.forEach((a,u)=>{a===i&&this._loadersMap.delete(u)})}_updatePendingAction(){const e=this.editor.plugins.get(t5);if(this.loaders.length){if(!this._pendingAction){const i=this.editor.t,a=u=>`${i("Upload in progress")} ${parseInt(u)}%.`;this._pendingAction=e.add(a(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",a)}}else e.remove(this._pendingAction),this._pendingAction=null}}class UE extends Ue(){constructor(e,i){super(),this.id=P(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=i(this),this._reader=new JU,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(a,u)=>u?a/u*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new N("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new N("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const i={};return i.promise=new Promise((a,u)=>{i.rejecter=u,i.isFulfilled=!1,e.then(f=>{i.isFulfilled=!0,a(f)}).catch(f=>{i.isFulfilled=!0,u(f)})}),i}}const qE="ckCsrfToken",VE="abcdefghijklmnopqrstuvwxyz0123456789";function ZU(){let c=function(a){a=a.toLowerCase();const u=document.cookie.split(";");for(const f of u){const m=f.split("=");if(decodeURIComponent(m[0].trim().toLowerCase())===a)return decodeURIComponent(m[1])}return null}(qE);var e,i;return c&&c.length==40||(c=function(a){let u="";const f=new Uint8Array(a);window.crypto.getRandomValues(f);for(let m=0;m<f.length;m++){const w=VE.charAt(f[m]%VE.length);u+=Math.random()>.5?w.toUpperCase():w}return u}(40),e=qE,i=c,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(i)+";path=/"),c}class XU{constructor(e,i,a){this.loader=e,this.url=i,this.t=a}upload(){return this.loader.file.then(e=>new Promise((i,a)=>{this._initRequest(),this._initListeners(i,a,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,i,a){const u=this.xhr,f=this.loader,m=(0,this.t)("Cannot upload file:")+` ${a.name}.`;u.addEventListener("error",()=>i(m)),u.addEventListener("abort",()=>i()),u.addEventListener("load",()=>{const w=u.response;if(!w||!w.uploaded)return i(w&&w.error&&w.error.message?w.error.message:m);e({default:w.url})}),u.upload&&u.upload.addEventListener("progress",w=>{w.lengthComputable&&(f.uploadTotal=w.total,f.uploaded=w.loaded)})}_sendRequest(e){const i=new FormData;i.append("upload",e),i.append("ckCsrfToken",ZU()),this.xhr.send(i)}}function Yu(c,e,i,a){let u,f=null;typeof a=="function"?u=a:(f=c.commands.get(a),u=()=>{c.execute(a)}),c.model.document.on("change:data",(m,w)=>{if(f&&!f.isEnabled||!e.isEnabled)return;const _=Bi(c.model.document.selection.getRanges());if(!_.isCollapsed||w.isUndo||!w.isLocal)return;const E=Array.from(c.model.document.differ.getChanges()),T=E[0];if(E.length!=1||T.type!=="insert"||T.name!="$text"||T.length!=1)return;const O=T.position.parent;if(O.is("element","codeBlock")||O.is("element","listItem")&&typeof a!="function"&&!["numberedList","bulletedList","todoList"].includes(a)||f&&f.value===!0)return;const V=O.getChild(0),K=c.model.createRangeOn(V);if(!K.containsRange(_)&&!_.end.isEqual(K.end))return;const ee=i.exec(V.data.substr(0,_.end.offset));ee&&c.model.enqueueChange(se=>{const ke=se.createPositionAt(O,0),Ee=se.createPositionAt(O,ee[0].length),Le=new Vs(ke,Ee);if(u({match:ee})!==!1){se.remove(Le);const tt=c.model.document.selection.getFirstRange(),ft=se.createRangeIn(O);!O.isEmpty||ft.isEqual(tt)||ft.containsRange(tt,!0)||se.remove(O)}Le.detach(),c.model.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})})})}function Ff(c,e,i,a){let u,f;i instanceof RegExp?u=i:f=i,f=f||(m=>{let w;const _=[],E=[];for(;(w=u.exec(m))!==null&&!(w&&w.length<4);){let{index:T,1:O,2:V,3:K}=w;const ee=O+V+K;T+=w[0].length-ee.length;const se=[T,T+O.length],ke=[T+O.length+V.length,T+O.length+V.length+K.length];_.push(se),_.push(ke),E.push([T+O.length,T+O.length+V.length])}return{remove:_,format:E}}),c.model.document.on("change:data",(m,w)=>{if(w.isUndo||!w.isLocal||!e.isEnabled)return;const _=c.model,E=_.document.selection;if(!E.isCollapsed)return;const T=Array.from(_.document.differ.getChanges()),O=T[0];if(T.length!=1||O.type!=="insert"||O.name!="$text"||O.length!=1)return;const V=E.focus,K=V.parent,{text:ee,range:se}=function(tt,ft){let Mt=tt.start;return{text:Array.from(tt.getItems()).reduce((wn,Er)=>!Er.is("$text")&&!Er.is("$textProxy")||Er.getAttribute("code")?(Mt=ft.createPositionAfter(Er),""):wn+Er.data,""),range:ft.createRange(Mt,tt.end)}}(_.createRange(_.createPositionAt(K,0),V),_),ke=f(ee),Ee=$E(se.start,ke.format,_),Le=$E(se.start,ke.remove,_);Ee.length&&Le.length&&_.enqueueChange(tt=>{if(a(tt,Ee)!==!1){for(const ft of Le.reverse())tt.remove(ft);_.enqueueChange(()=>{c.plugins.get("Delete").requestUndoOnBackspace()})}})})}function $E(c,e,i){return e.filter(a=>a[0]!==void 0&&a[1]!==void 0).map(a=>i.createRange(c.getShiftedBy(a[0]),c.getShiftedBy(a[1])))}function D0(c,e){return(i,a)=>{if(!c.commands.get(e).isEnabled)return!1;const u=c.model.schema.getValidRanges(a,e);for(const f of u)i.setAttribute(e,!0,f);i.removeSelectionAttribute(e)}}class HE extends Ht{constructor(e,i){super(e),this.attributeKey=i}refresh(){const e=this.editor.model,i=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(e={}){const i=this.editor.model,a=i.document.selection,u=e.forceValue===void 0?!this.value:e.forceValue;i.change(f=>{if(a.isCollapsed)u?f.setSelectionAttribute(this.attributeKey,!0):f.removeSelectionAttribute(this.attributeKey);else{const m=i.schema.getValidRanges(a.getRanges(),this.attributeKey);for(const w of m)u?f.setAttribute(this.attributeKey,u,w):f.removeAttribute(this.attributeKey,w)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,i=e.schema,a=e.document.selection;if(a.isCollapsed)return a.hasAttribute(this.attributeKey);for(const u of a.getRanges())for(const f of u.getItems())if(i.checkAttribute(f,this.attributeKey))return f.hasAttribute(this.attributeKey);return!1}}const zf="bold";class eq extends ct{static get pluginName(){return"BoldEditing"}init(){const e=this.editor,i=this.editor.t;e.model.schema.extend("$text",{allowAttributes:zf}),e.model.schema.setAttributeProperties(zf,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:zf,view:"strong",upcastAlso:["b",a=>{const u=a.getStyle("font-weight");return u&&(u=="bold"||Number(u)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(zf,new HE(e,zf)),e.keystrokes.set("CTRL+B",zf),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Bold text"),keystroke:"CTRL+B"}]})}}function WE({editor:c,commandName:e,plugin:i,icon:a,label:u,keystroke:f}){return m=>{const w=c.commands.get(e),_=new m(c.locale);return _.set({label:u,icon:a,keystroke:f,isToggleable:!0}),_.bind("isEnabled").to(w,"isEnabled"),i.listenTo(_,"execute",()=>{c.execute(e),c.editing.view.focus()}),_}}const I0="bold";class tq extends ct{static get pluginName(){return"BoldUI"}init(){const e=this.editor,i=e.locale.t,a=e.commands.get(I0),u=WE({editor:e,commandName:I0,plugin:this,icon:fn.bold,label:i("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(I0,()=>{const f=u(Wn);return f.set({tooltip:!0}),f.bind("isOn").to(a,"value"),f}),e.ui.componentFactory.add("menuBar:"+I0,()=>u(Hs))}}var GE=s(4199),nq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(GE.A,nq),GE.A.locals;const Uf="italic";class rq extends ct{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor,i=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Uf}),e.model.schema.setAttributeProperties(Uf,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Uf,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Uf,new HE(e,Uf)),e.keystrokes.set("CTRL+I",Uf),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Italic text"),keystroke:"CTRL+I"}]})}}const T0="italic";class iq extends ct{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,i=e.commands.get(T0),a=e.locale.t,u=WE({editor:e,commandName:T0,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:a("Italic")});e.ui.componentFactory.add(T0,()=>{const f=u(Wn);return f.set({tooltip:!0}),f.bind("isOn").to(i,"value"),f}),e.ui.componentFactory.add("menuBar:"+T0,()=>u(Hs))}}class oq extends Ht{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,a=i.schema,u=i.document.selection,f=Array.from(u.getSelectedBlocks()),m=e.forceValue===void 0?!this.value:e.forceValue;i.change(w=>{if(m){const _=f.filter(E=>N0(E)||KE(a,E));this._applyQuote(w,_)}else this._removeQuote(w,f.filter(N0))})}_getValue(){const e=Bi(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!N0(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,i=this.editor.model.schema,a=Bi(e.getSelectedBlocks());return!!a&&KE(i,a)}_removeQuote(e,i){YE(e,i).reverse().forEach(a=>{if(a.start.isAtStart&&a.end.isAtEnd)return void e.unwrap(a.start.parent);if(a.start.isAtStart){const f=e.createPositionBefore(a.start.parent);return void e.move(a,f)}a.end.isAtEnd||e.split(a.end);const u=e.createPositionAfter(a.end.parent);e.move(a,u)})}_applyQuote(e,i){const a=[];YE(e,i).reverse().forEach(u=>{let f=N0(u.start);f||(f=e.createElement("blockQuote"),e.wrap(u,f)),a.push(f)}),a.reverse().reduce((u,f)=>u.nextSibling==f?(e.merge(e.createPositionAfter(u)),u):f)}}function N0(c){return c.parent.name=="blockQuote"?c.parent:null}function YE(c,e){let i,a=0;const u=[];for(;a<e.length;){const f=e[a],m=e[a+1];i||(i=c.createPositionBefore(f)),m&&f.nextSibling==m||(u.push(c.createRange(i,c.createPositionAfter(f))),i=null),a++}return u}function KE(c,e){const i=c.checkChild(e.parent,"blockQuote"),a=c.checkChild(["$root","blockQuote"],e);return i&&a}class sq extends ct{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[_0,Xc]}init(){const e=this.editor,i=e.model.schema;e.commands.add("blockQuote",new oq(e)),i.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(m=>{const w=e.model.document.differ.getChanges();for(const _ of w)if(_.type=="insert"){const E=_.position.nodeAfter;if(!E)continue;if(E.is("element","blockQuote")&&E.isEmpty)return m.remove(E),!0;if(E.is("element","blockQuote")&&!i.checkChild(_.position,E))return m.unwrap(E),!0;if(E.is("element")){const T=m.createRangeIn(E);for(const O of T.getItems())if(O.is("element","blockQuote")&&!i.checkChild(m.createPositionBefore(O),O))return m.unwrap(O),!0}}else if(_.type=="remove"){const E=_.position.parent;if(E.is("element","blockQuote")&&E.isEmpty)return m.remove(E),!0}return!1});const a=this.editor.editing.view.document,u=e.model.document.selection,f=e.commands.get("blockQuote");this.listenTo(a,"enter",(m,w)=>{!u.isCollapsed||!f.value||u.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),w.preventDefault(),m.stop())},{context:"blockquote"}),this.listenTo(a,"delete",(m,w)=>{if(w.direction!="backward"||!u.isCollapsed||!f.value)return;const _=u.getLastPosition().parent;_.isEmpty&&!_.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),w.preventDefault(),m.stop())},{context:"blockquote"})}}var QE=s(8708),aq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(QE.A,aq),QE.A.locals;class lq extends ct{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,i=e.commands.get("blockQuote");e.ui.componentFactory.add("blockQuote",()=>{const a=this._createButton(Wn);return a.set({tooltip:!0}),a.bind("isOn").to(i,"value"),a}),e.ui.componentFactory.add("menuBar:blockQuote",()=>this._createButton(Hs))}_createButton(e){const i=this.editor,a=i.locale,u=i.commands.get("blockQuote"),f=new e(i.locale),m=a.t;return f.set({label:m("Block quote"),icon:fn.quote,isToggleable:!0}),f.bind("isEnabled").to(u,"isEnabled"),this.listenTo(f,"execute",()=>{i.execute("blockQuote"),i.editing.view.focus()}),f}}class cq extends ct{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor;if(!e.commands.get("ckbox"))return;const i=e.t,a=e.ui.componentFactory;if(a.add("ckbox",()=>{const u=this._createButton(Wn);return u.tooltip=!0,u}),a.add("menuBar:ckbox",()=>this._createButton(Hs)),e.plugins.has("ImageInsertUI")){const u=e.plugins.get("ImageInsertUI");u.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckbox"),buttonViewCreator:()=>{const f=this.editor.ui.componentFactory.create("ckbox");return f.icon=fn.imageAssetManager,f.bind("label").to(u,"isImageSelected",m=>i(m?"Replace image with file manager":"Insert image with file manager")),f},formViewCreator:()=>{const f=this.editor.ui.componentFactory.create("ckbox");return f.icon=fn.imageAssetManager,f.withText=!0,f.bind("label").to(u,"isImageSelected",m=>i(m?"Replace with file manager":"Insert with file manager")),f.on("execute",()=>{u.dropdownView.isOpen=!1}),f}})}}_createButton(e){const i=this.editor,a=i.locale,u=new e(a),f=i.commands.get("ckbox"),m=a.t;return u.set({label:m("Open file manager"),icon:fn.browseFiles}),u.bind("isOn","isEnabled").to(f,"value","isEnabled"),u.on("execute",()=>{i.execute("ckbox")}),u}}var uq=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],Vm=c=>{let e=0;for(let i=0;i<c.length;i++){let a=c[i];e=83*e+uq.indexOf(a)}return e},zy=c=>{let e=c/255;return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},Uy=c=>{let e=Math.max(0,Math.min(1,c));return e<=.0031308?Math.trunc(12.92*e*255+.5):Math.trunc(255*(1.055*Math.pow(e,.4166666666666667)-.055)+.5)},qy=(c,e)=>(i=>i<0?-1:1)(c)*Math.pow(Math.abs(c),e),JE=class extends Error{constructor(c){super(c),this.name="ValidationError",this.message=c}},dq=c=>{if(!c||c.length<6)throw new JE("The blurhash string must be at least 6 characters");let e=Vm(c[0]),i=Math.floor(e/9)+1,a=e%9+1;if(c.length!==4+2*a*i)throw new JE(`blurhash length mismatch: length is ${c.length} but it should be ${4+2*a*i}`)},hq=c=>{let e=c>>8&255,i=255&c;return[zy(c>>16),zy(e),zy(i)]},fq=(c,e)=>{let i=Math.floor(c/361),a=Math.floor(c/19)%19,u=c%19;return[qy((i-9)/9,2)*e,qy((a-9)/9,2)*e,qy((u-9)/9,2)*e]},pq=(c,e,i,a)=>{dq(c),a|=1;let u=Vm(c[0]),f=Math.floor(u/9)+1,m=u%9+1,w=(Vm(c[1])+1)/166,_=new Array(m*f);for(let O=0;O<_.length;O++)if(O===0){let V=Vm(c.substring(2,6));_[O]=hq(V)}else{let V=Vm(c.substring(4+2*O,6+2*O));_[O]=fq(V,w*a)}let E=4*e,T=new Uint8ClampedArray(E*i);for(let O=0;O<i;O++)for(let V=0;V<e;V++){let K=0,ee=0,se=0;for(let tt=0;tt<f;tt++)for(let ft=0;ft<m;ft++){let Mt=Math.cos(Math.PI*V*ft/e)*Math.cos(Math.PI*O*tt/i),rn=_[ft+tt*m];K+=rn[0]*Mt,ee+=rn[1]*Mt,se+=rn[2]*Mt}let ke=Uy(K),Ee=Uy(ee),Le=Uy(se);T[4*V+0+O*E]=ke,T[4*V+1+O*E]=Ee,T[4*V+2+O*E]=Le,T[4*V+3+O*E]=255}return T},mq=Object.defineProperty,ZE=Object.getOwnPropertySymbols,gq=Object.prototype.hasOwnProperty,bq=Object.prototype.propertyIsEnumerable,XE=(c,e,i)=>e in c?mq(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;function e3(c){const e=[];let i=0;for(const u in c){const f=parseInt(u,10);isNaN(f)||(f>i&&(i=f),e.push(`${c[u]} ${u}w`))}const a=[{srcset:e.join(","),sizes:`(max-width: ${i}px) 100vw, ${i}px`,type:"image/webp"}];return{imageFallbackUrl:c.default,imageSources:a}}const $m=32;function t3({url:c,method:e="GET",data:i,onUploadProgress:a,signal:u,authorization:f}){const m=new XMLHttpRequest;m.open(e,c.toString()),m.setRequestHeader("Authorization",f),m.setRequestHeader("CKBox-Version","CKEditor 5"),m.responseType="json";const w=()=>{m.abort()};return new Promise((_,E)=>{u.throwIfAborted(),u.addEventListener("abort",w),m.addEventListener("loadstart",()=>{u.addEventListener("abort",w)}),m.addEventListener("loadend",()=>{u.removeEventListener("abort",w)}),m.addEventListener("error",()=>{E()}),m.addEventListener("abort",()=>{E()}),m.addEventListener("load",()=>{const T=m.response;if(!T||T.statusCode>=400)return E(T&&T.message);_(T)}),a&&m.upload.addEventListener("progress",T=>{a(T)}),m.send(i)})}const kq={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};function wq(c,e){return i=this,a=null,u=function*(){try{const f=yield fetch(c,((m,w)=>{for(var _ in w||(w={}))gq.call(w,_)&&XE(m,_,w[_]);if(ZE)for(var _ of ZE(w))bq.call(w,_)&&XE(m,_,w[_]);return m})({method:"HEAD",cache:"force-cache"},e));return f.ok&&f.headers.get("content-type")||""}catch{return""}},new Promise((f,m)=>{var w=T=>{try{E(u.next(T))}catch(O){m(O)}},_=T=>{try{E(u.throw(T))}catch(O){m(O)}},E=T=>T.done?f(T.value):Promise.resolve(T.value).then(w,_);E((u=u.apply(i,a)).next())});var i,a,u}var yq=Object.defineProperty,n3=Object.getOwnPropertySymbols,vq=Object.prototype.hasOwnProperty,Aq=Object.prototype.propertyIsEnumerable,r3=(c,e,i)=>e in c?yq(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,i3=(c,e)=>{for(var i in e||(e={}))vq.call(e,i)&&r3(c,i,e[i]);if(n3)for(var i of n3(e))Aq.call(e,i)&&r3(c,i,e[i]);return c};class _q extends Ht{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");return!(!e.isEnabled&&!i.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,forceDemoLabel:e.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:i=>this.fire("ckbox:choose",i)}}}_initListeners(){const e=this.editor,i=e.model,a=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=Dn(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,e.editing.view.focus())}),this.on("ckbox:choose",(u,f)=>{if(!this.isEnabled)return;const m=e.commands.get("insertImage"),w=e.commands.get("link"),_=function({assets:T,isImageAllowed:O,isLinkAllowed:V}){return T.map(K=>function(ee){const se=ee.data.metadata;return se?se.width&&se.height:!1}(K)?{id:K.data.id,type:"image",attributes:Cq(K)}:{id:K.data.id,type:"link",attributes:xq(K)}).filter(K=>K.type==="image"?O:V)}({assets:f,isImageAllowed:m.isEnabled,isLinkAllowed:w.isEnabled}),E=_.length;E!==0&&(i.change(T=>{for(const O of _){const V=O===_[E-1],K=E===1;this._insertAsset(O,V,T,K),a&&(setTimeout(()=>this._chosenAssets.delete(O),1e3),this._chosenAssets.add(O))}}),e.editing.view.focus())}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,i,a,u){const f=this.editor.model.document.selection;a.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,a,u),i||a.setSelection(f.getLastPosition())}_insertImage(e){const i=this.editor,{imageFallbackUrl:a,imageSources:u,imageTextAlternative:f,imageWidth:m,imageHeight:w,imagePlaceholder:_}=e.attributes;i.execute("insertImage",{source:i3({src:a,sources:u,alt:f,width:m,height:w},_?{placeholder:_}:null)})}_insertLink(e,i,a){const u=this.editor,f=u.model,m=f.document.selection,{linkName:w,linkHref:_}=e.attributes;if(m.isCollapsed){const E=_a(m.getAttributes()),T=i.createText(w,E);if(!a){const V=m.getLastPosition(),K=V.parent;K.name==="paragraph"&&K.isEmpty||u.execute("insertParagraph",{position:V});const ee=f.insertContent(T);return i.setSelection(ee),void u.execute("link",_)}const O=f.insertContent(T);i.setSelection(O)}u.execute("link",_)}}function Cq(c){const{imageFallbackUrl:e,imageSources:i}=e3(c.data.imageUrls),{description:a,width:u,height:f,blurHash:m}=c.data.metadata,w=function(_){if(_)try{const E=`${$m}px`,T=document.createElement("canvas");T.setAttribute("width",E),T.setAttribute("height",E);const O=T.getContext("2d");if(!O)return;const V=O.createImageData($m,$m),K=pq(_,$m,$m);return V.data.set(K),O.putImageData(V,0,0),T.toDataURL()}catch{return}}(m);return i3({imageFallbackUrl:e,imageSources:i,imageTextAlternative:a||"",imageWidth:u,imageHeight:f},w?{imagePlaceholder:w}:null)}function xq(c){return{linkName:c.data.name,linkHref:Sq(c)}}function Sq(c){const e=new URL(c.data.url);return e.searchParams.set("download","true"),e.toString()}var Vy=(c,e,i)=>new Promise((a,u)=>{var f=_=>{try{w(i.next(_))}catch(E){u(E)}},m=_=>{try{w(i.throw(_))}catch(E){u(E)}},w=_=>_.done?a(_.value):Promise.resolve(_.value).then(f,m);w((i=i.apply(c,e)).next())});class o3 extends ct{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return Vy(this,null,function*(){const e=this.editor,i=!!e.config.get("ckbox"),a=!!window.CKBox;if(!i&&!a)return;e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"lark",tokenUrl:e.config.get("cloudServices.tokenUrl")});const u=e.plugins.get("CloudServices"),f=e.config.get("cloudServices.tokenUrl"),m=e.config.get("ckbox.tokenUrl");if(!m)throw new N("ckbox-plugin-missing-token-url",this);this._token=m==f?u.token:yield u.registerTokenUrl(m)})}getToken(){return this._token}getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),i=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),a=function(u,f){const[,m]=u.value.split("."),w=JSON.parse(atob(m)),_=w.auth&&w.auth.ckbox&&w.auth.ckbox.workspaces||[w.aud];return f?(w.auth&&w.auth.ckbox&&w.auth.ckbox.role)=="superadmin"||_.includes(f)?f:null:_[0]}(this._token,i);if(a==null)throw U("ckbox-access-default-workspace-error"),e;return a}getCategoryIdForFile(e,i){return Vy(this,null,function*(){const a=(0,this.editor.t)("Cannot determine a category for the uploaded file."),u=this.editor.config.get("ckbox.defaultUploadCategories"),f=this._getAvailableCategories(i),m=typeof e=="string"?(w=yield wq(e,i),kq[w]):function(T){const O=T.name,V=new RegExp("\\.(?<ext>[^.]+)$");return O.match(V).groups.ext.toLowerCase()}(e);var w;const _=yield f;if(!_)throw a;if(u){const T=Object.keys(u).find(O=>u[O].find(V=>V.toLowerCase()==m));if(T){const O=_.find(V=>V.id===T||V.name===T);if(!O)throw a;return O.id}}const E=_.find(T=>T.extensions.find(O=>O.toLowerCase()==m));if(!E)throw a;return E.id})}_getAvailableCategories(e){return Vy(this,null,function*(){const i=this.editor,a=this._token,{signal:u}=e,f=i.config.get("ckbox.serviceOrigin"),m=this.getWorkspaceId();try{const _=[];let E,T=0;do{const O=yield w(T);_.push(...O.items),E=O.totalCount-(T+50),T+=50}while(E>0);return _}catch{return u.throwIfAborted(),void U("ckbox-fetch-category-http-error")}function w(_){const E=new URL("categories",f);return E.searchParams.set("limit","50"),E.searchParams.set("offset",_.toString()),E.searchParams.set("workspaceId",m),t3({url:E,signal:u,authorization:a.value})}})}}var $y=(c,e,i)=>new Promise((a,u)=>{var f=_=>{try{w(i.next(_))}catch(E){u(E)}},m=_=>{try{w(i.throw(_))}catch(E){u(E)}},w=_=>_.done?a(_.value):Promise.resolve(_.value).then(f,m);w((i=i.apply(c,e)).next())});class Eq extends ct{static get requires(){return["ImageUploadEditing","ImageUploadProgress",cl,s3]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return $y(this,null,function*(){const e=this.editor,i=!!e.config.get("ckbox"),a=!!window.CKBox;if(!i&&!a)return;const u=e.plugins.get(cl),f=e.plugins.get(o3);u.createUploadAdapter=_=>new Dq(_,e,f);const m=!e.config.get("ckbox.ignoreDataId"),w=e.plugins.get("ImageUploadEditing");m&&w.on("uploadComplete",(_,{imageElement:E,data:T})=>{e.model.change(O=>{O.setAttribute("ckboxImageId",T.ckboxImageId,E)})})})}}class Dq{constructor(e,i,a){this.loader=e,this.token=a.getToken(),this.ckboxUtils=a,this.editor=i,this.controller=new AbortController,this.serviceOrigin=i.config.get("ckbox.serviceOrigin")}upload(){return $y(this,null,function*(){const e=this.ckboxUtils,i=this.editor.t,a=yield this.loader.file,u=yield e.getCategoryIdForFile(a,{signal:this.controller.signal}),f=new URL("assets",this.serviceOrigin),m=new FormData;return f.searchParams.set("workspaceId",e.getWorkspaceId()),m.append("categoryId",u),m.append("file",a),t3({method:"POST",url:f,data:m,onUploadProgress:w=>{w.lengthComputable&&(this.loader.uploadTotal=w.total,this.loader.uploaded=w.loaded)},signal:this.controller.signal,authorization:this.token.value}).then(w=>$y(this,null,function*(){const _=e3(w.imageUrls);return{ckboxImageId:w.id,default:_.imageFallbackUrl,sources:_.imageSources}})).catch(()=>{const w=i("Cannot upload file:")+` ${a.name}.`;return Promise.reject(w)})})}abort(){this.controller.abort()}}class s3 extends ct{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",Eq,o3]}init(){const e=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),l3()&&e.commands.add("ckbox",new _q(e)))}afterInit(){const e=this.editor;this._shouldBeInitialised()&&(e.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||l3()}_checkImagePlugins(){const e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||U("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((i,a)=>{if(!i.last.getAttribute("linkHref")&&a==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(a=>{a.on("attribute:ckboxLinkId:imageBlock",(u,f,m)=>{const{writer:w,mapper:_,consumable:E}=m;if(!E.consume(f.item,u.name))return;const T=[..._.toViewElement(f.item).getChildren()].find(O=>O.name==="a");T&&(f.item.hasAttribute("ckboxLinkId")?w.setAttribute("data-ckbox-resource-id",f.item.getAttribute("ckboxLinkId"),T):w.removeAttribute("data-ckbox-resource-id",T))},{priority:"low"}),a.on("attribute:ckboxLinkId",(u,f,m)=>{const{writer:w,mapper:_,consumable:E}=m;if(E.consume(f.item,u.name)){if(f.attributeOldValue){const T=a3(w,f.attributeOldValue);w.unwrap(_.toViewRange(f.range),T)}if(f.attributeNewValue){const T=a3(w,f.attributeNewValue);if(f.item.is("selection")){const O=w.document.selection;w.wrap(O.getFirstRange(),T)}else w.wrap(_.toViewRange(f.range),T)}}},{priority:"low"})}),e.conversion.for("upcast").add(a=>{a.on("element:a",(u,f,m)=>{const{writer:w,consumable:_}=m;if(!f.viewItem.getAttribute("href")||!_.consume(f.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const E=f.viewItem.getAttribute("data-ckbox-resource-id");if(E)if(f.modelRange)for(let T of f.modelRange.getItems())T.is("$textProxy")&&(T=T.textNode),Tq(T)&&w.setAttribute("ckboxLinkId",E,T);else{const T=f.modelCursor.nodeBefore||f.modelCursor.parent;w.setAttribute("ckboxLinkId",E,T)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:a=>a.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const i=e.commands.get("replaceImageSource");i&&this.listenTo(i,"cleanupImage",(a,[u,f])=>{u.removeAttribute("ckboxImageId",f)})}_initFixers(){const e=this.editor,i=e.model,a=i.document.selection;i.document.registerPostFixer(function(u){return f=>{let m=!1;const w=u.model,_=u.commands.get("ckbox");if(!_)return m;for(const E of w.document.differ.getChanges()){if(E.type!=="insert"&&E.type!=="attribute")continue;const T=E.type==="insert"?new ot(E.position,E.position.getShiftedBy(E.length)):E.range,O=E.type==="attribute"&&E.attributeKey==="linkHref"&&E.attributeNewValue===null;for(const V of T.getItems()){if(O&&V.hasAttribute("ckboxLinkId")){f.removeAttribute("ckboxLinkId",V),m=!0;continue}const K=Iq(V,_._chosenAssets);for(const ee of K){const se=ee.type==="image"?"ckboxImageId":"ckboxLinkId";ee.id!==V.getAttribute(se)&&(f.setAttribute(se,ee.id,V),m=!0)}}}return m}}(e)),i.document.registerPostFixer(function(u){return f=>!(u.hasAttribute("linkHref")||!u.hasAttribute("ckboxLinkId"))&&(f.removeSelectionAttribute("ckboxLinkId"),!0)}(a))}}function Iq(c,e){const i=c.is("element","imageInline")||c.is("element","imageBlock"),a=c.hasAttribute("linkHref");return[...e].filter(u=>u.type==="image"&&i?u.attributes.imageFallbackUrl===c.getAttribute("src"):u.type==="link"&&a?u.attributes.linkHref===c.getAttribute("linkHref"):void 0)}function a3(c,e){const i=c.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return c.setCustomProperty("link",!0,i),i}function Tq(c){return!!c.is("$text")||!(!c.is("element","imageInline")&&!c.is("element","imageBlock"))}function l3(){return!!window.CKBox}var c3=s(1866),Nq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(c3.A,Nq),c3.A.locals;class Mq extends ct{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,i=e.ui.componentFactory,a=e.t;if(i.add("ckfinder",u=>{const f=this._createButton(Wn),m=u.t;return f.set({label:m("Insert image or file"),tooltip:!0}),f}),i.add("menuBar:ckfinder",u=>{const f=this._createButton(Hs),m=u.t;return f.label=m("Image or file"),f}),e.plugins.has("ImageInsertUI")){const u=e.plugins.get("ImageInsertUI");u.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckfinder"),buttonViewCreator:()=>{const f=this.editor.ui.componentFactory.create("ckfinder");return f.icon=fn.imageAssetManager,f.bind("label").to(u,"isImageSelected",m=>a(m?"Replace image with file manager":"Insert image with file manager")),f},formViewCreator:()=>{const f=this.editor.ui.componentFactory.create("ckfinder");return f.icon=fn.imageAssetManager,f.withText=!0,f.bind("label").to(u,"isImageSelected",m=>a(m?"Replace with file manager":"Insert with file manager")),f.on("execute",()=>{u.dropdownView.isOpen=!1}),f}})}}_createButton(e){const i=this.editor,a=new e(i.locale),u=i.commands.get("ckfinder");return a.icon=fn.browseFiles,a.bind("isEnabled").to(u),a.on("execute",()=>{i.execute("ckfinder"),i.editing.view.focus()}),a}}class Pq extends Ht{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");this.isEnabled=e.isEnabled||i.isEnabled}execute(){const e=this.editor,i=this.editor.config.get("ckfinder.openerMethod")||"modal";if(i!="popup"&&i!="modal")throw new N("ckfinder-unknown-openermethod",e);const a=this.editor.config.get("ckfinder.options")||{};a.chooseFiles=!0;const u=a.onInit;a.language||(a.language=e.locale.uiLanguage),a.onInit=f=>{u&&u(f),f.on("files:choose",m=>{const w=m.data.files.toArray(),_=w.filter(O=>!O.isImage()),E=w.filter(O=>O.isImage());for(const O of _)e.execute("link",O.getUrl());const T=[];for(const O of E){const V=O.getUrl();T.push(V||f.request("file:getProxyUrl",{file:O}))}T.length&&u3(e,T)}),f.on("file:choose:resizedImage",m=>{const w=m.data.resizedUrl;if(w)u3(e,[w]);else{const _=e.plugins.get("Notification"),E=e.locale.t;_.showWarning(E("Could not obtain resized image URL."),{title:E("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[i](a)}}function u3(c,e){if(c.commands.get("insertImage").isEnabled)c.execute("insertImage",{source:e});else{const i=c.plugins.get("Notification"),a=c.locale.t;i.showWarning(a("Could not insert image at the current position."),{title:a("Inserting image failed"),namespace:"ckfinder"})}}class Oq extends ct{static get pluginName(){return"CKFinderEditing"}static get requires(){return[Iy,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new N("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new Pq(e))}}class jq extends ct{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",cl]}init(){const e=this.editor,i=e.plugins.get("CloudServices"),a=i.token,u=i.uploadUrl;if(!a)return;const f=e.plugins.get("CloudServicesCore");this._uploadGateway=f.createUploadGateway(a,u),e.plugins.get(cl).createUploadAdapter=m=>new Lq(this._uploadGateway,m)}}class Lq{constructor(e,i){this.uploadGateway=e,this.loader=i}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(i,a)=>{this.loader.uploadTotal=a.total,this.loader.uploaded=a.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class Bq extends Ht{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,i=Bi(e.document.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&d3(i,e.schema)}execute(e={}){const i=this.editor.model,a=i.document,u=e.selection||a.selection;i.canEditAt(u)&&i.change(f=>{const m=u.getSelectedBlocks();for(const w of m)!w.is("element","paragraph")&&d3(w,i.schema)&&f.rename(w,"paragraph")})}}function d3(c,e){return e.checkChild(c.parent,"paragraph")&&!e.isObject(c)}class Rq extends Ht{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const i=this.editor.model,a=e.attributes;let u=e.position;i.canEditAt(u)&&i.change(f=>{if(u=this._findPositionToInsertParagraph(u,f),!u)return;const m=f.createElement("paragraph");a&&i.schema.setAllowedAttributes(m,a,f),i.insertContent(m,u),f.setSelection(m,"in")})}_findPositionToInsertParagraph(e,i){const a=this.editor.model;if(a.schema.checkChild(e,"paragraph"))return e;const u=a.schema.findAllowedParent(e,"paragraph");if(!u)return null;const f=e.parent,m=a.schema.checkChild(f,"$text");return f.isEmpty||m&&e.isAtEnd?a.createPositionAfter(f):!f.isEmpty&&m&&e.isAtStart?a.createPositionBefore(f):i.split(e,u).position}}const h3=class extends ct{static get pluginName(){return"Paragraph"}init(){const c=this.editor,e=c.model;c.commands.add("paragraph",new Bq(c)),c.commands.add("insertParagraph",new Rq(c)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),c.conversion.elementToElement({model:"paragraph",view:"p"}),c.conversion.for("upcast").elementToElement({model:(i,{writer:a})=>h3.paragraphLikeElements.has(i.name)?i.isEmpty?null:a.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let Hy=h3;Hy.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class Fq extends Ht{constructor(e,i){super(e),this.modelElements=i}refresh(){const e=Bi(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(i=>f3(e,i,this.editor.model.schema))}execute(e){const i=this.editor.model,a=i.document,u=e.value;i.change(f=>{const m=Array.from(a.selection.getSelectedBlocks()).filter(w=>f3(w,u,i.schema));for(const w of m)w.is("element",u)||f.rename(w,u)})}}function f3(c,e,i){return i.checkChild(c.parent,e)&&!i.isObject(c)}const p3="paragraph";class zq extends ct{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Hy]}init(){const e=this.editor,i=e.config.get("heading.options"),a=[];for(const u of i)u.model!=="paragraph"&&(e.model.schema.register(u.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(u),a.push(u.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new Fq(e,a))}afterInit(){const e=this.editor,i=e.commands.get("enter"),a=e.config.get("heading.options");i&&this.listenTo(i,"afterExecute",(u,f)=>{const m=e.model.document.selection.getFirstPosition().parent;a.some(w=>m.is("element",w.model))&&!m.is("element",p3)&&m.childCount===0&&f.writer.rename(m,p3)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:B.low+1})}}var m3=s(6269),Uq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(m3.A,Uq),m3.A.locals;class qq extends ct{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,i=e.t,a=function(m){const w=m.t,_={Paragraph:w("Paragraph"),"Heading 1":w("Heading 1"),"Heading 2":w("Heading 2"),"Heading 3":w("Heading 3"),"Heading 4":w("Heading 4"),"Heading 5":w("Heading 5"),"Heading 6":w("Heading 6")};return m.config.get("heading.options").map(E=>{const T=_[E.title];return T&&T!=E.title&&(E.title=T),E})}(e),u=i("Choose heading"),f=i("Heading");e.ui.componentFactory.add("heading",m=>{const w={},_=new zs,E=e.commands.get("heading"),T=e.commands.get("paragraph"),O=[E];for(const K of a){const ee={type:"button",model:new iS({label:K.title,class:K.class,role:"menuitemradio",withText:!0})};K.model==="paragraph"?(ee.model.bind("isOn").to(T,"value"),ee.model.set("commandName","paragraph"),O.push(T)):(ee.model.bind("isOn").to(E,"value",se=>se===K.model),ee.model.set({commandName:"heading",commandValue:K.model})),_.add(ee),w[K.model]=K.title}const V=Jc(m);return E5(V,_,{ariaLabel:f,role:"menu"}),V.buttonView.set({ariaLabel:f,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:f}),V.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),V.bind("isEnabled").toMany(O,"isEnabled",(...K)=>K.some(ee=>ee)),V.buttonView.bind("label").to(E,"value",T,"value",(K,ee)=>{const se=ee?"paragraph":K;return typeof se=="boolean"?u:w[se]?w[se]:u}),V.buttonView.bind("ariaLabel").to(E,"value",T,"value",(K,ee)=>{const se=ee?"paragraph":K;return typeof se=="boolean"?f:w[se]?`${w[se]}, ${f}`:f}),this.listenTo(V,"execute",K=>{const{commandName:ee,commandValue:se}=K.source;e.execute(ee,se?{value:se}:void 0),e.editing.view.focus()}),V}),e.ui.componentFactory.add("menuBar:heading",m=>{const w=new Lf(m),_=e.commands.get("heading"),E=e.commands.get("paragraph"),T=[_],O=new Py(m);w.set({class:"ck-heading-dropdown"}),O.set({ariaLabel:i("Heading"),role:"menu"}),w.buttonView.set({label:i("Heading")}),w.panelView.children.add(O);for(const V of a){const K=new Ny(m,w),ee=new Hs(m);K.children.add(ee),O.items.add(K),ee.set({label:V.title,role:"menuitemradio",class:V.class}),ee.bind("ariaChecked").to(ee,"isOn"),ee.delegate("execute").to(w),ee.on("execute",()=>{const se=V.model==="paragraph"?"paragraph":"heading";e.execute(se,{value:V.model}),e.editing.view.focus()}),V.model==="paragraph"?(ee.bind("isOn").to(E,"value"),T.push(E)):ee.bind("isOn").to(_,"value",se=>se===V.model)}return w.bind("isEnabled").toMany(T,"isEnabled",(...V)=>V.some(K=>K)),w})}}function g3(c){return c.createContainerElement("figure",{class:"image"},[c.createEmptyElement("img"),c.createSlot("children")])}function b3(c,e){const i=c.plugins.get("ImageUtils"),a=c.plugins.has("ImageInlineEditing")&&c.plugins.has("ImageBlockEditing");return f=>i.isInlineImageView(f)?a&&(f.getStyle("display")=="block"||f.findAncestor(i.isBlockImageView)?"imageBlock":"imageInline")!==e?null:u(f):null;function u(f){const m={name:!0};return f.hasAttribute("src")&&(m.attributes=["src"]),m}}function Wy(c,e){const i=Bi(e.getSelectedBlocks());return!i||c.isObject(i)||i.isEmpty&&i.name!="listItem"?"imageBlock":"imageInline"}function M0(c){return c&&c.endsWith("px")?parseInt(c):null}function k3(c){const e=M0(c.getStyle("width")),i=M0(c.getStyle("height"));return!(!e||!i)}var Vq=Object.defineProperty,w3=Object.getOwnPropertySymbols,$q=Object.prototype.hasOwnProperty,Hq=Object.prototype.propertyIsEnumerable,y3=(c,e,i)=>e in c?Vq(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,v3=(c,e)=>{for(var i in e||(e={}))$q.call(e,i)&&y3(c,i,e[i]);if(w3)for(var i of w3(e))Hq.call(e,i)&&y3(c,i,e[i]);return c};const Wq=/^(image|image-inline)$/;class ys extends ct{constructor(){super(...arguments),this._domEmitter=new(_i())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},i=null,a=null,u={}){const f=this.editor,m=f.model,w=m.document.selection,_=A3(f,i||w,a);e=v3(v3({},Object.fromEntries(w.getAttributes())),e);for(const E in e)m.schema.checkAttribute(_,E)||delete e[E];return m.change(E=>{const{setImageSizes:T=!0}=u,O=E.createElement(_,e);return m.insertObject(O,i,null,{setSelection:"on",findOptimalPosition:i||_=="imageInline"?void 0:"auto"}),O.parent?(T&&this.setImageNaturalSizeAttributes(O),O):null})}setImageNaturalSizeAttributes(e){const i=e.getAttribute("src");i&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change(a=>{const u=new h.window.Image;this._domEmitter.listenTo(u,"load",()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(a.batch,f=>{f.setAttribute("width",u.naturalWidth,e),f.setAttribute("height",u.naturalHeight,e)}),this._domEmitter.stopListening(u,"load")}),u.src=i}))}getClosestSelectedImageWidget(e){const i=e.getFirstPosition();if(!i)return null;const a=e.getSelectedElement();if(a&&this.isImageWidget(a))return a;let u=i.parent;for(;u;){if(u.is("element")&&this.isImageWidget(u))return u;u=u.parent}return null}getClosestSelectedImageElement(e){const i=e.getSelectedElement();return this.isImage(i)?i:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:Wq})}isImageAllowed(){const e=this.editor.model.document.selection;return function(i,a){if(A3(i,a,null)=="imageBlock"){const f=function(m,w){const _=gE(m,w),E=_.start.parent;return E.isEmpty&&!E.is("element","$root")?E.parent:E}(a,i.model);if(i.model.schema.checkChild(f,"imageBlock"))return!0}else if(i.model.schema.checkChild(a.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(i){return[...i.focus.getAncestors()].every(a=>!a.is("element","imageBlock"))}(e)}toImageWidget(e,i,a){return i.setCustomProperty("image",!0,e),Ry(e,i,{label:()=>{const u=this.findViewImgElement(e).getAttribute("alt");return u?`${u} ${a}`:a}})}isImageWidget(e){return!!e.getCustomProperty("image")&&Si(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const i=this.editor.editing.view;for(const{item:a}of i.createRangeIn(e))if(this.isInlineImageView(a))return a}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function A3(c,e,i){const a=c.model.schema,u=c.config.get("image.insert.type");return c.plugins.has("ImageBlockEditing")?c.plugins.has("ImageInlineEditing")?i||(u==="inline"?"imageInline":u!=="auto"?"imageBlock":e.is("selection")?Wy(a,e):a.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class Gq extends Ht{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const i=this.editor,a=i.plugins.get("ImageUtils"),u=i.model,f=a.getClosestSelectedImageElement(u.document.selection);u.change(m=>{m.setAttribute("alt",e.newValue,f)})}}class Yq extends ct{static get requires(){return[ys]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new Gq(this.editor))}}var _3=s(4062),Kq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(_3.A,Kq),_3.A.locals;var C3=s(2722),Qq={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(C3.A,Qq),C3.A.locals;class Jq extends Nt{constructor(e){super(e);const i=this.locale.t;this.focusTracker=new Ri,this.keystrokes=new po,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(i("Save"),fn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),fn.cancel,"ck-button-cancel","cancel"),this._focusables=new es,this._focusCycler=new Ta({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Sn({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,i,a,u){const f=new Wn(this.locale);return f.set({label:e,icon:i,tooltip:!0}),f.extendTemplate({attributes:{class:a}}),u&&f.delegate("execute").to(this,u),f}_createLabeledInputView(){const e=this.locale.t,i=new l0(this.locale,d0);return i.label=e("Text alternative"),i}}function x3(c){const e=c.editing.view,i=ks.defaultPositions,a=c.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(a.getClosestSelectedImageWidget(e.document.selection)),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}class Zq extends ct{static get requires(){return[b0]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,i=e.t;e.ui.componentFactory.add("imageTextAlternative",a=>{const u=e.commands.get("imageTextAlternative"),f=new Wn(a);return f.set({label:i("Change image text alternative"),icon:fn.textAlternative,tooltip:!0}),f.bind("isEnabled").to(u,"isEnabled"),f.bind("isOn").to(u,"value",m=>!!m),this.listenTo(f,"execute",()=>{this._showForm()}),f})}_createForm(){const e=this.editor,i=e.editing.view.document,a=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(On(Jq))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(u,f)=>{this._hideForm(!0),f()}),this.listenTo(e.ui,"update",()=>{a.getClosestSelectedImageWidget(i.selection)?this._isVisible&&function(u){const f=u.plugins.get("ContextualBalloon");if(u.plugins.get("ImageUtils").getClosestSelectedImageWidget(u.editing.view.document.selection)){const m=x3(u);f.updatePosition(m)}}(e):this._hideForm(!0)}),zn({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,i=e.commands.get("imageTextAlternative"),a=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:x3(e)}),a.fieldView.value=a.fieldView.element.value=i.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class S3 extends ct{static get requires(){return[Yq,Zq]}static get pluginName(){return"ImageTextAlternative"}}function E3(c,e){const i=(a,u,f)=>{if(!f.consumable.consume(u.item,a.name))return;const m=f.writer,w=f.mapper.toViewElement(u.item),_=c.findViewImgElement(w);u.attributeNewValue===null?(m.removeAttribute("srcset",_),m.removeAttribute("sizes",_)):u.attributeNewValue&&(m.setAttribute("srcset",u.attributeNewValue,_),m.setAttribute("sizes","100vw",_))};return a=>{a.on(`attribute:srcset:${e}`,i)}}function P0(c,e,i){const a=(u,f,m)=>{if(!m.consumable.consume(f.item,u.name))return;const w=m.writer,_=m.mapper.toViewElement(f.item),E=c.findViewImgElement(_);w.setAttribute(f.attributeKey,f.attributeNewValue||"",E)};return u=>{u.on(`attribute:${i}:${e}`,a)}}class D3 extends Gl{observe(e){this.listenTo(e,"load",(i,a)=>{const u=a.target;this.checkShouldIgnoreEventFromTarget(u)||u.tagName=="IMG"&&this._fireEvents(a)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var Xq=Object.defineProperty,I3=Object.getOwnPropertySymbols,eV=Object.prototype.hasOwnProperty,tV=Object.prototype.propertyIsEnumerable,T3=(c,e,i)=>e in c?Xq(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,O0=(c,e)=>{for(var i in e||(e={}))eV.call(e,i)&&T3(c,i,e[i]);if(I3)for(var i of I3(e))tV.call(e,i)&&T3(c,i,e[i]);return c};class nV extends Ht{constructor(e){super(e);const i=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||i==="block"&&L("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||i==="inline"&&L("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const i=sr(e.source),a=this.editor.model.document.selection,u=this.editor.plugins.get("ImageUtils"),f=Object.fromEntries(a.getAttributes());i.forEach((m,w)=>{const _=a.getSelectedElement();if(typeof m=="string"&&(m={src:m}),w&&_&&u.isImage(_)){const E=this.editor.model.createPositionAfter(_);u.insertImage(O0(O0({},m),f),E)}else u.insertImage(O0(O0({},m),f))})}}class rV extends Ht{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const e=this.editor.plugins.get("ImageUtils"),i=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(i),this.value=this.isEnabled?i.getAttribute("src"):null}execute(e){const i=this.editor.model.document.selection.getSelectedElement(),a=this.editor.plugins.get("ImageUtils");this.editor.model.change(u=>{u.setAttribute("src",e.source,i),this.cleanupImage(u,i),a.setImageNaturalSizeAttributes(i)})}cleanupImage(e,i){e.removeAttribute("srcset",i),e.removeAttribute("sizes",i),e.removeAttribute("sources",i),e.removeAttribute("width",i),e.removeAttribute("height",i),e.removeAttribute("alt",i)}}class Gy extends ct{static get requires(){return[ys]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,i=e.conversion;e.editing.view.addObserver(D3),i.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const a=new nV(e),u=new rV(e);e.commands.add("insertImage",a),e.commands.add("replaceImageSource",u),e.commands.add("imageInsert",a)}}class N3 extends ct{static get requires(){return[ys]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const i=this.editor,a=i.plugins.get("ImageUtils"),u=e==="imageBlock"?"figure":"img";function f(m,w,_,E){m.on(`attribute:${w}:${e}`,(T,O,V)=>{if(!V.consumable.consume(O.item,T.name))return;const K=V.writer,ee=V.mapper.toViewElement(O.item),se=a.findViewImgElement(ee);if(O.attributeNewValue!==null?K.setAttribute(_,O.attributeNewValue,se):K.removeAttribute(_,se),O.item.hasAttribute("sources"))return;const ke=O.item.hasAttribute("resizedWidth");if(e==="imageInline"&&!ke&&!E)return;const Ee=O.item.getAttribute("width"),Le=O.item.getAttribute("height");Ee&&Le&&K.setStyle("aspect-ratio",`${Ee}/${Le}`,se)})}i.conversion.for("upcast").attributeToAttribute({view:{name:u,styles:{width:/.+/}},model:{key:"width",value:m=>k3(m)?M0(m.getStyle("width")):null}}).attributeToAttribute({view:{name:u,key:"width"},model:"width"}).attributeToAttribute({view:{name:u,styles:{height:/.+/}},model:{key:"height",value:m=>k3(m)?M0(m.getStyle("height")):null}}).attributeToAttribute({view:{name:u,key:"height"},model:"height"}),i.conversion.for("editingDowncast").add(m=>{f(m,"width","width",!0),f(m,"height","height",!0)}),i.conversion.for("dataDowncast").add(m=>{f(m,"width","width",!1),f(m,"height","height",!1)})}}class M3 extends Ht{constructor(e,i){super(e),this._modelElementName=i}refresh(){const e=this.editor.plugins.get("ImageUtils"),i=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(i):this.isEnabled=e.isBlockImage(i)}execute(e={}){const i=this.editor,a=this.editor.model,u=i.plugins.get("ImageUtils"),f=u.getClosestSelectedImageElement(a.document.selection),m=Object.fromEntries(f.getAttributes());return m.src||m.uploadId?a.change(w=>{const{setImageSizes:_=!0}=e,E=Array.from(a.markers).filter(V=>V.getRange().containsItem(f)),T=u.insertImage(m,a.createSelection(f,"on"),this._modelElementName,{setImageSizes:_});if(!T)return null;const O=w.createRangeOn(T);for(const V of E){const K=V.getRange(),ee=K.root.rootName!="$graveyard"?K.getJoined(O,!0):O;w.updateMarker(V,{range:ee})}return{oldElement:f,newElement:T}}):null}}var P3=s(7378),iV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(P3.A,iV),P3.A.locals;class O3 extends ct{static get requires(){return[ys]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,i=e.conversion,a=e.plugins.get("ImageUtils");i.for("editingDowncast").add(u=>{u.on("attribute:placeholder",(f,m,w)=>{if(!w.consumable.test(m.item,f.name)||!m.item.is("element","imageBlock")&&!m.item.is("element","imageInline"))return;w.consumable.consume(m.item,f.name);const _=w.writer,E=w.mapper.toViewElement(m.item),T=a.findViewImgElement(E);m.attributeNewValue?(_.addClass("image_placeholder",T),_.setStyle("background-image",`url(${m.attributeNewValue})`,T),_.setCustomProperty("editingPipeline:doNotReuseOnce",!0,T)):(_.removeClass("image_placeholder",T),_.removeStyle("background-image",T))})})}_setupLoadListener(){const e=this.editor,i=e.model,a=e.editing,u=a.view,f=e.plugins.get("ImageUtils");u.addObserver(D3),this.listenTo(u.document,"imageLoaded",(m,w)=>{const _=u.domConverter.mapDomToView(w.target);if(!_)return;const E=f.getImageWidgetFromImageView(_);if(!E)return;const T=a.mapper.toModelElement(E);T&&T.hasAttribute("placeholder")&&i.enqueueChange({isUndoable:!1},O=>{O.removeAttribute("placeholder",T)})})}}class j3 extends ct{static get requires(){return[Gy,N3,ys,O3,Na]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new M3(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,a=e.conversion,u=e.plugins.get("ImageUtils");a.for("dataDowncast").elementToStructure({model:"imageBlock",view:(f,{writer:m})=>g3(m)}),a.for("editingDowncast").elementToStructure({model:"imageBlock",view:(f,{writer:m})=>u.toImageWidget(g3(m),m,i("image widget"))}),a.for("downcast").add(P0(u,"imageBlock","src")).add(P0(u,"imageBlock","alt")).add(E3(u,"imageBlock")),a.for("upcast").elementToElement({view:b3(e,"imageBlock"),model:(f,{writer:m})=>m.createElement("imageBlock",f.hasAttribute("src")?{src:f.getAttribute("src")}:void 0)}).add(function(f){const m=(w,_,E)=>{if(!E.consumable.test(_.viewItem,{name:!0,classes:"image"}))return;const T=f.findViewImgElement(_.viewItem);if(!T||!E.consumable.test(T,{name:!0}))return;E.consumable.consume(_.viewItem,{name:!0,classes:"image"});const O=Bi(E.convertItem(T,_.modelCursor).modelRange.getItems());O?(E.convertChildren(_.viewItem,O),E.updateConversionResult(O,_)):E.consumable.revert(_.viewItem,{name:!0,classes:"image"})};return w=>{w.on("element:figure",m)}}(u))}_setupClipboardIntegration(){const e=this.editor,i=e.model,a=e.editing.view,u=e.plugins.get("ImageUtils"),f=e.plugins.get("ClipboardPipeline");this.listenTo(f,"inputTransformation",(m,w)=>{const _=Array.from(w.content.getChildren());let E;if(!_.every(u.isInlineImageView))return;E=w.targetRanges?e.editing.mapper.toModelRange(w.targetRanges[0]):i.document.selection.getFirstRange();const T=i.createSelection(E);if(Wy(i.schema,T)==="imageBlock"){const O=new Kc(a.document),V=_.map(K=>O.createElement("figure",{class:"image"},K));w.content=O.createDocumentFragment(V)}}),this.listenTo(f,"contentInsertion",(m,w)=>{w.method==="paste"&&i.change(_=>{const E=_.createRangeIn(w.content);for(const T of E.getItems())T.is("element","imageBlock")&&u.setImageNaturalSizeAttributes(T)})})}}var L3=s(3350),oV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(L3.A,oV),L3.A.locals;class sV extends Nt{constructor(e,i=[]){super(e),this.focusTracker=new Ri,this.keystrokes=new po,this._focusables=new es,this.children=this.createCollection(),this._focusCycler=new Ta({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const a of i)this.children.add(a),this._focusables.add(a),a instanceof IF&&this._focusables.addMany(a.children);if(this._focusables.length>1)for(const a of this._focusables)aV(a)&&(a.focusCycler.on("forwardCycle",u=>{this._focusCycler.focusNext(),u.stop()}),a.focusCycler.on("backwardCycle",u=>{this._focusCycler.focusPrevious(),u.stop()}));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),Sn({view:this});for(const i of this._focusables)this.focusTracker.add(i.element);this.keystrokes.listenTo(this.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function aV(c){return"focusCycler"in c}class B3 extends ct{constructor(e){super(e),this._integrations=new Map,e.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[ys]}init(){const e=this.editor,i=e.model.document.selection,a=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",()=>{this.isImageSelected=a.isImage(i.getSelectedElement())});const u=f=>this._createToolbarComponent(f);e.ui.componentFactory.add("insertImage",u),e.ui.componentFactory.add("imageInsert",u)}registerIntegration({name:e,observable:i,buttonViewCreator:a,formViewCreator:u,requiresForm:f}){this._integrations.has(e)&&L("image-insert-integration-exists",{name:e}),this._integrations.set(e,{observable:i,buttonViewCreator:a,formViewCreator:u,requiresForm:!!f})}_createToolbarComponent(e){const i=this.editor,a=e.t,u=this._prepareIntegrations();if(!u.length)return null;let f;const m=u[0];if(u.length==1){if(!m.requiresForm)return m.buttonViewCreator(!0);f=m.buttonViewCreator(!0)}else{const E=m.buttonViewCreator(!1);f=new u0(e,E),f.tooltip=!0,f.bind("label").to(this,"isImageSelected",T=>a(T?"Replace image":"Insert image"))}const w=this.dropdownView=Jc(e,f),_=u.map(({observable:E})=>typeof E=="function"?E():E);return w.bind("isEnabled").toMany(_,"isEnabled",(...E)=>E.some(T=>T)),w.once("change:isOpen",()=>{const E=u.map(({formViewCreator:O})=>O(u.length==1)),T=new sV(i.locale,E);w.panelView.children.add(T)}),w}_prepareIntegrations(){const e=this.editor.config.get("image.insert.integrations"),i=[];if(!e.length)return L("image-insert-integrations-not-specified"),i;for(const a of e)this._integrations.has(a)?i.push(this._integrations.get(a)):["upload","assetManager","url"].includes(a)||L("image-insert-unknown-integration",{item:a});return i.length||L("image-insert-integrations-not-registered"),i}}var R3=s(265),lV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(R3.A,lV),R3.A.locals;class cV extends ct{static get requires(){return[j3,qm,S3,B3]}static get pluginName(){return"ImageBlock"}}class uV extends ct{static get requires(){return[Gy,N3,ys,O3,Na]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,i=e.model.schema;i.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),i.addChildCheck((a,u)=>{if(a.endsWith("caption")&&u.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new M3(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,a=e.conversion,u=e.plugins.get("ImageUtils");a.for("dataDowncast").elementToElement({model:"imageInline",view:(f,{writer:m})=>m.createEmptyElement("img")}),a.for("editingDowncast").elementToStructure({model:"imageInline",view:(f,{writer:m})=>u.toImageWidget(function(w){return w.createContainerElement("span",{class:"image-inline"},w.createEmptyElement("img"))}(m),m,i("image widget"))}),a.for("downcast").add(P0(u,"imageInline","src")).add(P0(u,"imageInline","alt")).add(E3(u,"imageInline")),a.for("upcast").elementToElement({view:b3(e,"imageInline"),model:(f,{writer:m})=>m.createElement("imageInline",f.hasAttribute("src")?{src:f.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,i=e.model,a=e.editing.view,u=e.plugins.get("ImageUtils"),f=e.plugins.get("ClipboardPipeline");this.listenTo(f,"inputTransformation",(m,w)=>{const _=Array.from(w.content.getChildren());let E;if(!_.every(u.isBlockImageView))return;E=w.targetRanges?e.editing.mapper.toModelRange(w.targetRanges[0]):i.document.selection.getFirstRange();const T=i.createSelection(E);if(Wy(i.schema,T)==="imageInline"){const O=new Kc(a.document),V=_.map(K=>K.childCount===1?(Array.from(K.getAttributes()).forEach(ee=>O.setAttribute(...ee,u.findViewImgElement(K))),K.getChild(0)):K);w.content=O.createDocumentFragment(V)}}),this.listenTo(f,"contentInsertion",(m,w)=>{w.method==="paste"&&i.change(_=>{const E=_.createRangeIn(w.content);for(const T of E.getItems())T.is("element","imageInline")&&u.setImageNaturalSizeAttributes(T)})})}}class dV extends ct{static get requires(){return[uV,qm,S3,B3]}static get pluginName(){return"ImageInline"}}class F3 extends ct{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[ys]}getCaptionFromImageModelElement(e){for(const i of e.getChildren())if(i&&i.is("element","caption"))return i;return null}getCaptionFromModelSelection(e){const i=this.editor.plugins.get("ImageUtils"),a=e.getFirstPosition().findAncestor("caption");return a&&i.isBlockImage(a.parent)?a:null}matchImageCaptionViewElement(e){const i=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&i.isBlockImageView(e.parent)?{name:!0}:null}}class hV extends Ht{refresh(){const e=this.editor,i=e.plugins.get("ImageCaptionUtils"),a=e.plugins.get("ImageUtils");if(!e.plugins.has(j3))return this.isEnabled=!1,void(this.value=!1);const u=e.model.document.selection,f=u.getSelectedElement();if(!f){const m=i.getCaptionFromModelSelection(u);return this.isEnabled=!!m,void(this.value=!!m)}this.isEnabled=a.isImage(f),this.isEnabled?this.value=!!i.getCaptionFromImageModelElement(f):this.value=!1}execute(e={}){const{focusCaptionOnShow:i}=e;this.editor.model.change(a=>{this.value?this._hideImageCaption(a):this._showImageCaption(a,i)})}_showImageCaption(e,i){const a=this.editor.model.document.selection,u=this.editor.plugins.get("ImageCaptionEditing"),f=this.editor.plugins.get("ImageUtils");let m=a.getSelectedElement();const w=u._getSavedCaption(m);f.isInlineImage(m)&&(this.editor.execute("imageTypeBlock"),m=a.getSelectedElement());const _=w||e.createElement("caption");e.append(_,m),i&&e.setSelection(_,"in")}_hideImageCaption(e){const i=this.editor,a=i.model.document.selection,u=i.plugins.get("ImageCaptionEditing"),f=i.plugins.get("ImageCaptionUtils");let m,w=a.getSelectedElement();w?m=f.getCaptionFromImageModelElement(w):(m=f.getCaptionFromModelSelection(a),w=m.parent),u._saveCaption(w,m),e.setSelection(w,"on"),e.remove(m)}}class fV extends ct{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[ys,F3]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,i=e.model.schema;i.isRegistered("caption")?i.extend("caption",{allowIn:"imageBlock"}):i.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new hV(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,i=e.editing.view,a=e.plugins.get("ImageUtils"),u=e.plugins.get("ImageCaptionUtils"),f=e.t;e.conversion.for("upcast").elementToElement({view:m=>u.matchImageCaptionViewElement(m),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(m,{writer:w})=>a.isBlockImage(m.parent)?w.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(m,{writer:w})=>{if(!a.isBlockImage(m.parent))return null;const _=w.createEditableElement("figcaption");w.setCustomProperty("imageCaption",!0,_),_.placeholder=f("Enter image caption"),ql({view:i,element:_,keepOnFocus:!0});const E=m.parent.getAttribute("alt");return mE(_,w,{label:E?f("Caption for image: %0",[E]):f("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,i=e.plugins.get("ImageUtils"),a=e.plugins.get("ImageCaptionUtils"),u=e.commands.get("imageTypeInline"),f=e.commands.get("imageTypeBlock"),m=w=>{if(!w.return)return;const{oldElement:_,newElement:E}=w.return;if(!_)return;if(i.isBlockImage(_)){const O=a.getCaptionFromImageModelElement(_);if(O)return void this._saveCaption(E,O)}const T=this._getSavedCaption(_);T&&this._saveCaption(E,T)};u&&this.listenTo(u,"execute",m,{priority:"low"}),f&&this.listenTo(f,"execute",m,{priority:"low"})}_getSavedCaption(e){const i=this._savedCaptionsMap.get(e);return i?dr.fromJSON(i):null}_saveCaption(e,i){this._savedCaptionsMap.set(e,i.toJSON())}_registerCaptionReconversion(){const e=this.editor,i=e.model,a=e.plugins.get("ImageUtils"),u=e.plugins.get("ImageCaptionUtils");i.document.on("change:data",()=>{const f=i.document.differ.getChanges();for(const m of f){if(m.attributeKey!=="alt")continue;const w=m.range.start.nodeAfter;if(a.isBlockImage(w)){const _=u.getCaptionFromImageModelElement(w);if(!_)return;e.editing.reconvertItem(_)}}})}}class pV extends ct{static get requires(){return[F3]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,i=e.editing.view,a=e.plugins.get("ImageCaptionUtils"),u=e.t;e.ui.componentFactory.add("toggleImageCaption",f=>{const m=e.commands.get("toggleImageCaption"),w=new Wn(f);return w.set({icon:fn.caption,tooltip:!0,isToggleable:!0}),w.bind("isOn","isEnabled").to(m,"value","isEnabled"),w.bind("label").to(m,"value",_=>u(_?"Toggle caption off":"Toggle caption on")),this.listenTo(w,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const _=a.getCaptionFromModelSelection(e.model.document.selection);if(_){const E=e.editing.mapper.toViewElement(_);i.scrollToTheSelection(),i.change(T=>{T.addClass("image__caption_highlighted",E)})}e.editing.view.focus()}),w})}}var z3=s(5247),mV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(z3.A,mV),z3.A.locals;function U3(c){const e=c.map(i=>i.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function gV(c){return new Promise((e,i)=>{const a=c.getAttribute("src");fetch(a).then(u=>u.blob()).then(u=>{const f=q3(u,a),m=f.replace("image/",""),w=new File([u],`image.${m}`,{type:f});e(w)}).catch(u=>u&&u.name==="TypeError"?function(f){return function(m){return new Promise((w,_)=>{const E=h.document.createElement("img");E.addEventListener("load",()=>{const T=h.document.createElement("canvas");T.width=E.width,T.height=E.height,T.getContext("2d").drawImage(E,0,0),T.toBlob(O=>O?w(O):_())}),E.addEventListener("error",()=>_()),E.src=m})}(f).then(m=>{const w=q3(m,f),_=w.replace("image/","");return new File([m],`image.${_}`,{type:w})})}(a).then(e).catch(i):i(u))})}function q3(c,e){return c.type?c.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class bV extends ct{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,i=e.t,a=()=>{const u=this._createButton(c5);return u.set({label:i("Upload image from computer"),tooltip:!0}),u};if(e.ui.componentFactory.add("uploadImage",a),e.ui.componentFactory.add("imageUpload",a),e.ui.componentFactory.add("menuBar:uploadImage",()=>{const u=this._createButton(NS);return u.label=i("Image from computer"),u}),e.plugins.has("ImageInsertUI")){const u=e.plugins.get("ImageInsertUI");u.registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>{const f=e.ui.componentFactory.create("uploadImage");return f.bind("label").to(u,"isImageSelected",m=>i(m?"Replace image from computer":"Upload image from computer")),f},formViewCreator:()=>{const f=e.ui.componentFactory.create("uploadImage");return f.withText=!0,f.bind("label").to(u,"isImageSelected",m=>i(m?"Replace from computer":"Upload from computer")),f.on("execute",()=>{u.dropdownView.isOpen=!1}),f}})}}_createButton(e){const i=this.editor,a=i.locale,u=i.commands.get("uploadImage"),f=i.config.get("image.upload.types"),m=U3(f),w=new e(i.locale),_=a.t;return w.set({acceptedType:f.map(E=>`image/${E}`).join(","),allowMultipleFiles:!0,label:_("Upload image from computer"),icon:fn.imageUpload}),w.bind("isEnabled").to(u),w.on("done",(E,T)=>{const O=Array.from(T).filter(V=>m.test(V.type));O.length&&(i.execute("uploadImage",{file:O}),i.editing.view.focus())}),w}}var V3=s(2267),kV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(V3.A,kV),V3.A.locals;var $3=s(7693),wV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()($3.A,wV),$3.A.locals;var H3=s(1559),yV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(H3.A,yV),H3.A.locals;class vV extends ct{constructor(e){super(e),this.uploadStatusChange=(i,a,u)=>{const f=this.editor,m=a.item,w=m.getAttribute("uploadId");if(!u.consumable.consume(a.item,i.name))return;const _=f.plugins.get("ImageUtils"),E=f.plugins.get(cl),T=w?a.attributeNewValue:null,O=this.placeholder,V=f.editing.mapper.toViewElement(m),K=u.writer;if(T=="reading")return W3(V,K),void G3(_,O,V,K);if(T=="uploading"){const ee=E.loaders.get(w);return W3(V,K),void(ee?(Y3(V,K),function(se,ke,Ee,Le){const tt=function(ft){const Mt=ft.createUIElement("div",{class:"ck-progress-bar"});return ft.setCustomProperty("progressBar",!0,Mt),Mt}(ke);ke.insert(ke.createPositionAt(se,"end"),tt),Ee.on("change:uploadedPercent",(ft,Mt,rn)=>{Le.change(wn=>{wn.setStyle("width",rn+"%",tt)})})}(V,K,ee,f.editing.view),function(se,ke,Ee,Le){if(Le.data){const tt=se.findViewImgElement(ke);Ee.setAttribute("src",Le.data,tt)}}(_,V,K,ee)):G3(_,O,V,K))}T=="complete"&&E.loaders.get(w)&&function(ee,se,ke){const Ee=se.createUIElement("div",{class:"ck-image-upload-complete-icon"});se.insert(se.createPositionAt(ee,"end"),Ee),setTimeout(()=>{ke.change(Le=>Le.remove(Le.createRangeOn(Ee)))},3e3)}(V,K,f.editing.view),function(ee,se){Q3(ee,se,"progressBar")}(V,K),Y3(V,K),function(ee,se){se.removeClass("ck-appear",ee)}(V,K)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function W3(c,e){c.hasClass("ck-appear")||e.addClass("ck-appear",c)}function G3(c,e,i,a){i.hasClass("ck-image-upload-placeholder")||a.addClass("ck-image-upload-placeholder",i);const u=c.findViewImgElement(i);u.getAttribute("src")!==e&&a.setAttribute("src",e,u),K3(i,"placeholder")||a.insert(a.createPositionAfter(u),function(f){const m=f.createUIElement("div",{class:"ck-upload-placeholder-loader"});return f.setCustomProperty("placeholder",!0,m),m}(a))}function Y3(c,e){c.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",c),Q3(c,e,"placeholder")}function K3(c,e){for(const i of c.getChildren())if(i.getCustomProperty(e))return i}function Q3(c,e,i){const a=K3(c,i);a&&e.remove(e.createRangeOn(a))}var AV=Object.defineProperty,_V=Object.defineProperties,CV=Object.getOwnPropertyDescriptors,J3=Object.getOwnPropertySymbols,xV=Object.prototype.hasOwnProperty,SV=Object.prototype.propertyIsEnumerable,Z3=(c,e,i)=>e in c?AV(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i;class EV extends Ht{refresh(){const e=this.editor,i=e.plugins.get("ImageUtils"),a=e.model.document.selection.getSelectedElement();this.isEnabled=i.isImageAllowed()||i.isImage(a)}execute(e){const i=sr(e.file),a=this.editor.model.document.selection,u=this.editor.plugins.get("ImageUtils"),f=Object.fromEntries(a.getAttributes());i.forEach((m,w)=>{const _=a.getSelectedElement();if(w&&_&&u.isImage(_)){const E=this.editor.model.createPositionAfter(_);this._uploadImage(m,f,E)}else this._uploadImage(m,f)})}_uploadImage(e,i,a){const u=this.editor,f=u.plugins.get(cl).createLoader(e),m=u.plugins.get("ImageUtils");var w,_;f&&m.insertImage((w=((E,T)=>{for(var O in T||(T={}))xV.call(T,O)&&Z3(E,O,T[O]);if(J3)for(var O of J3(T))SV.call(T,O)&&Z3(E,O,T[O]);return E})({},i),_={uploadId:f.id},_V(w,CV(_))),a)}}class DV extends ct{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[cl,Iy,Na,ys]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,i=e.model.document,a=e.conversion,u=e.plugins.get(cl),f=e.plugins.get("ImageUtils"),m=e.plugins.get("ClipboardPipeline"),w=U3(e.config.get("image.upload.types")),_=new EV(e);e.commands.add("uploadImage",_),e.commands.add("imageUpload",_),a.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(E,T)=>{if(O=T.dataTransfer,Array.from(O.types).includes("text/html")&&O.getData("text/html")!=="")return;var O;const V=Array.from(T.dataTransfer.files).filter(K=>!!K&&w.test(K.type));V.length&&(E.stop(),e.model.change(K=>{T.targetRanges&&K.setSelection(T.targetRanges.map(ee=>e.editing.mapper.toModelRange(ee))),e.execute("uploadImage",{file:V})}))}),this.listenTo(m,"inputTransformation",(E,T)=>{const O=Array.from(e.editing.view.createRangeIn(T.content)).map(K=>K.item).filter(K=>function(ee,se){return!(!ee.isInlineImageView(se)||!se.getAttribute("src")||!se.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!se.getAttribute("src").match(/^blob:/g))}(f,K)&&!K.getAttribute("uploadProcessed")).map(K=>({promise:gV(K),imageElement:K}));if(!O.length)return;const V=new Kc(e.editing.view.document);for(const K of O){V.setAttribute("uploadProcessed",!0,K.imageElement);const ee=u.createLoader(K.promise);ee&&(V.setAttribute("src","",K.imageElement),V.setAttribute("uploadId",ee.id,K.imageElement))}}),e.editing.view.document.on("dragover",(E,T)=>{T.preventDefault()}),i.on("change",()=>{const E=i.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),T=new Set;for(const O of E)if(O.type=="insert"&&O.name!="$text"){const V=O.position.nodeAfter,K=O.position.root.rootName=="$graveyard";for(const ee of IV(e,V)){const se=ee.getAttribute("uploadId");if(!se)continue;const ke=u.loaders.get(se);ke&&(K?T.has(se)||ke.abort():(T.add(se),this._uploadImageElements.set(se,ee),ke.status=="idle"&&this._readAndUpload(ke)))}}}),this.on("uploadComplete",(E,{imageElement:T,data:O})=>{const V=O.urls?O.urls:O;this.editor.model.change(K=>{K.setAttribute("src",V.default,T),this._parseAndSetSrcsetAttributeOnImage(V,T,K),f.setImageNaturalSizeAttributes(T)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const i=this.editor,a=i.model,u=i.locale.t,f=i.plugins.get(cl),m=i.plugins.get(Iy),w=i.plugins.get("ImageUtils"),_=this._uploadImageElements;return a.enqueueChange({isUndoable:!1},T=>{T.setAttribute("uploadStatus","reading",_.get(e.id))}),e.read().then(()=>{const T=e.upload(),O=_.get(e.id);if(b.isSafari){const V=i.editing.mapper.toViewElement(O),K=w.findViewImgElement(V);i.editing.view.once("render",()=>{if(!K.parent)return;const ee=i.editing.view.domConverter.mapViewToDom(K.parent);if(!ee)return;const se=ee.style.display;ee.style.display="none",ee._ckHack=ee.offsetHeight,ee.style.display=se})}return i.ui&&i.ui.ariaLiveAnnouncer.announce(u("Uploading image")),a.enqueueChange({isUndoable:!1},V=>{V.setAttribute("uploadStatus","uploading",O)}),T}).then(T=>{a.enqueueChange({isUndoable:!1},O=>{const V=_.get(e.id);O.setAttribute("uploadStatus","complete",V),i.ui&&i.ui.ariaLiveAnnouncer.announce(u("Image upload complete")),this.fire("uploadComplete",{data:T,imageElement:V})}),E()}).catch(T=>{if(i.ui&&i.ui.ariaLiveAnnouncer.announce(u("Error during image upload")),e.status!=="error"&&e.status!=="aborted")throw T;e.status=="error"&&T&&m.showWarning(T,{title:u("Upload failed"),namespace:"upload"}),a.enqueueChange({isUndoable:!1},O=>{O.remove(_.get(e.id))}),E()});function E(){a.enqueueChange({isUndoable:!1},T=>{const O=_.get(e.id);T.removeAttribute("uploadId",O),T.removeAttribute("uploadStatus",O),_.delete(e.id)}),f.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,i,a){let u=0;const f=Object.keys(e).filter(m=>{const w=parseInt(m,10);if(!isNaN(w))return u=Math.max(u,w),!0}).map(m=>`${e[m]} ${m}w`).join(", ");if(f!=""){const m={srcset:f};i.hasAttribute("width")||i.hasAttribute("height")||(m.width=u),a.setAttributes(m,i)}}}function IV(c,e){const i=c.plugins.get("ImageUtils");return Array.from(c.model.createRangeOn(e)).filter(a=>i.isImage(a.item)).map(a=>a.item)}var X3=s(4642),TV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(X3.A,TV),X3.A.locals;var e4=s(3469),NV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(e4.A,NV),e4.A.locals;class MV extends Ht{constructor(e,i){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(i.map(a=>{if(a.isDefault)for(const u of a.modelElements)this._defaultStyles[u]=a.name;return[a.name,a]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const i=this.editor,a=i.model,u=i.plugins.get("ImageUtils");a.change(f=>{const m=e.value,{setImageSizes:w=!0}=e;let _=u.getClosestSelectedImageElement(a.document.selection);m&&this.shouldConvertImageType(m,_)&&(this.editor.execute(u.isBlockImage(_)?"imageTypeInline":"imageTypeBlock",{setImageSizes:w}),_=u.getClosestSelectedImageElement(a.document.selection)),!m||this._styles.get(m).isDefault?f.removeAttribute("imageStyle",_):f.setAttribute("imageStyle",m,_),w&&u.setImageNaturalSizeAttributes(_)})}shouldConvertImageType(e,i){return!this._styles.get(e).modelElements.includes(i.name)}}var PV=Object.defineProperty,t4=Object.getOwnPropertySymbols,OV=Object.prototype.hasOwnProperty,jV=Object.prototype.propertyIsEnumerable,n4=(c,e,i)=>e in c?PV(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,r4=(c,e)=>{for(var i in e||(e={}))OV.call(e,i)&&n4(c,i,e[i]);if(t4)for(var i of t4(e))jV.call(e,i)&&n4(c,i,e[i]);return c};const{objectFullWidth:LV,objectInline:i4,objectLeft:o4,objectRight:Yy,objectCenter:Ky,objectBlockLeft:s4,objectBlockRight:a4}=fn,j0={get inline(){return{name:"inline",title:"In line",icon:i4,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:o4,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:s4,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Ky,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Yy,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:a4,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Ky,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Yy,modelElements:["imageBlock"],className:"image-style-side"}}},l4={full:LV,left:s4,right:a4,center:Ky,inlineLeft:o4,inlineRight:Yy,inline:i4},c4=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function u4(c){L("image-style-configuration-definition-invalid",c)}const Qy={normalizeStyles:function(c){return(c.configuredStyles.options||[]).map(e=>function(i){return i=typeof i=="string"?j0[i]?r4({},j0[i]):{name:i}:function(a,u){const f=r4({},u);for(const m in a)Object.prototype.hasOwnProperty.call(u,m)||(f[m]=a[m]);return f}(j0[i.name],i),typeof i.icon=="string"&&(i.icon=l4[i.icon]||i.icon),i}(e)).filter(e=>function(i,{isBlockPluginLoaded:a,isInlinePluginLoaded:u}){const{modelElements:f,name:m}=i;if(!(f&&f.length&&m))return u4({style:i}),!1;{const w=[a?"imageBlock":null,u?"imageInline":null];if(!f.some(_=>w.includes(_)))return L("image-style-missing-dependency",{style:i,missingPlugins:f.map(_=>_==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,c))},getDefaultStylesConfiguration:function(c,e){return c&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:c?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(c){return c.has("ImageBlockEditing")&&c.has("ImageInlineEditing")?[...c4]:[]},warnInvalidStyle:u4,DEFAULT_OPTIONS:j0,DEFAULT_ICONS:l4,DEFAULT_DROPDOWN_DEFINITIONS:c4};function d4(c,e){for(const i of e)if(i.name===c)return i}class h4 extends ct{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[ys]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:i}=Qy,a=this.editor,u=a.plugins.has("ImageBlockEditing"),f=a.plugins.has("ImageInlineEditing");a.config.define("image.styles",i(u,f)),this.normalizedStyles=e({configuredStyles:a.config.get("image.styles"),isBlockPluginLoaded:u,isInlinePluginLoaded:f}),this._setupConversion(u,f),this._setupPostFixer(),a.commands.add("imageStyle",new MV(a,this.normalizedStyles))}_setupConversion(e,i){const a=this.editor,u=a.model.schema,f=(m=this.normalizedStyles,(_,E,T)=>{if(!T.consumable.consume(E.item,_.name))return;const O=d4(E.attributeNewValue,m),V=d4(E.attributeOldValue,m),K=T.mapper.toViewElement(E.item),ee=T.writer;V&&ee.removeClass(V.className,K),O&&ee.addClass(O.className,K)});var m;const w=function(_){const E={imageInline:_.filter(T=>!T.isDefault&&T.modelElements.includes("imageInline")),imageBlock:_.filter(T=>!T.isDefault&&T.modelElements.includes("imageBlock"))};return(T,O,V)=>{if(!O.modelRange)return;const K=O.viewItem,ee=Bi(O.modelRange.getItems());if(ee&&V.schema.checkAttribute(ee,"imageStyle"))for(const se of E[ee.name])V.consumable.consume(K,{classes:se.className})&&V.writer.setAttribute("imageStyle",se.name,ee)}}(this.normalizedStyles);a.editing.downcastDispatcher.on("attribute:imageStyle",f),a.data.downcastDispatcher.on("attribute:imageStyle",f),e&&(u.extend("imageBlock",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:figure",w,{priority:"low"})),i&&(u.extend("imageInline",{allowAttributes:"imageStyle"}),a.data.upcastDispatcher.on("element:img",w,{priority:"low"}))}_setupPostFixer(){const e=this.editor,i=e.model.document,a=e.plugins.get(ys),u=new Map(this.normalizedStyles.map(f=>[f.name,f]));i.registerPostFixer(f=>{let m=!1;for(const w of i.differ.getChanges())if(w.type=="insert"||w.type=="attribute"&&w.attributeKey=="imageStyle"){let _=w.type=="insert"?w.position.nodeAfter:w.range.start.nodeAfter;if(_&&_.is("element","paragraph")&&_.childCount>0&&(_=_.getChild(0)),!a.isImage(_))continue;const E=_.getAttribute("imageStyle");if(!E)continue;const T=u.get(E);T&&T.modelElements.includes(_.name)||(f.removeAttribute("imageStyle",_),m=!0)}return m})}}var f4=s(6386),BV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(f4.A,BV),f4.A.locals;class RV extends ct{static get requires(){return[h4]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,i=this.editor.config.get("image.toolbar")||[],a=p4(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const f of a)this._createButton(f);const u=p4([...i.filter(ae),...Qy.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const f of u)this._createDropdown(f,a)}_createDropdown(e,i){const a=this.editor.ui.componentFactory;a.add(e.name,u=>{let f;const{defaultItem:m,items:w,title:_}=e,E=w.filter(K=>i.find(({name:ee})=>m4(ee)===K)).map(K=>{const ee=a.create(K);return K===m&&(f=ee),ee});w.length!==E.length&&Qy.warnInvalidStyle({dropdown:e});const T=Jc(u,u0),O=T.buttonView,V=O.arrowView;return Cy(T,E,{enableActiveItemFocusOnDropdownOpen:!0}),O.set({label:g4(_,f.label),class:null,tooltip:!0}),V.unbind("label"),V.set({label:_}),O.bind("icon").toMany(E,"isOn",(...K)=>{const ee=K.findIndex(Ul);return ee<0?f.icon:E[ee].icon}),O.bind("label").toMany(E,"isOn",(...K)=>{const ee=K.findIndex(Ul);return g4(_,ee<0?f.label:E[ee].label)}),O.bind("isOn").toMany(E,"isOn",(...K)=>K.some(Ul)),O.bind("class").toMany(E,"isOn",(...K)=>K.some(Ul)?"ck-splitbutton_flatten":void 0),O.on("execute",()=>{E.some(({isOn:K})=>K)?T.isOpen=!T.isOpen:f.fire("execute")}),T.bind("isEnabled").toMany(E,"isEnabled",(...K)=>K.some(Ul)),this.listenTo(T,"execute",()=>{this.editor.editing.view.focus()}),T})}_createButton(e){const i=e.name;this.editor.ui.componentFactory.add(m4(i),a=>{const u=this.editor.commands.get("imageStyle"),f=new Wn(a);return f.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),f.bind("isEnabled").to(u,"isEnabled"),f.bind("isOn").to(u,"value",m=>m===i),f.on("execute",this._executeCommand.bind(this,i)),f})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function p4(c,e){for(const i of c)e[i.title]&&(i.title=e[i.title]);return c}function m4(c){return`imageStyle:${c}`}function g4(c,e){return(c?c+": ":"")+e}class FV extends ct{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new Xr(e)),e.commands.add("outdent",new Xr(e))}}class zV extends ct{static get pluginName(){return"IndentUI"}init(){const e=this.editor,i=e.locale,a=e.t,u=i.uiLanguageDirection=="ltr"?fn.indent:fn.outdent,f=i.uiLanguageDirection=="ltr"?fn.outdent:fn.indent;this._defineButton("indent",a("Increase indent"),u),this._defineButton("outdent",a("Decrease indent"),f)}_defineButton(e,i,a){const u=this.editor;u.ui.componentFactory.add(e,()=>{const f=this._createButton(Wn,e,i,a);return f.set({tooltip:!0}),f}),u.ui.componentFactory.add("menuBar:"+e,()=>this._createButton(Hs,e,i,a))}_createButton(e,i,a,u){const f=this.editor,m=f.commands.get(i),w=new e(f.locale);return w.set({label:a,icon:u}),w.bind("isEnabled").to(m,"isEnabled"),this.listenTo(w,"execute",()=>{f.execute(i),f.editing.view.focus()}),w}}class UV{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(i=>this._definitions.add(i)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(i,a,u)=>{if(!u.consumable.test(a.item,"attribute:linkHref")||!a.item.is("selection")&&!u.schema.isInline(a.item))return;const f=u.writer,m=f.document.selection;for(const w of this._definitions){const _=f.createAttributeElement("a",w.attributes,{priority:5});w.classes&&f.addClass(w.classes,_);for(const E in w.styles)f.setStyle(E,w.styles[E],_);f.setCustomProperty("link",!0,_),w.callback(a.attributeNewValue)?a.item.is("selection")?f.wrap(m.getFirstRange(),_):f.wrap(u.mapper.toViewRange(a.range),_):f.unwrap(u.mapper.toViewRange(a.range),_)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(i,a,{writer:u,mapper:f})=>{const m=f.toViewElement(a.item),w=Array.from(m.getChildren()).find(_=>_.is("element","a"));for(const _ of this._definitions){const E=_a(_.attributes);if(_.callback(a.attributeNewValue)){for(const[T,O]of E)T==="class"?u.addClass(O,w):u.setAttribute(T,O,w);_.classes&&u.addClass(_.classes,w);for(const T in _.styles)u.setStyle(T,_.styles[T],w)}else{for(const[T,O]of E)T==="class"?u.removeClass(O,w):u.removeAttribute(T,w);_.classes&&u.removeClass(_.classes,w);for(const T in _.styles)u.removeStyle(T,w)}}})}}}const qV=function(c,e,i){var a=c.length;return i=i===void 0?a:i,!e&&i>=a?c:Ub(c,e,i)};var VV=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const b4=function(c){return VV.test(c)},$V=function(c){return c.split("")};var k4="\\ud800-\\udfff",HV="["+k4+"]",Jy="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Zy="\\ud83c[\\udffb-\\udfff]",w4="[^"+k4+"]",y4="(?:\\ud83c[\\udde6-\\uddff]){2}",v4="[\\ud800-\\udbff][\\udc00-\\udfff]",A4="(?:"+Jy+"|"+Zy+")?",_4="[\\ufe0e\\ufe0f]?",WV=_4+A4+("(?:\\u200d(?:"+[w4,y4,v4].join("|")+")"+_4+A4+")*"),GV="(?:"+[w4+Jy+"?",Jy,y4,v4,HV].join("|")+")",YV=RegExp(Zy+"(?="+Zy+")|"+GV+WV,"g");const KV=function(c){return c.match(YV)||[]},QV=function(c){return b4(c)?KV(c):$V(c)},JV=function(c){return function(e){e=vf(e);var i=b4(e)?QV(e):void 0,a=i?i[0]:e.charAt(0),u=i?qV(i,1).join(""):e.slice(1);return a[c]()+u}}("toUpperCase"),ZV=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,XV=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,e$=/^((\w+:(\/{2,})?)|(\W))/i,t$=["https?","ftps?","mailto"],L0="Ctrl+K";function C4(c,{writer:e}){const i=e.createAttributeElement("a",{href:c},{priority:5});return e.setCustomProperty("link",!0,i),i}function x4(c,e=t$){const i=String(c),a=e.join("|");return function(u,f){return!!u.replace(ZV,"").match(f)}(i,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",a)}`,"i"))?i:"#"}function Xy(c,e){return!!c&&e.checkAttribute(c.name,"linkHref")}function ev(c,e){const i=(a=c,XV.test(a)?"mailto:":e);var a;const u=!!i&&!S4(c);return c&&u?i+c:c}function S4(c){return e$.test(c)}function E4(c){window.open(c,"_blank","noopener")}class n$ extends Ht{constructor(){super(...arguments),this.manualDecorators=new zs,this.automaticDecorators=new UV}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,i=e.document.selection,a=i.getSelectedElement()||Bi(i.getSelectedBlocks());Xy(a,e.schema)?(this.value=a.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(a,"linkHref")):(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref"));for(const u of this.manualDecorators)u.value=this._getDecoratorStateFromModel(u.id)}execute(e,i={}){const a=this.editor.model,u=a.document.selection,f=[],m=[];for(const w in i)i[w]?f.push(w):m.push(w);a.change(w=>{if(u.isCollapsed){const _=u.getFirstPosition();if(u.hasAttribute("linkHref")){const E=D4(u);let T=A0(_,"linkHref",u.getAttribute("linkHref"),a);u.getAttribute("linkHref")===E&&(T=this._updateLinkContent(a,w,T,e)),w.setAttribute("linkHref",e,T),f.forEach(O=>{w.setAttribute(O,!0,T)}),m.forEach(O=>{w.removeAttribute(O,T)}),w.setSelection(w.createPositionAfter(T.end.nodeBefore))}else if(e!==""){const E=_a(u.getAttributes());E.set("linkHref",e),f.forEach(O=>{E.set(O,!0)});const{end:T}=a.insertContent(w.createText(e,E),_);w.setSelection(T)}["linkHref",...f,...m].forEach(E=>{w.removeSelectionAttribute(E)})}else{const _=a.schema.getValidRanges(u.getRanges(),"linkHref"),E=[];for(const O of u.getSelectedBlocks())a.schema.checkAttribute(O,"linkHref")&&E.push(w.createRangeOn(O));const T=E.slice();for(const O of _)this._isRangeToUpdate(O,E)&&T.push(O);for(const O of T){let V=O;if(T.length===1){const K=D4(u);u.getAttribute("linkHref")===K&&(V=this._updateLinkContent(a,w,O,e),w.setSelection(w.createSelection(V)))}w.setAttribute("linkHref",e,V),f.forEach(K=>{w.setAttribute(K,!0,V)}),m.forEach(K=>{w.removeAttribute(K,V)})}}})}_getDecoratorStateFromModel(e){const i=this.editor.model,a=i.document.selection,u=a.getSelectedElement();return Xy(u,i.schema)?u.getAttribute(e):a.getAttribute(e)}_isRangeToUpdate(e,i){for(const a of i)if(a.containsRange(e))return!1;return!0}_updateLinkContent(e,i,a,u){const f=i.createText(u,{linkHref:u});return e.insertContent(f,a)}}function D4(c){if(c.isCollapsed){const e=c.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(c.getFirstRange().getItems());if(e.length>1)return null;const i=e[0];return i.is("$text")||i.is("$textProxy")?i.data:null}}class r$ extends Ht{refresh(){const e=this.editor.model,i=e.document.selection,a=i.getSelectedElement();Xy(a,e.schema)?this.isEnabled=e.schema.checkAttribute(a,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref")}execute(){const e=this.editor,i=this.editor.model,a=i.document.selection,u=e.commands.get("link");i.change(f=>{const m=a.isCollapsed?[A0(a.getFirstPosition(),"linkHref",a.getAttribute("linkHref"),i)]:i.schema.getValidRanges(a.getRanges(),"linkHref");for(const w of m)if(f.removeAttribute("linkHref",w),u)for(const _ of u.manualDecorators)f.removeAttribute(_.id,w)})}}class i$ extends Ue(){constructor({id:e,label:i,attributes:a,classes:u,styles:f,defaultValue:m}){super(),this.id=e,this.set("value",void 0),this.defaultValue=m,this.label=i,this.attributes=a,this.classes=u,this.styles=f}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var I4=s(7719),o$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(I4.A,o$),I4.A.locals;var s$=Object.defineProperty,T4=Object.getOwnPropertySymbols,a$=Object.prototype.hasOwnProperty,l$=Object.prototype.propertyIsEnumerable,N4=(c,e,i)=>e in c?s$(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,c$=(c,e)=>{for(var i in e||(e={}))a$.call(e,i)&&N4(c,i,e[i]);if(T4)for(var i of T4(e))l$.call(e,i)&&N4(c,i,e[i]);return c};const M4="automatic",u$=/^(https?:)?\/\//;class P4 extends ct{static get pluginName(){return"LinkEditing"}static get requires(){return[iE,JS,Na]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor,i=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:C4}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(u,f)=>C4(x4(u,i),f)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:u=>u.getAttribute("href")}}),e.commands.add("link",new n$(e)),e.commands.add("unlink",new r$(e));const a=function(u,f){const m={"Open in a new tab":u("Open in a new tab"),Downloadable:u("Downloadable")};return f.forEach(w=>("label"in w&&m[w.label]&&(w.label=m[w.label]),w)),f}(e.t,function(u){const f=[];if(u)for(const[m,w]of Object.entries(u)){const _=Object.assign({},w,{id:`link${JV(m)}`});f.push(_)}return f}(e.config.get("link.decorators")));this._enableAutomaticDecorators(a.filter(u=>u.mode===M4)),this._enableManualDecorators(a.filter(u=>u.mode==="manual")),e.plugins.get(iE).registerAttribute("linkHref"),function(u,f,m,w){const _=u.editing.view,E=new Set;_.document.registerPostFixer(T=>{const O=u.model.document.selection;let V=!1;if(O.hasAttribute(f)){const K=A0(O.getFirstPosition(),f,O.getAttribute(f),u.model),ee=u.editing.mapper.toViewRange(K);for(const se of ee.getItems())se.is("element",m)&&!se.hasClass(w)&&(T.addClass(w,se),E.add(se),V=!0)}return V}),u.conversion.for("editingDowncast").add(T=>{function O(){_.change(V=>{for(const K of E.values())V.removeClass(w,K),E.delete(K)})}T.on("insert",O,{priority:"highest"}),T.on("remove",O,{priority:"highest"}),T.on("attribute",O,{priority:"highest"}),T.on("selection",O,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const i=this.editor,a=i.commands.get("link").automaticDecorators;i.config.get("link.addTargetToExternalLinks")&&a.add({id:"linkIsExternal",mode:M4,callback:u=>!!u&&u$.test(u),attributes:{target:"_blank",rel:"noopener noreferrer"}}),a.add(e),a.length&&i.conversion.for("downcast").add(a.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const i=this.editor,a=i.commands.get("link").manualDecorators;e.forEach(u=>{i.model.schema.extend("$text",{allowAttributes:u.id});const f=new i$(u);a.add(f),i.conversion.for("downcast").attributeToElement({model:f.id,view:(m,{writer:w,schema:_},{item:E})=>{if((E.is("selection")||_.isInline(E))&&m){const T=w.createAttributeElement("a",f.attributes,{priority:5});f.classes&&w.addClass(f.classes,T);for(const O in f.styles)w.setStyle(O,f.styles[O],T);return w.setCustomProperty("link",!0,T),T}}}),i.conversion.for("upcast").elementToAttribute({view:c$({name:"a"},f._createPattern()),model:{key:f.id}})})}_enableLinkOpen(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",(a,u)=>{if(!(b.isMac?u.domEvent.metaKey:u.domEvent.ctrlKey))return;let f=u.domTarget;if(f.tagName.toLowerCase()!="a"&&(f=f.closest("a")),!f)return;const m=f.getAttribute("href");m&&(a.stop(),u.preventDefault(),E4(m))},{context:"$capture"}),this.listenTo(i,"keydown",(a,u)=>{const f=e.commands.get("link").value;f&&u.keyCode===Pn.enter&&u.altKey&&(a.stop(),E4(f))})}_enableSelectionAttributesFixer(){const e=this.editor.model,i=e.document.selection;this.listenTo(i,"change:attribute",(a,{attributeKeys:u})=>{u.includes("linkHref")&&!i.hasAttribute("linkHref")&&e.change(f=>{var m;(function(w,_){w.removeSelectionAttribute("linkHref");for(const E of _)w.removeSelectionAttribute(E)})(f,(m=e.schema,m.getDefinition("$text").allowAttributes.filter(w=>w.startsWith("link"))))})})}_enableClipboardIntegration(){const e=this.editor,i=e.model,a=this.editor.config.get("link.defaultProtocol");a&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(u,f)=>{i.change(m=>{const w=m.createRangeIn(f.content);for(const _ of w.getItems())if(_.hasAttribute("linkHref")){const E=ev(_.getAttribute("linkHref"),a);m.setAttribute("linkHref",E,_)}})})}}var O4=s(3817),d$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(O4.A,d$),O4.A.locals;class h$ extends Nt{constructor(e,i,a){super(e),this.focusTracker=new Ri,this.keystrokes=new po,this._focusables=new es;const u=e.t;this._validators=a,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(u("Save"),fn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(u("Cancel"),fn.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(i),this.children=this._createFormChildren(i.manualDecorators),this._focusCycler=new Ta({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const f=["ck","ck-link-form","ck-responsive-form"];i.manualDecorators.length&&f.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:f,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,i)=>(e[i.name]=i.isOn,e),{})}render(){super.render(),Sn({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,i=new l0(this.locale,d0);return i.label=e("Link URL"),i}_createButton(e,i,a,u){const f=new Wn(this.locale);return f.set({label:e,icon:i,tooltip:!0}),f.extendTemplate({attributes:{class:a}}),u&&f.delegate("execute").to(this,u),f}_createManualDecoratorSwitches(e){const i=this.createCollection();for(const a of e.manualDecorators){const u=new s0(this.locale);u.set({name:a.id,label:a.label,withText:!0}),u.bind("isOn").toMany([a,e],"value",(f,m)=>m===void 0&&f===void 0?!!a.defaultValue:!!f),u.on("execute",()=>{a.set("value",!u.isOn)}),i.add(u)}return i}_createFormChildren(e){const i=this.createCollection();if(i.add(this.urlInputView),e.length){const a=new Nt;a.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(u=>({tag:"li",children:[u],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),i.add(a)}return i.add(this.saveButtonView),i.add(this.cancelButtonView),i}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}var j4=s(8762),f$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(j4.A,f$),j4.A.locals;class p$ extends Nt{constructor(e,i={}){super(e),this.focusTracker=new Ri,this.keystrokes=new po,this._focusables=new es;const a=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(a("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(a("Edit link"),fn.pencil,"edit"),this.set("href",void 0),this._linkConfig=i,this._focusCycler=new Ta({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,i,a){const u=new Wn(this.locale);return u.set({label:e,icon:i,tooltip:!0}),u.delegate("execute").to(this,a),u}_createPreviewButton(){const e=new Wn(this.locale),i=this.bindTemplate,a=this.t;return e.set({withText:!0,tooltip:a("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:i.to("href",u=>u&&x4(u,this._linkConfig.allowedProtocols)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",u=>u||a("This link has no URL")),e.bind("isEnabled").to(this,"href",u=>!!u),e.template.tag="a",e.template.eventListeners={},e}}const Kl="link-ui";class m$ extends ct{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[b0]}static get pluginName(){return"LinkUI"}init(){const e=this.editor,i=this.editor.t;e.editing.view.addObserver(lF),this._balloon=e.plugins.get(b0),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Kl,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Kl,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Create link"),keystroke:L0},{label:i("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,i=new p$(e.locale,e.config.get("link")),a=e.commands.get("link"),u=e.commands.get("unlink");return i.bind("href").to(a,"value"),i.editButtonView.bind("isEnabled").to(a),i.unlinkButtonView.bind("isEnabled").to(u),this.listenTo(i,"edit",()=>{this._addFormView()}),this.listenTo(i,"unlink",()=>{e.execute("unlink"),this._hideUI()}),i.keystrokes.set("Esc",(f,m)=>{this._hideUI(),m()}),i.keystrokes.set(L0,(f,m)=>{this._addFormView(),m()}),i}_createFormView(){const e=this.editor,i=e.commands.get("link"),a=e.config.get("link.defaultProtocol"),u=new(On(h$))(e.locale,i,function(f){const m=f.t,w=f.config.get("link.allowCreatingEmptyLinks");return[_=>{if(!w&&!_.url.length)return m("Link URL must not be empty.")}]}(e));return u.urlInputView.fieldView.bind("value").to(i,"value"),u.urlInputView.bind("isEnabled").to(i,"isEnabled"),u.saveButtonView.bind("isEnabled").to(i,"isEnabled"),this.listenTo(u,"submit",()=>{if(u.isValid()){const{value:f}=u.urlInputView.fieldView.element,m=ev(f,a);e.execute("link",m,u.getDecoratorSwitchesState()),this._closeFormView()}}),this.listenTo(u.urlInputView,"change:errorText",()=>{e.ui.update()}),this.listenTo(u,"cancel",()=>{this._closeFormView()}),u.keystrokes.set("Esc",(f,m)=>{this._closeFormView(),m()}),u}_createToolbarLinkButton(){const e=this.editor,i=e.commands.get("link");e.ui.componentFactory.add("link",()=>{const a=this._createButton(Wn);return a.set({tooltip:!0,isToggleable:!0}),a.bind("isOn").to(i,"value",u=>!!u),a}),e.ui.componentFactory.add("menuBar:link",()=>this._createButton(Hs))}_createButton(e){const i=this.editor,a=i.locale,u=i.commands.get("link"),f=new e(i.locale),m=a.t;return f.set({label:m("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:L0}),f.bind("isEnabled").to(u,"isEnabled"),this.listenTo(f,"execute",()=>this._showUI(!0)),f}_enableBalloonActivators(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(L0,(a,u)=>{u(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,i)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),i())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,i)=>{this._isUIVisible&&(this._hideUI(),i())}),zn({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,i=e.editing.view.document;let a=this._getSelectedLinkElement(),u=m();const f=()=>{const w=this._getSelectedLinkElement(),_=m();a&&!w||!a&&_!==u?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),a=w,u=_};function m(){return i.selection.focus.getAncestors().reverse().find(w=>w.is("element"))}this.listenTo(e.ui,"update",f),this.listenTo(this._balloon,"change:visibleView",f)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,i=this.editor.model,a=e.document;let u;if(i.markers.has(Kl)){const f=Array.from(this.editor.editing.mapper.markerNameToElements(Kl)),m=e.createRange(e.createPositionBefore(f[0]),e.createPositionAfter(f[f.length-1]));u=e.domConverter.viewRangeToDom(m)}else u=()=>{const f=this._getSelectedLinkElement();return f?e.domConverter.mapViewToDom(f):e.domConverter.viewRangeToDom(a.selection.getFirstRange())};return{target:u}}_getSelectedLinkElement(){const e=this.editor.editing.view,i=e.document.selection,a=i.getSelectedElement();if(i.isCollapsed||a&&Si(a))return tv(i.getFirstPosition());{const u=i.getFirstRange().getTrimmed(),f=tv(u.start),m=tv(u.end);return f&&f==m&&e.createRangeIn(f).getTrimmed().isEqual(u)?f:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(i=>{const a=e.document.selection.getFirstRange();if(e.markers.has(Kl))i.updateMarker(Kl,{range:a});else if(a.start.isAtEnd){const u=a.start.getLastMatchingPosition(({item:f})=>!e.schema.isContent(f),{boundaries:a});i.addMarker(Kl,{usingOperation:!1,affectsData:!1,range:i.createRange(u,a.end)})}else i.addMarker(Kl,{usingOperation:!1,affectsData:!1,range:a})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Kl)&&e.change(i=>{i.removeMarker(Kl)})}}function tv(c){return c.getAncestors().find(e=>{return(i=e).is("attributeElement")&&!!i.getCustomProperty("link");var i})||null}const L4=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class g$ extends ct{static get requires(){return[Xc,P4]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,i){return i.textNode&&i.textNode.hasAttribute("linkHref")?A0(i,"linkHref",i.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,i){const a=this.editor.model,u=a.document.selection,f=u.getFirstPosition(),m=u.getLastPosition();let w=i.getJoined(this._expandLinkRange(a,f)||i);w&&(w=w.getJoined(this._expandLinkRange(a,m)||i)),w&&(w.start.isBefore(f)||w.end.isAfter(m))&&e.setSelection(w)}_enablePasteLinking(){const e=this.editor,i=e.model,a=i.document.selection,u=e.plugins.get("ClipboardPipeline"),f=e.commands.get("link");u.on("inputTransformation",(m,w)=>{if(!this.isEnabled||!f.isEnabled||a.isCollapsed||w.method!=="paste"||a.rangeCount>1)return;const _=a.getFirstRange(),E=w.dataTransfer.getData("text/plain");if(!E)return;const T=E.match(L4);T&&T[2]===E&&(i.change(O=>{this._selectEntireLinks(O,_),f.execute(E)}),m.stop())},{priority:"high"})}_enableTypingHandling(){const e=this.editor,i=new rE(e.model,a=>{if(!function(f){return f.length>4&&f[f.length-1]===" "&&f[f.length-2]!==" "}(a))return;const u=B4(a.substr(0,a.length-1));return u?{url:u}:void 0});i.on("matched:data",(a,u)=>{const{batch:f,range:m,url:w}=u;if(!f.isTyping)return;const _=m.end.getShiftedBy(-1),E=_.getShiftedBy(-w.length),T=e.model.createRange(E,_);this._applyAutoLink(w,T)}),i.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,i=e.model,a=e.commands.get("enter");a&&a.on("execute",()=>{const u=i.document.selection.getFirstPosition();if(!u.parent.previousSibling)return;const f=i.createRangeIn(u.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(f)})}_enableShiftEnterHandling(){const e=this.editor,i=e.model,a=e.commands.get("shiftEnter");a&&a.on("execute",()=>{const u=i.document.selection.getFirstPosition(),f=i.createRange(i.createPositionAt(u.parent,0),u.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(f)})}_checkAndApplyAutoLinkOnRange(e){const i=this.editor.model,{text:a,range:u}=nE(e,i),f=B4(a);if(f){const m=i.createRange(u.end.getShiftedBy(-f.length),u.end);this._applyAutoLink(f,m)}}_applyAutoLink(e,i){const a=this.editor.model,u=ev(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(f,m){return m.schema.checkAttributeInSelection(m.createSelection(f),"linkHref")}(i,a)&&S4(u)&&!function(f){const m=f.start.nodeAfter;return!!m&&m.hasAttribute("linkHref")}(i)&&this._persistAutoLink(u,i)}_persistAutoLink(e,i){const a=this.editor.model,u=this.editor.plugins.get("Delete");a.enqueueChange(f=>{f.setAttribute("linkHref",e,i),a.enqueueChange(()=>{u.requestUndoOnBackspace()})})}}function B4(c){const e=L4.exec(c);return e?e[2]:null}var R4=s(4808),b$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(R4.A,b$),R4.A.locals;class Pa{constructor(e,i){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward=i.direction=="forward",this._includeSelf=!!i.includeSelf,this._sameAttributes=sr(i.sameAttributes||[]),this._sameIndent=!!i.sameIndent,this._lowerIndent=!!i.lowerIndent,this._higherIndent=!!i.higherIndent}static first(e,i){return Bi(new this(e,i)[Symbol.iterator]())}*[Symbol.iterator](){const e=[];for(const{node:i}of Hm(this._getStartNode(),this._isForward?"forward":"backward")){const a=i.getAttribute("listIndent");if(a<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=a}else if(a>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(i);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some(u=>i.getAttribute(u)!==this._startElement.getAttribute(u)))break}e.length&&(yield*e,e.length=0),yield i}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function*Hm(c,e="forward"){const i=e=="forward",a=[];let u=null;for(;Gi(c);){let f=null;if(u){const m=c.getAttribute("listIndent"),w=u.getAttribute("listIndent");m>w?a[w]=u:m<w?(f=a[m],a.length=m):f=u}yield{node:c,previous:u,previousNodeInList:f},u=c,c=i?c.nextSibling:c.previousSibling}}class k${constructor(e){this._listHead=e}[Symbol.iterator](){return Hm(this._listHead,"forward")}}var w$=Object.defineProperty,y$=Object.defineProperties,v$=Object.getOwnPropertyDescriptors,F4=Object.getOwnPropertySymbols,A$=Object.prototype.hasOwnProperty,_$=Object.prototype.propertyIsEnumerable,z4=(c,e,i)=>e in c?w$(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,Wm=(c,e)=>{for(var i in e||(e={}))A$.call(e,i)&&z4(c,i,e[i]);if(F4)for(var i of F4(e))_$.call(e,i)&&z4(c,i,e[i]);return c},nv=(c,e)=>y$(c,v$(e));class qf{static next(){return P()}}function Gi(c){return!!c&&c.is("element")&&c.hasAttribute("listItemId")}function rv(c,e={}){return[...Ku(c,nv(Wm({},e),{direction:"backward"})),...Ku(c,nv(Wm({},e),{direction:"forward"}))]}function Ku(c,e={}){const i=e.direction=="forward",a=Array.from(new Pa(c,nv(Wm({},e),{includeSelf:i,sameIndent:!0,sameAttributes:"listItemId"})));return i?a:a.reverse()}function U4(c,e){const i=new Pa(c,Wm({sameIndent:!0,sameAttributes:"listType"},e)),a=new Pa(c,Wm({sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"},e));return[...Array.from(i).reverse(),...a]}function uh(c){return!Pa.first(c,{sameIndent:!0,sameAttributes:"listItemId"})}function q4(c){return!Pa.first(c,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function Gm(c,e={}){c=sr(c);const i=e.withNested!==!1,a=new Set;for(const u of c)for(const f of rv(u,{higherIndent:i}))a.add(f);return dh(a)}function C$(c){c=sr(c);const e=new Set;for(const i of c)for(const a of U4(i))e.add(a);return dh(e)}function iv(c,e){const i=Ku(c,{direction:"forward"}),a=qf.next();for(const u of i)e.setAttribute("listItemId",a,u);return i}function ov(c,e,i){const a={};for(const[f,m]of e.getAttributes())f.startsWith("list")&&(a[f]=m);const u=Ku(c,{direction:"forward"});for(const f of u)i.setAttributes(a,f);return u}function sv(c,e,{expand:i,indentBy:a=1}={}){c=sr(c);const u=i?Gm(c):c;for(const f of u){const m=f.getAttribute("listIndent")+a;m<0?B0(f,e):e.setAttribute("listIndent",m,f)}return u}function B0(c,e){c=sr(c);for(const i of c)i.is("element","listItem")&&e.rename(i,"paragraph");for(const i of c)for(const a of i.getAttributeKeys())a.startsWith("list")&&e.removeAttribute(a,i);return c}function Ym(c){if(!c.length)return!1;const e=c[0].getAttribute("listItemId");return!!e&&!c.some(i=>i.getAttribute("listItemId")!=e)}function dh(c){return Array.from(c).filter(e=>e.root.rootName!=="$graveyard").sort((e,i)=>e.index-i.index)}function Km(c){const e=c.document.selection.getSelectedElement();return e&&c.schema.isObject(e)&&c.schema.isBlock(e)?e:null}function av(c,e){return e.checkChild(c.parent,"listItem")&&e.checkChild(c,"$text")&&!e.isObject(c)}function x$(c){return c=="numbered"||c=="customNumbered"}function S$(c,e,i){return Ku(e,{direction:"forward"}).pop().index>c.index?ov(c,e,i):[]}class V4 extends Ht{constructor(e,i){super(e),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,i=$4(e.document.selection);e.change(a=>{const u=[];Ym(i)&&!uh(i[0])?(this._direction=="forward"&&u.push(...sv(i,a)),u.push(...iv(i[0],a))):this._direction=="forward"?u.push(...sv(i,a,{expand:!0})):u.push(...function(f,m){const w=Gm(f=sr(f)),_=new Set,E=Math.min(...w.map(O=>O.getAttribute("listIndent"))),T=new Map;for(const O of w)T.set(O,Pa.first(O,{lowerIndent:!0}));for(const O of w){if(_.has(O))continue;_.add(O);const V=O.getAttribute("listIndent")-1;if(V<0)B0(O,m);else{if(O.getAttribute("listIndent")==E){const K=S$(O,T.get(O),m);for(const ee of K)_.add(ee);if(K.length)continue}m.setAttribute("listIndent",V,O)}}return dh(_)}(i,a));for(const f of u){if(!f.hasAttribute("listType"))continue;const m=Pa.first(f,{sameIndent:!0});m&&a.setAttribute("listType",m.getAttribute("listType"),f)}this._fireAfterExecute(u)})}_fireAfterExecute(e){this.fire("afterExecute",dh(new Set(e)))}_checkEnabled(){let e=$4(this.editor.model.document.selection),i=e[0];if(!i)return!1;if(this._direction=="backward"||Ym(e)&&!uh(e[0]))return!0;e=Gm(e),i=e[0];const a=Pa.first(i,{sameIndent:!0});return!!a&&a.getAttribute("listType")==i.getAttribute("listType")}}function $4(c){const e=Array.from(c.getSelectedBlocks()),i=e.findIndex(a=>!Gi(a));return i!=-1&&(e.length=i),e}var E$=Object.defineProperty,D$=Object.defineProperties,I$=Object.getOwnPropertyDescriptors,H4=Object.getOwnPropertySymbols,T$=Object.prototype.hasOwnProperty,N$=Object.prototype.propertyIsEnumerable,W4=(c,e,i)=>e in c?E$(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,lv=(c,e)=>{for(var i in e||(e={}))T$.call(e,i)&&W4(c,i,e[i]);if(H4)for(var i of H4(e))N$.call(e,i)&&W4(c,i,e[i]);return c},cv=(c,e)=>D$(c,I$(e));class R0 extends Ht{constructor(e,i,a={}){super(e),this.type=i,this._listWalkerOptions=a.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,a=i.document,u=Km(i),f=Array.from(a.selection.getSelectedBlocks()).filter(w=>i.schema.checkAttribute(w,"listType")||av(w,i.schema)),m=e.forceValue!==void 0?!e.forceValue:this.value;i.change(w=>{if(m){const _=f[f.length-1],E=Ku(_,{direction:"forward"}),T=[];E.length>1&&T.push(...iv(E[1],w)),T.push(...B0(f,w)),T.push(...function(O,V){const K=[];let ee=Number.POSITIVE_INFINITY;for(const{node:se}of Hm(O.nextSibling,"forward")){const ke=se.getAttribute("listIndent");if(ke==0)break;ke<ee&&(ee=ke);const Ee=ke-ee;V.setAttribute("listIndent",Ee,se),K.push(se)}return K}(_,w)),this._fireAfterExecute(T)}else if((u||a.selection.isCollapsed)&&Gi(f[0])){const _=U4(u||f[0],this._listWalkerOptions);for(const E of _)w.setAttributes(cv(lv({},e.additionalAttributes),{listType:this.type}),E);this._fireAfterExecute(_)}else{const _=[];for(const E of f)if(E.hasAttribute("listType"))for(const T of Gm(E,{withNested:!1}))T.getAttribute("listType")!=this.type&&(w.setAttributes(cv(lv({},e.additionalAttributes),{listType:this.type}),T),_.push(T));else!E.is("element","listItem")&&av(E,i.schema)&&w.rename(E,"listItem"),w.setAttributes(cv(lv({},e.additionalAttributes),{listIndent:0,listItemId:qf.next(),listType:this.type}),E),_.push(E);this._fireAfterExecute(_)}})}_fireAfterExecute(e){this.fire("afterExecute",dh(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,i=Array.from(e.getSelectedBlocks());if(!i.length)return!1;for(const a of i)if(a.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,i=e.schema,a=e.document.selection,u=Array.from(a.getSelectedBlocks());if(!u.length)return!1;if(this.value)return!0;for(const f of u)if(i.checkAttribute(f,"listType")||av(f,i))return!0;return!1}}class G4 extends Ht{constructor(e,i){super(e),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute({shouldMergeOnBlocksContentLevel:e=!1}={}){const i=this.editor.model,a=i.document.selection,u=[];i.change(f=>{const{firstElement:m,lastElement:w}=this._getMergeSubjectElements(a,e),_=m.getAttribute("listIndent")||0,E=w.getAttribute("listIndent"),T=w.getAttribute("listItemId");if(_!=E){const V=(O=w,Array.from(new Pa(O,{direction:"forward",higherIndent:!0})));u.push(...sv([w,...V],f,{indentBy:_-E,expand:_<E}))}var O;if(e){let V=a;a.isCollapsed&&(V=f.createSelection(f.createRange(f.createPositionAt(m,"end"),f.createPositionAt(w,0)))),i.deleteContent(V,{doNotResetEntireContent:a.isCollapsed});const K=V.getLastPosition().parent,ee=K.nextSibling;u.push(K),ee&&ee!==w&&ee.getAttribute("listItemId")==T&&u.push(...ov(ee,K,f))}else u.push(...ov(w,m,f));this._fireAfterExecute(u)})}_fireAfterExecute(e){this.fire("afterExecute",dh(new Set(e)))}_checkEnabled(){const e=this.editor.model,i=e.document.selection,a=Km(e);if(i.isCollapsed||a){const u=a||i.getFirstPosition().parent;if(!Gi(u))return!1;const f=this._direction=="backward"?u.previousSibling:u.nextSibling;if(!f||Ym([u,f]))return!1}else{const u=i.getLastPosition(),f=i.getFirstPosition();if(u.parent===f.parent||!Gi(u.parent))return!1}return!0}_getMergeSubjectElements(e,i){const a=Km(this.editor.model);let u,f;if(e.isCollapsed||a){const m=a||e.getFirstPosition().parent,w=uh(m);this._direction=="backward"?(f=m,u=w&&!i?Pa.first(m,{sameIndent:!0,lowerIndent:!0}):m.previousSibling):(u=m,f=m.nextSibling)}else u=e.getFirstPosition().parent,f=e.getLastPosition().parent;return{firstElement:u,lastElement:f}}}class Y4 extends Ht{constructor(e,i){super(e),this._direction=i}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change(e=>{const i=iv(this._getStartBlock(),e);this._fireAfterExecute(i)})}_fireAfterExecute(e){this.fire("afterExecute",dh(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,i=this._getStartBlock();return e.isCollapsed&&Gi(i)&&!uh(i)}_getStartBlock(){const e=this.editor.model.document.selection.getFirstPosition().parent;return this._direction=="before"?e:e.nextSibling}}class M$ extends ct{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(e){return C$(e)}isFirstBlockOfListItem(e){return uh(e)}isListItemBlock(e){return Gi(e)}expandListBlocksToCompleteItems(e,i={}){return Gm(e,i)}isNumberedListType(e){return x$(e)}}function K4(c){return c.is("element","ol")||c.is("element","ul")}function F0(c){return c.is("element","li")}function P$(c,e,i,a=J4(i,e)){return c.createAttributeElement(Q4(i),null,{priority:2*e/100-100,id:a})}function O$(c,e,i){return c.createAttributeElement("li",null,{priority:(2*e+1)/100-100,id:i})}function Q4(c){return c=="numbered"||c=="customNumbered"?"ol":"ul"}function J4(c,e){return`list-${c}-${e}`}function ul(c,e){const i=c.nodeBefore;if(Gi(i)){let a=i;for(const{node:u}of Hm(a,"backward"))if(a=u,e.has(a))return;e.set(i,a)}else{const a=c.nodeAfter;Gi(a)&&e.set(a,a)}}function j$(){return(c,e,i)=>{const{writer:a,schema:u}=i;if(!e.modelRange)return;const f=Array.from(e.modelRange.getItems({shallow:!0})).filter(O=>u.checkAttribute(O,"listItemId"));if(!f.length)return;const m=qf.next(),w=function(O){let V=0,K=O.parent;for(;K;){if(F0(K))V++;else{const ee=K.previousSibling;ee&&F0(ee)&&V++}K=K.parent}return V}(e.viewItem);let _=e.viewItem.parent&&e.viewItem.parent.is("element","ol")?"numbered":"bulleted";const E=f[0].getAttribute("listType");E&&(_=E);const T={listItemId:m,listIndent:w,listType:_};for(const O of f)O.hasAttribute("listItemId")||a.setAttributes(T,O);f.length>1&&f[1].getAttribute("listItemId")!=T.listItemId&&i.keepEmptyElement(f[0])}}function Z4(){return(c,e,i)=>{if(!i.consumable.test(e.viewItem,{name:!0}))return;const a=new Kc(e.viewItem.document);for(const u of Array.from(e.viewItem.getChildren()))F0(u)||K4(u)||a.remove(u)}}function X4(c,e,i,{dataPipeline:a}={}){const u=function(f){return(m,w)=>{const _=[];for(const E of f)m.hasAttribute(E)&&_.push(`attribute:${E}`);return!!_.every(E=>w.test(m,E)!==!1)&&(_.forEach(E=>w.consume(m,E)),!0)}}(c);return(f,m,w)=>{const{writer:_,mapper:E,consumable:T}=w,O=m.item;if(!c.includes(m.attributeKey)||!u(O,T))return;const V=function(ee,se,ke){const Ee=ke.createRangeOn(ee);return se.toViewRange(Ee).getTrimmed().end.nodeBefore}(O,E,i);tD(V,_,E),function(ee,se){let ke=ee.parent;for(;ke.is("attributeElement")&&["ul","ol","li"].includes(ke.name);){const Ee=ke.parent;se.unwrap(se.createRangeOn(ee),ke),ke=Ee}}(V,_);const K=function(ee,se,ke,Ee,{dataPipeline:Le}){let tt=Ee.createRangeOn(se);if(!uh(ee))return tt;for(const ft of ke){if(ft.scope!="itemMarker")continue;const Mt=ft.createElement(Ee,ee,{dataPipeline:Le});if(!Mt||(Ee.setCustomProperty("listItemMarker",!0,Mt),ft.canInjectMarkerIntoElement&&ft.canInjectMarkerIntoElement(ee)?Ee.insert(Ee.createPositionAt(se,0),Mt):(Ee.insert(tt.start,Mt),tt=Ee.createRange(Ee.createPositionBefore(Mt),Ee.createPositionAfter(se))),!ft.createWrapperElement||!ft.canWrapElement))continue;const rn=ft.createWrapperElement(Ee,ee,{dataPipeline:Le});Ee.setCustomProperty("listItemWrapper",!0,rn),ft.canWrapElement(ee)?tt=Ee.wrap(tt,rn):(tt=Ee.wrap(Ee.createRangeOn(Mt),rn),tt=Ee.createRange(tt.start,Ee.createPositionAfter(se)))}return tt}(O,V,e,_,{dataPipeline:a});(function(ee,se,ke,Ee){if(!ee.hasAttribute("listIndent"))return;const Le=ee.getAttribute("listIndent");let tt=ee;for(let ft=Le;ft>=0;ft--){const Mt=O$(Ee,ft,tt.getAttribute("listItemId")),rn=P$(Ee,ft,tt.getAttribute("listType"));for(const wn of ke)wn.scope!="list"&&wn.scope!="item"||!tt.hasAttribute(wn.attributeName)||wn.setAttributeOnDowncast(Ee,tt.getAttribute(wn.attributeName),wn.scope=="list"?rn:Mt);if(se=Ee.wrap(se,Mt),se=Ee.wrap(se,rn),ft==0||(tt=Pa.first(tt,{lowerIndent:!0}),!tt))break}})(O,K,e,_)}}function eD(c,{dataPipeline:e}={}){return(i,{writer:a})=>{if(!nD(i,c))return null;if(!e)return a.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const u=a.createContainerElement("p");return a.setCustomProperty("dataPipeline:transparentRendering",!0,u),u}}function tD(c,e,i){for(;c.parent.is("attributeElement")&&c.parent.getCustomProperty("listItemWrapper");)e.unwrap(e.createRangeOn(c),c.parent);const a=[];u(e.createPositionBefore(c).getWalker({direction:"backward"})),u(e.createRangeIn(c).getWalker());for(const f of a)e.remove(f);function u(f){for(const{item:m}of f){if(m.is("element")&&i.toModelElement(m))break;m.is("element")&&m.getCustomProperty("listItemMarker")&&a.push(m)}}}function nD(c,e,i=rv(c)){if(!Gi(c))return!1;for(const a of c.getAttributeKeys())if(!a.startsWith("selection:")&&!e.includes(a))return!1;return i.length<2}var rD=s(1232),L$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(rD.A,L$),rD.A.locals;var iD=s(6903),B$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(iD.A,B$),iD.A.locals;const z0=["listType","listIndent","listItemId"];class R$ extends ct{constructor(e){super(e),this._downcastStrategies=[],e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[_0,Xc,M$,Na]}init(){const e=this.editor,i=e.model,a=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new N("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});i.schema.register("$listItem",{allowAttributes:z0}),a?(i.schema.extend("$container",{allowAttributesOf:"$listItem"}),i.schema.extend("$block",{allowAttributesOf:"$listItem"}),i.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):i.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const u of z0)i.schema.setAttributeProperties(u,{copyOnReplace:!0});e.commands.add("numberedList",new R0(e,"numbered")),e.commands.add("bulletedList",new R0(e,"bulleted")),e.commands.add("customNumberedList",new R0(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new R0(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new V4(e,"forward")),e.commands.add("outdentList",new V4(e,"backward")),e.commands.add("splitListItemBefore",new Y4(e,"before")),e.commands.add("splitListItemAfter",new Y4(e,"after")),a&&(e.commands.add("mergeListItemBackward",new G4(e,"backward")),e.commands.add("mergeListItemForward",new G4(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const e=this.editor.commands,i=e.get("indent"),a=e.get("outdent");i&&i.registerChildCommand(e.get("indentList"),{priority:"high"}),a&&a.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...z0,...this._downcastStrategies.map(e=>e.attributeName)]}_setupDeleteIntegration(){const e=this.editor,i=e.commands.get("mergeListItemBackward"),a=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",(u,f)=>{const m=e.model.document.selection;Km(e.model)||e.model.change(()=>{const w=m.getFirstPosition();if(m.isCollapsed&&f.direction=="backward"){if(!w.isAtStart)return;const _=w.parent;if(!Gi(_))return;if(Pa.first(_,{sameAttributes:"listType",sameIndent:!0})||_.getAttribute("listIndent")!==0){if(!i||!i.isEnabled)return;i.execute({shouldMergeOnBlocksContentLevel:oD(e.model,"backward")})}else q4(_)||e.execute("splitListItemAfter"),e.execute("outdentList");f.preventDefault(),u.stop()}else{if(m.isCollapsed&&!m.getLastPosition().isAtEnd||!a||!a.isEnabled)return;a.execute({shouldMergeOnBlocksContentLevel:oD(e.model,"forward")}),f.preventDefault(),u.stop()}})},{context:"li"})}_setupEnterIntegration(){const e=this.editor,i=e.model,a=e.commands,u=a.get("enter");this.listenTo(e.editing.view.document,"enter",(f,m)=>{const w=i.document,_=w.selection.getFirstPosition().parent;if(w.selection.isCollapsed&&Gi(_)&&_.isEmpty&&!m.isSoft){const E=uh(_),T=q4(_);E&&T?(e.execute("outdentList"),m.preventDefault(),f.stop()):E&&!T?(e.execute("splitListItemAfter"),m.preventDefault(),f.stop()):T&&(e.execute("splitListItemBefore"),m.preventDefault(),f.stop())}},{context:"li"}),this.listenTo(u,"afterExecute",()=>{const f=a.get("splitListItemBefore");f.refresh(),f.isEnabled&&rv(e.model.document.selection.getLastPosition().parent).length===2&&f.execute()})}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",(i,a)=>{const u=a.shiftKey?"outdentList":"indentList";this.editor.commands.get(u).isEnabled&&(e.execute(u),a.stopPropagation(),a.preventDefault(),i.stop())},{context:"li"})}_setupConversion(){const e=this.editor,i=e.model,a=this.getListAttributeNames(),u=e.config.get("list.multiBlock"),f=u?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(E,{writer:T})=>T.createElement(f,{listType:""})}).elementToElement({view:"p",model:(E,{writer:T})=>E.parent&&E.parent.is("element","li")?T.createElement(f,{listType:""}):null,converterPriority:"high"}).add(E=>{E.on("element:li",j$()),E.on("element:ul",Z4(),{priority:"high"}),E.on("element:ol",Z4(),{priority:"high"})}),u||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:f,view:eD(a),converterPriority:"high"}).add(E=>{var T;E.on("attribute",X4(a,this._downcastStrategies,i)),E.on("remove",(T=i.schema,(O,V,K)=>{const{writer:ee,mapper:se}=K,ke=O.name.split(":")[1];if(!T.checkAttribute(ke,"listItemId"))return;const Ee=se.toViewPosition(V.position),Le=V.position.getShiftedBy(V.length),tt=se.toViewPosition(Le,{isPhantom:!0}),ft=ee.createRange(Ee,tt).getTrimmed().end.nodeBefore;ft&&tD(ft,ee,se)}))}),e.conversion.for("dataDowncast").elementToElement({model:f,view:eD(a,{dataPipeline:!0}),converterPriority:"high"}).add(E=>{E.on("attribute",X4(a,this._downcastStrategies,i,{dataPipeline:!0}))});const m=(w=this._downcastStrategies,_=e.editing.view,(E,T)=>{if(T.modelPosition.offset>0)return;const O=T.modelPosition.parent;if(!Gi(O)||!w.some(ke=>ke.scope=="itemMarker"&&ke.canInjectMarkerIntoElement&&ke.canInjectMarkerIntoElement(O)))return;const V=T.mapper.toViewElement(O),K=_.createRangeIn(V),ee=K.getWalker();let se=K.start;for(const{item:ke}of ee){if(ke.is("element")&&T.mapper.toModelElement(ke)||ke.is("$textProxy"))break;ke.is("element")&&ke.getCustomProperty("listItemMarker")&&(se=_.createPositionAfter(ke),ee.skip(({previousPosition:Ee})=>!Ee.isEqual(se)))}T.viewPosition=se});var w,_;e.editing.mapper.on("modelToViewPosition",m),e.data.mapper.on("modelToViewPosition",m),this.listenTo(i.document,"change:data",function(E,T,O,V){return()=>{const ke=E.document.differ.getChanges(),Ee=[],Le=new Map,tt=new Set;for(const ft of ke)if(ft.type=="insert"&&ft.name!="$text")ul(ft.position,Le),ft.attributes.has("listItemId")?tt.add(ft.position.nodeAfter):ul(ft.position.getShiftedBy(ft.length),Le);else if(ft.type=="remove"&&ft.attributes.has("listItemId"))ul(ft.position,Le);else if(ft.type=="attribute"){const Mt=ft.range.start.nodeAfter;O.includes(ft.attributeKey)?(ul(ft.range.start,Le),ft.attributeNewValue===null?(ul(ft.range.start.getShiftedBy(1),Le),ee(Mt)&&Ee.push(Mt)):tt.add(Mt)):Gi(Mt)&&ee(Mt)&&Ee.push(Mt)}for(const ft of Le.values())Ee.push(...K(ft,tt));for(const ft of new Set(Ee))T.reconvertItem(ft)};function K(ke,Ee){const Le=[],tt=new Set,ft=[];for(const{node:Mt,previous:rn}of Hm(ke,"forward")){if(tt.has(Mt))continue;const wn=Mt.getAttribute("listIndent");rn&&wn<rn.getAttribute("listIndent")&&(ft.length=wn+1),ft[wn]=Object.fromEntries(Array.from(Mt.getAttributes()).filter(([Yi])=>O.includes(Yi)));const Er=Ku(Mt,{direction:"forward"});for(const Yi of Er)tt.add(Yi),(ee(Yi,Er)||se(Yi,ft,Ee))&&Le.push(Yi)}return Le}function ee(ke,Ee){const Le=T.mapper.toViewElement(ke);if(!Le)return!1;if(V.fire("checkElement",{modelElement:ke,viewElement:Le}))return!0;if(!ke.is("element","paragraph")&&!ke.is("element","listItem"))return!1;const tt=nD(ke,O,Ee);return!(!tt||!Le.is("element","p"))||!(tt||!Le.is("element","span"))}function se(ke,Ee,Le){if(Le.has(ke))return!1;const tt=T.mapper.toViewElement(ke);let ft=Ee.length-1;for(let Mt=tt.parent;!Mt.is("editableElement");Mt=Mt.parent){const rn=F0(Mt),wn=K4(Mt);if(!wn&&!rn)continue;const Er="checkAttributes:"+(rn?"item":"list");if(V.fire(Er,{viewElement:Mt,modelAttributes:Ee[ft]}))break;if(wn&&(ft--,ft<0))return!1}return!0}}(i,e.editing,a,this),{priority:"high"}),this.on("checkAttributes:item",(E,{viewElement:T,modelAttributes:O})=>{T.id!=O.listItemId&&(E.return=!0,E.stop())}),this.on("checkAttributes:list",(E,{viewElement:T,modelAttributes:O})=>{T.name==Q4(O.listType)&&T.id==J4(O.listType,O.listIndent)||(E.return=!0,E.stop())})}_setupModelPostFixing(){const e=this.editor.model,i=this.getListAttributeNames();e.document.registerPostFixer(a=>function(u,f,m,w){const _=u.document.differ.getChanges(),E=new Map,T=w.editor.config.get("list.multiBlock");let O=!1;for(const K of _){if(K.type=="insert"&&K.name!="$text"){const ee=K.position.nodeAfter;if(!u.schema.checkAttribute(ee,"listItemId"))for(const se of Array.from(ee.getAttributeKeys()))m.includes(se)&&(f.removeAttribute(se,ee),O=!0);ul(K.position,E),K.attributes.has("listItemId")||ul(K.position.getShiftedBy(K.length),E);for(const{item:se,previousPosition:ke}of u.createRangeIn(ee))Gi(se)&&ul(ke,E)}else K.type=="remove"?ul(K.position,E):K.type=="attribute"&&m.includes(K.attributeKey)&&(ul(K.range.start,E),K.attributeNewValue===null&&ul(K.range.start.getShiftedBy(1),E));if(!T&&K.type=="attribute"&&z0.includes(K.attributeKey)){const ee=K.range.start.nodeAfter;K.attributeNewValue===null&&ee&&ee.is("element","listItem")?(f.rename(ee,"paragraph"),O=!0):K.attributeOldValue===null&&ee&&ee.is("element")&&ee.name!="listItem"&&(f.rename(ee,"listItem"),O=!0)}}const V=new Set;for(const K of E.values())O=w.fire("postFixer",{listNodes:new k$(K),listHead:K,writer:f,seenIds:V})||O;return O}(e,a,i,this)),this.on("postFixer",(a,{listNodes:u,writer:f})=>{a.return=function(m,w){let _=0,E=-1,T=null,O=!1;for(const{node:V}of m){const K=V.getAttribute("listIndent");if(K>_){let ee;T===null?(T=K-_,ee=_):(T>K&&(T=K),ee=K-T),ee>E+1&&(ee=E+1),w.setAttribute("listIndent",ee,V),O=!0,E=ee}else T=null,_=K+1,E=K}return O}(u,f)||a.return},{priority:"high"}),this.on("postFixer",(a,{listNodes:u,writer:f,seenIds:m})=>{a.return=function(w,_,E){const T=new Set;let O=!1;for(const{node:V}of w){if(T.has(V))continue;let K=V.getAttribute("listType"),ee=V.getAttribute("listItemId");if(_.has(ee)&&(ee=qf.next()),_.add(ee),V.is("element","listItem"))V.getAttribute("listItemId")!=ee&&(E.setAttribute("listItemId",ee,V),O=!0);else for(const se of Ku(V,{direction:"forward"}))T.add(se),se.getAttribute("listType")!=K&&(ee=qf.next(),K=se.getAttribute("listType")),se.getAttribute("listItemId")!=ee&&(E.setAttribute("listItemId",ee,se),O=!0)}return O}(u,m,f)||a.return},{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,i=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",function(a){return(u,[f,m])=>{const w=f.is("documentFragment")?Array.from(f.getChildren()):[f];if(!w.length)return;const _=(m?a.createSelection(m):a.document.selection).getFirstPosition();let E;if(Gi(_.parent))E=_.parent;else{if(!Gi(_.nodeBefore))return;E=_.nodeBefore}a.change(T=>{const O=E.getAttribute("listType"),V=E.getAttribute("listIndent"),K=w[0].getAttribute("listIndent")||0,ee=Math.max(V-K,0);for(const se of w){const ke=Gi(se);E.is("element","listItem")&&se.is("element","paragraph")&&T.rename(se,"listItem"),T.setAttributes({listIndent:(ke?se.getAttribute("listIndent"):0)+ee,listItemId:ke?se.getAttribute("listItemId"):qf.next(),listType:O},se)}})}}(e),{priority:"high"}),this.listenTo(i,"outputTransformation",(a,u)=>{e.change(f=>{const m=Array.from(u.content.getChildren()),w=m[m.length-1];if(m.length>1&&w.is("element")&&w.isEmpty&&m.slice(0,-1).every(Gi)&&f.remove(w),u.method=="copy"||u.method=="cut"){const _=Array.from(u.content.getChildren());Ym(_)&&B0(_,f)}})})}_setupAccessibilityIntegration(){const e=this.editor,i=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:i("Keystrokes that can be used in a list"),keystrokes:[{label:i("Increase list item indent"),keystroke:"Tab"},{label:i("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function oD(c,e){const i=c.document.selection;if(!i.isCollapsed)return!Km(c);if(e==="forward")return!0;const a=i.getFirstPosition().parent,u=a.previousSibling;return!c.schema.isObject(u)&&(!!u.isEmpty||Ym([a,u]))}function sD(c,e,i,a){c.ui.componentFactory.add(e,()=>{const u=aD(Wn,c,e,i,a);return u.set({tooltip:!0,isToggleable:!0}),u}),c.ui.componentFactory.add(`menuBar:${e}`,()=>aD(Hs,c,e,i,a))}function aD(c,e,i,a,u){const f=e.commands.get(i),m=new c(e.locale);return m.set({label:a,icon:u}),m.bind("isOn","isEnabled").to(f,"value","isEnabled"),m.on("execute",()=>{e.execute(i),e.editing.view.focus()}),m}class F$ extends ct{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||sD(this.editor,"numberedList",e("Numbered List"),fn.numberedList),this.editor.ui.componentFactory.has("bulletedList")||sD(this.editor,"bulletedList",e("Bulleted List"),fn.bulletedList)}}class z$ extends ct{static get requires(){return[R$,F$]}static get pluginName(){return"List"}}const U$=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:c,typeAttribute:e,listType:i}of U$);var lD=s(9968),q$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(lD.A,q$),lD.A.locals;var cD=s(7141),V$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(cD.A,V$),cD.A.locals,nl("Ctrl+Enter");var uD=s(8991),$$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(uD.A,$$),uD.A.locals,nl("Ctrl+Enter");function dD(c,e){const i=(a,u,f)=>{if(!f.consumable.consume(u.item,a.name))return;const m=u.attributeNewValue,w=f.writer,_=f.mapper.toViewElement(u.item),E=[..._.getChildren()].find(O=>O.getCustomProperty("media-content"));w.remove(E);const T=c.getMediaViewElement(w,m,e);w.insert(w.createPositionAt(_,0),T)};return a=>{a.on("attribute:url:media",i)}}function hD(c,e,i,a){return c.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(c,i,a),c.createSlot()])}function fD(c){const e=c.getSelectedElement();return e&&e.is("element","media")?e:null}function pD(c,e,i,a){c.change(u=>{const f=u.createElement("media",{url:e});c.insertObject(f,i,null,{setSelection:"on",findOptimalPosition:a?"auto":void 0})})}class H$ extends Ht{refresh(){const e=this.editor.model,i=e.document.selection,a=fD(i);this.value=a?a.getAttribute("url"):void 0,this.isEnabled=function(u){const f=u.getSelectedElement();return!!f&&f.name==="media"}(i)||function(u,f){let w=gE(u,f).start.parent;return w.isEmpty&&!f.schema.isLimit(w)&&(w=w.parent),f.schema.checkChild(w,"media")}(i,e)}execute(e){const i=this.editor.model,a=i.document.selection,u=fD(a);u?i.change(f=>{f.setAttribute("url",e,u)}):pD(i,e,a,!0)}}class W${constructor(e,i){const a=i.providers,u=i.extraProviders||[],f=new Set(i.removeProviders),m=a.concat(u).filter(w=>{const _=w.name;return _?!f.has(_):(L("media-embed-no-provider-name",{provider:w}),!1)});this.locale=e,this.providerDefinitions=m}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,i,a){return this._getMedia(i).getViewElement(e,a)}_getMedia(e){if(!e)return new mD(this.locale);e=e.trim();for(const i of this.providerDefinitions){const a=i.html,u=sr(i.url);for(const f of u){const m=this._getUrlMatches(e,f);if(m)return new mD(this.locale,e,m,a)}}return null}_getUrlMatches(e,i){let a=e.match(i);if(a)return a;let u=e.replace(/^https?:\/\//,"");return a=u.match(i),a||(u=u.replace(/^www\./,""),a=u.match(i),a||null)}}class mD{constructor(e,i,a,u){this.url=this._getValidUrl(i),this._locale=e,this._match=a,this._previewRenderer=u}getViewElement(e,i){const a={};let u;if(i.renderForEditingView||i.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(a["data-oembed-url"]=this.url),i.renderForEditingView&&(a.class="ck-media__wrapper");const f=this._getPreviewHtml(i);u=e.createRawElement("div",a,(m,w)=>{w.setContentOf(m,f)})}else this.url&&(a.url=this.url),u=e.createEmptyElement(i.elementName,a);return e.setCustomProperty("media-content",!0,u),u}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new Qc,i=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new I({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":i("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var gD=s(7048),G$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(gD.A,G$),gD.A.locals;class U0 extends ct{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:i=>{const a=i[1],u=i[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${a}${u?`?start=${u}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new W$(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,i=e.model.schema,a=e.t,u=e.conversion,f=e.config.get("mediaEmbed.previewsInData"),m=e.config.get("mediaEmbed.elementName"),w=this.registry;e.commands.add("mediaEmbed",new H$(e)),i.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),u.for("dataDowncast").elementToStructure({model:"media",view:(_,{writer:E})=>{const T=_.getAttribute("url");return hD(E,w,T,{elementName:m,renderMediaPreview:!!T&&f})}}),u.for("dataDowncast").add(dD(w,{elementName:m,renderMediaPreview:f})),u.for("editingDowncast").elementToStructure({model:"media",view:(_,{writer:E})=>{const T=_.getAttribute("url");return function(O,V,K){return V.setCustomProperty("media",!0,O),Ry(O,V,{label:K})}(hD(E,w,T,{elementName:m,renderForEditingView:!0}),E,a("media widget"))}}),u.for("editingDowncast").add(dD(w,{elementName:m,renderForEditingView:!0})),u.for("upcast").elementToElement({view:_=>["oembed",m].includes(_.name)&&_.getAttribute("url")?{name:!0}:null,model:(_,{writer:E})=>{const T=_.getAttribute("url");return w.hasMedia(T)?E.createElement("media",{url:T}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(_,{writer:E})=>{const T=_.getAttribute("data-oembed-url");return w.hasMedia(T)?E.createElement("media",{url:T}):null}}).add(_=>{_.on("element:figure",(E,T,O)=>{if(!O.consumable.consume(T.viewItem,{name:!0,classes:"media"}))return;const{modelRange:V,modelCursor:K}=O.convertChildren(T.viewItem,T.modelCursor);T.modelRange=V,T.modelCursor=K,Bi(V.getItems())||O.consumable.revert(T.viewItem,{name:!0,classes:"media"})})})}}const Y$=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class K$ extends ct{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[jE,Xc,zE]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,i=e.model.document,a=e.plugins.get("ClipboardPipeline");this.listenTo(a,"inputTransformation",()=>{const u=i.selection.getFirstRange(),f=vo.fromPosition(u.start);f.stickiness="toPrevious";const m=vo.fromPosition(u.end);m.stickiness="toNext",i.once("change:data",()=>{this._embedMediaBetweenPositions(f,m),f.detach(),m.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(h.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,i){const a=this.editor,u=a.plugins.get(U0).registry,f=new Vs(e,i),m=f.getWalker({ignoreElementEnd:!0});let w="";for(const _ of m)_.item.is("$textProxy")&&(w+=_.item.data);if(w=w.trim(),!w.match(Y$)||!u.hasMedia(w))return void f.detach();a.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=vo.fromPosition(e),this._timeoutId=h.window.setTimeout(()=>{a.model.change(_=>{this._timeoutId=null,_.remove(f),f.detach();let E=null;this._positionToInsert.root.rootName!=="$graveyard"&&(E=this._positionToInsert),pD(a.model,w,E,!1),this._positionToInsert.detach(),this._positionToInsert=null}),a.plugins.get(Xc).requestUndoOnBackspace()},100)):f.detach()}}var bD=s(5651),Q$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(bD.A,Q$),bD.A.locals;class J$ extends Nt{constructor(e,i){super(i);const a=i.t;this.focusTracker=new Ri,this.keystrokes=new po,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(a("Save"),fn.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(a("Cancel"),fn.cancel,"ck-button-cancel","cancel"),this._focusables=new es,this._focusCycler=new Ta({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Sn({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,i=new l0(this.locale,d0),a=i.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),i.label=e("Media URL"),i.infoText=this._urlInputViewInfoDefault,a.on("input",()=>{i.infoText=a.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=a.element.value.trim()}),i}_createButton(e,i,a,u){const f=new Wn(this.locale);return f.set({label:e,icon:i,tooltip:!0}),f.extendTemplate({attributes:{class:a}}),u&&f.delegate("execute").to(this,u),f}}class Z$ extends ct{static get requires(){return[U0]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,i=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",a=>{const u=Jc(a);return this._setUpDropdown(u,i),u})}_setUpDropdown(e,i){const a=this.editor,u=a.t,f=e.buttonView,m=a.plugins.get(U0).registry;e.once("change:isOpen",()=>{const w=new(On(J$))(function(_,E){return[T=>{if(!T.url.length)return _("The URL must not be empty.")},T=>{if(!E.hasMedia(T.url))return _("This media URL is not supported.")}]}(a.t,m),a.locale);e.panelView.children.add(w),f.on("open",()=>{w.disableCssTransitions(),w.url=i.value||"",w.urlInputView.fieldView.select(),w.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{w.isValid()&&(a.execute("mediaEmbed",w.url),a.editing.view.focus())}),e.on("change:isOpen",()=>w.resetFormStatus()),e.on("cancel",()=>{a.editing.view.focus()}),w.delegate("submit","cancel").to(e),w.urlInputView.fieldView.bind("value").to(i,"value"),w.urlInputView.on("change:errorText",()=>{a.ui.update()}),w.urlInputView.bind("isEnabled").to(i,"isEnabled")}),e.bind("isEnabled").to(i),f.set({label:u("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var kD=s(70),X$={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(kD.A,X$),kD.A.locals;function wD(c){return c!==void 0&&c.endsWith("px")}function Vf(c){return c.toFixed(2).replace(/\.?0+$/,"")+"px"}var eH=Object.defineProperty,tH=Object.defineProperties,nH=Object.getOwnPropertyDescriptors,yD=Object.getOwnPropertySymbols,rH=Object.prototype.hasOwnProperty,iH=Object.prototype.propertyIsEnumerable,vD=(c,e,i)=>e in c?eH(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,oH=(c,e)=>{for(var i in e||(e={}))rH.call(e,i)&&vD(c,i,e[i]);if(yD)for(var i of yD(e))iH.call(e,i)&&vD(c,i,e[i]);return c};function sH(c,e,i){if(!c.childCount)return;const a=new Kc(c.document),u=function(_,E){const T=E.createRangeIn(_),O=[],V=new Set;for(const K of T.getItems()){if(!K.is("element")||!K.name.match(/^(p|h\d+|li|div)$/))continue;let ee=pH(K);if(ee===void 0||parseFloat(ee)!=0||Array.from(K.getClassNames()).find(se=>se.startsWith("MsoList"))||(ee=void 0),K.hasStyle("mso-list")||ee!==void 0&&V.has(ee)){const se=hH(K);O.push({element:K,id:se.id,order:se.order,indent:se.indent,marginLeft:ee}),ee!==void 0&&V.add(ee)}else V.clear()}return O}(c,a);if(!u.length)return;const f={},m=[];for(const _ of u)if(_.indent!==void 0){aH(_)||(m.length=0);const E=`${_.id}:${_.indent}`,T=Math.min(_.indent-1,m.length);if(T<m.length&&m[T].id!==_.id&&(m.length=T),T<m.length-1)m.length=T+1;else{const V=cH(_,e);if(T>m.length-1||m[T].listElement.name!=V.type){T==0&&V.type=="ol"&&_.id!==void 0&&f[E]&&(V.startIndex=f[E]);const K=dH(V,a,i);if(wD(_.marginLeft)&&(T==0||wD(m[T-1].marginLeft))){let ee=_.marginLeft;T>0&&(ee=Vf(parseFloat(ee)-parseFloat(m[T-1].marginLeft))),a.setStyle("padding-left",ee,K)}if(m.length==0){const ee=_.element.parent,se=ee.getChildIndex(_.element)+1;a.insertChild(se,K,ee)}else{const ee=m[T-1].listItemElements;a.appendChild(K,ee[ee.length-1])}m[T]=(w=oH({},_),tH(w,nH({listElement:K,listItemElements:[]}))),T==0&&_.id!==void 0&&(f[E]=V.startIndex||1)}}const O=_.element.name=="li"?_.element:a.createElement("li");a.appendChild(O,m[T].listElement),m[T].listItemElements.push(O),T==0&&_.id!==void 0&&f[E]++,_.element!=O&&a.appendChild(_.element,O),fH(_.element,a),a.removeStyle("text-indent",_.element),a.removeStyle("margin-left",_.element)}else{const E=m.find(T=>T.marginLeft==_.marginLeft);if(E){const T=E.listItemElements;a.appendChild(_.element,T[T.length-1]),a.removeStyle("margin-left",_.element)}else m.length=0}var w}function aH(c){const e=c.element.previousSibling;return lH(e||c.element.parent)}function lH(c){return c.is("element","ol")||c.is("element","ul")}function cH(c,e){const i=new RegExp(`@list l${c.id}:level${c.indent}\\s*({[^}]*)`,"gi"),a=/mso-level-number-format:([^;]{0,100});/gi,u=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,f=new RegExp(`@list\\s+l${c.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),m=new RegExp(`@list l${c.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),w=f.exec(e),_=m.exec(e),E=w&&!_,T=i.exec(e);let O="decimal",V="ol",K=null;if(T&&T[1]){const ee=a.exec(T[1]);if(ee&&ee[1]&&(O=ee[1].trim(),V=O!=="bullet"&&O!=="image"?"ol":"ul"),O==="bullet"){const se=function(ke){if(ke.name=="li"&&ke.parent.name=="ul"&&ke.parent.hasAttribute("type"))return ke.parent.getAttribute("type");const Ee=function(tt){if(tt.getChild(0).is("$text"))return null;for(const ft of tt.getChildren()){if(!ft.is("element","span"))continue;const Mt=ft.getChild(0);if(Mt)return Mt.is("$text")?Mt:Mt.getChild(0)}return null}(ke);if(!Ee)return null;const Le=Ee._data;return Le==="o"?"circle":Le==="Â·"?"disc":Le==="Â§"?"square":null}(c.element);se&&(O=se)}else{const se=u.exec(T[1]);se&&se[1]&&(K=parseInt(se[1]))}E&&(V="ol")}return{type:V,startIndex:K,style:uH(O),isLegalStyleList:E}}function uH(c){if(c.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(c){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return c;default:return null}}function dH(c,e,i){const a=e.createElement(c.type);return c.style&&e.setStyle("list-style-type",c.style,a),c.startIndex&&c.startIndex>1&&e.setAttribute("start",c.startIndex,a),c.isLegalStyleList&&i&&e.addClass("legal-list",a),a}function hH(c){const e=c.getStyle("mso-list");if(e===void 0)return{};const i=e.match(/(^|\s{1,100})l(\d+)/i),a=e.match(/\s{0,100}lfo(\d+)/i),u=e.match(/\s{0,100}level(\d+)/i);return i&&a&&u?{id:i[2],order:a[1],indent:parseInt(u[1])}:{indent:1}}function fH(c,e){const i=new wo({name:"span",styles:{"mso-list":"Ignore"}}),a=e.createRangeIn(c);for(const u of a)u.type==="elementStart"&&i.match(u.item)&&e.remove(u.item)}function pH(c){const e=c.getStyle("margin-left");return e===void 0||e.endsWith("px")?e:function(i){const a=parseFloat(i);return i.endsWith("pt")?Vf(96*a/72):i.endsWith("pc")?Vf(12*a*96/72):i.endsWith("in")?Vf(96*a):i.endsWith("cm")?Vf(96*a/2.54):i.endsWith("mm")?Vf(a/10*96/2.54):i}(e)}function mH(c,e){if(!c.childCount)return;const i=new Kc(c.document),a=function(f,m){const w=m.createRangeIn(f),_=new wo({name:/v:(.+)/}),E=[];for(const T of w){if(T.type!="elementStart")continue;const O=T.item,V=O.previousSibling,K=V&&V.is("element")?V.name:null,ee=["Chart"],se=_.match(O),ke=O.getAttribute("o:gfxdata"),Ee=K==="v:shapetype",Le=ke&&ee.some(tt=>O.getAttribute("id").includes(tt));se&&ke&&!Ee&&!Le&&E.push(T.item.getAttribute("id"))}return E}(c,i);(function(f,m,w){const _=w.createRangeIn(m),E=new wo({name:"img"}),T=[];for(const O of _)if(O.item.is("element")&&E.match(O.item)){const V=O.item,K=V.getAttribute("v:shapes")?V.getAttribute("v:shapes").split(" "):[];K.length&&K.every(ee=>f.indexOf(ee)>-1)?T.push(V):V.getAttribute("src")||T.push(V)}for(const O of T)w.remove(O)})(a,c,i),function(f,m,w){const _=w.createRangeIn(m),E=[];for(const V of _)if(V.type=="elementStart"&&V.item.is("element","v:shape")){const K=V.item.getAttribute("id");if(f.includes(K))continue;T(V.item.parent.getChildren(),K)||E.push(V.item)}for(const V of E){const K={src:O(V)};V.hasAttribute("alt")&&(K.alt=V.getAttribute("alt"));const ee=w.createElement("img",K);w.insertChild(V.index+1,ee,V.parent)}function T(V,K){for(const ee of V)if(ee.is("element")&&(ee.name=="img"&&ee.getAttribute("v:shapes")==K||T(ee.getChildren(),K)))return!0;return!1}function O(V){for(const K of V.getChildren())if(K.is("element")&&K.getAttribute("src"))return K.getAttribute("src")}}(a,c,i),function(f,m){const w=m.createRangeIn(f),_=new wo({name:/v:(.+)/}),E=[];for(const T of w)T.type=="elementStart"&&_.match(T.item)&&E.push(T.item);for(const T of E)m.remove(T)}(c,i);const u=function(f,m){const w=m.createRangeIn(f),_=new wo({name:"img"}),E=[];for(const T of w)T.item.is("element")&&_.match(T.item)&&T.item.getAttribute("src").startsWith("file://")&&E.push(T.item);return E}(c,i);u.length&&function(f,m,w){if(f.length===m.length)for(let _=0;_<f.length;_++){const E=`data:${m[_].type};base64,${gH(m[_].hex)}`;w.setAttribute("src",E,f[_])}}(u,function(f){if(!f)return[];const m=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,w=new RegExp("(?:("+m.source+"))([\\da-fA-F\\s]+)\\}","g"),_=f.match(w),E=[];if(_)for(const T of _){let O=!1;T.includes("\\pngblip")?O="image/png":T.includes("\\jpegblip")&&(O="image/jpeg"),O&&E.push({hex:T.replace(m,"").replace(/[^\da-fA-F]/g,""),type:O})}return E}(e),i)}function gH(c){return btoa(c.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const bH=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,kH=/xmlns:o="urn:schemas-microsoft-com/i;class wH{constructor(e,i=!1){this.document=e,this.hasMultiLevelListPlugin=i}isActive(e){return bH.test(e)||kH.test(e)}execute(e){const{body:i,stylesString:a}=e._parsedData;sH(i,a,this.hasMultiLevelListPlugin),mH(i,e.dataTransfer.getData("text/rtf")),function(u){const f=[],m=new Kc(u.document);for(const{item:w}of m.createRangeIn(u))if(w.is("element")){for(const _ of w.getClassNames())/\bmso/gi.exec(_)&&m.removeClass(_,w);for(const _ of w.getStyleNames())/\bmso/gi.exec(_)&&m.removeStyle(_,w);(w.is("element","w:sdt")||w.is("element","w:sdtpr")&&w.isEmpty||w.is("element","o:p")&&w.isEmpty)&&f.push(w)}for(const w of f){const _=w.parent,E=_.getChildIndex(w);m.insertChild(E,w.getChildren(),_),m.remove(w)}}(i),e.content=i}}function AD(c,e,i,{blockElements:a,inlineObjectElements:u}){let f=i.createPositionAt(c,e=="forward"?"after":"before");return f=f.getLastMatchingPosition(({item:m})=>m.is("element")&&!a.includes(m.name)&&!u.includes(m.name),{direction:e}),e=="forward"?f.nodeAfter:f.nodeBefore}function _D(c,e){return!!c&&c.is("element")&&e.includes(c.name)}const yH=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class vH{constructor(e){this.document=e}isActive(e){return yH.test(e)}execute(e){const i=new Kc(this.document),{body:a}=e._parsedData;(function(u,f){for(const m of u.getChildren())if(m.is("element","b")&&m.getStyle("font-weight")==="normal"){const w=u.getChildIndex(m);f.remove(m),f.insertChild(w,m.getChildren(),u)}})(a,i),function(u,f){for(const m of f.createRangeIn(u)){const w=m.item;if(w.is("element","li")){const _=w.getChild(0);_&&_.is("element","p")&&f.unwrapElement(_)}}}(a,i),function(u,f){const m=new Gb(f.document.stylesProcessor),w=new Qb(m,{renderingMode:"data"}),_=w.blockElements,E=w.inlineObjectElements,T=[];for(const O of f.createRangeIn(u)){const V=O.item;if(V.is("element","br")){const K=AD(V,"forward",f,{blockElements:_,inlineObjectElements:E}),ee=AD(V,"backward",f,{blockElements:_,inlineObjectElements:E}),se=_D(K,_);(_D(ee,_)||se)&&T.push(V)}}for(const O of T)O.hasClass("Apple-interchange-newline")?f.remove(O):f.replace(O,f.createElement("p"))}(a,i),e.content=a}}const AH=/<google-sheets-html-origin/i;class _H{constructor(e){this.document=e}isActive(e){return AH.test(e)}execute(e){const i=new Kc(this.document),{body:a}=e._parsedData;(function(u,f){for(const m of u.getChildren())if(m.is("element","google-sheets-html-origin")){const w=u.getChildIndex(m);f.remove(m),f.insertChild(w,m.getChildren(),u)}})(a,i),function(u,f){for(const m of u.getChildren())m.is("element","table")&&m.hasAttribute("xmlns")&&f.removeAttribute("xmlns",m)}(a,i),function(u,f){for(const m of u.getChildren())m.is("element","table")&&m.getStyle("width")==="0px"&&f.removeStyle("width",m)}(a,i),function(u,f){for(const m of Array.from(u.getChildren()))m.is("element","style")&&f.remove(m)}(a,i),e.content=a}}function CD(c){return c.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,i)=>i.length===1?" ":Array(i.length+1).join("Â  ").substr(0,i.length))}function CH(c,e){const i=new DOMParser,a=function(_){return CD(CD(_)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"Â </").replace(/ <o:p><\/o:p>/g,"Â <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(_){const E="</body>",T="</html>",O=_.indexOf(E);if(O<0)return _;const V=_.indexOf(T,O+E.length);return _.substring(0,O+E.length)+(V>=0?_.substring(V):"")}(c=(c=c.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),u=i.parseFromString(a,"text/html");(function(_){_.querySelectorAll("span[style*=spacerun]").forEach(E=>{const T=E,O=T.innerText.length||0;T.innerText=Array(O+1).join("Â  ").substr(0,O)})})(u);const f=u.body.innerHTML,m=function(_,E){const T=new Gb(E),O=new Qb(T,{renderingMode:"data"}),V=_.createDocumentFragment(),K=_.body.childNodes;for(;K.length>0;)V.appendChild(K[0]);return O.domToView(V,{skipComments:!0})}(u,e),w=function(_){const E=[],T=[],O=Array.from(_.getElementsByTagName("style"));for(const V of O)V.sheet&&V.sheet.cssRules&&V.sheet.cssRules.length&&(E.push(V.sheet),T.push(V.innerHTML));return{styles:E,stylesString:T.join(" ")}}(u);return{body:m,bodyString:f,styles:w.styles,stylesString:w.stylesString}}function ui(c,e,i,a,u=1){e!=null&&u!=null&&e>u?a.setAttribute(c,e,i):a.removeAttribute(c,i)}function hh(c,e,i={}){const a=c.createElement("tableCell",i);return c.insertElement("paragraph",a),c.insert(a,e),a}function uv(c,e){const i=e.parent.parent,a=parseInt(i.getAttribute("headingColumns")||"0"),{column:u}=c.getCellLocation(e);return!!a&&u<a}function xH(){return c=>{c.on("element:table",(e,i,a)=>{const u=i.viewItem;if(!a.consumable.test(u,{name:!0}))return;const{rows:f,headingRows:m,headingColumns:w}=function(T){let O,V=0;const K=[],ee=[];let se;for(const ke of Array.from(T.getChildren())){if(ke.name!=="tbody"&&ke.name!=="thead"&&ke.name!=="tfoot")continue;ke.name!=="thead"||se||(se=ke);const Ee=Array.from(ke.getChildren()).filter(Le=>Le.is("element","tr"));for(const Le of Ee)if(se&&ke===se||ke.name==="tbody"&&Array.from(Le.getChildren()).length&&Array.from(Le.getChildren()).every(tt=>tt.is("element","th")))V++,K.push(Le);else{ee.push(Le);const tt=SH(Le);(!O||tt<O)&&(O=tt)}}return{headingRows:V,headingColumns:O||0,rows:[...K,...ee]}}(u),_={};w&&(_.headingColumns=w),m&&(_.headingRows=m);const E=a.writer.createElement("table",_);if(a.safeInsert(E,i.modelCursor)){if(a.consumable.consume(u,{name:!0}),f.forEach(T=>a.convertItem(T,a.writer.createPositionAt(E,"end"))),a.convertChildren(u,a.writer.createPositionAt(E,"end")),E.isEmpty){const T=a.writer.createElement("tableRow");a.writer.insert(T,a.writer.createPositionAt(E,"end")),hh(a.writer,a.writer.createPositionAt(T,"end"))}a.updateConversionResult(E,i)}})}}function xD(c){return e=>{e.on(`element:${c}`,(i,a,{writer:u})=>{if(!a.modelRange)return;const f=a.modelRange.start.nodeAfter,m=u.createPositionAt(f,0);if(a.viewItem.isEmpty)return void u.insertElement("paragraph",m);const w=Array.from(f.getChildren());if(w.every(_=>_.is("element","$marker"))){const _=u.createElement("paragraph");u.insert(_,u.createPositionAt(f,0));for(const E of w)u.move(u.createRangeOn(E),u.createPositionAt(_,"end"))}},{priority:"low"})}}function SH(c){let e=0,i=0;const a=Array.from(c.getChildren()).filter(u=>u.name==="th"||u.name==="td");for(;i<a.length&&a[i].name==="th";){const u=a[i];e+=parseInt(u.getAttribute("colspan")||"1"),i++}return e}class hr{constructor(e,i={}){this._jumpedToStartRow=!1,this._table=e,this._startRow=i.row!==void 0?i.row:i.startRow||0,this._endRow=i.row!==void 0?i.row:i.endRow,this._startColumn=i.column!==void 0?i.column:i.startColumn||0,this._endColumn=i.column!==void 0?i.column:i.endColumn,this._includeAllSlots=!!i.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let i=null;const a=this._getSpanned();if(a)this._includeAllSlots&&!this._shouldSkipSlot()&&(i=this._formatOutValue(a.cell,a.row,a.column));else{const u=e.getChild(this._cellIndex);if(!u)return this._advanceToNextRow();const f=parseInt(u.getAttribute("colspan")||"1"),m=parseInt(u.getAttribute("rowspan")||"1");(f>1||m>1)&&this._recordSpans(u,m,f),this._shouldSkipSlot()||(i=this._formatOutValue(u)),this._nextCellAtColumn=this._column+f}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,i||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,i=this._row,a=this._column){return{done:!1,value:new EH(this,e,i,a)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),i=this._row<this._startRow,a=this._column<this._startColumn,u=this._endColumn!==void 0&&this._column>this._endColumn;return e||i||a||u}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,i,a){const u={cell:e,row:this._row,column:this._column};for(let f=this._row;f<this._row+i;f++)for(let m=this._column;m<this._column+a;m++)f==this._row&&m==this._column||this._markSpannedCell(f,m,u)}_markSpannedCell(e,i,a){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(i,a)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let i=this._startRow;!this._jumpedToStartRow;i--)e===this._getRowLength(i)&&(this._row=i,this._rowIndex=i,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce((i,a)=>i+parseInt(a.getAttribute("colspan")||"1"),0)}}class EH{constructor(e,i,a,u){this.cell=i,this.row=e._row,this.column=e._column,this.cellAnchorRow=a,this.cellAnchorColumn=u,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function SD(c,e){return(i,{writer:a})=>{const u=i.getAttribute("headingRows")||0,f=a.createContainerElement("table",null,[]),m=a.createContainerElement("figure",{class:"table"},f);u>0&&a.insert(a.createPositionAt(f,"end"),a.createContainerElement("thead",null,a.createSlot(w=>w.is("element","tableRow")&&w.index<u))),u<c.getRows(i)&&a.insert(a.createPositionAt(f,"end"),a.createContainerElement("tbody",null,a.createSlot(w=>w.is("element","tableRow")&&w.index>=u)));for(const{positionOffset:w,filter:_}of e.additionalSlots)a.insert(a.createPositionAt(f,w),a.createSlot(_));return a.insert(a.createPositionAt(f,"after"),a.createSlot(w=>!w.is("element","tableRow")&&!e.additionalSlots.some(({filter:_})=>_(w)))),e.asWidget?function(w,_){return _.setCustomProperty("table",!0,w),Ry(w,_,{hasSelectionHandle:!0})}(m,a):m}}function ED(c={}){return(e,{writer:i})=>{const a=e.parent,u=a.parent,f=u.getChildIndex(a),m=new hr(u,{row:f}),w=u.getAttribute("headingRows")||0,_=u.getAttribute("headingColumns")||0;let E=null;for(const T of m)if(T.cell==e){const O=T.row<w||T.column<_?"th":"td";E=c.asWidget?mE(i.createEditableElement(O),i):i.createContainerElement(O);break}return E}}function DD(c={}){return(e,{writer:i})=>{if(!e.parent.is("element","tableCell")||!ID(e))return null;if(c.asWidget)return i.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const a=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,a),a}}}function ID(c){return c.parent.childCount==1&&!!c.getAttributeKeys().next().done}class DH extends Ht{refresh(){const e=this.editor.model,i=e.document.selection,a=e.schema;this.isEnabled=function(u,f){const m=u.getFirstPosition().parent,w=m===m.root?m:m.parent;return f.checkChild(w,"table")}(i,a)}execute(e={}){const i=this.editor,a=i.model,u=i.plugins.get("TableUtils"),f=i.config.get("table.defaultHeadings.rows"),m=i.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&f&&(e.headingRows=f),e.headingColumns===void 0&&m&&(e.headingColumns=m),a.change(w=>{const _=u.createTable(w,e);a.insertObject(_,null,null,{findOptimalPosition:"auto"}),w.setSelection(w.createPositionAt(_.getNodeByPath([0,0,0]),0))})}}class TD extends Ht{constructor(e,i={}){super(e),this.order=i.order||"below"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,i=e.model.document.selection,a=e.plugins.get("TableUtils"),u=this.order==="above",f=a.getSelectionAffectedTableCells(i),m=a.getRowIndexes(f),w=u?m.first:m.last,_=f[0].findAncestor("table");a.insertRows(_,{at:u?w:w+1,copyStructureFromAbove:!u})}}class ND extends Ht{constructor(e,i={}){super(e),this.order=i.order||"right"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,i=e.model.document.selection,a=e.plugins.get("TableUtils"),u=this.order==="left",f=a.getSelectionAffectedTableCells(i),m=a.getColumnIndexes(f),w=u?m.first:m.last,_=f[0].findAncestor("table");a.insertColumns(_,{columns:1,at:u?w:w+1})}}class MD extends Ht{constructor(e,i={}){super(e),this.direction=i.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(i,2):e.splitCellVertically(i,2)}}function PD(c,e,i){const{startRow:a,startColumn:u,endRow:f,endColumn:m}=e,w=i.createElement("table"),_=f-a+1;for(let T=0;T<_;T++)i.insertElement("tableRow",w,"end");const E=[...new hr(c,{startRow:a,endRow:f,startColumn:u,endColumn:m,includeAllSlots:!0})];for(const{row:T,column:O,cell:V,isAnchor:K,cellAnchorRow:ee,cellAnchorColumn:se}of E){const ke=T-a,Ee=w.getChild(ke);if(K){const Le=i.cloneElement(V);i.append(Le,Ee),RD(Le,T,O,f,m,i)}else(ee<a||se<u)&&hh(i,i.createPositionAt(Ee,"end"))}return function(T,O,V,K,ee){const se=parseInt(O.getAttribute("headingRows")||"0");se>0&&ui("headingRows",se-V,T,ee,0);const ke=parseInt(O.getAttribute("headingColumns")||"0");ke>0&&ui("headingColumns",ke-K,T,ee,0)}(w,c,a,u,i),w}function OD(c,e,i=0){const a=[],u=new hr(c,{startRow:i,endRow:e-1});for(const f of u){const{row:m,cellHeight:w}=f;m<e&&e<=m+w-1&&a.push(f)}return a}function jD(c,e,i){const a=c.parent,u=a.parent,f=a.index,m=e-f,w={},_=parseInt(c.getAttribute("rowspan"))-m;_>1&&(w.rowspan=_);const E=parseInt(c.getAttribute("colspan")||"1");E>1&&(w.colspan=E);const T=f+m,O=[...new hr(u,{startRow:f,endRow:T,includeAllSlots:!0})];let V,K=null;for(const ee of O){const{row:se,column:ke,cell:Ee}=ee;Ee===c&&V===void 0&&(V=ke),V!==void 0&&V===ke&&se===T&&(K=hh(i,ee.getPositionBefore(),w))}return ui("rowspan",m,c,i),K}function LD(c,e){const i=[],a=new hr(c);for(const u of a){const{column:f,cellWidth:m}=u;f<e&&e<=f+m-1&&i.push(u)}return i}function BD(c,e,i,a){const u=i-e,f={},m=parseInt(c.getAttribute("colspan"))-u;m>1&&(f.colspan=m);const w=parseInt(c.getAttribute("rowspan")||"1");w>1&&(f.rowspan=w);const _=hh(a,a.createPositionAfter(c),f);return ui("colspan",u,c,a),_}function RD(c,e,i,a,u,f){const m=parseInt(c.getAttribute("colspan")||"1"),w=parseInt(c.getAttribute("rowspan")||"1");i+m-1>u&&ui("colspan",u-i+1,c,f,1),e+w-1>a&&ui("rowspan",a-e+1,c,f,1)}function dv(c,e){const i=e.getColumns(c),a=new Array(i).fill(0);for(const{column:f}of new hr(c))a[f]++;const u=a.reduce((f,m,w)=>m?f:[...f,w],[]);if(u.length>0){const f=u[u.length-1];return e.removeColumns(c,{at:f}),!0}return!1}function hv(c,e){const i=[],a=e.getRows(c);for(let u=0;u<a;u++)c.getChild(u).isEmpty&&i.push(u);if(i.length>0){const u=i[i.length-1];return e.removeRows(c,{at:u}),!0}return!1}function fv(c,e){dv(c,e)||hv(c,e)}function FD(c,e){const i=Array.from(new hr(c,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(i.every(({cellHeight:u})=>u===1))return e.lastRow;const a=i[0].cellHeight-1;return e.lastRow+a}function zD(c,e){const i=Array.from(new hr(c,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(i.every(({cellWidth:u})=>u===1))return e.lastColumn;const a=i[0].cellWidth-1;return e.lastColumn+a}class q0 extends Ht{constructor(e,i){super(e),this.direction=i.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,i=e.document,a=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(i.selection)[0],u=this.value,f=this.direction;e.change(m=>{const w=f=="right"||f=="down",_=w?a:u,E=w?u:a,T=E.parent;(function(se,ke,Ee){UD(se)||(UD(ke)&&Ee.remove(Ee.createRangeIn(ke)),Ee.move(Ee.createRangeIn(se),Ee.createPositionAt(ke,"end"))),Ee.remove(se)})(E,_,m);const O=this.isHorizontal?"colspan":"rowspan",V=parseInt(a.getAttribute(O)||"1"),K=parseInt(u.getAttribute(O)||"1");m.setAttribute(O,V+K,_),m.setSelection(m.createRangeIn(_));const ee=this.editor.plugins.get("TableUtils");fv(T.findAncestor("table"),ee)})}_getMergeableCell(){const e=this.editor.model.document,i=this.editor.plugins.get("TableUtils"),a=i.getTableCellsContainingSelection(e.selection)[0];if(!a)return;const u=this.isHorizontal?function(w,_,E){const T=w.parent,O=T.parent,V=_=="right"?w.nextSibling:w.previousSibling,K=(O.getAttribute("headingColumns")||0)>0;if(!V)return;const ee=_=="right"?w:V,se=_=="right"?V:w,{column:ke}=E.getCellLocation(ee),{column:Ee}=E.getCellLocation(se),Le=parseInt(ee.getAttribute("colspan")||"1"),tt=uv(E,ee),ft=uv(E,se);if(!(K&&tt!=ft))return ke+Le===Ee?V:void 0}(a,this.direction,i):function(w,_,E){const T=w.parent,O=T.parent,V=O.getChildIndex(T);if(_=="down"&&V===E.getRows(O)-1||_=="up"&&V===0)return null;const K=parseInt(w.getAttribute("rowspan")||"1"),ee=O.getAttribute("headingRows")||0,se=_=="down"&&V+K===ee,ke=_=="up"&&V===ee;if(ee&&(se||ke))return null;const Ee=parseInt(w.getAttribute("rowspan")||"1"),Le=_=="down"?V+Ee:V,tt=[...new hr(O,{endRow:Le})],ft=tt.find(wn=>wn.cell===w),Mt=ft.column,rn=tt.find(({row:wn,cellHeight:Er,column:Yi})=>Yi===Mt&&(_=="down"?wn===Le:Le===wn+Er));return rn&&rn.cell?rn.cell:null}(a,this.direction,i);if(!u)return;const f=this.isHorizontal?"rowspan":"colspan",m=parseInt(a.getAttribute(f)||"1");return parseInt(u.getAttribute(f)||"1")===m?u:void 0}}function UD(c){const e=c.getChild(0);return c.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class IH extends Ht{refresh(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection),a=i[0];if(a){const u=a.findAncestor("table"),f=e.getRows(u)-1,m=e.getRowIndexes(i),w=m.first===0&&m.last===f;this.isEnabled=!w}else this.isEnabled=!1}execute(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),a=i.getSelectionAffectedTableCells(e.document.selection),u=i.getRowIndexes(a),f=a[0],m=f.findAncestor("table"),w=i.getCellLocation(f).column;e.change(_=>{const E=u.last-u.first+1;i.removeRows(m,{at:u.first,rows:E});const T=function(O,V,K,ee){const se=O.getChild(Math.min(V,ee-1));let ke=se.getChild(0),Ee=0;for(const Le of se.getChildren()){if(Ee>K)return ke;ke=Le,Ee+=parseInt(Le.getAttribute("colspan")||"1")}return ke}(m,u.first,w,i.getRows(m));_.setSelection(_.createPositionAt(T,0))})}}class TH extends Ht{refresh(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection),a=i[0];if(a){const u=a.findAncestor("table"),f=e.getColumns(u),{first:m,last:w}=e.getColumnIndexes(i);this.isEnabled=w-m<f-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[i,a]=function(_,E){const T=E.getSelectionAffectedTableCells(_),O=T[0],V=T.pop(),K=[O,V];return O.isBefore(V)?K:K.reverse()}(this.editor.model.document.selection,e),u=i.parent.parent,f=[...new hr(u)],m={first:f.find(_=>_.cell===i).column,last:f.find(_=>_.cell===a).column},w=function(_,E,T,O){return parseInt(T.getAttribute("colspan")||"1")>1?T:E.previousSibling||T.nextSibling?T.nextSibling||E.previousSibling:O.first?_.reverse().find(({column:K})=>K<O.first).cell:_.reverse().find(({column:K})=>K>O.last).cell}(f,i,a,m);this.editor.model.change(_=>{const E=m.last-m.first+1;e.removeColumns(u,{at:m.first,columns:E}),_.setSelection(_.createPositionAt(w,0))})}}class NH extends Ht{refresh(){const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,a=e.getSelectionAffectedTableCells(i.document.selection),u=a.length>0;this.isEnabled=u,this.value=u&&a.every(f=>this._isInHeading(f,f.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),a=this.editor.model,u=i.getSelectionAffectedTableCells(a.document.selection),f=u[0].findAncestor("table"),{first:m,last:w}=i.getRowIndexes(u),_=this.value?m:w+1,E=f.getAttribute("headingRows")||0;a.change(T=>{if(_){const O=OD(f,_,_>E?E:0);for(const{cell:V}of O)jD(V,_,T)}ui("headingRows",_,f,T,0)})}_isInHeading(e,i){const a=parseInt(i.getAttribute("headingRows")||"0");return!!a&&e.parent.index<a}}class MH extends Ht{refresh(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),a=i.getSelectionAffectedTableCells(e.document.selection),u=a.length>0;this.isEnabled=u,this.value=u&&a.every(f=>uv(i,f))}execute(e={}){if(e.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),a=this.editor.model,u=i.getSelectionAffectedTableCells(a.document.selection),f=u[0].findAncestor("table"),{first:m,last:w}=i.getColumnIndexes(u),_=this.value?m:w+1;a.change(E=>{if(_){const T=LD(f,_);for(const{cell:O,column:V}of T)BD(O,V,_,E)}ui("headingColumns",_,f,E,0)})}}function PH(c){if(c.is("element","tableColumnGroup"))return c;const e=c.getChildren();return Array.from(e).find(i=>i.is("element","tableColumnGroup"))}function OH(c){const e=PH(c);return e?Array.from(e.getChildren()):[]}class Ao extends ct{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const i=e.parent,a=i.parent,u=a.getChildIndex(i),f=new hr(a,{row:u});for(const{cell:m,row:w,column:_}of f)if(m===e)return{row:w,column:_}}createTable(e,i){const a=e.createElement("table"),u=i.rows||2,f=i.columns||2;return pv(e,a,0,u,f),i.headingRows&&ui("headingRows",Math.min(i.headingRows,u),a,e,0),i.headingColumns&&ui("headingColumns",Math.min(i.headingColumns,f),a,e,0),a}insertRows(e,i={}){const a=this.editor.model,u=i.at||0,f=i.rows||1,m=i.copyStructureFromAbove!==void 0,w=i.copyStructureFromAbove?u-1:u,_=this.getRows(e),E=this.getColumns(e);if(u>_)throw new N("tableutils-insertrows-insert-out-of-range",this,{options:i});a.change(T=>{const O=e.getAttribute("headingRows")||0;if(O>u&&ui("headingRows",O+f,e,T,0),!m&&(u===0||u===_))return void pv(T,e,u,f,E);const V=m?Math.max(u,w):u,K=new hr(e,{endRow:V}),ee=new Array(E).fill(1);for(const{row:se,column:ke,cellHeight:Ee,cellWidth:Le,cell:tt}of K){const ft=se+Ee-1,Mt=se<=w&&w<=ft;se<u&&u<=ft?(T.setAttribute("rowspan",Ee+f,tt),ee[ke]=-Le):m&&Mt&&(ee[ke]=Le)}for(let se=0;se<f;se++){const ke=T.createElement("tableRow");T.insert(ke,e,u);for(let Ee=0;Ee<ee.length;Ee++){const Le=ee[Ee],tt=T.createPositionAt(ke,"end");Le>0&&hh(T,tt,Le>1?{colspan:Le}:void 0),Ee+=Math.abs(Le)-1}}})}insertColumns(e,i={}){const a=this.editor.model,u=i.at||0,f=i.columns||1;a.change(m=>{const w=e.getAttribute("headingColumns");u<w&&m.setAttribute("headingColumns",w+f,e);const _=this.getColumns(e);if(u===0||_===u){for(const T of e.getChildren())T.is("element","tableRow")&&$f(f,m,m.createPositionAt(T,u?"end":0));return}const E=new hr(e,{column:u,includeAllSlots:!0});for(const T of E){const{row:O,cell:V,cellAnchorColumn:K,cellAnchorRow:ee,cellWidth:se,cellHeight:ke}=T;if(K<u){m.setAttribute("colspan",se+f,V);const Ee=ee+ke-1;for(let Le=O;Le<=Ee;Le++)E.skipRow(Le)}else $f(f,m,T.getPositionBefore())}})}removeRows(e,i){const a=this.editor.model,u=i.rows||1,f=this.getRows(e),m=i.at,w=m+u-1;if(w>f-1)throw new N("tableutils-removerows-row-index-out-of-range",this,{table:e,options:i});a.change(_=>{const E={first:m,last:w},{cellsToMove:T,cellsToTrim:O}=function(V,{first:K,last:ee}){const se=new Map,ke=[];for(const{row:Ee,column:Le,cellHeight:tt,cell:ft}of new hr(V,{endRow:ee})){const Mt=Ee+tt-1;if(Ee>=K&&Ee<=ee&&Mt>ee){const rn=tt-(ee-Ee+1);se.set(Le,{cell:ft,rowspan:rn})}if(Ee<K&&Mt>=K){let rn;rn=Mt>=ee?ee-K+1:Mt-K+1,ke.push({cell:ft,rowspan:tt-rn})}}return{cellsToMove:se,cellsToTrim:ke}}(e,E);T.size&&function(V,K,ee,se){const ke=new hr(V,{includeAllSlots:!0,row:K}),Ee=[...ke],Le=V.getChild(K);let tt;for(const{column:ft,cell:Mt,isAnchor:rn}of Ee)if(ee.has(ft)){const{cell:wn,rowspan:Er}=ee.get(ft),Yi=tt?se.createPositionAfter(tt):se.createPositionAt(Le,0);se.move(se.createRangeOn(wn),Yi),ui("rowspan",Er,wn,se),tt=wn}else rn&&(tt=Mt)}(e,w+1,T,_);for(let V=w;V>=m;V--)_.remove(e.getChild(V));for(const{rowspan:V,cell:K}of O)ui("rowspan",V,K,_);(function(V,{first:K,last:ee},se){const ke=V.getAttribute("headingRows")||0;K<ke&&ui("headingRows",ee<ke?ke-(ee-K+1):K,V,se,0)})(e,E,_),dv(e,this)||hv(e,this)})}removeColumns(e,i){const a=this.editor.model,u=i.at,f=i.columns||1,m=i.at+f-1;a.change(w=>{(function(E,T,O){const V=E.getAttribute("headingColumns")||0;if(V&&T.first<V){const K=Math.min(V-1,T.last)-T.first+1;O.setAttribute("headingColumns",V-K,E)}})(e,{first:u,last:m},w);const _=OH(e);for(let E=m;E>=u;E--){for(const{cell:T,column:O,cellWidth:V}of[...new hr(e)])O<=E&&V>1&&O+V>E?ui("colspan",V-1,T,w):O===E&&w.remove(T);if(_[E]){const T=E===0?_[1]:_[E-1],O=parseFloat(_[E].getAttribute("columnWidth")),V=parseFloat(T.getAttribute("columnWidth"));w.remove(_[E]),w.setAttribute("columnWidth",O+V+"%",T)}}hv(e,this)||dv(e,this)})}splitCellVertically(e,i=2){const a=this.editor.model,u=e.parent.parent,f=parseInt(e.getAttribute("rowspan")||"1"),m=parseInt(e.getAttribute("colspan")||"1");a.change(w=>{if(m>1){const{newCellsSpan:_,updatedSpan:E}=qD(m,i);ui("colspan",E,e,w);const T={};_>1&&(T.colspan=_),f>1&&(T.rowspan=f),$f(m>i?i-1:m-1,w,w.createPositionAfter(e),T)}if(m<i){const _=i-m,E=[...new hr(u)],{column:T}=E.find(({cell:ee})=>ee===e),O=E.filter(({cell:ee,cellWidth:se,column:ke})=>ee!==e&&ke===T||ke<T&&ke+se>T);for(const{cell:ee,cellWidth:se}of O)w.setAttribute("colspan",se+_,ee);const V={};f>1&&(V.rowspan=f),$f(_,w,w.createPositionAfter(e),V);const K=u.getAttribute("headingColumns")||0;K>T&&ui("headingColumns",K+_,u,w)}})}splitCellHorizontally(e,i=2){const a=this.editor.model,u=e.parent,f=u.parent,m=f.getChildIndex(u),w=parseInt(e.getAttribute("rowspan")||"1"),_=parseInt(e.getAttribute("colspan")||"1");a.change(E=>{if(w>1){const T=[...new hr(f,{startRow:m,endRow:m+w-1,includeAllSlots:!0})],{newCellsSpan:O,updatedSpan:V}=qD(w,i);ui("rowspan",V,e,E);const{column:K}=T.find(({cell:se})=>se===e),ee={};O>1&&(ee.rowspan=O),_>1&&(ee.colspan=_);for(const se of T){const{column:ke,row:Ee}=se;Ee>=m+V&&ke===K&&(Ee+m+V)%O==0&&$f(1,E,se.getPositionBefore(),ee)}}if(w<i){const T=i-w,O=[...new hr(f,{startRow:0,endRow:m})];for(const{cell:ee,cellHeight:se,row:ke}of O)if(ee!==e&&ke+se>m){const Ee=se+T;E.setAttribute("rowspan",Ee,ee)}const V={};_>1&&(V.colspan=_),pv(E,f,m+1,T,1,V);const K=f.getAttribute("headingRows")||0;K>m&&ui("headingRows",K+T,f,E)}})}getColumns(e){return[...e.getChild(0).getChildren()].filter(i=>i.is("element","tableCell")).reduce((i,a)=>i+parseInt(a.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((i,a)=>a.is("element","tableRow")?i+1:i,0)}createTableWalker(e,i={}){return new hr(e,i)}getSelectedTableCells(e){const i=[];for(const a of this.sortRanges(e.getRanges())){const u=a.getContainedElement();u&&u.is("element","tableCell")&&i.push(u)}return i}getTableCellsContainingSelection(e){const i=[];for(const a of e.getRanges()){const u=a.start.findAncestor("tableCell");u&&i.push(u)}return i}getSelectionAffectedTableCells(e){const i=this.getSelectedTableCells(e);return i.length?i:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const i=e.map(a=>a.parent.index);return this._getFirstLastIndexesObject(i)}getColumnIndexes(e){const i=e[0].findAncestor("table"),a=[...new hr(i)].filter(u=>e.includes(u.cell)).map(u=>u.column);return this._getFirstLastIndexesObject(a)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const i=new Set,a=new Set;let u=0;for(const m of e){const{row:w,column:_}=this.getCellLocation(m),E=parseInt(m.getAttribute("rowspan"))||1,T=parseInt(m.getAttribute("colspan"))||1;i.add(w),a.add(_),E>1&&i.add(w+E-1),T>1&&a.add(_+T-1),u+=E*T}return function(m,w){const _=Array.from(m.values()),E=Array.from(w.values()),T=Math.max(..._),O=Math.min(..._),V=Math.max(...E),K=Math.min(...E);return(T-O+1)*(V-K+1)}(i,a)==u}sortRanges(e){return Array.from(e).sort(jH)}_getFirstLastIndexesObject(e){const i=e.sort((a,u)=>a-u);return{first:i[0],last:i[i.length-1]}}_areCellInTheSameTableSection(e){const i=e[0].findAncestor("table"),a=this.getRowIndexes(e),u=parseInt(i.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(a,u))return!1;const f=this.getColumnIndexes(e),m=parseInt(i.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(f,m)}_areIndexesInSameSection({first:e,last:i},a){return e<a==i<a}}function pv(c,e,i,a,u,f={}){for(let m=0;m<a;m++){const w=c.createElement("tableRow");c.insert(w,e,i),$f(u,c,c.createPositionAt(w,"end"),f)}}function $f(c,e,i,a={}){for(let u=0;u<c;u++)hh(e,i,a)}function qD(c,e){if(c<e)return{newCellsSpan:1,updatedSpan:1};const i=Math.floor(c/e);return{newCellsSpan:i,updatedSpan:c-i*e+i}}function jH(c,e){const i=c.start,a=e.start;return i.isBefore(a)?-1:1}class LH extends Ht{refresh(){const e=this.editor.plugins.get(Ao),i=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(i)}execute(){const e=this.editor.model,i=this.editor.plugins.get(Ao);e.change(a=>{const u=i.getSelectedTableCells(e.document.selection),f=u.shift(),{mergeWidth:m,mergeHeight:w}=function(_,E,T){let O=0,V=0;for(const Ee of E){const{row:Le,column:tt}=T.getCellLocation(Ee);O=$D(Ee,tt,O,"colspan"),V=$D(Ee,Le,V,"rowspan")}const{row:K,column:ee}=T.getCellLocation(_),se=O-ee,ke=V-K;return{mergeWidth:se,mergeHeight:ke}}(f,u,i);ui("colspan",m,f,a),ui("rowspan",w,f,a);for(const _ of u)BH(_,f,a);fv(f.findAncestor("table"),i),a.setSelection(f,"in")})}}function BH(c,e,i){VD(c)||(VD(e)&&i.remove(i.createRangeIn(e)),i.move(i.createRangeIn(c),i.createPositionAt(e,"end"))),i.remove(c)}function VD(c){const e=c.getChild(0);return c.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function $D(c,e,i,a){const u=parseInt(c.getAttribute(a)||"1");return Math.max(i,e+u)}class RH extends Ht{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),a=i.getSelectionAffectedTableCells(e.document.selection),u=i.getRowIndexes(a),f=a[0].findAncestor("table"),m=[];for(let w=u.first;w<=u.last;w++)for(const _ of f.getChild(w).getChildren())m.push(e.createRangeOn(_));e.change(w=>{w.setSelection(m)})}}class FH extends Ht{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,a=e.getSelectionAffectedTableCells(i.document.selection),u=a[0],f=a.pop(),m=u.findAncestor("table"),w=e.getCellLocation(u),_=e.getCellLocation(f),E=Math.min(w.column,_.column),T=Math.max(w.column,_.column),O=[];for(const V of new hr(m,{startColumn:E,endColumn:T}))O.push(i.createRangeOn(V.cell));i.change(V=>{V.setSelection(O)})}}function zH(c){c.document.registerPostFixer(e=>function(i,a){const u=a.document.differ.getChanges();let f=!1;const m=new Set;for(const w of u){let _=null;w.type=="insert"&&w.name=="table"&&(_=w.position.nodeAfter),w.type!="insert"&&w.type!="remove"||w.name!="tableRow"&&w.name!="tableCell"||(_=w.position.findAncestor("table")),VH(w)&&(_=w.range.start.findAncestor("table")),_&&!m.has(_)&&(f=UH(_,i)||f,f=qH(_,i)||f,m.add(_))}return f}(e,c))}function UH(c,e){let i=!1;const a=function(u){const f=parseInt(u.getAttribute("headingRows")||"0"),m=Array.from(u.getChildren()).reduce((_,E)=>E.is("element","tableRow")?_+1:_,0),w=[];for(const{row:_,cell:E,cellHeight:T}of new hr(u)){if(T<2)continue;const O=_<f?f:m;if(_+T>O){const V=O-_;w.push({cell:E,rowspan:V})}}return w}(c);if(a.length){i=!0;for(const u of a)ui("rowspan",u.rowspan,u.cell,e,1)}return i}function qH(c,e){let i=!1;const a=function(w){const _=new Array(w.childCount).fill(0);for(const{rowIndex:E}of new hr(w,{includeAllSlots:!0}))_[E]++;return _}(c),u=[];for(const[w,_]of a.entries())!_&&c.getChild(w).is("element","tableRow")&&u.push(w);if(u.length){i=!0;for(const w of u.reverse())e.remove(c.getChild(w)),a.splice(w,1)}const f=a.filter((w,_)=>c.getChild(_).is("element","tableRow")),m=f[0];if(!f.every(w=>w===m)){const w=f.reduce((_,E)=>E>_?E:_,0);for(const[_,E]of f.entries()){const T=w-E;if(T){for(let O=0;O<T;O++)hh(e,e.createPositionAt(c.getChild(_),"end"));i=!0}}}return i}function VH(c){if(c.type!=="attribute")return!1;const e=c.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function $H(c){c.document.registerPostFixer(e=>function(i,a){const u=a.document.differ.getChanges();let f=!1;for(const m of u)m.type=="insert"&&m.name=="table"&&(f=HH(m.position.nodeAfter,i)||f),m.type=="insert"&&m.name=="tableRow"&&(f=HD(m.position.nodeAfter,i)||f),m.type=="insert"&&m.name=="tableCell"&&(f=mv(m.position.nodeAfter,i)||f),m.type!="remove"&&m.type!="insert"||!WH(m)||(f=mv(m.position.parent,i)||f);return f}(e,c))}function HH(c,e){let i=!1;for(const a of c.getChildren())a.is("element","tableRow")&&(i=HD(a,e)||i);return i}function HD(c,e){let i=!1;for(const a of c.getChildren())i=mv(a,e)||i;return i}function mv(c,e){if(c.childCount==0)return e.insertElement("paragraph",c),!0;const i=Array.from(c.getChildren()).filter(a=>a.is("$text"));for(const a of i)e.wrap(e.createRangeOn(a),"paragraph");return!!i.length}function WH(c){return!!c.position.parent.is("element","tableCell")&&(c.type=="insert"&&c.name=="$text"||c.type=="remove")}function GH(c,e){if(!c.is("element","paragraph"))return!1;const i=e.toViewElement(c);return!!i&&ID(c)!==i.is("element","span")}var WD=s(8137),YH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(WD.A,YH),WD.A.locals;class KH extends ct{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[Ao]}init(){const e=this.editor,i=e.model,a=i.schema,u=e.conversion,f=e.plugins.get(Ao);a.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),a.register("tableRow",{allowIn:"table",isLimit:!0}),a.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),u.for("upcast").add(m=>{m.on("element:figure",(w,_,E)=>{if(!E.consumable.test(_.viewItem,{name:!0,classes:"table"}))return;const T=function(V){for(const K of V.getChildren())if(K.is("element","table"))return K}(_.viewItem);if(!T||!E.consumable.test(T,{name:!0}))return;E.consumable.consume(_.viewItem,{name:!0,classes:"table"});const O=Bi(E.convertItem(T,_.modelCursor).modelRange.getItems());O?(E.convertChildren(_.viewItem,E.writer.createPositionAt(O,"end")),E.updateConversionResult(O,_)):E.consumable.revert(_.viewItem,{name:!0,classes:"table"})})}),u.for("upcast").add(xH()),u.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:SD(f,{asWidget:!0,additionalSlots:this._additionalSlots})}),u.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:SD(f,{additionalSlots:this._additionalSlots})}),u.for("upcast").elementToElement({model:"tableRow",view:"tr"}),u.for("upcast").add(m=>{m.on("element:tr",(w,_)=>{_.viewItem.isEmpty&&_.modelCursor.index==0&&w.stop()},{priority:"high"})}),u.for("downcast").elementToElement({model:"tableRow",view:(m,{writer:w})=>m.isEmpty?w.createEmptyElement("tr"):w.createContainerElement("tr")}),u.for("upcast").elementToElement({model:"tableCell",view:"td"}),u.for("upcast").elementToElement({model:"tableCell",view:"th"}),u.for("upcast").add(xD("td")),u.for("upcast").add(xD("th")),u.for("editingDowncast").elementToElement({model:"tableCell",view:ED({asWidget:!0})}),u.for("dataDowncast").elementToElement({model:"tableCell",view:ED()}),u.for("editingDowncast").elementToElement({model:"paragraph",view:DD({asWidget:!0}),converterPriority:"high"}),u.for("dataDowncast").elementToElement({model:"paragraph",view:DD(),converterPriority:"high"}),u.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),u.for("upcast").attributeToAttribute({model:{key:"colspan",value:GD("colspan")},view:"colspan"}),u.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),u.for("upcast").attributeToAttribute({model:{key:"rowspan",value:GD("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new DH(e)),e.commands.add("insertTableRowAbove",new TD(e,{order:"above"})),e.commands.add("insertTableRowBelow",new TD(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new ND(e,{order:"left"})),e.commands.add("insertTableColumnRight",new ND(e,{order:"right"})),e.commands.add("removeTableRow",new IH(e)),e.commands.add("removeTableColumn",new TH(e)),e.commands.add("splitTableCellVertically",new MD(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new MD(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new LH(e)),e.commands.add("mergeTableCellRight",new q0(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new q0(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new q0(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new q0(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new MH(e)),e.commands.add("setTableRowHeader",new NH(e)),e.commands.add("selectTableRow",new RH(e)),e.commands.add("selectTableColumn",new FH(e)),zH(i),$H(i),this.listenTo(i.document,"change:data",()=>{(function(m,w){const _=m.document.differ;for(const E of _.getChanges()){let T,O=!1;if(E.type=="attribute"){const se=E.range.start.nodeAfter;if(!se||!se.is("element","table")||E.attributeKey!="headingRows"&&E.attributeKey!="headingColumns")continue;T=se,O=E.attributeKey=="headingRows"}else E.name!="tableRow"&&E.name!="tableCell"||(T=E.position.findAncestor("table"),O=E.name=="tableRow");if(!T)continue;const V=T.getAttribute("headingRows")||0,K=T.getAttribute("headingColumns")||0,ee=new hr(T);for(const se of ee){const ke=se.row<V||se.column<K?"th":"td",Ee=w.mapper.toViewElement(se.cell);Ee&&Ee.is("element")&&Ee.name!=ke&&w.reconvertItem(O?se.cell.parent:se.cell)}}})(i,e.editing),function(m,w){const _=m.document.differ,E=new Set;for(const T of _.getChanges()){const O=T.type=="attribute"?T.range.start.parent:T.position.parent;O.is("element","tableCell")&&E.add(O)}for(const T of E.values()){const O=Array.from(T.getChildren()).filter(V=>GH(V,w.mapper));for(const V of O)w.reconvertItem(V)}}(i,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function GD(c){return e=>{const i=parseInt(e.getAttribute(c));return Number.isNaN(i)||i<=0?null:i}}var YD=s(5032),QH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(YD.A,QH),YD.A.locals;class KD extends Nt{constructor(e){super(e);const i=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new po,this.focusTracker=new Ri,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(a,u)=>`${u} Ã— ${a}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:i.to("label")}]}],on:{mousedown:i.to(a=>{a.preventDefault()}),click:i.to(()=>{this.fire("execute")})}}),this.on("boxover",(a,u)=>{const{row:f,column:m}=u.target.dataset;this.items.get(10*(parseInt(f,10)-1)+(parseInt(m,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(a,u,f)=>{if(!f)return;const{row:m,column:w}=f.dataset;this.set({rows:parseInt(m),columns:parseInt(w)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),ur({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,i=this.columns;this.items.map((a,u)=>{const f=Math.floor(u/10)<e&&u%10<i;a.set("isOn",f)})}_createGridButton(e,i,a,u){const f=new Wn(e);return f.set({label:u,class:"ck-insert-table-dropdown-grid-box"}),f.extendTemplate({attributes:{"data-row":i,"data-column":a}}),f}_createGridCollection(){const e=[];for(let i=0;i<100;i++){const a=Math.floor(i/10),u=i%10,f=`${a+1} Ã— ${u+1}`;e.push(this._createGridButton(this.locale,a+1,u+1,f))}return this.createCollection(e)}}class JH extends ct{static get pluginName(){return"TableUI"}init(){const e=this.editor,i=this.editor.t,a=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",u=>{const f=e.commands.get("insertTable"),m=Jc(u);let w;return m.bind("isEnabled").to(f),m.buttonView.set({icon:fn.table,label:i("Insert table"),tooltip:!0}),m.on("change:isOpen",()=>{w||(w=new KD(u),m.panelView.children.add(w),w.delegate("execute").to(m),m.on("execute",()=>{e.execute("insertTable",{rows:w.rows,columns:w.columns}),e.editing.view.focus()}))}),m}),e.ui.componentFactory.add("menuBar:insertTable",u=>{const f=e.commands.get("insertTable"),m=new Lf(u),w=new KD(u);return w.delegate("execute").to(m),m.on("change:isOpen",(_,E,T)=>{T||w.reset()}),w.on("execute",()=>{e.execute("insertTable",{rows:w.rows,columns:w.columns}),e.editing.view.focus()}),m.buttonView.set({label:i("Table"),icon:fn.table}),m.panelView.children.add(w),m.bind("isEnabled").to(f),m}),e.ui.componentFactory.add("tableColumn",u=>{const f=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:i("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:a?"insertTableColumnLeft":"insertTableColumnRight",label:i("Insert column left")}},{type:"button",model:{commandName:a?"insertTableColumnRight":"insertTableColumnLeft",label:i("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:i("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:i("Select column")}}];return this._prepareDropdown(i("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',f,u)}),e.ui.componentFactory.add("tableRow",u=>{const f=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:i("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:i("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:i("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:i("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:i("Select row")}}];return this._prepareDropdown(i("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',f,u)}),e.ui.componentFactory.add("mergeTableCells",u=>{const f=[{type:"button",model:{commandName:"mergeTableCellUp",label:i("Merge cell up")}},{type:"button",model:{commandName:a?"mergeTableCellRight":"mergeTableCellLeft",label:i("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:i("Merge cell down")}},{type:"button",model:{commandName:a?"mergeTableCellLeft":"mergeTableCellRight",label:i("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:i("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:i("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(i("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',f,u)})}_prepareDropdown(e,i,a,u){const f=this.editor,m=Jc(u),w=this._fillDropdownWithListOptions(m,a);return m.buttonView.set({label:e,icon:i,tooltip:!0}),m.bind("isEnabled").toMany(w,"isEnabled",(..._)=>_.some(E=>E)),this.listenTo(m,"execute",_=>{f.execute(_.source.commandName),_.source instanceof s0||f.editing.view.focus()}),m}_prepareMergeSplitButtonDropdown(e,i,a,u){const f=this.editor,m=Jc(u,u0),w="mergeTableCells",_=f.commands.get(w),E=this._fillDropdownWithListOptions(m,a);return m.buttonView.set({label:e,icon:i,tooltip:!0,isEnabled:!0}),m.bind("isEnabled").toMany([_,...E],"isEnabled",(...T)=>T.some(O=>O)),this.listenTo(m.buttonView,"execute",()=>{f.execute(w),f.editing.view.focus()}),this.listenTo(m,"execute",T=>{f.execute(T.source.commandName),f.editing.view.focus()}),m}_fillDropdownWithListOptions(e,i){const a=this.editor,u=[],f=new zs;for(const m of i)ZH(m,a,u,f);return E5(e,f),u}}function ZH(c,e,i,a){if(c.type==="button"||c.type==="switchbutton"){const u=c.model=new iS(c.model),{commandName:f,bindIsOn:m}=c.model,w=e.commands.get(f);i.push(w),u.set({commandName:f}),u.bind("isEnabled").to(w),m&&u.bind("isOn").to(w,"value"),u.set({withText:!0})}a.add(c)}var QD=s(8423),XH={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(QD.A,XH),QD.A.locals;class fh extends ct{static get pluginName(){return"TableSelection"}static get requires(){return[Ao,Ao]}init(){const e=this.editor,i=e.model,a=e.editing.view;this.listenTo(i,"deleteContent",(u,f)=>this._handleDeleteContent(u,f),{priority:"high"}),this.listenTo(a.document,"insertText",(u,f)=>this._handleInsertTextEvent(u,f),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(Ao),i=this.editor.model.document.selection,a=e.getSelectedTableCells(i);return a.length==0?null:a}getSelectionAsFragment(){const e=this.editor.plugins.get(Ao),i=this.getSelectedTableCells();return i?this.editor.model.change(a=>{const u=a.createDocumentFragment(),{first:f,last:m}=e.getColumnIndexes(i),{first:w,last:_}=e.getRowIndexes(i),E=i[0].findAncestor("table");let T=_,O=m;if(e.isSelectionRectangular(i)){const K={firstColumn:f,lastColumn:m,firstRow:w,lastRow:_};T=FD(E,K),O=zD(E,K)}const V=PD(E,{startRow:w,startColumn:f,endRow:T,endColumn:O},a);return a.insert(V,u,0),u}):null}setCellSelection(e,i){const a=this._getCellsToSelect(e,i);this.editor.model.change(u=>{u.setSelection(a.cells.map(f=>u.createRangeOn(f)),{backward:a.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=Bi(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,i=new Set;e.conversion.for("editingDowncast").add(a=>a.on("selection",(u,f,m)=>{const w=m.writer;(function(T){for(const O of i)T.removeClass("ck-editor__editable_selected",O);i.clear()})(w);const _=this.getSelectedTableCells();if(!_)return;for(const T of _){const O=m.mapper.toViewElement(T);w.addClass("ck-editor__editable_selected",O),i.add(O)}const E=m.mapper.toViewElement(_[_.length-1]);w.setSelection(E,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const i=this.getSelectedTableCells();if(!i)return;e.model.change(a=>{const u=a.createPositionAt(i[0],0),f=e.model.schema.getNearestSelectionRange(u);a.setSelection(f)})}})}_handleDeleteContent(e,i){const a=this.editor.plugins.get(Ao),u=i[0],f=i[1],m=this.editor.model,w=!f||f.direction=="backward",_=a.getSelectedTableCells(u);_.length&&(e.stop(),m.change(E=>{const T=_[w?_.length-1:0];m.change(V=>{for(const K of _)m.deleteContent(V.createSelection(K,"in"))});const O=m.schema.getNearestSelectionRange(E.createPositionAt(T,0));u.is("documentSelection")?E.setSelection(O):u.setTo(O)}))}_handleInsertTextEvent(e,i){const a=this.editor,u=this.getSelectedTableCells();if(!u)return;const f=a.editing.view,m=a.editing.mapper,w=u.map(_=>f.createRangeOn(m.toViewElement(_)));i.selection=f.createSelection(w)}_getCellsToSelect(e,i){const a=this.editor.plugins.get("TableUtils"),u=a.getCellLocation(e),f=a.getCellLocation(i),m=Math.min(u.row,f.row),w=Math.max(u.row,f.row),_=Math.min(u.column,f.column),E=Math.max(u.column,f.column),T=new Array(w-m+1).fill(null).map(()=>[]),O={startRow:m,endRow:w,startColumn:_,endColumn:E};for(const{row:ee,cell:se}of new hr(e.findAncestor("table"),O))T[ee-m].push(se);const V=f.row<u.row,K=f.column<u.column;return V&&T.reverse(),K&&T.forEach(ee=>ee.reverse()),{cells:T.flat(),backward:V||K}}}class eW extends ct{static get pluginName(){return"TableClipboard"}static get requires(){return[Rm,Na,fh,Ao]}init(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"copy",(a,u)=>this._onCopyCut(a,u)),this.listenTo(i,"cut",(a,u)=>this._onCopyCut(a,u)),this.listenTo(e.model,"insertContent",(a,[u,f])=>this._onInsertContent(a,u,f),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,i){const a=this.editor.editing.view,u=this.editor.plugins.get(fh),f=this.editor.plugins.get(Rm);u.getSelectedTableCells()&&(e.name!="cut"||this.editor.model.canEditAt(this.editor.model.document.selection))&&(i.preventDefault(),e.stop(),this.editor.model.enqueueChange({isUndoable:e.name==="cut"},()=>{const m=f._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,()=>u.getSelectionAsFragment());a.document.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:this.editor.data.toView(m),method:e.name})}))}_onInsertContent(e,i,a){if(a&&!a.is("documentSelection"))return;const u=this.editor.model,f=this.editor.plugins.get(Ao),m=this.editor.plugins.get(Rm),w=this.getTableIfOnlyTableInContent(i,u);if(!w)return;const _=f.getSelectionAffectedTableCells(u.document.selection);_.length?(e.stop(),i.is("documentFragment")?m._pasteMarkersIntoTransformedElement(i.markers,E=>this._replaceSelectedCells(w,_,E)):this.editor.model.change(E=>{this._replaceSelectedCells(w,_,E)})):fv(w,f)}_replaceSelectedCells(e,i,a){const u=this.editor.plugins.get(Ao),f={width:u.getColumns(e),height:u.getRows(e)},m=function(O,V,K,ee){const se=O[0].findAncestor("table"),ke=ee.getColumnIndexes(O),Ee=ee.getRowIndexes(O),Le={firstColumn:ke.first,lastColumn:ke.last,firstRow:Ee.first,lastRow:Ee.last},tt=O.length===1;return tt&&(Le.lastRow+=V.height-1,Le.lastColumn+=V.width-1,function(ft,Mt,rn,wn){const Er=wn.getColumns(ft),Yi=wn.getRows(ft);rn>Er&&wn.insertColumns(ft,{at:Er,columns:rn-Er}),Mt>Yi&&wn.insertRows(ft,{at:Yi,rows:Mt-Yi})}(se,Le.lastRow+1,Le.lastColumn+1,ee)),tt||!ee.isSelectionRectangular(O)?function(ft,Mt,rn){const{firstRow:wn,lastRow:Er,firstColumn:Yi,lastColumn:pI}=Mt,mI={first:wn,last:Er},gI={first:Yi,last:pI};bv(ft,Yi,mI,rn),bv(ft,pI+1,mI,rn),gv(ft,wn,gI,rn),gv(ft,Er+1,gI,rn,wn)}(se,Le,K):(Le.lastRow=FD(se,Le),Le.lastColumn=zD(se,Le)),Le}(i,f,a,u),w=m.lastRow-m.firstRow+1,_=m.lastColumn-m.firstColumn+1;e=PD(e,{startRow:0,startColumn:0,endRow:Math.min(w,f.height)-1,endColumn:Math.min(_,f.width)-1},a);const E=i[0].findAncestor("table"),T=this._replaceSelectedCellsWithPasted(e,f,E,m,a);if(this.editor.plugins.get("TableSelection").isEnabled){const O=u.sortRanges(T.map(V=>a.createRangeOn(V)));a.setSelection(O)}else a.setSelection(T[0],0);return E}_replaceSelectedCellsWithPasted(e,i,a,u,f){const{width:m,height:w}=i,_=function(ke,Ee,Le){const tt=new Array(Le).fill(null).map(()=>new Array(Ee).fill(null));for(const{column:ft,row:Mt,cell:rn}of new hr(ke))tt[Mt][ft]=rn;return tt}(e,m,w),E=[...new hr(a,{startRow:u.firstRow,endRow:u.lastRow,startColumn:u.firstColumn,endColumn:u.lastColumn,includeAllSlots:!0})],T=[];let O;for(const ke of E){const{row:Ee,column:Le}=ke;Le===u.firstColumn&&(O=ke.getPositionBefore());const tt=Ee-u.firstRow,ft=Le-u.firstColumn,Mt=_[tt%w][ft%m],rn=Mt?f.cloneElement(Mt):null,wn=this._replaceTableSlotCell(ke,rn,O,f);wn&&(RD(wn,Ee,Le,u.lastRow,u.lastColumn,f),T.push(wn),O=f.createPositionAfter(wn))}const V=parseInt(a.getAttribute("headingRows")||"0"),K=parseInt(a.getAttribute("headingColumns")||"0"),ee=u.firstRow<V&&V<=u.lastRow,se=u.firstColumn<K&&K<=u.lastColumn;if(ee){const ke=gv(a,V,{first:u.firstColumn,last:u.lastColumn},f,u.firstRow);T.push(...ke)}if(se){const ke=bv(a,K,{first:u.firstRow,last:u.lastRow},f);T.push(...ke)}return T}_replaceTableSlotCell(e,i,a,u){const{cell:f,isAnchor:m}=e;return m&&u.remove(f),i?(u.insert(i,a),i):null}getTableIfOnlyTableInContent(e,i){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const a=i.createRangeIn(e);for(const u of a.getItems())if(u.is("element","table")){const f=i.createRange(a.start,i.createPositionBefore(u));if(i.hasContent(f,{ignoreWhitespaces:!0}))return null;const m=i.createRange(i.createPositionAfter(u),a.end);return i.hasContent(m,{ignoreWhitespaces:!0})?null:u}return null}}function gv(c,e,i,a,u=0){if(!(e<1))return OD(c,e,u).filter(({column:f,cellWidth:m})=>JD(f,m,i)).map(({cell:f})=>jD(f,e,a))}function bv(c,e,i,a){if(!(e<1))return LD(c,e).filter(({row:u,cellHeight:f})=>JD(u,f,i)).map(({cell:u,column:f})=>BD(u,f,e,a))}function JD(c,e,i){const a=c+e-1,{first:u,last:f}=i;return c>=u&&c<=f||c<u&&a>=u}class tW extends ct{static get pluginName(){return"TableKeyboard"}static get requires(){return[fh,Ao]}init(){const e=this.editor,i=e.editing.view.document,a=e.t;this.listenTo(i,"arrowKey",(...u)=>this._onArrowKey(...u),{context:"table"}),this.listenTo(i,"tab",(...u)=>this._handleTabOnSelectedTable(...u),{context:"figure"}),this.listenTo(i,"tab",(...u)=>this._handleTab(...u),{context:["th","td"]}),e.accessibility.addKeystrokeInfoGroup({id:"table",label:a("Keystrokes that can be used in a table cell"),keystrokes:[{label:a("Move the selection to the next cell"),keystroke:"Tab"},{label:a("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:a("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:a("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,i){const a=this.editor,u=a.model.document.selection.getSelectedElement();u&&u.is("element","table")&&(i.preventDefault(),i.stopPropagation(),e.stop(),a.model.change(f=>{f.setSelection(f.createRangeIn(u.getChild(0).getChild(0)))}))}_handleTab(e,i){const a=this.editor,u=this.editor.plugins.get(Ao),f=this.editor.plugins.get("TableSelection"),m=a.model.document.selection,w=!i.shiftKey;let _=u.getTableCellsContainingSelection(m)[0];if(_||(_=f.getFocusCell()),!_)return;i.preventDefault(),i.stopPropagation(),e.stop();const E=_.parent,T=E.parent,O=T.getChildIndex(E),V=E.getChildIndex(_),K=V===0;if(!w&&K&&O===0)return void a.model.change(Ee=>{Ee.setSelection(Ee.createRangeOn(T))});const ee=V===E.childCount-1,se=O===u.getRows(T)-1;if(w&&se&&ee&&(a.execute("insertTableRowBelow"),O===u.getRows(T)-1))return void a.model.change(Ee=>{Ee.setSelection(Ee.createRangeOn(T))});let ke;if(w&&ee)ke=T.getChild(O+1).getChild(0);else if(!w&&K){const Ee=T.getChild(O-1);ke=Ee.getChild(Ee.childCount-1)}else ke=E.getChild(V+(w?1:-1));a.model.change(Ee=>{Ee.setSelection(Ee.createRangeIn(ke))})}_onArrowKey(e,i){const a=this.editor,u=cm(i.keyCode,a.locale.contentLanguageDirection);this._handleArrowKeys(u,i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),e.stop())}_handleArrowKeys(e,i){const a=this.editor.plugins.get(Ao),u=this.editor.plugins.get("TableSelection"),f=this.editor.model,m=f.document.selection,w=["right","down"].includes(e),_=a.getSelectedTableCells(m);if(_.length){let T;return T=i?u.getFocusCell():w?_[_.length-1]:_[0],this._navigateFromCellInDirection(T,e,i),!0}const E=m.focus.findAncestor("tableCell");if(!E)return!1;if(!m.isCollapsed)if(i){if(m.isBackward==w&&!m.containsEntireContent(E))return!1}else{const T=m.getSelectedElement();if(!T||!f.schema.isObject(T))return!1}return!!this._isSelectionAtCellEdge(m,E,w)&&(this._navigateFromCellInDirection(E,e,i),!0)}_isSelectionAtCellEdge(e,i,a){const u=this.editor.model,f=this.editor.model.schema,m=a?e.getLastPosition():e.getFirstPosition();if(!f.getLimitElement(m).is("element","tableCell"))return u.createPositionAt(i,a?"end":0).isTouching(m);const w=u.createSelection(m);return u.modifySelection(w,{direction:a?"forward":"backward"}),m.isEqual(w.focus)}_navigateFromCellInDirection(e,i,a=!1){const u=this.editor.model,f=e.findAncestor("table"),m=[...new hr(f,{includeAllSlots:!0})],{row:w,column:_}=m[m.length-1],E=m.find(({cell:se})=>se==e);let{row:T,column:O}=E;switch(i){case"left":O--;break;case"up":T--;break;case"right":O+=E.cellWidth;break;case"down":T+=E.cellHeight}if(T<0||T>w||O<0&&T<=0||O>_&&T>=w)return void u.change(se=>{se.setSelection(se.createRangeOn(f))});O<0?(O=a?0:_,T--):O>_&&(O=a?_:0,T++);const V=m.find(se=>se.row==T&&se.column==O).cell,K=["right","down"].includes(i),ee=this.editor.plugins.get("TableSelection");if(a&&ee.isEnabled){const se=ee.getAnchorCell()||e;ee.setCellSelection(se,V)}else{const se=u.createPositionAt(V,K?0:"end");u.change(ke=>{ke.setSelection(se)})}}}class nW extends $u{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class rW extends ct{static get pluginName(){return"TableMouse"}static get requires(){return[fh,Ao]}init(){this.editor.editing.view.addObserver(nW),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,i=e.plugins.get(Ao);let a=!1;const u=e.plugins.get(fh);this.listenTo(e.editing.view.document,"mousedown",(f,m)=>{const w=e.model.document.selection;if(!this.isEnabled||!u.isEnabled||!m.domEvent.shiftKey)return;const _=u.getAnchorCell()||i.getTableCellsContainingSelection(w)[0];if(!_)return;const E=this._getModelTableCellFromDomEvent(m);E&&ZD(_,E)&&(a=!0,u.setCellSelection(_,E),m.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{a=!1}),this.listenTo(e.editing.view.document,"selectionChange",f=>{a&&f.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let i,a,u=!1,f=!1;const m=e.plugins.get(fh);this.listenTo(e.editing.view.document,"mousedown",(w,_)=>{this.isEnabled&&m.isEnabled&&(_.domEvent.shiftKey||_.domEvent.ctrlKey||_.domEvent.altKey||(i=this._getModelTableCellFromDomEvent(_)))}),this.listenTo(e.editing.view.document,"mousemove",(w,_)=>{if(!_.domEvent.buttons||!i)return;const E=this._getModelTableCellFromDomEvent(_);E&&ZD(i,E)&&(a=E,u||a==i||(u=!0)),u&&(f=!0,m.setCellSelection(i,a),_.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{u=!1,f=!1,i=null,a=null}),this.listenTo(e.editing.view.document,"selectionChange",w=>{f&&w.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const i=e.target,a=this.editor.editing.view.createPositionAt(i,0);return this.editor.editing.mapper.toModelPosition(a).parent.findAncestor("tableCell",{includeSelf:!0})}}function ZD(c,e){return c.parent.parent==e.parent.parent}var XD=s(2329),iW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(XD.A,iW),XD.A.locals;function oW(c){const e=c.getSelectedElement();return e&&eI(e)?e:null}function sW(c){const e=c.getFirstPosition();if(!e)return null;let i=e.parent;for(;i;){if(i.is("element")&&eI(i))return i;i=i.parent}return null}function eI(c){return!!c.getCustomProperty("table")&&Si(c)}var tI=s(5506),aW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(tI.A,aW),tI.A.locals;var nI=s(2655),lW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(nI.A,lW),nI.A.locals;var rI=s(4043),cW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(rI.A,cW),rI.A.locals;var iI=s(1623),uW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(iI.A,uW),iI.A.locals;var oI=s(8986),dW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(oI.A,dW),oI.A.locals;const ph=ks.defaultPositions;ph.northArrowSouth,ph.northArrowSouthWest,ph.northArrowSouthEast,ph.southArrowNorth,ph.southArrowNorthWest,ph.southArrowNorthEast,ph.viewportStickyNorth;var sI=s(5562),hW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(sI.A,hW),sI.A.locals;var aI=s(4143),fW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(aI.A,fW),aI.A.locals;var lI=s(8795),pW={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};et()(lI.A,pW),lI.A.locals;var mW=Object.defineProperty,cI=Object.getOwnPropertySymbols,gW=Object.prototype.hasOwnProperty,bW=Object.prototype.propertyIsEnumerable,uI=(c,e,i)=>e in c?mW(c,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[e]=i,dI=(c,e)=>{for(var i in e||(e={}))gW.call(e,i)&&uI(c,i,e[i]);if(cI)for(var i of cI(e))bW.call(e,i)&&uI(c,i,e[i]);return c};const kW={autoRefresh:!0},hI=36e5;class kv extends Ue(){constructor(e,i={}){if(super(),!e)throw new N("token-missing-token-url",this);i.initValue&&this._validateTokenValue(i.initValue),this.set("value",i.initValue),this._refresh=typeof e=="function"?e:()=>{return a=e,new Promise((u,f)=>{const m=new XMLHttpRequest;m.open("GET",a),m.addEventListener("load",()=>{const w=m.status,_=m.response;return w<200||w>299?f(new N("token-cannot-download-new-token",null)):u(_)}),m.addEventListener("error",()=>f(new Error("Network Error"))),m.addEventListener("abort",()=>f(new Error("Abort"))),m.send()});var a},this._options=dI(dI({},kW),i)}init(){return new Promise((e,i)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(i)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const i=typeof e=="string",a=!/^".*"$/.test(e),u=i&&e.split(".").length===3;if(!a||!u)throw new N("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:i}=JSON.parse(atob(e));return i?Math.floor((1e3*i-Date.now())/2):hI}catch{return hI}}static create(e,i={}){return new kv(e,i).init()}}const wv=/^data:(\S*?);base64,/;class wW extends oe(){constructor(e,i,a){if(super(),!e)throw new N("fileuploader-missing-file",null);if(!i)throw new N("fileuploader-missing-token",null);if(!a)throw new N("fileuploader-missing-api-address",null);this.file=function(u){if(typeof u!="string")return!1;const f=u.match(wv);return!(!f||!f.length)}(e)?function(u,f=512){try{const m=u.match(wv)[1],w=atob(u.replace(wv,"")),_=[];for(let E=0;E<w.length;E+=f){const T=w.slice(E,E+f),O=new Array(T.length);for(let V=0;V<T.length;V++)O[V]=T.charCodeAt(V);_.push(new Uint8Array(O))}return new Blob(_,{type:m})}catch{throw new N("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=i,this._apiAddress=a}onProgress(e){return this.on("progress",(i,a)=>e(a)),this}onError(e){return this.once("error",(i,a)=>e(a)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,i=a=>()=>this.fire("error",a);e.addEventListener("error",i("Network Error")),e.addEventListener("abort",i("Abort")),e.upload&&e.upload.addEventListener("progress",a=>{a.lengthComputable&&this.fire("progress",{total:a.total,uploaded:a.loaded})}),e.addEventListener("load",()=>{const a=e.status,u=e.response;if(a<200||a>299)return this.fire("error",u.message||u.error)})}_sendRequest(){const e=new FormData,i=this.xhr;return e.append("file",this.file),new Promise((a,u)=>{i.addEventListener("load",()=>{const f=i.status,m=i.response;return f<200||f>299?m.message?u(new N("fileuploader-uploading-data-failed",this,{message:m.message})):u(m.error):a(m)}),i.addEventListener("error",()=>u(new Error("Network Error"))),i.addEventListener("abort",()=>u(new Error("Abort"))),i.send(e)})}}class yW{constructor(e,i){if(!e)throw new N("uploadgateway-missing-token",null);if(!i)throw new N("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=i}upload(e){return new wW(e,this._token,this._apiAddress)}}class vW extends li{static get pluginName(){return"CloudServicesCore"}createToken(e,i){return new kv(e,i)}createUploadGateway(e,i){return new yW(e,i)}}var fI=(c,e,i)=>new Promise((a,u)=>{var f=_=>{try{w(i.next(_))}catch(E){u(E)}},m=_=>{try{w(i.throw(_))}catch(E){u(E)}},w=_=>_.done?a(_.value):Promise.resolve(_.value).then(f,m);w((i=i.apply(c,e)).next())});class yv extends w0{}yv.builtinPlugins=[class extends ct{static get requires(){return[vF,jE,_0,UU,dU,rU,zE]}static get pluginName(){return"Essentials"}},class extends ct{static get requires(){return[cl]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const c=this.editor.config.get("ckfinder.uploadUrl");c&&(this.editor.plugins.get(cl).createUploadAdapter=e=>new XU(e,c,this.editor.t))}},class extends ct{static get requires(){return[Xc]}static get pluginName(){return"Autoformat"}afterInit(){const c=this.editor,e=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),c.accessibility.addKeystrokeInfos({keystrokes:[{label:e("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const c=this.editor.commands;c.get("bulletedList")&&Yu(this.editor,this,/^[*-]\s$/,"bulletedList"),c.get("numberedList")&&Yu(this.editor,this,/^1[.|)]\s$/,"numberedList"),c.get("todoList")&&Yu(this.editor,this,/^\[\s?\]\s$/,"todoList"),c.get("checkTodoList")&&Yu(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const c=this.editor.commands;if(c.get("bold")){const e=D0(this.editor,"bold");Ff(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),Ff(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(c.get("italic")){const e=D0(this.editor,"italic");Ff(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),Ff(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(c.get("code")){const e=D0(this.editor,"code");Ff(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(c.get("strikethrough")){const e=D0(this.editor,"strikethrough");Ff(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const c=this.editor.commands.get("heading");c&&c.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const i=e[7],a=new RegExp(`^(#{${i}})\\s$`);Yu(this.editor,this,a,()=>{if(!c.isEnabled||c.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Yu(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const c=this.editor,e=c.model.document.selection;c.commands.get("codeBlock")&&Yu(c,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Yu(this.editor,this,/^---$/,"horizontalLine")}},class extends ct{static get requires(){return[eq,tq]}static get pluginName(){return"Bold"}},class extends ct{static get requires(){return[rq,iq]}static get pluginName(){return"Italic"}},class extends ct{static get requires(){return[sq,lq]}static get pluginName(){return"BlockQuote"}},class extends ct{static get pluginName(){return"CKBox"}static get requires(){return[s3,cq]}},class extends ct{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",Oq,Mq]}},class extends li{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[vW]}init(){return fI(this,null,function*(){const c=this.context.config.get("cloudServices")||{};for(const[i,a]of Object.entries(c))this[i]=a;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(c){return fI(this,null,function*(){if(this._tokens.has(c))return this.getTokenFor(c);const e=this.context.plugins.get("CloudServicesCore"),i=yield e.createToken(c).init();return this._tokens.set(c,i),i})}getTokenFor(c){const e=this._tokens.get(c);if(!e)throw new N("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const c of this._tokens.values())c.destroy()}},class extends ct{static get pluginName(){return"EasyImage"}static get requires(){return[jq,"ImageUpload"]}init(){const c=this.editor;c.plugins.has("ImageBlockEditing")||c.plugins.has("ImageInlineEditing")||L("easy-image-image-feature-missing",c)}},class extends ct{static get requires(){return[zq,qq]}static get pluginName(){return"Heading"}},class extends ct{static get requires(){return[cV,dV]}static get pluginName(){return"Image"}},class extends ct{static get requires(){return[fV,pV]}static get pluginName(){return"ImageCaption"}},class extends ct{static get requires(){return[h4,RV]}static get pluginName(){return"ImageStyle"}},class extends ct{static get requires(){return[x0,ys]}static get pluginName(){return"ImageToolbar"}afterInit(){const c=this.editor,e=c.t,i=c.plugins.get(x0),a=c.plugins.get("ImageUtils");var u;i.register("image",{ariaLabel:e("Image toolbar"),items:(u=c.config.get("image.toolbar")||[],u.map(f=>ae(f)?f.name:f)),getRelatedElement:f=>a.getClosestSelectedImageWidget(f)})}},class extends ct{static get pluginName(){return"ImageUpload"}static get requires(){return[DV,bV,vV]}},class extends ct{static get pluginName(){return"Indent"}static get requires(){return[FV,zV]}},class extends ct{static get requires(){return[P4,m$,g$]}static get pluginName(){return"Link"}},z$,class extends ct{static get requires(){return[U0,Z$,K$,qm]}static get pluginName(){return"MediaEmbed"}},Hy,class extends ct{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Na]}init(){const c=this.editor,e=c.plugins.get("ClipboardPipeline"),i=c.editing.view.document,a=[],u=this.editor.plugins.has("MultiLevelList");a.push(new wH(i,u)),a.push(new vH(i)),a.push(new _H(i)),e.on("inputTransformation",(f,m)=>{if(m._isTransformedWithPasteFromOffice||c.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const w=m.dataTransfer.getData("text/html"),_=a.find(E=>E.isActive(w));_&&(m._parsedData||(m._parsedData=CH(w,i.stylesProcessor)),_.execute(m),m._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends ct{static get requires(){return[Gy,ys]}static get pluginName(){return"PictureEditing"}afterInit(){const c=this.editor;c.plugins.has("ImageBlockEditing")&&c.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),c.plugins.has("ImageInlineEditing")&&c.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const c=this.editor,e=c.conversion,i=c.plugins.get("ImageUtils");e.for("upcast").add(function(a){const u=["srcset","media","type","sizes"],f=(m,w,_)=>{const E=w.viewItem;if(!_.consumable.test(E,{name:!0}))return;const T=new Map;for(const K of E.getChildren())if(K.is("element","source")){const ee={};for(const se of u)K.hasAttribute(se)&&_.consumable.test(K,{attributes:se})&&(ee[se]=K.getAttribute(se));Object.keys(ee).length&&T.set(K,ee)}const O=a.findViewImgElement(E);if(!O)return;let V=w.modelCursor.parent;if(!V.is("element","imageBlock")){const K=_.convertItem(O,w.modelCursor);w.modelRange=K.modelRange,w.modelCursor=K.modelCursor,V=Bi(K.modelRange.getItems())}_.consumable.consume(E,{name:!0});for(const[K,ee]of T)_.consumable.consume(K,{attributes:Object.keys(ee)});T.size&&_.writer.setAttribute("sources",Array.from(T.values()),V),_.convertChildren(E,V)};return m=>{m.on("element:picture",f)}}(i)),e.for("downcast").add(function(a){const u=(f,m,w)=>{if(!w.consumable.consume(m.item,f.name))return;const _=w.writer,E=w.mapper.toViewElement(m.item),T=a.findViewImgElement(E),O=m.attributeNewValue;if(O&&O.length){const V=_.createContainerElement("picture",null,O.map(se=>_.createEmptyElement("source",se))),K=[];let ee=T.parent;for(;ee&&ee.is("attributeElement");){const se=ee.parent;_.unwrap(_.createRangeOn(T),ee),K.unshift(ee),ee=se}_.insert(_.createPositionBefore(T),V),_.move(_.createRangeOn(T),_.createPositionAt(V,"end"));for(const se of K)_.wrap(_.createRangeOn(V),se)}else if(T.parent.is("element","picture")){const V=T.parent;_.move(_.createRangeOn(T),_.createPositionBefore(V)),_.remove(V)}};return f=>{f.on("attribute:sources:imageBlock",u),f.on("attribute:sources:imageInline",u)}}(i))}_setupImageUploadEditingIntegration(){const c=this.editor;if(!c.plugins.has("ImageUploadEditing"))return;const e=c.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",(i,{imageElement:a,data:u})=>{const f=u.sources;f&&c.model.change(m=>{m.setAttributes({sources:f},a)})})}},class extends ct{static get requires(){return[KH,JH,fh,rW,tW,eW,qm]}static get pluginName(){return"Table"}},class extends ct{static get requires(){return[x0]}static get pluginName(){return"TableToolbar"}afterInit(){const c=this.editor,e=c.t,i=c.plugins.get(x0),a=c.config.get("table.contentToolbar"),u=c.config.get("table.tableToolbar");a&&i.register("tableContent",{ariaLabel:e("Table toolbar"),items:a,getRelatedElement:sW}),u&&i.register("table",{ariaLabel:e("Table toolbar"),items:u,getRelatedElement:oW})}},class extends ct{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(c){super(c),c.config.define("typing",{transformations:{include:iU}})}init(){const c=this.editor.model.document.selection;c.on("change:range",()=>{this.isEnabled=!c.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const c=this.editor,e=c.model,i=c.plugins.get("Delete"),a=function(f){const m=f.extra||[],w=f.remove||[],_=E=>!w.includes(E);return function(E){const T=new Set;for(const O of E)if(typeof O=="string"&&aE[O])for(const V of aE[O])T.add(V);else T.add(O);return Array.from(T)}(f.include.concat(m).filter(_)).filter(_).map(E=>typeof E=="string"&&sE[E]?sE[E]:E).filter(E=>typeof E=="object").map(E=>({from:oU(E.from),to:sU(E.to)}))}(c.config.get("typing.transformations")),u=new rE(c.model,f=>{for(const m of a)if(m.from.test(f))return{normalizedTransformation:m}});u.on("matched:data",(f,m)=>{if(!m.batch.isTyping)return;const{from:w,to:_}=m.normalizedTransformation,E=w.exec(m.text),T=_(E.slice(1)),O=m.range;let V=E.index;e.enqueueChange(K=>{for(let ee=1;ee<E.length;ee++){const se=E[ee],ke=T[ee-1];if(ke==null){V+=se.length;continue}const Ee=O.start.getShiftedBy(V),Le=e.createRange(Ee,Ee.getShiftedBy(se.length)),tt=aU(Ee);e.insertContent(K.createText(ke,tt),Le),V+=ke.length}e.enqueueChange(()=>{i.requestUndoOnBackspace()})})}),u.bind("isEnabled").to(this)}}],yv.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),l=l.default})())}(bg,bg.exports)),bg.exports}var OQ=PQ();const SO=bu(OQ),jQ=({content:t,onChange:r})=>{const n=(o,s)=>{const l=s.getData();r(l)};return A.jsx(xO.CKEditor,{editor:SO,data:t,onChange:n,config:{toolbar:["undo","redo","|","heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","insertTable","link","|"]}})},LQ=(t,r={enabled:!0,priority:"low"})=>{const n=Y.useCallback(o=>{!r.enabled||o.length===0||o.forEach((s,l)=>{if(!s||s.startsWith("data:"))return;const d=new Image;"loading"in d&&(d.loading="lazy");const h=r.priority==="low"?l*100:0;setTimeout(()=>{d.src=s,d.onload=()=>{console.log(`âœ… Preloaded image: ${s.substring(0,50)}...`)},d.onerror=p=>{console.error(`âŒ Failed to preload image: ${s}`,p),console.error("Image details:",{url:s,naturalWidth:d.naturalWidth,naturalHeight:d.naturalHeight,complete:d.complete})}},h)})},[r.enabled,r.priority]);return Y.useEffect(()=>{n(t)},[t,n]),{preloadImages:n}},EO=(t,r,n=!0)=>{const{preloadImages:o}=LQ([],{enabled:n,priority:"low"});Y.useEffect(()=>{var d,h;if(!n||!t.length)return;const s=[];if(r>0){const p=t[r-1];p!=null&&p.images&&s.push(...p.images.map(g=>g.url)),(d=p==null?void 0:p.subsections)==null||d.forEach(g=>{var b;g.images&&s.push(...g.images.map(v=>v.url)),(b=g==null?void 0:g.subSubsections)==null||b.forEach(v=>{v.images&&s.push(...v.images.map(y=>y.url))})})}if(r<t.length-1){const p=t[r+1];p!=null&&p.images&&s.push(...p.images.map(g=>g.url)),(h=p==null?void 0:p.subsections)==null||h.forEach(g=>{var b;g.images&&s.push(...g.images.map(v=>v.url)),(b=g==null?void 0:g.subSubsections)==null||b.forEach(v=>{v.images&&s.push(...v.images.map(y=>y.url))})})}const l=Array.from(new Set(s.filter(Boolean)));l.length>0&&(console.log(`Preloading ${l.length} images from adjacent sections`),o(l))},[t,r,n,o])},cT=({content:t,onChange:r})=>{const n=(o,s)=>{const l=s.getData();r(l)};return A.jsx(xO.CKEditor,{editor:SO,data:t,onChange:n,config:{toolbar:["heading","|","bold","italic","|","blockQuote","numberedList","bulletedList","|","link"]}})},BQ=({value:t,onChange:r})=>{const[n,o]=Y.useState([]),[s,l]=Y.useState(!0),{userDetails:d}=Pi();Y.useEffect(()=>{if(console.log("User Details in CourseDropdown:",d),d!=null&&d.classes){const p=Object.entries(d.classes).filter(([g,b])=>b.isCourseAdmin||d.isSuperAdmin).map(([g,b])=>({id:g,number:b.number,title:b.title}));console.log("Filtered Courses for Dropdown:",p),o(p)}else o([]);l(!1)},[d]);const h=n.some(p=>p.id===t);return s?A.jsx(Pe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:A.jsx(Rr,{})}):A.jsx(Jt,{select:!0,label:"Select Course",value:h?t:"",onChange:p=>r(p.target.value),fullWidth:!0,sx:{mb:2},error:!h&&t!=="",helperText:!h&&t!==""?"Invalid course selected":"",children:n.length>0?n.map(p=>A.jsxs(Nr,{value:p.id,children:[p.number," - ",p.title]},p.id)):A.jsx(Nr,{disabled:!0,children:"No courses available"})})};function Ft(t){const r=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&r==="[object Date]"?new t.constructor(+t):typeof t=="number"||r==="[object Number]"||typeof t=="string"||r==="[object String]"?new Date(t):new Date(NaN)}function pr(t,r){return t instanceof Date?new t.constructor(r):new Date(r)}function wl(t,r){const n=Ft(t);return isNaN(r)?pr(t,NaN):(r&&n.setDate(n.getDate()+r),n)}function yl(t,r){const n=Ft(t);if(isNaN(r))return pr(t,NaN);if(!r)return n;const o=n.getDate(),s=pr(t,n.getTime());s.setMonth(n.getMonth()+r+1,0);const l=s.getDate();return o>=l?s:(n.setFullYear(s.getFullYear(),s.getMonth(),o),n)}function rC(t,r){const n=+Ft(t);return pr(t,n+r)}const DO=6048e5,RQ=864e5,I1=6e4,T1=36e5,FQ=1e3;function zQ(t,r){return rC(t,r*T1)}let UQ={};function Xh(){return UQ}function fu(t,r){var h,p,g,b;const n=Xh(),o=(r==null?void 0:r.weekStartsOn)??((p=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((b=(g=n.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??0,s=Ft(t),l=s.getDay(),d=(l<o?7:0)+l-o;return s.setDate(s.getDate()-d),s.setHours(0,0,0,0),s}function Ip(t){return fu(t,{weekStartsOn:1})}function IO(t){const r=Ft(t),n=r.getFullYear(),o=pr(t,0);o.setFullYear(n+1,0,4),o.setHours(0,0,0,0);const s=Ip(o),l=pr(t,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const d=Ip(l);return r.getTime()>=s.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function $h(t){const r=Ft(t);return r.setHours(0,0,0,0),r}function Wk(t){const r=Ft(t),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+t-+n}function Tp(t,r){const n=$h(t),o=$h(r),s=+n-Wk(n),l=+o-Wk(o);return Math.round((s-l)/RQ)}function qQ(t){const r=IO(t),n=pr(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Ip(n)}function qA(t,r){return rC(t,r*I1)}function iC(t,r){const n=r*3;return yl(t,n)}function VQ(t,r){return rC(t,r*1e3)}function Gk(t,r){const n=r*7;return wl(t,n)}function cu(t,r){return yl(t,r*12)}function uT(t){let r;return t.forEach(function(n){const o=Ft(n);(r===void 0||r<o||isNaN(Number(o)))&&(r=o)}),r||new Date(NaN)}function dT(t){let r;return t.forEach(n=>{const o=Ft(n);(!r||r>o||isNaN(+o))&&(r=o)}),r||new Date(NaN)}function $Q(t,r){const n=$h(t),o=$h(r);return+n==+o}function uu(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Yk(t){if(!uu(t)&&typeof t!="number")return!1;const r=Ft(t);return!isNaN(Number(r))}function Kk(t,r){const n=Ft(t),o=Ft(r),s=n.getFullYear()-o.getFullYear(),l=n.getMonth()-o.getMonth();return s*12+l}function Oh(t){const r=Ft(t);return Math.trunc(r.getMonth()/3)+1}function Qk(t,r){const n=Ft(t),o=Ft(r),s=n.getFullYear()-o.getFullYear(),l=Oh(n)-Oh(o);return s*4+l}function Jk(t,r){const n=Ft(t),o=Ft(r);return n.getFullYear()-o.getFullYear()}function HQ(t,r){const n=Ft(t),o=Ft(r),s=hT(n,o),l=Math.abs(Tp(n,o));n.setDate(n.getDate()-s*l);const d=+(hT(n,o)===-s),h=s*(l-d);return h===0?0:h}function hT(t,r){const n=t.getFullYear()-r.getFullYear()||t.getMonth()-r.getMonth()||t.getDate()-r.getDate()||t.getHours()-r.getHours()||t.getMinutes()-r.getMinutes()||t.getSeconds()-r.getSeconds()||t.getMilliseconds()-r.getMilliseconds();return n<0?-1:n>0?1:n}function TO(t){const r=Ft(t);return r.setHours(23,59,59,999),r}function NO(t){const r=Ft(t),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function VA(t){const r=Ft(t),n=r.getMonth(),o=n-n%3;return r.setMonth(o,1),r.setHours(0,0,0,0),r}function MO(t){const r=Ft(t);return r.setDate(1),r.setHours(0,0,0,0),r}function PO(t){const r=Ft(t),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function N1(t){const r=Ft(t),n=pr(t,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}function WQ(t,r){var h,p;const n=Xh(),o=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,s=Ft(t),l=s.getDay(),d=(l<o?-7:0)+6-(l-o);return s.setDate(s.getDate()+d),s.setHours(23,59,59,999),s}const GQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},YQ=(t,r,n)=>{let o;const s=GQ[t];return typeof s=="string"?o=s:r===1?o=s.one:o=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+o:o+" ago":o};function Iv(t){return(r={})=>{const n=r.width?String(r.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const KQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},QQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},JQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ZQ={date:Iv({formats:KQ,defaultWidth:"full"}),time:Iv({formats:QQ,defaultWidth:"full"}),dateTime:Iv({formats:JQ,defaultWidth:"full"})},XQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eJ=(t,r,n,o)=>XQ[t];function Qm(t){return(r,n)=>{const o=n!=null&&n.context?String(n.context):"standalone";let s;if(o==="formatting"&&t.formattingValues){const d=t.defaultFormattingWidth||t.defaultWidth,h=n!=null&&n.width?String(n.width):d;s=t.formattingValues[h]||t.formattingValues[d]}else{const d=t.defaultWidth,h=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[h]||t.values[d]}const l=t.argumentCallback?t.argumentCallback(r):r;return s[l]}}const tJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},aJ=(t,r)=>{const n=Number(t),o=n%100;if(o>20||o<10)switch(o%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},lJ={ordinalNumber:aJ,era:Qm({values:tJ,defaultWidth:"wide"}),quarter:Qm({values:nJ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Qm({values:rJ,defaultWidth:"wide"}),day:Qm({values:iJ,defaultWidth:"wide"}),dayPeriod:Qm({values:oJ,defaultWidth:"wide",formattingValues:sJ,defaultFormattingWidth:"wide"})};function Jm(t){return(r,n={})=>{const o=n.width,s=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],l=r.match(s);if(!l)return null;const d=l[0],h=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth],p=Array.isArray(h)?uJ(h,v=>v.test(d)):cJ(h,v=>v.test(d));let g;g=t.valueCallback?t.valueCallback(p):p,g=n.valueCallback?n.valueCallback(g):g;const b=r.slice(d.length);return{value:g,rest:b}}}function cJ(t,r){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r(t[n]))return n}function uJ(t,r){for(let n=0;n<t.length;n++)if(r(t[n]))return n}function dJ(t){return(r,n={})=>{const o=r.match(t.matchPattern);if(!o)return null;const s=o[0],l=r.match(t.parsePattern);if(!l)return null;let d=t.valueCallback?t.valueCallback(l[0]):l[0];d=n.valueCallback?n.valueCallback(d):d;const h=r.slice(s.length);return{value:d,rest:h}}}const hJ=/^(\d+)(th|st|nd|rd)?/i,fJ=/\d+/i,pJ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mJ={any:[/^b/i,/^(a|c)/i]},gJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bJ={any:[/1/i,/2/i,/3/i,/4/i]},kJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yJ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vJ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},AJ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_J={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},CJ={ordinalNumber:dJ({matchPattern:hJ,parsePattern:fJ,valueCallback:t=>parseInt(t,10)}),era:Jm({matchPatterns:pJ,defaultMatchWidth:"wide",parsePatterns:mJ,defaultParseWidth:"any"}),quarter:Jm({matchPatterns:gJ,defaultMatchWidth:"wide",parsePatterns:bJ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Jm({matchPatterns:kJ,defaultMatchWidth:"wide",parsePatterns:wJ,defaultParseWidth:"any"}),day:Jm({matchPatterns:yJ,defaultMatchWidth:"wide",parsePatterns:vJ,defaultParseWidth:"any"}),dayPeriod:Jm({matchPatterns:AJ,defaultMatchWidth:"any",parsePatterns:_J,defaultParseWidth:"any"})},OO={code:"en-US",formatDistance:YQ,formatLong:ZQ,formatRelative:eJ,localize:lJ,match:CJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xJ(t){const r=Ft(t);return Tp(r,N1(r))+1}function oC(t){const r=Ft(t),n=+Ip(r)-+qQ(r);return Math.round(n/DO)+1}function sC(t,r){var b,v,y,k;const n=Ft(t),o=n.getFullYear(),s=Xh(),l=(r==null?void 0:r.firstWeekContainsDate)??((v=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:v.firstWeekContainsDate)??s.firstWeekContainsDate??((k=(y=s.locale)==null?void 0:y.options)==null?void 0:k.firstWeekContainsDate)??1,d=pr(t,0);d.setFullYear(o+1,0,l),d.setHours(0,0,0,0);const h=fu(d,r),p=pr(t,0);p.setFullYear(o,0,l),p.setHours(0,0,0,0);const g=fu(p,r);return n.getTime()>=h.getTime()?o+1:n.getTime()>=g.getTime()?o:o-1}function SJ(t,r){var h,p,g,b;const n=Xh(),o=(r==null?void 0:r.firstWeekContainsDate)??((p=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((b=(g=n.locale)==null?void 0:g.options)==null?void 0:b.firstWeekContainsDate)??1,s=sC(t,r),l=pr(t,0);return l.setFullYear(s,0,o),l.setHours(0,0,0,0),fu(l,r)}function jO(t,r){const n=Ft(t),o=+fu(n,r)-+SJ(n,r);return Math.round(o/DO)+1}function fr(t,r){const n=t<0?"-":"",o=Math.abs(t).toString().padStart(r,"0");return n+o}const Qu={y(t,r){const n=t.getFullYear(),o=n>0?n:1-n;return fr(r==="yy"?o%100:o,r.length)},M(t,r){const n=t.getMonth();return r==="M"?String(n+1):fr(n+1,2)},d(t,r){return fr(t.getDate(),r.length)},a(t,r){const n=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,r){return fr(t.getHours()%12||12,r.length)},H(t,r){return fr(t.getHours(),r.length)},m(t,r){return fr(t.getMinutes(),r.length)},s(t,r){return fr(t.getSeconds(),r.length)},S(t,r){const n=r.length,o=t.getMilliseconds(),s=Math.trunc(o*Math.pow(10,n-3));return fr(s,r.length)}},Gf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fT={G:function(t,r,n){const o=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(o,{width:"abbreviated"});case"GGGGG":return n.era(o,{width:"narrow"});case"GGGG":default:return n.era(o,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){const o=t.getFullYear(),s=o>0?o:1-o;return n.ordinalNumber(s,{unit:"year"})}return Qu.y(t,r)},Y:function(t,r,n,o){const s=sC(t,o),l=s>0?s:1-s;if(r==="YY"){const d=l%100;return fr(d,2)}return r==="Yo"?n.ordinalNumber(l,{unit:"year"}):fr(l,r.length)},R:function(t,r){const n=IO(t);return fr(n,r.length)},u:function(t,r){const n=t.getFullYear();return fr(n,r.length)},Q:function(t,r,n){const o=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return fr(o,2);case"Qo":return n.ordinalNumber(o,{unit:"quarter"});case"QQQ":return n.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,r,n){const o=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return fr(o,2);case"qo":return n.ordinalNumber(o,{unit:"quarter"});case"qqq":return n.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,r,n){const o=t.getMonth();switch(r){case"M":case"MM":return Qu.M(t,r);case"Mo":return n.ordinalNumber(o+1,{unit:"month"});case"MMM":return n.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(o,{width:"wide",context:"formatting"})}},L:function(t,r,n){const o=t.getMonth();switch(r){case"L":return String(o+1);case"LL":return fr(o+1,2);case"Lo":return n.ordinalNumber(o+1,{unit:"month"});case"LLL":return n.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(o,{width:"wide",context:"standalone"})}},w:function(t,r,n,o){const s=jO(t,o);return r==="wo"?n.ordinalNumber(s,{unit:"week"}):fr(s,r.length)},I:function(t,r,n){const o=oC(t);return r==="Io"?n.ordinalNumber(o,{unit:"week"}):fr(o,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Qu.d(t,r)},D:function(t,r,n){const o=xJ(t);return r==="Do"?n.ordinalNumber(o,{unit:"dayOfYear"}):fr(o,r.length)},E:function(t,r,n){const o=t.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(o,{width:"short",context:"formatting"});case"EEEE":default:return n.day(o,{width:"wide",context:"formatting"})}},e:function(t,r,n,o){const s=t.getDay(),l=(s-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(l);case"ee":return fr(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,r,n,o){const s=t.getDay(),l=(s-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(l);case"cc":return fr(l,r.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,r,n){const o=t.getDay(),s=o===0?7:o;switch(r){case"i":return String(s);case"ii":return fr(s,r.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(o,{width:"short",context:"formatting"});case"iiii":default:return n.day(o,{width:"wide",context:"formatting"})}},a:function(t,r,n){const s=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,r,n){const o=t.getHours();let s;switch(o===12?s=Gf.noon:o===0?s=Gf.midnight:s=o/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,r,n){const o=t.getHours();let s;switch(o>=17?s=Gf.evening:o>=12?s=Gf.afternoon:o>=4?s=Gf.morning:s=Gf.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){let o=t.getHours()%12;return o===0&&(o=12),n.ordinalNumber(o,{unit:"hour"})}return Qu.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Qu.H(t,r)},K:function(t,r,n){const o=t.getHours()%12;return r==="Ko"?n.ordinalNumber(o,{unit:"hour"}):fr(o,r.length)},k:function(t,r,n){let o=t.getHours();return o===0&&(o=24),r==="ko"?n.ordinalNumber(o,{unit:"hour"}):fr(o,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Qu.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Qu.s(t,r)},S:function(t,r){return Qu.S(t,r)},X:function(t,r,n){const o=t.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return mT(o);case"XXXX":case"XX":return wh(o);case"XXXXX":case"XXX":default:return wh(o,":")}},x:function(t,r,n){const o=t.getTimezoneOffset();switch(r){case"x":return mT(o);case"xxxx":case"xx":return wh(o);case"xxxxx":case"xxx":default:return wh(o,":")}},O:function(t,r,n){const o=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+pT(o,":");case"OOOO":default:return"GMT"+wh(o,":")}},z:function(t,r,n){const o=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+pT(o,":");case"zzzz":default:return"GMT"+wh(o,":")}},t:function(t,r,n){const o=Math.trunc(t.getTime()/1e3);return fr(o,r.length)},T:function(t,r,n){const o=t.getTime();return fr(o,r.length)}};function pT(t,r=""){const n=t>0?"-":"+",o=Math.abs(t),s=Math.trunc(o/60),l=o%60;return l===0?n+String(s):n+String(s)+r+fr(l,2)}function mT(t,r){return t%60===0?(t>0?"-":"+")+fr(Math.abs(t)/60,2):wh(t,r)}function wh(t,r=""){const n=t>0?"-":"+",o=Math.abs(t),s=fr(Math.trunc(o/60),2),l=fr(o%60,2);return n+s+r+l}const gT=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},LO=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},EJ=(t,r)=>{const n=t.match(/(P+)(p+)?/)||[],o=n[1],s=n[2];if(!s)return gT(t,r);let l;switch(o){case"P":l=r.dateTime({width:"short"});break;case"PP":l=r.dateTime({width:"medium"});break;case"PPP":l=r.dateTime({width:"long"});break;case"PPPP":default:l=r.dateTime({width:"full"});break}return l.replace("{{date}}",gT(o,r)).replace("{{time}}",LO(s,r))},Zk={p:LO,P:EJ},DJ=/^D+$/,IJ=/^Y+$/,TJ=["D","DD","YY","YYYY"];function BO(t){return DJ.test(t)}function RO(t){return IJ.test(t)}function $A(t,r,n){const o=NJ(t,r,n);if(console.warn(o),TJ.includes(t))throw new RangeError(o)}function NJ(t,r,n){const o=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${o} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const MJ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PJ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,OJ=/^'([^]*?)'?$/,jJ=/''/g,LJ=/[a-zA-Z]/;function bT(t,r,n){var b,v,y,k,x,C,D,S;const o=Xh(),s=(n==null?void 0:n.locale)??o.locale??OO,l=(n==null?void 0:n.firstWeekContainsDate)??((v=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:v.firstWeekContainsDate)??o.firstWeekContainsDate??((k=(y=o.locale)==null?void 0:y.options)==null?void 0:k.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((C=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:C.weekStartsOn)??o.weekStartsOn??((S=(D=o.locale)==null?void 0:D.options)==null?void 0:S.weekStartsOn)??0,h=Ft(t);if(!Yk(h))throw new RangeError("Invalid time value");let p=r.match(PJ).map(M=>{const P=M[0];if(P==="p"||P==="P"){const B=Zk[P];return B(M,s.formatLong)}return M}).join("").match(MJ).map(M=>{if(M==="''")return{isToken:!1,value:"'"};const P=M[0];if(P==="'")return{isToken:!1,value:BJ(M)};if(fT[P])return{isToken:!0,value:M};if(P.match(LJ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return{isToken:!1,value:M}});s.localize.preprocessor&&(p=s.localize.preprocessor(h,p));const g={firstWeekContainsDate:l,weekStartsOn:d,locale:s};return p.map(M=>{if(!M.isToken)return M.value;const P=M.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&RO(P)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&BO(P))&&$A(P,r,String(t));const B=fT[P[0]];return B(h,P,s.localize,g)}).join("")}function BJ(t){const r=t.match(OJ);return r?r[1].replace(jJ,"'"):t}function kT(t){return Ft(t).getDate()}function RJ(t){return Ft(t).getDay()}function FJ(t){const r=Ft(t),n=r.getFullYear(),o=r.getMonth(),s=pr(t,0);return s.setFullYear(n,o+1,0),s.setHours(0,0,0,0),s.getDate()}function zJ(){return Object.assign({},Xh())}function mc(t){return Ft(t).getHours()}function UJ(t){let n=Ft(t).getDay();return n===0&&(n=7),n}function gc(t){return Ft(t).getMinutes()}function ss(t){return Ft(t).getMonth()}function du(t){return Ft(t).getSeconds()}function HA(t){return Ft(t).getTime()}function Nn(t){return Ft(t).getFullYear()}function md(t,r){const n=Ft(t),o=Ft(r);return n.getTime()>o.getTime()}function Hh(t,r){const n=Ft(t),o=Ft(r);return+n<+o}function qJ(t,r){const n=Ft(t),o=Ft(r);return+n==+o}function VJ(t,r){const n=r instanceof Date?pr(r,0):new r(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}const $J=10;class FO{constructor(){bt(this,"subPriority",0)}validate(r,n){return!0}}class HJ extends FO{constructor(r,n,o,s,l){super(),this.value=r,this.validateValue=n,this.setValue=o,this.priority=s,l&&(this.subPriority=l)}validate(r,n){return this.validateValue(r,this.value,n)}set(r,n,o){return this.setValue(r,n,this.value,o)}}class WJ extends FO{constructor(){super(...arguments);bt(this,"priority",$J);bt(this,"subPriority",-1)}set(n,o){return o.timestampIsSet?n:pr(n,VJ(n,Date))}}let ir=class{run(r,n,o,s){const l=this.parse(r,n,o,s);return l?{setter:new HJ(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(r,n,o){return!0}};class GJ extends ir{constructor(){super(...arguments);bt(this,"priority",140);bt(this,"incompatibleTokens",["R","u","t","T"])}parse(n,o,s){switch(o){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})||s.era(n,{width:"abbreviated"})||s.era(n,{width:"narrow"})}}set(n,o,s){return o.era=s,n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}const Ti={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},lc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ni(t,r){return t&&{value:r(t.value),rest:t.rest}}function ri(t,r){const n=r.match(t);return n?{value:parseInt(n[0],10),rest:r.slice(n[0].length)}:null}function cc(t,r){const n=r.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:r.slice(1)};const o=n[1]==="+"?1:-1,s=n[2]?parseInt(n[2],10):0,l=n[3]?parseInt(n[3],10):0,d=n[5]?parseInt(n[5],10):0;return{value:o*(s*T1+l*I1+d*FQ),rest:r.slice(n[0].length)}}function zO(t){return ri(Ti.anyDigitsSigned,t)}function ki(t,r){switch(t){case 1:return ri(Ti.singleDigit,r);case 2:return ri(Ti.twoDigits,r);case 3:return ri(Ti.threeDigits,r);case 4:return ri(Ti.fourDigits,r);default:return ri(new RegExp("^\\d{1,"+t+"}"),r)}}function Xk(t,r){switch(t){case 1:return ri(Ti.singleDigitSigned,r);case 2:return ri(Ti.twoDigitsSigned,r);case 3:return ri(Ti.threeDigitsSigned,r);case 4:return ri(Ti.fourDigitsSigned,r);default:return ri(new RegExp("^-?\\d{1,"+t+"}"),r)}}function aC(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function UO(t,r){const n=r>0,o=n?r:1-r;let s;if(o<=50)s=t||100;else{const l=o+50,d=Math.trunc(l/100)*100,h=t>=l%100;s=t+d-(h?100:0)}return n?s:1-s}function qO(t){return t%400===0||t%4===0&&t%100!==0}class YJ extends ir{constructor(){super(...arguments);bt(this,"priority",130);bt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,o,s){const l=d=>({year:d,isTwoDigitYear:o==="yy"});switch(o){case"y":return Ni(ki(4,n),l);case"yo":return Ni(s.ordinalNumber(n,{unit:"year"}),l);default:return Ni(ki(o.length,n),l)}}validate(n,o){return o.isTwoDigitYear||o.year>0}set(n,o,s){const l=n.getFullYear();if(s.isTwoDigitYear){const h=UO(s.year,l);return n.setFullYear(h,0,1),n.setHours(0,0,0,0),n}const d=!("era"in o)||o.era===1?s.year:1-s.year;return n.setFullYear(d,0,1),n.setHours(0,0,0,0),n}}class KJ extends ir{constructor(){super(...arguments);bt(this,"priority",130);bt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,o,s){const l=d=>({year:d,isTwoDigitYear:o==="YY"});switch(o){case"Y":return Ni(ki(4,n),l);case"Yo":return Ni(s.ordinalNumber(n,{unit:"year"}),l);default:return Ni(ki(o.length,n),l)}}validate(n,o){return o.isTwoDigitYear||o.year>0}set(n,o,s,l){const d=sC(n,l);if(s.isTwoDigitYear){const p=UO(s.year,d);return n.setFullYear(p,0,l.firstWeekContainsDate),n.setHours(0,0,0,0),fu(n,l)}const h=!("era"in o)||o.era===1?s.year:1-s.year;return n.setFullYear(h,0,l.firstWeekContainsDate),n.setHours(0,0,0,0),fu(n,l)}}class QJ extends ir{constructor(){super(...arguments);bt(this,"priority",130);bt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,o){return Xk(o==="R"?4:o.length,n)}set(n,o,s){const l=pr(n,0);return l.setFullYear(s,0,4),l.setHours(0,0,0,0),Ip(l)}}class JJ extends ir{constructor(){super(...arguments);bt(this,"priority",130);bt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,o){return Xk(o==="u"?4:o.length,n)}set(n,o,s){return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}}class ZJ extends ir{constructor(){super(...arguments);bt(this,"priority",120);bt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,o,s){switch(o){case"Q":case"QQ":return ki(o.length,n);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})||s.quarter(n,{width:"abbreviated",context:"formatting"})||s.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=1&&o<=4}set(n,o,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class XJ extends ir{constructor(){super(...arguments);bt(this,"priority",120);bt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,o,s){switch(o){case"q":case"qq":return ki(o.length,n);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})||s.quarter(n,{width:"abbreviated",context:"standalone"})||s.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,o){return o>=1&&o<=4}set(n,o,s){return n.setMonth((s-1)*3,1),n.setHours(0,0,0,0),n}}class eZ extends ir{constructor(){super(...arguments);bt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);bt(this,"priority",110)}parse(n,o,s){const l=d=>d-1;switch(o){case"M":return Ni(ri(Ti.month,n),l);case"MM":return Ni(ki(2,n),l);case"Mo":return Ni(s.ordinalNumber(n,{unit:"month"}),l);case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})||s.month(n,{width:"abbreviated",context:"formatting"})||s.month(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=0&&o<=11}set(n,o,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}class tZ extends ir{constructor(){super(...arguments);bt(this,"priority",110);bt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,o,s){const l=d=>d-1;switch(o){case"L":return Ni(ri(Ti.month,n),l);case"LL":return Ni(ki(2,n),l);case"Lo":return Ni(s.ordinalNumber(n,{unit:"month"}),l);case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})||s.month(n,{width:"abbreviated",context:"standalone"})||s.month(n,{width:"narrow",context:"standalone"})}}validate(n,o){return o>=0&&o<=11}set(n,o,s){return n.setMonth(s,1),n.setHours(0,0,0,0),n}}function nZ(t,r,n){const o=Ft(t),s=jO(o,n)-r;return o.setDate(o.getDate()-s*7),o}class rZ extends ir{constructor(){super(...arguments);bt(this,"priority",100);bt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,o,s){switch(o){case"w":return ri(Ti.week,n);case"wo":return s.ordinalNumber(n,{unit:"week"});default:return ki(o.length,n)}}validate(n,o){return o>=1&&o<=53}set(n,o,s,l){return fu(nZ(n,s,l),l)}}function iZ(t,r){const n=Ft(t),o=oC(n)-r;return n.setDate(n.getDate()-o*7),n}class oZ extends ir{constructor(){super(...arguments);bt(this,"priority",100);bt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,o,s){switch(o){case"I":return ri(Ti.week,n);case"Io":return s.ordinalNumber(n,{unit:"week"});default:return ki(o.length,n)}}validate(n,o){return o>=1&&o<=53}set(n,o,s){return Ip(iZ(n,s))}}const sZ=[31,28,31,30,31,30,31,31,30,31,30,31],aZ=[31,29,31,30,31,30,31,31,30,31,30,31];class lZ extends ir{constructor(){super(...arguments);bt(this,"priority",90);bt(this,"subPriority",1);bt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,o,s){switch(o){case"d":return ri(Ti.date,n);case"do":return s.ordinalNumber(n,{unit:"date"});default:return ki(o.length,n)}}validate(n,o){const s=n.getFullYear(),l=qO(s),d=n.getMonth();return l?o>=1&&o<=aZ[d]:o>=1&&o<=sZ[d]}set(n,o,s){return n.setDate(s),n.setHours(0,0,0,0),n}}class cZ extends ir{constructor(){super(...arguments);bt(this,"priority",90);bt(this,"subpriority",1);bt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,o,s){switch(o){case"D":case"DD":return ri(Ti.dayOfYear,n);case"Do":return s.ordinalNumber(n,{unit:"date"});default:return ki(o.length,n)}}validate(n,o){const s=n.getFullYear();return qO(s)?o>=1&&o<=366:o>=1&&o<=365}set(n,o,s){return n.setMonth(0,s),n.setHours(0,0,0,0),n}}function lC(t,r,n){var v,y,k,x;const o=Xh(),s=(n==null?void 0:n.weekStartsOn)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??o.weekStartsOn??((x=(k=o.locale)==null?void 0:k.options)==null?void 0:x.weekStartsOn)??0,l=Ft(t),d=l.getDay(),p=(r%7+7)%7,g=7-s,b=r<0||r>6?r-(d+g)%7:(p+g)%7-(d+g)%7;return wl(l,b)}class uZ extends ir{constructor(){super(...arguments);bt(this,"priority",90);bt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,o,s){switch(o){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=0&&o<=6}set(n,o,s,l){return n=lC(n,s,l),n.setHours(0,0,0,0),n}}class dZ extends ir{constructor(){super(...arguments);bt(this,"priority",90);bt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,o,s,l){const d=h=>{const p=Math.floor((h-1)/7)*7;return(h+l.weekStartsOn+6)%7+p};switch(o){case"e":case"ee":return Ni(ki(o.length,n),d);case"eo":return Ni(s.ordinalNumber(n,{unit:"day"}),d);case"eee":return s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeeee":return s.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"})}}validate(n,o){return o>=0&&o<=6}set(n,o,s,l){return n=lC(n,s,l),n.setHours(0,0,0,0),n}}class hZ extends ir{constructor(){super(...arguments);bt(this,"priority",90);bt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,o,s,l){const d=h=>{const p=Math.floor((h-1)/7)*7;return(h+l.weekStartsOn+6)%7+p};switch(o){case"c":case"cc":return Ni(ki(o.length,n),d);case"co":return Ni(s.ordinalNumber(n,{unit:"day"}),d);case"ccc":return s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"ccccc":return s.day(n,{width:"narrow",context:"standalone"});case"cccccc":return s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(n,{width:"wide",context:"standalone"})||s.day(n,{width:"abbreviated",context:"standalone"})||s.day(n,{width:"short",context:"standalone"})||s.day(n,{width:"narrow",context:"standalone"})}}validate(n,o){return o>=0&&o<=6}set(n,o,s,l){return n=lC(n,s,l),n.setHours(0,0,0,0),n}}function fZ(t,r){const n=Ft(t),o=UJ(n),s=r-o;return wl(n,s)}class pZ extends ir{constructor(){super(...arguments);bt(this,"priority",90);bt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,o,s){const l=d=>d===0?7:d;switch(o){case"i":case"ii":return ki(o.length,n);case"io":return s.ordinalNumber(n,{unit:"day"});case"iii":return Ni(s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),l);case"iiiii":return Ni(s.day(n,{width:"narrow",context:"formatting"}),l);case"iiiiii":return Ni(s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),l);case"iiii":default:return Ni(s.day(n,{width:"wide",context:"formatting"})||s.day(n,{width:"abbreviated",context:"formatting"})||s.day(n,{width:"short",context:"formatting"})||s.day(n,{width:"narrow",context:"formatting"}),l)}}validate(n,o){return o>=1&&o<=7}set(n,o,s){return n=fZ(n,s),n.setHours(0,0,0,0),n}}class mZ extends ir{constructor(){super(...arguments);bt(this,"priority",80);bt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,o,s){switch(o){case"a":case"aa":case"aaa":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,o,s){return n.setHours(aC(s),0,0,0),n}}class gZ extends ir{constructor(){super(...arguments);bt(this,"priority",80);bt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,o,s){switch(o){case"b":case"bb":case"bbb":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,o,s){return n.setHours(aC(s),0,0,0),n}}class bZ extends ir{constructor(){super(...arguments);bt(this,"priority",80);bt(this,"incompatibleTokens",["a","b","t","T"])}parse(n,o,s){switch(o){case"B":case"BB":case"BBB":return s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(n,{width:"wide",context:"formatting"})||s.dayPeriod(n,{width:"abbreviated",context:"formatting"})||s.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,o,s){return n.setHours(aC(s),0,0,0),n}}class kZ extends ir{constructor(){super(...arguments);bt(this,"priority",70);bt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,o,s){switch(o){case"h":return ri(Ti.hour12h,n);case"ho":return s.ordinalNumber(n,{unit:"hour"});default:return ki(o.length,n)}}validate(n,o){return o>=1&&o<=12}set(n,o,s){const l=n.getHours()>=12;return l&&s<12?n.setHours(s+12,0,0,0):!l&&s===12?n.setHours(0,0,0,0):n.setHours(s,0,0,0),n}}class wZ extends ir{constructor(){super(...arguments);bt(this,"priority",70);bt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,o,s){switch(o){case"H":return ri(Ti.hour23h,n);case"Ho":return s.ordinalNumber(n,{unit:"hour"});default:return ki(o.length,n)}}validate(n,o){return o>=0&&o<=23}set(n,o,s){return n.setHours(s,0,0,0),n}}class yZ extends ir{constructor(){super(...arguments);bt(this,"priority",70);bt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,o,s){switch(o){case"K":return ri(Ti.hour11h,n);case"Ko":return s.ordinalNumber(n,{unit:"hour"});default:return ki(o.length,n)}}validate(n,o){return o>=0&&o<=11}set(n,o,s){return n.getHours()>=12&&s<12?n.setHours(s+12,0,0,0):n.setHours(s,0,0,0),n}}class vZ extends ir{constructor(){super(...arguments);bt(this,"priority",70);bt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,o,s){switch(o){case"k":return ri(Ti.hour24h,n);case"ko":return s.ordinalNumber(n,{unit:"hour"});default:return ki(o.length,n)}}validate(n,o){return o>=1&&o<=24}set(n,o,s){const l=s<=24?s%24:s;return n.setHours(l,0,0,0),n}}class AZ extends ir{constructor(){super(...arguments);bt(this,"priority",60);bt(this,"incompatibleTokens",["t","T"])}parse(n,o,s){switch(o){case"m":return ri(Ti.minute,n);case"mo":return s.ordinalNumber(n,{unit:"minute"});default:return ki(o.length,n)}}validate(n,o){return o>=0&&o<=59}set(n,o,s){return n.setMinutes(s,0,0),n}}class _Z extends ir{constructor(){super(...arguments);bt(this,"priority",50);bt(this,"incompatibleTokens",["t","T"])}parse(n,o,s){switch(o){case"s":return ri(Ti.second,n);case"so":return s.ordinalNumber(n,{unit:"second"});default:return ki(o.length,n)}}validate(n,o){return o>=0&&o<=59}set(n,o,s){return n.setSeconds(s,0),n}}class CZ extends ir{constructor(){super(...arguments);bt(this,"priority",30);bt(this,"incompatibleTokens",["t","T"])}parse(n,o){const s=l=>Math.trunc(l*Math.pow(10,-o.length+3));return Ni(ki(o.length,n),s)}set(n,o,s){return n.setMilliseconds(s),n}}class xZ extends ir{constructor(){super(...arguments);bt(this,"priority",10);bt(this,"incompatibleTokens",["t","T","x"])}parse(n,o){switch(o){case"X":return cc(lc.basicOptionalMinutes,n);case"XX":return cc(lc.basic,n);case"XXXX":return cc(lc.basicOptionalSeconds,n);case"XXXXX":return cc(lc.extendedOptionalSeconds,n);case"XXX":default:return cc(lc.extended,n)}}set(n,o,s){return o.timestampIsSet?n:pr(n,n.getTime()-Wk(n)-s)}}class SZ extends ir{constructor(){super(...arguments);bt(this,"priority",10);bt(this,"incompatibleTokens",["t","T","X"])}parse(n,o){switch(o){case"x":return cc(lc.basicOptionalMinutes,n);case"xx":return cc(lc.basic,n);case"xxxx":return cc(lc.basicOptionalSeconds,n);case"xxxxx":return cc(lc.extendedOptionalSeconds,n);case"xxx":default:return cc(lc.extended,n)}}set(n,o,s){return o.timestampIsSet?n:pr(n,n.getTime()-Wk(n)-s)}}class EZ extends ir{constructor(){super(...arguments);bt(this,"priority",40);bt(this,"incompatibleTokens","*")}parse(n){return zO(n)}set(n,o,s){return[pr(n,s*1e3),{timestampIsSet:!0}]}}class DZ extends ir{constructor(){super(...arguments);bt(this,"priority",20);bt(this,"incompatibleTokens","*")}parse(n){return zO(n)}set(n,o,s){return[pr(n,s),{timestampIsSet:!0}]}}const IZ={G:new GJ,y:new YJ,Y:new KJ,R:new QJ,u:new JJ,Q:new ZJ,q:new XJ,M:new eZ,L:new tZ,w:new rZ,I:new oZ,d:new lZ,D:new cZ,E:new uZ,e:new dZ,c:new hZ,i:new pZ,a:new mZ,b:new gZ,B:new bZ,h:new kZ,H:new wZ,K:new yZ,k:new vZ,m:new AZ,s:new _Z,S:new CZ,X:new xZ,x:new SZ,t:new EZ,T:new DZ},TZ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NZ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,MZ=/^'([^]*?)'?$/,PZ=/''/g,OZ=/\S/,jZ=/[a-zA-Z]/;function Tv(t,r,n,o){var C,D,S,M,P,B,$,F;const s=zJ(),l=(o==null?void 0:o.locale)??s.locale??OO,d=(o==null?void 0:o.firstWeekContainsDate)??((D=(C=o==null?void 0:o.locale)==null?void 0:C.options)==null?void 0:D.firstWeekContainsDate)??s.firstWeekContainsDate??((M=(S=s.locale)==null?void 0:S.options)==null?void 0:M.firstWeekContainsDate)??1,h=(o==null?void 0:o.weekStartsOn)??((B=(P=o==null?void 0:o.locale)==null?void 0:P.options)==null?void 0:B.weekStartsOn)??s.weekStartsOn??((F=($=s.locale)==null?void 0:$.options)==null?void 0:F.weekStartsOn)??0;if(r==="")return t===""?Ft(n):pr(n,NaN);const p={firstWeekContainsDate:d,weekStartsOn:h,locale:l},g=[new WJ],b=r.match(NZ).map(N=>{const L=N[0];if(L in Zk){const U=Zk[L];return U(N,l.formatLong)}return N}).join("").match(TZ),v=[];for(let N of b){!(o!=null&&o.useAdditionalWeekYearTokens)&&RO(N)&&$A(N,r,t),!(o!=null&&o.useAdditionalDayOfYearTokens)&&BO(N)&&$A(N,r,t);const L=N[0],U=IZ[L];if(U){const{incompatibleTokens:Q}=U;if(Array.isArray(Q)){const z=v.find(G=>Q.includes(G.token)||G.token===L);if(z)throw new RangeError(`The format string mustn't contain \`${z.fullToken}\` and \`${N}\` at the same time`)}else if(U.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${N}\` and any other token at the same time`);v.push({token:L,fullToken:N});const H=U.run(t,N,l.match,p);if(!H)return pr(n,NaN);g.push(H.setter),t=H.rest}else{if(L.match(jZ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");if(N==="''"?N="'":L==="'"&&(N=LZ(N)),t.indexOf(N)===0)t=t.slice(N.length);else return pr(n,NaN)}}if(t.length>0&&OZ.test(t))return pr(n,NaN);const y=g.map(N=>N.priority).sort((N,L)=>L-N).filter((N,L,U)=>U.indexOf(N)===L).map(N=>g.filter(L=>L.priority===N).sort((L,U)=>U.subPriority-L.subPriority)).map(N=>N[0]);let k=Ft(n);if(isNaN(k.getTime()))return pr(n,NaN);const x={};for(const N of y){if(!N.validate(k,p))return pr(n,NaN);const L=N.set(k,x,p);Array.isArray(L)?(k=L[0],Object.assign(x,L[1])):k=L}return pr(n,k)}function LZ(t){return t.match(MZ)[1].replace(PZ,"'")}function BZ(t,r){const n=Ft(t),o=Ft(r);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}function RZ(t,r){const n=VA(t),o=VA(r);return+n==+o}function FZ(t,r){const n=Ft(t),o=Ft(r);return n.getFullYear()===o.getFullYear()}function zg(t,r){const n=+Ft(t),[o,s]=[+Ft(r.start),+Ft(r.end)].sort((l,d)=>l-d);return n>=o&&n<=s}function zZ(t,r){return wl(t,-1)}function UZ(t,r){const o=HZ(t);let s;if(o.date){const p=WZ(o.date,2);s=GZ(p.restDateString,p.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const l=s.getTime();let d=0,h;if(o.time&&(d=YZ(o.time),isNaN(d)))return new Date(NaN);if(o.timezone){if(h=KZ(o.timezone),isNaN(h))return new Date(NaN)}else{const p=new Date(l+d),g=new Date(0);return g.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),g.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),g}return new Date(l+d+h)}const Y0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},qZ=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,VZ=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$Z=/^([+-])(\d{2})(?::?(\d{2}))?$/;function HZ(t){const r={},n=t.split(Y0.dateTimeDelimiter);let o;if(n.length>2)return r;if(/:/.test(n[0])?o=n[0]:(r.date=n[0],o=n[1],Y0.timeZoneDelimiter.test(r.date)&&(r.date=t.split(Y0.timeZoneDelimiter)[0],o=t.substr(r.date.length,t.length))),o){const s=Y0.timezone.exec(o);s?(r.time=o.replace(s[1],""),r.timezone=s[1]):r.time=o}return r}function WZ(t,r){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),o=t.match(n);if(!o)return{year:NaN,restDateString:""};const s=o[1]?parseInt(o[1]):null,l=o[2]?parseInt(o[2]):null;return{year:l===null?s:l*100,restDateString:t.slice((o[1]||o[2]).length)}}function GZ(t,r){if(r===null)return new Date(NaN);const n=t.match(qZ);if(!n)return new Date(NaN);const o=!!n[4],s=Zm(n[1]),l=Zm(n[2])-1,d=Zm(n[3]),h=Zm(n[4]),p=Zm(n[5])-1;if(o)return eX(r,h,p)?QZ(r,h,p):new Date(NaN);{const g=new Date(0);return!ZZ(r,l,d)||!XZ(r,s)?new Date(NaN):(g.setUTCFullYear(r,l,Math.max(s,d)),g)}}function Zm(t){return t?parseInt(t):1}function YZ(t){const r=t.match(VZ);if(!r)return NaN;const n=Nv(r[1]),o=Nv(r[2]),s=Nv(r[3]);return tX(n,o,s)?n*T1+o*I1+s*1e3:NaN}function Nv(t){return t&&parseFloat(t.replace(",","."))||0}function KZ(t){if(t==="Z")return 0;const r=t.match($Z);if(!r)return 0;const n=r[1]==="+"?-1:1,o=parseInt(r[2]),s=r[3]&&parseInt(r[3])||0;return nX(o,s)?n*(o*T1+s*I1):NaN}function QZ(t,r,n){const o=new Date(0);o.setUTCFullYear(t,0,4);const s=o.getUTCDay()||7,l=(r-1)*7+n+1-s;return o.setUTCDate(o.getUTCDate()+l),o}const JZ=[31,null,31,30,31,30,31,31,30,31,30,31];function VO(t){return t%400===0||t%4===0&&t%100!==0}function ZZ(t,r,n){return r>=0&&r<=11&&n>=1&&n<=(JZ[r]||(VO(t)?29:28))}function XZ(t,r){return r>=1&&r<=(VO(t)?366:365)}function eX(t,r,n){return r>=1&&r<=53&&n>=0&&n<=6}function tX(t,r,n){return t===24?r===0&&n===0:n>=0&&n<60&&r>=0&&r<60&&t>=0&&t<25}function nX(t,r){return r>=0&&r<=59}function Gs(t,r){const n=Ft(t),o=n.getFullYear(),s=n.getDate(),l=pr(t,0);l.setFullYear(o,r,15),l.setHours(0,0,0,0);const d=FJ(l);return n.setMonth(r,Math.min(s,d)),n}function rX(t,r){let n=Ft(t);return isNaN(+n)?pr(t,NaN):(r.year!=null&&n.setFullYear(r.year),r.month!=null&&(n=Gs(n,r.month)),r.date!=null&&n.setDate(r.date),r.hours!=null&&n.setHours(r.hours),r.minutes!=null&&n.setMinutes(r.minutes),r.seconds!=null&&n.setSeconds(r.seconds),r.milliseconds!=null&&n.setMilliseconds(r.milliseconds),n)}function kk(t,r){const n=Ft(t);return n.setHours(r),n}function wk(t,r){const n=Ft(t);return n.setMinutes(r),n}function cp(t,r){const n=Ft(t),o=Math.trunc(n.getMonth()/3)+1,s=r-o;return Gs(n,n.getMonth()+s*3)}function yk(t,r){const n=Ft(t);return n.setSeconds(r),n}function tc(t,r){const n=Ft(t);return isNaN(+n)?pr(t,NaN):(n.setFullYear(r),n)}function jh(t,r){return yl(t,-r)}function $O(t,r){return iC(t,-1)}function wT(t,r){return Gk(t,-1)}function Np(t,r){return cu(t,-r)}function M1(){return typeof window<"u"}function Fp(t){return HO(t)?(t.nodeName||"").toLowerCase():"#document"}function ra(t){var r;return(t==null||(r=t.ownerDocument)==null?void 0:r.defaultView)||window}function xc(t){var r;return(r=(HO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:r.documentElement}function HO(t){return M1()?t instanceof Node||t instanceof ra(t).Node:!1}function as(t){return M1()?t instanceof Element||t instanceof ra(t).Element:!1}function Ac(t){return M1()?t instanceof HTMLElement||t instanceof ra(t).HTMLElement:!1}function yT(t){return!M1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ra(t).ShadowRoot}const iX=new Set(["inline","contents"]);function ib(t){const{overflow:r,overflowX:n,overflowY:o,display:s}=Ua(t);return/auto|scroll|overlay|hidden|clip/.test(r+o+n)&&!iX.has(s)}const oX=new Set(["table","td","th"]);function sX(t){return oX.has(Fp(t))}const aX=[":popover-open",":modal"];function P1(t){return aX.some(r=>{try{return t.matches(r)}catch{return!1}})}const lX=["transform","translate","scale","rotate","perspective"],cX=["transform","translate","scale","rotate","perspective","filter"],uX=["paint","layout","strict","content"];function cC(t){const r=uC(),n=as(t)?Ua(t):t;return lX.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!r&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!r&&(n.filter?n.filter!=="none":!1)||cX.some(o=>(n.willChange||"").includes(o))||uX.some(o=>(n.contain||"").includes(o))}function dX(t){let r=gd(t);for(;Ac(r)&&!Mp(r);){if(cC(r))return r;if(P1(r))return null;r=gd(r)}return null}function uC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const hX=new Set(["html","body","#document"]);function Mp(t){return hX.has(Fp(t))}function Ua(t){return ra(t).getComputedStyle(t)}function O1(t){return as(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function gd(t){if(Fp(t)==="html")return t;const r=t.assignedSlot||t.parentNode||yT(t)&&t.host||xc(t);return yT(r)?r.host:r}function WO(t){const r=gd(t);return Mp(r)?t.ownerDocument?t.ownerDocument.body:t.body:Ac(r)&&ib(r)?r:WO(r)}function Ug(t,r,n){var o;r===void 0&&(r=[]),n===void 0&&(n=!0);const s=WO(t),l=s===((o=t.ownerDocument)==null?void 0:o.body),d=ra(s);if(l){const h=WA(d);return r.concat(d,d.visualViewport||[],ib(s)?s:[],h&&n?Ug(h):[])}return r.concat(s,Ug(s,[],n))}function WA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Pp=Math.min,Lh=Math.max,e1=Math.round,K0=Math.floor,bc=t=>({x:t,y:t}),fX={left:"right",right:"left",bottom:"top",top:"bottom"},pX={start:"end",end:"start"};function mX(t,r,n){return Lh(t,Pp(r,n))}function j1(t,r){return typeof t=="function"?t(r):t}function Op(t){return t.split("-")[0]}function ob(t){return t.split("-")[1]}function gX(t){return t==="x"?"y":"x"}function dC(t){return t==="y"?"height":"width"}const bX=new Set(["top","bottom"]);function Eh(t){return bX.has(Op(t))?"y":"x"}function hC(t){return gX(Eh(t))}function kX(t,r,n){n===void 0&&(n=!1);const o=ob(t),s=hC(t),l=dC(s);let d=s==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return r.reference[l]>r.floating[l]&&(d=t1(d)),[d,t1(d)]}function wX(t){const r=t1(t);return[GA(t),r,GA(r)]}function GA(t){return t.replace(/start|end/g,r=>pX[r])}const vT=["left","right"],AT=["right","left"],yX=["top","bottom"],vX=["bottom","top"];function AX(t,r,n){switch(t){case"top":case"bottom":return n?r?AT:vT:r?vT:AT;case"left":case"right":return r?yX:vX;default:return[]}}function _X(t,r,n,o){const s=ob(t);let l=AX(Op(t),n==="start",o);return s&&(l=l.map(d=>d+"-"+s),r&&(l=l.concat(l.map(GA)))),l}function t1(t){return t.replace(/left|right|bottom|top/g,r=>fX[r])}function CX(t){return{top:0,right:0,bottom:0,left:0,...t}}function GO(t){return typeof t!="number"?CX(t):{top:t,right:t,bottom:t,left:t}}function n1(t){const{x:r,y:n,width:o,height:s}=t;return{width:o,height:s,top:n,left:r,right:r+o,bottom:n+s,x:r,y:n}}var xX=typeof document<"u",SX=function(){},r1=xX?Y.useLayoutEffect:SX;const EX={...C1},DX=EX.useInsertionEffect,IX=DX||(t=>t());function TX(t){const r=Y.useRef(()=>{});return IX(()=>{r.current=t}),Y.useCallback(function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return r.current==null?void 0:r.current(...o)},[])}function _T(t,r,n){let{reference:o,floating:s}=t;const l=Eh(r),d=hC(r),h=dC(d),p=Op(r),g=l==="y",b=o.x+o.width/2-s.width/2,v=o.y+o.height/2-s.height/2,y=o[h]/2-s[h]/2;let k;switch(p){case"top":k={x:b,y:o.y-s.height};break;case"bottom":k={x:b,y:o.y+o.height};break;case"right":k={x:o.x+o.width,y:v};break;case"left":k={x:o.x-s.width,y:v};break;default:k={x:o.x,y:o.y}}switch(ob(r)){case"start":k[d]-=y*(n&&g?-1:1);break;case"end":k[d]+=y*(n&&g?-1:1);break}return k}const NX=async(t,r,n)=>{const{placement:o="bottom",strategy:s="absolute",middleware:l=[],platform:d}=n,h=l.filter(Boolean),p=await(d.isRTL==null?void 0:d.isRTL(r));let g=await d.getElementRects({reference:t,floating:r,strategy:s}),{x:b,y:v}=_T(g,o,p),y=o,k={},x=0;for(let C=0;C<h.length;C++){const{name:D,fn:S}=h[C],{x:M,y:P,data:B,reset:$}=await S({x:b,y:v,initialPlacement:o,placement:y,strategy:s,middlewareData:k,rects:g,platform:d,elements:{reference:t,floating:r}});b=M??b,v=P??v,k={...k,[D]:{...k[D],...B}},$&&x<=50&&(x++,typeof $=="object"&&($.placement&&(y=$.placement),$.rects&&(g=$.rects===!0?await d.getElementRects({reference:t,floating:r,strategy:s}):$.rects),{x:b,y:v}=_T(g,y,p)),C=-1)}return{x:b,y:v,placement:y,strategy:s,middlewareData:k}};async function MX(t,r){var n;r===void 0&&(r={});const{x:o,y:s,platform:l,rects:d,elements:h,strategy:p}=t,{boundary:g="clippingAncestors",rootBoundary:b="viewport",elementContext:v="floating",altBoundary:y=!1,padding:k=0}=j1(r,t),x=GO(k),D=h[y?v==="floating"?"reference":"floating":v],S=n1(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(D)))==null||n?D:D.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(h.floating)),boundary:g,rootBoundary:b,strategy:p})),M=v==="floating"?{x:o,y:s,width:d.floating.width,height:d.floating.height}:d.reference,P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h.floating)),B=await(l.isElement==null?void 0:l.isElement(P))?await(l.getScale==null?void 0:l.getScale(P))||{x:1,y:1}:{x:1,y:1},$=n1(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:M,offsetParent:P,strategy:p}):M);return{top:(S.top-$.top+x.top)/B.y,bottom:($.bottom-S.bottom+x.bottom)/B.y,left:(S.left-$.left+x.left)/B.x,right:($.right-S.right+x.right)/B.x}}const PX=t=>({name:"arrow",options:t,async fn(r){const{x:n,y:o,placement:s,rects:l,platform:d,elements:h,middlewareData:p}=r,{element:g,padding:b=0}=j1(t,r)||{};if(g==null)return{};const v=GO(b),y={x:n,y:o},k=hC(s),x=dC(k),C=await d.getDimensions(g),D=k==="y",S=D?"top":"left",M=D?"bottom":"right",P=D?"clientHeight":"clientWidth",B=l.reference[x]+l.reference[k]-y[k]-l.floating[x],$=y[k]-l.reference[k],F=await(d.getOffsetParent==null?void 0:d.getOffsetParent(g));let N=F?F[P]:0;(!N||!await(d.isElement==null?void 0:d.isElement(F)))&&(N=h.floating[P]||l.floating[x]);const L=B/2-$/2,U=N/2-C[x]/2-1,Q=Pp(v[S],U),H=Pp(v[M],U),z=Q,G=N-C[x]-H,R=N/2-C[x]/2+L,ne=mX(z,R,G),ue=!p.arrow&&ob(s)!=null&&R!==ne&&l.reference[x]/2-(R<z?Q:H)-C[x]/2<0,ie=ue?R<z?R-z:R-G:0;return{[k]:y[k]+ie,data:{[k]:ne,centerOffset:R-ne-ie,...ue&&{alignmentOffset:ie}},reset:ue}}}),OX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(r){var n,o;const{placement:s,middlewareData:l,rects:d,initialPlacement:h,platform:p,elements:g}=r,{mainAxis:b=!0,crossAxis:v=!0,fallbackPlacements:y,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:C=!0,...D}=j1(t,r);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const S=Op(s),M=Eh(h),P=Op(h)===h,B=await(p.isRTL==null?void 0:p.isRTL(g.floating)),$=y||(P||!C?[t1(h)]:wX(h)),F=x!=="none";!y&&F&&$.push(..._X(h,C,x,B));const N=[h,...$],L=await MX(r,D),U=[];let Q=((o=l.flip)==null?void 0:o.overflows)||[];if(b&&U.push(L[S]),v){const R=kX(s,d,B);U.push(L[R[0]],L[R[1]])}if(Q=[...Q,{placement:s,overflows:U}],!U.every(R=>R<=0)){var H,z;const R=(((H=l.flip)==null?void 0:H.index)||0)+1,ne=N[R];if(ne&&(!(v==="alignment"?M!==Eh(ne):!1)||Q.every(oe=>oe.overflows[0]>0&&Eh(oe.placement)===M)))return{data:{index:R,overflows:Q},reset:{placement:ne}};let ue=(z=Q.filter(ie=>ie.overflows[0]<=0).sort((ie,oe)=>ie.overflows[1]-oe.overflows[1])[0])==null?void 0:z.placement;if(!ue)switch(k){case"bestFit":{var G;const ie=(G=Q.filter(oe=>{if(F){const ye=Eh(oe.placement);return ye===M||ye==="y"}return!0}).map(oe=>[oe.placement,oe.overflows.filter(ye=>ye>0).reduce((ye,re)=>ye+re,0)]).sort((oe,ye)=>oe[1]-ye[1])[0])==null?void 0:G[0];ie&&(ue=ie);break}case"initialPlacement":ue=h;break}if(s!==ue)return{reset:{placement:ue}}}return{}}}},jX=new Set(["left","top"]);async function LX(t,r){const{placement:n,platform:o,elements:s}=t,l=await(o.isRTL==null?void 0:o.isRTL(s.floating)),d=Op(n),h=ob(n),p=Eh(n)==="y",g=jX.has(d)?-1:1,b=l&&p?-1:1,v=j1(r,t);let{mainAxis:y,crossAxis:k,alignmentAxis:x}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return h&&typeof x=="number"&&(k=h==="end"?x*-1:x),p?{x:k*b,y:y*g}:{x:y*g,y:k*b}}const BX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(r){var n,o;const{x:s,y:l,placement:d,middlewareData:h}=r,p=await LX(r,t);return d===((n=h.offset)==null?void 0:n.placement)&&(o=h.arrow)!=null&&o.alignmentOffset?{}:{x:s+p.x,y:l+p.y,data:{...p,placement:d}}}}};function YO(t){const r=Ua(t);let n=parseFloat(r.width)||0,o=parseFloat(r.height)||0;const s=Ac(t),l=s?t.offsetWidth:n,d=s?t.offsetHeight:o,h=e1(n)!==l||e1(o)!==d;return h&&(n=l,o=d),{width:n,height:o,$:h}}function fC(t){return as(t)?t:t.contextElement}function gp(t){const r=fC(t);if(!Ac(r))return bc(1);const n=r.getBoundingClientRect(),{width:o,height:s,$:l}=YO(r);let d=(l?e1(n.width):n.width)/o,h=(l?e1(n.height):n.height)/s;return(!d||!Number.isFinite(d))&&(d=1),(!h||!Number.isFinite(h))&&(h=1),{x:d,y:h}}const RX=bc(0);function KO(t){const r=ra(t);return!uC()||!r.visualViewport?RX:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function FX(t,r,n){return r===void 0&&(r=!1),!n||r&&n!==ra(t)?!1:r}function Wh(t,r,n,o){r===void 0&&(r=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),l=fC(t);let d=bc(1);r&&(o?as(o)&&(d=gp(o)):d=gp(t));const h=FX(l,n,o)?KO(l):bc(0);let p=(s.left+h.x)/d.x,g=(s.top+h.y)/d.y,b=s.width/d.x,v=s.height/d.y;if(l){const y=ra(l),k=o&&as(o)?ra(o):o;let x=y,C=WA(x);for(;C&&o&&k!==x;){const D=gp(C),S=C.getBoundingClientRect(),M=Ua(C),P=S.left+(C.clientLeft+parseFloat(M.paddingLeft))*D.x,B=S.top+(C.clientTop+parseFloat(M.paddingTop))*D.y;p*=D.x,g*=D.y,b*=D.x,v*=D.y,p+=P,g+=B,x=ra(C),C=WA(x)}}return n1({width:b,height:v,x:p,y:g})}function pC(t,r){const n=O1(t).scrollLeft;return r?r.left+n:Wh(xc(t)).left+n}function QO(t,r,n){n===void 0&&(n=!1);const o=t.getBoundingClientRect(),s=o.left+r.scrollLeft-(n?0:pC(t,o)),l=o.top+r.scrollTop;return{x:s,y:l}}function zX(t){let{elements:r,rect:n,offsetParent:o,strategy:s}=t;const l=s==="fixed",d=xc(o),h=r?P1(r.floating):!1;if(o===d||h&&l)return n;let p={scrollLeft:0,scrollTop:0},g=bc(1);const b=bc(0),v=Ac(o);if((v||!v&&!l)&&((Fp(o)!=="body"||ib(d))&&(p=O1(o)),Ac(o))){const k=Wh(o);g=gp(o),b.x=k.x+o.clientLeft,b.y=k.y+o.clientTop}const y=d&&!v&&!l?QO(d,p,!0):bc(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-p.scrollLeft*g.x+b.x+y.x,y:n.y*g.y-p.scrollTop*g.y+b.y+y.y}}function UX(t){return Array.from(t.getClientRects())}function qX(t){const r=xc(t),n=O1(t),o=t.ownerDocument.body,s=Lh(r.scrollWidth,r.clientWidth,o.scrollWidth,o.clientWidth),l=Lh(r.scrollHeight,r.clientHeight,o.scrollHeight,o.clientHeight);let d=-n.scrollLeft+pC(t);const h=-n.scrollTop;return Ua(o).direction==="rtl"&&(d+=Lh(r.clientWidth,o.clientWidth)-s),{width:s,height:l,x:d,y:h}}function VX(t,r){const n=ra(t),o=xc(t),s=n.visualViewport;let l=o.clientWidth,d=o.clientHeight,h=0,p=0;if(s){l=s.width,d=s.height;const g=uC();(!g||g&&r==="fixed")&&(h=s.offsetLeft,p=s.offsetTop)}return{width:l,height:d,x:h,y:p}}const $X=new Set(["absolute","fixed"]);function HX(t,r){const n=Wh(t,!0,r==="fixed"),o=n.top+t.clientTop,s=n.left+t.clientLeft,l=Ac(t)?gp(t):bc(1),d=t.clientWidth*l.x,h=t.clientHeight*l.y,p=s*l.x,g=o*l.y;return{width:d,height:h,x:p,y:g}}function CT(t,r,n){let o;if(r==="viewport")o=VX(t,n);else if(r==="document")o=qX(xc(t));else if(as(r))o=HX(r,n);else{const s=KO(t);o={x:r.x-s.x,y:r.y-s.y,width:r.width,height:r.height}}return n1(o)}function JO(t,r){const n=gd(t);return n===r||!as(n)||Mp(n)?!1:Ua(n).position==="fixed"||JO(n,r)}function WX(t,r){const n=r.get(t);if(n)return n;let o=Ug(t,[],!1).filter(h=>as(h)&&Fp(h)!=="body"),s=null;const l=Ua(t).position==="fixed";let d=l?gd(t):t;for(;as(d)&&!Mp(d);){const h=Ua(d),p=cC(d);!p&&h.position==="fixed"&&(s=null),(l?!p&&!s:!p&&h.position==="static"&&!!s&&$X.has(s.position)||ib(d)&&!p&&JO(t,d))?o=o.filter(b=>b!==d):s=h,d=gd(d)}return r.set(t,o),o}function GX(t){let{element:r,boundary:n,rootBoundary:o,strategy:s}=t;const d=[...n==="clippingAncestors"?P1(r)?[]:WX(r,this._c):[].concat(n),o],h=d[0],p=d.reduce((g,b)=>{const v=CT(r,b,s);return g.top=Lh(v.top,g.top),g.right=Pp(v.right,g.right),g.bottom=Pp(v.bottom,g.bottom),g.left=Lh(v.left,g.left),g},CT(r,h,s));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function YX(t){const{width:r,height:n}=YO(t);return{width:r,height:n}}function KX(t,r,n){const o=Ac(r),s=xc(r),l=n==="fixed",d=Wh(t,!0,l,r);let h={scrollLeft:0,scrollTop:0};const p=bc(0);function g(){p.x=pC(s)}if(o||!o&&!l)if((Fp(r)!=="body"||ib(s))&&(h=O1(r)),o){const k=Wh(r,!0,l,r);p.x=k.x+r.clientLeft,p.y=k.y+r.clientTop}else s&&g();l&&!o&&s&&g();const b=s&&!o&&!l?QO(s,h):bc(0),v=d.left+h.scrollLeft-p.x-b.x,y=d.top+h.scrollTop-p.y-b.y;return{x:v,y,width:d.width,height:d.height}}function Mv(t){return Ua(t).position==="static"}function xT(t,r){if(!Ac(t)||Ua(t).position==="fixed")return null;if(r)return r(t);let n=t.offsetParent;return xc(t)===n&&(n=n.ownerDocument.body),n}function ZO(t,r){const n=ra(t);if(P1(t))return n;if(!Ac(t)){let s=gd(t);for(;s&&!Mp(s);){if(as(s)&&!Mv(s))return s;s=gd(s)}return n}let o=xT(t,r);for(;o&&sX(o)&&Mv(o);)o=xT(o,r);return o&&Mp(o)&&Mv(o)&&!cC(o)?n:o||dX(t)||n}const QX=async function(t){const r=this.getOffsetParent||ZO,n=this.getDimensions,o=await n(t.floating);return{reference:KX(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function JX(t){return Ua(t).direction==="rtl"}const ZX={convertOffsetParentRelativeRectToViewportRelativeRect:zX,getDocumentElement:xc,getClippingRect:GX,getOffsetParent:ZO,getElementRects:QX,getClientRects:UX,getDimensions:YX,getScale:gp,isElement:as,isRTL:JX};function XO(t,r){return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height}function XX(t,r){let n=null,o;const s=xc(t);function l(){var h;clearTimeout(o),(h=n)==null||h.disconnect(),n=null}function d(h,p){h===void 0&&(h=!1),p===void 0&&(p=1),l();const g=t.getBoundingClientRect(),{left:b,top:v,width:y,height:k}=g;if(h||r(),!y||!k)return;const x=K0(v),C=K0(s.clientWidth-(b+y)),D=K0(s.clientHeight-(v+k)),S=K0(b),P={rootMargin:-x+"px "+-C+"px "+-D+"px "+-S+"px",threshold:Lh(0,Pp(1,p))||1};let B=!0;function $(F){const N=F[0].intersectionRatio;if(N!==p){if(!B)return d();N?d(!1,N):o=setTimeout(()=>{d(!1,1e-7)},1e3)}N===1&&!XO(g,t.getBoundingClientRect())&&d(),B=!1}try{n=new IntersectionObserver($,{...P,root:s.ownerDocument})}catch{n=new IntersectionObserver($,P)}n.observe(t)}return d(!0),l}function eee(t,r,n,o){o===void 0&&(o={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:p=!1}=o,g=fC(t),b=s||l?[...g?Ug(g):[],...Ug(r)]:[];b.forEach(S=>{s&&S.addEventListener("scroll",n,{passive:!0}),l&&S.addEventListener("resize",n)});const v=g&&h?XX(g,n):null;let y=-1,k=null;d&&(k=new ResizeObserver(S=>{let[M]=S;M&&M.target===g&&k&&(k.unobserve(r),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var P;(P=k)==null||P.observe(r)})),n()}),g&&!p&&k.observe(g),k.observe(r));let x,C=p?Wh(t):null;p&&D();function D(){const S=Wh(t);C&&!XO(C,S)&&n(),C=S,x=requestAnimationFrame(D)}return n(),()=>{var S;b.forEach(M=>{s&&M.removeEventListener("scroll",n),l&&M.removeEventListener("resize",n)}),v==null||v(),(S=k)==null||S.disconnect(),k=null,p&&cancelAnimationFrame(x)}}const tee=BX,nee=OX,ST=PX,ree=(t,r,n)=>{const o=new Map,s={platform:ZX,...n},l={...s.platform,_c:o};return NX(t,r,{...s,platform:l})};var iee=typeof document<"u",oee=function(){},vk=iee?Y.useLayoutEffect:oee;function i1(t,r){if(t===r)return!0;if(typeof t!=typeof r)return!1;if(typeof t=="function"&&t.toString()===r.toString())return!0;let n,o,s;if(t&&r&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==r.length)return!1;for(o=n;o--!==0;)if(!i1(t[o],r[o]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(r,s[o]))return!1;for(o=n;o--!==0;){const l=s[o];if(!(l==="_owner"&&t.$$typeof)&&!i1(t[l],r[l]))return!1}return!0}return t!==t&&r!==r}function ej(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ET(t,r){const n=ej(t);return Math.round(r*n)/n}function Pv(t){const r=Y.useRef(t);return vk(()=>{r.current=t}),r}function see(t){t===void 0&&(t={});const{placement:r="bottom",strategy:n="absolute",middleware:o=[],platform:s,elements:{reference:l,floating:d}={},transform:h=!0,whileElementsMounted:p,open:g}=t,[b,v]=Y.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[y,k]=Y.useState(o);i1(y,o)||k(o);const[x,C]=Y.useState(null),[D,S]=Y.useState(null),M=Y.useCallback(oe=>{oe!==F.current&&(F.current=oe,C(oe))},[]),P=Y.useCallback(oe=>{oe!==N.current&&(N.current=oe,S(oe))},[]),B=l||x,$=d||D,F=Y.useRef(null),N=Y.useRef(null),L=Y.useRef(b),U=p!=null,Q=Pv(p),H=Pv(s),z=Pv(g),G=Y.useCallback(()=>{if(!F.current||!N.current)return;const oe={placement:r,strategy:n,middleware:y};H.current&&(oe.platform=H.current),ree(F.current,N.current,oe).then(ye=>{const re={...ye,isPositioned:z.current!==!1};R.current&&!i1(L.current,re)&&(L.current=re,SP.flushSync(()=>{v(re)}))})},[y,r,n,H,z]);vk(()=>{g===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,v(oe=>({...oe,isPositioned:!1})))},[g]);const R=Y.useRef(!1);vk(()=>(R.current=!0,()=>{R.current=!1}),[]),vk(()=>{if(B&&(F.current=B),$&&(N.current=$),B&&$){if(Q.current)return Q.current(B,$,G);G()}},[B,$,G,Q,U]);const ne=Y.useMemo(()=>({reference:F,floating:N,setReference:M,setFloating:P}),[M,P]),ue=Y.useMemo(()=>({reference:B,floating:$}),[B,$]),ie=Y.useMemo(()=>{const oe={position:n,left:0,top:0};if(!ue.floating)return oe;const ye=ET(ue.floating,b.x),re=ET(ue.floating,b.y);return h?{...oe,transform:"translate("+ye+"px, "+re+"px)",...ej(ue.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ye,top:re}},[n,h,ue.floating,b.x,b.y]);return Y.useMemo(()=>({...b,update:G,refs:ne,elements:ue,floatingStyles:ie}),[b,G,ne,ue,ie])}const aee=t=>{function r(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:s}=typeof t=="function"?t(n):t;return o&&r(o)?o.current!=null?ST({element:o.current,padding:s}).fn(n):{}:o?ST({element:o,padding:s}).fn(n):{}}}},lee=(t,r)=>({...tee(t),options:[t,r]}),cee=(t,r)=>({...nee(t),options:[t,r]}),uee=(t,r)=>({...aee(t),options:[t,r]}),dee={...C1};let DT=!1,hee=0;const IT=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+hee++;function fee(){const[t,r]=Y.useState(()=>DT?IT():void 0);return r1(()=>{t==null&&r(IT())},[]),Y.useEffect(()=>{DT=!0},[]),t}const pee=dee.useId,tj=pee||fee,mee=Y.forwardRef(function(r,n){const{context:{placement:o,elements:{floating:s},middlewareData:{arrow:l,shift:d}},width:h=14,height:p=7,tipRadius:g=0,strokeWidth:b=0,staticOffset:v,stroke:y,d:k,style:{transform:x,...C}={},...D}=r,S=tj(),[M,P]=Y.useState(!1);if(r1(()=>{if(!s)return;Ua(s).direction==="rtl"&&P(!0)},[s]),!s)return null;const[B,$]=o.split("-"),F=B==="top"||B==="bottom";let N=v;(F&&d!=null&&d.x||!F&&d!=null&&d.y)&&(N=null);const L=b*2,U=L/2,Q=h/2*(g/-8+1),H=p/2*g/4,z=!!k,G=N&&$==="end"?"bottom":"top";let R=N&&$==="end"?"right":"left";N&&M&&(R=$==="end"?"left":"right");const ne=(l==null?void 0:l.x)!=null?N||l.x:"",ue=(l==null?void 0:l.y)!=null?N||l.y:"",ie=k||"M0,0"+(" H"+h)+(" L"+(h-Q)+","+(p-H))+(" Q"+h/2+","+p+" "+Q+","+(p-H))+" Z",oe={top:z?"rotate(180deg)":"",left:z?"rotate(90deg)":"rotate(-90deg)",bottom:z?"":"rotate(180deg)",right:z?"rotate(-90deg)":"rotate(90deg)"}[B];return A.jsxs("svg",{...D,"aria-hidden":!0,ref:n,width:z?h:h+L,height:h,viewBox:"0 0 "+h+" "+(p>h?p:h),style:{position:"absolute",pointerEvents:"none",[R]:ne,[G]:ue,[B]:F||z?"100%":"calc(100% - "+L/2+"px)",transform:[oe,x].filter(ye=>!!ye).join(" "),...C},children:[L>0&&A.jsx("path",{clipPath:"url(#"+S+")",fill:"none",stroke:y,strokeWidth:L+(k?0:1),d:ie}),A.jsx("path",{stroke:L&&!k?D.fill:"none",d:ie}),A.jsx("clipPath",{id:S,children:A.jsx("rect",{x:-U,y:U*(z?-1:1),width:h+L,height:h})})]})});function gee(){const t=new Map;return{emit(r,n){var o;(o=t.get(r))==null||o.forEach(s=>s(n))},on(r,n){t.has(r)||t.set(r,new Set),t.get(r).add(n)},off(r,n){var o;(o=t.get(r))==null||o.delete(n)}}}const bee=Y.createContext(null),kee=Y.createContext(null),wee=()=>{var t;return((t=Y.useContext(bee))==null?void 0:t.id)||null},yee=()=>Y.useContext(kee);function vee(t){const{open:r=!1,onOpenChange:n,elements:o}=t,s=tj(),l=Y.useRef({}),[d]=Y.useState(()=>gee()),h=wee()!=null,[p,g]=Y.useState(o.reference),b=TX((k,x,C)=>{l.current.openEvent=k?x:void 0,d.emit("openchange",{open:k,event:x,reason:C,nested:h}),n==null||n(k,x,C)}),v=Y.useMemo(()=>({setPositionReference:g}),[]),y=Y.useMemo(()=>({reference:p||o.reference||null,floating:o.floating||null,domReference:o.reference}),[p,o.reference,o.floating]);return Y.useMemo(()=>({dataRef:l,open:r,onOpenChange:b,elements:y,events:d,floatingId:s,refs:v}),[r,b,y,d,s,v])}function Aee(t){t===void 0&&(t={});const{nodeId:r}=t,n=vee({...t,elements:{reference:null,floating:null,...t.elements}}),o=t.rootContext||n,s=o.elements,[l,d]=Y.useState(null),[h,p]=Y.useState(null),b=(s==null?void 0:s.domReference)||l,v=Y.useRef(null),y=yee();r1(()=>{b&&(v.current=b)},[b]);const k=see({...t,elements:{...s,...h&&{reference:h}}}),x=Y.useCallback(P=>{const B=as(P)?{getBoundingClientRect:()=>P.getBoundingClientRect(),getClientRects:()=>P.getClientRects(),contextElement:P}:P;p(B),k.refs.setReference(B)},[k.refs]),C=Y.useCallback(P=>{(as(P)||P===null)&&(v.current=P,d(P)),(as(k.refs.reference.current)||k.refs.reference.current===null||P!==null&&!as(P))&&k.refs.setReference(P)},[k.refs]),D=Y.useMemo(()=>({...k.refs,setReference:C,setPositionReference:x,domReference:v}),[k.refs,C,x]),S=Y.useMemo(()=>({...k.elements,domReference:b}),[k.elements,b]),M=Y.useMemo(()=>({...k,...o,refs:D,elements:S,nodeId:r}),[k,D,S,r,o]);return r1(()=>{o.dataRef.current.floatingContext=M;const P=y==null?void 0:y.nodesRef.current.find(B=>B.id===r);P&&(P.context=M)}),Y.useMemo(()=>({...k,context:M,refs:D,elements:S}),[k,D,S,M])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var YA=function(r,n){return YA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])},YA(r,n)};function co(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");YA(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var Yn=function(){return Yn=Object.assign||function(n){for(var o,s=1,l=arguments.length;s<l;s++){o=arguments[s];for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(n[d]=o[d])}return n},Yn.apply(this,arguments)};function fc(t,r,n){if(n||arguments.length===2)for(var o=0,s=r.length,l;o<s;o++)(l||!(o in r))&&(l||(l=Array.prototype.slice.call(r,0,o)),l[o]=r[o]);return t.concat(l||Array.prototype.slice.call(r))}var _ee=function(t){var r=t.showTimeSelectOnly,n=r===void 0?!1:r,o=t.showTime,s=o===void 0?!1:o,l=t.className,d=t.children,h=n?"Choose Time":"Choose Date".concat(s?" and Time":"");return at.createElement("div",{className:l,role:"dialog","aria-label":h,"aria-modal":"true"},d)},Cee=function(t,r){var n=Y.useRef(null),o=Y.useRef(t);o.current=t;var s=Y.useCallback(function(l){var d;n.current&&!n.current.contains(l.target)&&(r&&l.target instanceof HTMLElement&&l.target.classList.contains(r)||(d=o.current)===null||d===void 0||d.call(o,l))},[r]);return Y.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),n},L1=function(t){var r=t.children,n=t.onClickOutside,o=t.className,s=t.containerRef,l=t.style,d=t.ignoreClass,h=Cee(n,d);return at.createElement("div",{className:o,style:l,ref:function(p){h.current=p,s&&(s.current=p)}},r)},Lt;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Lt||(Lt={}));function nj(){var t=typeof window<"u"?window:globalThis;return t}var sb=12,xee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function mr(t){if(t==null)return new Date;var r=typeof t=="string"?UZ(t):Ft(t);return iu(r)?r:new Date}function Ov(t,r,n,o,s){var l,d=null,h=Bh(n)||Bh(_g()),p=!0;if(Array.isArray(r))return r.forEach(function(b){var v=Tv(t,b,new Date,{locale:h,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});o&&(p=iu(v,s)&&t===Br(v,b,n)),iu(v,s)&&p&&(d=v)}),d;if(d=Tv(t,r,new Date,{locale:h,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),o)p=iu(d)&&t===Br(d,r,n);else if(!iu(d)){var g=((l=r.match(xee))!==null&&l!==void 0?l:[]).map(function(b){var v=b[0];if(v==="p"||v==="P"){var y=Zk[v];return h?y(b,h.formatLong):v}return b}).join("");t.length>0&&(d=Tv(t,g.slice(0,t.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),iu(d)||(d=new Date(t))}return iu(d)&&p?d:null}function iu(t,r){return Yk(t)&&!Hh(t,r??new Date("1/1/1800"))}function Br(t,r,n){if(n==="en")return bT(t,r,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var o=n?Bh(n):void 0;return n&&!o&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!o&&_g()&&Bh(_g())&&(o=Bh(_g())),bT(t,r,{locale:o,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Oa(t,r){var n=r.dateFormat,o=r.locale,s=Array.isArray(n)&&n.length>0?n[0]:n;return t&&Br(t,s,o)||""}function See(t,r,n){if(!t)return"";var o=Oa(t,n),s=r?Oa(r,n):"";return"".concat(o," - ").concat(s)}function Eee(t,r){if(!(t!=null&&t.length))return"";var n=t[0]?Oa(t[0],r):"";if(t.length===1)return n;if(t.length===2&&t[1]){var o=Oa(t[1],r);return"".concat(n,", ").concat(o)}var s=t.length-1;return"".concat(n," (+").concat(s,")")}function jv(t,r){var n=r.hour,o=n===void 0?0:n,s=r.minute,l=s===void 0?0:s,d=r.second,h=d===void 0?0:d;return kk(wk(yk(t,h),l),o)}function Dee(t){return oC(t)}function Iee(t,r){return Br(t,"ddd",r)}function Ak(t){return $h(t)}function hd(t,r,n){var o=Bh(r||_g());return fu(t,{locale:o,weekStartsOn:n})}function hu(t){return MO(t)}function kg(t){return N1(t)}function TT(t){return VA(t)}function NT(){return $h(mr())}function MT(t){return TO(t)}function Tee(t){return WQ(t)}function Nee(t){return NO(t)}function nc(t,r){return t&&r?FZ(t,r):!t&&!r}function os(t,r){return t&&r?BZ(t,r):!t&&!r}function o1(t,r){return t&&r?RZ(t,r):!t&&!r}function qn(t,r){return t&&r?$Q(t,r):!t&&!r}function Dh(t,r){return t&&r?qJ(t,r):!t&&!r}function wg(t,r,n){var o,s=$h(r),l=TO(n);try{o=zg(t,{start:s,end:l})}catch{o=!1}return o}function _g(){var t=nj();return t.__localeId__}function Bh(t){if(typeof t=="string"){var r=nj();return r.__localeData__?r.__localeData__[t]:void 0}else return t}function Mee(t,r,n){return r(Br(t,"EEEE",n))}function Pee(t,r){return Br(t,"EEEEEE",r)}function Oee(t,r){return Br(t,"EEE",r)}function mC(t,r){return Br(Gs(mr(),t),"LLLL",r)}function rj(t,r){return Br(Gs(mr(),t),"LLL",r)}function jee(t,r){return Br(cp(mr(),t),"QQQ",r)}function La(t,r){var n=r===void 0?{}:r,o=n.minDate,s=n.maxDate,l=n.excludeDates,d=n.excludeDateIntervals,h=n.includeDates,p=n.includeDateIntervals,g=n.filterDate;return ab(t,{minDate:o,maxDate:s})||l&&l.some(function(b){return b instanceof Date?qn(t,b):qn(t,b.date)})||d&&d.some(function(b){var v=b.start,y=b.end;return zg(t,{start:v,end:y})})||h&&!h.some(function(b){return qn(t,b)})||p&&!p.some(function(b){var v=b.start,y=b.end;return zg(t,{start:v,end:y})})||g&&!g(mr(t))||!1}function gC(t,r){var n=r===void 0?{}:r,o=n.excludeDates,s=n.excludeDateIntervals;return s&&s.length>0?s.some(function(l){var d=l.start,h=l.end;return zg(t,{start:d,end:h})}):o&&o.some(function(l){var d;return l instanceof Date?qn(t,l):qn(t,(d=l.date)!==null&&d!==void 0?d:new Date)})||!1}function ij(t,r){var n=r===void 0?{}:r,o=n.minDate,s=n.maxDate,l=n.excludeDates,d=n.includeDates,h=n.filterDate;return ab(t,{minDate:o?MO(o):void 0,maxDate:s?NO(s):void 0})||(l==null?void 0:l.some(function(p){return os(t,p instanceof Date?p:p.date)}))||d&&!d.some(function(p){return os(t,p)})||h&&!h(mr(t))||!1}function Q0(t,r,n,o){var s=Nn(t),l=ss(t),d=Nn(r),h=ss(r),p=Nn(o);return s===d&&s===p?l<=n&&n<=h:s<d?p===s&&l<=n||p===d&&h>=n||p<d&&p>s:!1}function Lee(t,r){var n=r===void 0?{}:r,o=n.minDate,s=n.maxDate,l=n.excludeDates,d=n.includeDates;return ab(t,{minDate:o,maxDate:s})||l&&l.some(function(h){return os(h instanceof Date?h:h.date,t)})||d&&!d.some(function(h){return os(h,t)})||!1}function J0(t,r){var n=r===void 0?{}:r,o=n.minDate,s=n.maxDate,l=n.excludeDates,d=n.includeDates,h=n.filterDate;return ab(t,{minDate:o,maxDate:s})||(l==null?void 0:l.some(function(p){return o1(t,p instanceof Date?p:p.date)}))||d&&!d.some(function(p){return o1(t,p)})||h&&!h(mr(t))||!1}function Z0(t,r,n){if(!r||!n||!Yk(r)||!Yk(n))return!1;var o=Nn(r),s=Nn(n);return o<=t&&s>=t}function _k(t,r){var n=r===void 0?{}:r,o=n.minDate,s=n.maxDate,l=n.excludeDates,d=n.includeDates,h=n.filterDate,p=new Date(t,0,1);return ab(p,{minDate:o?N1(o):void 0,maxDate:s?PO(s):void 0})||(l==null?void 0:l.some(function(g){return nc(p,g instanceof Date?g:g.date)}))||d&&!d.some(function(g){return nc(p,g)})||h&&!h(mr(p))||!1}function X0(t,r,n,o){var s=Nn(t),l=Oh(t),d=Nn(r),h=Oh(r),p=Nn(o);return s===d&&s===p?l<=n&&n<=h:s<d?p===s&&l<=n||p===d&&h>=n||p<d&&p>s:!1}function ab(t,r){var n,o=r===void 0?{}:r,s=o.minDate,l=o.maxDate;return(n=s&&Tp(t,s)<0||l&&Tp(t,l)>0)!==null&&n!==void 0?n:!1}function PT(t,r){return r.some(function(n){return mc(n)===mc(t)&&gc(n)===gc(t)&&du(n)===du(t)})}function OT(t,r){var n=r===void 0?{}:r,o=n.excludeTimes,s=n.includeTimes,l=n.filterTime;return o&&PT(t,o)||s&&!PT(t,s)||l&&!l(t)||!1}function jT(t,r){var n=r.minTime,o=r.maxTime;if(!n||!o)throw new Error("Both minTime and maxTime props required");var s=mr();s=kk(s,mc(t)),s=wk(s,gc(t)),s=yk(s,du(t));var l=mr();l=kk(l,mc(n)),l=wk(l,gc(n)),l=yk(l,du(n));var d=mr();d=kk(d,mc(o)),d=wk(d,gc(o)),d=yk(d,du(o));var h;try{h=!zg(s,{start:l,end:d})}catch{h=!1}return h}function LT(t,r){var n=r===void 0?{}:r,o=n.minDate,s=n.includeDates,l=jh(t,1);return o&&Kk(o,l)>0||s&&s.every(function(d){return Kk(d,l)>0})||!1}function BT(t,r){var n=r===void 0?{}:r,o=n.maxDate,s=n.includeDates,l=yl(t,1);return o&&Kk(l,o)>0||s&&s.every(function(d){return Kk(l,d)>0})||!1}function Bee(t,r){var n=r===void 0?{}:r,o=n.minDate,s=n.includeDates,l=N1(t),d=$O(l);return o&&Qk(o,d)>0||s&&s.every(function(h){return Qk(h,d)>0})||!1}function Ree(t,r){var n=r===void 0?{}:r,o=n.maxDate,s=n.includeDates,l=PO(t),d=iC(l,1);return o&&Qk(d,o)>0||s&&s.every(function(h){return Qk(d,h)>0})||!1}function RT(t,r){var n=r===void 0?{}:r,o=n.minDate,s=n.includeDates,l=Np(t,1);return o&&Jk(o,l)>0||s&&s.every(function(d){return Jk(d,l)>0})||!1}function Fee(t,r){var n=r===void 0?{}:r,o=n.minDate,s=n.yearItemNumber,l=s===void 0?sb:s,d=kg(Np(t,l)),h=ad(d,l).endPeriod,p=o&&Nn(o);return p&&p>h||!1}function FT(t,r){var n=r===void 0?{}:r,o=n.maxDate,s=n.includeDates,l=cu(t,1);return o&&Jk(l,o)>0||s&&s.every(function(d){return Jk(l,d)>0})||!1}function zee(t,r){var n=r===void 0?{}:r,o=n.maxDate,s=n.yearItemNumber,l=s===void 0?sb:s,d=cu(t,l),h=ad(d,l).startPeriod,p=o&&Nn(o);return p&&p<h||!1}function oj(t){var r=t.minDate,n=t.includeDates;if(n&&r){var o=n.filter(function(s){return Tp(s,r)>=0});return dT(o)}else return n?dT(n):r}function sj(t){var r=t.maxDate,n=t.includeDates;if(n&&r){var o=n.filter(function(s){return Tp(s,r)<=0});return uT(o)}else return n?uT(n):r}function zT(t,r){var n;t===void 0&&(t=[]),r===void 0&&(r="react-datepicker__day--highlighted");for(var o=new Map,s=0,l=t.length;s<l;s++){var d=t[s];if(uu(d)){var h=Br(d,"MM.dd.yyyy"),p=o.get(h)||[];p.includes(r)||(p.push(r),o.set(h,p))}else if(typeof d=="object"){var g=Object.keys(d),b=(n=g[0])!==null&&n!==void 0?n:"",v=d[b];if(typeof b=="string"&&Array.isArray(v))for(var y=0,k=v.length;y<k;y++){var x=v[y];if(x){var h=Br(x,"MM.dd.yyyy"),p=o.get(h)||[];p.includes(b)||(p.push(b),o.set(h,p))}}}}return o}function Uee(t,r){return t.length!==r.length?!1:t.every(function(n,o){return n===r[o]})}function qee(t,r){t===void 0&&(t=[]),r===void 0&&(r="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(o){var s=o.date,l=o.holidayName;if(uu(s)){var d=Br(s,"MM.dd.yyyy"),h=n.get(d)||{className:"",holidayNames:[]};if(!("className"in h&&h.className===r&&Uee(h.holidayNames,[l]))){h.className=r;var p=h.holidayNames;h.holidayNames=p?fc(fc([],p,!0),[l],!1):[l],n.set(d,h)}}}),n}function Vee(t,r,n,o,s){for(var l=s.length,d=[],h=0;h<l;h++){var p=t,g=s[h];g&&(p=zQ(p,mc(g)),p=qA(p,gc(g)),p=VQ(p,du(g)));var b=qA(t,(n+1)*o);md(p,r)&&Hh(p,b)&&g!=null&&d.push(g)}return d}function UT(t){return t<10?"0".concat(t):"".concat(t)}function ad(t,r){r===void 0&&(r=sb);var n=Math.ceil(Nn(t)/r)*r,o=n-(r-1);return{startPeriod:o,endPeriod:n}}function $ee(t){var r=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+r)/36e5)}function qT(t){var r=t.getSeconds(),n=t.getMilliseconds();return Ft(t.getTime()-r*1e3-n)}function Hee(t,r){return qT(t).getTime()===qT(r).getTime()}function VT(t){if(!uu(t))throw new Error("Invalid date");var r=new Date(t);return r.setHours(0,0,0,0),r}function $T(t,r){if(!uu(t)||!uu(r))throw new Error("Invalid date received");var n=VT(t),o=VT(r);return Hh(n,o)}function aj(t){return t.key===Lt.Space}var Wee=function(t){co(r,t);function r(n){var o=t.call(this,n)||this;return o.inputRef=at.createRef(),o.onTimeChange=function(s){var l,d;o.setState({time:s});var h=o.props.date,p=h instanceof Date&&!isNaN(+h),g=p?h:new Date;if(s!=null&&s.includes(":")){var b=s.split(":"),v=b[0],y=b[1];g.setHours(Number(v)),g.setMinutes(Number(y))}(d=(l=o.props).onChange)===null||d===void 0||d.call(l,g)},o.renderTimeInput=function(){var s=o.state.time,l=o.props,d=l.date,h=l.timeString,p=l.customTimeInput;return p?Y.cloneElement(p,{date:d,value:s,onChange:o.onTimeChange}):at.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:o.inputRef,onClick:function(){var g;(g=o.inputRef.current)===null||g===void 0||g.focus()},required:!0,value:s,onChange:function(g){o.onTimeChange(g.target.value||h)}})},o.state={time:o.props.timeString},o}return r.getDerivedStateFromProps=function(n,o){return n.timeString!==o.time?{time:n.timeString}:null},r.prototype.render=function(){return at.createElement("div",{className:"react-datepicker__input-time-container"},at.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),at.createElement("div",{className:"react-datepicker-time__input-container"},at.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},r}(Y.Component),Gee=function(t){co(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=Y.createRef(),n.handleClick=function(o){!n.isDisabled()&&n.props.onClick&&n.props.onClick(o)},n.handleMouseEnter=function(o){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(o)},n.handleOnKeyDown=function(o){var s,l,d=o.key;d===Lt.Space&&(o.preventDefault(),o.key=Lt.Enter),(l=(s=n.props).handleOnKeyDown)===null||l===void 0||l.call(s,o)},n.isSameDay=function(o){return qn(n.props.day,o)},n.isKeyboardSelected=function(){var o;if(n.props.disabledKeyboardNavigation)return!1;var s=n.props.selectsMultiple?(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(d){return n.isSameDayOrWeek(d)}):n.isSameDayOrWeek(n.props.selected),l=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!s&&n.isSameDayOrWeek(n.props.preSelection)&&!l},n.isDisabled=function(o){return o===void 0&&(o=n.props.day),La(o,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return gC(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return qn(n.props.day,hd(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(o){return n.props.showWeekPicker&&qn(o,hd(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(o){return n.isSameDay(o)||n.isSameWeek(o)},n.getHighLightedClass=function(){var o=n.props,s=o.day,l=o.highlightDates;if(!l)return!1;var d=Br(s,"MM.dd.yyyy");return l.get(d)},n.getHolidaysClass=function(){var o,s=n.props,l=s.day,d=s.holidays;if(!d)return[void 0];var h=Br(l,"MM.dd.yyyy");return d.has(h)?[(o=d.get(h))===null||o===void 0?void 0:o.className]:[void 0]},n.isInRange=function(){var o=n.props,s=o.day,l=o.startDate,d=o.endDate;return!l||!d?!1:wg(s,l,d)},n.isInSelectingRange=function(){var o,s=n.props,l=s.day,d=s.selectsStart,h=s.selectsEnd,p=s.selectsRange,g=s.selectsDisabledDaysInRange,b=s.startDate,v=s.endDate,y=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return!(d||h||p)||!y||!g&&n.isDisabled()?!1:d&&v&&(Hh(y,v)||Dh(y,v))?wg(l,y,v):h&&b&&(md(y,b)||Dh(y,b))||p&&b&&!v&&(md(y,b)||Dh(y,b))?wg(l,b,y):!1},n.isSelectingRangeStart=function(){var o;if(!n.isInSelectingRange())return!1;var s=n.props,l=s.day,d=s.startDate,h=s.selectsStart,p=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return h?qn(l,p):qn(l,d)},n.isSelectingRangeEnd=function(){var o;if(!n.isInSelectingRange())return!1;var s=n.props,l=s.day,d=s.endDate,h=s.selectsEnd,p=s.selectsRange,g=(o=n.props.selectingDate)!==null&&o!==void 0?o:n.props.preSelection;return h||p?qn(l,g):qn(l,d)},n.isRangeStart=function(){var o=n.props,s=o.day,l=o.startDate,d=o.endDate;return!l||!d?!1:qn(l,s)},n.isRangeEnd=function(){var o=n.props,s=o.day,l=o.startDate,d=o.endDate;return!l||!d?!1:qn(d,s)},n.isWeekend=function(){var o=RJ(n.props.day);return o===0||o===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===ss(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(ss(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(mr())},n.isSelected=function(){var o;return n.props.selectsMultiple?(o=n.props.selectedDates)===null||o===void 0?void 0:o.some(function(s){return n.isSameDayOrWeek(s)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(o){var s=n.props.dayClassName?n.props.dayClassName(o):void 0;return Xt("react-datepicker__day",s,"react-datepicker__day--"+Iee(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var o=n.props,s=o.day,l=o.ariaLabelPrefixWhenEnabled,d=l===void 0?"Choose":l,h=o.ariaLabelPrefixWhenDisabled,p=h===void 0?"Not available":h,g=n.isDisabled()||n.isExcluded()?p:d;return"".concat(g," ").concat(Br(s,"PPPP",n.props.locale))},n.getTitle=function(){var o=n.props,s=o.day,l=o.holidays,d=l===void 0?new Map:l,h=o.excludeDates,p=Br(s,"MM.dd.yyyy"),g=[];return d.has(p)&&g.push.apply(g,d.get(p).holidayNames),n.isExcluded()&&g.push(h==null?void 0:h.filter(function(b){return b instanceof Date?qn(b,s):qn(b==null?void 0:b.date,s)}).map(function(b){if(!(b instanceof Date))return b==null?void 0:b.message})),g.join(", ")},n.getTabIndex=function(){var o=n.props.selected,s=n.props.preSelection,l=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(o)&&qn(s,o))?0:-1;return l},n.handleFocusDay=function(){var o;n.shouldFocusDay()&&((o=n.dayEl.current)===null||o===void 0||o.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(kT(n.props.day),n.props.day):kT(n.props.day)},n.render=function(){return at.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&at.createElement("span",{className:"overlay"},n.getTitle()))},n}return r.prototype.componentDidMount=function(){this.handleFocusDay()},r.prototype.componentDidUpdate=function(){this.handleFocusDay()},r.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},r.prototype.isDayActiveElement=function(){var n,o,s;return((o=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||o===void 0?void 0:o.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},r.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},r}(Y.Component),Yee=function(t){co(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=Y.createRef(),n.handleClick=function(o){n.props.onClick&&n.props.onClick(o)},n.handleOnKeyDown=function(o){var s,l,d=o.key;d===Lt.Space&&(o.preventDefault(),o.key=Lt.Enter),(l=(s=n.props).handleOnKeyDown)===null||l===void 0||l.call(s,o)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!qn(n.props.date,n.props.selected)&&qn(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||qn(n.props.date,n.props.selected)&&qn(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(o){var s=!1;n.getTabIndex()===0&&!(o!=null&&o.isInputFocused)&&qn(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(s=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(r,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},r.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},r.prototype.render=function(){var n=this.props,o=n.weekNumber,s=n.isWeekDisabled,l=n.ariaLabelPrefix,d=l===void 0?r.defaultProps.ariaLabelPrefix:l,h=n.onClick,p={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!h&&!s,"react-datepicker__week-number--selected":!!h&&qn(this.props.date,this.props.selected)};return at.createElement("div",{ref:this.weekNumberEl,className:Xt(p),"aria-label":"".concat(d," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},o)},r}(Y.Component),Kee=function(t){co(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(o){return La(o,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(o,s){n.props.onDayClick&&n.props.onDayClick(o,s)},n.handleDayMouseEnter=function(o){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(o)},n.handleWeekClick=function(o,s,l){for(var d,h,p,g=new Date(o),b=0;b<7;b++){var v=new Date(o);v.setDate(v.getDate()+b);var y=!n.isDisabled(v);if(y){g=v;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(g,s,l),n.props.showWeekPicker&&n.handleDayClick(g,l),((d=n.props.shouldCloseOnSelect)!==null&&d!==void 0?d:r.defaultProps.shouldCloseOnSelect)&&((p=(h=n.props).setOpen)===null||p===void 0||p.call(h,!1))},n.formatWeekNumber=function(o){return n.props.formatWeekNumber?n.props.formatWeekNumber(o):Dee(o)},n.isWeekDisabled=function(){for(var o=n.startOfWeek(),s=wl(o,6),l=new Date(o);l<=s;){if(!n.isDisabled(l))return!1;l=wl(l,1)}return!0},n.renderDays=function(){var o=n.startOfWeek(),s=[],l=n.formatWeekNumber(o);if(n.props.showWeekNumber){var d=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,o,l):void 0;s.push(at.createElement(Yee,Yn({key:"W"},r.defaultProps,n.props,{weekNumber:l,isWeekDisabled:n.isWeekDisabled(),date:o,onClick:d})))}return s.concat([0,1,2,3,4,5,6].map(function(h){var p=wl(o,h);return at.createElement(Gee,Yn({},r.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:p.valueOf(),day:p,onClick:n.handleDayClick.bind(n,p),onMouseEnter:n.handleDayMouseEnter.bind(n,p)}))}))},n.startOfWeek=function(){return hd(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!qn(n.startOfWeek(),n.props.selected)&&qn(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(r,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":qn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return at.createElement("div",{className:Xt(n)},this.renderDays())},r}(Y.Component),Xm,Qee=6,bp={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Lv=(Xm={},Xm[bp.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Xm[bp.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Xm[bp.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Xm),ek=1;function HT(t,r){return t?bp.FOUR_COLUMNS:r?bp.TWO_COLUMNS:bp.THREE_COLUMNS}var Jee=function(t){co(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=fc([],Array(12),!0).map(function(){return Y.createRef()}),n.QUARTER_REFS=fc([],Array(4),!0).map(function(){return Y.createRef()}),n.isDisabled=function(o){return La(o,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(o){return gC(o,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(o,s){var l,d;(d=(l=n.props).onDayClick)===null||d===void 0||d.call(l,o,s,n.props.orderInDisplay)},n.handleDayMouseEnter=function(o){var s,l;(l=(s=n.props).onDayMouseEnter)===null||l===void 0||l.call(s,o)},n.handleMouseLeave=function(){var o,s;(s=(o=n.props).onMouseLeave)===null||s===void 0||s.call(o)},n.isRangeStartMonth=function(o){var s=n.props,l=s.day,d=s.startDate,h=s.endDate;return!d||!h?!1:os(Gs(l,o),d)},n.isRangeStartQuarter=function(o){var s=n.props,l=s.day,d=s.startDate,h=s.endDate;return!d||!h?!1:o1(cp(l,o),d)},n.isRangeEndMonth=function(o){var s=n.props,l=s.day,d=s.startDate,h=s.endDate;return!d||!h?!1:os(Gs(l,o),h)},n.isRangeEndQuarter=function(o){var s=n.props,l=s.day,d=s.startDate,h=s.endDate;return!d||!h?!1:o1(cp(l,o),h)},n.isInSelectingRangeMonth=function(o){var s,l=n.props,d=l.day,h=l.selectsStart,p=l.selectsEnd,g=l.selectsRange,b=l.startDate,v=l.endDate,y=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return!(h||p||g)||!y?!1:h&&v?Q0(y,v,o,d):p&&b||g&&b&&!v?Q0(b,y,o,d):!1},n.isSelectingMonthRangeStart=function(o){var s;if(!n.isInSelectingRangeMonth(o))return!1;var l=n.props,d=l.day,h=l.startDate,p=l.selectsStart,g=Gs(d,o),b=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return p?os(g,b):os(g,h)},n.isSelectingMonthRangeEnd=function(o){var s;if(!n.isInSelectingRangeMonth(o))return!1;var l=n.props,d=l.day,h=l.endDate,p=l.selectsEnd,g=l.selectsRange,b=Gs(d,o),v=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return p||g?os(b,v):os(b,h)},n.isInSelectingRangeQuarter=function(o){var s,l=n.props,d=l.day,h=l.selectsStart,p=l.selectsEnd,g=l.selectsRange,b=l.startDate,v=l.endDate,y=(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection;return!(h||p||g)||!y?!1:h&&v?X0(y,v,o,d):p&&b||g&&b&&!v?X0(b,y,o,d):!1},n.isWeekInMonth=function(o){var s=n.props.day,l=wl(o,6);return os(o,s)||os(l,s)},n.isCurrentMonth=function(o,s){return Nn(o)===Nn(mr())&&s===ss(mr())},n.isCurrentQuarter=function(o,s){return Nn(o)===Nn(mr())&&s===Oh(mr())},n.isSelectedMonth=function(o,s,l){return ss(l)===s&&Nn(o)===Nn(l)},n.isSelectMonthInList=function(o,s,l){return l.some(function(d){return n.isSelectedMonth(o,s,d)})},n.isSelectedQuarter=function(o,s,l){return Oh(o)===s&&Nn(o)===Nn(l)},n.renderWeeks=function(){for(var o=[],s=n.props.fixedHeight,l=0,d=!1,h=hd(hu(n.props.day),n.props.locale,n.props.calendarStartDay),p=function(x){return n.props.showWeekPicker?hd(x,n.props.locale,n.props.calendarStartDay):n.props.preSelection},g=function(x){return n.props.showWeekPicker?hd(x,n.props.locale,n.props.calendarStartDay):n.props.selected},b=n.props.selected?g(n.props.selected):void 0,v=n.props.preSelection?p(n.props.preSelection):void 0;o.push(at.createElement(Kee,Yn({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:l,day:h,month:ss(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:b,preSelection:v,showWeekNumber:n.props.showWeekNumbers}))),!d;){l++,h=Gk(h,1);var y=s&&l>=Qee,k=!s&&!n.isWeekInMonth(h);if(y||k)if(n.props.peekNextMonth)d=!0;else break}return o},n.onMonthClick=function(o,s){var l=n.isMonthDisabledForLabelDate(s),d=l.isDisabled,h=l.labelDate;d||n.handleDayClick(hu(h),o)},n.onMonthMouseEnter=function(o){var s=n.isMonthDisabledForLabelDate(o),l=s.isDisabled,d=s.labelDate;l||n.handleDayMouseEnter(hu(d))},n.handleMonthNavigation=function(o,s){var l,d,h,p;(d=(l=n.props).setPreSelection)===null||d===void 0||d.call(l,s),(p=(h=n.MONTH_REFS[o])===null||h===void 0?void 0:h.current)===null||p===void 0||p.focus()},n.handleKeyboardNavigation=function(o,s,l){var d,h=n.props,p=h.selected,g=h.preSelection,b=h.setPreSelection,v=h.minDate,y=h.maxDate,k=h.showFourColumnMonthYearPicker,x=h.showTwoColumnMonthYearPicker;if(g){var C=HT(k,x),D=n.getVerticalOffset(C),S=(d=Lv[C])===null||d===void 0?void 0:d.grid,M=function(N,L,U){var Q,H,z=L,G=U;switch(N){case Lt.ArrowRight:z=yl(L,ek),G=U===11?0:U+ek;break;case Lt.ArrowLeft:z=jh(L,ek),G=U===0?11:U-ek;break;case Lt.ArrowUp:z=jh(L,D),G=!((Q=S==null?void 0:S[0])===null||Q===void 0)&&Q.includes(U)?U+12-D:U-D;break;case Lt.ArrowDown:z=yl(L,D),G=!((H=S==null?void 0:S[S.length-1])===null||H===void 0)&&H.includes(U)?U-12+D:U+D;break}return{newCalculatedDate:z,newCalculatedMonth:G}},P=function(N,L,U){for(var Q=40,H=N,z=!1,G=0,R=M(H,L,U),ne=R.newCalculatedDate,ue=R.newCalculatedMonth;!z;){if(G>=Q){ne=L,ue=U;break}if(v&&ne<v){H=Lt.ArrowRight;var ie=M(H,ne,ue);ne=ie.newCalculatedDate,ue=ie.newCalculatedMonth}if(y&&ne>y){H=Lt.ArrowLeft;var ie=M(H,ne,ue);ne=ie.newCalculatedDate,ue=ie.newCalculatedMonth}if(Lee(ne,n.props)){var ie=M(H,ne,ue);ne=ie.newCalculatedDate,ue=ie.newCalculatedMonth}else z=!0;G++}return{newCalculatedDate:ne,newCalculatedMonth:ue}};if(s===Lt.Enter){n.isMonthDisabled(l)||(n.onMonthClick(o,l),b==null||b(p));return}var B=P(s,g,l),$=B.newCalculatedDate,F=B.newCalculatedMonth;switch(s){case Lt.ArrowRight:case Lt.ArrowLeft:case Lt.ArrowUp:case Lt.ArrowDown:n.handleMonthNavigation(F,$);break}}},n.getVerticalOffset=function(o){var s,l;return(l=(s=Lv[o])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&l!==void 0?l:0},n.onMonthKeyDown=function(o,s){var l=n.props,d=l.disabledKeyboardNavigation,h=l.handleOnMonthKeyDown,p=o.key;p!==Lt.Tab&&o.preventDefault(),d||n.handleKeyboardNavigation(o,p,s),h&&h(o)},n.onQuarterClick=function(o,s){var l=cp(n.props.day,s);J0(l,n.props)||n.handleDayClick(TT(l),o)},n.onQuarterMouseEnter=function(o){var s=cp(n.props.day,o);J0(s,n.props)||n.handleDayMouseEnter(TT(s))},n.handleQuarterNavigation=function(o,s){var l,d,h,p;n.isDisabled(s)||n.isExcluded(s)||((d=(l=n.props).setPreSelection)===null||d===void 0||d.call(l,s),(p=(h=n.QUARTER_REFS[o-1])===null||h===void 0?void 0:h.current)===null||p===void 0||p.focus())},n.onQuarterKeyDown=function(o,s){var l,d,h=o.key;if(!n.props.disabledKeyboardNavigation)switch(h){case Lt.Enter:n.onQuarterClick(o,s),(d=(l=n.props).setPreSelection)===null||d===void 0||d.call(l,n.props.selected);break;case Lt.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(s===4?1:s+1,iC(n.props.preSelection,1));break;case Lt.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(s===1?4:s-1,$O(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(o){var s,l=n.props,d=l.day,h=l.minDate,p=l.maxDate,g=l.excludeDates,b=l.includeDates,v=Gs(d,o);return{isDisabled:(s=(h||p||g||b)&&ij(v,n.props))!==null&&s!==void 0?s:!1,labelDate:v}},n.isMonthDisabled=function(o){var s=n.isMonthDisabledForLabelDate(o).isDisabled;return s},n.getMonthClassNames=function(o){var s=n.props,l=s.day,d=s.startDate,h=s.endDate,p=s.preSelection,g=s.monthClassName,b=g?g(Gs(l,o)):void 0,v=n.getSelection();return Xt("react-datepicker__month-text","react-datepicker__month-".concat(o),b,{"react-datepicker__month-text--disabled":n.isMonthDisabled(o),"react-datepicker__month-text--selected":v?n.isSelectMonthInList(l,o,v):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&p&&n.isSelectedMonth(l,o,p)&&!n.isMonthDisabled(o),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(o),"react-datepicker__month-text--in-range":d&&h?Q0(d,h,o,l):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(o),"react-datepicker__month-text--range-end":n.isRangeEndMonth(o),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(o),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(o),"react-datepicker__month-text--today":n.isCurrentMonth(l,o)})},n.getTabIndex=function(o){if(n.props.preSelection==null)return"-1";var s=ss(n.props.preSelection),l=n.isMonthDisabledForLabelDate(s).isDisabled,d=o===s&&!(l||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getQuarterTabIndex=function(o){if(n.props.preSelection==null)return"-1";var s=Oh(n.props.preSelection),l=J0(n.props.day,n.props),d=o===s&&!(l||n.props.disabledKeyboardNavigation)?"0":"-1";return d},n.getAriaLabel=function(o){var s=n.props,l=s.chooseDayAriaLabelPrefix,d=l===void 0?"Choose":l,h=s.disabledDayAriaLabelPrefix,p=h===void 0?"Not available":h,g=s.day,b=s.locale,v=Gs(g,o),y=n.isDisabled(v)||n.isExcluded(v)?p:d;return"".concat(y," ").concat(Br(v,"MMMM yyyy",b))},n.getQuarterClassNames=function(o){var s=n.props,l=s.day,d=s.startDate,h=s.endDate,p=s.selected,g=s.minDate,b=s.maxDate,v=s.excludeDates,y=s.includeDates,k=s.filterDate,x=s.preSelection,C=s.disabledKeyboardNavigation,D=(g||b||v||y||k)&&J0(cp(l,o),n.props);return Xt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(o),{"react-datepicker__quarter-text--disabled":D,"react-datepicker__quarter-text--selected":p?n.isSelectedQuarter(l,o,p):void 0,"react-datepicker__quarter-text--keyboard-selected":!C&&x&&n.isSelectedQuarter(l,o,x)&&!D,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(o),"react-datepicker__quarter-text--in-range":d&&h?X0(d,h,o,l):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(o),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(o)})},n.getMonthContent=function(o){var s=n.props,l=s.showFullMonthYearPicker,d=s.renderMonthContent,h=s.locale,p=s.day,g=rj(o,h),b=mC(o,h);return d?d(o,g,b,p):l?b:g},n.getQuarterContent=function(o){var s,l=n.props,d=l.renderQuarterContent,h=l.locale,p=jee(o,h);return(s=d==null?void 0:d(o,p))!==null&&s!==void 0?s:p},n.renderMonths=function(){var o,s=n.props,l=s.showTwoColumnMonthYearPicker,d=s.showFourColumnMonthYearPicker,h=s.day,p=s.selected,g=(o=Lv[HT(d,l)])===null||o===void 0?void 0:o.grid;return g==null?void 0:g.map(function(b,v){return at.createElement("div",{className:"react-datepicker__month-wrapper",key:v},b.map(function(y,k){return at.createElement("div",{ref:n.MONTH_REFS[y],key:k,onClick:function(x){n.onMonthClick(x,y)},onKeyDown:function(x){aj(x)&&(x.preventDefault(),x.key=Lt.Enter),n.onMonthKeyDown(x,y)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(y)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(y)}:void 0,tabIndex:Number(n.getTabIndex(y)),className:n.getMonthClassNames(y),"aria-disabled":n.isMonthDisabled(y),role:"option","aria-label":n.getAriaLabel(y),"aria-current":n.isCurrentMonth(h,y)?"date":void 0,"aria-selected":p?n.isSelectedMonth(h,y,p):void 0},n.getMonthContent(y))}))})},n.renderQuarters=function(){var o=n.props,s=o.day,l=o.selected,d=[1,2,3,4];return at.createElement("div",{className:"react-datepicker__quarter-wrapper"},d.map(function(h,p){return at.createElement("div",{key:p,ref:n.QUARTER_REFS[p],role:"option",onClick:function(g){n.onQuarterClick(g,h)},onKeyDown:function(g){n.onQuarterKeyDown(g,h)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(h)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(h)}:void 0,className:n.getQuarterClassNames(h),"aria-selected":l?n.isSelectedQuarter(s,h,l):void 0,tabIndex:Number(n.getQuarterTabIndex(h)),"aria-current":n.isCurrentQuarter(s,h)?"date":void 0},n.getQuarterContent(h))}))},n.getClassNames=function(){var o=n.props,s=o.selectingDate,l=o.selectsStart,d=o.selectsEnd,h=o.showMonthYearPicker,p=o.showQuarterYearPicker,g=o.showWeekPicker;return Xt("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(l||d)},{"react-datepicker__monthPicker":h},{"react-datepicker__quarterPicker":p},{"react-datepicker__weekPicker":g})},n}return r.prototype.getSelection=function(){var n=this.props,o=n.selected,s=n.selectedDates,l=n.selectsMultiple;if(l)return s;if(o)return[o]},r.prototype.render=function(){var n=this.props,o=n.showMonthYearPicker,s=n.showQuarterYearPicker,l=n.day,d=n.ariaLabelPrefix,h=d===void 0?"Month ":d,p=h?h.trim()+" ":"";return at.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(p).concat(Br(l,"MMMM, yyyy",this.props.locale)),role:"listbox"},o?this.renderMonths():s?this.renderQuarters():this.renderWeeks())},r}(Y.Component),Zee=function(t){co(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(o){return n.props.month===o},n.renderOptions=function(){return n.props.monthNames.map(function(o,s){return at.createElement("div",{className:n.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:o,onClick:n.onChange.bind(n,s),"aria-selected":n.isSelectedMonth(s)?"true":void 0},n.isSelectedMonth(s)?at.createElement("span",{className:"react-datepicker__month-option--selected"},"âœ“"):"",o)})},n.onChange=function(o){return n.props.onChange(o)},n.handleClickOutside=function(){return n.props.onCancel()},n}return r.prototype.render=function(){return at.createElement(L1,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},r}(Y.Component),Xee=function(t){co(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(o){return o.map(function(s,l){return at.createElement("option",{key:s,value:l},s)})},n.renderSelectMode=function(o){return at.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(s){return n.onChange(parseInt(s.target.value))}},n.renderSelectOptions(o))},n.renderReadView=function(o,s){return at.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},at.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),at.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[n.props.month]))},n.renderDropdown=function(o){return at.createElement(Zee,Yn({key:"dropdown"},n.props,{monthNames:o,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(o){var s=n.state.dropdownVisible,l=[n.renderReadView(!s,o)];return s&&l.unshift(n.renderDropdown(o)),l},n.onChange=function(o){n.toggleDropdown(),o!==n.props.month&&n.props.onChange(o)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return r.prototype.render=function(){var n=this,o=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(l){return rj(l,n.props.locale)}:function(l){return mC(l,n.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(o);break;case"select":s=this.renderSelectMode(o);break}return at.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},r}(Y.Component);function ete(t,r){for(var n=[],o=hu(t),s=hu(r);!md(o,s);)n.push(mr(o)),o=yl(o,1);return n}var tte=function(t){co(r,t);function r(n){var o=t.call(this,n)||this;return o.renderOptions=function(){return o.state.monthYearsList.map(function(s){var l=HA(s),d=nc(o.props.date,s)&&os(o.props.date,s);return at.createElement("div",{className:d?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:l,onClick:o.onChange.bind(o,l),"aria-selected":d?"true":void 0},d?at.createElement("span",{className:"react-datepicker__month-year-option--selected"},"âœ“"):"",Br(s,o.props.dateFormat,o.props.locale))})},o.onChange=function(s){return o.props.onChange(s)},o.handleClickOutside=function(){o.props.onCancel()},o.state={monthYearsList:ete(o.props.minDate,o.props.maxDate)},o}return r.prototype.render=function(){var n=Xt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return at.createElement(L1,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(Y.Component),nte=function(t){co(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var o=hu(n.props.minDate),s=hu(n.props.maxDate),l=[];!md(o,s);){var d=HA(o);l.push(at.createElement("option",{key:d,value:d},Br(o,n.props.dateFormat,n.props.locale))),o=yl(o,1)}return l},n.onSelectChange=function(o){n.onChange(parseInt(o.target.value))},n.renderSelectMode=function(){return at.createElement("select",{value:HA(hu(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(o){var s=Br(n.props.date,n.props.dateFormat,n.props.locale);return at.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},at.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),at.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},n.renderDropdown=function(){return at.createElement(tte,Yn({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var o=n.state.dropdownVisible,s=[n.renderReadView(!o)];return o&&s.unshift(n.renderDropdown()),s},n.onChange=function(o){n.toggleDropdown();var s=mr(o);nc(n.props.date,s)&&os(n.props.date,s)||n.props.onChange(s)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return r.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return at.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},r}(Y.Component),rte=function(t){co(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var o,s,l;n.list&&(n.list.scrollTop=(l=n.centerLi&&r.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((s=(o=n.header)===null||o===void 0?void 0:o.clientHeight)!==null&&s!==void 0?s:0):n.list.clientHeight,n.centerLi))!==null&&l!==void 0?l:0)})},n.handleClick=function(o){var s,l;(n.props.minTime||n.props.maxTime)&&jT(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&OT(o,n.props)||(l=(s=n.props).onChange)===null||l===void 0||l.call(s,o)},n.isSelectedTime=function(o){return n.props.selected&&Hee(n.props.selected,o)},n.isDisabledTime=function(o){return(n.props.minTime||n.props.maxTime)&&jT(o,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&OT(o,n.props)},n.liClasses=function(o){var s,l=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(o):void 0];return n.isSelectedTime(o)&&l.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(o)&&l.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(mc(o)*3600+gc(o)*60+du(o))%(((s=n.props.intervals)!==null&&s!==void 0?s:r.defaultProps.intervals)*60)!==0&&l.push("react-datepicker__time-list-item--injected"),l.join(" ")},n.handleOnKeyDown=function(o,s){var l,d;o.key===Lt.Space&&(o.preventDefault(),o.key=Lt.Enter),(o.key===Lt.ArrowUp||o.key===Lt.ArrowLeft)&&o.target instanceof HTMLElement&&o.target.previousSibling&&(o.preventDefault(),o.target.previousSibling instanceof HTMLElement&&o.target.previousSibling.focus()),(o.key===Lt.ArrowDown||o.key===Lt.ArrowRight)&&o.target instanceof HTMLElement&&o.target.nextSibling&&(o.preventDefault(),o.target.nextSibling instanceof HTMLElement&&o.target.nextSibling.focus()),o.key===Lt.Enter&&n.handleClick(s),(d=(l=n.props).handleOnKeyDown)===null||d===void 0||d.call(l,o)},n.renderTimes=function(){for(var o,s=[],l=typeof n.props.format=="string"?n.props.format:"p",d=(o=n.props.intervals)!==null&&o!==void 0?o:r.defaultProps.intervals,h=n.props.selected||n.props.openToDate||mr(),p=Ak(h),g=n.props.injectTimes&&n.props.injectTimes.sort(function(D,S){return D.getTime()-S.getTime()}),b=60*$ee(h),v=b/d,y=0;y<v;y++){var k=qA(p,y*d);if(s.push(k),g){var x=Vee(p,k,y,d,g);s=s.concat(x)}}var C=s.reduce(function(D,S){return S.getTime()<=h.getTime()?S:D},s[0]);return s.map(function(D){return at.createElement("li",{key:D.valueOf(),onClick:n.handleClick.bind(n,D),className:n.liClasses(D),ref:function(S){D===C&&(n.centerLi=S)},onKeyDown:function(S){n.handleOnKeyDown(S,D)},tabIndex:D===C?0:-1,role:"option","aria-selected":n.isSelectedTime(D)?"true":void 0,"aria-disabled":n.isDisabledTime(D)?"true":void 0},Br(D,l,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?at.createElement(at.Fragment,null):at.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(o){n.header=o}},at.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(r,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},r.prototype.render=function(){var n=this,o,s=this.state.height;return at.createElement("div",{className:"react-datepicker__time-container ".concat(((o=this.props.todayButton)!==null&&o!==void 0?o:r.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),at.createElement("div",{className:"react-datepicker__time"},at.createElement("div",{className:"react-datepicker__time-box"},at.createElement("ul",{className:"react-datepicker__time-list",ref:function(l){n.list=l},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},r.calcCenterPosition=function(n,o){return o.offsetTop-(n/2-o.clientHeight/2)},r}(Y.Component),WT=3,ite=function(t){co(r,t);function r(n){var o=t.call(this,n)||this;return o.YEAR_REFS=fc([],Array(o.props.yearItemNumber),!0).map(function(){return Y.createRef()}),o.isDisabled=function(s){return La(s,{minDate:o.props.minDate,maxDate:o.props.maxDate,excludeDates:o.props.excludeDates,includeDates:o.props.includeDates,filterDate:o.props.filterDate})},o.isExcluded=function(s){return gC(s,{excludeDates:o.props.excludeDates})},o.selectingDate=function(){var s;return(s=o.props.selectingDate)!==null&&s!==void 0?s:o.props.preSelection},o.updateFocusOnPaginate=function(s){var l=function(){var d,h;(h=(d=o.YEAR_REFS[s])===null||d===void 0?void 0:d.current)===null||h===void 0||h.focus()};window.requestAnimationFrame(l)},o.handleYearClick=function(s,l){o.props.onDayClick&&o.props.onDayClick(s,l)},o.handleYearNavigation=function(s,l){var d,h,p,g,b=o.props,v=b.date,y=b.yearItemNumber;if(!(v===void 0||y===void 0)){var k=ad(v,y).startPeriod;o.isDisabled(l)||o.isExcluded(l)||((h=(d=o.props).setPreSelection)===null||h===void 0||h.call(d,l),s-k<0?o.updateFocusOnPaginate(y-(k-s)):s-k>=y?o.updateFocusOnPaginate(Math.abs(y-(s-k))):(g=(p=o.YEAR_REFS[s-k])===null||p===void 0?void 0:p.current)===null||g===void 0||g.focus())}},o.isSameDay=function(s,l){return qn(s,l)},o.isCurrentYear=function(s){return s===Nn(mr())},o.isRangeStart=function(s){return o.props.startDate&&o.props.endDate&&nc(tc(mr(),s),o.props.startDate)},o.isRangeEnd=function(s){return o.props.startDate&&o.props.endDate&&nc(tc(mr(),s),o.props.endDate)},o.isInRange=function(s){return Z0(s,o.props.startDate,o.props.endDate)},o.isInSelectingRange=function(s){var l=o.props,d=l.selectsStart,h=l.selectsEnd,p=l.selectsRange,g=l.startDate,b=l.endDate;return!(d||h||p)||!o.selectingDate()?!1:d&&b?Z0(s,o.selectingDate(),b):h&&g||p&&g&&!b?Z0(s,g,o.selectingDate()):!1},o.isSelectingRangeStart=function(s){var l;if(!o.isInSelectingRange(s))return!1;var d=o.props,h=d.startDate,p=d.selectsStart,g=tc(mr(),s);return p?nc(g,(l=o.selectingDate())!==null&&l!==void 0?l:null):nc(g,h??null)},o.isSelectingRangeEnd=function(s){var l;if(!o.isInSelectingRange(s))return!1;var d=o.props,h=d.endDate,p=d.selectsEnd,g=d.selectsRange,b=tc(mr(),s);return p||g?nc(b,(l=o.selectingDate())!==null&&l!==void 0?l:null):nc(b,h??null)},o.isKeyboardSelected=function(s){if(!(o.props.date===void 0||o.props.selected==null||o.props.preSelection==null)){var l=o.props,d=l.minDate,h=l.maxDate,p=l.excludeDates,g=l.includeDates,b=l.filterDate,v=kg(tc(o.props.date,s)),y=(d||h||p||g||b)&&_k(s,o.props);return!o.props.disabledKeyboardNavigation&&!o.props.inline&&!qn(v,kg(o.props.selected))&&qn(v,kg(o.props.preSelection))&&!y}},o.onYearClick=function(s,l){var d=o.props.date;d!==void 0&&o.handleYearClick(kg(tc(d,l)),s)},o.onYearKeyDown=function(s,l){var d,h,p=s.key,g=o.props,b=g.date,v=g.yearItemNumber,y=g.handleOnKeyDown;if(p!==Lt.Tab&&s.preventDefault(),!o.props.disabledKeyboardNavigation)switch(p){case Lt.Enter:if(o.props.selected==null)break;o.onYearClick(s,l),(h=(d=o.props).setPreSelection)===null||h===void 0||h.call(d,o.props.selected);break;case Lt.ArrowRight:if(o.props.preSelection==null)break;o.handleYearNavigation(l+1,cu(o.props.preSelection,1));break;case Lt.ArrowLeft:if(o.props.preSelection==null)break;o.handleYearNavigation(l-1,Np(o.props.preSelection,1));break;case Lt.ArrowUp:{if(b===void 0||v===void 0||o.props.preSelection==null)break;var k=ad(b,v).startPeriod,x=WT,C=l-x;if(C<k){var D=v%x;l>=k&&l<k+D?x=D:x+=D,C=l-x}o.handleYearNavigation(C,Np(o.props.preSelection,x));break}case Lt.ArrowDown:{if(b===void 0||v===void 0||o.props.preSelection==null)break;var S=ad(b,v).endPeriod,x=WT,C=l+x;if(C>S){var D=v%x;l<=S&&l>S-D?x=D:x+=D,C=l+x}o.handleYearNavigation(C,cu(o.props.preSelection,x));break}}y&&y(s)},o.getYearClassNames=function(s){var l=o.props,d=l.date,h=l.minDate,p=l.maxDate,g=l.selected,b=l.excludeDates,v=l.includeDates,y=l.filterDate,k=l.yearClassName;return Xt("react-datepicker__year-text","react-datepicker__year-".concat(s),d?k==null?void 0:k(tc(d,s)):void 0,{"react-datepicker__year-text--selected":g?s===Nn(g):void 0,"react-datepicker__year-text--disabled":(h||p||b||v||y)&&_k(s,o.props),"react-datepicker__year-text--keyboard-selected":o.isKeyboardSelected(s),"react-datepicker__year-text--range-start":o.isRangeStart(s),"react-datepicker__year-text--range-end":o.isRangeEnd(s),"react-datepicker__year-text--in-range":o.isInRange(s),"react-datepicker__year-text--in-selecting-range":o.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":o.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":o.isSelectingRangeEnd(s),"react-datepicker__year-text--today":o.isCurrentYear(s)})},o.getYearTabIndex=function(s){if(o.props.disabledKeyboardNavigation||o.props.preSelection==null)return"-1";var l=Nn(o.props.preSelection),d=_k(s,o.props);return s===l&&!d?"0":"-1"},o.getYearContent=function(s){return o.props.renderYearContent?o.props.renderYearContent(s):s},o}return r.prototype.render=function(){var n=this,o=[],s=this.props,l=s.date,d=s.yearItemNumber,h=s.onYearMouseEnter,p=s.onYearMouseLeave;if(l===void 0)return null;for(var g=ad(l,d),b=g.startPeriod,v=g.endPeriod,y=function(C){o.push(at.createElement("div",{ref:k.YEAR_REFS[C-b],onClick:function(D){n.onYearClick(D,C)},onKeyDown:function(D){aj(D)&&(D.preventDefault(),D.key=Lt.Enter),n.onYearKeyDown(D,C)},tabIndex:Number(k.getYearTabIndex(C)),className:k.getYearClassNames(C),onMouseEnter:k.props.usePointerEvent?void 0:function(D){return h(D,C)},onPointerEnter:k.props.usePointerEvent?function(D){return h(D,C)}:void 0,onMouseLeave:k.props.usePointerEvent?void 0:function(D){return p(D,C)},onPointerLeave:k.props.usePointerEvent?function(D){return p(D,C)}:void 0,key:C,"aria-current":k.isCurrentYear(C)?"date":void 0},k.getYearContent(C)))},k=this,x=b;x<=v;x++)y(x);return at.createElement("div",{className:"react-datepicker__year"},at.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},o))},r}(Y.Component);function ote(t,r,n,o){for(var s=[],l=0;l<2*r+1;l++){var d=t+r-l,h=!0;n&&(h=Nn(n)<=d),o&&h&&(h=Nn(o)>=d),h&&s.push(d)}return s}var ste=function(t){co(r,t);function r(n){var o=t.call(this,n)||this;o.renderOptions=function(){var h=o.props.year,p=o.state.yearsList.map(function(v){return at.createElement("div",{className:h===v?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:v,onClick:o.onChange.bind(o,v),"aria-selected":h===v?"true":void 0},h===v?at.createElement("span",{className:"react-datepicker__year-option--selected"},"âœ“"):"",v)}),g=o.props.minDate?Nn(o.props.minDate):null,b=o.props.maxDate?Nn(o.props.maxDate):null;return(!b||!o.state.yearsList.find(function(v){return v===b}))&&p.unshift(at.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:o.incrementYears},at.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!g||!o.state.yearsList.find(function(v){return v===g}))&&p.push(at.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:o.decrementYears},at.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),p},o.onChange=function(h){o.props.onChange(h)},o.handleClickOutside=function(){o.props.onCancel()},o.shiftYears=function(h){var p=o.state.yearsList.map(function(g){return g+h});o.setState({yearsList:p})},o.incrementYears=function(){return o.shiftYears(1)},o.decrementYears=function(){return o.shiftYears(-1)};var s=n.yearDropdownItemNumber,l=n.scrollableYearDropdown,d=s||(l?10:5);return o.state={yearsList:ote(o.props.year,d,o.props.minDate,o.props.maxDate)},o.dropdownRef=Y.createRef(),o}return r.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var o=n.children?Array.from(n.children):null,s=o?o.find(function(l){return l.ariaSelected}):null;n.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},r.prototype.render=function(){var n=Xt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return at.createElement(L1,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(Y.Component),ate=function(t){co(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var o=n.props.minDate?Nn(n.props.minDate):1900,s=n.props.maxDate?Nn(n.props.maxDate):2100,l=[],d=o;d<=s;d++)l.push(at.createElement("option",{key:d,value:d},d));return l},n.onSelectChange=function(o){n.onChange(parseInt(o.target.value))},n.renderSelectMode=function(){return at.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(o){return at.createElement("div",{key:"read",style:{visibility:o?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(s){return n.toggleDropdown(s)}},at.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),at.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return at.createElement(ste,Yn({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var o=n.state.dropdownVisible,s=[n.renderReadView(!o)];return o&&s.unshift(n.renderDropdown()),s},n.onChange=function(o){n.toggleDropdown(),o!==n.props.year&&n.props.onChange(o)},n.toggleDropdown=function(o){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,o)})},n.handleYearChange=function(o,s){var l;(l=n.onSelect)===null||l===void 0||l.call(n,o,s),n.setOpen()},n.onSelect=function(o,s){var l,d;(d=(l=n.props).onSelect)===null||d===void 0||d.call(l,o,s)},n.setOpen=function(){var o,s;(s=(o=n.props).setOpen)===null||s===void 0||s.call(o,!0)},n}return r.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return at.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},r}(Y.Component),lte=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],cte=function(t){var r=(t.className||"").split(/\s+/);return lte.some(function(n){return r.indexOf(n)>=0})},ute=function(t){co(r,t);function r(n){var o=t.call(this,n)||this;return o.monthContainer=void 0,o.handleClickOutside=function(s){o.props.onClickOutside(s)},o.setClickOutsideRef=function(){return o.containerRef.current},o.handleDropdownFocus=function(s){var l,d;cte(s.target)&&((d=(l=o.props).onDropdownFocus)===null||d===void 0||d.call(l,s))},o.getDateInView=function(){var s=o.props,l=s.preSelection,d=s.selected,h=s.openToDate,p=oj(o.props),g=sj(o.props),b=mr(),v=h||d||l;return v||(p&&Hh(b,p)?p:g&&md(b,g)?g:b)},o.increaseMonth=function(){o.setState(function(s){var l=s.date;return{date:yl(l,1)}},function(){return o.handleMonthChange(o.state.date)})},o.decreaseMonth=function(){o.setState(function(s){var l=s.date;return{date:jh(l,1)}},function(){return o.handleMonthChange(o.state.date)})},o.handleDayClick=function(s,l,d){o.props.onSelect(s,l,d),o.props.setPreSelection&&o.props.setPreSelection(s)},o.handleDayMouseEnter=function(s){o.setState({selectingDate:s}),o.props.onDayMouseEnter&&o.props.onDayMouseEnter(s)},o.handleMonthMouseLeave=function(){o.setState({selectingDate:void 0}),o.props.onMonthMouseLeave&&o.props.onMonthMouseLeave()},o.handleYearMouseEnter=function(s,l){o.setState({selectingDate:tc(mr(),l)}),o.props.onYearMouseEnter&&o.props.onYearMouseEnter(s,l)},o.handleYearMouseLeave=function(s,l){o.props.onYearMouseLeave&&o.props.onYearMouseLeave(s,l)},o.handleYearChange=function(s){var l,d,h,p;(d=(l=o.props).onYearChange)===null||d===void 0||d.call(l,s),o.setState({isRenderAriaLiveMessage:!0}),o.props.adjustDateOnChange&&(o.props.onSelect(s),(p=(h=o.props).setOpen)===null||p===void 0||p.call(h,!0)),o.props.setPreSelection&&o.props.setPreSelection(s)},o.getEnabledPreSelectionDateForMonth=function(s){if(!La(s,o.props))return s;for(var l=hu(s),d=Nee(s),h=HQ(d,l),p=null,g=0;g<=h;g++){var b=wl(l,g);if(!La(b,o.props)){p=b;break}}return p},o.handleMonthChange=function(s){var l,d,h,p=(l=o.getEnabledPreSelectionDateForMonth(s))!==null&&l!==void 0?l:s;o.handleCustomMonthChange(p),o.props.adjustDateOnChange&&(o.props.onSelect(p),(h=(d=o.props).setOpen)===null||h===void 0||h.call(d,!0)),o.props.setPreSelection&&o.props.setPreSelection(p)},o.handleCustomMonthChange=function(s){var l,d;(d=(l=o.props).onMonthChange)===null||d===void 0||d.call(l,s),o.setState({isRenderAriaLiveMessage:!0})},o.handleMonthYearChange=function(s){o.handleYearChange(s),o.handleMonthChange(s)},o.changeYear=function(s){o.setState(function(l){var d=l.date;return{date:tc(d,Number(s))}},function(){return o.handleYearChange(o.state.date)})},o.changeMonth=function(s){o.setState(function(l){var d=l.date;return{date:Gs(d,Number(s))}},function(){return o.handleMonthChange(o.state.date)})},o.changeMonthYear=function(s){o.setState(function(l){var d=l.date;return{date:tc(Gs(d,ss(s)),Nn(s))}},function(){return o.handleMonthYearChange(o.state.date)})},o.header=function(s){s===void 0&&(s=o.state.date);var l=hd(s,o.props.locale,o.props.calendarStartDay),d=[];return o.props.showWeekNumbers&&d.push(at.createElement("div",{key:"W",className:"react-datepicker__day-name"},o.props.weekLabel||"#")),d.concat([0,1,2,3,4,5,6].map(function(h){var p=wl(l,h),g=o.formatWeekday(p,o.props.locale),b=o.props.weekDayClassName?o.props.weekDayClassName(p):void 0;return at.createElement("div",{key:h,"aria-label":Br(p,"EEEE",o.props.locale),className:Xt("react-datepicker__day-name",b)},g)}))},o.formatWeekday=function(s,l){return o.props.formatWeekDay?Mee(s,o.props.formatWeekDay,l):o.props.useWeekdaysShort?Oee(s,l):Pee(s,l)},o.decreaseYear=function(){o.setState(function(s){var l,d=s.date;return{date:Np(d,o.props.showYearPicker?(l=o.props.yearItemNumber)!==null&&l!==void 0?l:r.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.clearSelectingDate=function(){o.setState({selectingDate:void 0})},o.renderPreviousButton=function(){var s,l,d;if(!o.props.renderCustomHeader){var h=(s=o.props.monthsShown)!==null&&s!==void 0?s:r.defaultProps.monthsShown,p=o.props.showPreviousMonths?h-1:0,g=(l=o.props.monthSelectedIn)!==null&&l!==void 0?l:p,b=jh(o.state.date,g),v;switch(!0){case o.props.showMonthYearPicker:v=RT(o.state.date,o.props);break;case o.props.showYearPicker:v=Fee(o.state.date,o.props);break;case o.props.showQuarterYearPicker:v=Bee(o.state.date,o.props);break;default:v=LT(b,o.props);break}if(!(!((d=o.props.forceShowMonthNavigation)!==null&&d!==void 0?d:r.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&v||o.props.showTimeSelectOnly)){var y=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],k=["react-datepicker__navigation","react-datepicker__navigation--previous"],x=o.decreaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(x=o.decreaseYear),v&&o.props.showDisabledMonthNavigation&&(k.push("react-datepicker__navigation--previous--disabled"),x=void 0);var C=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,D=o.props,S=D.previousMonthButtonLabel,M=S===void 0?r.defaultProps.previousMonthButtonLabel:S,P=D.previousYearButtonLabel,B=P===void 0?r.defaultProps.previousYearButtonLabel:P,$=o.props,F=$.previousMonthAriaLabel,N=F===void 0?typeof M=="string"?M:"Previous Month":F,L=$.previousYearAriaLabel,U=L===void 0?typeof B=="string"?B:"Previous Year":L;return at.createElement("button",{type:"button",className:k.join(" "),onClick:x,onKeyDown:o.props.handleOnKeyDown,"aria-label":C?U:N},at.createElement("span",{className:y.join(" ")},C?B:M))}}},o.increaseYear=function(){o.setState(function(s){var l,d=s.date;return{date:cu(d,o.props.showYearPicker?(l=o.props.yearItemNumber)!==null&&l!==void 0?l:r.defaultProps.yearItemNumber:1)}},function(){return o.handleYearChange(o.state.date)})},o.renderNextButton=function(){var s;if(!o.props.renderCustomHeader){var l;switch(!0){case o.props.showMonthYearPicker:l=FT(o.state.date,o.props);break;case o.props.showYearPicker:l=zee(o.state.date,o.props);break;case o.props.showQuarterYearPicker:l=Ree(o.state.date,o.props);break;default:l=BT(o.state.date,o.props);break}if(!(!((s=o.props.forceShowMonthNavigation)!==null&&s!==void 0?s:r.defaultProps.forceShowMonthNavigation)&&!o.props.showDisabledMonthNavigation&&l||o.props.showTimeSelectOnly)){var d=["react-datepicker__navigation","react-datepicker__navigation--next"],h=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];o.props.showTimeSelect&&d.push("react-datepicker__navigation--next--with-time"),o.props.todayButton&&d.push("react-datepicker__navigation--next--with-today-button");var p=o.increaseMonth;(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker)&&(p=o.increaseYear),l&&o.props.showDisabledMonthNavigation&&(d.push("react-datepicker__navigation--next--disabled"),p=void 0);var g=o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker,b=o.props,v=b.nextMonthButtonLabel,y=v===void 0?r.defaultProps.nextMonthButtonLabel:v,k=b.nextYearButtonLabel,x=k===void 0?r.defaultProps.nextYearButtonLabel:k,C=o.props,D=C.nextMonthAriaLabel,S=D===void 0?typeof y=="string"?y:"Next Month":D,M=C.nextYearAriaLabel,P=M===void 0?typeof x=="string"?x:"Next Year":M;return at.createElement("button",{type:"button",className:d.join(" "),onClick:p,onKeyDown:o.props.handleOnKeyDown,"aria-label":g?P:S},at.createElement("span",{className:h.join(" ")},g?x:y))}}},o.renderCurrentMonth=function(s){s===void 0&&(s=o.state.date);var l=["react-datepicker__current-month"];return o.props.showYearDropdown&&l.push("react-datepicker__current-month--hasYearDropdown"),o.props.showMonthDropdown&&l.push("react-datepicker__current-month--hasMonthDropdown"),o.props.showMonthYearDropdown&&l.push("react-datepicker__current-month--hasMonthYearDropdown"),at.createElement("h2",{className:l.join(" ")},Br(s,o.props.dateFormat,o.props.locale))},o.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!o.props.showYearDropdown||s))return at.createElement(ate,Yn({},r.defaultProps,o.props,{date:o.state.date,onChange:o.changeYear,year:Nn(o.state.date)}))},o.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!o.props.showMonthDropdown||s))return at.createElement(Xee,Yn({},r.defaultProps,o.props,{month:ss(o.state.date),onChange:o.changeMonth}))},o.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!o.props.showMonthYearDropdown||s))return at.createElement(nte,Yn({},r.defaultProps,o.props,{date:o.state.date,onChange:o.changeMonthYear}))},o.handleTodayButtonClick=function(s){o.props.onSelect(NT(),s),o.props.setPreSelection&&o.props.setPreSelection(NT())},o.renderTodayButton=function(){if(!(!o.props.todayButton||o.props.showTimeSelectOnly))return at.createElement("div",{className:"react-datepicker__today-button",onClick:o.handleTodayButtonClick},o.props.todayButton)},o.renderDefaultHeader=function(s){var l=s.monthDate,d=s.i;return at.createElement("div",{className:"react-datepicker__header ".concat(o.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},o.renderCurrentMonth(l),at.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(o.props.dropdownMode),onFocus:o.handleDropdownFocus},o.renderMonthDropdown(d!==0),o.renderMonthYearDropdown(d!==0),o.renderYearDropdown(d!==0)),at.createElement("div",{className:"react-datepicker__day-names"},o.header(l)))},o.renderCustomHeader=function(s){var l,d,h=s.monthDate,p=s.i;if(o.props.showTimeSelect&&!o.state.monthContainer||o.props.showTimeSelectOnly)return null;var g=LT(o.state.date,o.props),b=BT(o.state.date,o.props),v=RT(o.state.date,o.props),y=FT(o.state.date,o.props),k=!o.props.showMonthYearPicker&&!o.props.showQuarterYearPicker&&!o.props.showYearPicker;return at.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:o.props.onDropdownFocus},(d=(l=o.props).renderCustomHeader)===null||d===void 0?void 0:d.call(l,Yn(Yn({},o.state),{customHeaderCount:p,monthDate:h,changeMonth:o.changeMonth,changeYear:o.changeYear,decreaseMonth:o.decreaseMonth,increaseMonth:o.increaseMonth,decreaseYear:o.decreaseYear,increaseYear:o.increaseYear,prevMonthButtonDisabled:g,nextMonthButtonDisabled:b,prevYearButtonDisabled:v,nextYearButtonDisabled:y})),k&&at.createElement("div",{className:"react-datepicker__day-names"},o.header(h)))},o.renderYearHeader=function(s){var l=s.monthDate,d=o.props,h=d.showYearPicker,p=d.yearItemNumber,g=p===void 0?r.defaultProps.yearItemNumber:p,b=ad(l,g),v=b.startPeriod,y=b.endPeriod;return at.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},h?"".concat(v," - ").concat(y):Nn(l))},o.renderHeader=function(s){var l=s.monthDate,d=s.i,h=d===void 0?0:d,p={monthDate:l,i:h};switch(!0){case o.props.renderCustomHeader!==void 0:return o.renderCustomHeader(p);case(o.props.showMonthYearPicker||o.props.showQuarterYearPicker||o.props.showYearPicker):return o.renderYearHeader(p);default:return o.renderDefaultHeader(p)}},o.renderMonths=function(){var s,l;if(!(o.props.showTimeSelectOnly||o.props.showYearPicker)){for(var d=[],h=(s=o.props.monthsShown)!==null&&s!==void 0?s:r.defaultProps.monthsShown,p=o.props.showPreviousMonths?h-1:0,g=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?cu(o.state.date,p):jh(o.state.date,p),b=(l=o.props.monthSelectedIn)!==null&&l!==void 0?l:p,v=0;v<h;++v){var y=v-b+p,k=o.props.showMonthYearPicker||o.props.showQuarterYearPicker?cu(g,y):yl(g,y),x="month-".concat(v),C=v<h-1,D=v>0;d.push(at.createElement("div",{key:x,ref:function(S){o.monthContainer=S??void 0},className:"react-datepicker__month-container"},o.renderHeader({monthDate:k,i:v}),at.createElement(Jee,Yn({},r.defaultProps,o.props,{ariaLabelPrefix:o.props.monthAriaLabelPrefix,day:k,onDayClick:o.handleDayClick,handleOnKeyDown:o.props.handleOnDayKeyDown,handleOnMonthKeyDown:o.props.handleOnKeyDown,onDayMouseEnter:o.handleDayMouseEnter,onMouseLeave:o.handleMonthMouseLeave,orderInDisplay:v,selectingDate:o.state.selectingDate,monthShowsDuplicateDaysEnd:C,monthShowsDuplicateDaysStart:D}))))}return d}},o.renderYears=function(){if(!o.props.showTimeSelectOnly&&o.props.showYearPicker)return at.createElement("div",{className:"react-datepicker__year--container"},o.renderHeader({monthDate:o.state.date}),at.createElement(ite,Yn({},r.defaultProps,o.props,{selectingDate:o.state.selectingDate,date:o.state.date,onDayClick:o.handleDayClick,clearSelectingDate:o.clearSelectingDate,onYearMouseEnter:o.handleYearMouseEnter,onYearMouseLeave:o.handleYearMouseLeave})))},o.renderTimeSection=function(){if(o.props.showTimeSelect&&(o.state.monthContainer||o.props.showTimeSelectOnly))return at.createElement(rte,Yn({},r.defaultProps,o.props,{onChange:o.props.onTimeChange,format:o.props.timeFormat,intervals:o.props.timeIntervals,monthRef:o.state.monthContainer}))},o.renderInputTimeSection=function(){var s=o.props.selected?new Date(o.props.selected):void 0,l=s&&iu(s)&&!!o.props.selected,d=l?"".concat(UT(s.getHours()),":").concat(UT(s.getMinutes())):"";if(o.props.showTimeInput)return at.createElement(Wee,Yn({},r.defaultProps,o.props,{date:s,timeString:d,onChange:o.props.onTimeChange}))},o.renderAriaLiveRegion=function(){var s,l=ad(o.state.date,(s=o.props.yearItemNumber)!==null&&s!==void 0?s:r.defaultProps.yearItemNumber),d=l.startPeriod,h=l.endPeriod,p;return o.props.showYearPicker?p="".concat(d," - ").concat(h):o.props.showMonthYearPicker||o.props.showQuarterYearPicker?p=Nn(o.state.date):p="".concat(mC(ss(o.state.date),o.props.locale)," ").concat(Nn(o.state.date)),at.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},o.state.isRenderAriaLiveMessage&&p)},o.renderChildren=function(){if(o.props.children)return at.createElement("div",{className:"react-datepicker__children-container"},o.props.children)},o.containerRef=Y.createRef(),o.state={date:o.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},o}return Object.defineProperty(r,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:sb}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},r.prototype.componentDidUpdate=function(n){var o=this;if(this.props.preSelection&&(!qn(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var s=!os(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&o.handleCustomMonthChange(o.state.date)})}else this.props.openToDate&&!qn(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},r.prototype.render=function(){var n=this.props.container||_ee;return at.createElement(L1,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},at.createElement(n,{className:Xt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},r}(Y.Component),dte=function(t){var r=t.icon,n=t.className,o=n===void 0?"":n,s=t.onClick,l="react-datepicker__calendar-icon";return typeof r=="string"?at.createElement("i",{className:"".concat(l," ").concat(r," ").concat(o),"aria-hidden":"true",onClick:s}):at.isValidElement(r)?at.cloneElement(r,{className:"".concat(r.props.className||""," ").concat(l," ").concat(o),onClick:function(d){typeof r.props.onClick=="function"&&r.props.onClick(d),typeof s=="function"&&s(d)}}):at.createElement("svg",{className:"".concat(l," ").concat(o),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},at.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},lj=function(t){co(r,t);function r(n){var o=t.call(this,n)||this;return o.portalRoot=null,o.el=document.createElement("div"),o}return r.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},r.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},r.prototype.render=function(){return TW.createPortal(this.props.children,this.el)},r}(Y.Component),hte="[tabindex], a, button, input, select, textarea",fte=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},cj=function(t){co(r,t);function r(n){var o=t.call(this,n)||this;return o.getTabChildren=function(){var s;return Array.prototype.slice.call((s=o.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(hte),1,-1).filter(fte)},o.handleFocusStart=function(){var s=o.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},o.handleFocusEnd=function(){var s=o.getTabChildren();s&&s.length>1&&s[0].focus()},o.tabLoopRef=Y.createRef(),o}return r.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:r.defaultProps.enableTabLoop)?at.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},at.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,at.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},r.defaultProps={enableTabLoop:!0},r}(Y.Component);function pte(t){var r=function(n){var o,s=typeof n.hidePopper=="boolean"?n.hidePopper:!0,l=Y.useRef(null),d=Aee(Yn({open:!s,whileElementsMounted:eee,placement:n.popperPlacement,middleware:fc([cee({padding:15}),lee(10),uee({element:l})],(o=n.popperModifiers)!==null&&o!==void 0?o:[],!0)},n.popperProps)),h=Yn(Yn({},n),{hidePopper:s,popperProps:Yn(Yn({},d),{arrowRef:l})});return at.createElement(t,Yn({},h))};return r}var mte=function(t){co(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(r,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var n=this.props,o=n.className,s=n.wrapperClassName,l=n.hidePopper,d=l===void 0?r.defaultProps.hidePopper:l,h=n.popperComponent,p=n.targetComponent,g=n.enableTabLoop,b=n.popperOnKeyDown,v=n.portalId,y=n.portalHost,k=n.popperProps,x=n.showArrow,C=void 0;if(!d){var D=Xt("react-datepicker-popper",o);C=at.createElement(cj,{enableTabLoop:g},at.createElement("div",{ref:k.refs.setFloating,style:k.floatingStyles,className:D,"data-placement":k.placement,onKeyDown:b},h,x&&at.createElement(mee,{ref:k.arrowRef,context:k.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(C=Y.createElement(this.props.popperContainer,{},C)),v&&!d&&(C=at.createElement(lj,{portalId:v,portalHost:y},C));var S=Xt("react-datepicker-wrapper",s);return at.createElement(at.Fragment,null,at.createElement("div",{ref:k.refs.setReference,className:S},p),C)},r}(Y.Component),gte=pte(mte),GT="react-datepicker-ignore-onclickoutside";function bte(t,r){return t&&r?ss(t)!==ss(r)||Nn(t)!==Nn(r):t!==r}var Bv="Date input not valid.",kte=function(t){co(r,t);function r(n){var o=t.call(this,n)||this;return o.calendar=null,o.input=null,o.getPreSelection=function(){return o.props.openToDate?o.props.openToDate:o.props.selectsEnd&&o.props.startDate?o.props.startDate:o.props.selectsStart&&o.props.endDate?o.props.endDate:mr()},o.modifyHolidays=function(){var s;return(s=o.props.holidays)===null||s===void 0?void 0:s.reduce(function(l,d){var h=new Date(d.date);return iu(h)?fc(fc([],l,!0),[Yn(Yn({},d),{date:h})],!1):l},[])},o.calcInitialState=function(){var s,l=o.getPreSelection(),d=oj(o.props),h=sj(o.props),p=d&&Hh(l,Ak(d))?d:h&&md(l,MT(h))?h:l;return{open:o.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=o.props.selectsRange?o.props.startDate:o.props.selected)!==null&&s!==void 0?s:p,highlightDates:zT(o.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},o.resetHiddenStatus=function(){o.setState(Yn(Yn({},o.state),{wasHidden:!1}))},o.setHiddenStatus=function(){o.setState(Yn(Yn({},o.state),{wasHidden:!0}))},o.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&o.setHiddenStatus()},o.clearPreventFocusTimeout=function(){o.preventFocusTimeout&&clearTimeout(o.preventFocusTimeout)},o.safeFocus=function(){setTimeout(function(){var s,l;(l=(s=o.input)===null||s===void 0?void 0:s.focus)===null||l===void 0||l.call(s,{preventScroll:!0})},0)},o.safeBlur=function(){setTimeout(function(){var s,l;(l=(s=o.input)===null||s===void 0?void 0:s.blur)===null||l===void 0||l.call(s)},0)},o.setFocus=function(){o.safeFocus()},o.setBlur=function(){o.safeBlur(),o.cancelFocusInput()},o.setOpen=function(s,l){l===void 0&&(l=!1),o.setState({open:s,preSelection:s&&o.state.open?o.state.preSelection:o.calcInitialState().preSelection,lastPreSelectChange:Rv},function(){s||o.setState(function(d){return{focused:l?d.focused:!1}},function(){!l&&o.setBlur(),o.setState({inputValue:null})})})},o.inputOk=function(){return uu(o.state.preSelection)},o.isCalendarOpen=function(){return o.props.open===void 0?o.state.open&&!o.props.disabled&&!o.props.readOnly:o.props.open},o.handleFocus=function(s){var l,d,h=o.state.wasHidden,p=h?o.state.open:!0;h&&o.resetHiddenStatus(),!o.state.preventFocus&&p&&((d=(l=o.props).onFocus)===null||d===void 0||d.call(l,s),!o.props.preventOpenOnFocus&&!o.props.readOnly&&o.setOpen(!0)),o.setState({focused:!0})},o.sendFocusBackToInput=function(){o.preventFocusTimeout&&o.clearPreventFocusTimeout(),o.setState({preventFocus:!0},function(){o.preventFocusTimeout=setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})})},o.cancelFocusInput=function(){clearTimeout(o.inputFocusTimeout),o.inputFocusTimeout=void 0},o.deferFocusInput=function(){o.cancelFocusInput(),o.inputFocusTimeout=setTimeout(function(){return o.setFocus()},1)},o.handleDropdownFocus=function(){o.cancelFocusInput()},o.handleBlur=function(s){var l,d;(!o.state.open||o.props.withPortal||o.props.showTimeInput)&&((d=(l=o.props).onBlur)===null||d===void 0||d.call(l,s)),o.setState({focused:!1})},o.handleCalendarClickOutside=function(s){var l,d;o.props.inline||o.setOpen(!1),(d=(l=o.props).onClickOutside)===null||d===void 0||d.call(l,s),o.props.withPortal&&s.preventDefault()},o.handleChange=function(){for(var s,l,d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var p=d[0];if(!(o.props.onChangeRaw&&(o.props.onChangeRaw.apply(o,d),!p||typeof p.isDefaultPrevented!="function"||p.isDefaultPrevented()))){o.setState({inputValue:(p==null?void 0:p.target)instanceof HTMLInputElement?p.target.value:null,lastPreSelectChange:wte});var g=o.props,b=g.dateFormat,v=b===void 0?r.defaultProps.dateFormat:b,y=g.strictParsing,k=y===void 0?r.defaultProps.strictParsing:y,x=g.selectsRange,C=g.startDate,D=g.endDate,S=(p==null?void 0:p.target)instanceof HTMLInputElement?p.target.value:"";if(x){var M=S.split("-",2).map(function(Q){return Q.trim()}),P=M[0],B=M[1],$=Ov(P??"",v,o.props.locale,k),F=Ov(B??"",v,o.props.locale,k),N=(C==null?void 0:C.getTime())!==($==null?void 0:$.getTime()),L=(D==null?void 0:D.getTime())!==(F==null?void 0:F.getTime());if(!N&&!L||$&&La($,o.props)||F&&La(F,o.props))return;(l=(s=o.props).onChange)===null||l===void 0||l.call(s,[$,F],p)}else{var U=Ov(S,v,o.props.locale,k,o.props.minDate);o.props.showTimeSelectOnly&&o.props.selected&&U&&!qn(U,o.props.selected)&&(U=rX(o.props.selected,{hours:mc(U),minutes:gc(U),seconds:du(U)})),(U||!S)&&o.setSelected(U,p,!0)}}},o.handleSelect=function(s,l,d){if(o.props.shouldCloseOnSelect&&!o.props.showTimeSelect&&o.sendFocusBackToInput(),o.props.onChangeRaw&&o.props.onChangeRaw(l),o.setSelected(s,l,!1,d),o.props.showDateSelect&&o.setState({isRenderAriaLiveMessage:!0}),!o.props.shouldCloseOnSelect||o.props.showTimeSelect)o.setPreSelection(s);else if(!o.props.inline){o.props.selectsRange||o.setOpen(!1);var h=o.props,p=h.startDate,g=h.endDate;p&&!g&&(o.props.swapRange||!$T(s,p))&&o.setOpen(!1)}},o.setSelected=function(s,l,d,h){var p,g,b=s;if(o.props.showYearPicker){if(b!==null&&_k(Nn(b),o.props))return}else if(o.props.showMonthYearPicker){if(b!==null&&ij(b,o.props))return}else if(b!==null&&La(b,o.props))return;var v=o.props,y=v.onChange,k=v.selectsRange,x=v.startDate,C=v.endDate,D=v.selectsMultiple,S=v.selectedDates,M=v.minTime,P=v.swapRange;if(!Dh(o.props.selected,b)||o.props.allowSameDay||k||D)if(b!==null&&(o.props.selected&&(!d||!o.props.showTimeSelect&&!o.props.showTimeSelectOnly&&!o.props.showTimeInput)&&(b=jv(b,{hour:mc(o.props.selected),minute:gc(o.props.selected),second:du(o.props.selected)})),!d&&(o.props.showTimeSelect||o.props.showTimeSelectOnly)&&M&&(b=jv(b,{hour:M.getHours(),minute:M.getMinutes(),second:M.getSeconds()})),o.props.inline||o.setState({preSelection:b}),o.props.focusSelectedMonth||o.setState({monthSelectedIn:h})),k){var B=!x&&!C,$=x&&!C,F=x&&C;B?y==null||y([b,null],l):$&&(b===null?y==null||y([null,null],l):$T(b,x)?P?y==null||y([b,x],l):y==null||y([b,null],l):y==null||y([x,b],l)),F&&(y==null||y([b,null],l))}else if(D){if(b!==null)if(!(S!=null&&S.length))y==null||y([b],l);else{var N=S.some(function(U){return qn(U,b)});if(N){var L=S.filter(function(U){return!qn(U,b)});y==null||y(L,l)}else y==null||y(fc(fc([],S,!0),[b],!1),l)}}else y==null||y(b,l);d||((g=(p=o.props).onSelect)===null||g===void 0||g.call(p,b,l),o.setState({inputValue:null}))},o.setPreSelection=function(s){var l=uu(o.props.minDate),d=uu(o.props.maxDate),h=!0;if(s){var p=Ak(s);if(l&&d)h=wg(s,o.props.minDate,o.props.maxDate);else if(l){var g=Ak(o.props.minDate);h=md(s,g)||Dh(p,g)}else if(d){var b=MT(o.props.maxDate);h=Hh(s,b)||Dh(p,b)}}h&&o.setState({preSelection:s})},o.toggleCalendar=function(){o.setOpen(!o.state.open)},o.handleTimeChange=function(s){var l,d;if(!(o.props.selectsRange||o.props.selectsMultiple)){var h=o.props.selected?o.props.selected:o.getPreSelection(),p=o.props.selected?s:jv(h,{hour:mc(s),minute:gc(s)});o.setState({preSelection:p}),(d=(l=o.props).onChange)===null||d===void 0||d.call(l,p),o.props.shouldCloseOnSelect&&!o.props.showTimeInput&&(o.sendFocusBackToInput(),o.setOpen(!1)),o.props.showTimeInput&&o.setOpen(!0),(o.props.showTimeSelectOnly||o.props.showTimeSelect)&&o.setState({isRenderAriaLiveMessage:!0}),o.setState({inputValue:null})}},o.onInputClick=function(){var s,l;!o.props.disabled&&!o.props.readOnly&&o.setOpen(!0),(l=(s=o.props).onInputClick)===null||l===void 0||l.call(s)},o.onInputKeyDown=function(s){var l,d,h,p,g,b;(d=(l=o.props).onKeyDown)===null||d===void 0||d.call(l,s);var v=s.key;if(!o.state.open&&!o.props.inline&&!o.props.preventOpenOnFocus){(v===Lt.ArrowDown||v===Lt.ArrowUp||v===Lt.Enter)&&((h=o.onInputClick)===null||h===void 0||h.call(o));return}if(o.state.open){if(v===Lt.ArrowDown||v===Lt.ArrowUp){s.preventDefault();var y=o.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":o.props.showWeekPicker&&o.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':o.props.showFullMonthYearPicker||o.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',k=((p=o.calendar)===null||p===void 0?void 0:p.containerRef.current)instanceof Element&&o.calendar.containerRef.current.querySelector(y);k instanceof HTMLElement&&k.focus({preventScroll:!0});return}var x=mr(o.state.preSelection);v===Lt.Enter?(s.preventDefault(),s.target.blur(),o.inputOk()&&o.state.lastPreSelectChange===Rv?(o.handleSelect(x,s),!o.props.shouldCloseOnSelect&&o.setPreSelection(x)):o.setOpen(!1)):v===Lt.Escape?(s.preventDefault(),s.target.blur(),o.sendFocusBackToInput(),o.setOpen(!1)):v===Lt.Tab&&o.setOpen(!1),o.inputOk()||(b=(g=o.props).onInputError)===null||b===void 0||b.call(g,{code:1,msg:Bv})}},o.onPortalKeyDown=function(s){var l=s.key;l===Lt.Escape&&(s.preventDefault(),o.setState({preventFocus:!0},function(){o.setOpen(!1),setTimeout(function(){o.setFocus(),o.setState({preventFocus:!1})})}))},o.onDayKeyDown=function(s){var l,d,h,p,g,b,v=o.props,y=v.minDate,k=v.maxDate,x=v.disabledKeyboardNavigation,C=v.showWeekPicker,D=v.shouldCloseOnSelect,S=v.locale,M=v.calendarStartDay,P=v.adjustDateOnChange,B=v.inline;if((d=(l=o.props).onKeyDown)===null||d===void 0||d.call(l,s),!x){var $=s.key,F=s.shiftKey,N=mr(o.state.preSelection),L=function(ne,ue){var ie=ue;switch(ne){case Lt.ArrowRight:ie=C?Gk(ue,1):wl(ue,1);break;case Lt.ArrowLeft:ie=C?wT(ue):zZ(ue);break;case Lt.ArrowUp:ie=wT(ue);break;case Lt.ArrowDown:ie=Gk(ue,1);break;case Lt.PageUp:ie=F?Np(ue,1):jh(ue,1);break;case Lt.PageDown:ie=F?cu(ue,1):yl(ue,1);break;case Lt.Home:ie=hd(ue,S,M);break;case Lt.End:ie=Tee(ue);break}return ie},U=function(ne,ue){for(var ie=40,oe=ne,ye=!1,re=0,Ce=L(ne,ue);!ye;){if(re>=ie){Ce=ue;break}y&&Ce<y&&(oe=Lt.ArrowRight,Ce=La(y,o.props)?L(oe,Ce):y),k&&Ce>k&&(oe=Lt.ArrowLeft,Ce=La(k,o.props)?L(oe,Ce):k),La(Ce,o.props)?((oe===Lt.PageUp||oe===Lt.Home)&&(oe=Lt.ArrowRight),(oe===Lt.PageDown||oe===Lt.End)&&(oe=Lt.ArrowLeft),Ce=L(oe,Ce)):ye=!0,re++}return Ce};if($===Lt.Enter){s.preventDefault(),o.handleSelect(N,s),!D&&o.setPreSelection(N);return}else if($===Lt.Escape){s.preventDefault(),o.setOpen(!1),o.inputOk()||(p=(h=o.props).onInputError)===null||p===void 0||p.call(h,{code:1,msg:Bv});return}var Q=null;switch($){case Lt.ArrowLeft:case Lt.ArrowRight:case Lt.ArrowUp:case Lt.ArrowDown:case Lt.PageUp:case Lt.PageDown:case Lt.Home:case Lt.End:Q=U($,N);break}if(!Q){(b=(g=o.props).onInputError)===null||b===void 0||b.call(g,{code:1,msg:Bv});return}if(s.preventDefault(),o.setState({lastPreSelectChange:Rv}),P&&o.setSelected(Q),o.setPreSelection(Q),B){var H=ss(N),z=ss(Q),G=Nn(N),R=Nn(Q);H!==z||G!==R?o.setState({shouldFocusDayInline:!0}):o.setState({shouldFocusDayInline:!1})}}},o.onPopperKeyDown=function(s){var l=s.key;l===Lt.Escape&&(s.preventDefault(),o.sendFocusBackToInput())},o.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),o.sendFocusBackToInput();var l=o.props,d=l.selectsRange,h=l.onChange;d?h==null||h([null,null],s):h==null||h(null,s),o.setState({inputValue:null})},o.clear=function(){o.onClearClick()},o.onScroll=function(s){typeof o.props.closeOnScroll=="boolean"&&o.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&o.setOpen(!1):typeof o.props.closeOnScroll=="function"&&o.props.closeOnScroll(s)&&o.setOpen(!1)},o.renderCalendar=function(){var s,l;return!o.props.inline&&!o.isCalendarOpen()?null:at.createElement(ute,Yn({showMonthYearDropdown:void 0,ref:function(d){o.calendar=d}},o.props,o.state,{setOpen:o.setOpen,dateFormat:(s=o.props.dateFormatCalendar)!==null&&s!==void 0?s:r.defaultProps.dateFormatCalendar,onSelect:o.handleSelect,onClickOutside:o.handleCalendarClickOutside,holidays:qee(o.modifyHolidays()),outsideClickIgnoreClass:GT,onDropdownFocus:o.handleDropdownFocus,onTimeChange:o.handleTimeChange,className:o.props.calendarClassName,container:o.props.calendarContainer,handleOnKeyDown:o.props.onKeyDown,handleOnDayKeyDown:o.onDayKeyDown,setPreSelection:o.setPreSelection,dropdownMode:(l=o.props.dropdownMode)!==null&&l!==void 0?l:r.defaultProps.dropdownMode}),o.props.children)},o.renderAriaLiveRegion=function(){var s=o.props,l=s.dateFormat,d=l===void 0?r.defaultProps.dateFormat:l,h=s.locale,p=o.props.showTimeInput||o.props.showTimeSelect,g=p?"PPPPp":"PPPP",b;return o.props.selectsRange?b="Selected start date: ".concat(Oa(o.props.startDate,{dateFormat:g,locale:h}),". ").concat(o.props.endDate?"End date: "+Oa(o.props.endDate,{dateFormat:g,locale:h}):""):o.props.showTimeSelectOnly?b="Selected time: ".concat(Oa(o.props.selected,{dateFormat:d,locale:h})):o.props.showYearPicker?b="Selected year: ".concat(Oa(o.props.selected,{dateFormat:"yyyy",locale:h})):o.props.showMonthYearPicker?b="Selected month: ".concat(Oa(o.props.selected,{dateFormat:"MMMM yyyy",locale:h})):o.props.showQuarterYearPicker?b="Selected quarter: ".concat(Oa(o.props.selected,{dateFormat:"yyyy, QQQ",locale:h})):b="Selected date: ".concat(Oa(o.props.selected,{dateFormat:g,locale:h})),at.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},b)},o.renderDateInput=function(){var s,l,d,h=Xt(o.props.className,(s={},s[GT]=o.state.open,s)),p=o.props.customInput||at.createElement("input",{type:"text"}),g=o.props.customInputRef||"ref",b=o.props,v=b.dateFormat,y=v===void 0?r.defaultProps.dateFormat:v,k=b.locale,x=typeof o.props.value=="string"?o.props.value:typeof o.state.inputValue=="string"?o.state.inputValue:o.props.selectsRange?See(o.props.startDate,o.props.endDate,{dateFormat:y,locale:k}):o.props.selectsMultiple?Eee((d=o.props.selectedDates)!==null&&d!==void 0?d:[],{dateFormat:y,locale:k}):Oa(o.props.selected,{dateFormat:y,locale:k});return Y.cloneElement(p,(l={},l[g]=function(C){o.input=C},l.value=x,l.onBlur=o.handleBlur,l.onChange=o.handleChange,l.onClick=o.onInputClick,l.onFocus=o.handleFocus,l.onKeyDown=o.onInputKeyDown,l.id=o.props.id,l.name=o.props.name,l.form=o.props.form,l.autoFocus=o.props.autoFocus,l.placeholder=o.props.placeholderText,l.disabled=o.props.disabled,l.autoComplete=o.props.autoComplete,l.className=Xt(p.props.className,h),l.title=o.props.title,l.readOnly=o.props.readOnly,l.required=o.props.required,l.tabIndex=o.props.tabIndex,l["aria-describedby"]=o.props.ariaDescribedBy,l["aria-invalid"]=o.props.ariaInvalid,l["aria-labelledby"]=o.props.ariaLabelledBy,l["aria-required"]=o.props.ariaRequired,l))},o.renderClearButton=function(){var s=o.props,l=s.isClearable,d=s.disabled,h=s.selected,p=s.startDate,g=s.endDate,b=s.clearButtonTitle,v=s.clearButtonClassName,y=v===void 0?"":v,k=s.ariaLabelClose,x=k===void 0?"Close":k,C=s.selectedDates;return l&&(h!=null||p!=null||g!=null||C!=null&&C.length)?at.createElement("button",{type:"button",className:Xt("react-datepicker__close-icon",y,{"react-datepicker__close-icon--disabled":d}),disabled:d,"aria-label":x,onClick:o.onClearClick,title:b,tabIndex:-1}):null},o.state=o.calcInitialState(),o.preventFocusTimeout=void 0,o}return Object.defineProperty(r,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:sb,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.componentDidUpdate=function(n,o){var s,l,d,h;n.inline&&bte(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:zT(this.props.highlightDates)}),!o.focused&&!Dh(n.selected,this.props.selected)&&this.setState({inputValue:null}),o.open!==this.state.open&&(o.open===!1&&this.state.open===!0&&((l=(s=this.props).onCalendarOpen)===null||l===void 0||l.call(s)),o.open===!0&&this.state.open===!1&&((h=(d=this.props).onCalendarClose)===null||h===void 0||h.call(d)))},r.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.renderInputContainer=function(){var n=this.props,o=n.showIcon,s=n.icon,l=n.calendarIconClassname,d=n.calendarIconClassName,h=n.toggleCalendarOnIconClick,p=this.state.open;return l&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),at.createElement("div",{className:"react-datepicker__input-container".concat(o?" react-datepicker__view-calendar-icon":"")},o&&at.createElement(dte,Yn({icon:s,className:Xt(d,!d&&l,p&&"react-datepicker-ignore-onclickoutside")},h?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},r.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var o=this.state.open?at.createElement(cj,{enableTabLoop:this.props.enableTabLoop},at.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(o=at.createElement(lj,Yn({portalId:this.props.portalId},this.props),o)),at.createElement("div",null,this.renderInputContainer(),o)}return at.createElement(gte,Yn({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},r}(Y.Component),wte="input",Rv="navigate";const yte=x1(Jt)({width:"100%"}),uj=at.forwardRef((t,r)=>A.jsx(yte,{...t,inputRef:r,fullWidth:!0}));uj.displayName="CustomInput";const vte=({value:t,onChange:r})=>A.jsx(Pe,{sx:{mb:2},children:A.jsx(kte,{selected:t,onChange:n=>r(n),showTimeSelect:!0,dateFormat:"Pp",customInput:A.jsx(uj,{label:"Schedule Publish Date & Time"})})}),Ate=Y.lazy(()=>Ki(()=>import("./MaterialImportWrapper-BKZT1iDI.js"),__vite__mapDeps([3,4,1,5]))),_te=({src:t,alt:r})=>{const[n,o]=Y.useState(!1),[s,l]=Y.useState(!1);return Y.useEffect(()=>{const d=new Image;return d.src=t,d.onload=()=>o(!0),d.onerror=()=>l(!0),()=>{d.onload=null,d.onerror=null}},[t]),s?A.jsx(Pe,{sx:{width:"50%",height:150,bgcolor:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:1,border:"1px dashed #ccc",marginBottom:"16px"},children:A.jsx(je,{variant:"body2",color:"text.secondary",children:"Image failed to load"})}):A.jsxs(A.Fragment,{children:[!n&&A.jsx(IP,{variant:"rectangular",width:"50%",height:150,sx:{borderRadius:1,marginBottom:"16px"}}),A.jsx(qk,{in:n,timeout:300,children:A.jsx(Pe,{sx:{display:n?"block":"none"},children:A.jsx("img",{src:t,alt:r,style:{maxWidth:"50%",marginBottom:"16px",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"all 0.2s ease-in-out"}})})})]})},dj=({materialData:t})=>{var Qt,bn,Dn,Vn,zr,Kr,Rn,tn,In,Go,Mn,eo,si,$t,qi,to,ai,xr,kr,$n,us,ds,Eo,Do,Io,wi,Vi,To,ca,Ga,uo,Ya,Ka,Ec;const r=Wr(),{userDetails:n}=Pi(),o=Kn(),{uploadedFile:s,uploadOriginalFile:l,originalFileUrl:d,originalFileUploadProgress:h}=Zh(),[p]=E1(),g=p.get("course"),[b,v]=Y.useState((t==null?void 0:t.course)||g||""),[y,k]=Y.useState((t==null?void 0:t.id)||null),[x,C]=Y.useState((t==null?void 0:t.title)||""),[D,S]=Y.useState((t==null?void 0:t.header)||{title:"Header",content:""}),[M,P]=Y.useState((t==null?void 0:t.footer)||{title:"Footer",content:""}),[B,$]=Y.useState((t==null?void 0:t.sections)||[{id:zo(),title:"Section 1",content:"",subsections:[],images:[],links:[]}]),[F,N]=Y.useState({sectionIndex:0}),[L,U]=Y.useState(!1),[Q,H]=Y.useState(""),[z,G]=Y.useState("success"),[R,ne]=Y.useState(!1),[ue,ie]=Y.useState(((Qt=t==null?void 0:t.scheduledTimestamp)==null?void 0:Qt.toDate())||null),[oe,ye]=Y.useState(!1),[re,Ce]=Y.useState("manual"),[X,J]=Y.useState(!1),[fe,le]=Y.useState(null),[ae,Se]=Y.useState(null),[xe,Te]=Y.useState(!1);EO(B,F.sectionIndex||0,B.length>1),Y.useEffect(()=>{const yt=xt=>{xt.key==="ArrowLeft"?Ze("prev"):xt.key==="ArrowRight"&&Ze("next")};return window.addEventListener("keydown",yt),()=>{window.removeEventListener("keydown",yt)}},[F,B]);const Ye=async(yt,xt=!1,St)=>{yt.preventDefault();try{const Gt=B.some(Vt=>{var un,Fn;return((un=Vt.images)==null?void 0:un.some(cr=>cr.url.startsWith("blob:")))||((Fn=Vt.subsections)==null?void 0:Fn.some(cr=>{var Ur;return(Ur=cr.images)==null?void 0:Ur.some($i=>$i.url.startsWith("blob:"))}))});if(X&&Gt){const Vt=await la(Zn(o,"materials"),{course:b,title:x,header:D,footer:M,sections:[],author:(n==null?void 0:n.uid)||"",timestamp:ac(),published:!1,scheduledTimestamp:null}),un=Vt.id;k(un);try{H("Uploading images..."),G("info"),U(!0);const Fn=600*1e3,cr=zA(b,(n==null?void 0:n.uid)||"",un,(Qn,Yo)=>{le({completed:Qn,total:Yo})}),Ur=new Promise((Qn,Yo)=>{setTimeout(()=>Yo(new Error("Image upload timeout - taking too long")),Fn)}),$i=await Promise.race([cr,Ur]),Qa={sections:$i.sections,published:xt,scheduledTimestamp:St?hp.fromDate(St):null};d&&s&&(Qa.originalFile={name:s.name,type:s.type,size:s.size,url:d,uploadedAt:ac()},console.log("ðŸ“Ž Adding original file info to material:",{name:s.name,type:s.type,size:s.size})),await _r(Vt,Qa),$($i.sections),J(!1),le(null),H(`Material ${xt?"published":"saved"} successfully with images!`)}catch(Fn){console.error("Image upload failed:",Fn);const cr=Fn instanceof Error?Fn.message:"Unknown error occurred";Se(cr),le(null),await _r(Vt,{sections:B,published:xt,scheduledTimestamp:St?hp.fromDate(St):null}),H("Material saved, but some images failed to upload"),G("warning")}}else if(y){const Vt=mn(o,"materials",y),un={course:b,title:x,header:D,footer:M,sections:B,published:xt,scheduledTimestamp:St?hp.fromDate(St):null};d&&s&&(un.originalFile={name:s.name,type:s.type,size:s.size,url:d,uploadedAt:ac()},console.log("ðŸ“Ž Adding original file info to updated material:",{name:s.name,type:s.type,size:s.size})),await _r(Vt,un),H("Material updated successfully")}else{console.log("Saving material with sections:",B.map(Fn=>{var cr,Ur;return{title:Fn.title,imageCount:((cr=Fn.images)==null?void 0:cr.length)||0,images:(Ur=Fn.images)==null?void 0:Ur.map($i=>({url:$i.url.substring(0,100)+"...",title:$i.title}))}}));const Vt={course:b,title:x,header:D,footer:M,sections:B,author:(n==null?void 0:n.uid)||"",timestamp:ac(),published:xt,scheduledTimestamp:St?hp.fromDate(St):null};d&&s&&(Vt.originalFile={name:s.name,type:s.type,size:s.size,url:d,uploadedAt:ac()},console.log("ðŸ“Ž Adding original file info to new material:",{name:s.name,type:s.type,size:s.size}));const un=await la(Zn(o,"materials"),Vt);k(un.id),H("Material saved successfully")}G("success"),U(!0),ne(!0),setTimeout(()=>ne(!1),3e3)}catch{H("Failed to save material"),G("error"),U(!0)}},We=()=>{r(g?`/supplemental-materials?course=${g}`:"/supplemental-materials")},Je=yt=>{Ye(yt,!0)},Ue=yt=>{oe&&ue?Ye(yt,!1,ue):ye(!0)},Z=()=>{$([...B,{id:zo(),title:`Section ${B.length+1}`,content:"",subsections:[],images:[],links:[]}])},_e=yt=>{const xt=[...B],St=xt[yt];St.subsections.push({id:zo(),title:`Subsection ${St.subsections.length+1}`,content:"",subSubsections:[],images:[],links:[]}),$(xt),N({sectionIndex:yt,subsectionIndex:St.subsections.length-1})},he=(yt,xt)=>{const St=[...B],Gt=St[yt].subsections[xt];Gt.subSubsections.push({id:zo(),title:`Sub-Subsection ${Gt.subSubsections.length+1}`,content:"",images:[],links:[]}),$(St),N({sectionIndex:yt,subsectionIndex:xt,subSubsectionIndex:Gt.subSubsections.length-1})},be=(yt,xt,St,Gt)=>{const Vt=[...B];Gt!==void 0?Vt[yt].subsections[St].subSubsections[Gt].images=[...Vt[yt].subsections[St].subSubsections[Gt].images,...xt]:St!==void 0?Vt[yt].subsections[St].images=[...Vt[yt].subsections[St].images,...xt]:Vt[yt].images=[...Vt[yt].images,...xt],$(Vt)},pe=(yt,xt,St,Gt)=>{const Vt=[...B];Gt!==void 0?Vt[yt].subsections[St].subSubsections[Gt].links=xt:St!==void 0?Vt[yt].subsections[St].links=xt:Vt[yt].links=xt,$(Vt)},Ae=(yt,xt,St)=>{N({sectionIndex:typeof yt=="number"?yt:void 0,subsectionIndex:xt,subSubsectionIndex:St,type:typeof yt=="string"?yt:void 0})},Oe=(yt,xt)=>{const St=[...B];St[yt].title=xt,$(St)},Me=(yt,xt,St)=>{const Gt=[...B];Gt[yt].subsections[xt].title=St,$(Gt)},Ie=(yt,xt,St,Gt)=>{const Vt=[...B];Vt[yt].subsections[xt].subSubsections[St].title=Gt,$(Vt)},$e=(yt,xt,St,Gt)=>{const Vt=[...B];Gt!==void 0?Vt[yt].subsections[St].subSubsections[Gt].content=xt:St!==void 0?Vt[yt].subsections[St].content=xt:Vt[yt].content=xt,$(Vt)},Ke=yt=>{S({...D,content:yt})},qe=yt=>{P({...M,content:yt})},it=yt=>{const xt=B.filter((St,Gt)=>Gt!==yt);$(xt),xt.length===0?N({sectionIndex:void 0,type:"header"}):yt>=xt.length?N({sectionIndex:xt.length-1}):N({sectionIndex:yt})},Be=(yt,xt)=>{var Gt;const St=[...B];(Gt=St[yt])!=null&&Gt.subsections&&(St[yt].subsections=St[yt].subsections.filter((Vt,un)=>un!==xt),$(St),St[yt].subsections.length===0?N({sectionIndex:yt}):xt>=St[yt].subsections.length?N({sectionIndex:yt,subsectionIndex:St[yt].subsections.length-1}):N({sectionIndex:yt,subsectionIndex:xt}))},Qe=(yt,xt,St)=>{var un,Fn;const Gt=[...B],Vt=(Fn=(un=Gt[yt])==null?void 0:un.subsections)==null?void 0:Fn[xt];Vt&&Vt.subSubsections&&(Vt.subSubsections=Vt.subSubsections.filter((cr,Ur)=>Ur!==St),$(Gt),Vt.subSubsections.length?St>=Vt.subSubsections.length?N({sectionIndex:yt,subsectionIndex:xt,subSubsectionIndex:Vt.subSubsections.length-1}):N({sectionIndex:yt,subsectionIndex:xt,subSubsectionIndex:St}):N({sectionIndex:yt,subsectionIndex:xt}))},Ze=yt=>{const{sectionIndex:xt,subsectionIndex:St,subSubsectionIndex:Gt,type:Vt}=F;if(yt==="prev")if(Gt!==void 0&&Gt>0)N({sectionIndex:xt,subsectionIndex:St,subSubsectionIndex:Gt-1});else if(Gt!==void 0&&Gt===0)N({sectionIndex:xt,subsectionIndex:St});else if(St!==void 0&&St>0)N({sectionIndex:xt,subsectionIndex:St-1});else if(St!==void 0&&St===0)N({sectionIndex:xt});else if(xt>0){const un=B[xt-1];N({sectionIndex:xt-1,subsectionIndex:un.subsections.length?un.subsections.length-1:void 0,subSubsectionIndex:un.subsections.length?un.subsections[un.subsections.length-1].subSubsections.length-1:void 0})}else Vt==="footer"?N({sectionIndex:B.length-1,type:"footer"}):xt===void 0&&Vt==="header"&&N({sectionIndex:B.length-1});else yt==="next"&&(Gt===void 0&&St!==void 0&&B[xt].subsections[St].subSubsections.length?N({sectionIndex:xt,subsectionIndex:St,subSubsectionIndex:0}):Gt!==void 0&&Gt<B[xt].subsections[St].subSubsections.length-1?N({sectionIndex:xt,subsectionIndex:St,subSubsectionIndex:Gt+1}):Gt!==void 0&&Gt===B[xt].subsections[St].subSubsections.length-1&&St<B[xt].subsections.length-1?N({sectionIndex:xt,subsectionIndex:St+1}):St===void 0&&B[xt].subsections.length?N({sectionIndex:xt,subsectionIndex:0}):St!==void 0&&St<B[xt].subsections.length-1?N({sectionIndex:xt,subsectionIndex:St+1}):St!==void 0&&St===B[xt].subsections.length-1&&xt<B.length-1?N({sectionIndex:xt+1}):xt<B.length-1?N({sectionIndex:xt+1}):xt===B.length-1&&St===void 0&&N({sectionIndex:void 0,type:"footer"}))},Ct=F.type==="header"||F.type==="footer"?"":F.sectionIndex!==void 0?F.subSubsectionIndex!==void 0?((bn=B[F.sectionIndex].subsections[F.subsectionIndex].subSubsections[F.subSubsectionIndex])==null?void 0:bn.content)||"":F.subsectionIndex!==void 0?((Dn=B[F.sectionIndex].subsections[F.subsectionIndex])==null?void 0:Dn.content)||"":((Vn=B[F.sectionIndex])==null?void 0:Vn.content)||"":"",dt=F.type==="header"||F.type==="footer"?"":F.sectionIndex!==void 0?F.subSubsectionIndex!==void 0?((zr=B[F.sectionIndex].subsections[F.subsectionIndex].subSubsections[F.subSubsectionIndex])==null?void 0:zr.title)||"":F.subsectionIndex!==void 0?((Kr=B[F.sectionIndex].subsections[F.subsectionIndex])==null?void 0:Kr.title)||"":((Rn=B[F.sectionIndex])==null?void 0:Rn.title)||"":"",en=(yt,xt,St,Gt)=>{const Vt=[...B];Gt!==void 0?Vt[yt].subsections[St].subSubsections[Gt].images=Vt[yt].subsections[St].subSubsections[Gt].images.filter(un=>un.url!==xt):St!==void 0?Vt[yt].subsections[St].images=Vt[yt].subsections[St].images.filter(un=>un.url!==xt):Vt[yt].images=Vt[yt].images.filter(un=>un.url!==xt),$(Vt)},pt=(yt,xt)=>{xt!==null&&Ce(xt)},Wt=async yt=>{if(C(yt.title),S(yt.header),P(yt.footer),$(yt.sections),v(yt.course),J(!0),s&&yt.course)try{console.log("ðŸš€ Uploading original file for AI-imported material..."),await l(yt.course),console.log("âœ… Original file uploaded successfully")}catch(xt){console.error("âŒ Failed to upload original file:",xt),H("Material imported successfully, but original file upload failed. You can still save the material."),G("warning"),U(!0);return}Ce("manual"),H("Material imported successfully! You can now edit and save it."),G("success"),U(!0),N({sectionIndex:0})},Rt=()=>{Ce("manual")},zt=async()=>{if(!y||!b||!(n!=null&&n.uid)){H("Cannot retry - missing material information"),G("error"),U(!0);return}Te(!0),Se(null),le({completed:0,total:1});try{H("Analyzing existing images and retrying failed uploads..."),G("info"),U(!0);const yt=600*1e3,xt=[];let St=0;if(B.forEach((cr,Ur)=>{var $i,Qa;($i=cr.images)==null||$i.forEach((Qn,Yo)=>{(!Qn.url||Qn.url.startsWith("data:image/svg+xml"))&&(xt.push({sectionIndex:Ur,imageIndex:Yo}),St++)}),(Qa=cr.subsections)==null||Qa.forEach((Qn,Yo)=>{var Dc,Ic;(Dc=Qn.images)==null||Dc.forEach((ho,Sl)=>{(!ho.url||ho.url.startsWith("data:image/svg+xml"))&&(xt.push({sectionIndex:Ur,subsectionIndex:Yo,imageIndex:Sl}),St++)}),(Ic=Qn.subSubsections)==null||Ic.forEach((ho,Sl)=>{var No;(No=ho.images)==null||No.forEach((Ja,yi)=>{(!Ja.url||Ja.url.startsWith("data:image/svg+xml"))&&(xt.push({sectionIndex:Ur,subsectionIndex:Yo,subSubsectionIndex:Sl,imageIndex:yi}),St++)})})})}),console.log(`Found ${St} images that need uploading (out of total images)`),St===0){H("All images are already uploaded successfully!"),G("success"),U(!0),Se(null),le(null);return}H(`Retrying upload for ${St} failed images...`);const Gt=zA(b,n.uid,y,(cr,Ur)=>{le({completed:cr,total:Ur}),console.log(`Retry image upload progress: ${cr}/${Ur}`)}),Vt=new Promise((cr,Ur)=>{setTimeout(()=>Ur(new Error("Image upload timeout - taking too long")),yt)}),un=await Promise.race([Gt,Vt]),Fn=mn(o,"materials",y);await _r(Fn,{sections:un.sections}),$(un.sections),le(null),Se(null),H("Images uploaded successfully!"),G("success"),U(!0)}catch(yt){console.error("Retry image upload failed:",yt);const xt=yt instanceof Error?yt.message:"Unknown error occurred";Se(xt),le(null),H(`Image upload retry failed: ${xt}`),G("error"),U(!0)}finally{Te(!1)}};return A.jsx(Pe,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:A.jsxs(Pe,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[A.jsx(Pe,{sx:{width:"450px",ml:2,mt:2},children:A.jsx(kO,{})}),A.jsxs(Bn,{elevation:2,sx:{mx:2,mt:2,p:2},children:[A.jsx(je,{variant:"h6",gutterBottom:!0,children:"ðŸ“ Create Material"}),A.jsxs(H_,{value:re,exclusive:!0,onChange:pt,"aria-label":"import mode",fullWidth:!0,sx:{mb:2},children:[A.jsxs(Dp,{value:"manual","aria-label":"manual creation",children:[A.jsx(kl,{sx:{mr:1}}),"Manual Creation"]}),A.jsxs(Dp,{value:"ai","aria-label":"ai import",children:[A.jsx(NW,{sx:{mr:1}}),"AI Import"]})]}),re==="ai"&&A.jsx(br,{severity:"info",sx:{mb:2},children:A.jsx(je,{variant:"body2",children:"Upload your presentation, document, or material and let AI automatically structure it into course content."})})]}),A.jsxs(A.Fragment,{children:[re==="ai"?A.jsx(Pe,{sx:{flexGrow:1,p:2},children:A.jsx(Y.Suspense,{fallback:A.jsxs(Pe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200},children:[A.jsx(Rr,{}),A.jsx(je,{variant:"body2",sx:{ml:2},children:"Loading AI Import..."})]}),children:A.jsx(Ate,{courseId:b,authorId:(n==null?void 0:n.uid)||"",onMaterialReady:Wt,onCancel:Rt,onError:(yt,xt)=>{console.error("Material Import Error:",yt,xt),H(`Import error: ${yt.message}`),G("error"),U(!0)}})})}):A.jsxs(Pe,{sx:{display:"flex",flexGrow:1},children:[A.jsx(bO,{sections:B,selected:F,onAddSection:Z,onAddSubsection:_e,onAddSubSubsection:he,onSelectSection:Ae,onUpdateSectionTitle:Oe,onUpdateSubsectionTitle:Me,onUpdateSubSubsectionTitle:Ie,onDeleteSection:it,onDeleteSubsection:Be,onDeleteSubSubsection:Qe}),A.jsxs(Pe,{sx:{flexGrow:1,padding:3},children:[A.jsx(Jt,{label:"Material Title",variant:"outlined",fullWidth:!0,value:x,onChange:yt=>C(yt.target.value),sx:{mb:2}}),A.jsx(BQ,{value:b,onChange:v}),ue&&A.jsxs(je,{variant:"body1",gutterBottom:!0,children:["Scheduled Publish Date & Time: ",ue.toLocaleString()]}),A.jsxs(Pe,{sx:{borderRadius:1,padding:2,mb:2},children:[A.jsx(Pe,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:A.jsx(je,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Header"})}),A.jsx(cT,{content:D.content,onChange:Ke})]}),A.jsx(je,{variant:"h4",align:"center",gutterBottom:!0,children:dt}),F.type!=="header"&&F.type!=="footer"&&A.jsxs(A.Fragment,{children:[A.jsx(jQ,{content:Ct,onChange:yt=>$e(F.sectionIndex,yt,F.subsectionIndex,F.subSubsectionIndex)},`${F.sectionIndex}-${F.subsectionIndex}-${F.subSubsectionIndex}`),A.jsx(WK,{sectionId:F.sectionIndex!==void 0?F.subSubsectionIndex!==void 0&&F.subsectionIndex!==void 0?((eo=(Mn=(Go=(In=(tn=B[F.sectionIndex])==null?void 0:tn.subsections)==null?void 0:In[F.subsectionIndex])==null?void 0:Go.subSubsections)==null?void 0:Mn[F.subSubsectionIndex])==null?void 0:eo.id)||"":F.subsectionIndex!==void 0?((qi=($t=(si=B[F.sectionIndex])==null?void 0:si.subsections)==null?void 0:$t[F.subsectionIndex])==null?void 0:qi.id)||"":((to=B[F.sectionIndex])==null?void 0:to.id)||"":"",onImagesUploaded:yt=>be(F.sectionIndex,yt,F.subsectionIndex,F.subSubsectionIndex)}),(F.subSubsectionIndex!==void 0?((us=($n=(kr=(xr=(ai=B[F.sectionIndex])==null?void 0:ai.subsections)==null?void 0:xr[F.subsectionIndex])==null?void 0:kr.subSubsections)==null?void 0:$n[F.subSubsectionIndex])==null?void 0:us.images)||[]:F.subsectionIndex!==void 0?((Do=(Eo=(ds=B[F.sectionIndex])==null?void 0:ds.subsections)==null?void 0:Eo[F.subsectionIndex])==null?void 0:Do.images)||[]:((Io=B[F.sectionIndex])==null?void 0:Io.images)||[]).map((yt,xt)=>A.jsxs(Pe,{sx:{position:"relative",mt:2},children:[A.jsx(_te,{src:yt.url,alt:`Section ${F.sectionIndex+1} Image ${xt+1}`,title:yt.title}),A.jsx(GK,{imageTitle:yt.title,onTitleChange:St=>{var Vt,un;const Gt=[...B];if(F.sectionIndex!==void 0)if(F.subSubsectionIndex!==void 0&&F.subsectionIndex!==void 0){const Fn=(un=(Vt=Gt[F.sectionIndex].subsections)==null?void 0:Vt[F.subsectionIndex])==null?void 0:un.subSubsections;Fn&&Fn[F.subSubsectionIndex]&&(Fn[F.subSubsectionIndex].images[xt].title=St)}else if(F.subsectionIndex!==void 0){const Fn=Gt[F.sectionIndex].subsections;Fn&&Fn[F.subsectionIndex]&&(Fn[F.subsectionIndex].images[xt].title=St)}else Gt[F.sectionIndex].images[xt].title=St;$(Gt)}}),A.jsx(Ln,{sx:{position:"absolute",top:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.7)"},onClick:()=>en(F.sectionIndex,yt.url,F.subsectionIndex,F.subSubsectionIndex),children:A.jsx(Ks,{})})]},`${yt.url}-${xt}`)),A.jsx(YK,{links:F.sectionIndex!==void 0?F.subSubsectionIndex!==void 0&&F.subsectionIndex!==void 0?((Ga=(ca=(To=(Vi=(wi=B[F.sectionIndex])==null?void 0:wi.subsections)==null?void 0:Vi[F.subsectionIndex])==null?void 0:To.subSubsections)==null?void 0:ca[F.subSubsectionIndex])==null?void 0:Ga.links)||[]:F.subsectionIndex!==void 0?((Ka=(Ya=(uo=B[F.sectionIndex])==null?void 0:uo.subsections)==null?void 0:Ya[F.subsectionIndex])==null?void 0:Ka.links)||[]:((Ec=B[F.sectionIndex])==null?void 0:Ec.links)||[]:[],onLinksChange:yt=>pe(F.sectionIndex,yt,F.subsectionIndex,F.subSubsectionIndex)})]}),A.jsxs(Pe,{sx:{borderRadius:1,padding:2,mt:2},children:[A.jsx(Pe,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center"},children:A.jsx(je,{variant:"h6",sx:{color:"gray",textAlign:"center"},children:"Footer"})}),A.jsx(cT,{content:M.content,onChange:qe})]}),fe&&A.jsxs(Pe,{sx:{mb:2,p:2,border:"1px solid #e0e0e0",borderRadius:1,bgcolor:"#f5f5f5"},children:[A.jsxs(je,{variant:"body2",gutterBottom:!0,children:[xe?"Retrying image upload...":"Uploading images:"," ",fe.completed," / ",fe.total]}),A.jsx(yg,{variant:"determinate",value:fe.completed/fe.total*100,sx:{height:8,borderRadius:1}})]}),ae&&!fe&&A.jsxs(Pe,{sx:{mb:2,p:2,border:"1px solid #f44336",borderRadius:1,bgcolor:"#ffebee"},children:[A.jsxs(je,{variant:"body2",color:"error",gutterBottom:!0,children:["Image upload failed: ",ae]}),A.jsx(kt,{variant:"contained",color:"primary",size:"small",onClick:zt,disabled:xe,startIcon:xe?A.jsx(Rr,{size:16}):A.jsx(AP,{}),sx:{mt:1},children:xe?"Retrying...":"Retry Image Upload"})]}),A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between"},children:[A.jsx(ls,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:A.jsx("span",{children:A.jsx(Ln,{onClick:()=>Ze("prev"),disabled:F.sectionIndex===0&&F.subsectionIndex===void 0&&F.type==="header",children:A.jsx(EP,{})})})}),A.jsx(ls,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:A.jsx("span",{children:A.jsx(Ln,{onClick:()=>Ze("next"),disabled:F.sectionIndex===B.length-1&&(F.subsectionIndex===void 0||F.subsectionIndex===B[F.sectionIndex].subsections.length-1)&&F.type==="footer",children:A.jsx(DP,{})})})})]}),A.jsxs(Pe,{sx:{mt:2,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsx(kt,{type:"button",variant:"outlined",onClick:We,className:"supplemental-button cancel-button",children:"Cancel"}),A.jsxs(Pe,{sx:{display:"flex",alignItems:"center"},children:[A.jsx(kt,{type:"submit",variant:"outlined",onClick:yt=>Ye(yt,!1),className:"supplemental-button save-button",children:"Save"}),R&&A.jsx(je,{variant:"body2",sx:{fontStyle:"italic",ml:1},children:"Changes Saved"})]}),A.jsx(kt,{type:"button",variant:"outlined",onClick:Je,className:"supplemental-button publish-button",children:"Publish"}),A.jsxs("div",{children:[oe&&A.jsx(vte,{value:ue,onChange:ie}),A.jsx(kt,{type:"button",variant:"outlined",onClick:Ue,className:"supplemental-button schedule-publish-button",children:"Schedule Publish"})]})]})]})]}),A.jsx(cs,{open:L,autoHideDuration:6e3,onClose:()=>U(!1),children:A.jsx(br,{onClose:()=>U(!1),severity:z,sx:{width:"100%"},children:Q})})]})]})})},Cte=()=>{const{id:t}=X_(),r=Kn(),{userDetails:n}=Pi(),[o,s]=Y.useState(null),l=Y.useMemo(()=>n!=null&&n.classes?Object.entries(n.classes).filter(([h,p])=>p.isCourseAdmin).map(([h])=>h):[],[n==null?void 0:n.classes]);Y.useEffect(()=>{t&&(async()=>{var p;try{const g=mn(r,"materials",t),b=await Wo(g);if(b.exists()){const v={id:b.id,...b.data()};v.sections=((p=v.sections)==null?void 0:p.map(y=>{var k,x;return{...y,images:((k=y.images)==null?void 0:k.map(C=>({...C,title:C.title||""})))||[],subsections:((x=y.subsections)==null?void 0:x.map(C=>{var D,S;return{...C,images:((D=C.images)==null?void 0:D.map(M=>({...M,title:M.title||""})))||[],subSubsections:((S=C.subSubsections)==null?void 0:S.map(M=>{var P;return{...M,images:((P=M.images)==null?void 0:P.map(B=>({...B,title:B.title||""})))||[]}}))||[]}}))||[]}}))||[],v.course=l.includes(v.course)?v.course:l[0]||"",s(v)}}catch(g){console.error("Error fetching material:",g)}})()},[t,r,n,l]);const d=async h=>{try{if(t){const p=mn(r,"materials",t);await _r(p,{...h})}}catch(p){console.error("Error updating material:",p)}};return o?A.jsx(dj,{materialData:o,onSubmit:d}):A.jsx(Pe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:A.jsx(Rr,{})})},YT=x1(Pe)(({theme:t})=>({marginBottom:t.spacing(4),textAlign:"center",position:"relative"})),xte=x1("img")(({theme:t})=>({maxWidth:"100%",maxHeight:"500px",marginBottom:t.spacing(1),borderRadius:t.spacing(1),boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease-in-out","&:hover":{transform:"scale(1.02)",boxShadow:"0 8px 24px rgba(0,0,0,0.15)"}})),Ste=x1(IP)(({theme:t})=>({borderRadius:t.spacing(1),marginBottom:t.spacing(1)})),Ete=({src:t,alt:r,title:n})=>{const[o,s]=Y.useState(!1),[l,d]=Y.useState(!1),[h]=Y.useState(0);return Y.useEffect(()=>{s(!1),d(!1);const p=new Image;return p.src=t,p.onload=()=>{console.log(`âœ… SmartImage loaded: ${t.substring(0,50)}...`),s(!0)},p.onerror=g=>{console.error(`âŒ SmartImage failed to load: ${t}`,g),console.error("Image details:",{src:t,naturalWidth:p.naturalWidth,naturalHeight:p.naturalHeight,complete:p.complete}),console.error("Image load failed. URL accessible via curl but blocked in browser."),console.error("This is likely a Firebase Storage CORS configuration issue."),console.error(`Fix: Configure CORS to allow ${window.location.origin}`),d(!0)},()=>{p.onload=null,p.onerror=null}},[t,h]),l?A.jsxs(YT,{children:[A.jsxs(Pe,{sx:{width:"100%",maxWidth:400,height:200,bgcolor:"#ffebee",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:1,border:"1px dashed #f44336",p:2},children:[A.jsx(je,{variant:"body2",color:"error",gutterBottom:!0,children:"Image failed to load"}),A.jsx(je,{variant:"caption",color:"text.secondary",sx:{textAlign:"center",wordBreak:"break-all"},children:n}),A.jsxs(je,{variant:"caption",color:"text.secondary",sx:{mt:1,fontSize:"0.7rem"},children:["URL: ",t.substring(0,60),"..."]})]}),A.jsx(je,{variant:"body2",sx:{fontStyle:"italic",mt:1},children:n})]}):A.jsxs(YT,{children:[!o&&A.jsx(Ste,{variant:"rectangular",width:"100%",height:300,sx:{maxWidth:400}}),A.jsx(qk,{in:o,timeout:500,children:A.jsx(Pe,{sx:{display:o?"block":"none"},children:A.jsx(xte,{src:t,alt:r,loading:"lazy"})})}),o&&A.jsx(qk,{in:o,timeout:700,children:A.jsx(je,{variant:"body2",sx:{fontStyle:"italic",color:"text.secondary"},children:n})})]})},Fv=({images:t})=>A.jsx(Pe,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:2},children:t.map((r,n)=>A.jsx(Ete,{src:r.url,alt:`Image ${n+1}`,title:r.title,index:n},`${r.url}-${n}`))}),Dte=t=>!t.startsWith("http://")&&!t.startsWith("https://")?`https://${t}`:t,Ite=({links:t})=>t.length===0?null:A.jsxs(Pe,{sx:{mt:2,width:"50%"},children:[A.jsx(je,{variant:"h6",sx:{fontWeight:"bold",mb:2},children:"Links"}),A.jsxs(Pe,{sx:{display:"flex",mb:1,borderBottom:"1px solid gray"},children:[A.jsx(je,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"Title"}),A.jsx(je,{sx:{flexBasis:"30%",fontWeight:"bold"},children:"URL"}),A.jsx(je,{sx:{flexBasis:"40%",fontWeight:"bold"},children:"Description"})]}),t.map((r,n)=>A.jsx(Pe,{children:A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap",borderBottom:"1px solid lightgray"},children:[A.jsx(je,{sx:{flexBasis:"30%",fontStyle:"italic",wordWrap:"break-word",paddingRight:"8px"},children:r.title}),A.jsx(Pg,{sx:{flexBasis:"30%",wordWrap:"break-word",paddingRight:"8px"},href:Dte(r.url),target:"_blank",rel:"noopener",children:r.url}),A.jsx(je,{sx:{flexBasis:"40%",wordWrap:"break-word"},children:r.description})]})},n))]});function gr(t){"@babel/helpers - typeof";return gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gr(t)}var qo=Uint8Array,Xs=Uint16Array,bC=Int32Array,B1=new qo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),R1=new qo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),KA=new qo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hj=function(t,r){for(var n=new Xs(31),o=0;o<31;++o)n[o]=r+=1<<t[o-1];for(var s=new bC(n[30]),o=1;o<30;++o)for(var l=n[o];l<n[o+1];++l)s[l]=l-n[o]<<5|o;return{b:n,r:s}},fj=hj(B1,2),pj=fj.b,QA=fj.r;pj[28]=258,QA[258]=28;var mj=hj(R1,0),Tte=mj.b,KT=mj.r,JA=new Xs(32768);for(var Lr=0;Lr<32768;++Lr){var Ju=(Lr&43690)>>1|(Lr&21845)<<1;Ju=(Ju&52428)>>2|(Ju&13107)<<2,Ju=(Ju&61680)>>4|(Ju&3855)<<4,JA[Lr]=((Ju&65280)>>8|(Ju&255)<<8)>>1}var kc=function(t,r,n){for(var o=t.length,s=0,l=new Xs(r);s<o;++s)t[s]&&++l[t[s]-1];var d=new Xs(r);for(s=1;s<r;++s)d[s]=d[s-1]+l[s-1]<<1;var h;if(n){h=new Xs(1<<r);var p=15-r;for(s=0;s<o;++s)if(t[s])for(var g=s<<4|t[s],b=r-t[s],v=d[t[s]-1]++<<b,y=v|(1<<b)-1;v<=y;++v)h[JA[v]>>p]=g}else for(h=new Xs(o),s=0;s<o;++s)t[s]&&(h[s]=JA[d[t[s]-1]++]>>15-t[s]);return h},bd=new qo(288);for(var Lr=0;Lr<144;++Lr)bd[Lr]=8;for(var Lr=144;Lr<256;++Lr)bd[Lr]=9;for(var Lr=256;Lr<280;++Lr)bd[Lr]=7;for(var Lr=280;Lr<288;++Lr)bd[Lr]=8;var qg=new qo(32);for(var Lr=0;Lr<32;++Lr)qg[Lr]=5;var Nte=kc(bd,9,0),Mte=kc(bd,9,1),Pte=kc(qg,5,0),Ote=kc(qg,5,1),zv=function(t){for(var r=t[0],n=1;n<t.length;++n)t[n]>r&&(r=t[n]);return r},dl=function(t,r,n){var o=r/8|0;return(t[o]|t[o+1]<<8)>>(r&7)&n},Uv=function(t,r){var n=r/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(r&7)},kC=function(t){return(t+7)/8|0},gj=function(t,r,n){return(n==null||n>t.length)&&(n=t.length),new qo(t.subarray(r,n))},jte=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],pl=function(t,r,n){var o=new Error(r||jte[t]);if(o.code=t,Error.captureStackTrace&&Error.captureStackTrace(o,pl),!n)throw o;return o},Lte=function(t,r,n,o){var s=t.length,l=0;if(!s||r.f&&!r.l)return n||new qo(0);var d=!n,h=d||r.i!=2,p=r.i;d&&(n=new qo(s*3));var g=function(We){var Je=n.length;if(We>Je){var Ue=new qo(Math.max(Je*2,We));Ue.set(n),n=Ue}},b=r.f||0,v=r.p||0,y=r.b||0,k=r.l,x=r.d,C=r.m,D=r.n,S=s*8;do{if(!k){b=dl(t,v,1);var M=dl(t,v+1,3);if(v+=3,M)if(M==1)k=Mte,x=Ote,C=9,D=5;else if(M==2){var F=dl(t,v,31)+257,N=dl(t,v+10,15)+4,L=F+dl(t,v+5,31)+1;v+=14;for(var U=new qo(L),Q=new qo(19),H=0;H<N;++H)Q[KA[H]]=dl(t,v+H*3,7);v+=N*3;for(var z=zv(Q),G=(1<<z)-1,R=kc(Q,z,1),H=0;H<L;){var ne=R[dl(t,v,G)];v+=ne&15;var P=ne>>4;if(P<16)U[H++]=P;else{var ue=0,ie=0;for(P==16?(ie=3+dl(t,v,3),v+=2,ue=U[H-1]):P==17?(ie=3+dl(t,v,7),v+=3):P==18&&(ie=11+dl(t,v,127),v+=7);ie--;)U[H++]=ue}}var oe=U.subarray(0,F),ye=U.subarray(F);C=zv(oe),D=zv(ye),k=kc(oe,C,1),x=kc(ye,D,1)}else pl(1);else{var P=kC(v)+4,B=t[P-4]|t[P-3]<<8,$=P+B;if($>s){p&&pl(0);break}h&&g(y+B),n.set(t.subarray(P,$),y),r.b=y+=B,r.p=v=$*8,r.f=b;continue}if(v>S){p&&pl(0);break}}h&&g(y+131072);for(var re=(1<<C)-1,Ce=(1<<D)-1,X=v;;X=v){var ue=k[Uv(t,v)&re],J=ue>>4;if(v+=ue&15,v>S){p&&pl(0);break}if(ue||pl(2),J<256)n[y++]=J;else if(J==256){X=v,k=null;break}else{var fe=J-254;if(J>264){var H=J-257,le=B1[H];fe=dl(t,v,(1<<le)-1)+pj[H],v+=le}var ae=x[Uv(t,v)&Ce],Se=ae>>4;ae||pl(3),v+=ae&15;var ye=Tte[Se];if(Se>3){var le=R1[Se];ye+=Uv(t,v)&(1<<le)-1,v+=le}if(v>S){p&&pl(0);break}h&&g(y+131072);var xe=y+fe;if(y<ye){var Te=l-ye,Ye=Math.min(ye,xe);for(Te+y<0&&pl(3);y<Ye;++y)n[y]=o[Te+y]}for(;y<xe;++y)n[y]=n[y-ye]}}r.l=k,r.p=X,r.b=y,r.f=b,k&&(b=1,r.m=C,r.d=x,r.n=D)}while(!b);return y!=n.length&&d?gj(n,0,y):n.subarray(0,y)},nu=function(t,r,n){n<<=r&7;var o=r/8|0;t[o]|=n,t[o+1]|=n>>8},eg=function(t,r,n){n<<=r&7;var o=r/8|0;t[o]|=n,t[o+1]|=n>>8,t[o+2]|=n>>16},qv=function(t,r){for(var n=[],o=0;o<t.length;++o)t[o]&&n.push({s:o,f:t[o]});var s=n.length,l=n.slice();if(!s)return{t:kj,l:0};if(s==1){var d=new qo(n[0].s+1);return d[n[0].s]=1,{t:d,l:1}}n.sort(function($,F){return $.f-F.f}),n.push({s:-1,f:25001});var h=n[0],p=n[1],g=0,b=1,v=2;for(n[0]={s:-1,f:h.f+p.f,l:h,r:p};b!=s-1;)h=n[n[g].f<n[v].f?g++:v++],p=n[g!=b&&n[g].f<n[v].f?g++:v++],n[b++]={s:-1,f:h.f+p.f,l:h,r:p};for(var y=l[0].s,o=1;o<s;++o)l[o].s>y&&(y=l[o].s);var k=new Xs(y+1),x=ZA(n[b-1],k,0);if(x>r){var o=0,C=0,D=x-r,S=1<<D;for(l.sort(function(F,N){return k[N.s]-k[F.s]||F.f-N.f});o<s;++o){var M=l[o].s;if(k[M]>r)C+=S-(1<<x-k[M]),k[M]=r;else break}for(C>>=D;C>0;){var P=l[o].s;k[P]<r?C-=1<<r-k[P]++-1:++o}for(;o>=0&&C;--o){var B=l[o].s;k[B]==r&&(--k[B],++C)}x=r}return{t:new qo(k),l:x}},ZA=function(t,r,n){return t.s==-1?Math.max(ZA(t.l,r,n+1),ZA(t.r,r,n+1)):r[t.s]=n},QT=function(t){for(var r=t.length;r&&!t[--r];);for(var n=new Xs(++r),o=0,s=t[0],l=1,d=function(p){n[o++]=p},h=1;h<=r;++h)if(t[h]==s&&h!=r)++l;else{if(!s&&l>2){for(;l>138;l-=138)d(32754);l>2&&(d(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(d(s),--l;l>6;l-=6)d(8304);l>2&&(d(l-3<<5|8208),l=0)}for(;l--;)d(s);l=1,s=t[h]}return{c:n.subarray(0,o),n:r}},tg=function(t,r){for(var n=0,o=0;o<r.length;++o)n+=t[o]*r[o];return n},bj=function(t,r,n){var o=n.length,s=kC(r+2);t[s]=o&255,t[s+1]=o>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var l=0;l<o;++l)t[s+l+4]=n[l];return(s+4+o)*8},JT=function(t,r,n,o,s,l,d,h,p,g,b){nu(r,b++,n),++s[256];for(var v=qv(s,15),y=v.t,k=v.l,x=qv(l,15),C=x.t,D=x.l,S=QT(y),M=S.c,P=S.n,B=QT(C),$=B.c,F=B.n,N=new Xs(19),L=0;L<M.length;++L)++N[M[L]&31];for(var L=0;L<$.length;++L)++N[$[L]&31];for(var U=qv(N,7),Q=U.t,H=U.l,z=19;z>4&&!Q[KA[z-1]];--z);var G=g+5<<3,R=tg(s,bd)+tg(l,qg)+d,ne=tg(s,y)+tg(l,C)+d+14+3*z+tg(N,Q)+2*N[16]+3*N[17]+7*N[18];if(p>=0&&G<=R&&G<=ne)return bj(r,b,t.subarray(p,p+g));var ue,ie,oe,ye;if(nu(r,b,1+(ne<R)),b+=2,ne<R){ue=kc(y,k,0),ie=y,oe=kc(C,D,0),ye=C;var re=kc(Q,H,0);nu(r,b,P-257),nu(r,b+5,F-1),nu(r,b+10,z-4),b+=14;for(var L=0;L<z;++L)nu(r,b+3*L,Q[KA[L]]);b+=3*z;for(var Ce=[M,$],X=0;X<2;++X)for(var J=Ce[X],L=0;L<J.length;++L){var fe=J[L]&31;nu(r,b,re[fe]),b+=Q[fe],fe>15&&(nu(r,b,J[L]>>5&127),b+=J[L]>>12)}}else ue=Nte,ie=bd,oe=Pte,ye=qg;for(var L=0;L<h;++L){var le=o[L];if(le>255){var fe=le>>18&31;eg(r,b,ue[fe+257]),b+=ie[fe+257],fe>7&&(nu(r,b,le>>23&31),b+=B1[fe]);var ae=le&31;eg(r,b,oe[ae]),b+=ye[ae],ae>3&&(eg(r,b,le>>5&8191),b+=R1[ae])}else eg(r,b,ue[le]),b+=ie[le]}return eg(r,b,ue[256]),b+ie[256]},Bte=new bC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),kj=new qo(0),Rte=function(t,r,n,o,s,l){var d=l.z||t.length,h=new qo(o+d+5*(1+Math.ceil(d/7e3))+s),p=h.subarray(o,h.length-s),g=l.l,b=(l.r||0)&7;if(r){b&&(p[0]=l.r>>3);for(var v=Bte[r-1],y=v>>13,k=v&8191,x=(1<<n)-1,C=l.p||new Xs(32768),D=l.h||new Xs(x+1),S=Math.ceil(n/3),M=2*S,P=function(Z){return(t[Z]^t[Z+1]<<S^t[Z+2]<<M)&x},B=new bC(25e3),$=new Xs(288),F=new Xs(32),N=0,L=0,U=l.i||0,Q=0,H=l.w||0,z=0;U+2<d;++U){var G=P(U),R=U&32767,ne=D[G];if(C[R]=ne,D[G]=R,H<=U){var ue=d-U;if((N>7e3||Q>24576)&&(ue>423||!g)){b=JT(t,p,0,B,$,F,L,Q,z,U-z,b),Q=N=L=0,z=U;for(var ie=0;ie<286;++ie)$[ie]=0;for(var ie=0;ie<30;++ie)F[ie]=0}var oe=2,ye=0,re=k,Ce=R-ne&32767;if(ue>2&&G==P(U-Ce))for(var X=Math.min(y,ue)-1,J=Math.min(32767,U),fe=Math.min(258,ue);Ce<=J&&--re&&R!=ne;){if(t[U+oe]==t[U+oe-Ce]){for(var le=0;le<fe&&t[U+le]==t[U+le-Ce];++le);if(le>oe){if(oe=le,ye=Ce,le>X)break;for(var ae=Math.min(Ce,le-2),Se=0,ie=0;ie<ae;++ie){var xe=U-Ce+ie&32767,Te=C[xe],Ye=xe-Te&32767;Ye>Se&&(Se=Ye,ne=xe)}}}R=ne,ne=C[R],Ce+=R-ne&32767}if(ye){B[Q++]=268435456|QA[oe]<<18|KT[ye];var We=QA[oe]&31,Je=KT[ye]&31;L+=B1[We]+R1[Je],++$[257+We],++F[Je],H=U+oe,++N}else B[Q++]=t[U],++$[t[U]]}}for(U=Math.max(U,H);U<d;++U)B[Q++]=t[U],++$[t[U]];b=JT(t,p,g,B,$,F,L,Q,z,U-z,b),g||(l.r=b&7|p[b/8|0]<<3,b-=7,l.h=D,l.p=C,l.i=U,l.w=H)}else{for(var U=l.w||0;U<d+g;U+=65535){var Ue=U+65535;Ue>=d&&(p[b/8|0]=g,Ue=d),b=bj(p,b+1,t.subarray(U,Ue))}l.i=d}return gj(h,0,o+kC(b)+s)},wj=function(){var t=1,r=0;return{p:function(n){for(var o=t,s=r,l=n.length|0,d=0;d!=l;){for(var h=Math.min(d+2655,l);d<h;++d)s+=o+=n[d];o=(o&65535)+15*(o>>16),s=(s&65535)+15*(s>>16)}t=o,r=s},d:function(){return t%=65521,r%=65521,(t&255)<<24|(t&65280)<<8|(r&255)<<8|r>>8}}},Fte=function(t,r,n,o,s){if(!s&&(s={l:1},r.dictionary)){var l=r.dictionary.subarray(-32768),d=new qo(l.length+t.length);d.set(l),d.set(t,l.length),t=d,s.w=l.length}return Rte(t,r.level==null?6:r.level,r.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+r.mem,n,o,s)},yj=function(t,r,n){for(;n;++r)t[r]=n,n>>>=8},zte=function(t,r){var n=r.level,o=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=o<<6|(r.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,r.dictionary){var s=wj();s.p(r.dictionary),yj(t,2,s.d())}},Ute=function(t,r){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&pl(6,"invalid zlib data"),(t[1]>>5&1)==1&&pl(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function XA(t,r){r||(r={});var n=wj();n.p(t);var o=Fte(t,r,r.dictionary?6:2,4);return zte(o,r),yj(o,o.length-4,n.d()),o}function qte(t,r){return Lte(t.subarray(Ute(t),-4),{i:2},r,r)}var Vte=typeof TextDecoder<"u"&&new TextDecoder,$te=0;try{Vte.decode(kj,{stream:!0}),$te=1}catch{}var ln=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Vv(){ln.console&&typeof ln.console.log=="function"&&ln.console.log.apply(ln.console,arguments)}var Dr={log:Vv,warn:function(t){ln.console&&(typeof ln.console.warn=="function"?ln.console.warn.apply(ln.console,arguments):Vv.call(null,arguments))},error:function(t){ln.console&&(typeof ln.console.error=="function"?ln.console.error.apply(ln.console,arguments):Vv(t))}};function $v(t,r,n){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){yh(o.response,r,n)},o.onerror=function(){Dr.error("could not download file")},o.send()}function ZT(t){var r=new XMLHttpRequest;r.open("HEAD",t,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function tk(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(r)}}var Cg,e_,yh=ln.saveAs||((typeof window>"u"?"undefined":gr(window))!=="object"||window!==ln?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,r,n){var o=ln.URL||ln.webkitURL,s=document.createElement("a");r=r||t.name||"download",s.download=r,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?ZT(s.href)?$v(t,r,n):tk(s,s.target="_blank"):tk(s)):(s.href=o.createObjectURL(t),setTimeout(function(){o.revokeObjectURL(s.href)},4e4),setTimeout(function(){tk(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,r,n){if(r=r||t.name||"download",typeof t=="string")if(ZT(t))$v(t,r,n);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout(function(){tk(o)})}else navigator.msSaveOrOpenBlob(function(s,l){return l===void 0?l={autoBom:!1}:gr(l)!=="object"&&(Dr.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,n),r)}:function(t,r,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),typeof t=="string")return $v(t,r,n);var s=t.type==="application/octet-stream",l=/constructor/i.test(ln.HTMLElement)||ln.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||s&&l)&&(typeof FileReader>"u"?"undefined":gr(FileReader))==="object"){var h=new FileReader;h.onloadend=function(){var b=h.result;b=d?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=b:location=b,o=null},h.readAsDataURL(t)}else{var p=ln.URL||ln.webkitURL,g=p.createObjectURL(t);o?o.location=g:location.href=g,o=null,setTimeout(function(){p.revokeObjectURL(g)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function vj(t){var r;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(h){return[parseInt(h[1]),parseInt(h[2]),parseInt(h[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(h){return[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(h){return[parseInt(h[1]+h[1],16),parseInt(h[2]+h[2],16),parseInt(h[3]+h[3],16)]}}],o=0;o<n.length;o++){var s=n[o].re,l=n[o].process,d=s.exec(t);d&&(r=l(d),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var h=this.r.toString(16),p=this.g.toString(16),g=this.b.toString(16);return h.length==1&&(h="0"+h),p.length==1&&(p="0"+p),g.length==1&&(g="0"+g),"#"+h+p+g}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Hv(t,r){var n=t[0],o=t[1],s=t[2],l=t[3];n=jo(n,o,s,l,r[0],7,-680876936),l=jo(l,n,o,s,r[1],12,-389564586),s=jo(s,l,n,o,r[2],17,606105819),o=jo(o,s,l,n,r[3],22,-1044525330),n=jo(n,o,s,l,r[4],7,-176418897),l=jo(l,n,o,s,r[5],12,1200080426),s=jo(s,l,n,o,r[6],17,-1473231341),o=jo(o,s,l,n,r[7],22,-45705983),n=jo(n,o,s,l,r[8],7,1770035416),l=jo(l,n,o,s,r[9],12,-1958414417),s=jo(s,l,n,o,r[10],17,-42063),o=jo(o,s,l,n,r[11],22,-1990404162),n=jo(n,o,s,l,r[12],7,1804603682),l=jo(l,n,o,s,r[13],12,-40341101),s=jo(s,l,n,o,r[14],17,-1502002290),n=Lo(n,o=jo(o,s,l,n,r[15],22,1236535329),s,l,r[1],5,-165796510),l=Lo(l,n,o,s,r[6],9,-1069501632),s=Lo(s,l,n,o,r[11],14,643717713),o=Lo(o,s,l,n,r[0],20,-373897302),n=Lo(n,o,s,l,r[5],5,-701558691),l=Lo(l,n,o,s,r[10],9,38016083),s=Lo(s,l,n,o,r[15],14,-660478335),o=Lo(o,s,l,n,r[4],20,-405537848),n=Lo(n,o,s,l,r[9],5,568446438),l=Lo(l,n,o,s,r[14],9,-1019803690),s=Lo(s,l,n,o,r[3],14,-187363961),o=Lo(o,s,l,n,r[8],20,1163531501),n=Lo(n,o,s,l,r[13],5,-1444681467),l=Lo(l,n,o,s,r[2],9,-51403784),s=Lo(s,l,n,o,r[7],14,1735328473),n=Bo(n,o=Lo(o,s,l,n,r[12],20,-1926607734),s,l,r[5],4,-378558),l=Bo(l,n,o,s,r[8],11,-2022574463),s=Bo(s,l,n,o,r[11],16,1839030562),o=Bo(o,s,l,n,r[14],23,-35309556),n=Bo(n,o,s,l,r[1],4,-1530992060),l=Bo(l,n,o,s,r[4],11,1272893353),s=Bo(s,l,n,o,r[7],16,-155497632),o=Bo(o,s,l,n,r[10],23,-1094730640),n=Bo(n,o,s,l,r[13],4,681279174),l=Bo(l,n,o,s,r[0],11,-358537222),s=Bo(s,l,n,o,r[3],16,-722521979),o=Bo(o,s,l,n,r[6],23,76029189),n=Bo(n,o,s,l,r[9],4,-640364487),l=Bo(l,n,o,s,r[12],11,-421815835),s=Bo(s,l,n,o,r[15],16,530742520),n=Ro(n,o=Bo(o,s,l,n,r[2],23,-995338651),s,l,r[0],6,-198630844),l=Ro(l,n,o,s,r[7],10,1126891415),s=Ro(s,l,n,o,r[14],15,-1416354905),o=Ro(o,s,l,n,r[5],21,-57434055),n=Ro(n,o,s,l,r[12],6,1700485571),l=Ro(l,n,o,s,r[3],10,-1894986606),s=Ro(s,l,n,o,r[10],15,-1051523),o=Ro(o,s,l,n,r[1],21,-2054922799),n=Ro(n,o,s,l,r[8],6,1873313359),l=Ro(l,n,o,s,r[15],10,-30611744),s=Ro(s,l,n,o,r[6],15,-1560198380),o=Ro(o,s,l,n,r[13],21,1309151649),n=Ro(n,o,s,l,r[4],6,-145523070),l=Ro(l,n,o,s,r[11],10,-1120210379),s=Ro(s,l,n,o,r[2],15,718787259),o=Ro(o,s,l,n,r[9],21,-343485551),t[0]=ld(n,t[0]),t[1]=ld(o,t[1]),t[2]=ld(s,t[2]),t[3]=ld(l,t[3])}function F1(t,r,n,o,s,l){return r=ld(ld(r,t),ld(o,l)),ld(r<<s|r>>>32-s,n)}function jo(t,r,n,o,s,l,d){return F1(r&n|~r&o,t,r,s,l,d)}function Lo(t,r,n,o,s,l,d){return F1(r&o|n&~o,t,r,s,l,d)}function Bo(t,r,n,o,s,l,d){return F1(r^n^o,t,r,s,l,d)}function Ro(t,r,n,o,s,l,d){return F1(n^(r|~o),t,r,s,l,d)}function Aj(t){var r,n=t.length,o=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=t.length;r+=64)Hv(o,Hte(t.substring(r-64,r)));t=t.substring(r-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<t.length;r++)s[r>>2]|=t.charCodeAt(r)<<(r%4<<3);if(s[r>>2]|=128<<(r%4<<3),r>55)for(Hv(o,s),r=0;r<16;r++)s[r]=0;return s[14]=8*n,Hv(o,s),o}function Hte(t){var r,n=[];for(r=0;r<64;r+=4)n[r>>2]=t.charCodeAt(r)+(t.charCodeAt(r+1)<<8)+(t.charCodeAt(r+2)<<16)+(t.charCodeAt(r+3)<<24);return n}Cg=ln.atob.bind(ln),e_=ln.btoa.bind(ln);var XT="0123456789abcdef".split("");function Wte(t){for(var r="",n=0;n<4;n++)r+=XT[t>>8*n+4&15]+XT[t>>8*n&15];return r}function Gte(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function t_(t){return Aj(t).map(Gte).join("")}var Yte=function(t){for(var r=0;r<t.length;r++)t[r]=Wte(t[r]);return t.join("")}(Aj("hello"))!="5d41402abc4b2a76b9719d911017c592";function ld(t,r){if(Yte){var n=(65535&t)+(65535&r);return(t>>16)+(r>>16)+(n>>16)<<16|65535&n}return t+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function n_(t,r){var n,o,s,l;if(t!==n){for(var d=(s=t,l=1+(256/t.length>>0),new Array(l+1).join(s)),h=[],p=0;p<256;p++)h[p]=p;var g=0;for(p=0;p<256;p++){var b=h[p];g=(g+b+d.charCodeAt(p))%256,h[p]=h[g],h[g]=b}n=t,o=h}else h=o;var v=r.length,y=0,k=0,x="";for(p=0;p<v;p++)k=(k+(b=h[y=(y+1)%256]))%256,h[y]=h[k],h[k]=b,d=h[(h[y]+h[k])%256],x+=String.fromCharCode(r.charCodeAt(p)^d);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var e6={print:4,modify:8,copy:16,"annot-forms":32};function up(t,r,n,o){this.v=1,this.r=2;var s=192;t.forEach(function(h){if(e6.perm!==void 0)throw new Error("Invalid permission: "+h);s+=e6[h]}),this.padding="(Â¿N^NuÂŠAd\0NVÃ¿Ãº\b..\0Â¶Ãh>Â€/\fÂ©Ã¾dSiz";var l=(r+this.padding).substr(0,32),d=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,d),this.P=-(1+(255^s)),this.encryptionKey=t_(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(o)).substr(0,5),this.U=n_(this.encryptionKey,this.padding)}function dp(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var r="",n=t.length,o=0;o<n;o++){var s=t.charCodeAt(o);s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?r+="#"+("0"+s.toString(16)).slice(-2):r+=t[o]}return r}function t6(t){if(gr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(n,o,s){if(s=s||!1,typeof n!="string"||typeof o!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(n)||(r[n]={});var l=Math.random().toString(35);return r[n][l]=[o,!!s],l},this.unsubscribe=function(n){for(var o in r)if(r[o][n])return delete r[o][n],Object.keys(r[o]).length===0&&delete r[o],!0;return!1},this.publish=function(n){if(r.hasOwnProperty(n)){var o=Array.prototype.slice.call(arguments,1),s=[];for(var l in r[n]){var d=r[n][l];try{d[0].apply(t,o)}catch(h){ln.console&&Dr.error("jsPDF PubSub Error",h.message,h)}d[1]&&s.push(l)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function s1(t){if(!(this instanceof s1))return new s1(t);var r="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&r.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function _j(t,r){this.gState=t,this.matrix=r,this.id="",this.objectNumber=-1}function _h(t,r,n,o,s){if(!(this instanceof _h))return new _h(t,r,n,o,s);this.type=t==="axial"?2:3,this.coords=r,this.colors=n,_j.call(this,o,s)}function pp(t,r,n,o,s){if(!(this instanceof pp))return new pp(t,r,n,o,s);this.boundingBox=t,this.xStep=r,this.yStep=n,this.stream="",this.cloneIndex=0,_j.call(this,o,s)}function an(t){var r,n=typeof arguments[0]=="string"?arguments[0]:"p",o=arguments[1],s=arguments[2],l=arguments[3],d=[],h=1,p=16,g="S",b=null;gr(t=t||{})==="object"&&(n=t.orientation,o=t.unit||o,s=t.format||s,l=t.compress||t.compressPdf||l,(b=t.encryption||null)!==null&&(b.userPassword=b.userPassword||"",b.ownerPassword=b.ownerPassword||"",b.userPermissions=b.userPermissions||[]),h=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(r=t.precision),t.floatPrecision!==void 0&&(p=t.floatPrecision),g=t.defaultPathOperation||"S"),d=t.filters||(l===!0?["FlateEncode"]:d),o=o||"mm",n=(""+(n||"P")).toLowerCase();var v=t.putOnlyUsedFonts||!1,y={},k={internal:{},__private__:{}};k.__private__.PubSub=t6;var x="1.3",C=k.__private__.getPdfVersion=function(){return x};k.__private__.setPdfVersion=function(q){x=q};var D={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};k.__private__.getPageFormats=function(){return D};var S=k.__private__.getPageFormat=function(q){return D[q]};s=s||"a4";var M={COMPAT:"compat",ADVANCED:"advanced"},P=M.COMPAT;function B(){this.saveGraphicsState(),he(new $t(dt,0,0,-dt,0,Ml()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),g="n",P=M.ADVANCED}function $(){this.restoreGraphicsState(),g="S",P=M.COMPAT}var F=k.__private__.combineFontStyleAndFontWeight=function(q,de){if(q=="bold"&&de=="normal"||q=="bold"&&de==400||q=="normal"&&de=="italic"||q=="bold"&&de=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return de&&(q=de==400||de==="normal"?q==="italic"?"italic":"normal":de!=700&&de!=="bold"||q!=="normal"?(de==700?"bold":de)+""+q:"bold"),q};k.advancedAPI=function(q){var de=P===M.COMPAT;return de&&B.call(this),typeof q!="function"||(q(this),de&&$.call(this)),this},k.compatAPI=function(q){var de=P===M.ADVANCED;return de&&$.call(this),typeof q!="function"||(q(this),de&&B.call(this)),this},k.isAdvancedAPI=function(){return P===M.ADVANCED};var N,L=function(q){if(P!==M.ADVANCED)throw new Error(q+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=k.roundToPrecision=k.__private__.roundToPrecision=function(q,de){var Ne=r||de;if(isNaN(q)||isNaN(Ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return q.toFixed(Ne).replace(/0+$/,"")};N=k.hpf=k.__private__.hpf=typeof p=="number"?function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return U(q,p)}:p==="smart"?function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return U(q,q>-1&&q<1?16:5)}:function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return U(q,16)};var Q=k.f2=k.__private__.f2=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.f2");return U(q,2)},H=k.__private__.f3=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.f3");return U(q,3)},z=k.scale=k.__private__.scale=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.scale");return P===M.COMPAT?q*dt:P===M.ADVANCED?q:void 0},G=function(q){return P===M.COMPAT?Ml()-q:P===M.ADVANCED?q:void 0},R=function(q){return z(G(q))};k.__private__.setPrecision=k.setPrecision=function(q){typeof parseInt(q,10)=="number"&&(r=parseInt(q,10))};var ne,ue="00000000000000000000000000000000",ie=k.__private__.getFileId=function(){return ue},oe=k.__private__.setFileId=function(q){return ue=q!==void 0&&/^[a-fA-F0-9]{32}$/.test(q)?q.toUpperCase():ue.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),b!==null&&(no=new up(b.userPermissions,b.userPassword,b.ownerPassword,ue)),ue};k.setFileId=function(q){return oe(q),this},k.getFileId=function(){return ie()};var ye=k.__private__.convertDateToPDFDate=function(q){var de=q.getTimezoneOffset(),Ne=de<0?"+":"-",Re=Math.floor(Math.abs(de/60)),Xe=Math.abs(de%60),ht=[Ne,fe(Re),"'",fe(Xe),"'"].join("");return["D:",q.getFullYear(),fe(q.getMonth()+1),fe(q.getDate()),fe(q.getHours()),fe(q.getMinutes()),fe(q.getSeconds()),ht].join("")},re=k.__private__.convertPDFDateToDate=function(q){var de=parseInt(q.substr(2,4),10),Ne=parseInt(q.substr(6,2),10)-1,Re=parseInt(q.substr(8,2),10),Xe=parseInt(q.substr(10,2),10),ht=parseInt(q.substr(12,2),10),_t=parseInt(q.substr(14,2),10);return new Date(de,Ne,Re,Xe,ht,_t,0)},Ce=k.__private__.setCreationDate=function(q){var de;if(q===void 0&&(q=new Date),q instanceof Date)de=ye(q);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(q))throw new Error("Invalid argument passed to jsPDF.setCreationDate");de=q}return ne=de},X=k.__private__.getCreationDate=function(q){var de=ne;return q==="jsDate"&&(de=re(ne)),de};k.setCreationDate=function(q){return Ce(q),this},k.getCreationDate=function(q){return X(q)};var J,fe=k.__private__.padd2=function(q){return("0"+parseInt(q)).slice(-2)},le=k.__private__.padd2Hex=function(q){return("00"+(q=q.toString())).substr(q.length)},ae=0,Se=[],xe=[],Te=0,Ye=[],We=[],Je=!1,Ue=xe,Z=function(){ae=0,Te=0,xe=[],Se=[],Ye=[],ds=kr(),Eo=kr()};k.__private__.setCustomOutputDestination=function(q){Je=!0,Ue=q};var _e=function(q){Je||(Ue=q)};k.__private__.resetCustomOutputDestination=function(){Je=!1,Ue=xe};var he=k.__private__.out=function(q){return q=q.toString(),Te+=q.length+1,Ue.push(q),Ue},be=k.__private__.write=function(q){return he(arguments.length===1?q.toString():Array.prototype.join.call(arguments," "))},pe=k.__private__.getArrayBuffer=function(q){for(var de=q.length,Ne=new ArrayBuffer(de),Re=new Uint8Array(Ne);de--;)Re[de]=q.charCodeAt(de);return Ne},Ae=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];k.__private__.getStandardFonts=function(){return Ae};var Oe=t.fontSize||16;k.__private__.setFontSize=k.setFontSize=function(q){return Oe=P===M.ADVANCED?q/dt:q,this};var Me,Ie=k.__private__.getFontSize=k.getFontSize=function(){return P===M.COMPAT?Oe:Oe*dt},$e=t.R2L||!1;k.__private__.setR2L=k.setR2L=function(q){return $e=q,this},k.__private__.getR2L=k.getR2L=function(){return $e};var Ke,qe=k.__private__.setZoomMode=function(q){var de=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(q))Me=q;else if(isNaN(q)){if(de.indexOf(q)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+q+'" is not recognized.');Me=q}else Me=parseInt(q,10)};k.__private__.getZoomMode=function(){return Me};var it,Be=k.__private__.setPageMode=function(q){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(q)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+q+'" is not recognized.');Ke=q};k.__private__.getPageMode=function(){return Ke};var Qe=k.__private__.setLayoutMode=function(q){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(q)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+q+'" is not recognized.');it=q};k.__private__.getLayoutMode=function(){return it},k.__private__.setDisplayMode=k.setDisplayMode=function(q,de,Ne){return qe(q),Qe(de),Be(Ne),this};var Ze={title:"",subject:"",author:"",keywords:"",creator:""};k.__private__.getDocumentProperty=function(q){if(Object.keys(Ze).indexOf(q)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ze[q]},k.__private__.getDocumentProperties=function(){return Ze},k.__private__.setDocumentProperties=k.setProperties=k.setDocumentProperties=function(q){for(var de in Ze)Ze.hasOwnProperty(de)&&q[de]&&(Ze[de]=q[de]);return this},k.__private__.setDocumentProperty=function(q,de){if(Object.keys(Ze).indexOf(q)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ze[q]=de};var Ct,dt,en,pt,Wt,Rt={},zt={},Qt=[],bn={},Dn={},Vn={},zr={},Kr=null,Rn=0,tn=[],In=new t6(k),Go=t.hotfixes||[],Mn={},eo={},si=[],$t=function q(de,Ne,Re,Xe,ht,_t){if(!(this instanceof q))return new q(de,Ne,Re,Xe,ht,_t);isNaN(de)&&(de=1),isNaN(Ne)&&(Ne=0),isNaN(Re)&&(Re=0),isNaN(Xe)&&(Xe=1),isNaN(ht)&&(ht=0),isNaN(_t)&&(_t=0),this._matrix=[de,Ne,Re,Xe,ht,_t]};Object.defineProperty($t.prototype,"sx",{get:function(){return this._matrix[0]},set:function(q){this._matrix[0]=q}}),Object.defineProperty($t.prototype,"shy",{get:function(){return this._matrix[1]},set:function(q){this._matrix[1]=q}}),Object.defineProperty($t.prototype,"shx",{get:function(){return this._matrix[2]},set:function(q){this._matrix[2]=q}}),Object.defineProperty($t.prototype,"sy",{get:function(){return this._matrix[3]},set:function(q){this._matrix[3]=q}}),Object.defineProperty($t.prototype,"tx",{get:function(){return this._matrix[4]},set:function(q){this._matrix[4]=q}}),Object.defineProperty($t.prototype,"ty",{get:function(){return this._matrix[5]},set:function(q){this._matrix[5]=q}}),Object.defineProperty($t.prototype,"a",{get:function(){return this._matrix[0]},set:function(q){this._matrix[0]=q}}),Object.defineProperty($t.prototype,"b",{get:function(){return this._matrix[1]},set:function(q){this._matrix[1]=q}}),Object.defineProperty($t.prototype,"c",{get:function(){return this._matrix[2]},set:function(q){this._matrix[2]=q}}),Object.defineProperty($t.prototype,"d",{get:function(){return this._matrix[3]},set:function(q){this._matrix[3]=q}}),Object.defineProperty($t.prototype,"e",{get:function(){return this._matrix[4]},set:function(q){this._matrix[4]=q}}),Object.defineProperty($t.prototype,"f",{get:function(){return this._matrix[5]},set:function(q){this._matrix[5]=q}}),Object.defineProperty($t.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty($t.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty($t.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty($t.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),$t.prototype.join=function(q){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(q)},$t.prototype.multiply=function(q){var de=q.sx*this.sx+q.shy*this.shx,Ne=q.sx*this.shy+q.shy*this.sy,Re=q.shx*this.sx+q.sy*this.shx,Xe=q.shx*this.shy+q.sy*this.sy,ht=q.tx*this.sx+q.ty*this.shx+this.tx,_t=q.tx*this.shy+q.ty*this.sy+this.ty;return new $t(de,Ne,Re,Xe,ht,_t)},$t.prototype.decompose=function(){var q=this.sx,de=this.shy,Ne=this.shx,Re=this.sy,Xe=this.tx,ht=this.ty,_t=Math.sqrt(q*q+de*de),jt=(q/=_t)*Ne+(de/=_t)*Re;Ne-=q*jt,Re-=de*jt;var Yt=Math.sqrt(Ne*Ne+Re*Re);return jt/=Yt,q*(Re/=Yt)<de*(Ne/=Yt)&&(q=-q,de=-de,jt=-jt,_t=-_t),{scale:new $t(_t,0,0,Yt,0,0),translate:new $t(1,0,0,1,Xe,ht),rotate:new $t(q,de,-de,q,0,0),skew:new $t(1,0,jt,1,0,0)}},$t.prototype.toString=function(q){return this.join(" ")},$t.prototype.inversed=function(){var q=this.sx,de=this.shy,Ne=this.shx,Re=this.sy,Xe=this.tx,ht=this.ty,_t=1/(q*Re-de*Ne),jt=Re*_t,Yt=-de*_t,hn=-Ne*_t,cn=q*_t;return new $t(jt,Yt,hn,cn,-jt*Xe-hn*ht,-Yt*Xe-cn*ht)},$t.prototype.applyToPoint=function(q){var de=q.x*this.sx+q.y*this.shx+this.tx,Ne=q.x*this.shy+q.y*this.sy+this.ty;return new Oc(de,Ne)},$t.prototype.applyToRectangle=function(q){var de=this.applyToPoint(q),Ne=this.applyToPoint(new Oc(q.x+q.w,q.y+q.h));return new Su(de.x,de.y,Ne.x-de.x,Ne.y-de.y)},$t.prototype.clone=function(){var q=this.sx,de=this.shy,Ne=this.shx,Re=this.sy,Xe=this.tx,ht=this.ty;return new $t(q,de,Ne,Re,Xe,ht)},k.Matrix=$t;var qi=k.matrixMult=function(q,de){return de.multiply(q)},to=new $t(1,0,0,1,0,0);k.unitMatrix=k.identityMatrix=to;var ai=function(q,de){if(!Dn[q]){var Ne=(de instanceof _h?"Sh":"P")+(Object.keys(bn).length+1).toString(10);de.id=Ne,Dn[q]=Ne,bn[Ne]=de,In.publish("addPattern",de)}};k.ShadingPattern=_h,k.TilingPattern=pp,k.addShadingPattern=function(q,de){return L("addShadingPattern()"),ai(q,de),this},k.beginTilingPattern=function(q){L("beginTilingPattern()"),Bd(q.boundingBox[0],q.boundingBox[1],q.boundingBox[2]-q.boundingBox[0],q.boundingBox[3]-q.boundingBox[1],q.matrix)},k.endTilingPattern=function(q,de){L("endTilingPattern()"),de.stream=We[J].join(`
`),ai(q,de),In.publish("endTilingPattern",de),si.pop().restore()};var xr=k.__private__.newObject=function(){var q=kr();return $n(q,!0),q},kr=k.__private__.newObjectDeferred=function(){return ae++,Se[ae]=function(){return Te},ae},$n=function(q,de){return de=typeof de=="boolean"&&de,Se[q]=Te,de&&he(q+" 0 obj"),q},us=k.__private__.newAdditionalObject=function(){var q={objId:kr(),content:""};return Ye.push(q),q},ds=kr(),Eo=kr(),Do=k.__private__.decodeColorString=function(q){var de=q.split(" ");if(de.length!==2||de[1]!=="g"&&de[1]!=="G")de.length===5&&(de[4]==="k"||de[4]==="K")&&(de=[(1-de[0])*(1-de[3]),(1-de[1])*(1-de[3]),(1-de[2])*(1-de[3]),"r"]);else{var Ne=parseFloat(de[0]);de=[Ne,Ne,Ne,"r"]}for(var Re="#",Xe=0;Xe<3;Xe++)Re+=("0"+Math.floor(255*parseFloat(de[Xe])).toString(16)).slice(-2);return Re},Io=k.__private__.encodeColorString=function(q){var de;typeof q=="string"&&(q={ch1:q});var Ne=q.ch1,Re=q.ch2,Xe=q.ch3,ht=q.ch4,_t=q.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ne=="string"&&Ne.charAt(0)!=="#"){var jt=new vj(Ne);if(jt.ok)Ne=jt.toHex();else if(!/^\d*\.?\d*$/.test(Ne))throw new Error('Invalid color "'+Ne+'" passed to jsPDF.encodeColorString.')}if(typeof Ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ne)&&(Ne="#"+Ne[1]+Ne[1]+Ne[2]+Ne[2]+Ne[3]+Ne[3]),typeof Ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ne)){var Yt=parseInt(Ne.substr(1),16);Ne=Yt>>16&255,Re=Yt>>8&255,Xe=255&Yt}if(Re===void 0||ht===void 0&&Ne===Re&&Re===Xe)if(typeof Ne=="string")de=Ne+" "+_t[0];else switch(q.precision){case 2:de=Q(Ne/255)+" "+_t[0];break;case 3:default:de=H(Ne/255)+" "+_t[0]}else if(ht===void 0||gr(ht)==="object"){if(ht&&!isNaN(ht.a)&&ht.a===0)return de=["1.","1.","1.",_t[1]].join(" ");if(typeof Ne=="string")de=[Ne,Re,Xe,_t[1]].join(" ");else switch(q.precision){case 2:de=[Q(Ne/255),Q(Re/255),Q(Xe/255),_t[1]].join(" ");break;default:case 3:de=[H(Ne/255),H(Re/255),H(Xe/255),_t[1]].join(" ")}}else if(typeof Ne=="string")de=[Ne,Re,Xe,ht,_t[2]].join(" ");else switch(q.precision){case 2:de=[Q(Ne),Q(Re),Q(Xe),Q(ht),_t[2]].join(" ");break;case 3:default:de=[H(Ne),H(Re),H(Xe),H(ht),_t[2]].join(" ")}return de},wi=k.__private__.getFilters=function(){return d},Vi=k.__private__.putStream=function(q){var de=(q=q||{}).data||"",Ne=q.filters||wi(),Re=q.alreadyAppliedFilters||[],Xe=q.addLength1||!1,ht=de.length,_t=q.objectId,jt=function(Hi){return Hi};if(b!==null&&_t===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");b!==null&&(jt=no.encryptor(_t,0));var Yt={};Ne===!0&&(Ne=["FlateEncode"]);var hn=q.additionalKeyValues||[],cn=(Yt=an.API.processDataByFilters!==void 0?an.API.processDataByFilters(de,Ne):{data:de,reverseChain:[]}).reverseChain+(Array.isArray(Re)?Re.join(" "):Re.toString());if(Yt.data.length!==0&&(hn.push({key:"Length",value:Yt.data.length}),Xe===!0&&hn.push({key:"Length1",value:ht})),cn.length!=0)if(cn.split("/").length-1==1)hn.push({key:"Filter",value:cn});else{hn.push({key:"Filter",value:"["+cn+"]"});for(var Tn=0;Tn<hn.length;Tn+=1)if(hn[Tn].key==="DecodeParms"){for(var Ir=[],Or=0;Or<Yt.reverseChain.split("/").length-1;Or+=1)Ir.push("null");Ir.push(hn[Tn].value),hn[Tn].value="["+Ir.join(" ")+"]"}}he("<<");for(var Qr=0;Qr<hn.length;Qr++)he("/"+hn[Qr].key+" "+hn[Qr].value);he(">>"),Yt.data.length!==0&&(he("stream"),he(jt(Yt.data)),he("endstream"))},To=k.__private__.putPage=function(q){var de=q.number,Ne=q.data,Re=q.objId,Xe=q.contentsObjId;$n(Re,!0),he("<</Type /Page"),he("/Parent "+q.rootDictionaryObjId+" 0 R"),he("/Resources "+q.resourceDictionaryObjId+" 0 R"),he("/MediaBox ["+parseFloat(N(q.mediaBox.bottomLeftX))+" "+parseFloat(N(q.mediaBox.bottomLeftY))+" "+N(q.mediaBox.topRightX)+" "+N(q.mediaBox.topRightY)+"]"),q.cropBox!==null&&he("/CropBox ["+N(q.cropBox.bottomLeftX)+" "+N(q.cropBox.bottomLeftY)+" "+N(q.cropBox.topRightX)+" "+N(q.cropBox.topRightY)+"]"),q.bleedBox!==null&&he("/BleedBox ["+N(q.bleedBox.bottomLeftX)+" "+N(q.bleedBox.bottomLeftY)+" "+N(q.bleedBox.topRightX)+" "+N(q.bleedBox.topRightY)+"]"),q.trimBox!==null&&he("/TrimBox ["+N(q.trimBox.bottomLeftX)+" "+N(q.trimBox.bottomLeftY)+" "+N(q.trimBox.topRightX)+" "+N(q.trimBox.topRightY)+"]"),q.artBox!==null&&he("/ArtBox ["+N(q.artBox.bottomLeftX)+" "+N(q.artBox.bottomLeftY)+" "+N(q.artBox.topRightX)+" "+N(q.artBox.topRightY)+"]"),typeof q.userUnit=="number"&&q.userUnit!==1&&he("/UserUnit "+q.userUnit),In.publish("putPage",{objId:Re,pageContext:tn[de],pageNumber:de,page:Ne}),he("/Contents "+Xe+" 0 R"),he(">>"),he("endobj");var ht=Ne.join(`
`);return P===M.ADVANCED&&(ht+=`
Q`),$n(Xe,!0),Vi({data:ht,filters:wi(),objectId:Xe}),he("endobj"),Re},ca=k.__private__.putPages=function(){var q,de,Ne=[];for(q=1;q<=Rn;q++)tn[q].objId=kr(),tn[q].contentsObjId=kr();for(q=1;q<=Rn;q++)Ne.push(To({number:q,data:We[q],objId:tn[q].objId,contentsObjId:tn[q].contentsObjId,mediaBox:tn[q].mediaBox,cropBox:tn[q].cropBox,bleedBox:tn[q].bleedBox,trimBox:tn[q].trimBox,artBox:tn[q].artBox,userUnit:tn[q].userUnit,rootDictionaryObjId:ds,resourceDictionaryObjId:Eo}));$n(ds,!0),he("<</Type /Pages");var Re="/Kids [";for(de=0;de<Rn;de++)Re+=Ne[de]+" 0 R ";he(Re+"]"),he("/Count "+Rn),he(">>"),he("endobj"),In.publish("postPutPages")},Ga=function(q){In.publish("putFont",{font:q,out:he,newObject:xr,putStream:Vi}),q.isAlreadyPutted!==!0&&(q.objectNumber=xr(),he("<<"),he("/Type /Font"),he("/BaseFont /"+dp(q.postScriptName)),he("/Subtype /Type1"),typeof q.encoding=="string"&&he("/Encoding /"+q.encoding),he("/FirstChar 32"),he("/LastChar 255"),he(">>"),he("endobj"))},uo=function(){for(var q in Rt)Rt.hasOwnProperty(q)&&(v===!1||v===!0&&y.hasOwnProperty(q))&&Ga(Rt[q])},Ya=function(q){q.objectNumber=xr();var de=[];de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Form"}),de.push({key:"BBox",value:"["+[N(q.x),N(q.y),N(q.x+q.width),N(q.y+q.height)].join(" ")+"]"}),de.push({key:"Matrix",value:"["+q.matrix.toString()+"]"});var Ne=q.pages[1].join(`
`);Vi({data:Ne,additionalKeyValues:de,objectId:q.objectNumber}),he("endobj")},Ka=function(){for(var q in Mn)Mn.hasOwnProperty(q)&&Ya(Mn[q])},Ec=function(q,de){var Ne,Re=[],Xe=1/(de-1);for(Ne=0;Ne<1;Ne+=Xe)Re.push(Ne);if(Re.push(1),q[0].offset!=0){var ht={offset:0,color:q[0].color};q.unshift(ht)}if(q[q.length-1].offset!=1){var _t={offset:1,color:q[q.length-1].color};q.push(_t)}for(var jt="",Yt=0,hn=0;hn<Re.length;hn++){for(Ne=Re[hn];Ne>q[Yt+1].offset;)Yt++;var cn=q[Yt].offset,Tn=(Ne-cn)/(q[Yt+1].offset-cn),Ir=q[Yt].color,Or=q[Yt+1].color;jt+=le(Math.round((1-Tn)*Ir[0]+Tn*Or[0]).toString(16))+le(Math.round((1-Tn)*Ir[1]+Tn*Or[1]).toString(16))+le(Math.round((1-Tn)*Ir[2]+Tn*Or[2]).toString(16))}return jt.trim()},yt=function(q,de){de||(de=21);var Ne=xr(),Re=Ec(q.colors,de),Xe=[];Xe.push({key:"FunctionType",value:"0"}),Xe.push({key:"Domain",value:"[0.0 1.0]"}),Xe.push({key:"Size",value:"["+de+"]"}),Xe.push({key:"BitsPerSample",value:"8"}),Xe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Vi({data:Re,additionalKeyValues:Xe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ne}),he("endobj"),q.objectNumber=xr(),he("<< /ShadingType "+q.type),he("/ColorSpace /DeviceRGB");var ht="/Coords ["+N(parseFloat(q.coords[0]))+" "+N(parseFloat(q.coords[1]))+" ";q.type===2?ht+=N(parseFloat(q.coords[2]))+" "+N(parseFloat(q.coords[3])):ht+=N(parseFloat(q.coords[2]))+" "+N(parseFloat(q.coords[3]))+" "+N(parseFloat(q.coords[4]))+" "+N(parseFloat(q.coords[5])),he(ht+="]"),q.matrix&&he("/Matrix ["+q.matrix.toString()+"]"),he("/Function "+Ne+" 0 R"),he("/Extend [true true]"),he(">>"),he("endobj")},xt=function(q,de){var Ne=kr(),Re=xr();de.push({resourcesOid:Ne,objectOid:Re}),q.objectNumber=Re;var Xe=[];Xe.push({key:"Type",value:"/Pattern"}),Xe.push({key:"PatternType",value:"1"}),Xe.push({key:"PaintType",value:"1"}),Xe.push({key:"TilingType",value:"1"}),Xe.push({key:"BBox",value:"["+q.boundingBox.map(N).join(" ")+"]"}),Xe.push({key:"XStep",value:N(q.xStep)}),Xe.push({key:"YStep",value:N(q.yStep)}),Xe.push({key:"Resources",value:Ne+" 0 R"}),q.matrix&&Xe.push({key:"Matrix",value:"["+q.matrix.toString()+"]"}),Vi({data:q.stream,additionalKeyValues:Xe,objectId:q.objectNumber}),he("endobj")},St=function(q){var de;for(de in bn)bn.hasOwnProperty(de)&&(bn[de]instanceof _h?yt(bn[de]):bn[de]instanceof pp&&xt(bn[de],q))},Gt=function(q){for(var de in q.objectNumber=xr(),he("<<"),q)switch(de){case"opacity":he("/ca "+Q(q[de]));break;case"stroke-opacity":he("/CA "+Q(q[de]))}he(">>"),he("endobj")},Vt=function(){var q;for(q in Vn)Vn.hasOwnProperty(q)&&Gt(Vn[q])},un=function(){for(var q in he("/XObject <<"),Mn)Mn.hasOwnProperty(q)&&Mn[q].objectNumber>=0&&he("/"+q+" "+Mn[q].objectNumber+" 0 R");In.publish("putXobjectDict"),he(">>")},Fn=function(){no.oid=xr(),he("<<"),he("/Filter /Standard"),he("/V "+no.v),he("/R "+no.r),he("/U <"+no.toHexString(no.U)+">"),he("/O <"+no.toHexString(no.O)+">"),he("/P "+no.P),he(">>"),he("endobj")},cr=function(){for(var q in he("/Font <<"),Rt)Rt.hasOwnProperty(q)&&(v===!1||v===!0&&y.hasOwnProperty(q))&&he("/"+q+" "+Rt[q].objectNumber+" 0 R");he(">>")},Ur=function(){if(Object.keys(bn).length>0){for(var q in he("/Shading <<"),bn)bn.hasOwnProperty(q)&&bn[q]instanceof _h&&bn[q].objectNumber>=0&&he("/"+q+" "+bn[q].objectNumber+" 0 R");In.publish("putShadingPatternDict"),he(">>")}},$i=function(q){if(Object.keys(bn).length>0){for(var de in he("/Pattern <<"),bn)bn.hasOwnProperty(de)&&bn[de]instanceof k.TilingPattern&&bn[de].objectNumber>=0&&bn[de].objectNumber<q&&he("/"+de+" "+bn[de].objectNumber+" 0 R");In.publish("putTilingPatternDict"),he(">>")}},Qa=function(){if(Object.keys(Vn).length>0){var q;for(q in he("/ExtGState <<"),Vn)Vn.hasOwnProperty(q)&&Vn[q].objectNumber>=0&&he("/"+q+" "+Vn[q].objectNumber+" 0 R");In.publish("putGStateDict"),he(">>")}},Qn=function(q){$n(q.resourcesOid,!0),he("<<"),he("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),cr(),Ur(),$i(q.objectOid),Qa(),un(),he(">>"),he("endobj")},Yo=function(){var q=[];uo(),Vt(),Ka(),St(q),In.publish("putResources"),q.forEach(Qn),Qn({resourcesOid:Eo,objectOid:Number.MAX_SAFE_INTEGER}),In.publish("postPutResources")},Dc=function(){In.publish("putAdditionalObjects");for(var q=0;q<Ye.length;q++){var de=Ye[q];$n(de.objId,!0),he(de.content),he("endobj")}In.publish("postPutAdditionalObjects")},Ic=function(q){zt[q.fontName]=zt[q.fontName]||{},zt[q.fontName][q.fontStyle]=q.id},ho=function(q,de,Ne,Re,Xe){var ht={id:"F"+(Object.keys(Rt).length+1).toString(10),postScriptName:q,fontName:de,fontStyle:Ne,encoding:Re,isStandardFont:Xe||!1,metadata:{}};return In.publish("addFont",{font:ht,instance:this}),Rt[ht.id]=ht,Ic(ht),ht.id},Sl=function(q){for(var de=0,Ne=Ae.length;de<Ne;de++){var Re=ho.call(this,q[de][0],q[de][1],q[de][2],Ae[de][3],!0);v===!1&&(y[Re]=!0);var Xe=q[de][0].split("-");Ic({id:Re,fontName:Xe[0],fontStyle:Xe[1]||""})}In.publish("addFonts",{fonts:Rt,dictionary:zt})},No=function(q){return q.foo=function(){try{return q.apply(this,arguments)}catch(Re){var de=Re.stack||"";~de.indexOf(" at ")&&(de=de.split(" at ")[1]);var Ne="Error in function "+de.split(`
`)[0].split("<")[0]+": "+Re.message;if(!ln.console)throw new Error(Ne);ln.console.error(Ne,Re),ln.alert&&alert(Ne)}},q.foo.bar=q,q.foo},Ja=function(q,de){var Ne,Re,Xe,ht,_t,jt,Yt,hn,cn;if(Xe=(de=de||{}).sourceEncoding||"Unicode",_t=de.outputEncoding,(de.autoencode||_t)&&Rt[Ct].metadata&&Rt[Ct].metadata[Xe]&&Rt[Ct].metadata[Xe].encoding&&(ht=Rt[Ct].metadata[Xe].encoding,!_t&&Rt[Ct].encoding&&(_t=Rt[Ct].encoding),!_t&&ht.codePages&&(_t=ht.codePages[0]),typeof _t=="string"&&(_t=ht[_t]),_t)){for(Yt=!1,jt=[],Ne=0,Re=q.length;Ne<Re;Ne++)(hn=_t[q.charCodeAt(Ne)])?jt.push(String.fromCharCode(hn)):jt.push(q[Ne]),jt[Ne].charCodeAt(0)>>8&&(Yt=!0);q=jt.join("")}for(Ne=q.length;Yt===void 0&&Ne!==0;)q.charCodeAt(Ne-1)>>8&&(Yt=!0),Ne--;if(!Yt)return q;for(jt=de.noBOM?[]:[254,255],Ne=0,Re=q.length;Ne<Re;Ne++){if((cn=(hn=q.charCodeAt(Ne))>>8)>>8)throw new Error("Character at position "+Ne+" of string '"+q+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");jt.push(cn),jt.push(hn-(cn<<8))}return String.fromCharCode.apply(void 0,jt)},yi=k.__private__.pdfEscape=k.pdfEscape=function(q,de){return Ja(q,de).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Id=k.__private__.beginPage=function(q){We[++Rn]=[],tn[Rn]={objId:0,contentsObjId:0,userUnit:Number(h),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(q[0]),topRightY:Number(q[1])}},of(Rn),_e(We[J])},rf=function(q,de){var Ne,Re,Xe;switch(n=de||n,typeof q=="string"&&(Ne=S(q.toLowerCase()),Array.isArray(Ne)&&(Re=Ne[0],Xe=Ne[1])),Array.isArray(q)&&(Re=q[0]*dt,Xe=q[1]*dt),isNaN(Re)&&(Re=s[0],Xe=s[1]),(Re>14400||Xe>14400)&&(Dr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Re=Math.min(14400,Re),Xe=Math.min(14400,Xe)),s=[Re,Xe],n.substr(0,1)){case"l":Xe>Re&&(s=[Xe,Re]);break;case"p":Re>Xe&&(s=[Xe,Re])}Id(s),Od(Pc),he(js),Ld!==0&&he(Ld+" J"),pa!==0&&he(pa+" j"),In.publish("addPage",{pageNumber:Rn})},Jp=function(q){q>0&&q<=Rn&&(We.splice(q,1),tn.splice(q,1),Rn--,J>Rn&&(J=Rn),this.setPage(J))},of=function(q){q>0&&q<=Rn&&(J=q)},El=k.__private__.getNumberOfPages=k.getNumberOfPages=function(){return We.length-1},Tc=function(q,de,Ne){var Re,Xe=void 0;return Ne=Ne||{},q=q!==void 0?q:Rt[Ct].fontName,de=de!==void 0?de:Rt[Ct].fontStyle,Re=q.toLowerCase(),zt[Re]!==void 0&&zt[Re][de]!==void 0?Xe=zt[Re][de]:zt[q]!==void 0&&zt[q][de]!==void 0?Xe=zt[q][de]:Ne.disableWarning===!1&&Dr.warn("Unable to look up font label for font '"+q+"', '"+de+"'. Refer to getFontList() for available fonts."),Xe||Ne.noFallback||(Xe=zt.times[de])==null&&(Xe=zt.times.normal),Xe},Zp=k.__private__.putInfo=function(){var q=xr(),de=function(Re){return Re};for(var Ne in b!==null&&(de=no.encryptor(q,0)),he("<<"),he("/Producer ("+yi(de("jsPDF "+an.version))+")"),Ze)Ze.hasOwnProperty(Ne)&&Ze[Ne]&&he("/"+Ne.substr(0,1).toUpperCase()+Ne.substr(1)+" ("+yi(de(Ze[Ne]))+")");he("/CreationDate ("+yi(de(ne))+")"),he(">>"),he("endobj")},ua=k.__private__.putCatalog=function(q){var de=(q=q||{}).rootDictionaryObjId||ds;switch(xr(),he("<<"),he("/Type /Catalog"),he("/Pages "+de+" 0 R"),Me||(Me="fullwidth"),Me){case"fullwidth":he("/OpenAction [3 0 R /FitH null]");break;case"fullheight":he("/OpenAction [3 0 R /FitV null]");break;case"fullpage":he("/OpenAction [3 0 R /Fit]");break;case"original":he("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ne=""+Me;Ne.substr(Ne.length-1)==="%"&&(Me=parseInt(Me)/100),typeof Me=="number"&&he("/OpenAction [3 0 R /XYZ null null "+Q(Me)+"]")}switch(it||(it="continuous"),it){case"continuous":he("/PageLayout /OneColumn");break;case"single":he("/PageLayout /SinglePage");break;case"two":case"twoleft":he("/PageLayout /TwoColumnLeft");break;case"tworight":he("/PageLayout /TwoColumnRight")}Ke&&he("/PageMode /"+Ke),In.publish("putCatalog"),he(">>"),he("endobj")},Dl=k.__private__.putTrailer=function(){he("trailer"),he("<<"),he("/Size "+(ae+1)),he("/Root "+ae+" 0 R"),he("/Info "+(ae-1)+" 0 R"),b!==null&&he("/Encrypt "+no.oid+" 0 R"),he("/ID [ <"+ue+"> <"+ue+"> ]"),he(">>")},Xp=k.__private__.putHeader=function(){he("%PDF-"+x),he("%ÂºÃŸÂ¬Ã ")},yu=k.__private__.putXRef=function(){var q="0000000000";he("xref"),he("0 "+(ae+1)),he("0000000000 65535 f ");for(var de=1;de<=ae;de++)typeof Se[de]=="function"?he((q+Se[de]()).slice(-10)+" 00000 n "):Se[de]!==void 0?he((q+Se[de]).slice(-10)+" 00000 n "):he("0000000000 00000 n ")},hs=k.__private__.buildDocument=function(){Z(),_e(xe),In.publish("buildDocument"),Xp(),ca(),Dc(),Yo(),b!==null&&Fn(),Zp(),ua();var q=Te;return yu(),Dl(),he("startxref"),he(""+q),he("%%EOF"),_e(We[J]),xe.join(`
`)},vu=k.__private__.getBlob=function(q){return new Blob([pe(q)],{type:"application/pdf"})},Il=k.output=k.__private__.output=No(function(q,de){switch(typeof(de=de||{})=="string"?de={filename:de}:de.filename=de.filename||"generated.pdf",q){case void 0:return hs();case"save":k.save(de.filename);break;case"arraybuffer":return pe(hs());case"blob":return vu(hs());case"bloburi":case"bloburl":if(ln.URL!==void 0&&typeof ln.URL.createObjectURL=="function")return ln.URL&&ln.URL.createObjectURL(vu(hs()))||void 0;Dr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ne="",Re=hs();try{Ne=e_(Re)}catch{Ne=e_(unescape(encodeURIComponent(Re)))}return"data:application/pdf;filename="+de.filename+";base64,"+Ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ln)==="[object Window]"){var Xe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ht=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';de.pdfObjectUrl&&(Xe=de.pdfObjectUrl,ht="");var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Xe+'"'+ht+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(de)+");<\/script></body></html>",jt=ln.open();return jt!==null&&jt.document.write(_t),jt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ln)==="[object Window]"){var Yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(de.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+de.filename+'" width="500px" height="400px" /></body></html>',hn=ln.open();if(hn!==null){hn.document.write(Yt);var cn=this;hn.document.documentElement.querySelector("#pdfViewer").onload=function(){hn.document.title=de.filename,hn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(cn.output("bloburl"))}}return hn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ln)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Tn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",de)+'"></iframe></body></html>',Ir=ln.open();if(Ir!==null&&(Ir.document.write(Tn),Ir.document.title=de.filename),Ir||typeof safari>"u")return Ir;break;case"datauri":case"dataurl":return ln.document.location.href=this.output("datauristring",de);default:return null}}),Za=function(q){return Array.isArray(Go)===!0&&Go.indexOf(q)>-1};switch(o){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=Za("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof o!="number")throw new Error("Invalid unit: "+o);dt=o}var no=null;Ce(),oe();var sf=function(q){return b!==null?no.encryptor(q,0):function(de){return de}},Td=k.__private__.getPageInfo=k.getPageInfo=function(q){if(isNaN(q)||q%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tn[q].objId,pageNumber:q,pageContext:tn[q]}},dn=k.__private__.getPageInfoByObjId=function(q){if(isNaN(q)||q%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var de in tn)if(tn[de].objId===q)break;return Td(de)},em=k.__private__.getCurrentPageInfo=k.getCurrentPageInfo=function(){return{objId:tn[J].objId,pageNumber:J,pageContext:tn[J]}};k.addPage=function(){return rf.apply(this,arguments),this},k.setPage=function(){return of.apply(this,arguments),_e.call(this,We[J]),this},k.insertPage=function(q){return this.addPage(),this.movePage(J,q),this},k.movePage=function(q,de){var Ne,Re;if(q>de){Ne=We[q],Re=tn[q];for(var Xe=q;Xe>de;Xe--)We[Xe]=We[Xe-1],tn[Xe]=tn[Xe-1];We[de]=Ne,tn[de]=Re,this.setPage(de)}else if(q<de){Ne=We[q],Re=tn[q];for(var ht=q;ht<de;ht++)We[ht]=We[ht+1],tn[ht]=tn[ht+1];We[de]=Ne,tn[de]=Re,this.setPage(de)}return this},k.deletePage=function(){return Jp.apply(this,arguments),this},k.__private__.text=k.text=function(q,de,Ne,Re,Xe){var ht,_t,jt,Yt,hn,cn,Tn,Ir,Or,Qr=(Re=Re||{}).scope||this;if(typeof q=="number"&&typeof de=="number"&&(typeof Ne=="string"||Array.isArray(Ne))){var Hi=Ne;Ne=de,de=q,q=Hi}if(arguments[3]instanceof $t?(L("The transform parameter of text() with a Matrix value"),Or=Xe):(jt=arguments[4],Yt=arguments[5],gr(Tn=arguments[3])==="object"&&Tn!==null||(typeof jt=="string"&&(Yt=jt,jt=null),typeof Tn=="string"&&(Yt=Tn,Tn=null),typeof Tn=="number"&&(jt=Tn,Tn=null),Re={flags:Tn,angle:jt,align:Yt})),isNaN(de)||isNaN(Ne)||q==null)throw new Error("Invalid arguments passed to jsPDF.text");if(q.length===0)return Qr;var vi="",Bs=!1,Ko=typeof Re.lineHeightFactor=="number"?Re.lineHeightFactor:Ms,ma=Qr.internal.scaleFactor;function df(Ut){return Ut=Ut.split("	").join(Array(Re.TabLen||9).join(" ")),yi(Ut,Tn)}function Rd(Ut){for(var er,qr=Ut.concat(),Zr=[],ya=qr.length;ya--;)typeof(er=qr.shift())=="string"?Zr.push(er):Array.isArray(Ut)&&(er.length===1||er[1]===void 0&&er[2]===void 0)?Zr.push(er[0]):Zr.push([er[0],er[1],er[2]]);return Zr}function Rs(Ut,er){var qr;if(typeof Ut=="string")qr=er(Ut)[0];else if(Array.isArray(Ut)){for(var Zr,ya,Sr=Ut.concat(),va=[],qd=Sr.length;qd--;)typeof(Zr=Sr.shift())=="string"?va.push(er(Zr)[0]):Array.isArray(Zr)&&typeof Zr[0]=="string"&&(ya=er(Zr[0],Zr[1],Zr[2]),va.push([ya[0],ya[1],ya[2]]));qr=va}return qr}var ga=!1,Fd=!0;if(typeof q=="string")ga=!0;else if(Array.isArray(q)){var zd=q.concat();_t=[];for(var el,Ai=zd.length;Ai--;)(typeof(el=zd.shift())!="string"||Array.isArray(el)&&typeof el[0]!="string")&&(Fd=!1);ga=Fd}if(ga===!1)throw new Error('Type of text must be string or Array. "'+q+'" is not recognized.');typeof q=="string"&&(q=q.match(/[\r?\n]/)?q.split(/\r\n|\r|\n/g):[q]);var Tu=Oe/Qr.internal.scaleFactor,Nu=Tu*(Ko-1);switch(Re.baseline){case"bottom":Ne-=Nu;break;case"top":Ne+=Tu-Nu;break;case"hanging":Ne+=Tu-2*Nu;break;case"middle":Ne+=Tu/2-Nu}if((cn=Re.maxWidth||0)>0&&(typeof q=="string"?q=Qr.splitTextToSize(q,cn):Object.prototype.toString.call(q)==="[object Array]"&&(q=q.reduce(function(Ut,er){return Ut.concat(Qr.splitTextToSize(er,cn))},[]))),ht={text:q,x:de,y:Ne,options:Re,mutex:{pdfEscape:yi,activeFontKey:Ct,fonts:Rt,activeFontSize:Oe}},In.publish("preProcessText",ht),q=ht.text,jt=(Re=ht.options).angle,!(Or instanceof $t)&&jt&&typeof jt=="number"){jt*=Math.PI/180,Re.rotationDirection===0&&(jt=-jt),P===M.ADVANCED&&(jt=-jt);var Mu=Math.cos(jt),Pu=Math.sin(jt);Or=new $t(Mu,Pu,-Pu,Mu,0,0)}else jt&&jt instanceof $t&&(Or=jt);P!==M.ADVANCED||Or||(Or=to),(hn=Re.charSpace||xu)!==void 0&&(vi+=N(z(hn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ir=Re.horizontalScale)!==void 0&&(vi+=N(100*Ir)+` Tz
`),Re.lang;var fo=-1,om=Re.renderingMode!==void 0?Re.renderingMode:Re.stroke,Ou=Qr.internal.getCurrentPageInfo().pageContext;switch(om){case 0:case!1:case"fill":fo=0;break;case 1:case!0:case"stroke":fo=1;break;case 2:case"fillThenStroke":fo=2;break;case 3:case"invisible":fo=3;break;case 4:case"fillAndAddForClipping":fo=4;break;case 5:case"strokeAndAddPathForClipping":fo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":fo=6;break;case 7:case"addToPathForClipping":fo=7}var hf=Ou.usedRenderingMode!==void 0?Ou.usedRenderingMode:-1;fo!==-1?vi+=fo+` Tr
`:hf!==-1&&(vi+=`0 Tr
`),fo!==-1&&(Ou.usedRenderingMode=fo),Yt=Re.align||"left";var Qo,ju=Oe*Ko,Ud=Qr.internal.pageSize.getWidth(),ff=Rt[Ct];hn=Re.charSpace||xu,cn=Re.maxWidth||0,Tn=Object.assign({autoencode:!0,noBOM:!0},Re.flags);var tl=[],Bc=function(Ut){return Qr.getStringUnitWidth(Ut,{font:ff,charSpace:hn,fontSize:Oe,doKerning:!1})*Oe/ma};if(Object.prototype.toString.call(q)==="[object Array]"){var Mo;_t=Rd(q),Yt!=="left"&&(Qo=_t.map(Bc));var ro,Pl=0;if(Yt==="right"){de-=Qo[0],q=[],Ai=_t.length;for(var ba=0;ba<Ai;ba++)ba===0?(ro=fa(de),Mo=Os(Ne)):(ro=z(Pl-Qo[ba]),Mo=-ju),q.push([_t[ba],ro,Mo]),Pl=Qo[ba]}else if(Yt==="center"){de-=Qo[0]/2,q=[],Ai=_t.length;for(var ka=0;ka<Ai;ka++)ka===0?(ro=fa(de),Mo=Os(Ne)):(ro=z((Pl-Qo[ka])/2),Mo=-ju),q.push([_t[ka],ro,Mo]),Pl=Qo[ka]}else if(Yt==="left"){q=[],Ai=_t.length;for(var Rc=0;Rc<Ai;Rc++)q.push(_t[Rc])}else if(Yt==="justify"&&ff.encoding==="Identity-H"){q=[],Ai=_t.length,cn=cn!==0?cn:Ud;for(var jn=0,jr=0;jr<Ai;jr++)if(Mo=jr===0?Os(Ne):-ju,ro=jr===0?fa(de):jn,jr<Ai-1){var Fc=z((cn-Qo[jr])/(_t[jr].split(" ").length-1)),Jr=_t[jr].split(" ");q.push([Jr[0]+" ",ro,Mo]),jn=0;for(var Jo=1;Jo<Jr.length;Jo++){var zc=(Bc(Jr[Jo-1]+" "+Jr[Jo])-Bc(Jr[Jo]))*ma+Fc;Jo==Jr.length-1?q.push([Jr[Jo],zc,0]):q.push([Jr[Jo]+" ",zc,0]),jn-=zc}}else q.push([_t[jr],ro,Mo]);q.push(["",jn,0])}else{if(Yt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(q=[],Ai=_t.length,cn=cn!==0?cn:Ud,jr=0;jr<Ai;jr++)Mo=jr===0?Os(Ne):-ju,ro=jr===0?fa(de):0,jr<Ai-1?tl.push(N(z((cn-Qo[jr])/(_t[jr].split(" ").length-1)))):tl.push(0),q.push([_t[jr],ro,Mo])}}var pf=typeof Re.R2L=="boolean"?Re.R2L:$e;pf===!0&&(q=Rs(q,function(Ut,er,qr){return[Ut.split("").reverse().join(""),er,qr]})),ht={text:q,x:de,y:Ne,options:Re,mutex:{pdfEscape:yi,activeFontKey:Ct,fonts:Rt,activeFontSize:Oe}},In.publish("postProcessText",ht),q=ht.text,Bs=ht.mutex.isHex||!1;var fs=Rt[Ct].encoding;fs!=="WinAnsiEncoding"&&fs!=="StandardEncoding"||(q=Rs(q,function(Ut,er,qr){return[df(Ut),er,qr]})),_t=Rd(q),q=[];for(var wa,Ol,_i,Uc=0,qc=1,jl=Array.isArray(_t[0])?qc:Uc,or="",Ll=function(Ut,er,qr){var Zr="";return qr instanceof $t?(qr=typeof Re.angle=="number"?qi(qr,new $t(1,0,0,1,Ut,er)):qi(new $t(1,0,0,1,Ut,er),qr),P===M.ADVANCED&&(qr=qi(new $t(1,0,0,-1,0,0),qr)),Zr=qr.join(" ")+` Tm
`):Zr=N(Ut)+" "+N(er)+` Td
`,Zr},Zo=0;Zo<_t.length;Zo++){switch(or="",jl){case qc:_i=(Bs?"<":"(")+_t[Zo][0]+(Bs?">":")"),wa=parseFloat(_t[Zo][1]),Ol=parseFloat(_t[Zo][2]);break;case Uc:_i=(Bs?"<":"(")+_t[Zo]+(Bs?">":")"),wa=fa(de),Ol=Os(Ne)}tl!==void 0&&tl[Zo]!==void 0&&(or=tl[Zo]+` Tw
`),Zo===0?q.push(or+Ll(wa,Ol,Or)+_i):jl===Uc?q.push(or+_i):jl===qc&&q.push(or+Ll(wa,Ol,Or)+_i)}q=jl===Uc?q.join(` Tj
T* `):q.join(` Tj
`),q+=` Tj
`;var Xo=`BT
/`;return Xo+=Ct+" "+Oe+` Tf
`,Xo+=N(Oe*Ko)+` TL
`,Xo+=Ls+`
`,Xo+=vi,Xo+=q,he(Xo+="ET"),y[Ct]=!0,Qr};var Au=k.__private__.clip=k.clip=function(q){return he(q==="evenodd"?"W*":"W"),this};k.clipEvenOdd=function(){return Au("evenodd")},k.__private__.discardPath=k.discardPath=function(){return he("n"),this};var da=k.__private__.isValidStyle=function(q){var de=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(q)!==-1&&(de=!0),de};k.__private__.setDefaultPathOperation=k.setDefaultPathOperation=function(q){return da(q)&&(g=q),this};var Nd=k.__private__.getStyle=k.getStyle=function(q){var de=g;switch(q){case"D":case"S":de="S";break;case"F":de="f";break;case"FD":case"DF":de="B";break;case"f":case"f*":case"B":case"B*":de=q}return de},Md=k.close=function(){return he("h"),this};k.stroke=function(){return he("S"),this},k.fill=function(q){return Nc("f",q),this},k.fillEvenOdd=function(q){return Nc("f*",q),this},k.fillStroke=function(q){return Nc("B",q),this},k.fillStrokeEvenOdd=function(q){return Nc("B*",q),this};var Nc=function(q,de){gr(de)==="object"?_u(de,q):he(q)},Xa=function(q){q===null||P===M.ADVANCED&&q===void 0||(q=Nd(q),he(q))};function tm(q,de,Ne,Re,Xe){var ht=new pp(de||this.boundingBox,Ne||this.xStep,Re||this.yStep,this.gState,Xe||this.matrix);ht.stream=this.stream;var _t=q+"$$"+this.cloneIndex+++"$$";return ai(_t,ht),ht}var _u=function(q,de){var Ne=Dn[q.key],Re=bn[Ne];if(Re instanceof _h)he("q"),he(Pd(de)),Re.gState&&k.setGState(Re.gState),he(q.matrix.toString()+" cm"),he("/"+Ne+" sh"),he("Q");else if(Re instanceof pp){var Xe=new $t(1,0,0,-1,0,Ml());q.matrix&&(Xe=Xe.multiply(q.matrix||to),Ne=tm.call(Re,q.key,q.boundingBox,q.xStep,q.yStep,Xe).id),he("q"),he("/Pattern cs"),he("/"+Ne+" scn"),Re.gState&&k.setGState(Re.gState),he(de),he("Q")}},Pd=function(q){switch(q){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Xn=k.moveTo=function(q,de){return he(N(z(q))+" "+N(R(de))+" m"),this},Mc=k.lineTo=function(q,de){return he(N(z(q))+" "+N(R(de))+" l"),this},ha=k.curveTo=function(q,de,Ne,Re,Xe,ht){return he([N(z(q)),N(R(de)),N(z(Ne)),N(R(Re)),N(z(Xe)),N(R(ht)),"c"].join(" ")),this};k.__private__.line=k.line=function(q,de,Ne,Re,Xe){if(isNaN(q)||isNaN(de)||isNaN(Ne)||isNaN(Re)||!da(Xe))throw new Error("Invalid arguments passed to jsPDF.line");return P===M.COMPAT?this.lines([[Ne-q,Re-de]],q,de,[1,1],Xe||"S"):this.lines([[Ne-q,Re-de]],q,de,[1,1]).stroke()},k.__private__.lines=k.lines=function(q,de,Ne,Re,Xe,ht){var _t,jt,Yt,hn,cn,Tn,Ir,Or,Qr,Hi,vi,Bs;if(typeof q=="number"&&(Bs=Ne,Ne=de,de=q,q=Bs),Re=Re||[1,1],ht=ht||!1,isNaN(de)||isNaN(Ne)||!Array.isArray(q)||!Array.isArray(Re)||!da(Xe)||typeof ht!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xn(de,Ne),_t=Re[0],jt=Re[1],hn=q.length,Hi=de,vi=Ne,Yt=0;Yt<hn;Yt++)(cn=q[Yt]).length===2?(Hi=cn[0]*_t+Hi,vi=cn[1]*jt+vi,Mc(Hi,vi)):(Tn=cn[0]*_t+Hi,Ir=cn[1]*jt+vi,Or=cn[2]*_t+Hi,Qr=cn[3]*jt+vi,Hi=cn[4]*_t+Hi,vi=cn[5]*jt+vi,ha(Tn,Ir,Or,Qr,Hi,vi));return ht&&Md(),Xa(Xe),this},k.path=function(q){for(var de=0;de<q.length;de++){var Ne=q[de],Re=Ne.c;switch(Ne.op){case"m":Xn(Re[0],Re[1]);break;case"l":Mc(Re[0],Re[1]);break;case"c":ha.apply(this,Re);break;case"h":Md()}}return this},k.__private__.rect=k.rect=function(q,de,Ne,Re,Xe){if(isNaN(q)||isNaN(de)||isNaN(Ne)||isNaN(Re)||!da(Xe))throw new Error("Invalid arguments passed to jsPDF.rect");return P===M.COMPAT&&(Re=-Re),he([N(z(q)),N(R(de)),N(z(Ne)),N(z(Re)),"re"].join(" ")),Xa(Xe),this},k.__private__.triangle=k.triangle=function(q,de,Ne,Re,Xe,ht,_t){if(isNaN(q)||isNaN(de)||isNaN(Ne)||isNaN(Re)||isNaN(Xe)||isNaN(ht)||!da(_t))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ne-q,Re-de],[Xe-Ne,ht-Re],[q-Xe,de-ht]],q,de,[1,1],_t,!0),this},k.__private__.roundedRect=k.roundedRect=function(q,de,Ne,Re,Xe,ht,_t){if(isNaN(q)||isNaN(de)||isNaN(Ne)||isNaN(Re)||isNaN(Xe)||isNaN(ht)||!da(_t))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var jt=4/3*(Math.SQRT2-1);return Xe=Math.min(Xe,.5*Ne),ht=Math.min(ht,.5*Re),this.lines([[Ne-2*Xe,0],[Xe*jt,0,Xe,ht-ht*jt,Xe,ht],[0,Re-2*ht],[0,ht*jt,-Xe*jt,ht,-Xe,ht],[2*Xe-Ne,0],[-Xe*jt,0,-Xe,-ht*jt,-Xe,-ht],[0,2*ht-Re],[0,-ht*jt,Xe*jt,-ht,Xe,-ht]],q+Xe,de,[1,1],_t,!0),this},k.__private__.ellipse=k.ellipse=function(q,de,Ne,Re,Xe){if(isNaN(q)||isNaN(de)||isNaN(Ne)||isNaN(Re)||!da(Xe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ht=4/3*(Math.SQRT2-1)*Ne,_t=4/3*(Math.SQRT2-1)*Re;return Xn(q+Ne,de),ha(q+Ne,de-_t,q+ht,de-Re,q,de-Re),ha(q-ht,de-Re,q-Ne,de-_t,q-Ne,de),ha(q-Ne,de+_t,q-ht,de+Re,q,de+Re),ha(q+ht,de+Re,q+Ne,de+_t,q+Ne,de),Xa(Xe),this},k.__private__.circle=k.circle=function(q,de,Ne,Re){if(isNaN(q)||isNaN(de)||isNaN(Ne)||!da(Re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(q,de,Ne,Ne,Re)},k.setFont=function(q,de,Ne){return Ne&&(de=F(de,Ne)),Ct=Tc(q,de,{disableWarning:!1}),this};var af=k.__private__.getFont=k.getFont=function(){return Rt[Tc.apply(k,arguments)]};k.__private__.getFontList=k.getFontList=function(){var q,de,Ne={};for(q in zt)if(zt.hasOwnProperty(q))for(de in Ne[q]=[],zt[q])zt[q].hasOwnProperty(de)&&Ne[q].push(de);return Ne},k.addFont=function(q,de,Ne,Re,Xe){var ht=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ht.indexOf(arguments[3])!==-1?Xe=arguments[3]:arguments[3]&&ht.indexOf(arguments[3])==-1&&(Ne=F(Ne,Re)),Xe=Xe||"Identity-H",ho.call(this,q,de,Ne,Xe)};var Ms,Pc=t.lineWidth||.200025,Ps=k.__private__.getLineWidth=k.getLineWidth=function(){return Pc},Od=k.__private__.setLineWidth=k.setLineWidth=function(q){return Pc=q,he(N(z(q))+" w"),this};k.__private__.setLineDash=an.API.setLineDash=an.API.setLineDashPattern=function(q,de){if(q=q||[],de=de||0,isNaN(de)||!Array.isArray(q))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return q=q.map(function(Ne){return N(z(Ne))}).join(" "),de=N(z(de)),he("["+q+"] "+de+" d"),this};var Cu=k.__private__.getLineHeight=k.getLineHeight=function(){return Oe*Ms};k.__private__.getLineHeight=k.getLineHeight=function(){return Oe*Ms};var lf=k.__private__.setLineHeightFactor=k.setLineHeightFactor=function(q){return typeof(q=q||1.15)=="number"&&(Ms=q),this},jd=k.__private__.getLineHeightFactor=k.getLineHeightFactor=function(){return Ms};lf(t.lineHeight);var fa=k.__private__.getHorizontalCoordinate=function(q){return z(q)},Os=k.__private__.getVerticalCoordinate=function(q){return P===M.ADVANCED?q:tn[J].mediaBox.topRightY-tn[J].mediaBox.bottomLeftY-z(q)},nm=k.__private__.getHorizontalCoordinateString=k.getHorizontalCoordinateString=function(q){return N(fa(q))},Tl=k.__private__.getVerticalCoordinateString=k.getVerticalCoordinateString=function(q){return N(Os(q))},js=t.strokeColor||"0 G";k.__private__.getStrokeColor=k.getDrawColor=function(){return Do(js)},k.__private__.setStrokeColor=k.setDrawColor=function(q,de,Ne,Re){return js=Io({ch1:q,ch2:de,ch3:Ne,ch4:Re,pdfColorType:"draw",precision:2}),he(js),this};var Nl=t.fillColor||"0 g";k.__private__.getFillColor=k.getFillColor=function(){return Do(Nl)},k.__private__.setFillColor=k.setFillColor=function(q,de,Ne,Re){return Nl=Io({ch1:q,ch2:de,ch3:Ne,ch4:Re,pdfColorType:"fill",precision:2}),he(Nl),this};var Ls=t.textColor||"0 g",rm=k.__private__.getTextColor=k.getTextColor=function(){return Do(Ls)};k.__private__.setTextColor=k.setTextColor=function(q,de,Ne,Re){return Ls=Io({ch1:q,ch2:de,ch3:Ne,ch4:Re,pdfColorType:"text",precision:3}),this};var xu=t.charSpace,im=k.__private__.getCharSpace=k.getCharSpace=function(){return parseFloat(xu||0)};k.__private__.setCharSpace=k.setCharSpace=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xu=q,this};var Ld=0;k.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},k.__private__.setLineCap=k.setLineCap=function(q){var de=k.CapJoinStyles[q];if(de===void 0)throw new Error("Line cap style of '"+q+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ld=de,he(de+" J"),this};var pa=0;k.__private__.setLineJoin=k.setLineJoin=function(q){var de=k.CapJoinStyles[q];if(de===void 0)throw new Error("Line join style of '"+q+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return pa=de,he(de+" j"),this},k.__private__.setLineMiterLimit=k.__private__.setMiterLimit=k.setLineMiterLimit=k.setMiterLimit=function(q){if(q=q||0,isNaN(q))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return he(N(z(q))+" M"),this},k.GState=s1,k.setGState=function(q){(q=typeof q=="string"?Vn[zr[q]]:cf(null,q)).equals(Kr)||(he("/"+q.id+" gs"),Kr=q)};var cf=function(q,de){if(!q||!zr[q]){var Ne=!1;for(var Re in Vn)if(Vn.hasOwnProperty(Re)&&Vn[Re].equals(de)){Ne=!0;break}if(Ne)de=Vn[Re];else{var Xe="GS"+(Object.keys(Vn).length+1).toString(10);Vn[Xe]=de,de.id=Xe}return q&&(zr[q]=de.id),In.publish("addGState",de),de}};k.addGState=function(q,de){return cf(q,de),this},k.saveGraphicsState=function(){return he("q"),Qt.push({key:Ct,size:Oe,color:Ls}),this},k.restoreGraphicsState=function(){he("Q");var q=Qt.pop();return Ct=q.key,Oe=q.size,Ls=q.color,Kr=null,this},k.setCurrentTransformationMatrix=function(q){return he(q.toString()+" cm"),this},k.comment=function(q){return he("#"+q),this};var Oc=function(q,de){var Ne=q||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ne},set:function(ht){isNaN(ht)||(Ne=parseFloat(ht))}});var Re=de||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Re},set:function(ht){isNaN(ht)||(Re=parseFloat(ht))}});var Xe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Xe},set:function(ht){Xe=ht.toString()}}),this},Su=function(q,de,Ne,Re){Oc.call(this,q,de),this.type="rect";var Xe=Ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Xe},set:function(_t){isNaN(_t)||(Xe=parseFloat(_t))}});var ht=Re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ht},set:function(_t){isNaN(_t)||(ht=parseFloat(_t))}}),this},Eu=function(){this.page=Rn,this.currentPage=J,this.pages=We.slice(0),this.pagesContext=tn.slice(0),this.x=en,this.y=pt,this.matrix=Wt,this.width=Lc(J),this.height=Ml(J),this.outputDestination=Ue,this.id="",this.objectNumber=-1};Eu.prototype.restore=function(){Rn=this.page,J=this.currentPage,tn=this.pagesContext,We=this.pages,en=this.x,pt=this.y,Wt=this.matrix,Du(J,this.width),Iu(J,this.height),Ue=this.outputDestination};var Bd=function(q,de,Ne,Re,Xe){si.push(new Eu),Rn=J=0,We=[],en=q,pt=de,Wt=Xe,Id([Ne,Re])},uf=function(q){if(eo[q])si.pop().restore();else{var de=new Eu,Ne="Xo"+(Object.keys(Mn).length+1).toString(10);de.id=Ne,eo[q]=Ne,Mn[Ne]=de,In.publish("addFormObject",de),si.pop().restore()}};for(var jc in k.beginFormObject=function(q,de,Ne,Re,Xe){return Bd(q,de,Ne,Re,Xe),this},k.endFormObject=function(q){return uf(q),this},k.doFormObject=function(q,de){var Ne=Mn[eo[q]];return he("q"),he(de.toString()+" cm"),he("/"+Ne.id+" Do"),he("Q"),this},k.getFormObject=function(q){var de=Mn[eo[q]];return{x:de.x,y:de.y,width:de.width,height:de.height,matrix:de.matrix}},k.save=function(q,de){return q=q||"generated.pdf",(de=de||{}).returnPromise=de.returnPromise||!1,de.returnPromise===!1?(yh(vu(hs()),q),typeof yh.unload=="function"&&ln.setTimeout&&setTimeout(yh.unload,911),this):new Promise(function(Ne,Re){try{var Xe=yh(vu(hs()),q);typeof yh.unload=="function"&&ln.setTimeout&&setTimeout(yh.unload,911),Ne(Xe)}catch(ht){Re(ht.message)}})},an.API)an.API.hasOwnProperty(jc)&&(jc==="events"&&an.API.events.length?function(q,de){var Ne,Re,Xe;for(Xe=de.length-1;Xe!==-1;Xe--)Ne=de[Xe][0],Re=de[Xe][1],q.subscribe.apply(q,[Ne].concat(typeof Re=="function"?[Re]:Re))}(In,an.API.events):k[jc]=an.API[jc]);var Lc=k.getPageWidth=function(q){return(tn[q=q||J].mediaBox.topRightX-tn[q].mediaBox.bottomLeftX)/dt},Du=k.setPageWidth=function(q,de){tn[q].mediaBox.topRightX=de*dt+tn[q].mediaBox.bottomLeftX},Ml=k.getPageHeight=function(q){return(tn[q=q||J].mediaBox.topRightY-tn[q].mediaBox.bottomLeftY)/dt},Iu=k.setPageHeight=function(q,de){tn[q].mediaBox.topRightY=de*dt+tn[q].mediaBox.bottomLeftY};return k.internal={pdfEscape:yi,getStyle:Nd,getFont:af,getFontSize:Ie,getCharSpace:im,getTextColor:rm,getLineHeight:Cu,getLineHeightFactor:jd,getLineWidth:Ps,write:be,getHorizontalCoordinate:fa,getVerticalCoordinate:Os,getCoordinateString:nm,getVerticalCoordinateString:Tl,collections:{},newObject:xr,newAdditionalObject:us,newObjectDeferred:kr,newObjectDeferredBegin:$n,getFilters:wi,putStream:Vi,events:In,scaleFactor:dt,pageSize:{getWidth:function(){return Lc(J)},setWidth:function(q){Du(J,q)},getHeight:function(){return Ml(J)},setHeight:function(q){Iu(J,q)}},encryptionOptions:b,encryption:no,getEncryptor:sf,output:Il,getNumberOfPages:El,pages:We,out:he,f2:Q,f3:H,getPageInfo:Td,getPageInfoByObjId:dn,getCurrentPageInfo:em,getPDFVersion:C,Point:Oc,Rectangle:Su,Matrix:$t,hasHotfix:Za},Object.defineProperty(k.internal.pageSize,"width",{get:function(){return Lc(J)},set:function(q){Du(J,q)},enumerable:!0,configurable:!0}),Object.defineProperty(k.internal.pageSize,"height",{get:function(){return Ml(J)},set:function(q){Iu(J,q)},enumerable:!0,configurable:!0}),Sl.call(k,Ae),Ct="F1",rf(s,n),In.publish("initialized"),k}up.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},up.prototype.toHexString=function(t){return t.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},up.prototype.hexToBytes=function(t){for(var r=[],n=0;n<t.length;n+=2)r.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return r.join("")},up.prototype.processOwnerPassword=function(t,r){return n_(t_(r).substr(0,5),t)},up.prototype.encryptor=function(t,r){var n=t_(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&r,r>>8&255)).substr(0,10);return function(o){return n_(n,o)}},s1.prototype.equals=function(t){var r,n="id,objectNumber,equals";if(!t||gr(t)!==gr(this))return!1;var o=0;for(r in this)if(!(n.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!t.hasOwnProperty(r)||this[r]!==t[r])return!1;o++}for(r in t)t.hasOwnProperty(r)&&n.indexOf(r)<0&&o--;return o===0},an.API={events:[]},an.version="3.0.1";var bi=an.API,wC=1,ef=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yf=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},vn=function(t){return t.toFixed(2)},Zu=function(t){return t.toFixed(5)};bi.__acroform__={};var Ns=function(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t},n6=function(t){return t*wC},Zl=function(t){var r=new xj,n=qt.internal.getHeight(t)||0,o=qt.internal.getWidth(t)||0;return r.BBox=[0,0,Number(vn(o)),Number(vn(n))],r},Kte=bi.__acroform__.setBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<r},Qte=bi.__acroform__.clearBit=function(t,r){if(t=t||0,r=r||0,isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<r)},Jte=bi.__acroform__.getBit=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<r)==0?0:1},Ei=bi.__acroform__.getBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Jte(t,r-1)},Di=bi.__acroform__.setBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Kte(t,r-1)},Ii=bi.__acroform__.clearBitForPdf=function(t,r){if(isNaN(t)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Qte(t,r-1)},Zte=bi.__acroform__.calculateCoordinates=function(t,r){var n=r.internal.getHorizontalCoordinate,o=r.internal.getVerticalCoordinate,s=t[0],l=t[1],d=t[2],h=t[3],p={};return p.lowerLeft_X=n(s)||0,p.lowerLeft_Y=o(l+h)||0,p.upperRight_X=n(s+d)||0,p.upperRight_Y=o(l)||0,[Number(vn(p.lowerLeft_X)),Number(vn(p.lowerLeft_Y)),Number(vn(p.upperRight_X)),Number(vn(p.upperRight_Y))]},Xte=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var r=[],n=t._V||t.DV,o=r_(t,n),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(t.scope.__private__.encodeColorString(t.color)),r.push("/"+s+" "+vn(o.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC");var l=Zl(t);return l.scope=t.scope,l.stream=r.join(`
`),l}},r_=function(t,r){var n=t.fontSize===0?t.maxFontSize:t.fontSize,o={text:"",fontSize:""},s=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");s=t.multiline?s.map(function(H){return H.split(`
`)}):s.map(function(H){return[H]});var l=n,d=qt.internal.getHeight(t)||0;d=d<0?-d:d;var h=qt.internal.getWidth(t)||0;h=h<0?-h:h;var p=function(H,z,G){if(H+1<s.length){var R=z+" "+s[H+1][0];return nk(R,t,G).width<=h-4}return!1};l++;e:for(;l>0;){r="",l--;var g,b,v=nk("3",t,l).height,y=t.multiline?d-l:(d-v)/2,k=y+=2,x=0,C=0,D=0;if(l<=0){r=`(...) Tj
`,r+="% Width of Text: "+nk(r,t,l=12).width+", FieldWidth:"+h+`
`;break}for(var S="",M=0,P=0;P<s.length;P++)if(s.hasOwnProperty(P)){var B=!1;if(s[P].length!==1&&D!==s[P].length-1){if((v+2)*(M+2)+2>d)continue e;S+=s[P][D],B=!0,C=P,P--}else{S=(S+=s[P][D]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var $=parseInt(P),F=p($,S,l),N=P>=s.length-1;if(F&&!N){S+=" ",D=0;continue}if(F||N){if(N)C=$;else if(t.multiline&&(v+2)*(M+2)+2>d)continue e}else{if(!t.multiline||(v+2)*(M+2)+2>d)continue e;C=$}}for(var L="",U=x;U<=C;U++){var Q=s[U];if(t.multiline){if(U===C){L+=Q[D]+" ",D=(D+1)%Q.length;continue}if(U===x){L+=Q[Q.length-1]+" ";continue}}L+=Q[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,b=nk(L,t,l).width,t.textAlign){case"right":g=h-b-2;break;case"center":g=(h-b)/2;break;case"left":default:g=2}r+=vn(g)+" "+vn(k)+` Td
`,r+="("+ef(L)+`) Tj
`,r+=-vn(g)+` 0 Td
`,k=-(l+2),b=0,x=B?C:C+1,M++,S=""}break}return o.text=r,o.fontSize=l,o},nk=function(t,r,n){var o=r.scope.internal.getFont(r.fontName,r.fontStyle),s=r.scope.getStringUnitWidth(t,{font:o,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:r.scope.getStringUnitWidth("3",{font:o,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},ene={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tne=function(t,r){var n={type:"reference",object:t};r.internal.getPageInfo(t.page).pageContext.annotations.find(function(o){return o.type===n.type&&o.object===n.object})===void 0&&r.internal.getPageInfo(t.page).pageContext.annotations.push(n)},nne=function(t,r){for(var n in t)if(t.hasOwnProperty(n)){var o=n,s=t[n];r.internal.newObjectDeferredBegin(s.objId,!0),gr(s)==="object"&&typeof s.putStream=="function"&&s.putStream(),delete t[o]}},rne=function(t,r){if(r.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(vl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(ene)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");wC=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Sj,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var o=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];l.objId=void 0,l.hasAnnotation&&tne(l,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(o,s){var l=!o;for(var d in o||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),o=o||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(o.hasOwnProperty(d)){var h=o[d],p=[],g=h.Rect;if(h.Rect&&(h.Rect=Zte(h.Rect,s)),s.internal.newObjectDeferredBegin(h.objId,!0),h.DA=qt.createDefaultAppearanceStream(h),gr(h)==="object"&&typeof h.getKeyValueListForStream=="function"&&(p=h.getKeyValueListForStream()),h.Rect=g,h.hasAppearanceStream&&!h.appearanceStreamContent){var b=Xte(h);p.push({key:"AP",value:"<</N "+b+">>"}),s.internal.acroformPlugin.xForms.push(b)}if(h.appearanceStreamContent){var v="";for(var y in h.appearanceStreamContent)if(h.appearanceStreamContent.hasOwnProperty(y)){var k=h.appearanceStreamContent[y];if(v+="/"+y+" ",v+="<<",Object.keys(k).length>=1||Array.isArray(k)){for(var d in k)if(k.hasOwnProperty(d)){var x=k[d];typeof x=="function"&&(x=x.call(s,h)),v+="/"+d+" "+x+" ",s.internal.acroformPlugin.xForms.indexOf(x)>=0||s.internal.acroformPlugin.xForms.push(x)}}else typeof(x=k)=="function"&&(x=x.call(s,h)),v+="/"+d+" "+x,s.internal.acroformPlugin.xForms.indexOf(x)>=0||s.internal.acroformPlugin.xForms.push(x);v+=">>"}p.push({key:"AP",value:`<<
`+v+">>"})}s.internal.putStream({additionalKeyValues:p,objectId:h.objId}),s.internal.out("endobj")}l&&nne(s.internal.acroformPlugin.xForms,s)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Cj=bi.__acroform__.arrayToPdfArray=function(t,r,n){var o=function(d){return d};if(Array.isArray(t)){for(var s="[",l=0;l<t.length;l++)switch(l!==0&&(s+=" "),gr(t[l])){case"boolean":case"number":case"object":s+=t[l].toString();break;case"string":t[l].substr(0,1)!=="/"?(r!==void 0&&n&&(o=n.internal.getEncryptor(r)),s+="("+ef(o(t[l].toString()))+")"):s+=t[l].toString()}return s+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Wv=function(t,r,n){var o=function(s){return s};return r!==void 0&&n&&(o=n.internal.getEncryptor(r)),(t=t||"").toString(),t="("+ef(o(t))+")"},pc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};pc.prototype.toString=function(){return this.objId+" 0 R"},pc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},pc.prototype.getKeyValueListForStream=function(){var t=[],r=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var n in r)if(Object.getOwnPropertyDescriptor(this,r[n]).configurable===!1){var o=r[n],s=this[o];s&&(Array.isArray(s)?t.push({key:o,value:Cj(s,this.objId,this.scope)}):s instanceof pc?(s.scope=this.scope,t.push({key:o,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:o,value:s}))}return t};var xj=function(){pc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Ns(xj,pc);var Sj=function(){pc.call(this);var t,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(o){return o};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+ef(n(t))+")"}},set:function(n){t=n}})};Ns(Sj,pc);var vl=function t(){pc.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');r=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ei(r,3)},set:function(S){S?this.F=Di(r,3):this.F=Ii(r,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');n=S}});var o=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(o.length!==0)return o},set:function(S){o=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[0])?0:o[0]},set:function(S){o[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[1])?0:o[1]},set:function(S){o[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[2])?0:o[2]},set:function(S){o[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!o||isNaN(o[3])?0:o[3]},set:function(S){o[3]=S}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof a1)return;l="FieldObject"+t.FieldNum++}var S=function(M){return M};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+ef(S(l))+")"},set:function(S){l=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(S){l=S}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var h="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return h},set:function(S){h=S}});var p=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return p},set:function(S){p=S}});var g=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return g===void 0?50/wC:g},set:function(S){g=S}});var b="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return b},set:function(S){b=S}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof a1||this instanceof Rh))return Wv(v,this.objId,this.scope)},set:function(S){S=S.toString(),v=S}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof ao?y:Wv(y,this.objId,this.scope)},set:function(S){S=S.toString(),y=this instanceof ao?S:S.substr(0,1)==="("?Yf(S.substr(1,S.length-2)):Yf(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ao?Yf(y.substr(1,y.length-1)):y},set:function(S){S=S.toString(),y=this instanceof ao?"/"+S:S}});var k=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(k)return k},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(k)return this instanceof ao?k:Wv(k,this.objId,this.scope)},set:function(S){S=S.toString(),k=this instanceof ao?S:S.substr(0,1)==="("?Yf(S.substr(1,S.length-2)):Yf(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ao?Yf(k.substr(1,k.length-1)):k},set:function(S){S=S.toString(),k=this instanceof ao?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,C=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return C},set:function(S){S=!!S,C=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(S){x=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,1)},set:function(S){S?this.Ff=Di(this.Ff,1):this.Ff=Ii(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,2)},set:function(S){S?this.Ff=Di(this.Ff,2):this.Ff=Ii(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,3)},set:function(S){S?this.Ff=Di(this.Ff,3):this.Ff=Ii(this.Ff,3)}});var D=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(D!==null)return D},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');D=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(D){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:D=2;break;case"center":case 1:D=1;break;case"left":case 0:default:D=0}}})};Ns(vl,pc);var kp=function(){vl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Cj(r,this.objId,this.scope)},set:function(n){var o,s;s=[],typeof(o=n)=="string"&&(s=function(l,d,h){h||(h=1);for(var p,g=[];p=d.exec(l);)g.push(p[h]);return g}(o,/\((.*?)\)/g)),r=s}}),this.getOptions=function(){return r},this.setOptions=function(n){r=n,this.sort&&r.sort()},this.addOption=function(n){n=(n=n||"").toString(),r.push(n),this.sort&&r.sort()},this.removeOption=function(n,o){for(o=o||!1,n=(n=n||"").toString();r.indexOf(n)!==-1&&(r.splice(r.indexOf(n),1),o!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,18)},set:function(n){n?this.Ff=Di(this.Ff,18):this.Ff=Ii(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Di(this.Ff,19):this.Ff=Ii(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,20)},set:function(n){n?(this.Ff=Di(this.Ff,20),r.sort()):this.Ff=Ii(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,22)},set:function(n){n?this.Ff=Di(this.Ff,22):this.Ff=Ii(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,23)},set:function(n){n?this.Ff=Di(this.Ff,23):this.Ff=Ii(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,27)},set:function(n){n?this.Ff=Di(this.Ff,27):this.Ff=Ii(this.Ff,27)}}),this.hasAppearanceStream=!1};Ns(kp,vl);var wp=function(){kp.call(this),this.fontName="helvetica",this.combo=!1};Ns(wp,kp);var yp=function(){wp.call(this),this.combo=!0};Ns(yp,wp);var Ck=function(){yp.call(this),this.edit=!0};Ns(Ck,yp);var ao=function(){vl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,15)},set:function(n){n?this.Ff=Di(this.Ff,15):this.Ff=Ii(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,16)},set:function(n){n?this.Ff=Di(this.Ff,16):this.Ff=Ii(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,17)},set:function(n){n?this.Ff=Di(this.Ff,17):this.Ff=Ii(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,26)},set:function(n){n?this.Ff=Di(this.Ff,26):this.Ff=Ii(this.Ff,26)}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+ef(n(r[o]))+")");return s.push(">>"),s.join(`
`)}},set:function(n){gr(n)==="object"&&(r=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(n){typeof n=="string"&&(r.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Ns(ao,vl);var xk=function(){ao.call(this),this.pushButton=!0};Ns(xk,ao);var vp=function(){ao.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r!==void 0?r:[]}})};Ns(vp,ao);var a1=function(){var t,r;vl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(s){r=s}});var n,o={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(h){return h};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var l,d=[];for(l in d.push("<<"),o)d.push("/"+l+" ("+ef(s(o[l]))+")");return d.push(">>"),d.join(`
`)},set:function(s){gr(s)==="object"&&(o=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return o.CA||""},set:function(s){typeof s=="string"&&(o.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(s){n="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=qt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ns(a1,vl),vp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var n=this.Kids[r];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},vp.prototype.createOption=function(t){var r=new a1;return r.Parent=this,r.optionName=t,this.Kids.push(r),ine.call(this.scope,r),r};var Sk=function(){ao.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=qt.CheckBox.createAppearanceStream()};Ns(Sk,ao);var Rh=function(){vl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,13)},set:function(r){r?this.Ff=Di(this.Ff,13):this.Ff=Ii(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,21)},set:function(r){r?this.Ff=Di(this.Ff,21):this.Ff=Ii(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,23)},set:function(r){r?this.Ff=Di(this.Ff,23):this.Ff=Ii(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,24)},set:function(r){r?this.Ff=Di(this.Ff,24):this.Ff=Ii(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,25)},set:function(r){r?this.Ff=Di(this.Ff,25):this.Ff=Ii(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,26)},set:function(r){r?this.Ff=Di(this.Ff,26):this.Ff=Ii(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){Number.isInteger(r)&&(t=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ns(Rh,vl);var Ek=function(){Rh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ei(this.Ff,14)},set:function(t){t?this.Ff=Di(this.Ff,14):this.Ff=Ii(this.Ff,14)}}),this.password=!0};Ns(Ek,Rh);var qt={CheckBox:{createAppearanceStream:function(){return{N:{On:qt.CheckBox.YesNormal},D:{On:qt.CheckBox.YesPushDown,Off:qt.CheckBox.OffPushDown}}},YesPushDown:function(t){var r=Zl(t);r.scope=t.scope;var n=[],o=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),l=r_(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+vn(qt.internal.getWidth(t))+" "+vn(qt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+o+" "+vn(l.fontSize)+" Tf "+s),n.push("BT"),n.push(l.text),n.push("ET"),n.push("Q"),n.push("EMC"),r.stream=n.join(`
`),r},YesNormal:function(t){var r=Zl(t);r.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,o=t.scope.__private__.encodeColorString(t.color),s=[],l=qt.internal.getHeight(t),d=qt.internal.getWidth(t),h=r_(t,t.caption);return s.push("1 g"),s.push("0 0 "+vn(d)+" "+vn(l)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+vn(d-1)+" "+vn(l-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+vn(h.fontSize)+" Tf "+o),s.push(h.text),s.push("ET"),s.push("Q"),r.stream=s.join(`
`),r},OffPushDown:function(t){var r=Zl(t);r.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+vn(qt.internal.getWidth(t))+" "+vn(qt.internal.getHeight(t))+" re"),n.push("f"),r.stream=n.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(t){var r={D:{Off:qt.RadioButton.Circle.OffPushDown},N:{}};return r.N[t]=qt.RadioButton.Circle.YesNormal,r.D[t]=qt.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(t){var r=Zl(t);r.scope=t.scope;var n=[],o=qt.internal.getWidth(t)<=qt.internal.getHeight(t)?qt.internal.getWidth(t)/4:qt.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var s=qt.internal.Bezier_C,l=Number((o*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Zu(qt.internal.getWidth(t)/2)+" "+Zu(qt.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+l+" "+l+" "+o+" 0 "+o+" c"),n.push("-"+l+" "+o+" -"+o+" "+l+" -"+o+" 0 c"),n.push("-"+o+" -"+l+" -"+l+" -"+o+" 0 -"+o+" c"),n.push(l+" -"+o+" "+o+" -"+l+" "+o+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(t){var r=Zl(t);r.scope=t.scope;var n=[],o=qt.internal.getWidth(t)<=qt.internal.getHeight(t)?qt.internal.getWidth(t)/4:qt.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var s=Number((2*o).toFixed(5)),l=Number((s*qt.internal.Bezier_C).toFixed(5)),d=Number((o*qt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Zu(qt.internal.getWidth(t)/2)+" "+Zu(qt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+l+" "+l+" "+s+" 0 "+s+" c"),n.push("-"+l+" "+s+" -"+s+" "+l+" -"+s+" 0 c"),n.push("-"+s+" -"+l+" -"+l+" -"+s+" 0 -"+s+" c"),n.push(l+" -"+s+" "+s+" -"+l+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Zu(qt.internal.getWidth(t)/2)+" "+Zu(qt.internal.getHeight(t)/2)+" cm"),n.push(o+" 0 m"),n.push(o+" "+d+" "+d+" "+o+" 0 "+o+" c"),n.push("-"+d+" "+o+" -"+o+" "+d+" -"+o+" 0 c"),n.push("-"+o+" -"+d+" -"+d+" -"+o+" 0 -"+o+" c"),n.push(d+" -"+o+" "+o+" -"+d+" "+o+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r},OffPushDown:function(t){var r=Zl(t);r.scope=t.scope;var n=[],o=qt.internal.getWidth(t)<=qt.internal.getHeight(t)?qt.internal.getWidth(t)/4:qt.internal.getHeight(t)/4;o=Number((.9*o).toFixed(5));var s=Number((2*o).toFixed(5)),l=Number((s*qt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Zu(qt.internal.getWidth(t)/2)+" "+Zu(qt.internal.getHeight(t)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+l+" "+l+" "+s+" 0 "+s+" c"),n.push("-"+l+" "+s+" -"+s+" "+l+" -"+s+" 0 c"),n.push("-"+s+" -"+l+" -"+l+" -"+s+" 0 -"+s+" c"),n.push(l+" -"+s+" "+s+" -"+l+" "+s+" 0 c"),n.push("f"),n.push("Q"),r.stream=n.join(`
`),r}},Cross:{createAppearanceStream:function(t){var r={D:{Off:qt.RadioButton.Cross.OffPushDown},N:{}};return r.N[t]=qt.RadioButton.Cross.YesNormal,r.D[t]=qt.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(t){var r=Zl(t);r.scope=t.scope;var n=[],o=qt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+vn(qt.internal.getWidth(t)-2)+" "+vn(qt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(vn(o.x1.x)+" "+vn(o.x1.y)+" m"),n.push(vn(o.x2.x)+" "+vn(o.x2.y)+" l"),n.push(vn(o.x4.x)+" "+vn(o.x4.y)+" m"),n.push(vn(o.x3.x)+" "+vn(o.x3.y)+" l"),n.push("s"),n.push("Q"),r.stream=n.join(`
`),r},YesPushDown:function(t){var r=Zl(t);r.scope=t.scope;var n=qt.internal.calculateCross(t),o=[];return o.push("0.749023 g"),o.push("0 0 "+vn(qt.internal.getWidth(t))+" "+vn(qt.internal.getHeight(t))+" re"),o.push("f"),o.push("q"),o.push("1 1 "+vn(qt.internal.getWidth(t)-2)+" "+vn(qt.internal.getHeight(t)-2)+" re"),o.push("W"),o.push("n"),o.push(vn(n.x1.x)+" "+vn(n.x1.y)+" m"),o.push(vn(n.x2.x)+" "+vn(n.x2.y)+" l"),o.push(vn(n.x4.x)+" "+vn(n.x4.y)+" m"),o.push(vn(n.x3.x)+" "+vn(n.x3.y)+" l"),o.push("s"),o.push("Q"),r.stream=o.join(`
`),r},OffPushDown:function(t){var r=Zl(t);r.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+vn(qt.internal.getWidth(t))+" "+vn(qt.internal.getHeight(t))+" re"),n.push("f"),r.stream=n.join(`
`),r}}},createDefaultAppearanceStream:function(t){var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+r+" "+t.fontSize+" Tf "+n}};qt.internal={Bezier_C:.551915024494,calculateCross:function(t){var r=qt.internal.getWidth(t),n=qt.internal.getHeight(t),o=Math.min(r,n);return{x1:{x:(r-o)/2,y:(n-o)/2+o},x2:{x:(r-o)/2+o,y:(n-o)/2},x3:{x:(r-o)/2,y:(n-o)/2},x4:{x:(r-o)/2+o,y:(n-o)/2+o}}}},qt.internal.getWidth=function(t){var r=0;return gr(t)==="object"&&(r=n6(t.Rect[2])),r},qt.internal.getHeight=function(t){var r=0;return gr(t)==="object"&&(r=n6(t.Rect[3])),r};var ine=bi.addField=function(t){if(rne(this,t),!(t instanceof vl))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=t).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};bi.AcroFormChoiceField=kp,bi.AcroFormListBox=wp,bi.AcroFormComboBox=yp,bi.AcroFormEditBox=Ck,bi.AcroFormButton=ao,bi.AcroFormPushButton=xk,bi.AcroFormRadioButton=vp,bi.AcroFormCheckBox=Sk,bi.AcroFormTextField=Rh,bi.AcroFormPasswordField=Ek,bi.AcroFormAppearance=qt,bi.AcroForm={ChoiceField:kp,ListBox:wp,ComboBox:yp,EditBox:Ck,Button:ao,PushButton:xk,RadioButton:vp,CheckBox:Sk,TextField:Rh,PasswordField:Ek,Appearance:qt},an.AcroForm={ChoiceField:kp,ListBox:wp,ComboBox:yp,EditBox:Ck,Button:ao,PushButton:xk,RadioButton:vp,CheckBox:Sk,TextField:Rh,PasswordField:Ek,Appearance:qt};an.AcroForm;function Ej(t){return t.reduce(function(r,n,o){return r[n]=o,r},{})}(function(t){t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},o=t.__addimage__.getImageFileTypeByImageData=function(H,z){var G,R,ne,ue,ie,oe=r;if((z=z||r)==="RGBA"||H.data!==void 0&&H.data instanceof Uint8ClampedArray&&"height"in H&&"width"in H)return"RGBA";if(F(H))for(ie in n)for(ne=n[ie],G=0;G<ne.length;G+=1){for(ue=!0,R=0;R<ne[G].length;R+=1)if(ne[G][R]!==void 0&&ne[G][R]!==H[R]){ue=!1;break}if(ue===!0){oe=ie;break}}else for(ie in n)for(ne=n[ie],G=0;G<ne.length;G+=1){for(ue=!0,R=0;R<ne[G].length;R+=1)if(ne[G][R]!==void 0&&ne[G][R]!==H.charCodeAt(R)){ue=!1;break}if(ue===!0){oe=ie;break}}return oe===r&&z!==r&&(oe=z),oe},s=function H(z){for(var G=this.internal.write,R=this.internal.putStream,ne=(0,this.internal.getFilters)();ne.indexOf("FlateEncode")!==-1;)ne.splice(ne.indexOf("FlateEncode"),1);z.objectId=this.internal.newObject();var ue=[];if(ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Image"}),ue.push({key:"Width",value:z.width}),ue.push({key:"Height",value:z.height}),z.colorSpace===D.INDEXED?ue.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(z.palette.length/3-1)+" "+("sMask"in z&&z.sMask!==void 0?z.objectId+2:z.objectId+1)+" 0 R]"}):(ue.push({key:"ColorSpace",value:"/"+z.colorSpace}),z.colorSpace===D.DEVICE_CMYK&&ue.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ue.push({key:"BitsPerComponent",value:z.bitsPerComponent}),"decodeParameters"in z&&z.decodeParameters!==void 0&&ue.push({key:"DecodeParms",value:"<<"+z.decodeParameters+">>"}),"transparency"in z&&Array.isArray(z.transparency)){for(var ie="",oe=0,ye=z.transparency.length;oe<ye;oe++)ie+=z.transparency[oe]+" "+z.transparency[oe]+" ";ue.push({key:"Mask",value:"["+ie+"]"})}z.sMask!==void 0&&ue.push({key:"SMask",value:z.objectId+1+" 0 R"});var re=z.filter!==void 0?["/"+z.filter]:void 0;if(R({data:z.data,additionalKeyValues:ue,alreadyAppliedFilters:re,objectId:z.objectId}),G("endobj"),"sMask"in z&&z.sMask!==void 0){var Ce="/Predictor "+z.predictor+" /Colors 1 /BitsPerComponent "+z.bitsPerComponent+" /Columns "+z.width,X={width:z.width,height:z.height,colorSpace:"DeviceGray",bitsPerComponent:z.bitsPerComponent,decodeParameters:Ce,data:z.sMask};"filter"in z&&(X.filter=z.filter),H.call(this,X)}if(z.colorSpace===D.INDEXED){var J=this.internal.newObject();R({data:L(new Uint8Array(z.palette)),objectId:J}),G("endobj")}},l=function(){var H=this.internal.collections.addImage_images;for(var z in H)s.call(this,H[z])},d=function(){var H,z=this.internal.collections.addImage_images,G=this.internal.write;for(var R in z)G("/I"+(H=z[R]).index,H.objectId,"0","R")},h=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",d))},p=function(){var H=this.internal.collections.addImage_images;return h.call(this),H},g=function(){return Object.keys(this.internal.collections.addImage_images).length},b=function(H){return typeof t["process"+H.toUpperCase()]=="function"},v=function(H){return gr(H)==="object"&&H.nodeType===1},y=function(H,z){if(H.nodeName==="IMG"&&H.hasAttribute("src")){var G=""+H.getAttribute("src");if(G.indexOf("data:image/")===0)return Cg(unescape(G).split("base64,").pop());var R=t.loadFile(G,!0);if(R!==void 0)return R}if(H.nodeName==="CANVAS"){if(H.width===0||H.height===0)throw new Error("Given canvas must have data. Canvas width: "+H.width+", height: "+H.height);var ne;switch(z){case"PNG":ne="image/png";break;case"WEBP":ne="image/webp";break;case"JPEG":case"JPG":default:ne="image/jpeg"}return Cg(H.toDataURL(ne,1).split("base64,").pop())}},k=function(H){var z=this.internal.collections.addImage_images;if(z){for(var G in z)if(H===z[G].alias)return z[G]}},x=function(H,z,G){return H||z||(H=-96,z=-96),H<0&&(H=-1*G.width*72/H/this.internal.scaleFactor),z<0&&(z=-1*G.height*72/z/this.internal.scaleFactor),H===0&&(H=z*G.width/G.height),z===0&&(z=H*G.height/G.width),[H,z]},C=function(H,z,G,R,ne,ue){var ie=x.call(this,G,R,ne),oe=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,re=p.call(this);if(G=ie[0],R=ie[1],re[ne.index]=ne,ue){ue*=Math.PI/180;var Ce=Math.cos(ue),X=Math.sin(ue),J=function(le){return le.toFixed(4)},fe=[J(Ce),J(X),J(-1*X),J(Ce),0,0,"cm"]}this.internal.write("q"),ue?(this.internal.write([1,"0","0",1,oe(H),ye(z+R),"cm"].join(" ")),this.internal.write(fe.join(" ")),this.internal.write([oe(G),"0","0",oe(R),"0","0","cm"].join(" "))):this.internal.write([oe(G),"0","0",oe(R),oe(H),ye(z+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ne.index+" Do"),this.internal.write("Q")},D=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},M=t.__addimage__.sHashCode=function(H){var z,G,R=0;if(typeof H=="string")for(G=H.length,z=0;z<G;z++)R=(R<<5)-R+H.charCodeAt(z),R|=0;else if(F(H))for(G=H.byteLength/2,z=0;z<G;z++)R=(R<<5)-R+H[z],R|=0;return R},P=t.__addimage__.validateStringAsBase64=function(H){(H=H||"").toString().trim();var z=!0;return H.length===0&&(z=!1),H.length%4!=0&&(z=!1),/^[A-Za-z0-9+/]+$/.test(H.substr(0,H.length-2))===!1&&(z=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(H.substr(-2))===!1&&(z=!1),z},B=t.__addimage__.extractImageFromDataUrl=function(H){if(H==null||!(H=H.trim()).startsWith("data:"))return null;var z=H.indexOf(",");return z<0?null:H.substring(0,z).trim().endsWith("base64")?H.substring(z+1):null},$=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(H){return $()&&H instanceof ArrayBuffer};var F=t.__addimage__.isArrayBufferView=function(H){return $()&&typeof Uint32Array<"u"&&(H instanceof Int8Array||H instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&H instanceof Uint8ClampedArray||H instanceof Int16Array||H instanceof Uint16Array||H instanceof Int32Array||H instanceof Uint32Array||H instanceof Float32Array||H instanceof Float64Array)},N=t.__addimage__.binaryStringToUint8Array=function(H){for(var z=H.length,G=new Uint8Array(z),R=0;R<z;R++)G[R]=H.charCodeAt(R);return G},L=t.__addimage__.arrayBufferToBinaryString=function(H){for(var z="",G=F(H)?H:new Uint8Array(H),R=0;R<G.length;R+=8192)z+=String.fromCharCode.apply(null,G.subarray(R,R+8192));return z};t.addImage=function(){var H,z,G,R,ne,ue,ie,oe,ye;if(typeof arguments[1]=="number"?(z=r,G=arguments[1],R=arguments[2],ne=arguments[3],ue=arguments[4],ie=arguments[5],oe=arguments[6],ye=arguments[7]):(z=arguments[1],G=arguments[2],R=arguments[3],ne=arguments[4],ue=arguments[5],ie=arguments[6],oe=arguments[7],ye=arguments[8]),gr(H=arguments[0])==="object"&&!v(H)&&"imageData"in H){var re=H;H=re.imageData,z=re.format||z||r,G=re.x||G||0,R=re.y||R||0,ne=re.w||re.width||ne,ue=re.h||re.height||ue,ie=re.alias||ie,oe=re.compression||oe,ye=re.rotation||re.angle||ye}var Ce=this.internal.getFilters();if(oe===void 0&&Ce.indexOf("FlateEncode")!==-1&&(oe="SLOW"),isNaN(G)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var X=U.call(this,H,z,ie,oe);return C.call(this,G,R,ne,ue,X,ye),this};var U=function(H,z,G,R){var ne,ue,ie;if(typeof H=="string"&&o(H)===r){H=unescape(H);var oe=Q(H,!1);(oe!==""||(oe=t.loadFile(H,!0))!==void 0)&&(H=oe)}if(v(H)&&(H=y(H,z)),z=o(H,z),!b(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(((ie=G)==null||ie.length===0)&&(G=function(ye){return typeof ye=="string"||F(ye)?M(ye):F(ye.data)?M(ye.data):null}(H)),(ne=k.call(this,G))||($()&&(H instanceof Uint8Array||z==="RGBA"||(ue=H,H=N(H))),ne=this["process"+z.toUpperCase()](H,g.call(this),G,function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in t.image_compression?ye:S.NONE}(R),ue)),!ne)throw new Error("An unknown error occurred whilst processing the image.");return ne},Q=t.__addimage__.convertBase64ToBinaryString=function(H,z){z=typeof z!="boolean"||z;var G,R="";if(typeof H=="string"){var ne;G=(ne=B(H))!==null&&ne!==void 0?ne:H;try{R=Cg(G)}catch(ue){if(z)throw P(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ue.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};t.getImageProperties=function(H){var z,G,R="";if(v(H)&&(H=y(H)),typeof H=="string"&&o(H)===r&&((R=Q(H,!1))===""&&(R=t.loadFile(H)||""),H=R),G=o(H),!b(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(!$()||H instanceof Uint8Array||(H=N(H)),!(z=this["process"+G.toUpperCase()](H)))throw new Error("An unknown error occurred whilst processing the image");return z.fileType=G,z}})(an.API),function(t){var r=function(n){if(n!==void 0&&n!="")return!0};an.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var o,s,l,d=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString,p=this.internal.getPageInfoByObjId(n.objId),g=n.pageContext.annotations,b=!1,v=0;v<g.length&&!b;v++)switch((o=g[v]).type){case"link":(r(o.options.url)||r(o.options.pageNumber))&&(b=!0);break;case"reference":case"text":case"freetext":b=!0}if(b!=0){this.internal.write("/Annots [");for(var y=0;y<g.length;y++){o=g[y];var k=this.internal.pdfEscape,x=this.internal.getEncryptor(n.objId);switch(o.type){case"reference":this.internal.write(" "+o.object.objId+" 0 R ");break;case"text":var C=this.internal.newAdditionalObject(),D=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(C.objId),M=o.title||"Note";l="<</Type /Annot /Subtype /Text "+(s="/Rect ["+d(o.bounds.x)+" "+h(o.bounds.y+o.bounds.h)+" "+d(o.bounds.x+o.bounds.w)+" "+h(o.bounds.y)+"] ")+"/Contents ("+k(S(o.contents))+")",l+=" /Popup "+D.objId+" 0 R",l+=" /P "+p.objId+" 0 R",l+=" /T ("+k(S(M))+") >>",C.content=l;var P=C.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+d(o.bounds.x+30)+" "+h(o.bounds.y+o.bounds.h)+" "+d(o.bounds.x+o.bounds.w+30)+" "+h(o.bounds.y)+"] ")+" /Parent "+P,o.open&&(l+=" /Open true"),l+=" >>",D.content=l,this.internal.write(C.objId,"0 R",D.objId,"0 R");break;case"freetext":s="/Rect ["+d(o.bounds.x)+" "+h(o.bounds.y)+" "+d(o.bounds.x+o.bounds.w)+" "+h(o.bounds.y+o.bounds.h)+"] ";var B=o.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+k(x(o.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(o.options.name){var $=this.annotations._nameMap[o.options.name];o.options.pageNumber=$.page,o.options.top=$.y}else o.options.top||(o.options.top=0);if(s="/Rect ["+o.finalBounds.x+" "+o.finalBounds.y+" "+o.finalBounds.w+" "+o.finalBounds.h+"] ",l="",o.options.url)l="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+k(x(o.options.url))+") >>";else if(o.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(o.options.pageNumber).objId+" 0 R",o.options.magFactor=o.options.magFactor||"XYZ",o.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+o.options.top+"]";break;case"FitV":o.options.left=o.options.left||0,l+=" /FitV "+o.options.left+"]";break;case"XYZ":default:var F=h(o.options.top);o.options.left=o.options.left||0,o.options.zoom===void 0&&(o.options.zoom=0),l+=" /XYZ "+o.options.left+" "+F+" "+o.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var o=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":o.pageContext.annotations.push(n)}},t.link=function(n,o,s,l,d){var h=this.internal.getCurrentPageInfo(),p=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString;h.pageContext.annotations.push({finalBounds:{x:p(n),y:g(o),w:p(n+s),h:g(o+l)},options:d,type:"link"})},t.textWithLink=function(n,o,s,l){var d,h,p=this.getTextWidth(n),g=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){h=l.maxWidth;var b=this.splitTextToSize(n,h).length;d=Math.ceil(g*b)}else h=p,d=g;return this.text(n,o,s,l),s+=.2*g,l.align==="center"&&(o-=p/2),l.align==="right"&&(o-=p),this.link(o,s-g,h,d,l),p},t.getTextWidth=function(n){var o=this.internal.getFontSize();return this.getStringUnitWidth(n)*o/this.internal.scaleFactor}}(an.API),function(t){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},o={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var l=t.__arabicParser__.isInArabicSubstitutionA=function(C){return r[C.charCodeAt(0)]!==void 0},d=t.__arabicParser__.isArabicLetter=function(C){return typeof C=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(C)},h=t.__arabicParser__.isArabicEndLetter=function(C){return d(C)&&l(C)&&r[C.charCodeAt(0)].length<=2},p=t.__arabicParser__.isArabicAlfLetter=function(C){return d(C)&&s.indexOf(C.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(C){return d(C)&&l(C)&&r[C.charCodeAt(0)].length>=1};var g=t.__arabicParser__.arabicLetterHasFinalForm=function(C){return d(C)&&l(C)&&r[C.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(C){return d(C)&&l(C)&&r[C.charCodeAt(0)].length>=3};var b=t.__arabicParser__.arabicLetterHasMedialForm=function(C){return d(C)&&l(C)&&r[C.charCodeAt(0)].length==4},v=t.__arabicParser__.resolveLigatures=function(C){var D=0,S=n,M="",P=0;for(D=0;D<C.length;D+=1)S[C.charCodeAt(D)]!==void 0?(P++,typeof(S=S[C.charCodeAt(D)])=="number"&&(M+=String.fromCharCode(S),S=n,P=0),D===C.length-1&&(S=n,M+=C.charAt(D-(P-1)),D-=P-1,P=0)):(S=n,M+=C.charAt(D-P),D-=P,P=0);return M};t.__arabicParser__.isArabicDiacritic=function(C){return C!==void 0&&o[C.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(C,D,S){return d(C)?l(C)===!1?-1:!g(C)||!d(D)&&!d(S)||!d(S)&&h(D)||h(C)&&!d(D)||h(C)&&p(D)||h(C)&&h(D)?0:b(C)&&d(D)&&!h(D)&&d(S)&&g(S)?3:h(C)||!d(S)?1:2:-1},k=function(C){var D=0,S=0,M=0,P="",B="",$="",F=(C=C||"").split("\\s+"),N=[];for(D=0;D<F.length;D+=1){for(N.push(""),S=0;S<F[D].length;S+=1)P=F[D][S],B=F[D][S-1],$=F[D][S+1],d(P)?(M=y(P,B,$),N[D]+=M!==-1?String.fromCharCode(r[P.charCodeAt(0)][M]):P):N[D]+=P;N[D]=v(N[D])}return N.join(" ")},x=t.__arabicParser__.processArabic=t.processArabic=function(){var C,D=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(D)){var M=0;for(S=[],M=0;M<D.length;M+=1)Array.isArray(D[M])?S.push([k(D[M][0]),D[M][1],D[M][2]]):S.push([k(D[M])]);C=S}else C=k(D);return typeof arguments[0]=="string"?C:(arguments[0].text=C,arguments[0])};t.events.push(["preProcessText",x])}(an.API),an.API.autoPrint=function(t){var r;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})}return this},function(t){var r=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(h){n=h}});var o=150;Object.defineProperty(this,"width",{get:function(){return o},set:function(h){o=isNaN(h)||Number.isInteger(h)===!1||h<0?150:h,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=o+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(h){s=isNaN(h)||Number.isInteger(h)===!1||h<0?300:h,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(h){l=h}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(h){d=h}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(n,o){var s;if((n=n||"2d")!=="2d")return null;for(s in o)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=o[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])}(an.API),function(t){var r={left:0,top:0,bottom:0,right:0},n=!1,o=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var p=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return p},set:function(C){p=C}});var g=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return g},set:function(C){g=C}});var b=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return b},set:function(C){b=C}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(C){v=C}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(C){y=C}});var k=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return k},set:function(C){k=C}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(C){x=C}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(p){return o.call(this),this.internal.__cell__.headerFunction=typeof p=="function"?p:void 0,this},t.getTextDimensions=function(p,g){o.call(this);var b=(g=g||{}).fontSize||this.getFontSize(),v=g.font||this.getFont(),y=g.scaleFactor||this.internal.scaleFactor,k=0,x=0,C=0,D=this;if(!Array.isArray(p)&&typeof p!="string"){if(typeof p!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");p=String(p)}var S=g.maxWidth;S>0?typeof p=="string"?p=this.splitTextToSize(p,S):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce(function(P,B){return P.concat(D.splitTextToSize(B,S))},[])):p=Array.isArray(p)?p:[p];for(var M=0;M<p.length;M++)k<(C=this.getStringUnitWidth(p[M],{font:v})*b)&&(k=C);return k!==0&&(x=p.length),{w:k/=y,h:Math.max((x*b*this.getLineHeightFactor()-b*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){o.call(this),this.addPage();var p=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new l(p.left,p.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=t.cell=function(){var p;p=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),o.call(this);var g=this.internal.__cell__.lastCell,b=this.internal.__cell__.padding,v=this.internal.__cell__.margins||r,y=this.internal.__cell__.tableHeaderRow,k=this.internal.__cell__.printHeaders;return g.lineNumber!==void 0&&(g.lineNumber===p.lineNumber?(p.x=(g.x||0)+(g.width||0),p.y=g.y||0):g.y+g.height+p.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),p.y=v.top,k&&y&&(this.printHeaderRow(p.lineNumber,!0),p.y+=y[0].height)):p.y=g.y+g.height||p.y),p.text[0]!==void 0&&(this.rect(p.x,p.y,p.width,p.height,n===!0?"FD":void 0),p.align==="right"?this.text(p.text,p.x+p.width-b,p.y+b,{align:"right",baseline:"top"}):p.align==="center"?this.text(p.text,p.x+p.width/2,p.y+b,{align:"center",baseline:"top",maxWidth:p.width-b-b}):this.text(p.text,p.x+b,p.y+b,{align:"left",baseline:"top",maxWidth:p.width-b-b})),this.internal.__cell__.lastCell=p,this};t.table=function(p,g,b,v,y){if(o.call(this),!b)throw new Error("No data for PDF table.");var k,x,C,D,S=[],M=[],P=[],B={},$={},F=[],N=[],L=(y=y||{}).autoSize||!1,U=y.printHeaders!==!1,Q=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,H=y.margins||Object.assign({width:this.getPageWidth()},r),z=typeof y.padding=="number"?y.padding:3,G=y.headerBackgroundColor||"#c8c8c8",R=y.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=H,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=z,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=R,this.setFontSize(Q),v==null)M=S=Object.keys(b[0]),P=S.map(function(){return"left"});else if(Array.isArray(v)&&gr(v[0])==="object")for(S=v.map(function(re){return re.name}),M=v.map(function(re){return re.prompt||re.name||""}),P=v.map(function(re){return re.align||"left"}),k=0;k<v.length;k+=1)$[v[k].name]=v[k].width*(19.049976/25.4);else Array.isArray(v)&&typeof v[0]=="string"&&(M=S=v,P=S.map(function(){return"left"}));if(L||Array.isArray(v)&&typeof v[0]=="string")for(k=0;k<S.length;k+=1){for(B[D=S[k]]=b.map(function(re){return re[D]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(M[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=B[D],this.setFont(void 0,"normal"),C=0;C<x.length;C+=1)F.push(this.getTextDimensions(x[C],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);$[D]=Math.max.apply(null,F)+z+z,F=[]}if(U){var ne={};for(k=0;k<S.length;k+=1)ne[S[k]]={},ne[S[k]].text=M[k],ne[S[k]].align=P[k];var ue=h.call(this,ne,$);N=S.map(function(re){return new l(p,g,$[re],ue,ne[re].text,void 0,ne[re].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var ie=v.reduce(function(re,Ce){return re[Ce.name]=Ce.align,re},{});for(k=0;k<b.length;k+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:k,data:b[k]},this);var oe=h.call(this,b[k],$);for(C=0;C<S.length;C+=1){var ye=b[k][S[C]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:k,col:C,data:ye},this),d.call(this,new l(p,g,$[S[C]],oe,ye,k+2,ie[S[C]]))}}return this.internal.__cell__.table_x=p,this.internal.__cell__.table_y=g,this};var h=function(p,g){var b=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(p).map(function(k){var x=p[k];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,g[k]-b-b)},this).map(function(k){return this.getLineHeightFactor()*k.length*v/y+b+b},this).reduce(function(k,x){return Math.max(k,x)},0)};t.setTableHeaderRow=function(p){o.call(this),this.internal.__cell__.tableHeaderRow=p},t.printHeaderRow=function(p,g){if(o.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var b;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],k=0;k<this.internal.__cell__.tableHeaderRow.length;k+=1){b=this.internal.__cell__.tableHeaderRow[k].clone(),g&&(b.y=this.internal.__cell__.margins.top||0,y.push(b)),b.lineNumber=p;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,b),this.setTextColor(x)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}}(an.API);var Dj={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ij=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],i_=Ej(Ij),Tj=[100,200,300,400,500,600,700,800,900],one=Ej(Tj);function o_(t){var r=t.family.replace(/"|'/g,"").toLowerCase(),n=function(l){return Dj[l=l||"normal"]?l:"normal"}(t.style),o=function(l){if(!l)return 400;if(typeof l=="number")return l>=100&&l<=900&&l%100==0?l:400;if(/^\d00$/.test(l))return parseInt(l);switch(l){case"bold":return 700;case"normal":default:return 400}}(t.weight),s=function(l){return typeof i_[l=l||"normal"]=="number"?l:"normal"}(t.stretch);return{family:r,style:n,weight:o,stretch:s,src:t.src||[],ref:t.ref||{name:r,style:[s,n,o].join(" ")}}}function r6(t,r,n,o){var s;for(s=n;s>=0&&s<r.length;s+=o)if(t[r[s]])return t[r[s]];for(s=n;s>=0&&s<r.length;s-=o)if(t[r[s]])return t[r[s]]}var sne={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},i6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function o6(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function ane(t,r,n){for(var o=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},sne,n.genericFontFamilies||{}),l=null,d=null,h=0;h<r.length;++h)if(s[(l=o_(r[h])).family]&&(l.family=s[l.family]),t.hasOwnProperty(l.family)){d=t[l.family];break}if(!(d=d||t[o]))throw new Error("Could not find a font-family for the rule '"+o6(l)+"' and default family '"+o+"'.");if(d=function(p,g){if(g[p])return g[p];var b=i_[p],v=b<=i_.normal?-1:1,y=r6(g,Ij,b,v);if(!y)throw new Error("Could not find a matching font-stretch value for "+p);return y}(l.stretch,d),d=function(p,g){if(g[p])return g[p];for(var b=Dj[p],v=0;v<b.length;++v)if(g[b[v]])return g[b[v]];throw new Error("Could not find a matching font-style for "+p)}(l.style,d),!(d=function(p,g){if(g[p])return g[p];if(p===400&&g[500])return g[500];if(p===500&&g[400])return g[400];var b=one[p],v=r6(g,Tj,b,p<400?-1:1);if(!v)throw new Error("Could not find a matching font-weight for value "+p);return v}(l.weight,d)))throw new Error("Failed to resolve a font for the rule '"+o6(l)+"'.");return d}function s6(t){return t.trimLeft()}function lne(t,r){for(var n=0;n<t.length;){if(t.charAt(n)===r)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function cne(t){var r=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],t.substring(r[0].length)]}var rk,a6,l6,Gv=["times"];(function(t){var r,n,o,s,l,d,h,p,g,b=function(X){return X=X||{},this.isStrokeTransparent=X.isStrokeTransparent||!1,this.strokeOpacity=X.strokeOpacity||1,this.strokeStyle=X.strokeStyle||"#000000",this.fillStyle=X.fillStyle||"#000000",this.isFillTransparent=X.isFillTransparent||!1,this.fillOpacity=X.fillOpacity||1,this.font=X.font||"10px sans-serif",this.textBaseline=X.textBaseline||"alphabetic",this.textAlign=X.textAlign||"left",this.lineWidth=X.lineWidth||1,this.lineJoin=X.lineJoin||"miter",this.lineCap=X.lineCap||"butt",this.path=X.path||[],this.transform=X.transform!==void 0?X.transform.clone():new p,this.globalCompositeOperation=X.globalCompositeOperation||"normal",this.globalAlpha=X.globalAlpha||1,this.clip_path=X.clip_path||[],this.currentPoint=X.currentPoint||new d,this.miterLimit=X.miterLimit||10,this.lastPoint=X.lastPoint||new d,this.lineDashOffset=X.lineDashOffset||0,this.lineDash=X.lineDash||[],this.margin=X.margin||[0,0,0,0],this.prevPageLastElemOffset=X.prevPageLastElemOffset||0,this.ignoreClearRect=typeof X.ignoreClearRect!="boolean"||X.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new v(this),r=this.internal.f2,n=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,d=this.internal.Point,h=this.internal.Rectangle,p=this.internal.Matrix,g=new b}]);var v=function(X){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=X;Object.defineProperty(this,"pdf",{get:function(){return J}});var fe=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return fe},set:function(_e){fe=!!_e}});var le=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return le},set:function(_e){le=!!_e}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(_e){isNaN(_e)||(ae=_e)}});var Se=0;Object.defineProperty(this,"posY",{get:function(){return Se},set:function(_e){isNaN(_e)||(Se=_e)}}),Object.defineProperty(this,"margin",{get:function(){return g.margin},set:function(_e){var he;typeof _e=="number"?he=[_e,_e,_e,_e]:((he=new Array(4))[0]=_e[0],he[1]=_e.length>=2?_e[1]:he[0],he[2]=_e.length>=3?_e[2]:he[0],he[3]=_e.length>=4?_e[3]:he[1]),g.margin=he}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(_e){xe=_e}});var Te=0;Object.defineProperty(this,"lastBreak",{get:function(){return Te},set:function(_e){Te=_e}});var Ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ye},set:function(_e){Ye=_e}}),Object.defineProperty(this,"ctx",{get:function(){return g},set:function(_e){_e instanceof b&&(g=_e)}}),Object.defineProperty(this,"path",{get:function(){return g.path},set:function(_e){g.path=_e}});var We=[];Object.defineProperty(this,"ctxStack",{get:function(){return We},set:function(_e){We=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var he;he=y(_e),this.ctx.fillStyle=he.style,this.ctx.isFillTransparent=he.a===0,this.ctx.fillOpacity=he.a,this.pdf.setFillColor(he.r,he.g,he.b,{a:he.a}),this.pdf.setTextColor(he.r,he.g,he.b,{a:he.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var he=y(_e);this.ctx.strokeStyle=he.style,this.ctx.isStrokeTransparent=he.a===0,this.ctx.strokeOpacity=he.a,he.a===0?this.pdf.setDrawColor(255,255,255):(he.a,this.pdf.setDrawColor(he.r,he.g,he.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var Je=null;function Ue(_e,he){if(Je===null){var be=function(pe){var Ae=[];return Object.keys(pe).forEach(function(Oe){pe[Oe].forEach(function(Me){var Ie=null;switch(Me){case"bold":Ie={family:Oe,weight:"bold"};break;case"italic":Ie={family:Oe,style:"italic"};break;case"bolditalic":Ie={family:Oe,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:Oe}}Ie!==null&&(Ie.ref={name:Oe,style:Me},Ae.push(Ie))})}),Ae}(_e.getFontList());Je=function(pe){for(var Ae={},Oe=0;Oe<pe.length;++Oe){var Me=o_(pe[Oe]),Ie=Me.family,$e=Me.stretch,Ke=Me.style,qe=Me.weight;Ae[Ie]=Ae[Ie]||{},Ae[Ie][$e]=Ae[Ie][$e]||{},Ae[Ie][$e][Ke]=Ae[Ie][$e][Ke]||{},Ae[Ie][$e][Ke][qe]=Me}return Ae}(be.concat(he))}return Je}var Z=null;Object.defineProperty(this,"fontFaces",{get:function(){return Z},set:function(_e){Je=null,Z=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var he;if(this.ctx.font=_e,(he=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var be=he[1];he[2];var pe=he[3],Ae=he[4];he[5];var Oe=he[6],Me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ae)[2];Ae=Math.floor(Me==="px"?parseFloat(Ae)*this.pdf.internal.scaleFactor:Me==="em"?parseFloat(Ae)*this.pdf.getFontSize():parseFloat(Ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ae);var Ie=function(Ze){var Ct,dt,en=[],pt=Ze.trim();if(pt==="")return Gv;if(pt in i6)return[i6[pt]];for(;pt!=="";){switch(dt=null,Ct=(pt=s6(pt)).charAt(0)){case'"':case"'":dt=lne(pt.substring(1),Ct);break;default:dt=cne(pt)}if(dt===null||(en.push(dt[0]),(pt=s6(dt[1]))!==""&&pt.charAt(0)!==","))return Gv;pt=pt.replace(/^,/,"")}return en}(Oe);if(this.fontFaces){var $e=ane(Ue(this.pdf,this.fontFaces),Ie.map(function(Ze){return{family:Ze,stretch:"normal",weight:pe,style:be}}));this.pdf.setFont($e.ref.name,$e.ref.style)}else{var Ke="";(pe==="bold"||parseInt(pe,10)>=700||be==="bold")&&(Ke="bold"),be==="italic"&&(Ke+="italic"),Ke.length===0&&(Ke="normal");for(var qe="",it={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Be=0;Be<Ie.length;Be++){if(this.pdf.internal.getFont(Ie[Be],Ke,{noFallback:!0,disableWarning:!0})!==void 0){qe=Ie[Be];break}if(Ke==="bolditalic"&&this.pdf.internal.getFont(Ie[Be],"bold",{noFallback:!0,disableWarning:!0})!==void 0)qe=Ie[Be],Ke="bold";else if(this.pdf.internal.getFont(Ie[Be],"normal",{noFallback:!0,disableWarning:!0})!==void 0){qe=Ie[Be],Ke="normal";break}}if(qe===""){for(var Qe=0;Qe<Ie.length;Qe++)if(it[Ie[Qe]]){qe=it[Ie[Qe]];break}}qe=qe===""?"Times":qe,this.pdf.setFont(qe,Ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,Ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,Ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};v.prototype.setLineDash=function(X){this.lineDash=X},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){B.call(this,"fill",!1)},v.prototype.stroke=function(){B.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(X,J){if(isNaN(X)||isNaN(J))throw Dr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var fe=this.ctx.transform.applyToPoint(new d(X,J));this.path.push({type:"mt",x:fe.x,y:fe.y}),this.ctx.lastPoint=new d(X,J)},v.prototype.closePath=function(){var X=new d(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&gr(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){X=new d(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(X.x,X.y)},v.prototype.lineTo=function(X,J){if(isNaN(X)||isNaN(J))throw Dr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var fe=this.ctx.transform.applyToPoint(new d(X,J));this.path.push({type:"lt",x:fe.x,y:fe.y}),this.ctx.lastPoint=new d(fe.x,fe.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},v.prototype.quadraticCurveTo=function(X,J,fe,le){if(isNaN(fe)||isNaN(le)||isNaN(X)||isNaN(J))throw Dr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new d(fe,le)),Se=this.ctx.transform.applyToPoint(new d(X,J));this.path.push({type:"qct",x1:Se.x,y1:Se.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new d(ae.x,ae.y)},v.prototype.bezierCurveTo=function(X,J,fe,le,ae,Se){if(isNaN(ae)||isNaN(Se)||isNaN(X)||isNaN(J)||isNaN(fe)||isNaN(le))throw Dr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new d(ae,Se)),Te=this.ctx.transform.applyToPoint(new d(X,J)),Ye=this.ctx.transform.applyToPoint(new d(fe,le));this.path.push({type:"bct",x1:Te.x,y1:Te.y,x2:Ye.x,y2:Ye.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new d(xe.x,xe.y)},v.prototype.arc=function(X,J,fe,le,ae,Se){if(isNaN(X)||isNaN(J)||isNaN(fe)||isNaN(le)||isNaN(ae))throw Dr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Se=!!Se,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new d(X,J));X=xe.x,J=xe.y;var Te=this.ctx.transform.applyToPoint(new d(0,fe)),Ye=this.ctx.transform.applyToPoint(new d(0,0));fe=Math.sqrt(Math.pow(Te.x-Ye.x,2)+Math.pow(Te.y-Ye.y,2))}Math.abs(ae-le)>=2*Math.PI&&(le=0,ae=2*Math.PI),this.path.push({type:"arc",x:X,y:J,radius:fe,startAngle:le,endAngle:ae,counterclockwise:Se})},v.prototype.arcTo=function(X,J,fe,le,ae){throw new Error("arcTo not implemented.")},v.prototype.rect=function(X,J,fe,le){if(isNaN(X)||isNaN(J)||isNaN(fe)||isNaN(le))throw Dr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(X,J),this.lineTo(X+fe,J),this.lineTo(X+fe,J+le),this.lineTo(X,J+le),this.lineTo(X,J),this.lineTo(X+fe,J),this.lineTo(X,J)},v.prototype.fillRect=function(X,J,fe,le){if(isNaN(X)||isNaN(J)||isNaN(fe)||isNaN(le))throw Dr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!k.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(X,J,fe,le),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},v.prototype.strokeRect=function(X,J,fe,le){if(isNaN(X)||isNaN(J)||isNaN(fe)||isNaN(le))throw Dr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(X,J,fe,le),this.stroke())},v.prototype.clearRect=function(X,J,fe,le){if(isNaN(X)||isNaN(J)||isNaN(fe)||isNaN(le))throw Dr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(X,J,fe,le))},v.prototype.save=function(X){X=typeof X!="boolean"||X;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,fe=0;fe<this.pdf.internal.getNumberOfPages();fe++)this.pdf.setPage(fe+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),X){this.ctx.fontSize=this.pdf.internal.getFontSize();var le=new b(this.ctx);this.ctxStack.push(this.ctx),this.ctx=le}},v.prototype.restore=function(X){X=typeof X!="boolean"||X;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,fe=0;fe<this.pdf.internal.getNumberOfPages();fe++)this.pdf.setPage(fe+1),this.pdf.internal.out("Q");this.pdf.setPage(J),X&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(X){var J,fe,le,ae;if(X.isCanvasGradient===!0&&(X=X.getColor()),!X)return{r:0,g:0,b:0,a:0,style:X};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(X))J=0,fe=0,le=0,ae=0;else{var Se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(X);if(Se!==null)J=parseInt(Se[1]),fe=parseInt(Se[2]),le=parseInt(Se[3]),ae=1;else if((Se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(X))!==null)J=parseInt(Se[1]),fe=parseInt(Se[2]),le=parseInt(Se[3]),ae=parseFloat(Se[4]);else{if(ae=1,typeof X=="string"&&X.charAt(0)!=="#"){var xe=new vj(X);X=xe.ok?xe.toHex():"#000000"}X.length===4?(J=X.substring(1,2),J+=J,fe=X.substring(2,3),fe+=fe,le=X.substring(3,4),le+=le):(J=X.substring(1,3),fe=X.substring(3,5),le=X.substring(5,7)),J=parseInt(J,16),fe=parseInt(fe,16),le=parseInt(le,16)}}return{r:J,g:fe,b:le,a:ae,style:X}},k=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(X,J,fe,le){if(isNaN(J)||isNaN(fe)||typeof X!="string")throw Dr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(le=isNaN(le)?void 0:le,!k.call(this)){var ae=oe(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;z.call(this,{text:X,x:J,y:fe,scale:Se,angle:ae,align:this.textAlign,maxWidth:le})}},v.prototype.strokeText=function(X,J,fe,le){if(isNaN(J)||isNaN(fe)||typeof X!="string")throw Dr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){le=isNaN(le)?void 0:le;var ae=oe(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;z.call(this,{text:X,x:J,y:fe,scale:Se,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:le})}},v.prototype.measureText=function(X){if(typeof X!="string")throw Dr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,fe=this.pdf.internal.scaleFactor,le=J.internal.getFontSize(),ae=J.getStringUnitWidth(X)*le/J.internal.scaleFactor,Se=function(xe){var Te=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Te}}),this};return new Se({width:ae*=Math.round(96*fe/72*1e4)/1e4})},v.prototype.scale=function(X,J){if(isNaN(X)||isNaN(J))throw Dr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var fe=new p(X,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(fe)},v.prototype.rotate=function(X){if(isNaN(X))throw Dr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new p(Math.cos(X),Math.sin(X),-Math.sin(X),Math.cos(X),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},v.prototype.translate=function(X,J){if(isNaN(X)||isNaN(J))throw Dr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var fe=new p(1,0,0,1,X,J);this.ctx.transform=this.ctx.transform.multiply(fe)},v.prototype.transform=function(X,J,fe,le,ae,Se){if(isNaN(X)||isNaN(J)||isNaN(fe)||isNaN(le)||isNaN(ae)||isNaN(Se))throw Dr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new p(X,J,fe,le,ae,Se);this.ctx.transform=this.ctx.transform.multiply(xe)},v.prototype.setTransform=function(X,J,fe,le,ae,Se){X=isNaN(X)?1:X,J=isNaN(J)?0:J,fe=isNaN(fe)?0:fe,le=isNaN(le)?1:le,ae=isNaN(ae)?0:ae,Se=isNaN(Se)?0:Se,this.ctx.transform=new p(X,J,fe,le,ae,Se)};var C=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(X,J,fe,le,ae,Se,xe,Te,Ye){var We=this.pdf.getImageProperties(X),Je=1,Ue=1,Z=1,_e=1;le!==void 0&&Te!==void 0&&(Z=Te/le,_e=Ye/ae,Je=We.width/le*Te/le,Ue=We.height/ae*Ye/ae),Se===void 0&&(Se=J,xe=fe,J=0,fe=0),le!==void 0&&Te===void 0&&(Te=le,Ye=ae),le===void 0&&Te===void 0&&(Te=We.width,Ye=We.height);for(var he,be=this.ctx.transform.decompose(),pe=oe(be.rotate.shx),Ae=new p,Oe=(Ae=(Ae=(Ae=Ae.multiply(be.translate)).multiply(be.skew)).multiply(be.scale)).applyToRectangle(new h(Se-J*Z,xe-fe*_e,le*Je,ae*Ue)),Me=D.call(this,Oe),Ie=[],$e=0;$e<Me.length;$e+=1)Ie.indexOf(Me[$e])===-1&&Ie.push(Me[$e]);if(P(Ie),this.autoPaging)for(var Ke=Ie[0],qe=Ie[Ie.length-1],it=Ke;it<qe+1;it++){this.pdf.setPage(it);var Be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qe=it===1?this.posY+this.margin[0]:this.margin[0],Ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=it===1?0:Ze+(it-2)*Ct;if(this.ctx.clip_path.length!==0){var en=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(he,this.posX+this.margin[3],-dt+Qe+this.ctx.prevPageLastElemOffset),$.call(this,"fill",!0),this.path=en}var pt=JSON.parse(JSON.stringify(Oe));pt=M([pt],this.posX+this.margin[3],-dt+Qe+this.ctx.prevPageLastElemOffset)[0];var Wt=(it>Ke||it<qe)&&C.call(this);Wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,Ct,null).clip().discardPath()),this.pdf.addImage(X,"JPEG",pt.x,pt.y,pt.w,pt.h,null,null,pe),Wt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(X,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,pe)};var D=function(X,J,fe){var le=[];J=J||this.pdf.internal.pageSize.width,fe=fe||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(X.type){default:case"mt":case"lt":le.push(Math.floor((X.y+ae)/fe)+1);break;case"arc":le.push(Math.floor((X.y+ae-X.radius)/fe)+1),le.push(Math.floor((X.y+ae+X.radius)/fe)+1);break;case"qct":var Se=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,X.x1,X.y1,X.x,X.y);le.push(Math.floor((Se.y+ae)/fe)+1),le.push(Math.floor((Se.y+Se.h+ae)/fe)+1);break;case"bct":var xe=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,X.x1,X.y1,X.x2,X.y2,X.x,X.y);le.push(Math.floor((xe.y+ae)/fe)+1),le.push(Math.floor((xe.y+xe.h+ae)/fe)+1);break;case"rect":le.push(Math.floor((X.y+ae)/fe)+1),le.push(Math.floor((X.y+X.h+ae)/fe)+1)}for(var Te=0;Te<le.length;Te+=1)for(;this.pdf.internal.getNumberOfPages()<le[Te];)S.call(this);return le},S=function(){var X=this.fillStyle,J=this.strokeStyle,fe=this.font,le=this.lineCap,ae=this.lineWidth,Se=this.lineJoin;this.pdf.addPage(),this.fillStyle=X,this.strokeStyle=J,this.font=fe,this.lineCap=le,this.lineWidth=ae,this.lineJoin=Se},M=function(X,J,fe){for(var le=0;le<X.length;le++)switch(X[le].type){case"bct":X[le].x2+=J,X[le].y2+=fe;case"qct":X[le].x1+=J,X[le].y1+=fe;case"mt":case"lt":case"arc":default:X[le].x+=J,X[le].y+=fe}return X},P=function(X){return X.sort(function(J,fe){return J-fe})},B=function(X,J){for(var fe,le,ae=this.fillStyle,Se=this.strokeStyle,xe=this.lineCap,Te=this.lineWidth,Ye=Math.abs(Te*this.ctx.transform.scaleX),We=this.lineJoin,Je=JSON.parse(JSON.stringify(this.path)),Ue=JSON.parse(JSON.stringify(this.path)),Z=[],_e=0;_e<Ue.length;_e++)if(Ue[_e].x!==void 0)for(var he=D.call(this,Ue[_e]),be=0;be<he.length;be+=1)Z.indexOf(he[be])===-1&&Z.push(he[be]);for(var pe=0;pe<Z.length;pe++)for(;this.pdf.internal.getNumberOfPages()<Z[pe];)S.call(this);if(P(Z),this.autoPaging)for(var Ae=Z[0],Oe=Z[Z.length-1],Me=Ae;Me<Oe+1;Me++){this.pdf.setPage(Me),this.fillStyle=ae,this.strokeStyle=Se,this.lineCap=xe,this.lineWidth=Ye,this.lineJoin=We;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$e=Me===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=Me===1?0:Ke+(Me-2)*qe;if(this.ctx.clip_path.length!==0){var Be=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(fe,this.posX+this.margin[3],-it+$e+this.ctx.prevPageLastElemOffset),$.call(this,X,!0),this.path=Be}if(le=JSON.parse(JSON.stringify(Je)),this.path=M(le,this.posX+this.margin[3],-it+$e+this.ctx.prevPageLastElemOffset),J===!1||Me===0){var Qe=(Me>Ae||Me<Oe)&&C.call(this);Qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,qe,null).clip().discardPath()),$.call(this,X,J),Qe&&this.pdf.restoreGraphicsState()}this.lineWidth=Te}else this.lineWidth=Ye,$.call(this,X,J),this.lineWidth=Te;this.path=Je},$=function(X,J){if((X!=="stroke"||J||!x.call(this))&&(X==="stroke"||J||!k.call(this))){for(var fe,le,ae=[],Se=this.path,xe=0;xe<Se.length;xe++){var Te=Se[xe];switch(Te.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:Te,deltas:[],abs:[]});break;case"lt":var Ye=ae.length;if(Se[xe-1]&&!isNaN(Se[xe-1].x)&&(fe=[Te.x-Se[xe-1].x,Te.y-Se[xe-1].y],Ye>0)){for(;Ye>=0;Ye--)if(ae[Ye-1].close!==!0&&ae[Ye-1].begin!==!0){ae[Ye-1].deltas.push(fe),ae[Ye-1].abs.push(Te);break}}break;case"bct":fe=[Te.x1-Se[xe-1].x,Te.y1-Se[xe-1].y,Te.x2-Se[xe-1].x,Te.y2-Se[xe-1].y,Te.x-Se[xe-1].x,Te.y-Se[xe-1].y],ae[ae.length-1].deltas.push(fe);break;case"qct":var We=Se[xe-1].x+2/3*(Te.x1-Se[xe-1].x),Je=Se[xe-1].y+2/3*(Te.y1-Se[xe-1].y),Ue=Te.x+2/3*(Te.x1-Te.x),Z=Te.y+2/3*(Te.y1-Te.y),_e=Te.x,he=Te.y;fe=[We-Se[xe-1].x,Je-Se[xe-1].y,Ue-Se[xe-1].x,Z-Se[xe-1].y,_e-Se[xe-1].x,he-Se[xe-1].y],ae[ae.length-1].deltas.push(fe);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(Te)}}le=J?null:X==="stroke"?"stroke":"fill";for(var be=!1,pe=0;pe<ae.length;pe++)if(ae[pe].arc)for(var Ae=ae[pe].abs,Oe=0;Oe<Ae.length;Oe++){var Me=Ae[Oe];Me.type==="arc"?L.call(this,Me.x,Me.y,Me.radius,Me.startAngle,Me.endAngle,Me.counterclockwise,void 0,J,!be):G.call(this,Me.x,Me.y),be=!0}else if(ae[pe].close===!0)this.pdf.internal.out("h"),be=!1;else if(ae[pe].begin!==!0){var Ie=ae[pe].start.x,$e=ae[pe].start.y;R.call(this,ae[pe].deltas,Ie,$e),be=!0}le&&U.call(this,le),J&&Q.call(this)}},F=function(X){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,fe=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return X-fe;case"top":return X+J-fe;case"hanging":return X+J-2*fe;case"middle":return X+J/2-fe;case"ideographic":return X;case"alphabetic":default:return X}},N=function(X){return X+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var X=function(){};return X.colorStops=[],X.addColorStop=function(J,fe){this.colorStops.push([J,fe])},X.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},X.isCanvasGradient=!0,X},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(X,J,fe,le,ae,Se,xe,Te,Ye){for(var We=ue.call(this,fe,le,ae,Se),Je=0;Je<We.length;Je++){var Ue=We[Je];Je===0&&(Ye?H.call(this,Ue.x1+X,Ue.y1+J):G.call(this,Ue.x1+X,Ue.y1+J)),ne.call(this,X,J,Ue.x2,Ue.y2,Ue.x3,Ue.y3,Ue.x4,Ue.y4)}Te?Q.call(this):U.call(this,xe)},U=function(X){switch(X){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},H=function(X,J){this.pdf.internal.out(n(X)+" "+o(J)+" m")},z=function(X){var J;switch(X.align){case"right":case"end":J="right";break;case"center":J="center";break;case"left":case"start":default:J="left"}var fe=this.pdf.getTextDimensions(X.text),le=F.call(this,X.y),ae=N.call(this,le)-fe.h,Se=this.ctx.transform.applyToPoint(new d(X.x,le)),xe=this.ctx.transform.decompose(),Te=new p;Te=(Te=(Te=Te.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var Ye,We,Je,Ue=this.ctx.transform.applyToRectangle(new h(X.x,le,fe.w,fe.h)),Z=Te.applyToRectangle(new h(X.x,ae,fe.w,fe.h)),_e=D.call(this,Z),he=[],be=0;be<_e.length;be+=1)he.indexOf(_e[be])===-1&&he.push(_e[be]);if(P(he),this.autoPaging)for(var pe=he[0],Ae=he[he.length-1],Oe=pe;Oe<Ae+1;Oe++){this.pdf.setPage(Oe);var Me=Oe===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$e=this.pdf.internal.pageSize.height-this.margin[2],Ke=$e-this.margin[0],qe=this.pdf.internal.pageSize.width-this.margin[1],it=qe-this.margin[3],Be=Oe===1?0:Ie+(Oe-2)*Ke;if(this.ctx.clip_path.length!==0){var Qe=this.path;Ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=M(Ye,this.posX+this.margin[3],-1*Be+Me),$.call(this,"fill",!0),this.path=Qe}var Ze=M([JSON.parse(JSON.stringify(Z))],this.posX+this.margin[3],-Be+Me+this.ctx.prevPageLastElemOffset)[0];X.scale>=.01&&(We=this.pdf.internal.getFontSize(),this.pdf.setFontSize(We*X.scale),Je=this.lineWidth,this.lineWidth=Je*X.scale);var Ct=this.autoPaging!=="text";if(Ct||Ze.y+Ze.h<=$e){if(Ct||Ze.y>=Me&&Ze.x<=qe){var dt=Ct?X.text:this.pdf.splitTextToSize(X.text,X.maxWidth||qe-Ze.x)[0],en=M([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-Be+Me+this.ctx.prevPageLastElemOffset)[0],pt=Ct&&(Oe>pe||Oe<Ae)&&C.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Ke,null).clip().discardPath()),this.pdf.text(dt,en.x,en.y,{angle:X.angle,align:J,renderingMode:X.renderingMode}),pt&&this.pdf.restoreGraphicsState()}}else Ze.y<$e&&(this.ctx.prevPageLastElemOffset+=$e-Ze.y);X.scale>=.01&&(this.pdf.setFontSize(We),this.lineWidth=Je)}else X.scale>=.01&&(We=this.pdf.internal.getFontSize(),this.pdf.setFontSize(We*X.scale),Je=this.lineWidth,this.lineWidth=Je*X.scale),this.pdf.text(X.text,Se.x+this.posX,Se.y+this.posY,{angle:X.angle,align:J,renderingMode:X.renderingMode,maxWidth:X.maxWidth}),X.scale>=.01&&(this.pdf.setFontSize(We),this.lineWidth=Je)},G=function(X,J,fe,le){fe=fe||0,le=le||0,this.pdf.internal.out(n(X+fe)+" "+o(J+le)+" l")},R=function(X,J,fe){return this.pdf.lines(X,J,fe,null,null)},ne=function(X,J,fe,le,ae,Se,xe,Te){this.pdf.internal.out([r(s(fe+X)),r(l(le+J)),r(s(ae+X)),r(l(Se+J)),r(s(xe+X)),r(l(Te+J)),"c"].join(" "))},ue=function(X,J,fe,le){for(var ae=2*Math.PI,Se=Math.PI/2;J>fe;)J-=ae;var xe=Math.abs(fe-J);xe<ae&&le&&(xe=ae-xe);for(var Te=[],Ye=le?-1:1,We=J;xe>1e-5;){var Je=We+Ye*Math.min(xe,Se);Te.push(ie.call(this,X,We,Je)),xe-=Math.abs(Je-We),We=Je}return Te},ie=function(X,J,fe){var le=(fe-J)/2,ae=X*Math.cos(le),Se=X*Math.sin(le),xe=ae,Te=-Se,Ye=xe*xe+Te*Te,We=Ye+xe*ae+Te*Se,Je=4/3*(Math.sqrt(2*Ye*We)-We)/(xe*Se-Te*ae),Ue=xe-Je*Te,Z=Te+Je*xe,_e=Ue,he=-Z,be=le+J,pe=Math.cos(be),Ae=Math.sin(be);return{x1:X*Math.cos(J),y1:X*Math.sin(J),x2:Ue*pe-Z*Ae,y2:Ue*Ae+Z*pe,x3:_e*pe-he*Ae,y3:_e*Ae+he*pe,x4:X*Math.cos(fe),y4:X*Math.sin(fe)}},oe=function(X){return 180*X/Math.PI},ye=function(X,J,fe,le,ae,Se){var xe=X+.5*(fe-X),Te=J+.5*(le-J),Ye=ae+.5*(fe-ae),We=Se+.5*(le-Se),Je=Math.min(X,ae,xe,Ye),Ue=Math.max(X,ae,xe,Ye),Z=Math.min(J,Se,Te,We),_e=Math.max(J,Se,Te,We);return new h(Je,Z,Ue-Je,_e-Z)},re=function(X,J,fe,le,ae,Se,xe,Te){var Ye,We,Je,Ue,Z,_e,he,be,pe,Ae,Oe,Me,Ie,$e,Ke=fe-X,qe=le-J,it=ae-fe,Be=Se-le,Qe=xe-ae,Ze=Te-Se;for(We=0;We<41;We++)pe=(he=(Je=X+(Ye=We/40)*Ke)+Ye*((Z=fe+Ye*it)-Je))+Ye*(Z+Ye*(ae+Ye*Qe-Z)-he),Ae=(be=(Ue=J+Ye*qe)+Ye*((_e=le+Ye*Be)-Ue))+Ye*(_e+Ye*(Se+Ye*Ze-_e)-be),We==0?(Oe=pe,Me=Ae,Ie=pe,$e=Ae):(Oe=Math.min(Oe,pe),Me=Math.min(Me,Ae),Ie=Math.max(Ie,pe),$e=Math.max($e,Ae));return new h(Math.round(Oe),Math.round(Me),Math.round(Ie-Oe),Math.round($e-Me))},Ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var X,J,fe=(X=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:X,lineDashOffset:J}));this.prevLineDash!==fe&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=fe)}}})(an.API),function(t){var r=function(l){var d,h,p,g,b,v,y,k,x,C;for(h=[],p=0,g=(l+=d="\0\0\0\0".slice(l.length%4||4)).length;g>p;p+=4)(b=(l.charCodeAt(p)<<24)+(l.charCodeAt(p+1)<<16)+(l.charCodeAt(p+2)<<8)+l.charCodeAt(p+3))!==0?(v=(b=((b=((b=((b=(b-(C=b%85))/85)-(x=b%85))/85)-(k=b%85))/85)-(y=b%85))/85)%85,h.push(v+33,y+33,k+33,x+33,C+33)):h.push(122);return function(D,S){for(var M=S;M>0;M--)D.pop()}(h,d.length),String.fromCharCode.apply(String,h)+"~>"},n=function(l){var d,h,p,g,b,v=String,y="length",k=255,x="charCodeAt",C="slice",D="replace";for(l[C](-2),l=l[C](0,-2)[D](/\s/g,"")[D]("z","!!!!!"),p=[],g=0,b=(l+=d="uuuuu"[C](l[y]%5||5))[y];b>g;g+=5)h=52200625*(l[x](g)-33)+614125*(l[x](g+1)-33)+7225*(l[x](g+2)-33)+85*(l[x](g+3)-33)+(l[x](g+4)-33),p.push(k&h>>24,k&h>>16,k&h>>8,k&h);return function(S,M){for(var P=M;P>0;P--)S.pop()}(p,d[y]),v.fromCharCode.apply(v,p)},o=function(l){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),d.test(l)===!1)return"";for(var h="",p=0;p<l.length;p+=2)h+=String.fromCharCode("0x"+(l[p]+l[p+1]));return h},s=function(l){for(var d=new Uint8Array(l.length),h=l.length;h--;)d[h]=l.charCodeAt(h);return l=(d=XA(d)).reduce(function(p,g){return p+String.fromCharCode(g)},"")};t.processDataByFilters=function(l,d){var h=0,p=l||"",g=[];for(typeof(d=d||[])=="string"&&(d=[d]),h=0;h<d.length;h+=1)switch(d[h]){case"ASCII85Decode":case"/ASCII85Decode":p=n(p),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=r(p),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=o(p),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=p.split("").map(function(b){return("0"+b.charCodeAt().toString(16)).slice(-2)}).join("")+">",g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=s(p),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[h]+'" is not implemented')}return{data:p,reverseChain:g.reverse().join(" ")}}}(an.API),function(t){t.loadFile=function(r,n,o){return function(s,l,d){l=l!==!1,d=typeof d=="function"?d:function(){};var h=void 0;try{h=function(p,g,b){var v=new XMLHttpRequest,y=0,k=function(x){var C=x.length,D=[],S=String.fromCharCode;for(y=0;y<C;y+=1)D.push(S(255&x.charCodeAt(y)));return D.join("")};if(v.open("GET",p,!g),v.overrideMimeType("text/plain; charset=x-user-defined"),g===!1&&(v.onload=function(){v.status===200?b(k(this.responseText)):b(void 0)}),v.send(null),g&&v.status===200)return k(v.responseText)}(s,l,d)}catch{}return h}(r,n,o)},t.loadImageFile=t.loadFile}(an.API),function(t){function r(){return(ln.html2canvas?Promise.resolve(ln.html2canvas):Ki(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function n(){return(ln.DOMPurify?Promise.resolve(ln.DOMPurify):Ki(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var o=function(d){var h=gr(d);return h==="undefined"?"undefined":h==="string"||d instanceof String?"string":h==="number"||d instanceof Number?"number":h==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":h==="object"?"object":"unknown"},s=function(d,h){var p=document.createElement(d);for(var g in h.className&&(p.className=h.className),h.innerHTML&&h.dompurify&&(p.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)p.style[g]=h.style[g];return p},l=function d(h){var p=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),g=d.convert(Promise.resolve(),p);return g=(g=g.setProgress(1,d,1,[d])).set(h)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(d,h){return d.__proto__=h||l.prototype,d},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(d,h){return this.then(function(){switch(h=h||function(p){switch(o(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(d)){case"string":return this.then(n).then(function(p){return this.set({src:s("div",{innerHTML:d,dompurify:p})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},l.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=function p(g,b){for(var v=g.nodeType===3?document.createTextNode(g.nodeValue):g.cloneNode(!1),y=g.firstChild;y;y=y.nextSibling)b!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||v.appendChild(p(y,b));return g.nodeType===1&&(g.nodeName==="CANVAS"?(v.width=g.width,v.height=g.height,v.getContext("2d").drawImage(g,0,0)):g.nodeName!=="TEXTAREA"&&g.nodeName!=="SELECT"||(v.value=g.value),v.addEventListener("load",function(){v.scrollTop=g.scrollTop,v.scrollLeft=g.scrollLeft},!0)),v}(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(r).then(function(h){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,h(this.prop.container,p)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(r).then(function(h){var p=this.opt.jsPDF,g=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=g,g)for(var y=0;y<g.length;++y){var k=g[y],x=k.src.find(function(C){return C.format==="truetype"});x&&p.addFont(x.url,k.ref.name,k.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,p.context2d.save(!0),h(this.prop.container,v)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(d,h,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(d,h):this.outputPdf(d,h)},l.prototype.outputPdf=function(d,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,h)})},l.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},l.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(d){if(o(d)!=="object")return this;var h=Object.keys(d||{}).map(function(p){if(p in l.template.prop)return function(){this.prop[p]=d[p]};switch(p){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[p]=d[p]}}},this);return this.then(function(){return this.thenList(h)})},l.prototype.get=function(d,h){return this.then(function(){var p=d in l.template.prop?this.prop[d]:this.opt[d];return h?h(p):p})},l.prototype.setMargin=function(d){return this.then(function(){switch(o(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},l.prototype.setPageSize=function(d){function h(p,g){return Math.floor(p*g/72*96)}return this.then(function(){(d=d||an.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:h(d.inner.width,d.k),height:h(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},l.prototype.setProgress=function(d,h,p,g){return d!=null&&(this.progress.val=d),h!=null&&(this.progress.state=h),p!=null&&(this.progress.n=p),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(d,h,p,g){return this.setProgress(d?this.progress.val+d:null,h||null,p?this.progress.n+p:null,g?this.progress.stack.concat(g):null)},l.prototype.then=function(d,h){var p=this;return this.thenCore(d,h,function(g,b){return p.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(v){return p.updateProgress(null,g),v}).then(g,b).then(function(v){return p.updateProgress(1),v})})},l.prototype.thenCore=function(d,h,p){p=p||Promise.prototype.then,d&&(d=d.bind(this)),h&&(h=h.bind(this));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:l.convert(Object.assign({},this),Promise.prototype),b=p.call(g,d,h);return l.convert(b,this.__proto__)},l.prototype.thenExternal=function(d,h){return Promise.prototype.then.call(this,d,h)},l.prototype.thenList=function(d){var h=this;return d.forEach(function(p){h=h.thenCore(p)}),h},l.prototype.catch=function(d){d&&(d=d.bind(this));var h=Promise.prototype.catch.call(this,d);return l.convert(h,this)},l.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},l.prototype.error=function(d){return this.then(function(){throw new Error(d)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,an.getPageSize=function(d,h,p){if(gr(d)==="object"){var g=d;d=g.orientation,h=g.unit||h,p=g.format||p}h=h||"mm",p=p||"a4",d=(""+(d||"P")).toLowerCase();var b,v=(""+p).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+h}var k,x=0,C=0;if(y.hasOwnProperty(v))x=y[v][1]/b,C=y[v][0]/b;else try{x=p[1],C=p[0]}catch{throw new Error("Invalid format: "+p)}if(d==="p"||d==="portrait")d="p",C>x&&(k=C,C=x,x=k);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",x>C&&(k=C,C=x,x=k)}return{width:C,height:x,unit:h,k:b,orientation:d}},t.html=function(d,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(o_):null;var p=new l(h);return h.worker?p:p.from(d).doCallback()}}(an.API),an.API.addJS=function(t){return l6=t,this.internal.events.subscribe("postPutResources",function(){rk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(rk+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),a6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+l6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){rk!==void 0&&a6!==void 0&&this.internal.out("/Names <</JavaScript "+rk+" 0 R>>")}),this},function(t){var r;t.events.push(["postPutResources",function(){var n=this,o=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=n.outline.render().split(/\r\n/),l=0;l<s.length;l++){var d=s[l],h=o.exec(d);if(h!=null){var p=h[1];n.internal.newObjectDeferredBegin(p,!1)}n.internal.write(d)}if(this.outline.createNamedDestinations){var g=this.internal.pages.length,b=[];for(l=0;l<g;l++){var v=n.internal.newObject();b.push(v);var y=n.internal.getPageInfo(l+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var k=n.internal.newObject();for(n.internal.write("<< /Names [ "),l=0;l<b.length;l++)n.internal.write("(page_"+(l+1)+")"+b[l]+" 0 R");n.internal.write(" ] >>","endobj"),r=n.internal.newObject(),n.internal.write("<< /Dests "+k+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+r+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(o,s,l){var d={title:s,options:l,children:[]};return o==null&&(o=this.root),o.children.push(d),d},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(o){o.id=n.internal.newObjectDeferred();for(var s=0;s<o.children.length;s++)this.genIds_r(o.children[s])},n.outline.renderRoot=function(o){this.objStart(o),this.line("/Type /Outlines"),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1]))),this.line("/Count "+this.count_r({count:0},o)),this.objEnd()},n.outline.renderItems=function(o){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<o.children.length;l++){var d=o.children[l];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(o)),l>0&&this.line("/Prev "+this.makeRef(o.children[l-1])),l<o.children.length-1&&this.line("/Next "+this.makeRef(o.children[l+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var h=this.count=this.count_r({count:0},d);if(h>0&&this.line("/Count "+h),d.options&&d.options.pageNumber){var p=n.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+p.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var g=0;g<o.children.length;g++)this.renderItems(o.children[g])},n.outline.line=function(o){this.ctx.val+=o+`\r
`},n.outline.makeRef=function(o){return o.id+" 0 R"},n.outline.makeString=function(o){return"("+n.internal.pdfEscape(o)+")"},n.outline.objStart=function(o){this.ctx.val+=`\r
`+o.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(o,s){for(var l=0;l<s.children.length;l++)o.count++,this.count_r(o,s.children[l]);return o.count}}])}(an.API),function(t){var r=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,o,s,l,d,h){var p,g=this.decode.DCT_DECODE,b=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=d||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(p=function(v){for(var y,k=256*v.charCodeAt(4)+v.charCodeAt(5),x=v.length,C={width:0,height:0,numcomponents:1},D=4;D<x;D+=2){if(D+=k,r.indexOf(v.charCodeAt(D+1))!==-1){y=256*v.charCodeAt(D+5)+v.charCodeAt(D+6),C={width:256*v.charCodeAt(D+7)+v.charCodeAt(D+8),height:y,numcomponents:v.charCodeAt(D+9)};break}k=256*v.charCodeAt(D+2)+v.charCodeAt(D+3)}return C}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:h=this.color_spaces.DEVICE_GRAY;break;case 4:h=this.color_spaces.DEVICE_CMYK;break;case 3:h=this.color_spaces.DEVICE_RGB}b={data:n,width:p.width,height:p.height,colorSpace:h,bitsPerComponent:8,filter:g,index:o,alias:s}}return b}}(an.API);var Kf,ik,c6,u6,d6,une=function(){var t,r,n;function o(l){var d,h,p,g,b,v,y,k,x,C,D,S,M,P;for(this.data=l,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},v=null;;){switch(d=this.readUInt32(),x=(function(){var B,$;for($=[],B=0;B<4;++B)$.push(String.fromCharCode(this.data[this.pos++]));return $}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(d);break;case"fcTL":v&&this.animation.frames.push(v),this.pos+=4,v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},b=this.readUInt16(),g=this.readUInt16()||100,v.delay=1e3*b/g,v.disposeOp=this.data[this.pos++],v.blendOp=this.data[this.pos++],v.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,d-=4),l=(v!=null?v.data:void 0)||this.imgData,S=0;0<=d?S<d:S>d;0<=d?++S:--S)l.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(p=this.palette.length/3,this.transparency.indexed=this.read(d),this.transparency.indexed.length>p)throw new Error("More transparent colors than palette size");if((C=p-this.transparency.indexed.length)>0)for(M=0;0<=C?M<C:M>C;0<=C?++M:--M)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(d)[0];break;case 2:this.transparency.rgb=this.read(d)}break;case"tEXt":y=(D=this.read(d)).indexOf(0),k=String.fromCharCode.apply(String,D.slice(0,y)),this.text[k]=String.fromCharCode.apply(String,D.slice(y+1));break;case"IEND":return v&&this.animation.frames.push(v),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(P=this.colorType)===4||P===6,h=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*h,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=d}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}o.prototype.read=function(l){var d,h;for(h=[],d=0;0<=l?d<l:d>l;0<=l?++d:--d)h.push(this.data[this.pos++]);return h},o.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},o.prototype.decodePixels=function(l){var d=this.pixelBitlength/8,h=new Uint8Array(this.width*this.height*d),p=0,g=this;if(l==null&&(l=this.imgData),l.length===0)return new Uint8Array(0);function b(v,y,k,x){var C,D,S,M,P,B,$,F,N,L,U,Q,H,z,G,R,ne,ue,ie,oe,ye,re=Math.ceil((g.width-v)/k),Ce=Math.ceil((g.height-y)/x),X=g.width==re&&g.height==Ce;for(z=d*re,Q=X?h:new Uint8Array(z*Ce),B=l.length,H=0,D=0;H<Ce&&p<B;){switch(l[p++]){case 0:for(M=ne=0;ne<z;M=ne+=1)Q[D++]=l[p++];break;case 1:for(M=ue=0;ue<z;M=ue+=1)C=l[p++],P=M<d?0:Q[D-d],Q[D++]=(C+P)%256;break;case 2:for(M=ie=0;ie<z;M=ie+=1)C=l[p++],S=(M-M%d)/d,G=H&&Q[(H-1)*z+S*d+M%d],Q[D++]=(G+C)%256;break;case 3:for(M=oe=0;oe<z;M=oe+=1)C=l[p++],S=(M-M%d)/d,P=M<d?0:Q[D-d],G=H&&Q[(H-1)*z+S*d+M%d],Q[D++]=(C+Math.floor((P+G)/2))%256;break;case 4:for(M=ye=0;ye<z;M=ye+=1)C=l[p++],S=(M-M%d)/d,P=M<d?0:Q[D-d],H===0?G=R=0:(G=Q[(H-1)*z+S*d+M%d],R=S&&Q[(H-1)*z+(S-1)*d+M%d]),$=P+G-R,F=Math.abs($-P),L=Math.abs($-G),U=Math.abs($-R),N=F<=L&&F<=U?P:L<=U?G:R,Q[D++]=(C+N)%256;break;default:throw new Error("Invalid filter algorithm: "+l[p-1])}if(!X){var J=((y+H*x)*g.width+v)*d,fe=H*z;for(M=0;M<re;M+=1){for(var le=0;le<d;le+=1)h[J++]=Q[fe++];J+=(k-1)*d}}H++}}return l=qte(l),g.interlaceMethod==1?(b(0,0,8,8),b(4,0,8,8),b(0,4,4,8),b(2,0,4,4),b(0,2,2,4),b(1,0,2,2),b(0,1,1,2)):b(0,0,1,1),h},o.prototype.decodePalette=function(){var l,d,h,p,g,b,v,y,k;for(h=this.palette,b=this.transparency.indexed||[],g=new Uint8Array((b.length||0)+h.length),p=0,l=0,d=v=0,y=h.length;v<y;d=v+=3)g[p++]=h[d],g[p++]=h[d+1],g[p++]=h[d+2],g[p++]=(k=b[l++])!=null?k:255;return g},o.prototype.copyToImageData=function(l,d){var h,p,g,b,v,y,k,x,C,D,S;if(p=this.colors,C=null,h=this.hasAlphaChannel,this.palette.length&&(C=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),p=4,h=!0),x=(g=l.data||l).length,v=C||d,b=y=0,p===1)for(;b<x;)k=C?4*d[b/4]:y,D=v[k++],g[b++]=D,g[b++]=D,g[b++]=D,g[b++]=h?v[k++]:255,y=k;else for(;b<x;)k=C?4*d[b/4]:y,g[b++]=v[k++],g[b++]=v[k++],g[b++]=v[k++],g[b++]=h?v[k++]:255,y=k},o.prototype.decode=function(){var l;return l=new Uint8Array(this.width*this.height*4),this.copyToImageData(l,this.decodePixels()),l};var s=function(){if(Object.prototype.toString.call(ln)==="[object Window]"){try{r=ln.document.createElement("canvas"),n=r.getContext("2d")}catch{return!1}return!0}return!1};return s(),t=function(l){var d;if(s()===!0)return n.width=l.width,n.height=l.height,n.clearRect(0,0,l.width,l.height),n.putImageData(l,0,0),(d=new Image).src=r.toDataURL(),d;throw new Error("This method requires a Browser with Canvas-capability.")},o.prototype.decodeFrames=function(l){var d,h,p,g,b,v,y,k;if(this.animation){for(k=[],h=b=0,v=(y=this.animation.frames).length;b<v;h=++b)d=y[h],p=l.createImageData(d.width,d.height),g=this.decodePixels(new Uint8Array(d.data)),this.copyToImageData(p,g),d.imageData=p,k.push(d.image=t(p));return k}},o.prototype.renderFrame=function(l,d){var h,p,g;return h=(p=this.animation.frames)[d],g=p[d-1],d===0&&l.clearRect(0,0,this.width,this.height),(g!=null?g.disposeOp:void 0)===1?l.clearRect(g.xOffset,g.yOffset,g.width,g.height):(g!=null?g.disposeOp:void 0)===2&&l.putImageData(g.imageData,g.xOffset,g.yOffset),h.blendOp===0&&l.clearRect(h.xOffset,h.yOffset,h.width,h.height),l.drawImage(h.image,h.xOffset,h.yOffset)},o.prototype.animate=function(l){var d,h,p,g,b,v,y=this;return h=0,v=this.animation,g=v.numFrames,p=v.frames,b=v.numPlays,(d=function(){var k,x;if(k=h++%g,x=p[k],y.renderFrame(l,k),g>1&&h/g<b)return y.animation._timeout=setTimeout(d,x.delay)})()},o.prototype.stopAnimation=function(){var l;return clearTimeout((l=this.animation)!=null?l._timeout:void 0)},o.prototype.render=function(l){var d,h;return l._png&&l._png.stopAnimation(),l._png=this,l.width=this.width,l.height=this.height,d=l.getContext("2d"),this.animation?(this.decodeFrames(d),this.animate(d)):(h=d.createImageData(this.width,this.height),this.copyToImageData(h,this.decodePixels()),d.putImageData(h,0,0))},o}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function dne(t){var r=0;if(t[r++]!==71||t[r++]!==73||t[r++]!==70||t[r++]!==56||(t[r++]+1&253)!=56||t[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[r++]|t[r++]<<8,o=t[r++]|t[r++]<<8,s=t[r++],l=s>>7,d=1<<(7&s)+1;t[r++],t[r++];var h=null,p=null;l&&(h=r,p=d,r+=3*d);var g=!0,b=[],v=0,y=null,k=0,x=null;for(this.width=n,this.height=o;g&&r<t.length;)switch(t[r++]){case 33:switch(t[r++]){case 255:if(t[r]!==11||t[r+1]==78&&t[r+2]==69&&t[r+3]==84&&t[r+4]==83&&t[r+5]==67&&t[r+6]==65&&t[r+7]==80&&t[r+8]==69&&t[r+9]==50&&t[r+10]==46&&t[r+11]==48&&t[r+12]==3&&t[r+13]==1&&t[r+16]==0)r+=14,x=t[r++]|t[r++]<<8,r++;else for(r+=12;;){if(!((H=t[r++])>=0))throw Error("Invalid block size");if(H===0)break;r+=H}break;case 249:if(t[r++]!==4||t[r+4]!==0)throw new Error("Invalid graphics extension block.");var C=t[r++];v=t[r++]|t[r++]<<8,y=t[r++],(1&C)==0&&(y=null),k=C>>2&7,r++;break;case 254:for(;;){if(!((H=t[r++])>=0))throw Error("Invalid block size");if(H===0)break;r+=H}break;default:throw new Error("Unknown graphic control label: 0x"+t[r-1].toString(16))}break;case 44:var D=t[r++]|t[r++]<<8,S=t[r++]|t[r++]<<8,M=t[r++]|t[r++]<<8,P=t[r++]|t[r++]<<8,B=t[r++],$=B>>6&1,F=1<<(7&B)+1,N=h,L=p,U=!1;B>>7&&(U=!0,N=r,L=F,r+=3*F);var Q=r;for(r++;;){var H;if(!((H=t[r++])>=0))throw Error("Invalid block size");if(H===0)break;r+=H}b.push({x:D,y:S,width:M,height:P,has_local_palette:U,palette_offset:N,palette_size:L,data_offset:Q,data_length:r-Q,transparent_index:y,interlaced:!!$,delay:v,disposal:k});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+t[r-1].toString(16))}this.numFrames=function(){return b.length},this.loopCount=function(){return x},this.frameInfo=function(z){if(z<0||z>=b.length)throw new Error("Frame index out of range.");return b[z]},this.decodeAndBlitFrameBGRA=function(z,G){var R=this.frameInfo(z),ne=R.width*R.height,ue=new Uint8Array(ne);h6(t,R.data_offset,ue,ne);var ie=R.palette_offset,oe=R.transparent_index;oe===null&&(oe=256);var ye=R.width,re=n-ye,Ce=ye,X=4*(R.y*n+R.x),J=4*((R.y+R.height)*n+R.x),fe=X,le=4*re;R.interlaced===!0&&(le+=4*n*7);for(var ae=8,Se=0,xe=ue.length;Se<xe;++Se){var Te=ue[Se];if(Ce===0&&(Ce=ye,(fe+=le)>=J&&(le=4*re+4*n*(ae-1),fe=X+(ye+re)*(ae<<1),ae>>=1)),Te===oe)fe+=4;else{var Ye=t[ie+3*Te],We=t[ie+3*Te+1],Je=t[ie+3*Te+2];G[fe++]=Je,G[fe++]=We,G[fe++]=Ye,G[fe++]=255}--Ce}},this.decodeAndBlitFrameRGBA=function(z,G){var R=this.frameInfo(z),ne=R.width*R.height,ue=new Uint8Array(ne);h6(t,R.data_offset,ue,ne);var ie=R.palette_offset,oe=R.transparent_index;oe===null&&(oe=256);var ye=R.width,re=n-ye,Ce=ye,X=4*(R.y*n+R.x),J=4*((R.y+R.height)*n+R.x),fe=X,le=4*re;R.interlaced===!0&&(le+=4*n*7);for(var ae=8,Se=0,xe=ue.length;Se<xe;++Se){var Te=ue[Se];if(Ce===0&&(Ce=ye,(fe+=le)>=J&&(le=4*re+4*n*(ae-1),fe=X+(ye+re)*(ae<<1),ae>>=1)),Te===oe)fe+=4;else{var Ye=t[ie+3*Te],We=t[ie+3*Te+1],Je=t[ie+3*Te+2];G[fe++]=Ye,G[fe++]=We,G[fe++]=Je,G[fe++]=255}--Ce}}}function h6(t,r,n,o){for(var s=t[r++],l=1<<s,d=l+1,h=d+1,p=s+1,g=(1<<p)-1,b=0,v=0,y=0,k=t[r++],x=new Int32Array(4096),C=null;;){for(;b<16&&k!==0;)v|=t[r++]<<b,b+=8,k===1?k=t[r++]:--k;if(b<p)break;var D=v&g;if(v>>=p,b-=p,D!==l){if(D===d)break;for(var S=D<h?D:C,M=0,P=S;P>l;)P=x[P]>>8,++M;var B=P;if(y+M+(S!==D?1:0)>o)return void Dr.log("Warning, gif stream longer than expected.");n[y++]=B;var $=y+=M;for(S!==D&&(n[y++]=B),P=S;M--;)P=x[P],n[--$]=255&P,P>>=8;C!==null&&h<4096&&(x[h++]=C<<8|B,h>=g+1&&p<12&&(++p,g=g<<1|1)),C=D}else h=d+1,g=(1<<(p=s+1))-1,C=null}return y!==o&&Dr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Yv(t){var r,n,o,s,l,d=Math.floor,h=new Array(64),p=new Array(64),g=new Array(64),b=new Array(64),v=new Array(65535),y=new Array(65535),k=new Array(64),x=new Array(64),C=[],D=0,S=7,M=new Array(64),P=new Array(64),B=new Array(64),$=new Array(256),F=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],H=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ue(X,J){for(var fe=0,le=0,ae=new Array,Se=1;Se<=16;Se++){for(var xe=1;xe<=X[Se];xe++)ae[J[le]]=[],ae[J[le]][0]=fe,ae[J[le]][1]=Se,le++,fe++;fe*=2}return ae}function ie(X){for(var J=X[0],fe=X[1]-1;fe>=0;)J&1<<fe&&(D|=1<<S),fe--,--S<0&&(D==255?(oe(255),oe(0)):oe(D),S=7,D=0)}function oe(X){C.push(X)}function ye(X){oe(X>>8&255),oe(255&X)}function re(X,J,fe,le,ae){for(var Se,xe=ae[0],Te=ae[240],Ye=function(Ae,Oe){var Me,Ie,$e,Ke,qe,it,Be,Qe,Ze,Ct,dt=0;for(Ze=0;Ze<8;++Ze){Me=Ae[dt],Ie=Ae[dt+1],$e=Ae[dt+2],Ke=Ae[dt+3],qe=Ae[dt+4],it=Ae[dt+5],Be=Ae[dt+6];var en=Me+(Qe=Ae[dt+7]),pt=Me-Qe,Wt=Ie+Be,Rt=Ie-Be,zt=$e+it,Qt=$e-it,bn=Ke+qe,Dn=Ke-qe,Vn=en+bn,zr=en-bn,Kr=Wt+zt,Rn=Wt-zt;Ae[dt]=Vn+Kr,Ae[dt+4]=Vn-Kr;var tn=.707106781*(Rn+zr);Ae[dt+2]=zr+tn,Ae[dt+6]=zr-tn;var In=.382683433*((Vn=Dn+Qt)-(Rn=Rt+pt)),Go=.5411961*Vn+In,Mn=1.306562965*Rn+In,eo=.707106781*(Kr=Qt+Rt),si=pt+eo,$t=pt-eo;Ae[dt+5]=$t+Go,Ae[dt+3]=$t-Go,Ae[dt+1]=si+Mn,Ae[dt+7]=si-Mn,dt+=8}for(dt=0,Ze=0;Ze<8;++Ze){Me=Ae[dt],Ie=Ae[dt+8],$e=Ae[dt+16],Ke=Ae[dt+24],qe=Ae[dt+32],it=Ae[dt+40],Be=Ae[dt+48];var qi=Me+(Qe=Ae[dt+56]),to=Me-Qe,ai=Ie+Be,xr=Ie-Be,kr=$e+it,$n=$e-it,us=Ke+qe,ds=Ke-qe,Eo=qi+us,Do=qi-us,Io=ai+kr,wi=ai-kr;Ae[dt]=Eo+Io,Ae[dt+32]=Eo-Io;var Vi=.707106781*(wi+Do);Ae[dt+16]=Do+Vi,Ae[dt+48]=Do-Vi;var To=.382683433*((Eo=ds+$n)-(wi=xr+to)),ca=.5411961*Eo+To,Ga=1.306562965*wi+To,uo=.707106781*(Io=$n+xr),Ya=to+uo,Ka=to-uo;Ae[dt+40]=Ka+ca,Ae[dt+24]=Ka-ca,Ae[dt+8]=Ya+Ga,Ae[dt+56]=Ya-Ga,dt++}for(Ze=0;Ze<64;++Ze)Ct=Ae[Ze]*Oe[Ze],k[Ze]=Ct>0?Ct+.5|0:Ct-.5|0;return k}(X,J),We=0;We<64;++We)x[N[We]]=Ye[We];var Je=x[0]-fe;fe=x[0],Je==0?ie(le[0]):(ie(le[y[Se=32767+Je]]),ie(v[Se]));for(var Ue=63;Ue>0&&x[Ue]==0;)Ue--;if(Ue==0)return ie(xe),fe;for(var Z,_e=1;_e<=Ue;){for(var he=_e;x[_e]==0&&_e<=Ue;)++_e;var be=_e-he;if(be>=16){Z=be>>4;for(var pe=1;pe<=Z;++pe)ie(Te);be&=15}Se=32767+x[_e],ie(ae[(be<<4)+y[Se]]),ie(v[Se]),_e++}return Ue!=63&&ie(xe),fe}function Ce(X){X=Math.min(Math.max(X,1),100),l!=X&&(function(J){for(var fe=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],le=0;le<64;le++){var ae=d((fe[le]*J+50)/100);ae=Math.min(Math.max(ae,1),255),h[N[le]]=ae}for(var Se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var Te=d((Se[xe]*J+50)/100);Te=Math.min(Math.max(Te,1),255),p[N[xe]]=Te}for(var Ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],We=0,Je=0;Je<8;Je++)for(var Ue=0;Ue<8;Ue++)g[We]=1/(h[N[We]]*Ye[Je]*Ye[Ue]*8),b[We]=1/(p[N[We]]*Ye[Je]*Ye[Ue]*8),We++}(X<50?Math.floor(5e3/X):Math.floor(200-2*X)),l=X)}this.encode=function(X,J){J&&Ce(J),C=new Array,D=0,S=7,ye(65496),ye(65504),ye(16),oe(74),oe(70),oe(73),oe(70),oe(0),oe(1),oe(1),oe(0),ye(1),ye(1),oe(0),oe(0),function(){ye(65499),ye(132),oe(0);for(var Ie=0;Ie<64;Ie++)oe(h[Ie]);oe(1);for(var $e=0;$e<64;$e++)oe(p[$e])}(),function(Ie,$e){ye(65472),ye(17),oe(8),ye($e),ye(Ie),oe(3),oe(1),oe(17),oe(0),oe(2),oe(17),oe(1),oe(3),oe(17),oe(1)}(X.width,X.height),function(){ye(65476),ye(418),oe(0);for(var Ie=0;Ie<16;Ie++)oe(L[Ie+1]);for(var $e=0;$e<=11;$e++)oe(U[$e]);oe(16);for(var Ke=0;Ke<16;Ke++)oe(Q[Ke+1]);for(var qe=0;qe<=161;qe++)oe(H[qe]);oe(1);for(var it=0;it<16;it++)oe(z[it+1]);for(var Be=0;Be<=11;Be++)oe(G[Be]);oe(17);for(var Qe=0;Qe<16;Qe++)oe(R[Qe+1]);for(var Ze=0;Ze<=161;Ze++)oe(ne[Ze])}(),ye(65498),ye(12),oe(3),oe(1),oe(0),oe(2),oe(17),oe(3),oe(17),oe(0),oe(63),oe(0);var fe=0,le=0,ae=0;D=0,S=7,this.encode.displayName="_encode_";for(var Se,xe,Te,Ye,We,Je,Ue,Z,_e,he=X.data,be=X.width,pe=X.height,Ae=4*be,Oe=0;Oe<pe;){for(Se=0;Se<Ae;){for(We=Ae*Oe+Se,Ue=-1,Z=0,_e=0;_e<64;_e++)Je=We+(Z=_e>>3)*Ae+(Ue=4*(7&_e)),Oe+Z>=pe&&(Je-=Ae*(Oe+1+Z-pe)),Se+Ue>=Ae&&(Je-=Se+Ue-Ae+4),xe=he[Je++],Te=he[Je++],Ye=he[Je++],M[_e]=(F[xe]+F[Te+256>>0]+F[Ye+512>>0]>>16)-128,P[_e]=(F[xe+768>>0]+F[Te+1024>>0]+F[Ye+1280>>0]>>16)-128,B[_e]=(F[xe+1280>>0]+F[Te+1536>>0]+F[Ye+1792>>0]>>16)-128;fe=re(M,g,fe,r,o),le=re(P,b,le,n,s),ae=re(B,b,ae,n,s),Se+=32}Oe+=8}if(S>=0){var Me=[];Me[1]=S+1,Me[0]=(1<<S+1)-1,ie(Me)}return ye(65497),new Uint8Array(C)},t=t||50,function(){for(var X=String.fromCharCode,J=0;J<256;J++)$[J]=X(J)}(),r=ue(L,U),n=ue(z,G),o=ue(Q,H),s=ue(R,ne),function(){for(var X=1,J=2,fe=1;fe<=15;fe++){for(var le=X;le<J;le++)y[32767+le]=fe,v[32767+le]=[],v[32767+le][1]=fe,v[32767+le][0]=le;for(var ae=-(J-1);ae<=-X;ae++)y[32767+ae]=fe,v[32767+ae]=[],v[32767+ae][1]=fe,v[32767+ae][0]=J-1+ae;X<<=1,J<<=1}}(),function(){for(var X=0;X<256;X++)F[X]=19595*X,F[X+256>>0]=38470*X,F[X+512>>0]=7471*X+32768,F[X+768>>0]=-11059*X,F[X+1024>>0]=-21709*X,F[X+1280>>0]=32768*X+8421375,F[X+1536>>0]=-27439*X,F[X+1792>>0]=-5329*X}(),Ce(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function hl(t,r){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function f6(t){function r(L){if(!L)throw Error("assert :P")}function n(L,U,Q){for(var H=0;4>H;H++)if(L[U+H]!=Q.charCodeAt(H))return!0;return!1}function o(L,U,Q,H,z){for(var G=0;G<z;G++)L[U+G]=Q[H+G]}function s(L,U,Q,H){for(var z=0;z<H;z++)L[U+z]=Q}function l(L){return new Int32Array(L)}function d(L,U){for(var Q=[],H=0;H<L;H++)Q.push(new U);return Q}function h(L,U){var Q=[];return function H(z,G,R){for(var ne=R[G],ue=0;ue<ne&&(z.push(R.length>G+1?[]:new U),!(R.length<G+1));ue++)H(z[ue],G+1,R)}(Q,0,L),Q}var p=function(){var L=this;function U(I,j){for(var W=1<<j-1>>>0;I&W;)W>>>=1;return W?(I&W-1)+W:I}function Q(I,j,W,te,ce){r(!(te%W));do I[j+(te-=W)]=ce;while(0<te)}function H(I,j,W,te,ce){if(r(2328>=ce),512>=ce)var me=l(512);else if((me=l(ce))==null)return 0;return function(ge,we,ve,De,ze,nt){var rt,Ge,wt=we,st=1<<ve,Fe=l(16),Ve=l(16);for(r(ze!=0),r(De!=null),r(ge!=null),r(0<ve),Ge=0;Ge<ze;++Ge){if(15<De[Ge])return 0;++Fe[De[Ge]]}if(Fe[0]==ze)return 0;for(Ve[1]=0,rt=1;15>rt;++rt){if(Fe[rt]>1<<rt)return 0;Ve[rt+1]=Ve[rt]+Fe[rt]}for(Ge=0;Ge<ze;++Ge)rt=De[Ge],0<De[Ge]&&(nt[Ve[rt]++]=Ge);if(Ve[15]==1)return(De=new z).g=0,De.value=nt[0],Q(ge,wt,1,st,De),st;var mt,vt=-1,gt=st-1,Bt=0,et=1,Zt=1,Ot=1<<ve;for(Ge=0,rt=1,ze=2;rt<=ve;++rt,ze<<=1){if(et+=Zt<<=1,0>(Zt-=Fe[rt]))return 0;for(;0<Fe[rt];--Fe[rt])(De=new z).g=rt,De.value=nt[Ge++],Q(ge,wt+Bt,ze,Ot,De),Bt=U(Bt,rt)}for(rt=ve+1,ze=2;15>=rt;++rt,ze<<=1){if(et+=Zt<<=1,0>(Zt-=Fe[rt]))return 0;for(;0<Fe[rt];--Fe[rt]){if(De=new z,(Bt&gt)!=vt){for(wt+=Ot,mt=1<<(vt=rt)-ve;15>vt&&!(0>=(mt-=Fe[vt]));)++vt,mt<<=1;st+=Ot=1<<(mt=vt-ve),ge[we+(vt=Bt&gt)].g=mt+ve,ge[we+vt].value=wt-we-vt}De.g=rt-ve,De.value=nt[Ge++],Q(ge,wt+(Bt>>ve),ze,Ot,De),Bt=U(Bt,rt)}}return et!=2*Ve[15]-1?0:st}(I,j,W,te,ce,me)}function z(){this.value=this.g=0}function G(){this.value=this.g=0}function R(){this.G=d(5,z),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(Ai,G)}function ne(I,j,W,te){r(I!=null),r(j!=null),r(2147483648>te),I.Ca=254,I.I=0,I.b=-8,I.Ka=0,I.oa=j,I.pa=W,I.Jd=j,I.Yc=W+te,I.Zc=4<=te?W+te-4+1:W,Se(I)}function ue(I,j){for(var W=0;0<j--;)W|=Te(I,128)<<j;return W}function ie(I,j){var W=ue(I,j);return xe(I)?-W:W}function oe(I,j,W,te){var ce,me=0;for(r(I!=null),r(j!=null),r(4294967288>te),I.Sb=te,I.Ra=0,I.u=0,I.h=0,4<te&&(te=4),ce=0;ce<te;++ce)me+=j[W+ce]<<8*ce;I.Ra=me,I.bb=te,I.oa=j,I.pa=W}function ye(I){for(;8<=I.u&&I.bb<I.Sb;)I.Ra>>>=8,I.Ra+=I.oa[I.pa+I.bb]<<Mu-8>>>0,++I.bb,I.u-=8;fe(I)&&(I.h=1,I.u=0)}function re(I,j){if(r(0<=j),!I.h&&j<=Nu){var W=J(I)&Tu[j];return I.u+=j,ye(I),W}return I.h=1,I.u=0}function Ce(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(I){return I.Ra>>>(I.u&Mu-1)>>>0}function fe(I){return r(I.bb<=I.Sb),I.h||I.bb==I.Sb&&I.u>Mu}function le(I,j){I.u=j,I.h=fe(I)}function ae(I){I.u>=Pu&&(r(I.u>=Pu),ye(I))}function Se(I){r(I!=null&&I.oa!=null),I.pa<I.Zc?(I.I=(I.oa[I.pa++]|I.I<<8)>>>0,I.b+=8):(r(I!=null&&I.oa!=null),I.pa<I.Yc?(I.b+=8,I.I=I.oa[I.pa++]|I.I<<8):I.Ka?I.b=0:(I.I<<=8,I.b+=8,I.Ka=1))}function xe(I){return ue(I,1)}function Te(I,j){var W=I.Ca;0>I.b&&Se(I);var te=I.b,ce=W*j>>>8,me=(I.I>>>te>ce)+0;for(me?(W-=ce,I.I-=ce+1<<te>>>0):W=ce+1,te=W,ce=0;256<=te;)ce+=8,te>>=8;return te=7^ce+fo[te],I.b-=te,I.Ca=(W<<te)-1,me}function Ye(I,j,W){I[j+0]=W>>24&255,I[j+1]=W>>16&255,I[j+2]=W>>8&255,I[j+3]=W>>0&255}function We(I,j){return I[j+0]<<0|I[j+1]<<8}function Je(I,j){return We(I,j)|I[j+2]<<16}function Ue(I,j){return We(I,j)|We(I,j+2)<<16}function Z(I,j){var W=1<<j;return r(I!=null),r(0<j),I.X=l(W),I.X==null?0:(I.Mb=32-j,I.Xa=j,1)}function _e(I,j){r(I!=null),r(j!=null),r(I.Xa==j.Xa),o(j.X,0,I.X,0,1<<j.Xa)}function he(){this.X=[],this.Xa=this.Mb=0}function be(I,j,W,te){r(W!=null),r(te!=null);var ce=W[0],me=te[0];return ce==0&&(ce=(I*me+j/2)/j),me==0&&(me=(j*ce+I/2)/I),0>=ce||0>=me?0:(W[0]=ce,te[0]=me,1)}function pe(I,j){return I+(1<<j)-1>>>j}function Ae(I,j){return((4278255360&I)+(4278255360&j)>>>0&4278255360)+((16711935&I)+(16711935&j)>>>0&16711935)>>>0}function Oe(I,j){L[j]=function(W,te,ce,me,ge,we,ve){var De;for(De=0;De<ge;++De){var ze=L[I](we[ve+De-1],ce,me+De);we[ve+De]=Ae(W[te+De],ze)}}}function Me(){this.ud=this.hd=this.jd=0}function Ie(I,j){return((4278124286&(I^j))>>>1)+(I&j)>>>0}function $e(I){return 0<=I&&256>I?I:0>I?0:255<I?255:void 0}function Ke(I,j){return $e(I+(I-j+.5>>1))}function qe(I,j,W){return Math.abs(j-W)-Math.abs(I-W)}function it(I,j,W,te,ce,me,ge){for(te=me[ge-1],W=0;W<ce;++W)me[ge+W]=te=Ae(I[j+W],te)}function Be(I,j,W,te,ce){var me;for(me=0;me<W;++me){var ge=I[j+me],we=ge>>8&255,ve=16711935&(ve=(ve=16711935&ge)+((we<<16)+we));te[ce+me]=(4278255360&ge)+ve>>>0}}function Qe(I,j){j.jd=I>>0&255,j.hd=I>>8&255,j.ud=I>>16&255}function Ze(I,j,W,te,ce,me){var ge;for(ge=0;ge<te;++ge){var we=j[W+ge],ve=we>>>8,De=we,ze=255&(ze=(ze=we>>>16)+((I.jd<<24>>24)*(ve<<24>>24)>>>5));De=255&(De=(De=De+((I.hd<<24>>24)*(ve<<24>>24)>>>5))+((I.ud<<24>>24)*(ze<<24>>24)>>>5)),ce[me+ge]=(4278255360&we)+(ze<<16)+De}}function Ct(I,j,W,te,ce){L[j]=function(me,ge,we,ve,De,ze,nt,rt,Ge){for(ve=nt;ve<rt;++ve)for(nt=0;nt<Ge;++nt)De[ze++]=ce(we[te(me[ge++])])},L[I]=function(me,ge,we,ve,De,ze,nt){var rt=8>>me.b,Ge=me.Ea,wt=me.K[0],st=me.w;if(8>rt)for(me=(1<<me.b)-1,st=(1<<rt)-1;ge<we;++ge){var Fe,Ve=0;for(Fe=0;Fe<Ge;++Fe)Fe&me||(Ve=te(ve[De++])),ze[nt++]=ce(wt[Ve&st]),Ve>>=rt}else L["VP8LMapColor"+W](ve,De,wt,st,ze,nt,ge,we,Ge)}}function dt(I,j,W,te,ce){for(W=j+W;j<W;){var me=I[j++];te[ce++]=me>>16&255,te[ce++]=me>>8&255,te[ce++]=me>>0&255}}function en(I,j,W,te,ce){for(W=j+W;j<W;){var me=I[j++];te[ce++]=me>>16&255,te[ce++]=me>>8&255,te[ce++]=me>>0&255,te[ce++]=me>>24&255}}function pt(I,j,W,te,ce){for(W=j+W;j<W;){var me=(ge=I[j++])>>16&240|ge>>12&15,ge=ge>>0&240|ge>>28&15;te[ce++]=me,te[ce++]=ge}}function Wt(I,j,W,te,ce){for(W=j+W;j<W;){var me=(ge=I[j++])>>16&248|ge>>13&7,ge=ge>>5&224|ge>>3&31;te[ce++]=me,te[ce++]=ge}}function Rt(I,j,W,te,ce){for(W=j+W;j<W;){var me=I[j++];te[ce++]=me>>0&255,te[ce++]=me>>8&255,te[ce++]=me>>16&255}}function zt(I,j,W,te,ce,me){if(me==0)for(W=j+W;j<W;)Ye(te,((me=I[j++])[0]>>24|me[1]>>8&65280|me[2]<<8&16711680|me[3]<<24)>>>0),ce+=32;else o(te,ce,I,j,W)}function Qt(I,j){L[j][0]=L[I+"0"],L[j][1]=L[I+"1"],L[j][2]=L[I+"2"],L[j][3]=L[I+"3"],L[j][4]=L[I+"4"],L[j][5]=L[I+"5"],L[j][6]=L[I+"6"],L[j][7]=L[I+"7"],L[j][8]=L[I+"8"],L[j][9]=L[I+"9"],L[j][10]=L[I+"10"],L[j][11]=L[I+"11"],L[j][12]=L[I+"12"],L[j][13]=L[I+"13"],L[j][14]=L[I+"0"],L[j][15]=L[I+"0"]}function bn(I){return I==sm||I==gf||I==Gd||I==bf}function Dn(){this.eb=[],this.size=this.A=this.fb=0}function Vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function zr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Dn,this.f.kb=new Vn,this.sd=null}function Kr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Rn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function tn(I){return alert("todo:WebPSamplerProcessPlane"),I.T}function In(I,j){var W=I.T,te=j.ba.f.RGBA,ce=te.eb,me=te.fb+I.ka*te.A,ge=ps[j.ba.S],we=I.y,ve=I.O,De=I.f,ze=I.N,nt=I.ea,rt=I.W,Ge=j.cc,wt=j.dc,st=j.Mc,Fe=j.Nc,Ve=I.ka,mt=I.ka+I.T,vt=I.U,gt=vt+1>>1;for(Ve==0?ge(we,ve,null,null,De,ze,nt,rt,De,ze,nt,rt,ce,me,null,null,vt):(ge(j.ec,j.fc,we,ve,Ge,wt,st,Fe,De,ze,nt,rt,ce,me-te.A,ce,me,vt),++W);Ve+2<mt;Ve+=2)Ge=De,wt=ze,st=nt,Fe=rt,ze+=I.Rc,rt+=I.Rc,me+=2*te.A,ge(we,(ve+=2*I.fa)-I.fa,we,ve,Ge,wt,st,Fe,De,ze,nt,rt,ce,me-te.A,ce,me,vt);return ve+=I.fa,I.j+mt<I.o?(o(j.ec,j.fc,we,ve,vt),o(j.cc,j.dc,De,ze,gt),o(j.Mc,j.Nc,nt,rt,gt),W--):1&mt||ge(we,ve,null,null,De,ze,nt,rt,De,ze,nt,rt,ce,me+te.A,null,null,vt),W}function Go(I,j,W){var te=I.F,ce=[I.J];if(te!=null){var me=I.U,ge=j.ba.S,we=ge==Wd||ge==Gd;j=j.ba.f.RGBA;var ve=[0],De=I.ka;ve[0]=I.T,I.Kb&&(De==0?--ve[0]:(--De,ce[0]-=I.width),I.j+I.ka+I.T==I.o&&(ve[0]=I.o-I.j-De));var ze=j.eb;De=j.fb+De*j.A,I=er(te,ce[0],I.width,me,ve,ze,De+(we?0:3),j.A),r(W==ve),I&&bn(ge)&&Xo(ze,De,we,me,ve,j.A)}return 0}function Mn(I){var j=I.ma,W=j.ba.S,te=11>W,ce=W==Vd||W==Hd||W==Wd||W==mf||W==12||bn(W);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!Fd(j.Oa,I,ce?11:12))return 0;if(ce&&bn(W)&&_t(),I.da)alert("todo:use_scaling");else{if(te){if(j.Ib=tn,I.Kb){if(W=I.U+1>>1,j.memory=l(I.U+2*W),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+I.U,j.Mc=j.cc,j.Nc=j.dc+W,j.Ib=In,_t()}}else alert("todo:EmitYUV");ce&&(j.Jb=Go,te&&Xe())}if(te&&!Bb){for(I=0;256>I;++I)zs[I]=89858*(I-128)+Lu>>Yd,po[I]=-22014*(I-128)+Lu,Ri[I]=-45773*(I-128),Bi[I]=113618*(I-128)+Lu>>Yd;for(I=Kd;I<dm;++I)j=76283*(I-16)+Lu>>Yd,_a[I-Kd]=Ko(j,255),hm[I-Kd]=Ko(j+8>>4,15);Bb=1}return 1}function eo(I){var j=I.ma,W=I.U,te=I.T;return r(!(1&I.ka)),0>=W||0>=te?0:(W=j.Ib(I,j),j.Jb!=null&&j.Jb(I,j,W),j.Dc+=W,1)}function si(I){I.ma.memory=null}function $t(I,j,W,te){return re(I,8)!=47?0:(j[0]=re(I,14)+1,W[0]=re(I,14)+1,te[0]=re(I,1),re(I,3)!=0?0:!I.h)}function qi(I,j){if(4>I)return I+1;var W=I-2>>1;return(2+(1&I)<<W)+re(j,W)+1}function to(I,j){return 120<j?j-120:1<=(W=((W=Lw[j-1])>>4)*I+(8-(15&W)))?W:1;var W}function ai(I,j,W){var te=J(W),ce=I[j+=255&te].g-8;return 0<ce&&(le(W,W.u+8),te=J(W),j+=I[j].value,j+=te&(1<<ce)-1),le(W,W.u+I[j].g),I[j].value}function xr(I,j,W){return W.g+=I.g,W.value+=I.value<<j>>>0,r(8>=W.g),I.g}function kr(I,j,W){var te=I.xc;return r((j=te==0?0:I.vc[I.md*(W>>te)+(j>>te)])<I.Wb),I.Ya[j]}function $n(I,j,W,te){var ce=I.ab,me=I.c*j,ge=I.C;j=ge+j;var we=W,ve=te;for(te=I.Ta,W=I.Ua;0<ce--;){var De=I.gc[ce],ze=ge,nt=j,rt=we,Ge=ve,wt=(ve=te,we=W,De.Ea);switch(r(ze<nt),r(nt<=De.nc),De.hc){case 2:hf(rt,Ge,(nt-ze)*wt,ve,we);break;case 0:var st=ze,Fe=nt,Ve=ve,mt=we,vt=(Ot=De).Ea;st==0&&(om(rt,Ge,null,null,1,Ve,mt),it(rt,Ge+1,0,0,vt-1,Ve,mt+1),Ge+=vt,mt+=vt,++st);for(var gt=1<<Ot.b,Bt=gt-1,et=pe(vt,Ot.b),Zt=Ot.K,Ot=Ot.w+(st>>Ot.b)*et;st<Fe;){var Nt=Zt,zn=Ot,On=1;for(Ou(rt,Ge,Ve,mt-vt,1,Ve,mt);On<vt;){var Sn=(On&~Bt)+gt;Sn>vt&&(Sn=vt),(0,tl[Nt[zn++]>>8&15])(rt,Ge+ +On,Ve,mt+On-vt,Sn-On,Ve,mt+On),On=Sn}Ge+=vt,mt+=vt,++st&Bt||(Ot+=et)}nt!=De.nc&&o(ve,we-wt,ve,we+(nt-ze-1)*wt,wt);break;case 1:for(wt=rt,Fe=Ge,vt=(rt=De.Ea)-(mt=rt&~(Ve=(Ge=1<<De.b)-1)),st=pe(rt,De.b),gt=De.K,De=De.w+(ze>>De.b)*st;ze<nt;){for(Bt=gt,et=De,Zt=new Me,Ot=Fe+mt,Nt=Fe+rt;Fe<Ot;)Qe(Bt[et++],Zt),Bc(Zt,wt,Fe,Ge,ve,we),Fe+=Ge,we+=Ge;Fe<Nt&&(Qe(Bt[et++],Zt),Bc(Zt,wt,Fe,vt,ve,we),Fe+=vt,we+=vt),++ze&Ve||(De+=st)}break;case 3:if(rt==ve&&Ge==we&&0<De.b){for(Fe=ve,rt=wt=we+(nt-ze)*wt-(mt=(nt-ze)*pe(De.Ea,De.b)),Ge=ve,Ve=we,st=[],mt=(vt=mt)-1;0<=mt;--mt)st[mt]=Ge[Ve+mt];for(mt=vt-1;0<=mt;--mt)Fe[rt+mt]=st[mt];Qo(De,ze,nt,ve,wt,ve,we)}else Qo(De,ze,nt,rt,Ge,ve,we)}we=te,ve=W}ve!=W&&o(te,W,we,ve,me)}function us(I,j){var W=I.V,te=I.Ba+I.c*I.C,ce=j-I.C;if(r(j<=I.l.o),r(16>=ce),0<ce){var me=I.l,ge=I.Ta,we=I.Ua,ve=me.width;if($n(I,ce,W,te),ce=we=[we],r((W=I.C)<(te=j)),r(me.v<me.va),te>me.o&&(te=me.o),W<me.j){var De=me.j-W;W=me.j,ce[0]+=De*ve}if(W>=te?W=0:(ce[0]+=4*me.v,me.ka=W-me.j,me.U=me.va-me.v,me.T=te-W,W=1),W){if(we=we[0],11>(W=I.ca).S){var ze=W.f.RGBA,nt=(te=W.S,ce=me.U,me=me.T,De=ze.eb,ze.A),rt=me;for(ze=ze.fb+I.Ma*ze.A;0<rt--;){var Ge=ge,wt=we,st=ce,Fe=De,Ve=ze;switch(te){case Aa:Mo(Ge,wt,st,Fe,Ve);break;case Vd:ro(Ge,wt,st,Fe,Ve);break;case sm:ro(Ge,wt,st,Fe,Ve),Xo(Fe,Ve,0,st,1,0);break;case $d:ka(Ge,wt,st,Fe,Ve);break;case Hd:zt(Ge,wt,st,Fe,Ve,1);break;case gf:zt(Ge,wt,st,Fe,Ve,1),Xo(Fe,Ve,0,st,1,0);break;case Wd:zt(Ge,wt,st,Fe,Ve,0);break;case Gd:zt(Ge,wt,st,Fe,Ve,0),Xo(Fe,Ve,1,st,1,0);break;case mf:Pl(Ge,wt,st,Fe,Ve);break;case bf:Pl(Ge,wt,st,Fe,Ve),Ut(Fe,Ve,st,1,0);break;case xb:ba(Ge,wt,st,Fe,Ve);break;default:r(0)}we+=ve,ze+=nt}I.Ma+=me}else alert("todo:EmitRescaledRowsYUVA");r(I.Ma<=W.height)}}I.C=j,r(I.C<=I.i)}function ds(I){var j;if(0<I.ua)return 0;for(j=0;j<I.Wb;++j){var W=I.Ya[j].G,te=I.Ya[j].H;if(0<W[1][te[1]+0].g||0<W[2][te[2]+0].g||0<W[3][te[3]+0].g)return 0}return 1}function Eo(I,j,W,te,ce,me){if(I.Z!=0){var ge=I.qd,we=I.rd;for(r(il[I.Z]!=null);j<W;++j)il[I.Z](ge,we,te,ce,te,ce,me),ge=te,we=ce,ce+=me;I.qd=ge,I.rd=we}}function Do(I,j){var W=I.l.ma,te=W.Z==0||W.Z==1?I.l.j:I.C;if(te=I.C<te?te:I.C,r(j<=I.l.o),j>te){var ce=I.l.width,me=W.ca,ge=W.tb+ce*te,we=I.V,ve=I.Ba+I.c*te,De=I.gc;r(I.ab==1),r(De[0].hc==3),Ud(De[0],te,j,we,ve,me,ge),Eo(W,te,j,me,ge,ce)}I.C=I.Ma=j}function Io(I,j,W,te,ce,me,ge){var we=I.$/te,ve=I.$%te,De=I.m,ze=I.s,nt=W+I.$,rt=nt;ce=W+te*ce;var Ge=W+te*me,wt=280+ze.ua,st=I.Pb?we:16777216,Fe=0<ze.ua?ze.Wa:null,Ve=ze.wc,mt=nt<Ge?kr(ze,ve,we):null;r(I.C<me),r(Ge<=ce);var vt=!1;e:for(;;){for(;vt||nt<Ge;){var gt=0;if(we>=st){var Bt=nt-W;r((st=I).Pb),st.wd=st.m,st.xd=Bt,0<st.s.ua&&_e(st.s.Wa,st.s.vb),st=we+Pn}if(ve&Ve||(mt=kr(ze,ve,we)),r(mt!=null),mt.Qb&&(j[nt]=mt.qb,vt=!0),!vt)if(ae(De),mt.jc){gt=De,Bt=j;var et=nt,Zt=mt.pd[J(gt)&Ai-1];r(mt.jc),256>Zt.g?(le(gt,gt.u+Zt.g),Bt[et]=Zt.value,gt=0):(le(gt,gt.u+Zt.g-256),r(256<=Zt.value),gt=Zt.value),gt==0&&(vt=!0)}else gt=ai(mt.G[0],mt.H[0],De);if(De.h)break;if(vt||256>gt){if(!vt)if(mt.nd)j[nt]=(mt.qb|gt<<8)>>>0;else{if(ae(De),vt=ai(mt.G[1],mt.H[1],De),ae(De),Bt=ai(mt.G[2],mt.H[2],De),et=ai(mt.G[3],mt.H[3],De),De.h)break;j[nt]=(et<<24|vt<<16|gt<<8|Bt)>>>0}if(vt=!1,++nt,++ve>=te&&(ve=0,++we,ge!=null&&we<=me&&!(we%16)&&ge(I,we),Fe!=null))for(;rt<nt;)gt=j[rt++],Fe.X[(506832829*gt&4294967295)>>>Fe.Mb]=gt}else if(280>gt){if(gt=qi(gt-256,De),Bt=ai(mt.G[4],mt.H[4],De),ae(De),Bt=to(te,Bt=qi(Bt,De)),De.h)break;if(nt-W<Bt||ce-nt<gt)break e;for(et=0;et<gt;++et)j[nt+et]=j[nt+et-Bt];for(nt+=gt,ve+=gt;ve>=te;)ve-=te,++we,ge!=null&&we<=me&&!(we%16)&&ge(I,we);if(r(nt<=ce),ve&Ve&&(mt=kr(ze,ve,we)),Fe!=null)for(;rt<nt;)gt=j[rt++],Fe.X[(506832829*gt&4294967295)>>>Fe.Mb]=gt}else{if(!(gt<wt))break e;for(vt=gt-280,r(Fe!=null);rt<nt;)gt=j[rt++],Fe.X[(506832829*gt&4294967295)>>>Fe.Mb]=gt;gt=nt,r(!(vt>>>(Bt=Fe).Xa)),j[gt]=Bt.X[vt],vt=!0}vt||r(De.h==fe(De))}if(I.Pb&&De.h&&nt<ce)r(I.m.h),I.a=5,I.m=I.wd,I.$=I.xd,0<I.s.ua&&_e(I.s.vb,I.s.Wa);else{if(De.h)break e;ge!=null&&ge(I,we>me?me:we),I.a=0,I.$=nt-W}return 1}return I.a=3,0}function wi(I){r(I!=null),I.vc=null,I.yc=null,I.Ya=null;var j=I.Wa;j!=null&&(j.X=null),I.vb=null,r(I!=null)}function Vi(){var I=new uf;return I==null?null:(I.a=0,I.xb=Mb,Qt("Predictor","VP8LPredictors"),Qt("Predictor","VP8LPredictors_C"),Qt("PredictorAdd","VP8LPredictorsAdd"),Qt("PredictorAdd","VP8LPredictorsAdd_C"),hf=Be,Bc=Ze,Mo=dt,ro=en,Pl=pt,ba=Wt,ka=Rt,L.VP8LMapColor32b=ju,L.VP8LMapColor8b=ff,I)}function To(I,j,W,te,ce){var me=1,ge=[I],we=[j],ve=te.m,De=te.s,ze=null,nt=0;e:for(;;){if(W)for(;me&&re(ve,1);){var rt=ge,Ge=we,wt=te,st=1,Fe=wt.m,Ve=wt.gc[wt.ab],mt=re(Fe,2);if(wt.Oc&1<<mt)me=0;else{switch(wt.Oc|=1<<mt,Ve.hc=mt,Ve.Ea=rt[0],Ve.nc=Ge[0],Ve.K=[null],++wt.ab,r(4>=wt.ab),mt){case 0:case 1:Ve.b=re(Fe,3)+2,st=To(pe(Ve.Ea,Ve.b),pe(Ve.nc,Ve.b),0,wt,Ve.K),Ve.K=Ve.K[0];break;case 3:var vt,gt=re(Fe,8)+1,Bt=16<gt?0:4<gt?1:2<gt?2:3;if(rt[0]=pe(Ve.Ea,Bt),Ve.b=Bt,vt=st=To(gt,1,0,wt,Ve.K)){var et,Zt=gt,Ot=Ve,Nt=1<<(8>>Ot.b),zn=l(Nt);if(zn==null)vt=0;else{var On=Ot.K[0],Sn=Ot.w;for(zn[0]=Ot.K[0][0],et=1;et<1*Zt;++et)zn[et]=Ae(On[Sn+et],zn[et-1]);for(;et<4*Nt;++et)zn[et]=0;Ot.K[0]=null,Ot.K[0]=zn,vt=1}}st=vt;break;case 2:break;default:r(0)}me=st}}if(ge=ge[0],we=we[0],me&&re(ve,1)&&!(me=1<=(nt=re(ve,4))&&11>=nt)){te.a=3;break e}var ur;if(ur=me)t:{var ct,kn,Ht,mo=te,Xr=ge,go=we,Jn=nt,ts=W,ns=mo.m,Ci=mo.s,li=[null],bo=1,rs=0,Ca=Ib[Jn];n:for(;;){if(ts&&re(ns,1)){var ei=re(ns,3)+2,xa=pe(Xr,ei),ql=pe(go,ei),Ru=xa*ql;if(!To(xa,ql,0,mo,li))break n;for(li=li[0],Ci.xc=ei,ct=0;ct<Ru;++ct){var Vl=li[ct]>>8&65535;li[ct]=Vl,Vl>=bo&&(bo=Vl+1)}}if(ns.h)break n;for(kn=0;5>kn;++kn){var Vr=Eb[kn];!kn&&0<Jn&&(Vr+=1<<Jn),rs<Vr&&(rs=Vr)}var Qd=d(bo*Ca,z),fm=bo,Fb=d(fm,R);if(Fb==null)var Sa=null;else r(65536>=fm),Sa=Fb;var Fu=l(rs);if(Sa==null||Fu==null||Qd==null){mo.a=1;break n}var Ea=Qd;for(ct=Ht=0;ct<bo;++ct){var En=Sa[ct],ko=En.G,wo=En.H,pm=0,zu=1,Jd=0;for(kn=0;5>kn;++kn){Vr=Eb[kn],ko[kn]=Ea,wo[kn]=Ht,!kn&&0<Jn&&(Vr+=1<<Jn);i:{var yf,mm=Vr,Uu=mo,Vc=Fu,Vw=Ea,$w=Ht,gm=0,$l=Uu.m,Hw=re($l,1);if(s(Vc,0,0,mm),Hw){var Ww=re($l,1)+1,Gw=re($l,1),bm=re($l,Gw==0?1:8);Vc[bm]=1,Ww==2&&(Vc[bm=re($l,8)]=1);var Zd=1}else{var zb=l(19),vf=re($l,4)+4;if(19<vf){Uu.a=3;var $c=0;break i}for(yf=0;yf<vf;++yf)zb[jw[yf]]=re($l,3);var km=void 0,Da=void 0,Af=Uu,Ub=zb,_f=mm,qb=Vc,wm=0,ms=Af.m,Vb=8,$b=d(128,z);r:for(;H($b,0,7,Ub,19);){if(re(ms,1)){var ym=2+2*re(ms,3);if((km=2+re(ms,ym))>_f)break r}else km=_f;for(Da=0;Da<_f&&km--;){ae(ms);var Hb=$b[0+(127&J(ms))];le(ms,ms.u+Hb.g);var Hl=Hb.value;if(16>Hl)qb[Da++]=Hl,Hl!=0&&(Vb=Hl);else{var vm=Hl==16,Oo=Hl-16,Wb=am[Oo],qu=re(ms,Sb[Oo])+Wb;if(Da+qu>_f)break r;for(var Yw=vm?Vb:0;0<qu--;)qb[Da++]=Yw}}wm=1;break r}wm||(Af.a=3),Zd=wm}(Zd=Zd&&!$l.h)&&(gm=H(Vw,$w,8,Vc,mm)),Zd&&gm!=0?$c=gm:(Uu.a=3,$c=0)}if($c==0)break n;if(zu&&Db[kn]==1&&(zu=Ea[Ht].g==0),pm+=Ea[Ht].g,Ht+=$c,3>=kn){var Wl,Cf=Fu[0];for(Wl=1;Wl<Vr;++Wl)Fu[Wl]>Cf&&(Cf=Fu[Wl]);Jd+=Cf}}if(En.nd=zu,En.Qb=0,zu&&(En.qb=(ko[3][wo[3]+0].value<<24|ko[1][wo[1]+0].value<<16|ko[2][wo[2]+0].value)>>>0,pm==0&&256>ko[0][wo[0]+0].value&&(En.Qb=1,En.qb+=ko[0][wo[0]+0].value<<8)),En.jc=!En.Qb&&6>Jd,En.jc){var Xd,yo=En;for(Xd=0;Xd<Ai;++Xd){var Dt=Xd,Kt=yo.pd[Dt],Hc=yo.G[0][yo.H[0]+Dt];256<=Hc.value?(Kt.g=Hc.g+256,Kt.value=Hc.value):(Kt.g=0,Kt.value=0,Dt>>=xr(Hc,8,Kt),Dt>>=xr(yo.G[1][yo.H[1]+Dt],16,Kt),Dt>>=xr(yo.G[2][yo.H[2]+Dt],0,Kt),xr(yo.G[3][yo.H[3]+Dt],24,Kt))}}}Ci.vc=li,Ci.Wb=bo,Ci.Ya=Sa,Ci.yc=Qd,ur=1;break t}ur=0}if(!(me=ur)){te.a=3;break e}if(0<nt){if(De.ua=1<<nt,!Z(De.Wa,nt)){te.a=1,me=0;break e}}else De.ua=0;var is=te,xf=ge,Vu=we,eh=is.s,th=eh.xc;if(is.c=xf,is.i=Vu,eh.md=pe(xf,th),eh.wc=th==0?-1:(1<<th)-1,W){te.xb=Ul;break e}if((ze=l(ge*we))==null){te.a=1,me=0;break e}me=(me=Io(te,ze,0,ge,we,we,null))&&!ve.h;break e}return me?(ce!=null?ce[0]=ze:(r(ze==null),r(W)),te.$=0,W||wi(De)):wi(De),me}function ca(I,j){var W=I.c*I.i,te=W+j+16*j;return r(I.c<=j),I.V=l(te),I.V==null?(I.Ta=null,I.Ua=0,I.a=1,0):(I.Ta=I.V,I.Ua=I.Ba+W+j,1)}function Ga(I,j){var W=I.C,te=j-W,ce=I.V,me=I.Ba+I.c*W;for(r(j<=I.l.o);0<te;){var ge=16<te?16:te,we=I.l.ma,ve=I.l.width,De=ve*ge,ze=we.ca,nt=we.tb+ve*W,rt=I.Ta,Ge=I.Ua;$n(I,ge,ce,me),qr(rt,Ge,ze,nt,De),Eo(we,W,W+ge,ze,nt,ve),te-=ge,ce+=ge*I.c,W+=ge}r(W==j),I.C=I.Ma=j}function uo(){this.ub=this.yd=this.td=this.Rb=0}function Ya(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ka(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function Ec(){this.Yb=function(){var I=[];return function j(W,te,ce){for(var me=ce[te],ge=0;ge<me&&(W.push(ce.length>te+1?[]:0),!(ce.length<te+1));ge++)j(W[ge],te+1,ce)}(I,0,[3,11]),I}()}function yt(){this.jb=l(3),this.Wc=h([4,8],Ec),this.Xc=h([4,17],Ec)}function xt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function St(){this.ld=this.La=this.dd=this.tc=0}function Gt(){this.Na=this.la=0}function Vt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function un(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Fn(){this.uc=this.M=this.Nb=0,this.wa=Array(new St),this.Y=0,this.ya=Array(new un),this.aa=0,this.l=new $i}function cr(){this.y=l(16),this.f=l(8),this.ea=l(8)}function Ur(){this.cb=this.a=0,this.sc="",this.m=new Ce,this.Od=new uo,this.Kc=new Ya,this.ed=new xt,this.Qa=new Ka,this.Ic=this.$c=this.Aa=0,this.D=new Fn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,Ce),this.ia=0,this.pb=d(4,Vt),this.Pa=new yt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new cr),this.Hd=0,this.rb=Array(new Gt),this.sb=0,this.wa=Array(new St),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new un),this.L=this.aa=0,this.gd=h([4,2],St),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $i(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Qa(){var I=new Ur;return I!=null&&(I.a=0,I.sc="OK",I.cb=0,I.Xb=0,nl||(nl=Ic)),I}function Qn(I,j,W){return I.a==0&&(I.a=j,I.sc=W,I.cb=0),0}function Yo(I,j,W){return 3<=W&&I[j+0]==157&&I[j+1]==1&&I[j+2]==42}function Dc(I,j){if(I==null)return 0;if(I.a=0,I.sc="OK",j==null)return Qn(I,2,"null VP8Io passed to VP8GetHeaders()");var W=j.data,te=j.w,ce=j.ha;if(4>ce)return Qn(I,7,"Truncated header.");var me=W[te+0]|W[te+1]<<8|W[te+2]<<16,ge=I.Od;if(ge.Rb=!(1&me),ge.td=me>>1&7,ge.yd=me>>4&1,ge.ub=me>>5,3<ge.td)return Qn(I,3,"Incorrect keyframe parameters.");if(!ge.yd)return Qn(I,4,"Frame not displayable.");te+=3,ce-=3;var we=I.Kc;if(ge.Rb){if(7>ce)return Qn(I,7,"cannot parse picture header");if(!Yo(W,te,ce))return Qn(I,3,"Bad code word");we.c=16383&(W[te+4]<<8|W[te+3]),we.Td=W[te+4]>>6,we.i=16383&(W[te+6]<<8|W[te+5]),we.Ud=W[te+6]>>6,te+=7,ce-=7,I.za=we.c+15>>4,I.Ub=we.i+15>>4,j.width=we.c,j.height=we.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,s((me=I.Pa).jb,0,255,me.jb.length),r((me=I.Qa)!=null),me.Cb=0,me.Bb=0,me.Fb=1,s(me.Zb,0,0,me.Zb.length),s(me.Lb,0,0,me.Lb)}if(ge.ub>ce)return Qn(I,7,"bad partition length");ne(me=I.m,W,te,ge.ub),te+=ge.ub,ce-=ge.ub,ge.Rb&&(we.Ld=xe(me),we.Kd=xe(me)),we=I.Qa;var ve,De=I.Pa;if(r(me!=null),r(we!=null),we.Cb=xe(me),we.Cb){if(we.Bb=xe(me),xe(me)){for(we.Fb=xe(me),ve=0;4>ve;++ve)we.Zb[ve]=xe(me)?ie(me,7):0;for(ve=0;4>ve;++ve)we.Lb[ve]=xe(me)?ie(me,6):0}if(we.Bb)for(ve=0;3>ve;++ve)De.jb[ve]=xe(me)?ue(me,8):255}else we.Bb=0;if(me.Ka)return Qn(I,3,"cannot parse segment header");if((we=I.ed).zd=xe(me),we.Tb=ue(me,6),we.wb=ue(me,3),we.Pc=xe(me),we.Pc&&xe(me)){for(De=0;4>De;++De)xe(me)&&(we.vd[De]=ie(me,6));for(De=0;4>De;++De)xe(me)&&(we.od[De]=ie(me,6))}if(I.L=we.Tb==0?0:we.zd?1:2,me.Ka)return Qn(I,3,"cannot parse filter header");var ze=ce;if(ce=ve=te,te=ve+ze,we=ze,I.Xb=(1<<ue(I.m,2))-1,ze<3*(De=I.Xb))W=7;else{for(ve+=3*De,we-=3*De,ze=0;ze<De;++ze){var nt=W[ce+0]|W[ce+1]<<8|W[ce+2]<<16;nt>we&&(nt=we),ne(I.Jc[+ze],W,ve,nt),ve+=nt,we-=nt,ce+=3}ne(I.Jc[+De],W,ve,we),W=ve<te?0:5}if(W!=0)return Qn(I,W,"cannot parse partitions");for(W=ue(ve=I.m,7),ce=xe(ve)?ie(ve,4):0,te=xe(ve)?ie(ve,4):0,we=xe(ve)?ie(ve,4):0,De=xe(ve)?ie(ve,4):0,ve=xe(ve)?ie(ve,4):0,ze=I.Qa,nt=0;4>nt;++nt){if(ze.Cb){var rt=ze.Zb[nt];ze.Fb||(rt+=W)}else{if(0<nt){I.pb[nt]=I.pb[0];continue}rt=W}var Ge=I.pb[nt];Ge.Sc[0]=lm[Ko(rt+ce,127)],Ge.Sc[1]=Fl[Ko(rt+0,127)],Ge.Eb[0]=2*lm[Ko(rt+te,127)],Ge.Eb[1]=101581*Fl[Ko(rt+we,127)]>>16,8>Ge.Eb[1]&&(Ge.Eb[1]=8),Ge.Qc[0]=lm[Ko(rt+De,117)],Ge.Qc[1]=Fl[Ko(rt+ve,127)],Ge.lc=rt+ve}if(!ge.Rb)return Qn(I,4,"Not a key frame.");for(xe(me),ge=I.Pa,W=0;4>W;++W){for(ce=0;8>ce;++ce)for(te=0;3>te;++te)for(we=0;11>we;++we)De=Te(me,Bw[W][ce][te][we])?ue(me,8):um[W][ce][te][we],ge.Wc[W][ce].Yb[te][we]=De;for(ce=0;17>ce;++ce)ge.Xc[W][ce]=ge.Wc[W][Nb[ce]]}return I.kc=xe(me),I.kc&&(I.Bd=ue(me,8)),I.cb=1}function Ic(I,j,W,te,ce,me,ge){var we=j[ce].Yb[W];for(W=0;16>ce;++ce){if(!Te(I,we[W+0]))return ce;for(;!Te(I,we[W+1]);)if(we=j[++ce].Yb[0],W=0,ce==16)return 16;var ve=j[ce+1].Yb;if(Te(I,we[W+2])){var De=I,ze=0;if(Te(De,(rt=we)[(nt=W)+3]))if(Te(De,rt[nt+6])){for(we=0,nt=2*(ze=Te(De,rt[nt+8]))+(rt=Te(De,rt[nt+9+ze])),ze=0,rt=kf[nt];rt[we];++we)ze+=ze+Te(De,rt[we]);ze+=3+(8<<nt)}else Te(De,rt[nt+7])?(ze=7+2*Te(De,165),ze+=Te(De,145)):ze=5+Te(De,159);else ze=Te(De,rt[nt+4])?3+Te(De,rt[nt+5]):2;we=ve[2]}else ze=1,we=ve[1];ve=ge+cm[ce],0>(De=I).b&&Se(De);var nt,rt=De.b,Ge=(nt=De.Ca>>1)-(De.I>>rt)>>31;--De.b,De.Ca+=Ge,De.Ca|=1,De.I-=(nt+1&Ge)<<rt,me[ve]=((ze^Ge)-Ge)*te[(0<ce)+0]}return 16}function ho(I){var j=I.rb[I.sb-1];j.la=0,j.Na=0,s(I.zc,0,0,I.zc.length),I.ja=0}function Sl(I,j){if(I==null)return 0;if(j==null)return Qn(I,2,"NULL VP8Io parameter in VP8Decode().");if(!I.cb&&!Dc(I,j))return 0;if(r(I.cb),j.ac==null||j.ac(j)){j.ob&&(I.L=0);var W=Bu[I.L];if(I.L==2?(I.yb=0,I.zb=0):(I.yb=j.v-W>>4,I.zb=j.j-W>>4,0>I.yb&&(I.yb=0),0>I.zb&&(I.zb=0)),I.Va=j.o+15+W>>4,I.Hb=j.va+15+W>>4,I.Hb>I.za&&(I.Hb=I.za),I.Va>I.Ub&&(I.Va=I.Ub),0<I.L){var te=I.ed;for(W=0;4>W;++W){var ce;if(I.Qa.Cb){var me=I.Qa.Lb[W];I.Qa.Fb||(me+=te.Tb)}else me=te.Tb;for(ce=0;1>=ce;++ce){var ge=I.gd[W][ce],we=me;if(te.Pc&&(we+=te.vd[0],ce&&(we+=te.od[0])),0<(we=0>we?0:63<we?63:we)){var ve=we;0<te.wb&&(ve=4<te.wb?ve>>2:ve>>1)>9-te.wb&&(ve=9-te.wb),1>ve&&(ve=1),ge.dd=ve,ge.tc=2*we+ve,ge.ld=40<=we?2:15<=we?1:0}else ge.tc=0;ge.La=ce}}}W=0}else Qn(I,6,"Frame setup failed"),W=I.a;if(W=W==0){if(W){I.$c=0,0<I.Aa||(I.Ic=Rb);e:{W=I.Ic,te=4*(ve=I.za);var De=32*ve,ze=ve+1,nt=0<I.L?ve*(0<I.Aa?2:1):0,rt=(I.Aa==2?2:1)*ve;if((ge=te+832+(ce=3*(16*W+Bu[I.L])/2*De)+(me=I.Fa!=null&&0<I.Fa.length?I.Kc.c*I.Kc.i:0))!=ge)W=0;else{if(ge>I.Vb){if(I.Vb=0,I.Ec=l(ge),I.Fc=0,I.Ec==null){W=Qn(I,1,"no memory during frame initialization.");break e}I.Vb=ge}ge=I.Ec,we=I.Fc,I.Ac=ge,I.Bc=we,we+=te,I.Gd=d(De,cr),I.Hd=0,I.rb=d(ze+1,Gt),I.sb=1,I.wa=nt?d(nt,St):null,I.Y=0,I.D.Nb=0,I.D.wa=I.wa,I.D.Y=I.Y,0<I.Aa&&(I.D.Y+=ve),r(!0),I.oc=ge,I.pc=we,we+=832,I.ya=d(rt,un),I.aa=0,I.D.ya=I.ya,I.D.aa=I.aa,I.Aa==2&&(I.D.aa+=ve),I.R=16*ve,I.B=8*ve,ve=(De=Bu[I.L])*I.R,De=De/2*I.B,I.sa=ge,I.ta=we+ve,I.qa=I.sa,I.ra=I.ta+16*W*I.R+De,I.Ha=I.qa,I.Ia=I.ra+8*W*I.B+De,I.$c=0,we+=ce,I.mb=me?ge:null,I.nb=me?we:null,r(we+me<=I.Fc+I.Vb),ho(I),s(I.Ac,I.Bc,0,te),W=1}}if(W){if(j.ka=0,j.y=I.sa,j.O=I.ta,j.f=I.qa,j.N=I.ra,j.ea=I.Ha,j.Vd=I.Ia,j.fa=I.R,j.Rc=I.B,j.F=null,j.J=0,!qd){for(W=-255;255>=W;++W)Zr[255+W]=0>W?-W:W;for(W=-1020;1020>=W;++W)ya[1020+W]=-128>W?-128:127<W?127:W;for(W=-112;112>=W;++W)Sr[112+W]=-16>W?-16:15<W?15:W;for(W=-255;510>=W;++W)va[255+W]=0>W?0:255<W?255:W;qd=1}Rc=Zp,jn=Jp,Fc=of,Jr=El,Jo=Tc,jr=rf,zc=Nl,pf=Ls,fs=im,wa=Ld,Ol=rm,_i=xu,Uc=pa,qc=cf,jl=jd,or=fa,Ll=Os,Zo=nm,Fs[0]=da,Fs[1]=Dl,Fs[2]=em,Fs[3]=Au,Fs[4]=Nd,Fs[5]=Nc,Fs[6]=Md,Fs[7]=Xa,Fs[8]=_u,Fs[9]=tm,zl[0]=Za,zl[1]=yu,zl[2]=hs,zl[3]=vu,zl[4]=no,zl[5]=sf,zl[6]=Td,rl[0]=ha,rl[1]=Xp,rl[2]=Pd,rl[3]=Xn,rl[4]=Ms,rl[5]=af,rl[6]=Pc,W=1}else W=0}W&&(W=function(Ge,wt){for(Ge.M=0;Ge.M<Ge.Va;++Ge.M){var st,Fe=Ge.Jc[Ge.M&Ge.Xb],Ve=Ge.m,mt=Ge;for(st=0;st<mt.za;++st){var vt=Ve,gt=mt,Bt=gt.Ac,et=gt.Bc+4*st,Zt=gt.zc,Ot=gt.ya[gt.aa+st];if(gt.Qa.Bb?Ot.$b=Te(vt,gt.Pa.jb[0])?2+Te(vt,gt.Pa.jb[2]):Te(vt,gt.Pa.jb[1]):Ot.$b=0,gt.kc&&(Ot.Ad=Te(vt,gt.Bd)),Ot.Za=!Te(vt,145)+0,Ot.Za){var Nt=Ot.Ob,zn=0;for(gt=0;4>gt;++gt){var On,Sn=Zt[0+gt];for(On=0;4>On;++On){Sn=Tb[Bt[et+On]][Sn];for(var ur=sr[Te(vt,Sn[0])];0<ur;)ur=sr[2*ur+Te(vt,Sn[ur])];Sn=-ur,Bt[et+On]=Sn}o(Nt,zn,Bt,et,4),zn+=4,Zt[0+gt]=Sn}}else Sn=Te(vt,156)?Te(vt,128)?1:3:Te(vt,163)?2:0,Ot.Ob[0]=Sn,s(Bt,et,Sn,4),s(Zt,0,Sn,4);Ot.Dd=Te(vt,142)?Te(vt,114)?Te(vt,183)?1:3:2:0}if(mt.m.Ka)return Qn(Ge,7,"Premature end-of-partition0 encountered.");for(;Ge.ja<Ge.za;++Ge.ja){if(mt=Fe,vt=(Ve=Ge).rb[Ve.sb-1],Bt=Ve.rb[Ve.sb+Ve.ja],st=Ve.ya[Ve.aa+Ve.ja],et=Ve.kc?st.Ad:0)vt.la=Bt.la=0,st.Za||(vt.Na=Bt.Na=0),st.Hc=0,st.Gc=0,st.ia=0;else{var ct,kn;if(vt=Bt,Bt=mt,et=Ve.Pa.Xc,Zt=Ve.ya[Ve.aa+Ve.ja],Ot=Ve.pb[Zt.$b],gt=Zt.ad,Nt=0,zn=Ve.rb[Ve.sb-1],Sn=On=0,s(gt,Nt,0,384),Zt.Za)var Ht=0,mo=et[3];else{ur=l(16);var Xr=vt.Na+zn.Na;if(Xr=nl(Bt,et[1],Xr,Ot.Eb,0,ur,0),vt.Na=zn.Na=(0<Xr)+0,1<Xr)Rc(ur,0,gt,Nt);else{var go=ur[0]+3>>3;for(ur=0;256>ur;ur+=16)gt[Nt+ur]=go}Ht=1,mo=et[0]}var Jn=15&vt.la,ts=15&zn.la;for(ur=0;4>ur;++ur){var ns=1&ts;for(go=kn=0;4>go;++go)Jn=Jn>>1|(ns=(Xr=nl(Bt,mo,Xr=ns+(1&Jn),Ot.Sc,Ht,gt,Nt))>Ht)<<7,kn=kn<<2|(3<Xr?3:1<Xr?2:gt[Nt+0]!=0),Nt+=16;Jn>>=4,ts=ts>>1|ns<<7,On=(On<<8|kn)>>>0}for(mo=Jn,Ht=ts>>4,ct=0;4>ct;ct+=2){for(kn=0,Jn=vt.la>>4+ct,ts=zn.la>>4+ct,ur=0;2>ur;++ur){for(ns=1&ts,go=0;2>go;++go)Xr=ns+(1&Jn),Jn=Jn>>1|(ns=0<(Xr=nl(Bt,et[2],Xr,Ot.Qc,0,gt,Nt)))<<3,kn=kn<<2|(3<Xr?3:1<Xr?2:gt[Nt+0]!=0),Nt+=16;Jn>>=2,ts=ts>>1|ns<<5}Sn|=kn<<4*ct,mo|=Jn<<4<<ct,Ht|=(240&ts)<<ct}vt.la=mo,zn.la=Ht,Zt.Hc=On,Zt.Gc=Sn,Zt.ia=43690&Sn?0:Ot.ia,et=!(On|Sn)}if(0<Ve.L&&(Ve.wa[Ve.Y+Ve.ja]=Ve.gd[st.$b][st.Za],Ve.wa[Ve.Y+Ve.ja].La|=!et),mt.Ka)return Qn(Ge,7,"Premature end-of-file encountered.")}if(ho(Ge),Ve=wt,mt=1,st=(Fe=Ge).D,vt=0<Fe.L&&Fe.M>=Fe.zb&&Fe.M<=Fe.Va,Fe.Aa==0)e:{if(st.M=Fe.M,st.uc=vt,Rs(Fe,st),mt=1,st=(kn=Fe.D).Nb,vt=(Sn=Bu[Fe.L])*Fe.R,Bt=Sn/2*Fe.B,ur=16*st*Fe.R,go=8*st*Fe.B,et=Fe.sa,Zt=Fe.ta-vt+ur,Ot=Fe.qa,gt=Fe.ra-Bt+go,Nt=Fe.Ha,zn=Fe.Ia-Bt+go,ts=(Jn=kn.M)==0,On=Jn>=Fe.Va-1,Fe.Aa==2&&Rs(Fe,kn),kn.uc)for(ns=(Xr=Fe).D.M,r(Xr.D.uc),kn=Xr.yb;kn<Xr.Hb;++kn){Ht=kn,mo=ns;var Ci=(li=(Vr=Xr).D).Nb;ct=Vr.R;var li=li.wa[li.Y+Ht],bo=Vr.sa,rs=Vr.ta+16*Ci*ct+16*Ht,Ca=li.dd,ei=li.tc;if(ei!=0)if(r(3<=ei),Vr.L==1)0<Ht&&or(bo,rs,ct,ei+4),li.La&&Zo(bo,rs,ct,ei),0<mo&&jl(bo,rs,ct,ei+4),li.La&&Ll(bo,rs,ct,ei);else{var xa=Vr.B,ql=Vr.qa,Ru=Vr.ra+8*Ci*xa+8*Ht,Vl=Vr.Ha,Vr=Vr.Ia+8*Ci*xa+8*Ht;Ci=li.ld,0<Ht&&(pf(bo,rs,ct,ei+4,Ca,Ci),wa(ql,Ru,Vl,Vr,xa,ei+4,Ca,Ci)),li.La&&(_i(bo,rs,ct,ei,Ca,Ci),qc(ql,Ru,Vl,Vr,xa,ei,Ca,Ci)),0<mo&&(zc(bo,rs,ct,ei+4,Ca,Ci),fs(ql,Ru,Vl,Vr,xa,ei+4,Ca,Ci)),li.La&&(Ol(bo,rs,ct,ei,Ca,Ci),Uc(ql,Ru,Vl,Vr,xa,ei,Ca,Ci))}}if(Fe.ia&&alert("todo:DitherRow"),Ve.put!=null){if(kn=16*Jn,Jn=16*(Jn+1),ts?(Ve.y=Fe.sa,Ve.O=Fe.ta+ur,Ve.f=Fe.qa,Ve.N=Fe.ra+go,Ve.ea=Fe.Ha,Ve.W=Fe.Ia+go):(kn-=Sn,Ve.y=et,Ve.O=Zt,Ve.f=Ot,Ve.N=gt,Ve.ea=Nt,Ve.W=zn),On||(Jn-=Sn),Jn>Ve.o&&(Jn=Ve.o),Ve.F=null,Ve.J=null,Fe.Fa!=null&&0<Fe.Fa.length&&kn<Jn&&(Ve.J=Iu(Fe,Ve,kn,Jn-kn),Ve.F=Fe.mb,Ve.F==null&&Ve.F.length==0)){mt=Qn(Fe,3,"Could not decode alpha data.");break e}kn<Ve.j&&(Sn=Ve.j-kn,kn=Ve.j,r(!(1&Sn)),Ve.O+=Fe.R*Sn,Ve.N+=Fe.B*(Sn>>1),Ve.W+=Fe.B*(Sn>>1),Ve.F!=null&&(Ve.J+=Ve.width*Sn)),kn<Jn&&(Ve.O+=Ve.v,Ve.N+=Ve.v>>1,Ve.W+=Ve.v>>1,Ve.F!=null&&(Ve.J+=Ve.v),Ve.ka=kn-Ve.j,Ve.U=Ve.va-Ve.v,Ve.T=Jn-kn,mt=Ve.put(Ve))}st+1!=Fe.Ic||On||(o(Fe.sa,Fe.ta-vt,et,Zt+16*Fe.R,vt),o(Fe.qa,Fe.ra-Bt,Ot,gt+8*Fe.B,Bt),o(Fe.Ha,Fe.Ia-Bt,Nt,zn+8*Fe.B,Bt))}if(!mt)return Qn(Ge,6,"Output aborted.")}return 1}(I,j)),j.bc!=null&&j.bc(j),W&=1}return W?(I.cb=0,W):0}function No(I,j,W,te,ce){ce=I[j+W+32*te]+(ce>>3),I[j+W+32*te]=-256&ce?0>ce?0:255:ce}function Ja(I,j,W,te,ce,me){No(I,j,0,W,te+ce),No(I,j,1,W,te+me),No(I,j,2,W,te-me),No(I,j,3,W,te-ce)}function yi(I){return(20091*I>>16)+I}function Id(I,j,W,te){var ce,me=0,ge=l(16);for(ce=0;4>ce;++ce){var we=I[j+0]+I[j+8],ve=I[j+0]-I[j+8],De=(35468*I[j+4]>>16)-yi(I[j+12]),ze=yi(I[j+4])+(35468*I[j+12]>>16);ge[me+0]=we+ze,ge[me+1]=ve+De,ge[me+2]=ve-De,ge[me+3]=we-ze,me+=4,j++}for(ce=me=0;4>ce;++ce)we=(I=ge[me+0]+4)+ge[me+8],ve=I-ge[me+8],De=(35468*ge[me+4]>>16)-yi(ge[me+12]),No(W,te,0,0,we+(ze=yi(ge[me+4])+(35468*ge[me+12]>>16))),No(W,te,1,0,ve+De),No(W,te,2,0,ve-De),No(W,te,3,0,we-ze),me++,te+=32}function rf(I,j,W,te){var ce=I[j+0]+4,me=35468*I[j+4]>>16,ge=yi(I[j+4]),we=35468*I[j+1]>>16;Ja(W,te,0,ce+ge,I=yi(I[j+1]),we),Ja(W,te,1,ce+me,I,we),Ja(W,te,2,ce-me,I,we),Ja(W,te,3,ce-ge,I,we)}function Jp(I,j,W,te,ce){Id(I,j,W,te),ce&&Id(I,j+16,W,te+4)}function of(I,j,W,te){jn(I,j+0,W,te,1),jn(I,j+32,W,te+128,1)}function El(I,j,W,te){var ce;for(I=I[j+0]+4,ce=0;4>ce;++ce)for(j=0;4>j;++j)No(W,te,j,ce,I)}function Tc(I,j,W,te){I[j+0]&&Jr(I,j+0,W,te),I[j+16]&&Jr(I,j+16,W,te+4),I[j+32]&&Jr(I,j+32,W,te+128),I[j+48]&&Jr(I,j+48,W,te+128+4)}function Zp(I,j,W,te){var ce,me=l(16);for(ce=0;4>ce;++ce){var ge=I[j+0+ce]+I[j+12+ce],we=I[j+4+ce]+I[j+8+ce],ve=I[j+4+ce]-I[j+8+ce],De=I[j+0+ce]-I[j+12+ce];me[0+ce]=ge+we,me[8+ce]=ge-we,me[4+ce]=De+ve,me[12+ce]=De-ve}for(ce=0;4>ce;++ce)ge=(I=me[0+4*ce]+3)+me[3+4*ce],we=me[1+4*ce]+me[2+4*ce],ve=me[1+4*ce]-me[2+4*ce],De=I-me[3+4*ce],W[te+0]=ge+we>>3,W[te+16]=De+ve>>3,W[te+32]=ge-we>>3,W[te+48]=De-ve>>3,te+=64}function ua(I,j,W){var te,ce=j-32,me=Po,ge=255-I[ce-1];for(te=0;te<W;++te){var we,ve=me,De=ge+I[j-1];for(we=0;we<W;++we)I[j+we]=ve[De+I[ce+we]];j+=32}}function Dl(I,j){ua(I,j,4)}function Xp(I,j){ua(I,j,8)}function yu(I,j){ua(I,j,16)}function hs(I,j){var W;for(W=0;16>W;++W)o(I,j+32*W,I,j-32,16)}function vu(I,j){var W;for(W=16;0<W;--W)s(I,j,I[j-1],16),j+=32}function Il(I,j,W){var te;for(te=0;16>te;++te)s(j,W+32*te,I,16)}function Za(I,j){var W,te=16;for(W=0;16>W;++W)te+=I[j-1+32*W]+I[j+W-32];Il(te>>5,I,j)}function no(I,j){var W,te=8;for(W=0;16>W;++W)te+=I[j-1+32*W];Il(te>>4,I,j)}function sf(I,j){var W,te=8;for(W=0;16>W;++W)te+=I[j+W-32];Il(te>>4,I,j)}function Td(I,j){Il(128,I,j)}function dn(I,j,W){return I+2*j+W+2>>2}function em(I,j){var W,te=j-32;for(te=new Uint8Array([dn(I[te-1],I[te+0],I[te+1]),dn(I[te+0],I[te+1],I[te+2]),dn(I[te+1],I[te+2],I[te+3]),dn(I[te+2],I[te+3],I[te+4])]),W=0;4>W;++W)o(I,j+32*W,te,0,te.length)}function Au(I,j){var W=I[j-1],te=I[j-1+32],ce=I[j-1+64],me=I[j-1+96];Ye(I,j+0,16843009*dn(I[j-1-32],W,te)),Ye(I,j+32,16843009*dn(W,te,ce)),Ye(I,j+64,16843009*dn(te,ce,me)),Ye(I,j+96,16843009*dn(ce,me,me))}function da(I,j){var W,te=4;for(W=0;4>W;++W)te+=I[j+W-32]+I[j-1+32*W];for(te>>=3,W=0;4>W;++W)s(I,j+32*W,te,4)}function Nd(I,j){var W=I[j-1+0],te=I[j-1+32],ce=I[j-1+64],me=I[j-1-32],ge=I[j+0-32],we=I[j+1-32],ve=I[j+2-32],De=I[j+3-32];I[j+0+96]=dn(te,ce,I[j-1+96]),I[j+1+96]=I[j+0+64]=dn(W,te,ce),I[j+2+96]=I[j+1+64]=I[j+0+32]=dn(me,W,te),I[j+3+96]=I[j+2+64]=I[j+1+32]=I[j+0+0]=dn(ge,me,W),I[j+3+64]=I[j+2+32]=I[j+1+0]=dn(we,ge,me),I[j+3+32]=I[j+2+0]=dn(ve,we,ge),I[j+3+0]=dn(De,ve,we)}function Md(I,j){var W=I[j+1-32],te=I[j+2-32],ce=I[j+3-32],me=I[j+4-32],ge=I[j+5-32],we=I[j+6-32],ve=I[j+7-32];I[j+0+0]=dn(I[j+0-32],W,te),I[j+1+0]=I[j+0+32]=dn(W,te,ce),I[j+2+0]=I[j+1+32]=I[j+0+64]=dn(te,ce,me),I[j+3+0]=I[j+2+32]=I[j+1+64]=I[j+0+96]=dn(ce,me,ge),I[j+3+32]=I[j+2+64]=I[j+1+96]=dn(me,ge,we),I[j+3+64]=I[j+2+96]=dn(ge,we,ve),I[j+3+96]=dn(we,ve,ve)}function Nc(I,j){var W=I[j-1+0],te=I[j-1+32],ce=I[j-1+64],me=I[j-1-32],ge=I[j+0-32],we=I[j+1-32],ve=I[j+2-32],De=I[j+3-32];I[j+0+0]=I[j+1+64]=me+ge+1>>1,I[j+1+0]=I[j+2+64]=ge+we+1>>1,I[j+2+0]=I[j+3+64]=we+ve+1>>1,I[j+3+0]=ve+De+1>>1,I[j+0+96]=dn(ce,te,W),I[j+0+64]=dn(te,W,me),I[j+0+32]=I[j+1+96]=dn(W,me,ge),I[j+1+32]=I[j+2+96]=dn(me,ge,we),I[j+2+32]=I[j+3+96]=dn(ge,we,ve),I[j+3+32]=dn(we,ve,De)}function Xa(I,j){var W=I[j+0-32],te=I[j+1-32],ce=I[j+2-32],me=I[j+3-32],ge=I[j+4-32],we=I[j+5-32],ve=I[j+6-32],De=I[j+7-32];I[j+0+0]=W+te+1>>1,I[j+1+0]=I[j+0+64]=te+ce+1>>1,I[j+2+0]=I[j+1+64]=ce+me+1>>1,I[j+3+0]=I[j+2+64]=me+ge+1>>1,I[j+0+32]=dn(W,te,ce),I[j+1+32]=I[j+0+96]=dn(te,ce,me),I[j+2+32]=I[j+1+96]=dn(ce,me,ge),I[j+3+32]=I[j+2+96]=dn(me,ge,we),I[j+3+64]=dn(ge,we,ve),I[j+3+96]=dn(we,ve,De)}function tm(I,j){var W=I[j-1+0],te=I[j-1+32],ce=I[j-1+64],me=I[j-1+96];I[j+0+0]=W+te+1>>1,I[j+2+0]=I[j+0+32]=te+ce+1>>1,I[j+2+32]=I[j+0+64]=ce+me+1>>1,I[j+1+0]=dn(W,te,ce),I[j+3+0]=I[j+1+32]=dn(te,ce,me),I[j+3+32]=I[j+1+64]=dn(ce,me,me),I[j+3+64]=I[j+2+64]=I[j+0+96]=I[j+1+96]=I[j+2+96]=I[j+3+96]=me}function _u(I,j){var W=I[j-1+0],te=I[j-1+32],ce=I[j-1+64],me=I[j-1+96],ge=I[j-1-32],we=I[j+0-32],ve=I[j+1-32],De=I[j+2-32];I[j+0+0]=I[j+2+32]=W+ge+1>>1,I[j+0+32]=I[j+2+64]=te+W+1>>1,I[j+0+64]=I[j+2+96]=ce+te+1>>1,I[j+0+96]=me+ce+1>>1,I[j+3+0]=dn(we,ve,De),I[j+2+0]=dn(ge,we,ve),I[j+1+0]=I[j+3+32]=dn(W,ge,we),I[j+1+32]=I[j+3+64]=dn(te,W,ge),I[j+1+64]=I[j+3+96]=dn(ce,te,W),I[j+1+96]=dn(me,ce,te)}function Pd(I,j){var W;for(W=0;8>W;++W)o(I,j+32*W,I,j-32,8)}function Xn(I,j){var W;for(W=0;8>W;++W)s(I,j,I[j-1],8),j+=32}function Mc(I,j,W){var te;for(te=0;8>te;++te)s(j,W+32*te,I,8)}function ha(I,j){var W,te=8;for(W=0;8>W;++W)te+=I[j+W-32]+I[j-1+32*W];Mc(te>>4,I,j)}function af(I,j){var W,te=4;for(W=0;8>W;++W)te+=I[j+W-32];Mc(te>>3,I,j)}function Ms(I,j){var W,te=4;for(W=0;8>W;++W)te+=I[j-1+32*W];Mc(te>>3,I,j)}function Pc(I,j){Mc(128,I,j)}function Ps(I,j,W){var te=I[j-W],ce=I[j+0],me=3*(ce-te)+Bl[1020+I[j-2*W]-I[j+W]],ge=Rl[112+(me+4>>3)];I[j-W]=Po[255+te+Rl[112+(me+3>>3)]],I[j+0]=Po[255+ce-ge]}function Od(I,j,W,te){var ce=I[j+0],me=I[j+W];return io[255+I[j-2*W]-I[j-W]]>te||io[255+me-ce]>te}function Cu(I,j,W,te){return 4*io[255+I[j-W]-I[j+0]]+io[255+I[j-2*W]-I[j+W]]<=te}function lf(I,j,W,te,ce){var me=I[j-3*W],ge=I[j-2*W],we=I[j-W],ve=I[j+0],De=I[j+W],ze=I[j+2*W],nt=I[j+3*W];return 4*io[255+we-ve]+io[255+ge-De]>te?0:io[255+I[j-4*W]-me]<=ce&&io[255+me-ge]<=ce&&io[255+ge-we]<=ce&&io[255+nt-ze]<=ce&&io[255+ze-De]<=ce&&io[255+De-ve]<=ce}function jd(I,j,W,te){var ce=2*te+1;for(te=0;16>te;++te)Cu(I,j+te,W,ce)&&Ps(I,j+te,W)}function fa(I,j,W,te){var ce=2*te+1;for(te=0;16>te;++te)Cu(I,j+te*W,1,ce)&&Ps(I,j+te*W,1)}function Os(I,j,W,te){var ce;for(ce=3;0<ce;--ce)jd(I,j+=4*W,W,te)}function nm(I,j,W,te){var ce;for(ce=3;0<ce;--ce)fa(I,j+=4,W,te)}function Tl(I,j,W,te,ce,me,ge,we){for(me=2*me+1;0<ce--;){if(lf(I,j,W,me,ge))if(Od(I,j,W,we))Ps(I,j,W);else{var ve=I,De=j,ze=W,nt=ve[De-2*ze],rt=ve[De-ze],Ge=ve[De+0],wt=ve[De+ze],st=ve[De+2*ze],Fe=27*(mt=Bl[1020+3*(Ge-rt)+Bl[1020+nt-wt]])+63>>7,Ve=18*mt+63>>7,mt=9*mt+63>>7;ve[De-3*ze]=Po[255+ve[De-3*ze]+mt],ve[De-2*ze]=Po[255+nt+Ve],ve[De-ze]=Po[255+rt+Fe],ve[De+0]=Po[255+Ge-Fe],ve[De+ze]=Po[255+wt-Ve],ve[De+2*ze]=Po[255+st-mt]}j+=te}}function js(I,j,W,te,ce,me,ge,we){for(me=2*me+1;0<ce--;){if(lf(I,j,W,me,ge))if(Od(I,j,W,we))Ps(I,j,W);else{var ve=I,De=j,ze=W,nt=ve[De-ze],rt=ve[De+0],Ge=ve[De+ze],wt=Rl[112+((st=3*(rt-nt))+4>>3)],st=Rl[112+(st+3>>3)],Fe=wt+1>>1;ve[De-2*ze]=Po[255+ve[De-2*ze]+Fe],ve[De-ze]=Po[255+nt+st],ve[De+0]=Po[255+rt-wt],ve[De+ze]=Po[255+Ge-Fe]}j+=te}}function Nl(I,j,W,te,ce,me){Tl(I,j,W,1,16,te,ce,me)}function Ls(I,j,W,te,ce,me){Tl(I,j,1,W,16,te,ce,me)}function rm(I,j,W,te,ce,me){var ge;for(ge=3;0<ge;--ge)js(I,j+=4*W,W,1,16,te,ce,me)}function xu(I,j,W,te,ce,me){var ge;for(ge=3;0<ge;--ge)js(I,j+=4,1,W,16,te,ce,me)}function im(I,j,W,te,ce,me,ge,we){Tl(I,j,ce,1,8,me,ge,we),Tl(W,te,ce,1,8,me,ge,we)}function Ld(I,j,W,te,ce,me,ge,we){Tl(I,j,1,ce,8,me,ge,we),Tl(W,te,1,ce,8,me,ge,we)}function pa(I,j,W,te,ce,me,ge,we){js(I,j+4*ce,ce,1,8,me,ge,we),js(W,te+4*ce,ce,1,8,me,ge,we)}function cf(I,j,W,te,ce,me,ge,we){js(I,j+4,1,ce,8,me,ge,we),js(W,te+4,1,ce,8,me,ge,we)}function Oc(){this.ba=new zr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Rn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Su(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Eu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Bd(){this.ua=0,this.Wa=new he,this.vb=new he,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new R,this.yc=new z}function uf(){this.xb=this.a=0,this.l=new $i,this.ca=new zr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Bd,this.ab=0,this.gc=d(4,Eu),this.Oc=0}function jc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new $i,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Lc(I,j,W,te,ce,me,ge){for(I=I==null?0:I[j+0],j=0;j<ge;++j)ce[me+j]=I+W[te+j]&255,I=ce[me+j]}function Du(I,j,W,te,ce,me,ge){var we;if(I==null)Lc(null,null,W,te,ce,me,ge);else for(we=0;we<ge;++we)ce[me+we]=I[j+we]+W[te+we]&255}function Ml(I,j,W,te,ce,me,ge){if(I==null)Lc(null,null,W,te,ce,me,ge);else{var we,ve=I[j+0],De=ve,ze=ve;for(we=0;we<ge;++we)De=ze+(ve=I[j+we])-De,ze=W[te+we]+(-256&De?0>De?0:255:De)&255,De=ve,ce[me+we]=ze}}function Iu(I,j,W,te){var ce=j.width,me=j.o;if(r(I!=null&&j!=null),0>W||0>=te||W+te>me)return null;if(!I.Cc){if(I.ga==null){var ge;if(I.ga=new jc,(ge=I.ga==null)||(ge=j.width*j.o,r(I.Gb.length==0),I.Gb=l(ge),I.Uc=0,I.Gb==null?ge=0:(I.mb=I.Gb,I.nb=I.Uc,I.rc=null,ge=1),ge=!ge),!ge){ge=I.ga;var we=I.Fa,ve=I.P,De=I.qc,ze=I.mb,nt=I.nb,rt=ve+1,Ge=De-1,wt=ge.l;if(r(we!=null&&ze!=null&&j!=null),il[0]=null,il[1]=Lc,il[2]=Du,il[3]=Ml,ge.ca=ze,ge.tb=nt,ge.c=j.width,ge.i=j.height,r(0<ge.c&&0<ge.i),1>=De)j=0;else if(ge.$a=we[ve+0]>>0&3,ge.Z=we[ve+0]>>2&3,ge.Lc=we[ve+0]>>4&3,ve=we[ve+0]>>6&3,0>ge.$a||1<ge.$a||4<=ge.Z||1<ge.Lc||ve)j=0;else if(wt.put=eo,wt.ac=Mn,wt.bc=si,wt.ma=ge,wt.width=j.width,wt.height=j.height,wt.Da=j.Da,wt.v=j.v,wt.va=j.va,wt.j=j.j,wt.o=j.o,ge.$a)e:{r(ge.$a==1),j=Vi();t:for(;;){if(j==null){j=0;break e}if(r(ge!=null),ge.mc=j,j.c=ge.c,j.i=ge.i,j.l=ge.l,j.l.ma=ge,j.l.width=ge.c,j.l.height=ge.i,j.a=0,oe(j.m,we,rt,Ge),!To(ge.c,ge.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&ds(j.s)?(ge.ic=1,we=j.c*j.i,j.Ta=null,j.Ua=0,j.V=l(we),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(ge.ic=0,j=ca(j,ge.c)),!j))break t;j=1;break e}ge.mc=null,j=0}else j=Ge>=ge.c*ge.i;ge=!j}if(ge)return null;I.ga.Lc!=1?I.Ga=0:te=me-W}r(I.ga!=null),r(W+te<=me);e:{if(j=(we=I.ga).c,me=we.l.o,we.$a==0){if(rt=I.rc,Ge=I.Vc,wt=I.Fa,ve=I.P+1+W*j,De=I.mb,ze=I.nb+W*j,r(ve<=I.P+I.qc),we.Z!=0)for(r(il[we.Z]!=null),ge=0;ge<te;++ge)il[we.Z](rt,Ge,wt,ve,De,ze,j),rt=De,Ge=ze,ze+=j,ve+=j;else for(ge=0;ge<te;++ge)o(De,ze,wt,ve,j),rt=De,Ge=ze,ze+=j,ve+=j;I.rc=rt,I.Vc=Ge}else{if(r(we.mc!=null),j=W+te,r((ge=we.mc)!=null),r(j<=ge.i),ge.C>=j)j=1;else if(we.ic||Xe(),we.ic){we=ge.V,rt=ge.Ba,Ge=ge.c;var st=ge.i,Fe=(wt=1,ve=ge.$/Ge,De=ge.$%Ge,ze=ge.m,nt=ge.s,ge.$),Ve=Ge*st,mt=Ge*j,vt=nt.wc,gt=Fe<mt?kr(nt,De,ve):null;r(Fe<=Ve),r(j<=st),r(ds(nt));t:for(;;){for(;!ze.h&&Fe<mt;){if(De&vt||(gt=kr(nt,De,ve)),r(gt!=null),ae(ze),256>(st=ai(gt.G[0],gt.H[0],ze)))we[rt+Fe]=st,++Fe,++De>=Ge&&(De=0,++ve<=j&&!(ve%16)&&Do(ge,ve));else{if(!(280>st)){wt=0;break t}st=qi(st-256,ze);var Bt,et=ai(gt.G[4],gt.H[4],ze);if(ae(ze),!(Fe>=(et=to(Ge,et=qi(et,ze)))&&Ve-Fe>=st)){wt=0;break t}for(Bt=0;Bt<st;++Bt)we[rt+Fe+Bt]=we[rt+Fe+Bt-et];for(Fe+=st,De+=st;De>=Ge;)De-=Ge,++ve<=j&&!(ve%16)&&Do(ge,ve);Fe<mt&&De&vt&&(gt=kr(nt,De,ve))}r(ze.h==fe(ze))}Do(ge,ve>j?j:ve);break t}!wt||ze.h&&Fe<Ve?(wt=0,ge.a=ze.h?5:3):ge.$=Fe,j=wt}else j=Io(ge,ge.V,ge.Ba,ge.c,ge.i,j,Ga);if(!j){te=0;break e}}W+te>=me&&(I.Cc=1),te=1}if(!te)return null;if(I.Cc&&((te=I.ga)!=null&&(te.mc=null),I.ga=null,0<I.Ga))return alert("todo:WebPDequantizeLevels"),null}return I.nb+W*ce}function q(I,j,W,te,ce,me){for(;0<ce--;){var ge,we=I,ve=j+(W?1:0),De=I,ze=j+(W?0:3);for(ge=0;ge<te;++ge){var nt=De[ze+4*ge];nt!=255&&(nt*=32897,we[ve+4*ge+0]=we[ve+4*ge+0]*nt>>23,we[ve+4*ge+1]=we[ve+4*ge+1]*nt>>23,we[ve+4*ge+2]=we[ve+4*ge+2]*nt>>23)}j+=me}}function de(I,j,W,te,ce){for(;0<te--;){var me;for(me=0;me<W;++me){var ge=I[j+2*me+0],we=15&(De=I[j+2*me+1]),ve=4369*we,De=(240&De|De>>4)*ve>>16;I[j+2*me+0]=(240&ge|ge>>4)*ve>>16&240|(15&ge|ge<<4)*ve>>16>>4&15,I[j+2*me+1]=240&De|we}j+=ce}}function Ne(I,j,W,te,ce,me,ge,we){var ve,De,ze=255;for(De=0;De<ce;++De){for(ve=0;ve<te;++ve){var nt=I[j+ve];me[ge+4*ve]=nt,ze&=nt}j+=W,ge+=we}return ze!=255}function Re(I,j,W,te,ce){var me;for(me=0;me<ce;++me)W[te+me]=I[j+me]>>8}function Xe(){Xo=q,Ut=de,er=Ne,qr=Re}function ht(I,j,W){L[I]=function(te,ce,me,ge,we,ve,De,ze,nt,rt,Ge,wt,st,Fe,Ve,mt,vt){var gt,Bt=vt-1>>1,et=we[ve+0]|De[ze+0]<<16,Zt=nt[rt+0]|Ge[wt+0]<<16;r(te!=null);var Ot=3*et+Zt+131074>>2;for(j(te[ce+0],255&Ot,Ot>>16,st,Fe),me!=null&&(Ot=3*Zt+et+131074>>2,j(me[ge+0],255&Ot,Ot>>16,Ve,mt)),gt=1;gt<=Bt;++gt){var Nt=we[ve+gt]|De[ze+gt]<<16,zn=nt[rt+gt]|Ge[wt+gt]<<16,On=et+Nt+Zt+zn+524296,Sn=On+2*(Nt+Zt)>>3;Ot=Sn+et>>1,et=(On=On+2*(et+zn)>>3)+Nt>>1,j(te[ce+2*gt-1],255&Ot,Ot>>16,st,Fe+(2*gt-1)*W),j(te[ce+2*gt-0],255&et,et>>16,st,Fe+(2*gt-0)*W),me!=null&&(Ot=On+Zt>>1,et=Sn+zn>>1,j(me[ge+2*gt-1],255&Ot,Ot>>16,Ve,mt+(2*gt-1)*W),j(me[ge+2*gt+0],255&et,et>>16,Ve,mt+(2*gt+0)*W)),et=Nt,Zt=zn}1&vt||(Ot=3*et+Zt+131074>>2,j(te[ce+vt-1],255&Ot,Ot>>16,st,Fe+(vt-1)*W),me!=null&&(Ot=3*Zt+et+131074>>2,j(me[ge+vt-1],255&Ot,Ot>>16,Ve,mt+(vt-1)*W)))}}function _t(){ps[Aa]=Rw,ps[Vd]=Pb,ps[$d]=Fw,ps[Hd]=zw,ps[Wd]=Ob,ps[mf]=jb,ps[xb]=Uw,ps[sm]=Pb,ps[gf]=zw,ps[Gd]=Ob,ps[bf]=jb}function jt(I){return I&-16384?0>I?0:255:I>>Lb}function Yt(I,j){return jt((19077*I>>8)+(26149*j>>8)-14234)}function hn(I,j,W){return jt((19077*I>>8)-(6419*j>>8)-(13320*W>>8)+8708)}function cn(I,j){return jt((19077*I>>8)+(33050*j>>8)-17685)}function Tn(I,j,W,te,ce){te[ce+0]=Yt(I,W),te[ce+1]=hn(I,j,W),te[ce+2]=cn(I,j)}function Ir(I,j,W,te,ce){te[ce+0]=cn(I,j),te[ce+1]=hn(I,j,W),te[ce+2]=Yt(I,W)}function Or(I,j,W,te,ce){var me=hn(I,j,W);j=me<<3&224|cn(I,j)>>3,te[ce+0]=248&Yt(I,W)|me>>5,te[ce+1]=j}function Qr(I,j,W,te,ce){var me=240&cn(I,j)|15;te[ce+0]=240&Yt(I,W)|hn(I,j,W)>>4,te[ce+1]=me}function Hi(I,j,W,te,ce){te[ce+0]=255,Tn(I,j,W,te,ce+1)}function vi(I,j,W,te,ce){Ir(I,j,W,te,ce),te[ce+3]=255}function Bs(I,j,W,te,ce){Tn(I,j,W,te,ce),te[ce+3]=255}function Ko(I,j){return 0>I?0:I>j?j:I}function ma(I,j,W){L[I]=function(te,ce,me,ge,we,ve,De,ze,nt){for(var rt=ze+(-2&nt)*W;ze!=rt;)j(te[ce+0],me[ge+0],we[ve+0],De,ze),j(te[ce+1],me[ge+0],we[ve+0],De,ze+W),ce+=2,++ge,++ve,ze+=2*W;1&nt&&j(te[ce+0],me[ge+0],we[ve+0],De,ze)}}function df(I,j,W){return W==0?I==0?j==0?6:5:j==0?4:0:W}function Rd(I,j,W,te,ce){switch(I>>>30){case 3:jn(j,W,te,ce,0);break;case 2:jr(j,W,te,ce);break;case 1:Jr(j,W,te,ce)}}function Rs(I,j){var W,te,ce=j.M,me=j.Nb,ge=I.oc,we=I.pc+40,ve=I.oc,De=I.pc+584,ze=I.oc,nt=I.pc+600;for(W=0;16>W;++W)ge[we+32*W-1]=129;for(W=0;8>W;++W)ve[De+32*W-1]=129,ze[nt+32*W-1]=129;for(0<ce?ge[we-1-32]=ve[De-1-32]=ze[nt-1-32]=129:(s(ge,we-32-1,127,21),s(ve,De-32-1,127,9),s(ze,nt-32-1,127,9)),te=0;te<I.za;++te){var rt=j.ya[j.aa+te];if(0<te){for(W=-1;16>W;++W)o(ge,we+32*W-4,ge,we+32*W+12,4);for(W=-1;8>W;++W)o(ve,De+32*W-4,ve,De+32*W+4,4),o(ze,nt+32*W-4,ze,nt+32*W+4,4)}var Ge=I.Gd,wt=I.Hd+te,st=rt.ad,Fe=rt.Hc;if(0<ce&&(o(ge,we-32,Ge[wt].y,0,16),o(ve,De-32,Ge[wt].f,0,8),o(ze,nt-32,Ge[wt].ea,0,8)),rt.Za){var Ve=ge,mt=we-32+16;for(0<ce&&(te>=I.za-1?s(Ve,mt,Ge[wt].y[15],4):o(Ve,mt,Ge[wt+1].y,0,4)),W=0;4>W;W++)Ve[mt+128+W]=Ve[mt+256+W]=Ve[mt+384+W]=Ve[mt+0+W];for(W=0;16>W;++W,Fe<<=2)Ve=ge,mt=we+wf[W],Fs[rt.Ob[W]](Ve,mt),Rd(Fe,st,16*+W,Ve,mt)}else if(Ve=df(te,ce,rt.Ob[0]),zl[Ve](ge,we),Fe!=0)for(W=0;16>W;++W,Fe<<=2)Rd(Fe,st,16*+W,ge,we+wf[W]);for(W=rt.Gc,Ve=df(te,ce,rt.Dd),rl[Ve](ve,De),rl[Ve](ze,nt),Fe=st,Ve=ve,mt=De,255&(rt=W>>0)&&(170&rt?Fc(Fe,256,Ve,mt):Jo(Fe,256,Ve,mt)),rt=ze,Fe=nt,255&(W>>=8)&&(170&W?Fc(st,320,rt,Fe):Jo(st,320,rt,Fe)),ce<I.Ub-1&&(o(Ge[wt].y,0,ge,we+480,16),o(Ge[wt].f,0,ve,De+224,8),o(Ge[wt].ea,0,ze,nt+224,8)),W=8*me*I.B,Ge=I.sa,wt=I.ta+16*te+16*me*I.R,st=I.qa,rt=I.ra+8*te+W,Fe=I.Ha,Ve=I.Ia+8*te+W,W=0;16>W;++W)o(Ge,wt+W*I.R,ge,we+32*W,16);for(W=0;8>W;++W)o(st,rt+W*I.B,ve,De+32*W,8),o(Fe,Ve+W*I.B,ze,nt+32*W,8)}}function ga(I,j,W,te,ce,me,ge,we,ve){var De=[0],ze=[0],nt=0,rt=ve!=null?ve.kd:0,Ge=ve??new Su;if(I==null||12>W)return 7;Ge.data=I,Ge.w=j,Ge.ha=W,j=[j],W=[W],Ge.gb=[Ge.gb];e:{var wt=j,st=W,Fe=Ge.gb;if(r(I!=null),r(st!=null),r(Fe!=null),Fe[0]=0,12<=st[0]&&!n(I,wt[0],"RIFF")){if(n(I,wt[0]+8,"WEBP")){Fe=3;break e}var Ve=Ue(I,wt[0]+4);if(12>Ve||4294967286<Ve){Fe=3;break e}if(rt&&Ve>st[0]-8){Fe=7;break e}Fe[0]=Ve,wt[0]+=12,st[0]-=12}Fe=0}if(Fe!=0)return Fe;for(Ve=0<Ge.gb[0],W=W[0];;){e:{var mt=I;st=j,Fe=W;var vt=De,gt=ze,Bt=wt=[0];if((Ot=nt=[nt])[0]=0,8>Fe[0])Fe=7;else{if(!n(mt,st[0],"VP8X")){if(Ue(mt,st[0]+4)!=10){Fe=3;break e}if(18>Fe[0]){Fe=7;break e}var et=Ue(mt,st[0]+8),Zt=1+Je(mt,st[0]+12);if(2147483648<=Zt*(mt=1+Je(mt,st[0]+15))){Fe=3;break e}Bt!=null&&(Bt[0]=et),vt!=null&&(vt[0]=Zt),gt!=null&&(gt[0]=mt),st[0]+=18,Fe[0]-=18,Ot[0]=1}Fe=0}}if(nt=nt[0],wt=wt[0],Fe!=0)return Fe;if(st=!!(2&wt),!Ve&&nt)return 3;if(me!=null&&(me[0]=!!(16&wt)),ge!=null&&(ge[0]=st),we!=null&&(we[0]=0),ge=De[0],wt=ze[0],nt&&st&&ve==null){Fe=0;break}if(4>W){Fe=7;break}if(Ve&&nt||!Ve&&!nt&&!n(I,j[0],"ALPH")){W=[W],Ge.na=[Ge.na],Ge.P=[Ge.P],Ge.Sa=[Ge.Sa];e:{et=I,Fe=j,Ve=W;var Ot=Ge.gb;vt=Ge.na,gt=Ge.P,Bt=Ge.Sa,Zt=22,r(et!=null),r(Ve!=null),mt=Fe[0];var Nt=Ve[0];for(r(vt!=null),r(Bt!=null),vt[0]=null,gt[0]=null,Bt[0]=0;;){if(Fe[0]=mt,Ve[0]=Nt,8>Nt){Fe=7;break e}var zn=Ue(et,mt+4);if(4294967286<zn){Fe=3;break e}var On=8+zn+1&-2;if(Zt+=On,0<Ot&&Zt>Ot){Fe=3;break e}if(!n(et,mt,"VP8 ")||!n(et,mt,"VP8L")){Fe=0;break e}if(Nt[0]<On){Fe=7;break e}n(et,mt,"ALPH")||(vt[0]=et,gt[0]=mt+8,Bt[0]=zn),mt+=On,Nt-=On}}if(W=W[0],Ge.na=Ge.na[0],Ge.P=Ge.P[0],Ge.Sa=Ge.Sa[0],Fe!=0)break}W=[W],Ge.Ja=[Ge.Ja],Ge.xa=[Ge.xa];e:if(Ot=I,Fe=j,Ve=W,vt=Ge.gb[0],gt=Ge.Ja,Bt=Ge.xa,et=Fe[0],mt=!n(Ot,et,"VP8 "),Zt=!n(Ot,et,"VP8L"),r(Ot!=null),r(Ve!=null),r(gt!=null),r(Bt!=null),8>Ve[0])Fe=7;else{if(mt||Zt){if(Ot=Ue(Ot,et+4),12<=vt&&Ot>vt-12){Fe=3;break e}if(rt&&Ot>Ve[0]-8){Fe=7;break e}gt[0]=Ot,Fe[0]+=8,Ve[0]-=8,Bt[0]=Zt}else Bt[0]=5<=Ve[0]&&Ot[et+0]==47&&!(Ot[et+4]>>5),gt[0]=Ve[0];Fe=0}if(W=W[0],Ge.Ja=Ge.Ja[0],Ge.xa=Ge.xa[0],j=j[0],Fe!=0)break;if(4294967286<Ge.Ja)return 3;if(we==null||st||(we[0]=Ge.xa?2:1),ge=[ge],wt=[wt],Ge.xa){if(5>W){Fe=7;break}we=ge,rt=wt,st=me,I==null||5>W?I=0:5<=W&&I[j+0]==47&&!(I[j+4]>>5)?(Ve=[0],Ot=[0],vt=[0],oe(gt=new X,I,j,W),$t(gt,Ve,Ot,vt)?(we!=null&&(we[0]=Ve[0]),rt!=null&&(rt[0]=Ot[0]),st!=null&&(st[0]=vt[0]),I=1):I=0):I=0}else{if(10>W){Fe=7;break}we=wt,I==null||10>W||!Yo(I,j+3,W-3)?I=0:(rt=I[j+0]|I[j+1]<<8|I[j+2]<<16,st=16383&(I[j+7]<<8|I[j+6]),I=16383&(I[j+9]<<8|I[j+8]),1&rt||3<(rt>>1&7)||!(rt>>4&1)||rt>>5>=Ge.Ja||!st||!I?I=0:(ge&&(ge[0]=st),we&&(we[0]=I),I=1))}if(!I||(ge=ge[0],wt=wt[0],nt&&(De[0]!=ge||ze[0]!=wt)))return 3;ve!=null&&(ve[0]=Ge,ve.offset=j-ve.w,r(4294967286>j-ve.w),r(ve.offset==ve.ha-W));break}return Fe==0||Fe==7&&nt&&ve==null?(me!=null&&(me[0]|=Ge.na!=null&&0<Ge.na.length),te!=null&&(te[0]=ge),ce!=null&&(ce[0]=wt),0):Fe}function Fd(I,j,W){var te=j.width,ce=j.height,me=0,ge=0,we=te,ve=ce;if(j.Da=I!=null&&0<I.Da,j.Da&&(we=I.cd,ve=I.bd,me=I.v,ge=I.j,11>W||(me&=-2,ge&=-2),0>me||0>ge||0>=we||0>=ve||me+we>te||ge+ve>ce))return 0;if(j.v=me,j.j=ge,j.va=me+we,j.o=ge+ve,j.U=we,j.T=ve,j.da=I!=null&&0<I.da,j.da){if(!be(we,ve,W=[I.ib],me=[I.hb]))return 0;j.ib=W[0],j.hb=me[0]}return j.ob=I!=null&&I.ob,j.Kb=I==null||!I.Sd,j.da&&(j.ob=j.ib<3*te/4&&j.hb<3*ce/4,j.Kb=0),1}function zd(I){if(I==null)return 2;if(11>I.S){var j=I.f.RGBA;j.fb+=(I.height-1)*j.A,j.A=-j.A}else j=I.f.kb,I=I.height,j.O+=(I-1)*j.fa,j.fa=-j.fa,j.N+=(I-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(I-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(I-1)*j.lb,j.lb=-j.lb);return 0}function el(I,j,W,te){if(te==null||0>=I||0>=j)return 2;if(W!=null){if(W.Da){var ce=W.cd,me=W.bd,ge=-2&W.v,we=-2&W.j;if(0>ge||0>we||0>=ce||0>=me||ge+ce>I||we+me>j)return 2;I=ce,j=me}if(W.da){if(!be(I,j,ce=[W.ib],me=[W.hb]))return 2;I=ce[0],j=me[0]}}te.width=I,te.height=j;e:{var ve=te.width,De=te.height;if(I=te.S,0>=ve||0>=De||!(I>=Aa&&13>I))I=2;else{if(0>=te.Rd&&te.sd==null){ge=me=ce=j=0;var ze=(we=ve*es[I])*De;if(11>I||(me=(De+1)/2*(j=(ve+1)/2),I==12&&(ge=(ce=ve)*De)),(De=l(ze+2*me+ge))==null){I=1;break e}te.sd=De,11>I?((ve=te.f.RGBA).eb=De,ve.fb=0,ve.A=we,ve.size=ze):((ve=te.f.kb).y=De,ve.O=0,ve.fa=we,ve.Fd=ze,ve.f=De,ve.N=0+ze,ve.Ab=j,ve.Cd=me,ve.ea=De,ve.W=0+ze+me,ve.Db=j,ve.Ed=me,I==12&&(ve.F=De,ve.J=0+ze+2*me),ve.Tc=ge,ve.lb=ce)}if(j=1,ce=te.S,me=te.width,ge=te.height,ce>=Aa&&13>ce)if(11>ce)I=te.f.RGBA,j&=(we=Math.abs(I.A))*(ge-1)+me<=I.size,j&=we>=me*es[ce],j&=I.eb!=null;else{I=te.f.kb,we=(me+1)/2,ze=(ge+1)/2,ve=Math.abs(I.fa),De=Math.abs(I.Ab);var nt=Math.abs(I.Db),rt=Math.abs(I.lb),Ge=rt*(ge-1)+me;j&=ve*(ge-1)+me<=I.Fd,j&=De*(ze-1)+we<=I.Cd,j=(j&=nt*(ze-1)+we<=I.Ed)&ve>=me&De>=we&nt>=we,j&=I.y!=null,j&=I.f!=null,j&=I.ea!=null,ce==12&&(j&=rt>=me,j&=Ge<=I.Tc,j&=I.F!=null)}else j=0;I=j?0:2}}return I!=0||W!=null&&W.fd&&(I=zd(te)),I}var Ai=64,Tu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Nu=24,Mu=32,Pu=8,fo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Oe("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(I){return I},L.Predictor2=function(I,j,W){return j[W+0]},L.Predictor3=function(I,j,W){return j[W+1]},L.Predictor4=function(I,j,W){return j[W-1]},L.Predictor5=function(I,j,W){return Ie(Ie(I,j[W+1]),j[W+0])},L.Predictor6=function(I,j,W){return Ie(I,j[W-1])},L.Predictor7=function(I,j,W){return Ie(I,j[W+0])},L.Predictor8=function(I,j,W){return Ie(j[W-1],j[W+0])},L.Predictor9=function(I,j,W){return Ie(j[W+0],j[W+1])},L.Predictor10=function(I,j,W){return Ie(Ie(I,j[W-1]),Ie(j[W+0],j[W+1]))},L.Predictor11=function(I,j,W){var te=j[W+0];return 0>=qe(te>>24&255,I>>24&255,(j=j[W-1])>>24&255)+qe(te>>16&255,I>>16&255,j>>16&255)+qe(te>>8&255,I>>8&255,j>>8&255)+qe(255&te,255&I,255&j)?te:I},L.Predictor12=function(I,j,W){var te=j[W+0];return($e((I>>24&255)+(te>>24&255)-((j=j[W-1])>>24&255))<<24|$e((I>>16&255)+(te>>16&255)-(j>>16&255))<<16|$e((I>>8&255)+(te>>8&255)-(j>>8&255))<<8|$e((255&I)+(255&te)-(255&j)))>>>0},L.Predictor13=function(I,j,W){var te=j[W-1];return(Ke((I=Ie(I,j[W+0]))>>24&255,te>>24&255)<<24|Ke(I>>16&255,te>>16&255)<<16|Ke(I>>8&255,te>>8&255)<<8|Ke(I>>0&255,te>>0&255))>>>0};var om=L.PredictorAdd0;L.PredictorAdd1=it,Oe("Predictor2","PredictorAdd2"),Oe("Predictor3","PredictorAdd3"),Oe("Predictor4","PredictorAdd4"),Oe("Predictor5","PredictorAdd5"),Oe("Predictor6","PredictorAdd6"),Oe("Predictor7","PredictorAdd7"),Oe("Predictor8","PredictorAdd8"),Oe("Predictor9","PredictorAdd9"),Oe("Predictor10","PredictorAdd10"),Oe("Predictor11","PredictorAdd11"),Oe("Predictor12","PredictorAdd12"),Oe("Predictor13","PredictorAdd13");var Ou=L.PredictorAdd2;Ct("ColorIndexInverseTransform","MapARGB","32b",function(I){return I>>8&255},function(I){return I}),Ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(I){return I},function(I){return I>>8&255});var hf,Qo=L.ColorIndexInverseTransform,ju=L.MapARGB,Ud=L.VP8LColorIndexInverseTransformAlpha,ff=L.MapAlpha,tl=L.VP8LPredictorsAdd=[];tl.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Bc,Mo,ro,Pl,ba,ka,Rc,jn,jr,Fc,Jr,Jo,zc,pf,fs,wa,Ol,_i,Uc,qc,jl,or,Ll,Zo,Xo,Ut,er,qr,Zr=l(511),ya=l(2041),Sr=l(225),va=l(767),qd=0,Bl=ya,Rl=Sr,Po=va,io=Zr,Aa=0,Vd=1,$d=2,Hd=3,Wd=4,mf=5,xb=6,sm=7,gf=8,Gd=9,bf=10,Sb=[2,3,7],am=[3,3,11],Eb=[280,256,256,256,40],Db=[0,1,1,1,0],jw=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Lw=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ib=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Pn=8,lm=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],nl=null,kf=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],cm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],sr=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],um=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Tb=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Bw=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Nb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],zl=[],Fs=[],rl=[],Ul=1,Mb=2,il=[],ps=[];ht("UpsampleRgbLinePair",Tn,3),ht("UpsampleBgrLinePair",Ir,3),ht("UpsampleRgbaLinePair",Bs,4),ht("UpsampleBgraLinePair",vi,4),ht("UpsampleArgbLinePair",Hi,4),ht("UpsampleRgba4444LinePair",Qr,2),ht("UpsampleRgb565LinePair",Or,2);var Rw=L.UpsampleRgbLinePair,Fw=L.UpsampleBgrLinePair,Pb=L.UpsampleRgbaLinePair,zw=L.UpsampleBgraLinePair,Ob=L.UpsampleArgbLinePair,jb=L.UpsampleRgba4444LinePair,Uw=L.UpsampleRgb565LinePair,Yd=16,Lu=1<<Yd-1,Kd=-227,dm=482,Lb=6,Bb=0,zs=l(256),Bi=l(256),Ri=l(256),po=l(256),_a=l(dm-Kd),hm=l(dm-Kd);ma("YuvToRgbRow",Tn,3),ma("YuvToBgrRow",Ir,3),ma("YuvToRgbaRow",Bs,4),ma("YuvToBgraRow",vi,4),ma("YuvToArgbRow",Hi,4),ma("YuvToRgba4444Row",Qr,2),ma("YuvToRgb565Row",Or,2);var wf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bu=[0,2,8],qw=[8,7,6,4,4,2,2,2,1,1,1,1],Rb=1;this.WebPDecodeRGBA=function(I,j,W,te,ce){var me=Vd,ge=new Oc,we=new zr;ge.ba=we,we.S=me,we.width=[we.width],we.height=[we.height];var ve=we.width,De=we.height,ze=new Kr;if(ze==null||I==null)var nt=2;else r(ze!=null),nt=ga(I,j,W,ze.width,ze.height,ze.Pd,ze.Qd,ze.format,null);if(nt!=0?ve=0:(ve!=null&&(ve[0]=ze.width[0]),De!=null&&(De[0]=ze.height[0]),ve=1),ve){we.width=we.width[0],we.height=we.height[0],te!=null&&(te[0]=we.width),ce!=null&&(ce[0]=we.height);e:{if(te=new $i,(ce=new Su).data=I,ce.w=j,ce.ha=W,ce.kd=1,j=[0],r(ce!=null),((I=ga(ce.data,ce.w,ce.ha,null,null,null,j,null,ce))==0||I==7)&&j[0]&&(I=4),(j=I)==0){if(r(ge!=null),te.data=ce.data,te.w=ce.w+ce.offset,te.ha=ce.ha-ce.offset,te.put=eo,te.ac=Mn,te.bc=si,te.ma=ge,ce.xa){if((I=Vi())==null){ge=1;break e}if(function(rt,Ge){var wt=[0],st=[0],Fe=[0];t:for(;;){if(rt==null)return 0;if(Ge==null)return rt.a=2,0;if(rt.l=Ge,rt.a=0,oe(rt.m,Ge.data,Ge.w,Ge.ha),!$t(rt.m,wt,st,Fe)){rt.a=3;break t}if(rt.xb=Mb,Ge.width=wt[0],Ge.height=st[0],!To(wt[0],st[0],1,rt,null))break t;return 1}return r(rt.a!=0),0}(I,te)){if(te=(j=el(te.width,te.height,ge.Oa,ge.ba))==0){t:{te=I;n:for(;;){if(te==null){te=0;break t}if(r(te.s.yc!=null),r(te.s.Ya!=null),r(0<te.s.Wb),r((W=te.l)!=null),r((ce=W.ma)!=null),te.xb!=0){if(te.ca=ce.ba,te.tb=ce.tb,r(te.ca!=null),!Fd(ce.Oa,W,Hd)){te.a=2;break n}if(!ca(te,W.width)||W.da)break n;if((W.da||bn(te.ca.S))&&Xe(),11>te.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),te.ca.f.kb.F!=null&&Xe()),te.Pb&&0<te.s.ua&&te.s.vb.X==null&&!Z(te.s.vb,te.s.Wa.Xa)){te.a=1;break n}te.xb=0}if(!Io(te,te.V,te.Ba,te.c,te.i,W.o,us))break n;ce.Dc=te.Ma,te=1;break t}r(te.a!=0),te=0}te=!te}te&&(j=I.a)}else j=I.a}else{if((I=new Qa)==null){ge=1;break e}if(I.Fa=ce.na,I.P=ce.P,I.qc=ce.Sa,Dc(I,te)){if((j=el(te.width,te.height,ge.Oa,ge.ba))==0){if(I.Aa=0,W=ge.Oa,r((ce=I)!=null),W!=null){if(0<(ve=0>(ve=W.Md)?0:100<ve?255:255*ve/100)){for(De=ze=0;4>De;++De)12>(nt=ce.pb[De]).lc&&(nt.ia=ve*qw[0>nt.lc?0:nt.lc]>>3),ze|=nt.ia;ze&&(alert("todo:VP8InitRandom"),ce.ia=1)}ce.Ga=W.Id,100<ce.Ga?ce.Ga=100:0>ce.Ga&&(ce.Ga=0)}Sl(I,te)||(j=I.a)}}else j=I.a}j==0&&ge.Oa!=null&&ge.Oa.fd&&(j=zd(ge.ba))}ge=j}me=ge!=0?null:11>me?we.f.RGBA.eb:we.f.kb.y}else me=null;return me};var es=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function g(L,U){for(var Q="",H=0;H<4;H++)Q+=String.fromCharCode(L[U++]);return Q}function b(L,U){return(L[U+0]<<0|L[U+1]<<8|L[U+2]<<16)>>>0}function v(L,U){return(L[U+0]<<0|L[U+1]<<8|L[U+2]<<16|L[U+3]<<24)>>>0}new p;var y=[0],k=[0],x=[],C=new p,D=t,S=function(L,U){var Q={},H=0,z=!1,G=0,R=0;if(Q.frames=[],!function(J,fe,le,ae){for(var Se=0;Se<ae;Se++)if(J[fe+Se]!=le.charCodeAt(Se))return!0;return!1}(L,U,"RIFF",4)){for(v(L,U+=4),U+=8;U<L.length;){var ne=g(L,U),ue=v(L,U+=4);U+=4;var ie=ue+(1&ue);switch(ne){case"VP8 ":case"VP8L":Q.frames[H]===void 0&&(Q.frames[H]={}),(re=Q.frames[H]).src_off=z?R:U-8,re.src_size=G+ue+8,H++,z&&(z=!1,G=0,R=0);break;case"VP8X":(re=Q.header={}).feature_flags=L[U];var oe=U+4;re.canvas_width=1+b(L,oe),oe+=3,re.canvas_height=1+b(L,oe),oe+=3;break;case"ALPH":z=!0,G=ie+8,R=U-8;break;case"ANIM":(re=Q.header).bgcolor=v(L,U),oe=U+4,re.loop_count=(Ce=L)[(X=oe)+0]<<0|Ce[X+1]<<8,oe+=2;break;case"ANMF":var ye,re;(re=Q.frames[H]={}).offset_x=2*b(L,U),U+=3,re.offset_y=2*b(L,U),U+=3,re.width=1+b(L,U),U+=3,re.height=1+b(L,U),U+=3,re.duration=b(L,U),U+=3,ye=L[U++],re.dispose=1&ye,re.blend=ye>>1&1}ne!="ANMF"&&(U+=ie)}var Ce,X;return Q}}(D,0);S.response=D,S.rgbaoutput=!0,S.dataurl=!1;var M=S.header?S.header:null,P=S.frames?S.frames:null;if(M){M.loop_counter=M.loop_count,y=[M.canvas_height],k=[M.canvas_width];for(var B=0;B<P.length&&P[B].blend!=0;B++);}var $=P[0],F=C.WebPDecodeRGBA(D,$.src_off,$.src_size,k,y);$.rgba=F,$.imgwidth=k[0],$.imgheight=y[0];for(var N=0;N<k[0]*y[0]*4;N++)x[N]=F[N];return this.width=k,this.height=y,this.data=x,this}(function(t){var r=function(){return typeof XA=="function"},n=function(y,k,x,C){var D=4,S=d;switch(C){case t.image_compression.FAST:D=1,S=l;break;case t.image_compression.MEDIUM:D=6,S=h;break;case t.image_compression.SLOW:D=9,S=p}y=o(y,k,x,S);var M=XA(y,{level:D});return t.__addimage__.arrayBufferToBinaryString(M)},o=function(y,k,x,C){for(var D,S,M,P=y.length/k,B=new Uint8Array(y.length+P),$=b(),F=0;F<P;F+=1){if(M=F*k,D=y.subarray(M,M+k),C)B.set(C(D,x,S),M+F);else{for(var N,L=$.length,U=[];N<L;N+=1)U[N]=$[N](D,x,S);var Q=v(U.concat());B.set(U[Q],M+F)}S=D}return B},s=function(y){var k=Array.apply([],y);return k.unshift(0),k},l=function(y,k){var x,C=[],D=y.length;C[0]=1;for(var S=0;S<D;S+=1)x=y[S-k]||0,C[S+1]=y[S]-x+256&255;return C},d=function(y,k,x){var C,D=[],S=y.length;D[0]=2;for(var M=0;M<S;M+=1)C=x&&x[M]||0,D[M+1]=y[M]-C+256&255;return D},h=function(y,k,x){var C,D,S=[],M=y.length;S[0]=3;for(var P=0;P<M;P+=1)C=y[P-k]||0,D=x&&x[P]||0,S[P+1]=y[P]+256-(C+D>>>1)&255;return S},p=function(y,k,x){var C,D,S,M,P=[],B=y.length;P[0]=4;for(var $=0;$<B;$+=1)C=y[$-k]||0,D=x&&x[$]||0,S=x&&x[$-k]||0,M=g(C,D,S),P[$+1]=y[$]-M+256&255;return P},g=function(y,k,x){if(y===k&&k===x)return y;var C=Math.abs(k-x),D=Math.abs(y-x),S=Math.abs(y+k-x-x);return C<=D&&C<=S?y:D<=S?k:x},b=function(){return[s,l,d,h,p]},v=function(y){var k=y.map(function(x){return x.reduce(function(C,D){return C+Math.abs(D)},0)});return k.indexOf(Math.min.apply(null,k))};t.processPNG=function(y,k,x,C){var D,S,M,P,B,$,F,N,L,U,Q,H,z,G,R,ne=this.decode.FLATE_DECODE,ue="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(M=new une(y)).imgData,S=M.bits,D=M.colorSpace,B=M.colors,[4,6].indexOf(M.colorType)!==-1){if(M.bits===8){L=(N=M.pixelBitlength==32?new Uint32Array(M.decodePixels().buffer):M.pixelBitlength==16?new Uint16Array(M.decodePixels().buffer):new Uint8Array(M.decodePixels().buffer)).length,Q=new Uint8Array(L*M.colors),U=new Uint8Array(L);var ie,oe=M.pixelBitlength-M.bits;for(G=0,R=0;G<L;G++){for(z=N[G],ie=0;ie<oe;)Q[R++]=z>>>ie&255,ie+=M.bits;U[G]=z>>>ie&255}}if(M.bits===16){L=(N=new Uint32Array(M.decodePixels().buffer)).length,Q=new Uint8Array(L*(32/M.pixelBitlength)*M.colors),U=new Uint8Array(L*(32/M.pixelBitlength)),H=M.colors>1,G=0,R=0;for(var ye=0;G<L;)z=N[G++],Q[R++]=z>>>0&255,H&&(Q[R++]=z>>>16&255,z=N[G++],Q[R++]=z>>>0&255),U[ye++]=z>>>16&255;S=8}C!==t.image_compression.NONE&&r()?(y=n(Q,M.width*M.colors,M.colors,C),F=n(U,M.width,1,C)):(y=Q,F=U,ne=void 0)}if(M.colorType===3&&(D=this.color_spaces.INDEXED,$=M.palette,M.transparency.indexed)){var re=M.transparency.indexed,Ce=0;for(G=0,L=re.length;G<L;++G)Ce+=re[G];if((Ce/=255)===L-1&&re.indexOf(0)!==-1)P=[re.indexOf(0)];else if(Ce!==L){for(N=M.decodePixels(),U=new Uint8Array(N.length),G=0,L=N.length;G<L;G++)U[G]=re[N[G]];F=n(U,M.width,1)}}var X=function(J){var fe;switch(J){case t.image_compression.FAST:fe=11;break;case t.image_compression.MEDIUM:fe=13;break;case t.image_compression.SLOW:fe=14;break;default:fe=12}return fe}(C);return ne===this.decode.FLATE_DECODE&&(ue="/Predictor "+X+" "),ue+="/Colors "+B+" /BitsPerComponent "+S+" /Columns "+M.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(F&&this.__addimage__.isArrayBuffer(F)||this.__addimage__.isArrayBufferView(F))&&(F=this.__addimage__.arrayBufferToBinaryString(F)),{alias:x,data:y,index:k,filter:ne,decodeParameters:ue,transparency:P,palette:$,sMask:F,predictor:X,width:M.width,height:M.height,bitsPerComponent:S,colorSpace:D}}}})(an.API),function(t){t.processGIF89A=function(r,n,o,s){var l=new dne(r),d=l.width,h=l.height,p=[];l.decodeAndBlitFrameRGBA(0,p);var g={data:p,width:d,height:h},b=new Yv(100).encode(g,100);return t.processJPEG.call(this,b,n,o,s)},t.processGIF87A=t.processGIF89A}(an.API),hl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var r=0;r<t;r++){var n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:s,green:o,blue:n,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},hl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[t]()}catch(n){Dr.log("bit decode error:"+n)}},hl.prototype.bit1=function(){var t,r=Math.ceil(this.width/8),n=r%4;for(t=this.height-1;t>=0;t--){for(var o=this.bottom_up?t:this.height-1-t,s=0;s<r;s++)for(var l=this.datav.getUint8(this.pos++,!0),d=o*this.width*4+8*s*4,h=0;h<8&&8*s+h<this.width;h++){var p=this.palette[l>>7-h&1];this.data[d+4*h]=p.blue,this.data[d+4*h+1]=p.green,this.data[d+4*h+2]=p.red,this.data[d+4*h+3]=255}n!==0&&(this.pos+=4-n)}},hl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),r=t%4,n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,s=0;s<t;s++){var l=this.datav.getUint8(this.pos++,!0),d=o*this.width*4+2*s*4,h=l>>4,p=15&l,g=this.palette[h];if(this.data[d]=g.blue,this.data[d+1]=g.green,this.data[d+2]=g.red,this.data[d+3]=255,2*s+1>=this.width)break;g=this.palette[p],this.data[d+4]=g.blue,this.data[d+4+1]=g.green,this.data[d+4+2]=g.red,this.data[d+4+3]=255}r!==0&&(this.pos+=4-r)}},hl.prototype.bit8=function(){for(var t=this.width%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+4*o;if(s<this.palette.length){var d=this.palette[s];this.data[l]=d.red,this.data[l+1]=d.green,this.data[l+2]=d.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}t!==0&&(this.pos+=4-t)}},hl.prototype.bit15=function(){for(var t=this.width%3,r=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var o=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(l&r)/r*255|0,h=(l>>5&r)/r*255|0,p=(l>>10&r)/r*255|0,g=l>>15?255:0,b=o*this.width*4+4*s;this.data[b]=p,this.data[b+1]=h,this.data[b+2]=d,this.data[b+3]=g}this.pos+=t}},hl.prototype.bit16=function(){for(var t=this.width%3,r=parseInt("11111",2),n=parseInt("111111",2),o=this.height-1;o>=0;o--){for(var s=this.bottom_up?o:this.height-1-o,l=0;l<this.width;l++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(d&r)/r*255|0,p=(d>>5&n)/n*255|0,g=(d>>11)/r*255|0,b=s*this.width*4+4*l;this.data[b]=g,this.data[b+1]=p,this.data[b+2]=h,this.data[b+3]=255}this.pos+=t}},hl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=r*this.width*4+4*n;this.data[d]=l,this.data[d+1]=s,this.data[d+2]=o,this.data[d+3]=255}this.pos+=this.width%4}},hl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),h=r*this.width*4+4*n;this.data[h]=l,this.data[h+1]=s,this.data[h+2]=o,this.data[h+3]=d}},hl.prototype.getData=function(){return this.data},function(t){t.processBMP=function(r,n,o,s){var l=new hl(r,!1),d=l.width,h=l.height,p={data:l.getData(),width:d,height:h},g=new Yv(100).encode(p,100);return t.processJPEG.call(this,g,n,o,s)}}(an.API),f6.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(r,n,o,s){var l=new f6(r),d=l.width,h=l.height,p={data:l.getData(),width:d,height:h},g=new Yv(100).encode(p,100);return t.processJPEG.call(this,g,n,o,s)}}(an.API),an.API.processRGBA=function(t,r,n){for(var o=t.data,s=o.length,l=new Uint8Array(s/4*3),d=new Uint8Array(s/4),h=0,p=0,g=0;g<s;g+=4){var b=o[g],v=o[g+1],y=o[g+2],k=o[g+3];l[h++]=b,l[h++]=v,l[h++]=y,d[p++]=k}var x=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:x,index:r,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},an.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Kf=an.API,ik=Kf.getCharWidthsArray=function(t,r){var n,o,s=(r=r||{}).font||this.internal.getFont(),l=r.fontSize||this.internal.getFontSize(),d=r.charSpace||this.internal.getCharSpace(),h=r.widths?r.widths:s.metadata.Unicode.widths,p=h.fof?h.fof:1,g=r.kerning?r.kerning:s.metadata.Unicode.kerning,b=g.fof?g.fof:1,v=r.doKerning!==!1,y=0,k=t.length,x=0,C=h[0]||p,D=[];for(n=0;n<k;n++)o=t.charCodeAt(n),typeof s.metadata.widthOfString=="function"?D.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(o))+d*(1e3/l)||0)/1e3):(y=v&&gr(g[o])==="object"&&!isNaN(parseInt(g[o][x],10))?g[o][x]/b:0,D.push((h[o]||C)/p+y)),x=o;return D},c6=Kf.getStringUnitWidth=function(t,r){var n=(r=r||{}).fontSize||this.internal.getFontSize(),o=r.font||this.internal.getFont(),s=r.charSpace||this.internal.getCharSpace();return Kf.processArabic&&(t=Kf.processArabic(t)),typeof o.metadata.widthOfString=="function"?o.metadata.widthOfString(t,n,s)/n:ik.apply(this,arguments).reduce(function(l,d){return l+d},0)},u6=function(t,r,n,o){for(var s=[],l=0,d=t.length,h=0;l!==d&&h+r[l]<n;)h+=r[l],l++;s.push(t.slice(0,l));var p=l;for(h=0;l!==d;)h+r[l]>o&&(s.push(t.slice(p,l)),h=0,p=l),h+=r[l],l++;return p!==l&&s.push(t.slice(p,l)),s},d6=function(t,r,n){n||(n={});var o,s,l,d,h,p,g,b=[],v=[b],y=n.textIndent||0,k=0,x=0,C=t.split(" "),D=ik.apply(this,[" ",n])[0];if(p=n.lineIndent===-1?C[0].length+2:n.lineIndent||0){var S=Array(p).join(" "),M=[];C.map(function(B){(B=B.split(/\s*\n/)).length>1?M=M.concat(B.map(function($,F){return(F&&$.length?`
`:"")+$})):M.push(B[0])}),C=M,p=c6.apply(this,[S,n])}for(l=0,d=C.length;l<d;l++){var P=0;if(o=C[l],p&&o[0]==`
`&&(o=o.substr(1),P=1),y+k+(x=(s=ik.apply(this,[o,n])).reduce(function(B,$){return B+$},0))>r||P){if(x>r){for(h=u6.apply(this,[o,s,r-(y+k),r]),b.push(h.shift()),b=[h.pop()];h.length;)v.push([h.shift()]);x=s.slice(o.length-(b[0]?b[0].length:0)).reduce(function(B,$){return B+$},0)}else b=[o];v.push(b),y=x+p,k=D}else b.push(o),y+=k+x,k=D}return g=p?function(B,$){return($?S:"")+B.join(" ")}:function(B){return B.join(" ")},v.map(g)},Kf.splitTextToSize=function(t,r,n){var o,s=(n=n||{}).fontSize||this.internal.getFontSize(),l=(function(b){if(b.widths&&b.kerning)return{widths:b.widths,kerning:b.kerning};var v=this.internal.getFont(b.fontName,b.fontStyle);return v.metadata.Unicode?{widths:v.metadata.Unicode.widths||{0:1},kerning:v.metadata.Unicode.kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);o=Array.isArray(t)?t:String(t).split(/\r?\n/);var d=1*this.internal.scaleFactor*r/s;l.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,l.lineIndent=n.lineIndent;var h,p,g=[];for(h=0,p=o.length;h<p;h++)g=g.concat(d6.apply(this,[o[h],d,l]));return g},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var r="klmnopqrstuvwxyz",n={},o={},s=0;s<r.length;s++)n[r[s]]="0123456789abcdef"[s],o["0123456789abcdef"[s]]=r[s];var l=function(v){return"0x"+parseInt(v,10).toString(16)},d=t.__fontmetrics__.compress=function(v){var y,k,x,C,D=["{"];for(var S in v){if(y=v[S],isNaN(parseInt(S,10))?k="'"+S+"'":(S=parseInt(S,10),k=(k=l(S).slice(2)).slice(0,-1)+o[k.slice(-1)]),typeof y=="number")y<0?(x=l(y).slice(3),C="-"):(x=l(y).slice(2),C=""),x=C+x.slice(0,-1)+o[x.slice(-1)];else{if(gr(y)!=="object")throw new Error("Don't know what to do with value type "+gr(y)+".");x=d(y)}D.push(k+x)}return D.push("}"),D.join("")},h=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,k,x,C,D={},S=1,M=D,P=[],B="",$="",F=v.length-1,N=1;N<F;N+=1)(C=v[N])=="'"?y?(x=y.join(""),y=void 0):y=[]:y?y.push(C):C=="{"?(P.push([M,x]),M={},x=void 0):C=="}"?((k=P.pop())[0][k[1]]=M,x=void 0,M=k[0]):C=="-"?S=-1:x===void 0?n.hasOwnProperty(C)?(B+=n[C],x=parseInt(B,16)*S,S=1,B=""):B+=C:n.hasOwnProperty(C)?($+=n[C],M[x]=parseInt($,16)*S,S=1,x=void 0,$=""):$+=C;return D},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},b={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var y=v.font,k=b.Unicode[y.postScriptName];k&&(y.metadata.Unicode={},y.metadata.Unicode.widths=k.widths,y.metadata.Unicode.kerning=k.kerning);var x=g.Unicode[y.postScriptName];x&&(y.metadata.Unicode.encoding=x,y.encoding=x.codePages[0])}])}(an.API),function(t){var r=function(n){for(var o=n.length,s=new Uint8Array(o),l=0;l<o;l++)s[l]=n.charCodeAt(l);return s};t.API.events.push(["addFont",function(n){var o=void 0,s=n.font,l=n.instance;if(!s.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(o=l.existsFileInVFS(s.postScriptName)===!1?l.loadFile(s.postScriptName):l.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(d,h){h=/^\x00\x01\x00\x00/.test(h)?r(h):r(Cg(h)),d.metadata=t.API.TTFFont.open(h),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(s,o)}}])}(an),function(t){function r(){return(ln.canvg?Promise.resolve(ln.canvg):Ki(()=>import("./index.es-B1-NTblP.js"),__vite__mapDeps([6,1,4,5]))).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}an.API.addSvgAsImage=function(n,o,s,l,d,h,p,g){if(isNaN(o)||isNaN(s))throw Dr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(l)||isNaN(d))throw Dr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var b=document.createElement("canvas");b.width=l,b.height=d;var v=b.getContext("2d");v.fillStyle="#fff",v.fillRect(0,0,b.width,b.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},k=this;return r().then(function(x){return x.fromString(v,n,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(y)}).then(function(){k.addImage(b.toDataURL("image/jpeg",1),o,s,l,d,p,g)})}}(),an.API.putTotalPages=function(t){var r,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var o=1;o<=this.internal.getNumberOfPages();o++)for(var s=0;s<this.internal.pages[o].length;s++)this.internal.pages[o][s]=this.internal.pages[o][s].replace(r,n);return this},an.API.viewerPreferences=function(t,r){var n;t=t||{},r=r||!1;var o,s,l,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},h=Object.keys(d),p=[],g=0,b=0,v=0;function y(x,C){var D,S=!1;for(D=0;D<x.length;D+=1)x[D]===C&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||r===!0){var k=h.length;for(v=0;v<k;v+=1)n[h[v]].value=n[h[v]].defaultValue,n[h[v]].explicitSet=!1}if(gr(t)==="object"){for(s in t)if(l=t[s],y(h,s)&&l!==void 0){if(n[s].type==="boolean"&&typeof l=="boolean")n[s].value=l;else if(n[s].type==="name"&&y(n[s].valueSet,l))n[s].value=l;else if(n[s].type==="integer"&&Number.isInteger(l))n[s].value=l;else if(n[s].type==="array"){for(g=0;g<l.length;g+=1)if(o=!0,l[g].length===1&&typeof l[g][0]=="number")p.push(String(l[g]-1));else if(l[g].length>1){for(b=0;b<l[g].length;b+=1)typeof l[g][b]!="number"&&(o=!1);o===!0&&p.push([l[g][0]-1,l[g][1]-1].join(" "))}n[s].value="["+p.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,C=[];for(x in n)n[x].explicitSet===!0&&(n[x].type==="name"?C.push("/"+x+" /"+n[x].value):C.push("/"+x+" "+n[x].value));C.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+C.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var r=function(){var o='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),l=unescape(encodeURIComponent(o)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),h=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),p=unescape(encodeURIComponent("</x:xmpmeta>")),g=l.length+d.length+h.length+s.length+p.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+g+" >>"),this.internal.write("stream"),this.internal.write(s+l+d+h+p),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(o,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:o,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",r)),this}}(an.API),function(t){var r=t.API,n=r.pdfEscape16=function(l,d){for(var h,p=d.metadata.Unicode.widths,g=["","0","00","000","0000"],b=[""],v=0,y=l.length;v<y;++v){if(h=d.metadata.characterToGlyph(l.charCodeAt(v)),d.metadata.glyIdsUsed.push(h),d.metadata.toUnicode[h]=l.charCodeAt(v),p.indexOf(h)==-1&&(p.push(h),p.push([parseInt(d.metadata.widthOfGlyph(h),10)])),h=="0")return b.join("");h=h.toString(16),b.push(g[4-h.length],h)}return b.join("")},o=function(l){var d,h,p,g,b,v,y;for(b=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,p=[],v=0,y=(h=Object.keys(l).sort(function(k,x){return k-x})).length;v<y;v++)d=h[v],p.length>=100&&(b+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar`,p=[]),l[d]!==void 0&&l[d]!==null&&typeof l[d].toString=="function"&&(g=("0000"+l[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),p.push("<"+d+"><"+g+">"));return p.length&&(b+=`
`+p.length+` beginbfchar
`+p.join(`
`)+`
endbfchar
`),b+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(l){(function(d){var h=d.font,p=d.out,g=d.newObject,b=d.putStream;if(h.metadata instanceof t.API.TTFFont&&h.encoding==="Identity-H"){for(var v=h.metadata.Unicode.widths,y=h.metadata.subset.encode(h.metadata.glyIdsUsed,1),k="",x=0;x<y.length;x++)k+=String.fromCharCode(y[x]);var C=g();b({data:k,addLength1:!0,objectId:C}),p("endobj");var D=g();b({data:o(h.metadata.toUnicode),addLength1:!0,objectId:D}),p("endobj");var S=g();p("<<"),p("/Type /FontDescriptor"),p("/FontName /"+dp(h.fontName)),p("/FontFile2 "+C+" 0 R"),p("/FontBBox "+t.API.PDFObject.convert(h.metadata.bbox)),p("/Flags "+h.metadata.flags),p("/StemV "+h.metadata.stemV),p("/ItalicAngle "+h.metadata.italicAngle),p("/Ascent "+h.metadata.ascender),p("/Descent "+h.metadata.decender),p("/CapHeight "+h.metadata.capHeight),p(">>"),p("endobj");var M=g();p("<<"),p("/Type /Font"),p("/BaseFont /"+dp(h.fontName)),p("/FontDescriptor "+S+" 0 R"),p("/W "+t.API.PDFObject.convert(v)),p("/CIDToGIDMap /Identity"),p("/DW 1000"),p("/Subtype /CIDFontType2"),p("/CIDSystemInfo"),p("<<"),p("/Supplement 0"),p("/Registry (Adobe)"),p("/Ordering ("+h.encoding+")"),p(">>"),p(">>"),p("endobj"),h.objectNumber=g(),p("<<"),p("/Type /Font"),p("/Subtype /Type0"),p("/ToUnicode "+D+" 0 R"),p("/BaseFont /"+dp(h.fontName)),p("/Encoding /"+h.encoding),p("/DescendantFonts ["+M+" 0 R]"),p(">>"),p("endobj"),h.isAlreadyPutted=!0}})(l)}]),r.events.push(["putFont",function(l){(function(d){var h=d.font,p=d.out,g=d.newObject,b=d.putStream;if(h.metadata instanceof t.API.TTFFont&&h.encoding==="WinAnsiEncoding"){for(var v=h.metadata.rawData,y="",k=0;k<v.length;k++)y+=String.fromCharCode(v[k]);var x=g();b({data:y,addLength1:!0,objectId:x}),p("endobj");var C=g();b({data:o(h.metadata.toUnicode),addLength1:!0,objectId:C}),p("endobj");var D=g();p("<<"),p("/Descent "+h.metadata.decender),p("/CapHeight "+h.metadata.capHeight),p("/StemV "+h.metadata.stemV),p("/Type /FontDescriptor"),p("/FontFile2 "+x+" 0 R"),p("/Flags 96"),p("/FontBBox "+t.API.PDFObject.convert(h.metadata.bbox)),p("/FontName /"+dp(h.fontName)),p("/ItalicAngle "+h.metadata.italicAngle),p("/Ascent "+h.metadata.ascender),p(">>"),p("endobj"),h.objectNumber=g();for(var S=0;S<h.metadata.hmtx.widths.length;S++)h.metadata.hmtx.widths[S]=parseInt(h.metadata.hmtx.widths[S]*(1e3/h.metadata.head.unitsPerEm));p("<</Subtype/TrueType/Type/Font/ToUnicode "+C+" 0 R/BaseFont/"+dp(h.fontName)+"/FontDescriptor "+D+" 0 R/Encoding/"+h.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(h.metadata.hmtx.widths)+">>"),p("endobj"),h.isAlreadyPutted=!0}})(l)}]);var s=function(l){var d,h=l.text||"",p=l.x,g=l.y,b=l.options||{},v=l.mutex||{},y=v.pdfEscape,k=v.activeFontKey,x=v.fonts,C=k,D="",S=0,M="",P=x[C].encoding;if(x[C].encoding!=="Identity-H")return{text:h,x:p,y:g,options:b,mutex:v};for(M=h,C=k,Array.isArray(h)&&(M=h[0]),S=0;S<M.length;S+=1)x[C].metadata.hasOwnProperty("cmap")&&(d=x[C].metadata.cmap.unicode.codeMap[M[S].charCodeAt(0)]),d||M[S].charCodeAt(0)<256&&x[C].metadata.hasOwnProperty("Unicode")?D+=M[S]:D+="";var B="";return parseInt(C.slice(1))<14||P==="WinAnsiEncoding"?B=y(D,C).split("").map(function($){return $.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(B=n(D,x[C])),v.isHex=!0,{text:B,x:p,y:g,options:b,mutex:v}};r.events.push(["postProcessText",function(l){var d=l.text||"",h=[],p={text:d,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(d)){var g=0;for(g=0;g<d.length;g+=1)Array.isArray(d[g])&&d[g].length===3?h.push([s(Object.assign({},p,{text:d[g][0]})).text,d[g][1],d[g][2]]):h.push(s(Object.assign({},p,{text:d[g]})).text);l.text=h}else l.text=s(Object.assign({},p,{text:d})).text}])}(an),function(t){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,o){return r.call(this),this.internal.vFS[n]=o,this},t.getFileFromVFS=function(n){return r.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(an.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(o){var s,l,d,h,p,g,b,v=r,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],k=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},C={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},D=["(",")","(","<",">","<","[","]","[","{","}","{","Â«","Â»","Â«","â€¹","â€º","â€¹","â…","â†","â…","â½","â¾","â½","â‚","â‚Ž","â‚","â‰¤","â‰¥","â‰¤","âŒ©","âŒª","âŒ©","ï¹™","ï¹š","ï¹™","ï¹›","ï¹œ","ï¹›","ï¹","ï¹ž","ï¹","ï¹¤","ï¹¥","ï¹¤"],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),M=!1,P=0;this.__bidiEngine__={};var B=function(H){var z=H.charCodeAt(),G=z>>8,R=C[G];return R!==void 0?v[256*R+(255&z)]:G===252||G===253?"AL":S.test(G)?"L":G===8?"R":"N"},$=function(H){for(var z,G=0;G<H.length;G++){if((z=B(H.charAt(G)))==="L")return!1;if(z==="R")return!0}return!1},F=function(H,z,G,R){var ne,ue,ie,oe,ye=z[R];switch(ye){case"L":case"R":M=!1;break;case"N":case"AN":break;case"EN":M&&(ye="AN");break;case"AL":M=!0,ye="R";break;case"WS":ye="N";break;case"CS":R<1||R+1>=z.length||(ne=G[R-1])!=="EN"&&ne!=="AN"||(ue=z[R+1])!=="EN"&&ue!=="AN"?ye="N":M&&(ue="AN"),ye=ue===ne?ue:"N";break;case"ES":ye=(ne=R>0?G[R-1]:"B")==="EN"&&R+1<z.length&&z[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&G[R-1]==="EN"){ye="EN";break}if(M){ye="N";break}for(ie=R+1,oe=z.length;ie<oe&&z[ie]==="ET";)ie++;ye=ie<oe&&z[ie]==="EN"?"EN":"N";break;case"NSM":if(d&&!h){for(oe=z.length,ie=R+1;ie<oe&&z[ie]==="NSM";)ie++;if(ie<oe){var re=H[R],Ce=re>=1425&&re<=2303||re===64286;if(ne=z[ie],Ce&&(ne==="R"||ne==="AL")){ye="R";break}}}ye=R<1||(ne=z[R-1])==="B"?"N":G[R-1];break;case"B":M=!1,s=!0,ye=P;break;case"S":l=!0,ye="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":M=!1;break;case"BN":ye="N"}return ye},N=function(H,z,G){var R=H.split("");return G&&L(R,G,{hiLevel:P}),R.reverse(),z&&z.reverse(),R.join("")},L=function(H,z,G){var R,ne,ue,ie,oe,ye=-1,re=H.length,Ce=0,X=[],J=P?k:y,fe=[];for(M=!1,s=!1,l=!1,ne=0;ne<re;ne++)fe[ne]=B(H[ne]);for(ue=0;ue<re;ue++){if(oe=Ce,X[ue]=F(H,fe,X,ue),R=240&(Ce=J[oe][x[X[ue]]]),Ce&=15,z[ue]=ie=J[Ce][5],R>0)if(R===16){for(ne=ye;ne<ue;ne++)z[ne]=1;ye=-1}else ye=-1;if(J[Ce][6])ye===-1&&(ye=ue);else if(ye>-1){for(ne=ye;ne<ue;ne++)z[ne]=ie;ye=-1}fe[ue]==="B"&&(z[ue]=0),G.hiLevel|=ie}l&&function(le,ae,Se){for(var xe=0;xe<Se;xe++)if(le[xe]==="S"){ae[xe]=P;for(var Te=xe-1;Te>=0&&le[Te]==="WS";Te--)ae[Te]=P}}(fe,z,re)},U=function(H,z,G,R,ne){if(!(ne.hiLevel<H)){if(H===1&&P===1&&!s)return z.reverse(),void(G&&G.reverse());for(var ue,ie,oe,ye,re=z.length,Ce=0;Ce<re;){if(R[Ce]>=H){for(oe=Ce+1;oe<re&&R[oe]>=H;)oe++;for(ye=Ce,ie=oe-1;ye<ie;ye++,ie--)ue=z[ye],z[ye]=z[ie],z[ie]=ue,G&&(ue=G[ye],G[ye]=G[ie],G[ie]=ue);Ce=oe}Ce++}}},Q=function(H,z,G){var R=H.split(""),ne={hiLevel:P};return G||(G=[]),L(R,G,ne),function(ue,ie,oe){if(oe.hiLevel!==0&&b)for(var ye,re=0;re<ue.length;re++)ie[re]===1&&(ye=D.indexOf(ue[re]))>=0&&(ue[re]=D[ye+1])}(R,G,ne),U(2,R,z,G,ne),U(1,R,z,G,ne),R.join("")};return this.__bidiEngine__.doBidiReorder=function(H,z,G){if(function(ne,ue){if(ue)for(var ie=0;ie<ne.length;ie++)ue[ie]=ie;h===void 0&&(h=$(ne)),g===void 0&&(g=$(ne))}(H,z),d||!p||g)if(d&&p&&h^g)P=h?1:0,H=N(H,z,G);else if(!d&&p&&g)P=h?1:0,H=Q(H,z,G),H=N(H,z);else if(!d||h||p||g){if(d&&!p&&h^g)H=N(H,z),h?(P=0,H=Q(H,z,G)):(P=1,H=Q(H,z,G),H=N(H,z));else if(d&&h&&!p&&g)P=1,H=Q(H,z,G),H=N(H,z);else if(!d&&!p&&h^g){var R=b;h?(P=1,H=Q(H,z,G),P=0,b=!1,H=Q(H,z,G),b=R):(P=0,H=Q(H,z,G),H=N(H,z),P=1,b=!1,H=Q(H,z,G),b=R,H=N(H,z))}}else P=0,H=Q(H,z,G);else P=h?1:0,H=Q(H,z,G);return H},this.__bidiEngine__.setOptions=function(H){H&&(d=H.isInputVisual,p=H.isOutputVisual,h=H.isInputRtl,g=H.isOutputRtl,b=H.isSymmetricSwapping)},this.__bidiEngine__.setOptions(o),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(o){var s=o.text;o.x,o.y;var l=o.options||{};o.mutex,l.lang;var d=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,n.setOptions(l),Object.prototype.toString.call(s)==="[object Array]"){var h=0;for(d=[],h=0;h<s.length;h+=1)Object.prototype.toString.call(s[h])==="[object Array]"?d.push([n.doBidiReorder(s[h][0]),s[h][1],s[h][2]]):d.push([n.doBidiReorder(s[h])]);o.text=d}else o.text=n.doBidiReorder(s);n.setOptions({isInputVisual:!0})}])}(an),an.API.TTFFont=function(){function t(r){var n;if(this.rawData=r,n=this.contents=new kd(r),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Sne(this),this.registerTTF()}return t.open=function(r){return new t(r)},t.prototype.parse=function(){return this.directory=new hne(this.contents),this.head=new pne(this),this.name=new wne(this),this.cmap=new Nj(this),this.toUnicode={},this.hhea=new mne(this),this.maxp=new yne(this),this.hmtx=new vne(this),this.post=new bne(this),this.os2=new gne(this),this.loca=new xne(this),this.glyf=new Ane(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var r,n,o,s,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,h,p,g;for(g=[],d=0,h=(p=this.bbox).length;d<h;d++)r=p[d],g.push(Math.round(r*this.scaleFactor));return g}).call(this),this.stemV=0,this.post.exists?(o=255&(s=this.post.italic_angle),(32768&(n=s>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+o)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(r){var n;return((n=this.cmap.unicode)!=null?n.codeMap[r]:void 0)||0},t.prototype.widthOfGlyph=function(r){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*n},t.prototype.widthOfString=function(r,n,o){var s,l,d,h;for(d=0,l=0,h=(r=""+r).length;0<=h?l<h:l>h;l=0<=h?++l:--l)s=r.charCodeAt(l),d+=this.widthOfGlyph(this.characterToGlyph(s))+o*(1e3/n)||0;return d*(n/1e3)},t.prototype.lineHeight=function(r,n){var o;return n==null&&(n=!1),o=n?this.lineGap:0,(this.ascender+o-this.decender)/1e3*r},t}();var Al,kd=function(){function t(r){this.data=r??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(r){return this.data[this.pos++]=r},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},t.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},t.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},t.prototype.readString=function(r){var n,o;for(o=[],n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)o[n]=String.fromCharCode(this.readByte());return o.join("")},t.prototype.writeString=function(r){var n,o,s;for(s=[],n=0,o=r.length;0<=o?n<o:n>o;n=0<=o?++n:--n)s.push(this.writeByte(r.charCodeAt(n)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(r){return this.writeInt16(r)},t.prototype.readLongLong=function(){var r,n,o,s,l,d,h,p;return r=this.readByte(),n=this.readByte(),o=this.readByte(),s=this.readByte(),l=this.readByte(),d=this.readByte(),h=this.readByte(),p=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^n)+1099511627776*(255^o)+4294967296*(255^s)+16777216*(255^l)+65536*(255^d)+256*(255^h)+(255^p)+1):72057594037927940*r+281474976710656*n+1099511627776*o+4294967296*s+16777216*l+65536*d+256*h+p},t.prototype.writeLongLong=function(r){var n,o;return n=Math.floor(r/4294967296),o=4294967295&r,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(o>>24&255),this.writeByte(o>>16&255),this.writeByte(o>>8&255),this.writeByte(255&o)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(r){return this.writeInt32(r)},t.prototype.read=function(r){var n,o;for(n=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)n.push(this.readByte());return n},t.prototype.write=function(r){var n,o,s,l;for(l=[],o=0,s=r.length;o<s;o++)n=r[o],l.push(this.writeByte(n));return l},t}(),hne=function(){var t;function r(n){var o,s,l;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},s=0,l=this.tableCount;0<=l?s<l:s>l;s=0<=l?++s:--s)o={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[o.tag]=o}return r.prototype.encode=function(n){var o,s,l,d,h,p,g,b,v,y,k,x,C;for(C in k=Object.keys(n).length,p=Math.log(2),v=16*Math.floor(Math.log(k)/p),d=Math.floor(v/p),b=16*k-v,(s=new kd).writeInt(this.scalarType),s.writeShort(k),s.writeShort(v),s.writeShort(d),s.writeShort(b),l=16*k,g=s.pos+l,h=null,x=[],n)for(y=n[C],s.writeString(C),s.writeInt(t(y)),s.writeInt(g),s.writeInt(y.length),x=x.concat(y),C==="head"&&(h=g),g+=y.length;g%4;)x.push(0),g++;return s.write(x),o=2981146554-t(s.data),s.pos=h+8,s.writeUInt32(o),s.data},t=function(n){var o,s,l,d;for(n=Mj.call(n);n.length%4;)n.push(0);for(l=new kd(n),s=0,o=0,d=n.length;o<d;o=o+=4)s+=l.readUInt32();return 4294967295&s},r}(),fne={}.hasOwnProperty,Sc=function(t,r){for(var n in r)fne.call(r,n)&&(t[n]=r[n]);function o(){this.constructor=t}return o.prototype=r.prototype,t.prototype=new o,t.__super__=r.prototype,t};Al=function(){function t(r){var n;this.file=r,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var pne=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Sc(r,Al),r.prototype.tag="head",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},r.prototype.encode=function(n){var o;return(o=new kd).writeInt(this.version),o.writeInt(this.revision),o.writeInt(this.checkSumAdjustment),o.writeInt(this.magicNumber),o.writeShort(this.flags),o.writeShort(this.unitsPerEm),o.writeLongLong(this.created),o.writeLongLong(this.modified),o.writeShort(this.xMin),o.writeShort(this.yMin),o.writeShort(this.xMax),o.writeShort(this.yMax),o.writeShort(this.macStyle),o.writeShort(this.lowestRecPPEM),o.writeShort(this.fontDirectionHint),o.writeShort(n),o.writeShort(this.glyphDataFormat),o.data},r}(),p6=function(){function t(r,n){var o,s,l,d,h,p,g,b,v,y,k,x,C,D,S,M,P;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=n+r.readInt(),v=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(p=0;p<256;++p)this.codeMap[p]=r.readByte();break;case 4:for(k=r.readUInt16(),y=k/2,r.pos+=6,l=function(){var B,$;for($=[],p=B=0;0<=y?B<y:B>y;p=0<=y?++B:--B)$.push(r.readUInt16());return $}(),r.pos+=2,C=function(){var B,$;for($=[],p=B=0;0<=y?B<y:B>y;p=0<=y?++B:--B)$.push(r.readUInt16());return $}(),g=function(){var B,$;for($=[],p=B=0;0<=y?B<y:B>y;p=0<=y?++B:--B)$.push(r.readUInt16());return $}(),b=function(){var B,$;for($=[],p=B=0;0<=y?B<y:B>y;p=0<=y?++B:--B)$.push(r.readUInt16());return $}(),s=(this.length-r.pos+this.offset)/2,h=function(){var B,$;for($=[],p=B=0;0<=s?B<s:B>s;p=0<=s?++B:--B)$.push(r.readUInt16());return $}(),p=S=0,P=l.length;S<P;p=++S)for(D=l[p],o=M=x=C[p];x<=D?M<=D:M>=D;o=x<=D?++M:--M)b[p]===0?d=o+g[p]:(d=h[b[p]/2+(o-x)-(y-p)]||0)!==0&&(d+=g[p]),this.codeMap[o]=65535&d}r.pos=v}return t.encode=function(r,n){var o,s,l,d,h,p,g,b,v,y,k,x,C,D,S,M,P,B,$,F,N,L,U,Q,H,z,G,R,ne,ue,ie,oe,ye,re,Ce,X,J,fe,le,ae,Se,xe,Te,Ye,We,Je;switch(R=new kd,d=Object.keys(r).sort(function(Ue,Z){return Ue-Z}),n){case"macroman":for(C=0,D=function(){var Ue=[];for(x=0;x<256;++x)Ue.push(0);return Ue}(),M={0:0},l={},ne=0,ye=d.length;ne<ye;ne++)M[Te=r[s=d[ne]]]==null&&(M[Te]=++C),l[s]={old:r[s],new:M[r[s]]},D[s]=M[r[s]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(D),{charMap:l,subtable:R.data,maxGlyphID:C+1};case"unicode":for(z=[],v=[],P=0,M={},o={},S=g=null,ue=0,re=d.length;ue<re;ue++)M[$=r[s=d[ue]]]==null&&(M[$]=++P),o[s]={old:$,new:M[$]},h=M[$]-s,S!=null&&h===g||(S&&v.push(S),z.push(s),g=h),S=s;for(S&&v.push(S),v.push(65535),z.push(65535),Q=2*(U=z.length),L=2*Math.pow(Math.log(U)/Math.LN2,2),y=Math.log(L/2)/Math.LN2,N=2*U-L,p=[],F=[],k=[],x=ie=0,Ce=z.length;ie<Ce;x=++ie){if(H=z[x],b=v[x],H===65535){p.push(0),F.push(0);break}if(H-(G=o[H].new)>=32768)for(p.push(0),F.push(2*(k.length+U-x)),s=oe=H;H<=b?oe<=b:oe>=b;s=H<=b?++oe:--oe)k.push(o[s].new);else p.push(G-H),F.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*U+2*k.length),R.writeUInt16(0),R.writeUInt16(Q),R.writeUInt16(L),R.writeUInt16(y),R.writeUInt16(N),Se=0,X=v.length;Se<X;Se++)s=v[Se],R.writeUInt16(s);for(R.writeUInt16(0),xe=0,J=z.length;xe<J;xe++)s=z[xe],R.writeUInt16(s);for(Ye=0,fe=p.length;Ye<fe;Ye++)h=p[Ye],R.writeUInt16(h);for(We=0,le=F.length;We<le;We++)B=F[We],R.writeUInt16(B);for(Je=0,ae=k.length;Je<ae;Je++)C=k[Je],R.writeUInt16(C);return{charMap:o,subtable:R.data,maxGlyphID:P+1}}},t}(),Nj=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Sc(r,Al),r.prototype.tag="cmap",r.prototype.parse=function(n){var o,s,l;for(n.pos=this.offset,this.version=n.readUInt16(),l=n.readUInt16(),this.tables=[],this.unicode=null,s=0;0<=l?s<l:s>l;s=0<=l?++s:--s)o=new p6(n,this.offset),this.tables.push(o),o.isUnicode&&this.unicode==null&&(this.unicode=o);return!0},r.encode=function(n,o){var s,l;return o==null&&(o="macroman"),s=p6.encode(n,o),(l=new kd).writeUInt16(0),l.writeUInt16(1),s.table=l.data.concat(s.subtable),s},r}(),mne=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Sc(r,Al),r.prototype.tag="hhea",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},r}(),gne=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Sc(r,Al),r.prototype.tag="OS/2",r.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var o,s;for(s=[],o=0;o<10;++o)s.push(n.readByte());return s}(),this.charRange=function(){var o,s;for(s=[],o=0;o<4;++o)s.push(n.readInt());return s}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var o,s;for(s=[],o=0;o<2;o=++o)s.push(n.readInt());return s}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},r}(),bne=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Sc(r,Al),r.prototype.tag="post",r.prototype.parse=function(n){var o,s,l;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var d;for(s=n.readUInt16(),this.glyphNameIndex=[],d=0;0<=s?d<s:d>s;d=0<=s?++d:--d)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],l=[];n.pos<this.offset+this.length;)o=n.readByte(),l.push(this.names.push(n.readString(o)));return l;case 151552:return s=n.readUInt16(),this.offsets=n.read(s);case 196608:break;case 262144:return this.map=(function(){var h,p,g;for(g=[],d=h=0,p=this.file.maxp.numGlyphs;0<=p?h<p:h>p;d=0<=p?++h:--h)g.push(n.readUInt32());return g}).call(this)}},r}(),kne=function(t,r){this.raw=t,this.length=t.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},wne=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Sc(r,Al),r.prototype.tag="name",r.prototype.parse=function(n){var o,s,l,d,h,p,g,b,v,y,k;for(n.pos=this.offset,n.readShort(),o=n.readShort(),p=n.readShort(),s=[],d=0;0<=o?d<o:d>o;d=0<=o?++d:--d)s.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+p+n.readShort()});for(g={},d=v=0,y=s.length;v<y;d=++v)l=s[d],n.pos=l.offset,b=n.readString(l.length),h=new kne(b,l),g[k=l.nameID]==null&&(g[k]=[]),g[l.nameID].push(h);this.strings=g,this.copyright=g[0],this.fontFamily=g[1],this.fontSubfamily=g[2],this.uniqueSubfamily=g[3],this.fontName=g[4],this.version=g[5];try{this.postscriptName=g[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=g[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=g[7],this.manufacturer=g[8],this.designer=g[9],this.description=g[10],this.vendorUrl=g[11],this.designerUrl=g[12],this.license=g[13],this.licenseUrl=g[14],this.preferredFamily=g[15],this.preferredSubfamily=g[17],this.compatibleFull=g[18],this.sampleText=g[19]},r}(),yne=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Sc(r,Al),r.prototype.tag="maxp",r.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},r}(),vne=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Sc(r,Al),r.prototype.tag="hmtx",r.prototype.parse=function(n){var o,s,l,d,h,p,g;for(n.pos=this.offset,this.metrics=[],o=0,p=this.file.hhea.numberOfMetrics;0<=p?o<p:o>p;o=0<=p?++o:--o)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(l=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var b,v;for(v=[],o=b=0;0<=l?b<l:b>l;o=0<=l?++b:--b)v.push(n.readInt16());return v}(),this.widths=(function(){var b,v,y,k;for(k=[],b=0,v=(y=this.metrics).length;b<v;b++)d=y[b],k.push(d.advance);return k}).call(this),s=this.widths[this.widths.length-1],g=[],o=h=0;0<=l?h<l:h>l;o=0<=l?++h:--h)g.push(this.widths.push(s));return g},r.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},r}(),Mj=[].slice,Ane=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Sc(r,Al),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(n){var o,s,l,d,h,p,g,b,v,y;return n in this.cache?this.cache[n]:(d=this.file.loca,o=this.file.contents,s=d.indexOf(n),(l=d.lengthOf(n))===0?this.cache[n]=null:(o.pos=this.offset+s,h=(p=new kd(o.read(l))).readShort(),b=p.readShort(),y=p.readShort(),g=p.readShort(),v=p.readShort(),this.cache[n]=h===-1?new Cne(p,b,y,g,v):new _ne(p,h,b,y,g,v),this.cache[n]))},r.prototype.encode=function(n,o,s){var l,d,h,p,g;for(h=[],d=[],p=0,g=o.length;p<g;p++)l=n[o[p]],d.push(h.length),l&&(h=h.concat(l.encode(s)));return d.push(h.length),{table:h,offsets:d}},r}(),_ne=function(){function t(r,n,o,s,l,d){this.raw=r,this.numberOfContours=n,this.xMin=o,this.yMin=s,this.xMax=l,this.yMax=d,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Cne=function(){function t(r,n,o,s,l){var d,h;for(this.raw=r,this.xMin=n,this.yMin=o,this.xMax=s,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;h=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&h;)d.pos+=1&h?4:2,128&h?d.pos+=8:64&h?d.pos+=4:8&h&&(d.pos+=2)}return t.prototype.encode=function(){var r,n,o;for(n=new kd(Mj.call(this.raw.data)),r=0,o=this.glyphIDs.length;r<o;++r)n.pos=this.glyphOffsets[r];return n.data},t}(),xne=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return Sc(r,Al),r.prototype.tag="loca",r.prototype.parse=function(n){var o,s;return n.pos=this.offset,o=this.file.head.indexToLocFormat,this.offsets=o===0?(function(){var l,d;for(d=[],s=0,l=this.length;s<l;s+=2)d.push(2*n.readUInt16());return d}).call(this):(function(){var l,d;for(d=[],s=0,l=this.length;s<l;s+=4)d.push(n.readUInt32());return d}).call(this)},r.prototype.indexOf=function(n){return this.offsets[n]},r.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},r.prototype.encode=function(n,o){for(var s=new Uint32Array(this.offsets.length),l=0,d=0,h=0;h<s.length;++h)if(s[h]=l,d<o.length&&o[d]==h){++d,s[h]=l;var p=this.offsets[h],g=this.offsets[h+1]-p;g>0&&(l+=g)}for(var b=new Array(4*s.length),v=0;v<s.length;++v)b[4*v+3]=255&s[v],b[4*v+2]=(65280&s[v])>>8,b[4*v+1]=(16711680&s[v])>>16,b[4*v]=(4278190080&s[v])>>24;return b},r}(),Sne=function(){function t(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var r,n,o,s,l;for(n in s=this.font.cmap.tables[0].codeMap,r={},l=this.subset)o=l[n],r[n]=s[o];return r},t.prototype.glyphsFor=function(r){var n,o,s,l,d,h,p;for(s={},d=0,h=r.length;d<h;d++)s[l=r[d]]=this.font.glyf.glyphFor(l);for(l in n=[],s)(o=s[l])!=null&&o.compound&&n.push.apply(n,o.glyphIDs);if(n.length>0)for(l in p=this.glyphsFor(n))o=p[l],s[l]=o;return s},t.prototype.encode=function(r,n){var o,s,l,d,h,p,g,b,v,y,k,x,C,D,S;for(s in o=Nj.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(r),k={0:0},S=o.charMap)k[(p=S[s]).old]=p.new;for(x in y=o.maxGlyphID,d)x in k||(k[x]=y++);return b=function(M){var P,B;for(P in B={},M)B[M[P]]=P;return B}(k),v=Object.keys(b).sort(function(M,P){return M-P}),C=function(){var M,P,B;for(B=[],M=0,P=v.length;M<P;M++)h=v[M],B.push(b[h]);return B}(),l=this.font.glyf.encode(d,C,k),g=this.font.loca.encode(l.offsets,C),D={cmap:this.font.cmap.raw(),glyf:l.table,loca:g,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(D["OS/2"]=this.font.os2.raw()),this.font.directory.encode(D)},t}();an.API.PDFObject=function(){var t;function r(){}return t=function(n,o){return(Array(o+1).join("0")+n).slice(-o)},r.convert=function(n){var o,s,l,d;if(Array.isArray(n))return"["+function(){var h,p,g;for(g=[],h=0,p=n.length;h<p;h++)o=n[h],g.push(r.convert(o));return g}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(s in l=["<<"],n)d=n[s],l.push("/"+s+" "+r.convert(d));return l.push(">>"),l.join(`
`)}return""+n},r}();const Ene=new Uint16Array('áµ<Ã•Ä±ÊŠÒÕ»×ÙµÛžÞ¢ß–à à©Šàª‘à¶¡à¹­à¼‰à¼¦áƒŠáˆ¨á‹¡á•á’á“ƒá“Ÿá”¥\0\0\0\0\0\0á•«á›á¦á°’á·á½¾â â†°âŠâ€â»â‘‚â ¤â¤’â´ˆâ¹ˆâ¿Žã€–ãŠºã˜¹ãž¬ã£¾ã¨¨ã©±ã« ã¬®à €EMabcfglmnoprstu\\bfmsÂ„Â‹ÂÂ•Â˜Â¦Â³Â¹ÃˆÃligè€»Ã†äƒ†Pè€»&ä€¦cuteè€»Ãäƒreve;ä„‚Ä€iyx}rcè€»Ã‚äƒ‚;är;ì€€ð”„raveè€»Ã€äƒ€pha;äŽ‘acr;ä„€d;æ©“Ä€gpÂÂ¡on;ä„„f;ì€€ð”¸plyFunction;æ¡ingè€»Ã…äƒ…Ä€csÂ¾Ãƒr;ì€€ð’œign;æ‰”ildeè€»Ãƒäƒƒmlè€»Ã„äƒ„Ð€aceforsuÃ¥Ã»Ã¾Ä—ÄœÄ¢Ä§ÄªÄ€crÃªÃ²kslash;æˆ–Å¶Ã¶Ã¸;æ«§ed;æŒ†y;ä‘Æ€crtÄ…Ä‹Ä”ause;æˆµnoullis;æ„¬a;äŽ’r;ì€€ð”…pf;ì€€ð”¹eve;ä‹˜cÃ²Ä“mpeq;æ‰ŽÜ€HOacdefhilorsuÅÅ‘Å–Æ€ÆžÆ¢ÆµÆ·ÆºÇœÈ•É³É¸É¾cy;ä§PYè€»Â©ä‚©Æ€cpyÅÅ¢Åºute;ä„†Ä€;iÅ§Å¨æ‹’talDifferentialD;æ……leys;æ„­È€aeioÆ‰ÆŽÆ”Æ˜ron;ä„Œdilè€»Ã‡äƒ‡rc;ä„ˆnint;æˆ°ot;ä„ŠÄ€dnÆ§Æ­illa;ä‚¸terDot;ä‚·Ã²Å¿i;äŽ§rcleÈ€DMPTÇ‡Ç‹Ç‘Ç–ot;æŠ™inus;æŠ–lus;æŠ•imes;æŠ—oÄ€csÇ¢Ç¸kwiseContourIntegral;æˆ²eCurlyÄ€DQÈƒÈoubleQuote;æ€uote;æ€™È€lnpuÈžÈ¨É‡É•onÄ€;eÈ¥È¦æˆ·;æ©´Æ€gitÈ¯È¶Èºruent;æ‰¡nt;æˆ¯ourIntegral;æˆ®Ä€frÉŒÉŽ;æ„‚oduct;æˆnterClockwiseContourIntegral;æˆ³oss;æ¨¯cr;ì€€ð’žpÄ€;CÊ„Ê…æ‹“ap;æ‰Ö€DJSZacefiosÊ Ê¬Ê°Ê´Ê¸Ë‹Ë—Ë¡Ë¦Ì³ÒÄ€;oÅ¹Ê¥trahd;æ¤‘cy;ä‚cy;ä…cy;äÆ€grsÊ¿Ë„Ë‡ger;æ€¡r;æ†¡hv;æ«¤Ä€ayËË•ron;ä„Ž;ä”lÄ€;tËËžæˆ‡a;äŽ”r;ì€€ð”‡Ä€afË«Ì§Ä€cmË°Ì¢riticalÈ€ADGTÌ€Ì†Ì–Ìœcute;ä‚´oÅ´Ì‹Ì;ä‹™bleAcute;ä‹rave;ä ilde;ä‹œond;æ‹„ferentialD;æ…†Ñ°Ì½\0\0\0Í‚Í”\0Ð…f;ì€€ð”»Æ€;DEÍˆÍ‰Íä‚¨ot;æƒœqual;æ‰bleÌ€CDLRUVÍ£Í²Î‚ÏÏ¢Ï¸ontourIntegraÃ¬È¹oÉ´Í¹\0\0Í»Â»Í‰nArrow;æ‡“Ä€eoÎ‡Î¤ftÆ€ARTÎÎ–Î¡rrow;æ‡ightArrow;æ‡”eÃ¥ËŠngÄ€LRÎ«Ï„eftÄ€ARÎ³Î¹rrow;æŸ¸ightArrow;æŸºightArrow;æŸ¹ightÄ€ATÏ˜Ïžrrow;æ‡’ee;æŠ¨pÉÏ©\0\0Ï¯rrow;æ‡‘ownArrow;æ‡•erticalBar;æˆ¥nÌ€ABLRTaÐ’ÐªÐ°ÑžÑ¿Í¼rrowÆ€;BUÐÐžÐ¢æ†“ar;æ¤“pArrow;æ‡µreve;äŒ‘eftË’Ðº\0Ñ†\0ÑightVector;æ¥eeVector;æ¥žectorÄ€;BÑ™Ñšæ†½ar;æ¥–ightÇ”Ñ§\0Ñ±eeVector;æ¥ŸectorÄ€;BÑºÑ»æ‡ar;æ¥—eeÄ€;AÒ†Ò‡æŠ¤rrow;æ†§Ä€ctÒ’Ò—r;ì€€ð’Ÿrok;ä„à €NTacdfglmopqstuxÒ½Ó€Ó„Ó‹ÓžÓ¢Ó§Ó®ÓµÔ¡Ô¯Ô¶Õ’ÕÕ Õ¥G;ä…ŠHè€»Ãäƒcuteè€»Ã‰äƒ‰Æ€aiyÓ’Ó—Óœron;ä„šrcè€»ÃŠäƒŠ;ä­ot;ä„–r;ì€€ð”ˆraveè€»Ãˆäƒˆement;æˆˆÄ€apÓºÓ¾cr;ä„’tyÉ“Ô†\0\0Ô’mallSquare;æ—»erySmallSquare;æ–«Ä€gpÔ¦Ôªon;ä„˜f;ì€€ð”¼silon;äŽ•uÄ€aiÔ¼Õ‰lÄ€;TÕ‚Õƒæ©µilde;æ‰‚librium;æ‡ŒÄ€ciÕ—Õšr;æ„°m;æ©³a;äŽ—mlè€»Ã‹äƒ‹Ä€ipÕªÕ¯sts;æˆƒonentialE;æ…‡Ê€cfiosÖ…ÖˆÖÖ²×Œy;ä¤r;ì€€ð”‰lledÉ“Ö—\0\0Ö£mallSquare;æ—¼erySmallSquare;æ–ªÍ°Öº\0Ö¿\0\0×„f;ì€€ð”½All;æˆ€riertrf;æ„±cÃ²×‹Ø€JTabcdfgorst×¨×¬×¯×ºØ€Ø’Ø–Ø›ØØ£Ù¬Ù²cy;äƒè€»>ä€¾mmaÄ€;d×·×¸äŽ“;äœreve;ä„žÆ€eiyØ‡ØŒØdil;ä„¢rc;ä„œ;ä“ot;ä„ r;ì€€ð”Š;æ‹™pf;ì€€ð”¾eaterÌ€EFGLSTØµÙ„ÙŽÙ–Ù›Ù¦qualÄ€;LØ¾Ø¿æ‰¥ess;æ‹›ullEqual;æ‰§reater;æª¢ess;æ‰·lantEqual;æ©¾ilde;æ‰³cr;ì€€ð’¢;æ‰«Ð€AacfiosuÚ…Ú‹Ú–Ú›ÚžÚªÚ¾ÛŠRDcy;äªÄ€ctÚÚ”ek;ä‹‡;äžirc;ä„¤r;æ„ŒlbertSpace;æ„‹Ç°Ú¯\0Ú²f;æ„izontalLine;æ”€Ä€ctÛƒÛ…Ã²Ú©rok;ä„¦mpÅ„ÛÛ˜ownHumÃ°Ä¯qual;æ‰Ü€EJOacdfgmnostuÛºÛ¾ÜƒÜ‡ÜŽÜšÜžÜ¡Ü¨Ý„Ý¸Þ‹ÞÞ•cy;ä•lig;ä„²cy;äcuteè€»ÃäƒÄ€iyÜ“Ü˜rcè€»ÃŽäƒŽ;ä˜ot;ä„°r;æ„‘raveè€»ÃŒäƒŒÆ€;apÜ Ü¯Ü¿Ä€cgÜ´Ü·r;ä„ªinaryI;æ…ˆlieÃ³ÏÇ´Ý‰\0Ý¢Ä€;eÝÝŽæˆ¬Ä€grÝ“Ý˜ral;æˆ«section;æ‹‚isibleÄ€CTÝ¬Ý²omma;æ£imes;æ¢Æ€gptÝ¿ÞƒÞˆon;ä„®f;ì€€ð•€a;äŽ™cr;æ„ilde;ä„¨Ç«Þš\0Þžcy;ä†lè€»ÃäƒÊ€cfosuÞ¬Þ·Þ¼ß‚ßÄ€iyÞ±Þµrc;ä„´;ä™r;ì€€ð”pf;ì€€ð•Ç£ß‡\0ßŒr;ì€€ð’¥rcy;äˆkcy;ä„Î€HJacfosß¤ß¨ß¬ß±ß½à ‚à ˆcy;ä¥cy;äŒppa;äŽšÄ€eyß¶ß»dil;ä„¶;äšr;ì€€ð”Žpf;ì€€ð•‚cr;ì€€ð’¦Ö€JTaceflmostà ¥à ©à ¬à¡à¡£à¦³à¦¸à§‡à§à¨·à©‡cy;ä‰è€»<ä€¼Ê€cmnprà ·à ¼à¡à¡„à¡ute;ä„¹bda;äŽ›g;æŸªlacetrf;æ„’r;æ†žÆ€aeyà¡—à¡œà¡¡ron;ä„½dil;ä„»;ä›Ä€fsà¡¨à¥°tÔ€ACDFRTUVarà¡¾à¢©à¢±à£ à£¦à£¼à¤¯à¥›Îà¥ªÄ€nrà¢ƒà¢gleBracket;æŸ¨rowÆ€;BRà¢™à¢šà¢žæ†ar;æ‡¤ightArrow;æ‡†eiling;æŒˆoÇµà¢·\0à£ƒbleBracket;æŸ¦nÇ”à£ˆ\0à£’eeVector;æ¥¡ectorÄ€;Bà£›à£œæ‡ƒar;æ¥™loor;æŒŠightÄ€AVà£¯à£µrrow;æ†”ector;æ¥ŽÄ€erà¤à¤—eÆ€;AVà¤‰à¤Šà¤æŠ£rrow;æ†¤ector;æ¥šiangleÆ€;BEà¤¤à¤¥à¤©æŠ²ar;æ§qual;æŠ´pÆ€DTVà¤·à¥‚à¥ŒownVector;æ¥‘eeVector;æ¥ ectorÄ€;Bà¥–à¥—æ†¿ar;æ¥˜ectorÄ€;Bà¥¥à¥¦æ†¼ar;æ¥’ightÃ¡ÎœsÌ€EFGLSTà¥¾à¦‹à¦•à¦à¦¢à¦­qualGreater;æ‹šullEqual;æ‰¦reater;æ‰¶ess;æª¡lantEqual;æ©½ilde;æ‰²r;ì€€ð”Ä€;eà¦½à¦¾æ‹˜ftarrow;æ‡šidot;ä„¿Æ€npwà§”à¨–à¨›gÈ€LRlrà§žà§·à¨‚à¨eftÄ€ARà§¦à§¬rrow;æŸµightArrow;æŸ·ightArrow;æŸ¶eftÄ€arÎ³à¨ŠightÃ¡Î¿ightÃ¡ÏŠf;ì€€ð•ƒerÄ€LRà¨¢à¨¬eftArrow;æ†™ightArrow;æ†˜Æ€chtà¨¾à©€à©‚Ã²à¡Œ;æ†°rok;ä…;æ‰ªÐ€acefiosuà©šà©à© à©·à©¼àª…àª‹àªŽp;æ¤…y;äœÄ€dlà©¥à©¯iumSpace;æŸlintrf;æ„³r;ì€€ð”nusPlus;æˆ“pf;ì€€ð•„cÃ²à©¶;äŽœÒ€Jacefostuàª£àª§àª­à«€à¬”à¬™à¶‘à¶—à¶žcy;äŠcute;ä…ƒÆ€aeyàª´àª¹àª¾ron;ä…‡dil;ä……;äÆ€gswà«‡à«°à¬ŽativeÆ€MTVà«“à«Ÿà«¨ediumSpace;æ€‹hiÄ€cnà«¦à«˜Ã«à«™eryThiÃ®à«™tedÄ€GLà«¸à¬†reaterGreateÃ²Ù³essLesÃ³à©ˆLine;ä€Šr;ì€€ð”‘È€Bnptà¬¢à¬¨à¬·à¬ºreak;æ BreakingSpace;ä‚ f;æ„•Ú€;CDEGHLNPRSTVà­•à­–à­ªà­¼à®¡à¯«à°„à±žà²„à²¦à³˜àµ¡à¶…æ«¬Ä€ouà­›à­¤ngruent;æ‰¢pCap;æ‰­oubleVerticalBar;æˆ¦Æ€lqxà®ƒà®Šà®›ement;æˆ‰ualÄ€;Tà®’à®“æ‰ ilde;ì€€â‰‚Ì¸ists;æˆ„reaterÎ€;EFGLSTà®¶à®·à®½à¯‰à¯“à¯˜à¯¥æ‰¯qual;æ‰±ullEqual;ì€€â‰§Ì¸reater;ì€€â‰«Ì¸ess;æ‰¹lantEqual;ì€€â©¾Ì¸ilde;æ‰µumpÅ„à¯²à¯½ownHump;ì€€â‰ŽÌ¸qual;ì€€â‰Ì¸eÄ€fsà°Šà°§tTriangleÆ€;BEà°šà°›à°¡æ‹ªar;ì€€â§Ì¸qual;æ‹¬sÌ€;EGLSTà°µà°¶à°¼à±„à±‹à±˜æ‰®qual;æ‰°reater;æ‰¸ess;ì€€â‰ªÌ¸lantEqual;ì€€â©½Ì¸ilde;æ‰´estedÄ€GLà±¨à±¹reaterGreater;ì€€âª¢Ì¸essLess;ì€€âª¡Ì¸recedesÆ€;ESà²’à²“à²›æŠ€qual;ì€€âª¯Ì¸lantEqual;æ‹ Ä€eià²«à²¹verseElement;æˆŒghtTriangleÆ€;BEà³‹à³Œà³’æ‹«ar;ì€€â§Ì¸qual;æ‹­Ä€quà³à´ŒuareSuÄ€bpà³¨à³¹setÄ€;Eà³°à³³ì€€âŠÌ¸qual;æ‹¢ersetÄ€;Eà´ƒà´†ì€€âŠÌ¸qual;æ‹£Æ€bcpà´“à´¤àµŽsetÄ€;Eà´›à´žì€€âŠ‚âƒ’qual;æŠˆceedsÈ€;ESTà´²à´³à´»àµ†æŠqual;ì€€âª°Ì¸lantEqual;æ‹¡ilde;ì€€â‰¿Ì¸ersetÄ€;Eàµ˜àµ›ì€€âŠƒâƒ’qual;æŠ‰ildeÈ€;EFTàµ®àµ¯àµµàµ¿æ‰qual;æ‰„ullEqual;æ‰‡ilde;æ‰‰erticalBar;æˆ¤cr;ì€€ð’©ildeè€»Ã‘äƒ‘;äŽÜ€Eacdfgmoprstuvà¶½à·‚à·‰à·•à·›à· à·§à·¼à¸‚à¸ à¸¢à¸²à¸¿à¹„lig;ä…’cuteè€»Ã“äƒ“Ä€iyà·Žà·“rcè€»Ã”äƒ”;äžblac;ä…r;ì€€ð”’raveè€»Ã’äƒ’Æ€aeià·®à·²à·¶cr;ä…Œga;äŽ©cron;äŽŸpf;ì€€ð•†enCurlyÄ€DQà¸Žà¸šoubleQuote;æ€œuote;æ€˜;æ©”Ä€clà¸§à¸¬r;ì€€ð’ªashè€»Ã˜äƒ˜iÅ¬à¸·à¸¼deè€»Ã•äƒ•es;æ¨·mlè€»Ã–äƒ–erÄ€BPà¹‹à¹ Ä€arà¹à¹“r;æ€¾acÄ€ekà¹šà¹œ;æžet;æŽ´arenthesis;æœÒ€acfhilorsà¹¿àº‡àºŠàºàº’àº”àºàº°à»¼rtialD;æˆ‚y;äŸr;ì€€ð”“i;äŽ¦;äŽ usMinus;ä‚±Ä€ipàº¢àº­ncareplanÃ¥Úf;æ„™È€;eioàº¹àººà» à»¤æª»cedesÈ€;ESTà»ˆà»‰à»à»šæ‰ºqual;æª¯lantEqual;æ‰¼ilde;æ‰¾me;æ€³Ä€dpà»©à»®uct;æˆortionÄ€;aÈ¥à»¹l;æˆÄ€cià¼à¼†r;ì€€ð’«;äŽ¨È€Ufosà¼‘à¼–à¼›à¼ŸOTè€»"ä€¢r;ì€€ð””pf;æ„šcr;ì€€ð’¬Ø€BEacefhiorsuà¼¾à½ƒà½‡à½ à½³à¾§à¾ªà¾­á‚–á‚©á‚´á‚¾arr;æ¤Gè€»Â®ä‚®Æ€cnrà½Žà½“à½–ute;ä…”g;æŸ«rÄ€;tà½œà½æ† l;æ¤–Æ€aeyà½§à½¬à½±ron;ä…˜dil;ä…–;ä Ä€;và½¸à½¹æ„œerseÄ€EUà¾‚à¾™Ä€lqà¾‡à¾Žement;æˆ‹uilibrium;æ‡‹pEquilibrium;æ¥¯rÂ»à½¹o;äŽ¡ghtÐ€ACDFTUVaà¿à¿«à¿³á€¢á€¨á›á‚‡Ï˜Ä€nrà¿†à¿’gleBracket;æŸ©rowÆ€;BLà¿œà¿à¿¡æ†’ar;æ‡¥eftArrow;æ‡„eiling;æŒ‰oÇµà¿¹\0á€…bleBracket;æŸ§nÇ”á€Š\0á€”eeVector;æ¥ectorÄ€;Bá€á€žæ‡‚ar;æ¥•loor;æŒ‹Ä€erá€­áƒeÆ€;AVá€µá€¶á€¼æŠ¢rrow;æ†¦ector;æ¥›iangleÆ€;BEáá‘á•æŠ³ar;æ§qual;æŠµpÆ€DTVá£á®á¸ownVector;æ¥eeVector;æ¥œectorÄ€;Bá‚‚á‚ƒæ†¾ar;æ¥”ectorÄ€;Bá‚‘á‚’æ‡€ar;æ¥“Ä€puá‚›á‚žf;æ„ndImplies;æ¥°ightarrow;æ‡›Ä€chá‚¹á‚¼r;æ„›;æ†±leDelayed;æ§´Ú€HOacfhimoqstuáƒ¤áƒ±áƒ·áƒ½á„™á„žá…‘á…–á…¡á…§á†µá†»á†¿Ä€Ccáƒ©áƒ®Hcy;ä©y;ä¨FTcy;ä¬cute;ä…šÊ€;aeiyá„ˆá„‰á„Žá„“á„—æª¼ron;ä… dil;ä…žrc;ä…œ;ä¡r;ì€€ð”–ortÈ€DLRUá„ªá„´á„¾á…‰ownArrowÂ»ÐžeftArrowÂ»à¢šightArrowÂ»à¿pArrow;æ†‘gma;äŽ£allCircle;æˆ˜pf;ì€€ð•ŠÉ²á…­\0\0á…°t;æˆšareÈ€;ISUá…»á…¼á†‰á†¯æ–¡ntersection;æŠ“uÄ€bpá†á†žsetÄ€;Eá†—á†˜æŠqual;æŠ‘ersetÄ€;Eá†¨á†©æŠqual;æŠ’nion;æŠ”cr;ì€€ð’®ar;æ‹†È€bcmpá‡ˆá‡›áˆ‰áˆ‹Ä€;sá‡á‡Žæ‹etÄ€;Eá‡á‡•qual;æŠ†Ä€chá‡ áˆ…eedsÈ€;ESTá‡­á‡®á‡´á‡¿æ‰»qual;æª°lantEqual;æ‰½ilde;æ‰¿ThÃ¡à¾Œ;æˆ‘Æ€;esáˆ’áˆ“áˆ£æ‹‘rsetÄ€;EáˆœáˆæŠƒqual;æŠ‡etÂ»áˆ“Ö€HRSacfhiorsáˆ¾á‰„á‰‰á‰•á‰žá‰±á‰¶áŠŸá‹‚á‹ˆá‹‘ORNè€»ÃžäƒžADE;æ„¢Ä€Hcá‰Žá‰’cy;ä‹y;ä¦Ä€buá‰šá‰œ;ä€‰;äŽ¤Æ€aeyá‰¥á‰ªá‰¯ron;ä…¤dil;ä…¢;ä¢r;ì€€ð”—Ä€eiá‰»áŠ‰Ç²áŠ€\0áŠ‡efore;æˆ´a;äŽ˜Ä€cnáŠŽáŠ˜kSpace;ì€€âŸâ€ŠSpace;æ€‰ldeÈ€;EFTáŠ«áŠ¬áŠ²áŠ¼æˆ¼qual;æ‰ƒullEqual;æ‰…ilde;æ‰ˆpf;ì€€ð•‹ipleDot;æƒ›Ä€ctá‹–á‹›r;ì€€ð’¯rok;ä…¦à«¡á‹·áŒŽáŒšáŒ¦\0áŒ¬áŒ±\0\0\0\0\0áŒ¸áŒ½á·áŽ…\0á¿á„áŠáÄ€crá‹»áŒuteè€»ÃšäƒšrÄ€;oáŒ‡áŒˆæ†Ÿcir;æ¥‰rÇ£áŒ“\0áŒ–y;äŽve;ä…¬Ä€iyáŒžáŒ£rcè€»Ã›äƒ›;ä£blac;ä…°r;ì€€ð”˜raveè€»Ã™äƒ™acr;ä…ªÄ€diáá©erÄ€BPáˆáÄ€aráár;äŸacÄ€eká—á™;æŸet;æŽµarenthesis;æonÄ€;Pá°á±æ‹ƒlus;æŠŽÄ€gpá»á¿on;ä…²f;ì€€ð•ŒÐ€ADETadpsáŽ•áŽ®áŽ¸á„Ï¨á’á—á³rrowÆ€;BDá…áŽ áŽ¤ar;æ¤’ownArrow;æ‡…ownArrow;æ†•quilibrium;æ¥®eeÄ€;Aá‹áŒæŠ¥rrow;æ†¥ownÃ¡Ï³erÄ€LRážá¨eftArrow;æ†–ightArrow;æ†—iÄ€;lá¹áºä’on;äŽ¥ing;ä…®cr;ì€€ð’°ilde;ä…¨mlè€»ÃœäƒœÒ€Dbcdefosvá§á¬á°á³á¾á’…á’Šá’á’–ash;æŠ«ar;æ««y;ä’ashÄ€;lá»á¼æŠ©;æ«¦Ä€erá‘ƒá‘…;æ‹Æ€btyá‘Œá‘á‘ºar;æ€–Ä€;iá‘á‘•calÈ€BLSTá‘¡á‘¥á‘ªá‘´ar;æˆ£ine;ä¼eparator;æ˜ilde;æ‰€ThinSpace;æ€Šr;ì€€ð”™pf;ì€€ð•cr;ì€€ð’±dash;æŠªÊ€cefosá’§á’¬á’±á’¶á’¼irc;ä…´dge;æ‹€r;ì€€ð”špf;ì€€ð•Žcr;ì€€ð’²È€fiosá“‹á“á“’á“˜r;ì€€ð”›;äŽžpf;ì€€ð•cr;ì€€ð’³Ò€AIUacfosuá“±á“µá“¹á“½á”„á”á””á”šá” cy;ä¯cy;ä‡cy;ä®cuteè€»ÃäƒÄ€iyá”‰á”rc;ä…¶;ä«r;ì€€ð”œpf;ì€€ð•cr;ì€€ð’´ml;ä…¸Ð€Hacdefosá”µá”¹á”¿á•‹á•á•á• á•¤cy;ä–cute;ä…¹Ä€ayá•„á•‰ron;ä…½;ä—ot;ä…»Ç²á•”\0á•›oWidtÃ¨à«™a;äŽ–r;æ„¨pf;æ„¤cr;ì€€ð’µà¯¡á–ƒá–Šá–\0á–°á–¶á–¿\0\0\0\0á—†á—›á—«á™Ÿá™­\0áš•áš›áš²áš¹\0áš¾cuteè€»Ã¡äƒ¡reve;ä„ƒÌ€;Ediuyá–œá–á–¡á–£á–¨á–­æˆ¾;ì€€âˆ¾Ì³;æˆ¿rcè€»Ã¢äƒ¢teè‚»Â´Ì†;ä°ligè€»Ã¦äƒ¦Ä€;rÂ²á–º;ì€€ð”žraveè€»Ã äƒ Ä€epá—Šá—–Ä€fpá—á—”sym;æ„µÃ¨á—“ha;äŽ±Ä€apá—ŸcÄ€clá—¤á—§r;ä„g;æ¨¿É¤á—°\0\0á˜ŠÊ€;adsvá—ºá—»á—¿á˜á˜‡æˆ§nd;æ©•;æ©œlope;æ©˜;æ©šÎ€;elmrszá˜˜á˜™á˜›á˜žá˜¿á™á™™æˆ ;æ¦¤eÂ»á˜™sdÄ€;aá˜¥á˜¦æˆ¡Ñ¡á˜°á˜²á˜´á˜¶á˜¸á˜ºá˜¼á˜¾;æ¦¨;æ¦©;æ¦ª;æ¦«;æ¦¬;æ¦­;æ¦®;æ¦¯tÄ€;vá™…á™†æˆŸbÄ€;dá™Œá™æŠ¾;æ¦Ä€ptá™”á™—h;æˆ¢Â»Â¹arr;æ¼Ä€gpá™£á™§on;ä„…f;ì€€ð•’Î€;Eaeiopá‹á™»á™½áš‚áš„áš‡ášŠ;æ©°cir;æ©¯;æ‰Šd;æ‰‹s;ä€§roxÄ€;eá‹áš’Ã±ášƒingè€»Ã¥äƒ¥Æ€ctyáš¡áš¦áš¨r;ì€€ð’¶;ä€ªmpÄ€;eá‹áš¯Ã±Êˆildeè€»Ã£äƒ£mlè€»Ã¤äƒ¤Ä€ciá›‚á›ˆoninÃ´É²nt;æ¨‘à €Nabcdefiklnoprsuá›­á›±áœ°áœ¼áƒáˆá¸á½áŸ áŸ¦á ¹á¡áœá¤½á¥ˆá¥°ot;æ«­Ä€crá›¶áœžkÈ€cepsáœ€áœ…áœáœ“ong;æ‰Œpsilon;ä¶rime;æ€µimÄ€;eáœšáœ›æˆ½q;æ‹Å¶áœ¢áœ¦ee;æŠ½edÄ€;gáœ¬áœ­æŒ…eÂ»áœ­rkÄ€;táœáœ·brk;æŽ¶Ä€oyáœá;ä±quo;æ€žÊ€cmprtá“á›á¡á¤á¨ausÄ€;eÄŠÄ‰ptyv;æ¦°sÃ©áœŒnoÃµÄ“Æ€ahwá¯á±á³;äŽ²;æ„¶een;æ‰¬r;ì€€ð”ŸgÎ€costuvwážážáž³áŸáŸ•áŸ›áŸžÆ€aiuáž”áž–ážšÃ°Ý rc;æ—¯pÂ»á±Æ€dptáž¤áž¨áž­ot;æ¨€lus;æ¨imes;æ¨‚É±áž¹\0\0áž¾cup;æ¨†ar;æ˜…riangleÄ€duáŸáŸ’own;æ–½p;æ–³plus;æ¨„eÃ¥á‘„Ã¥á’­arow;æ¤Æ€akoáŸ­á ¦á µÄ€cnáŸ²á £kÆ€lstáŸºÖ«á ‚ozenge;æ§«riangleÈ€;dlrá ’á “á ˜á æ–´own;æ–¾eft;æ—‚ight;æ–¸k;æ£Æ±á «\0á ³Æ²á ¯\0á ±;æ–’;æ–‘4;æ–“ck;æ–ˆÄ€eoá ¾á¡Ä€;qá¡ƒá¡†ì€€=âƒ¥uiv;ì€€â‰¡âƒ¥t;æŒÈ€ptwxá¡™á¡žá¡§á¡¬f;ì€€ð•“Ä€;tá‹á¡£omÂ»áŒtie;æ‹ˆØ€DHUVbdhmptuvá¢…á¢–á¢ªá¢»á£—á£›á£¬á£¿á¤…á¤Šá¤á¤¡È€LRlrá¢Žá¢á¢’á¢”;æ•—;æ•”;æ•–;æ•“Ê€;DUduá¢¡á¢¢á¢¤á¢¦á¢¨æ•;æ•¦;æ•©;æ•¤;æ•§È€LRlrá¢³á¢µá¢·á¢¹;æ•;æ•š;æ•œ;æ•™Î€;HLRhlrá£Šá£‹á£á£á£‘á£“á£•æ•‘;æ•¬;æ•£;æ• ;æ•«;æ•¢;æ•Ÿox;æ§‰È€LRlrá£¤á£¦á£¨á£ª;æ••;æ•’;æ”;æ”ŒÊ€;DUduÚ½á£·á£¹á£»á£½;æ•¥;æ•¨;æ”¬;æ”´inus;æŠŸlus;æŠžimes;æŠ È€LRlrá¤™á¤›á¤á¤Ÿ;æ•›;æ•˜;æ”˜;æ””Î€;HLRhlrá¤°á¤±á¤³á¤µá¤·á¤¹á¤»æ”‚;æ•ª;æ•¡;æ•ž;æ”¼;æ”¤;æ”œÄ€evÄ£á¥‚barè€»Â¦ä‚¦È€ceioá¥‘á¥–á¥šá¥ r;ì€€ð’·mi;æmÄ€;eáœšáœœlÆ€;bhá¥¨á¥©á¥«äœ;æ§…sub;æŸˆÅ¬á¥´á¥¾lÄ€;eá¥¹á¥ºæ€¢tÂ»á¥ºpÆ€;EeÄ¯á¦…á¦‡;æª®Ä€;qÛœÛ›à³¡á¦§\0á§¨á¨‘á¨•á¨²\0á¨·á©\0\0áª´\0\0á«\0\0á¬¡á¬®á­á­’\0á¯½\0á°ŒÆ€cprá¦­á¦²á§ute;ä„‡Ì€;abcdsá¦¿á§€á§„á§Šá§•á§™æˆ©nd;æ©„rcup;æ©‰Ä€auá§á§’p;æ©‹p;æ©‡ot;æ©€;ì€€âˆ©ï¸€Ä€eoá§¢á§¥t;æÃ®Ú“È€aeiuá§°á§»á¨á¨…Ç°á§µ\0á§¸s;æ©on;ä„dilè€»Ã§äƒ§rc;ä„‰psÄ€;sá¨Œá¨æ©Œm;æ©ot;ä„‹Æ€dmná¨›á¨ á¨¦ilè‚»Â¸Æ­ptyv;æ¦²tè„€Â¢;eá¨­á¨®ä‚¢rÃ¤Æ²r;ì€€ð” Æ€ceiá¨½á©€á©y;ä‘‡ckÄ€;má©‡á©ˆæœ“arkÂ»á©ˆ;ä‡rÎ€;Ecefmsá©Ÿá© á©¢á©«áª¤áªªáª®æ—‹;æ§ƒÆ€;elá©©á©ªá©­ä‹†q;æ‰—eÉ¡á©´\0\0áªˆrrowÄ€lrá©¼áªeft;æ†ºight;æ†»Ê€RSacdáª’áª”áª–áªšáªŸÂ»à½‡;æ“ˆst;æŠ›irc;æŠšash;æŠnint;æ¨id;æ«¯cir;æ§‚ubsÄ€;uáª»áª¼æ™£itÂ»áª¼Ë¬á«‡á«”á«º\0á¬ŠonÄ€;eá«á«Žä€ºÄ€;qÃ‡Ã†É­á«™\0\0á«¢aÄ€;tá«žá«Ÿä€¬;ä€Æ€;flá«¨á«©á««æˆÃ®á… eÄ€mxá«±á«¶entÂ»á«©eÃ³ÉÇ§á«¾\0á¬‡Ä€;dáŠ»á¬‚ot;æ©­nÃ´É†Æ€fryá¬á¬”á¬—;ì€€ð•”oÃ¤É”è„€Â©;sÅ•á¬r;æ„—Ä€aoá¬¥á¬©rr;æ†µss;æœ—Ä€cuá¬²á¬·r;ì€€ð’¸Ä€bpá¬¼á­„Ä€;eá­á­‚æ«;æ«‘Ä€;eá­‰á­Šæ«;æ«’dot;æ‹¯Î€delprvwá­ á­¬á­·á®‚á®¬á¯”á¯¹arrÄ€lrá­¨á­ª;æ¤¸;æ¤µÉ°á­²\0\0á­µr;æ‹žc;æ‹ŸarrÄ€;pá­¿á®€æ†¶;æ¤½Ì€;bcdosá®á®á®–á®¡á®¥á®¨æˆªrcap;æ©ˆÄ€auá®›á®žp;æ©†p;æ©Šot;æŠr;æ©…;ì€€âˆªï¸€È€alrvá®µá®¿á¯žá¯£rrÄ€;má®¼á®½æ†·;æ¤¼yÆ€evwá¯‡á¯”á¯˜qÉ°á¯Ž\0\0á¯’reÃ£á­³uÃ£á­µee;æ‹Žedge;æ‹enè€»Â¤ä‚¤earrowÄ€lrá¯®á¯³eftÂ»á®€ightÂ»á®½eÃ¤á¯Ä€ciá°á°‡oninÃ´Ç·nt;æˆ±lcty;æŒ­à¦€AHabcdefhijlorstuwzá°¸á°»á°¿á±á±©á±µá²Šá²žá²¬á²·á³»á³¿á´áµ»á¶‘á¶«á¶»á·†á·rÃ²Îar;æ¥¥È€glrsá±ˆá±á±’á±”ger;æ€ eth;æ„¸Ã²á„³hÄ€;vá±šá±›æ€Â»à¤ŠÅ«á±¡á±§arow;æ¤aÃ£Ì•Ä€ayá±®á±³ron;ä„;ä´Æ€;aoÌ²á±¼á²„Ä€grÊ¿á²r;æ‡Štseq;æ©·Æ€glmá²‘á²”á²˜è€»Â°ä‚°ta;äŽ´ptyv;æ¦±Ä€irá²£á²¨sht;æ¥¿;ì€€ð”¡arÄ€lrá²³á²µÂ»à£œÂ»á€žÊ€aegsvá³‚Í¸á³–á³œá³ mÆ€;osÌ¦á³Šá³”ndÄ€;sÌ¦á³‘uit;æ™¦amma;äin;æ‹²Æ€;ioá³§á³¨á³¸äƒ·deè„€Ã·;oá³§á³°ntimes;æ‹‡nÃ¸á³·cy;ä‘’cÉ¯á´†\0\0á´Šrn;æŒžop;æŒÊ€lptuwá´˜á´á´¢áµ‰áµ•lar;ä€¤f;ì€€ð••Ê€;empsÌ‹á´­á´·á´½áµ‚qÄ€;dÍ’á´³ot;æ‰‘inus;æˆ¸lus;æˆ”quare;æŠ¡blebarwedgÃ¥ÃºnÆ€adhá„®áµáµ§ownarrowÃ³á²ƒarpoonÄ€lráµ²áµ¶efÃ´á²´ighÃ´á²¶Å¢áµ¿á¶…karoÃ·à½‚É¯á¶Š\0\0á¶Žrn;æŒŸop;æŒŒÆ€cotá¶˜á¶£á¶¦Ä€ryá¶á¶¡;ì€€ð’¹;ä‘•l;æ§¶rok;ä„‘Ä€drá¶°á¶´ot;æ‹±iÄ€;fá¶ºá –æ–¿Ä€ahá·€á·ƒrÃ²Ð©aÃ²à¾¦angle;æ¦¦Ä€ciá·’á·•y;ä‘Ÿgrarr;æŸ¿à¤€Dacdefglmnopqrstuxá¸á¸‰á¸™á¸¸Õ¸á¸¼á¹‰á¹¡á¹¾áº¥áº¯áº½á»¡á¼ªá¼·á½„á½Žá½šÄ€Doá¸†á´´oÃ´á²‰Ä€csá¸Žá¸”uteè€»Ã©äƒ©ter;æ©®È€aioyá¸¢á¸§á¸±á¸¶ron;ä„›rÄ€;cá¸­á¸®æ‰–è€»Ãªäƒªlon;æ‰•;ä‘ot;ä„—Ä€Drá¹á¹…ot;æ‰’;ì€€ð”¢Æ€;rsá¹á¹‘á¹—æªšaveè€»Ã¨äƒ¨Ä€;dá¹œá¹æª–ot;æª˜È€;ilsá¹ªá¹«á¹²á¹´æª™nters;æ§;æ„“Ä€;dá¹¹á¹ºæª•ot;æª—Æ€apsáº…áº‰áº—cr;ä„“tyÆ€;sváº’áº“áº•æˆ…etÂ»áº“pÄ€1;áºáº¤Ä³áº¡áº£;æ€„;æ€…æ€ƒÄ€gsáºªáº¬;ä…‹p;æ€‚Ä€gpáº´áº¸on;ä„™f;ì€€ð•–Æ€alsá»„á»Žá»’rÄ€;sá»Šá»‹æ‹•l;æ§£us;æ©±iÆ€;lvá»šá»›á»ŸäŽµonÂ»á»›;äµÈ€csuvá»ªá»³á¼‹á¼£Ä€ioá»¯á¸±rcÂ»á¸®É©á»¹\0\0á»»Ã­ÕˆantÄ€glá¼‚á¼†trÂ»á¹essÂ»á¹ºÆ€aeiá¼’á¼–á¼šls;ä€½st;æ‰ŸvÄ€;DÈµá¼ D;æ©¸parsl;æ§¥Ä€Daá¼¯á¼³ot;æ‰“rr;æ¥±Æ€cdiá¼¾á½á»¸r;æ„¯oÃ´Í’Ä€ahá½‰á½‹;äŽ·è€»Ã°äƒ°Ä€mrá½“á½—lè€»Ã«äƒ«o;æ‚¬Æ€cipá½¡á½¤á½§l;ä€¡sÃ´Õ®Ä€eoá½¬á½´ctatioÃ®Õ™nentialÃ¥Õ¹à§¡á¾’\0á¾ž\0á¾¡á¾§\0\0á¿†á¿Œ\0á¿“\0á¿¦á¿ªâ€€\0â€ˆâšllingdotseÃ±á¹„y;ä‘„male;æ™€Æ€ilrá¾­á¾³á¿lig;è€€ï¬ƒÉ©á¾¹\0\0á¾½g;è€€ï¬€ig;è€€ï¬„;ì€€ð”£lig;è€€ï¬lig;ì€€fjÆ€altá¿™á¿œá¿¡t;æ™­ig;è€€ï¬‚ns;æ–±of;ä†’Ç°á¿®\0á¿³f;ì€€ð•—Ä€akÖ¿á¿·Ä€;vá¿¼á¿½æ‹”;æ«™artint;æ¨Ä€aoâ€Œâ•Ä€csâ€‘â’Î±â€šâ€°â€¸â…âˆ\0âÎ²â€¢â€¥â€§â€ªâ€¬\0â€®è€»Â½ä‚½;æ…“è€»Â¼ä‚¼;æ…•;æ…™;æ…›Æ³â€´\0â€¶;æ…”;æ…–Ê´â€¾â\0\0âƒè€»Â¾ä‚¾;æ…—;æ…œ5;æ…˜Æ¶âŒ\0âŽ;æ…š;æ…8;æ…žl;æ„wn;æŒ¢cr;ì€€ð’»à¢€Eabcdefgijlnorstvâ‚‚â‚‰â‚Ÿâ‚¥â‚°â‚´âƒ°âƒµâƒºâƒ¿â„ƒâ„’â„¸Ì—â„¾â…’â†žÄ€;lÙâ‚‡;æªŒÆ€cmpâ‚â‚•â‚ute;ä‡µmaÄ€;dâ‚œá³šäŽ³;æª†reve;ä„ŸÄ€iyâ‚ªâ‚®rc;ä„;ä³ot;ä„¡È€;lqsØ¾Ù‚â‚½âƒ‰Æ€;qsØ¾ÙŒâƒ„lanÃ´Ù¥È€;cdlÙ¥âƒ’âƒ•âƒ¥c;æª©otÄ€;oâƒœâƒæª€Ä€;lâƒ¢âƒ£æª‚;æª„Ä€;eâƒªâƒ­ì€€â‹›ï¸€s;æª”r;ì€€ð”¤Ä€;gÙ³Ø›mel;æ„·cy;ä‘“È€;EajÙšâ„Œâ„Žâ„;æª’;æª¥;æª¤È€Eaesâ„›â„â„©â„´;æ‰©pÄ€;pâ„£â„¤æªŠroxÂ»â„¤Ä€;qâ„®â„¯æªˆÄ€;qâ„®â„›im;æ‹§pf;ì€€ð•˜Ä€ciâ…ƒâ…†r;æ„ŠmÆ€;elÙ«â…Žâ…;æªŽ;æªèŒ€>;cdlqr×®â… â…ªâ…®â…³â…¹Ä€ciâ…¥â…§;æª§r;æ©ºot;æ‹—Par;æ¦•uest;æ©¼Ê€adelsâ†„â…ªâ†Ù–â†›Ç°â†‰\0â†ŽproÃ¸â‚žr;æ¥¸qÄ€lqØ¿â†–lesÃ³â‚ˆiÃ­Ù«Ä€enâ†£â†­rtneqq;ì€€â‰©ï¸€Ã…â†ªÔ€Aabcefkosyâ‡„â‡‡â‡±â‡µâ‡ºâˆ˜âˆâˆ¯â‰¨â‰½rÃ²Î È€ilmrâ‡â‡”â‡—â‡›rsÃ°á’„fÂ»â€¤ilÃ´Ú©Ä€drâ‡ â‡¤cy;ä‘ŠÆ€;cwà£´â‡«â‡¯ir;æ¥ˆ;æ†­ar;æ„irc;ä„¥Æ€alrâˆâˆŽâˆ“rtsÄ€;uâˆ‰âˆŠæ™¥itÂ»âˆŠlip;æ€¦con;æŠ¹r;ì€€ð”¥sÄ€ewâˆ£âˆ©arow;æ¤¥arow;æ¤¦Ê€amoprâˆºâˆ¾â‰ƒâ‰žâ‰£rr;æ‡¿tht;æˆ»kÄ€lrâ‰‰â‰“eftarrow;æ†©ightarrow;æ†ªf;ì€€ð•™bar;æ€•Æ€cltâ‰¯â‰´â‰¸r;ì€€ð’½asÃ¨â‡´rok;ä„§Ä€bpâŠ‚âŠ‡ull;æƒhenÂ»á±›à«¡âŠ£\0âŠª\0âŠ¸â‹…â‹Ž\0â‹•â‹³\0\0â‹¸âŒ¢â§â¢â¿\0âŽ†âŽªâŽ´cuteè€»Ã­äƒ­Æ€;iyÝ±âŠ°âŠµrcè€»Ã®äƒ®;ä¸Ä€cxâŠ¼âŠ¿y;äµclè€»Â¡ä‚¡Ä€frÎŸâ‹‰;ì€€ð”¦raveè€»Ã¬äƒ¬È€;inoÜ¾â‹â‹©â‹®Ä€inâ‹¢â‹¦nt;æ¨Œt;æˆ­fin;æ§œta;æ„©lig;ä„³Æ€aopâ‹¾âŒšâŒÆ€cgtâŒ…âŒˆâŒ—r;ä„«Æ€elpÜŸâŒâŒ“inÃ¥ÞŽarÃ´Ü h;ä„±f;æŠ·ed;ä†µÊ€;cfotÓ´âŒ¬âŒ±âŒ½âare;æ„…inÄ€;tâŒ¸âŒ¹æˆžie;æ§doÃ´âŒ™Ê€;celpÝ—âŒââ›â¡al;æŠºÄ€grâ•â™erÃ³á•£Ã£âarhk;æ¨—rod;æ¨¼È€cgptâ¯â²â¶â»y;ä‘‘on;ä„¯f;ì€€ð•ša;äŽ¹uestè€»Â¿ä‚¿Ä€ciâŽŠâŽr;ì€€ð’¾nÊ€;EdsvÓ´âŽ›âŽâŽ¡Ó³;æ‹¹ot;æ‹µÄ€;vâŽ¦âŽ§æ‹´;æ‹³Ä€;iÝ·âŽ®lde;ä„©Ç«âŽ¸\0âŽ¼cy;ä‘–lè€»Ã¯äƒ¯Ì€cfmosuâŒâ—âœâ¡â§âµÄ€iyâ‘â•rc;ä„µ;ä¹r;ì€€ð”§ath;äˆ·pf;ì€€ð•›Ç£â¬\0â±r;ì€€ð’¿rcy;ä‘˜kcy;ä‘”Ð€acfghjosâ‹â–â¢â§â­â±âµâ»ppaÄ€;vâ“â”äŽº;ä°Ä€eyâ›â dil;ä„·;äºr;ì€€ð”¨reen;ä„¸cy;ä‘…cy;ä‘œpf;ì€€ð•œcr;ì€€ð“€à®€ABEHabcdefghjlmnoprstuvâ‘°â’â’†â’â’‘â”Žâ”½â•šâ–€â™Žâ™žâ™¥â™¹â™½âššâš²â›˜ââ¨âž‹âŸ€â â ’Æ€artâ‘·â‘ºâ‘¼rÃ²à§†Ã²Î•ail;æ¤›arr;æ¤ŽÄ€;gà¦”â’‹;æª‹ar;æ¥¢à¥£â’¥\0â’ª\0â’±\0\0\0\0\0â’µâ’º\0â“†â“ˆâ“\0â“¹ute;ä„ºmptyv;æ¦´raÃ®à¡Œbda;äŽ»gÆ€;dlà¢Žâ“â“ƒ;æ¦‘Ã¥à¢Ž;æª…uoè€»Â«ä‚«rÐ€;bfhlpstà¢™â“žâ“¦â“©â“«â“®â“±â“µÄ€;fà¢â“£s;æ¤Ÿs;æ¤Ã«â‰’p;æ†«l;æ¤¹im;æ¥³l;æ†¢Æ€;aeâ“¿â”€â”„æª«il;æ¤™Ä€;sâ”‰â”Šæª­;ì€€âª­ï¸€Æ€abrâ”•â”™â”rr;æ¤Œrk;æ²Ä€akâ”¢â”¬cÄ€ekâ”¨â”ª;ä»;ä›Ä€esâ”±â”³;æ¦‹lÄ€duâ”¹â”»;æ¦;æ¦È€aeuyâ•†â•‹â•–â•˜ron;ä„¾Ä€diâ•â•”il;ä„¼Ã¬à¢°Ã¢â”©;ä»È€cqrsâ•£â•¦â•­â•½a;æ¤¶uoÄ€;rà¸™á†Ä€duâ•²â•·har;æ¥§shar;æ¥‹h;æ†²Ê€;fgqsâ–‹â–Œà¦‰â—³â—¿æ‰¤tÊ€ahlrtâ–˜â–¤â–·â—‚â—¨rrowÄ€;tà¢™â–¡aÃ©â“¶arpoonÄ€duâ–¯â–´ownÂ»ÑšpÂ»à¥¦eftarrows;æ‡‡ightÆ€ahsâ—â—–â—žrrowÄ€;sà£´à¢§arpoonÃ³à¾˜quigarroÃ·â‡°hreetimes;æ‹‹Æ€;qsâ–‹à¦“â—ºlanÃ´à¦¬Ê€;cdgsà¦¬â˜Šâ˜â˜â˜¨c;æª¨otÄ€;oâ˜”â˜•æ©¿Ä€;râ˜šâ˜›æª;æªƒÄ€;eâ˜¢â˜¥ì€€â‹šï¸€s;æª“Ê€adegsâ˜³â˜¹â˜½â™‰â™‹pproÃ¸â“†ot;æ‹–qÄ€gqâ™ƒâ™…Ã´à¦‰gtÃ²â’ŒÃ´à¦›iÃ­à¦²Æ€ilrâ™•à£¡â™šsht;æ¥¼;ì€€ð”©Ä€;Eà¦œâ™£;æª‘Å¡â™©â™¶rÄ€duâ–²â™®Ä€;là¥¥â™³;æ¥ªlk;æ–„cy;ä‘™Ê€;achtà©ˆâšˆâš‹âš‘âš–rÃ²â—orneÃ²á´ˆard;æ¥«ri;æ—ºÄ€ioâšŸâš¤dot;ä…€ustÄ€;aâš¬âš­æŽ°cheÂ»âš­È€Eaesâš»âš½â›‰â›”;æ‰¨pÄ€;pâ›ƒâ›„æª‰roxÂ»â›„Ä€;qâ›Žâ›æª‡Ä€;qâ›Žâš»im;æ‹¦Ð€abnoptwzâ›©â›´â›·âœšâœ¯ââ‡âÄ€nrâ›®â›±g;æŸ¬r;æ‡½rÃ«à£gÆ€lmrâ›¿âœâœ”eftÄ€arà§¦âœ‡ightÃ¡à§²apsto;æŸ¼ightÃ¡à§½parrowÄ€lrâœ¥âœ©efÃ´â“­ight;æ†¬Æ€aflâœ¶âœ¹âœ½r;æ¦…;ì€€ð•us;æ¨­imes;æ¨´Å¡â‹âst;æˆ—Ã¡áŽÆ€;efâ—â˜á €æ—ŠngeÂ»â˜arÄ€;lâ¤â¥ä€¨t;æ¦“Ê€achmtâ³â¶â¼âž…âž‡rÃ²à¢¨orneÃ²á¶ŒarÄ€;dà¾˜âžƒ;æ¥­;æ€Žri;æŠ¿Ì€achiqtâž˜âžà©€âž¢âž®âž»quo;æ€¹r;ì€€ð“mÆ€;egà¦²âžªâž¬;æª;æªÄ€buâ”ªâž³oÄ€;rà¸Ÿâž¹;æ€šrok;ä…‚è€<;cdhilqrà «âŸ’â˜¹âŸœâŸ âŸ¥âŸªâŸ°Ä€ciâŸ—âŸ™;æª¦r;æ©¹reÃ¥â—²mes;æ‹‰arr;æ¥¶uest;æ©»Ä€PiâŸµâŸ¹ar;æ¦–Æ€;efâ €à¤­á ›æ—ƒrÄ€duâ ‡â shar;æ¥Šhar;æ¥¦Ä€enâ —â ¡rtneqq;ì€€â‰¨ï¸€Ã…â žÜ€Dacdefhilnopsuâ¡€â¡…â¢‚â¢Žâ¢“â¢ â¢¥â¢¨â£šâ£¢â£¤àªƒâ£³â¤‚Dot;æˆºÈ€clprâ¡Žâ¡’â¡£â¡½rè€»Â¯ä‚¯Ä€etâ¡—â¡™;æ™‚Ä€;eâ¡žâ¡Ÿæœ seÂ»â¡ŸÄ€;sá€»â¡¨toÈ€;dluá€»â¡³â¡·â¡»owÃ®ÒŒefÃ´à¤Ã°á‘ker;æ–®Ä€oyâ¢‡â¢Œmma;æ¨©;ä¼ash;æ€”asuredangleÂ»á˜¦r;ì€€ð”ªo;æ„§Æ€cdnâ¢¯â¢´â£‰roè€»Âµä‚µÈ€;acdá‘¤â¢½â£€â£„sÃ´áš§ir;æ«°otè‚»Â·ÆµusÆ€;bdâ£’á¤ƒâ£“æˆ’Ä€;uá´¼â£˜;æ¨ªÅ£â£žâ£¡p;æ«›Ã²âˆ’Ã°àªÄ€dpâ£©â£®els;æŠ§f;ì€€ð•žÄ€ctâ£¸â£½r;ì€€ð“‚posÂ»á–Æ€;lmâ¤‰â¤Šâ¤äŽ¼timap;æŠ¸à°€GLRVabcdefghijlmoprstuvwâ¥‚â¥“â¥¾â¦‰â¦˜â§šâ§©â¨•â¨šâ©˜â©âªƒâª•âª¤âª¨â¬„â¬‡â­„â­¿â®®â°´â±§â±¼â³©Ä€gtâ¥‡â¥‹;ì€€â‹™Ì¸Ä€;vâ¥à¯ì€€â‰«âƒ’Æ€eltâ¥šâ¥²â¥¶ftÄ€arâ¥¡â¥§rrow;æ‡ightarrow;æ‡Ž;ì€€â‹˜Ì¸Ä€;vâ¥»à±‡ì€€â‰ªâƒ’ightarrow;æ‡Ä€Ddâ¦Žâ¦“ash;æŠ¯ash;æŠ®Ê€bcnptâ¦£â¦§â¦¬â¦±â§ŒlaÂ»Ëžute;ä…„g;ì€€âˆ âƒ’Ê€;Eiopà¶„â¦¼â§€â§…â§ˆ;ì€€â©°Ì¸d;ì€€â‰‹Ì¸s;ä…‰roÃ¸à¶„urÄ€;aâ§“â§”æ™®lÄ€;sâ§“à¬¸Ç³â§Ÿ\0â§£pè‚»Â à¬·mpÄ€;eà¯¹à°€Ê€aeouyâ§´â§¾â¨ƒâ¨â¨“Ç°â§¹\0â§»;æ©ƒon;ä…ˆdil;ä…†ngÄ€;dàµ¾â¨Šot;ì€€â©­Ì¸p;æ©‚;ä½ash;æ€“Î€;Aadqsxà®’â¨©â¨­â¨»â©â©…â©rr;æ‡—rÄ€hrâ¨³â¨¶k;æ¤¤Ä€;oá²á°ot;ì€€â‰Ì¸uiÃ¶à­£Ä€eiâ©Šâ©Žar;æ¤¨Ã­à®˜istÄ€;sà® à®Ÿr;ì€€ð”«È€Eestà¯…â©¦â©¹â©¼Æ€;qsà®¼â©­à¯¡Æ€;qsà®¼à¯…â©´lanÃ´à¯¢iÃ­à¯ªÄ€;rà®¶âªÂ»à®·Æ€AapâªŠâªâª‘rÃ²â¥±rr;æ†®ar;æ«²Æ€;svà¾âªœà¾ŒÄ€;dâª¡âª¢æ‹¼;æ‹ºcy;ä‘šÎ€AEadestâª·âªºâª¾â«‚â«…â«¶â«¹rÃ²â¥¦;ì€€â‰¦Ì¸rr;æ†šr;æ€¥È€;fqsà°»â«Žâ«£â«¯tÄ€arâ«”â«™rroÃ·â«ightarroÃ·âªÆ€;qsà°»âªºâ«ªlanÃ´à±•Ä€;sà±•â«´Â»à°¶iÃ­à±Ä€;rà°µâ«¾iÄ€;eà°šà°¥iÃ¤à¶Ä€ptâ¬Œâ¬‘f;ì€€ð•Ÿè†€Â¬;inâ¬™â¬šâ¬¶ä‚¬nÈ€;Edvà®‰â¬¤â¬¨â¬®;ì€€â‹¹Ì¸ot;ì€€â‹µÌ¸Ç¡à®‰â¬³â¬µ;æ‹·;æ‹¶iÄ€;và²¸â¬¼Ç¡à²¸â­â­ƒ;æ‹¾;æ‹½Æ€aorâ­‹â­£â­©rÈ€;astà­»â­•â­šâ­ŸlleÃ¬à­»l;ì€€â«½âƒ¥;ì€€âˆ‚Ì¸lint;æ¨”Æ€;ceà²’â­°â­³uÃ¥à²¥Ä€;cà²˜â­¸Ä€;eà²’â­½Ã±à²˜È€Aaitâ®ˆâ®‹â®â®§rÃ²â¦ˆrrÆ€;cwâ®”â®•â®™æ†›;ì€€â¤³Ì¸;ì€€â†Ì¸ghtarrowÂ»â®•riÄ€;eà³‹à³–Î€chimpquâ®½â¯â¯™â¬„à­¸â¯¤â¯¯È€;cerà´²â¯†à´·â¯‰uÃ¥àµ…;ì€€ð“ƒortÉ­â¬…\0\0â¯–arÃ¡â­–mÄ€;eàµ®â¯ŸÄ€;qàµ´àµ³suÄ€bpâ¯«â¯­Ã¥à³¸Ã¥à´‹Æ€bcpâ¯¶â°‘â°™È€;Eesâ¯¿â°€à´¢â°„æŠ„;ì€€â«…Ì¸etÄ€;eà´›â°‹qÄ€;qà´£â°€cÄ€;eà´²â°—Ã±à´¸È€;Eesâ°¢â°£àµŸâ°§æŠ…;ì€€â«†Ì¸etÄ€;eàµ˜â°®qÄ€;qàµ â°£È€gilrâ°½â°¿â±…â±‡Ã¬à¯—ldeè€»Ã±äƒ±Ã§à±ƒiangleÄ€lrâ±’â±œeftÄ€;eà°šâ±šÃ±à°¦ightÄ€;eà³‹â±¥Ã±à³—Ä€;mâ±¬â±­äŽ½Æ€;esâ±´â±µâ±¹ä€£ro;æ„–p;æ€‡Ò€DHadgilrsâ²â²”â²™â²žâ²£â²°â²¶â³“â³£ash;æŠ­arr;æ¤„p;ì€€â‰âƒ’ash;æŠ¬Ä€etâ²¨â²¬;ì€€â‰¥âƒ’;ì€€>âƒ’nfin;æ§žÆ€Aetâ²½â³â³…rr;æ¤‚;ì€€â‰¤âƒ’Ä€;râ³Šâ³ì€€<âƒ’ie;ì€€âŠ´âƒ’Ä€Atâ³˜â³œrr;æ¤ƒrie;ì€€âŠµâƒ’im;ì€€âˆ¼âƒ’Æ€Aanâ³°â³´â´‚rr;æ‡–rÄ€hrâ³ºâ³½k;æ¤£Ä€;oá§á¥ear;æ¤§á‰“áª•\0\0\0\0\0\0\0\0\0\0\0\0\0â´­\0â´¸âµˆâµ âµ¥âµ²â¶„á¬‡\0\0â¶â¶«\0â·ˆâ·Ž\0â·œâ¸™â¸«â¸¾â¹ƒÄ€csâ´±áª—uteè€»Ã³äƒ³Ä€iyâ´¼âµ…rÄ€;cáªžâµ‚è€»Ã´äƒ´;ä¾Ê€abiosáª âµ’âµ—Çˆâµšlac;ä…‘v;æ¨¸old;æ¦¼lig;ä…“Ä€crâµ©âµ­ir;æ¦¿;ì€€ð”¬Í¯âµ¹\0\0âµ¼\0â¶‚n;ä‹›aveè€»Ã²äƒ²;æ§Ä€bmâ¶ˆà·´ar;æ¦µÈ€acitâ¶•â¶˜â¶¥â¶¨rÃ²áª€Ä€irâ¶â¶ r;æ¦¾oss;æ¦»nÃ¥à¹’;æ§€Æ€aeiâ¶±â¶µâ¶¹cr;ä…ga;ä‰Æ€cdnâ·€â·…Çron;äŽ¿;æ¦¶pf;ì€€ð• Æ€aelâ·”â·—Ç’r;æ¦·rp;æ¦¹Î€;adiosvâ·ªâ·«â·®â¸ˆâ¸â¸â¸–æˆ¨rÃ²áª†È€;efmâ··â·¸â¸‚â¸…æ©rÄ€;oâ·¾â·¿æ„´fÂ»â·¿è€»Âªä‚ªè€»Âºä‚ºgof;æŠ¶r;æ©–lope;æ©—;æ©›Æ€cloâ¸Ÿâ¸¡â¸§Ã²â¸ashè€»Ã¸äƒ¸l;æŠ˜iÅ¬â¸¯â¸´deè€»ÃµäƒµesÄ€;aÇ›â¸ºs;æ¨¶mlè€»Ã¶äƒ¶bar;æŒ½à«¡â¹ž\0â¹½\0âº€âº\0âº¢âº¹\0\0â»‹àºœ\0â¼“\0\0â¼«â¾¼\0â¿ˆrÈ€;astÐƒâ¹§â¹²àº…è„€Â¶;lâ¹­â¹®ä‚¶leÃ¬ÐƒÉ©â¹¸\0\0â¹»m;æ«³;æ«½y;ä¿rÊ€cimptâº‹âºâº“á¡¥âº—nt;ä€¥od;ä€®il;æ€°enk;æ€±r;ì€€ð”­Æ€imoâº¨âº°âº´Ä€;vâº­âº®ä†;ä•maÃ´à©¶ne;æ˜ŽÆ€;tvâº¿â»€â»ˆä€chforkÂ»á¿½;ä–Ä€auâ»â»ŸnÄ€ckâ»•â»kÄ€;hâ‡´â»›;æ„ŽÃ¶â‡´sÒ€;abcdemstâ»³â»´á¤ˆâ»¹â»½â¼„â¼†â¼Šâ¼Žä€«cir;æ¨£ir;æ¨¢Ä€ouáµ€â¼‚;æ¨¥;æ©²nè‚»Â±àºim;æ¨¦wo;æ¨§Æ€ipuâ¼™â¼ â¼¥ntint;æ¨•f;ì€€ð•¡ndè€»Â£ä‚£Ô€;Eaceinosuà»ˆâ¼¿â½â½„â½‡â¾â¾‰â¾’â½¾â¾¶;æª³p;æª·uÃ¥à»™Ä€;cà»Žâ½ŒÌ€;acensà»ˆâ½™â½Ÿâ½¦â½¨â½¾pproÃ¸â½ƒurlyeÃ±à»™Ã±à»ŽÆ€aesâ½¯â½¶â½ºpprox;æª¹qq;æªµim;æ‹¨iÃ­à»ŸmeÄ€;sâ¾ˆàº®æ€²Æ€Easâ½¸â¾â½ºÃ°â½µÆ€dfpà»¬â¾™â¾¯Æ€alsâ¾ â¾¥â¾ªlar;æŒ®ine;æŒ’urf;æŒ“Ä€;tà»»â¾´Ã¯à»»rel;æŠ°Ä€ciâ¿€â¿…r;ì€€ð“…;äˆncsp;æ€ˆÌ€fiopsuâ¿šâ‹¢â¿Ÿâ¿¥â¿«â¿±r;ì€€ð”®pf;ì€€ð•¢rime;æ—cr;ì€€ð“†Æ€aeoâ¿¸ã€‰ã€“tÄ€eiâ¿¾ã€…rnionÃ³Ú°nt;æ¨–stÄ€;eã€ã€‘ä€¿Ã±á¼™Ã´à¼”àª€ABHabcdefhilmnoprstuxã€ã‘ã•ã™ãƒ ã„Žã„«ã…‡ã…¢ã…²ã†Žãˆ†ãˆ•ãˆ¤ãˆ©ã‰˜ã‰®ã‰²ãŠãŠ°ãŠ·Æ€artã‡ãŠãŒrÃ²á‚³Ã²Ïail;æ¤œarÃ²á±¥ar;æ¥¤Î€cdenqrtã¨ãµã¸ã¿ã‚ã‚”ãƒŒÄ€euã­ã±;ì€€âˆ½Ì±te;ä…•iÃ£á…®mptyv;æ¦³gÈ€;delà¿‘ã‚‰ã‚‹ã‚;æ¦’;æ¦¥Ã¥à¿‘uoè€»Â»ä‚»rÖ€;abcfhlpstwà¿œã‚¬ã‚¯ã‚·ã‚¹ã‚¼ã‚¾ãƒ€ãƒƒãƒ‡ãƒŠp;æ¥µÄ€;fà¿ ã‚´s;æ¤ ;æ¤³s;æ¤žÃ«â‰Ã°âœ®l;æ¥…im;æ¥´l;æ†£;æ†Ä€aiãƒ‘ãƒ•il;æ¤šoÄ€;nãƒ›ãƒœæˆ¶alÃ³à¼žÆ€abrãƒ§ãƒªãƒ®rÃ²áŸ¥rk;æ³Ä€akãƒ³ãƒ½cÄ€ekãƒ¹ãƒ»;ä½;äÄ€esã„‚ã„„;æ¦ŒlÄ€duã„Šã„Œ;æ¦Ž;æ¦È€aeuyã„—ã„œã„§ã„©ron;ä…™Ä€diã„¡ã„¥il;ä…—Ã¬à¿²Ã¢ãƒº;ä‘€È€clqsã„´ã„·ã„½ã…„a;æ¤·dhar;æ¥©uoÄ€;rÈŽÈh;æ†³Æ€acgã…Žã…Ÿà½„lÈ€;ipsà½¸ã…˜ã…›á‚œnÃ¥á‚»arÃ´à¾©t;æ–­Æ€ilrã…©á€£ã…®sht;æ¥½;ì€€ð”¯Ä€aoã…·ã††rÄ€duã…½ã…¿Â»Ñ»Ä€;lá‚‘ã†„;æ¥¬Ä€;vã†‹ã†Œä;ä±Æ€gnsã†•ã‡¹ã‡¼htÌ€ahlrstã†¤ã†°ã‡‚ã‡˜ã‡¤ã‡®rrowÄ€;tà¿œã†­aÃ©ãƒˆarpoonÄ€duã†»ã†¿owÃ®ã…¾pÂ»á‚’eftÄ€ahã‡Šã‡rrowÃ³à¿ªarpoonÃ³Õ‘ightarrows;æ‡‰quigarroÃ·ãƒ‹hreetimes;æ‹Œg;ä‹šingdotseÃ±á¼²Æ€ahmãˆãˆãˆ“rÃ²à¿ªaÃ²Õ‘;æ€oustÄ€;aãˆžãˆŸæŽ±cheÂ»ãˆŸmid;æ«®È€abptãˆ²ãˆ½ã‰€ã‰’Ä€nrãˆ·ãˆºg;æŸ­r;æ‡¾rÃ«á€ƒÆ€aflã‰‡ã‰Šã‰Žr;æ¦†;ì€€ð•£us;æ¨®imes;æ¨µÄ€apã‰ã‰§rÄ€;gã‰£ã‰¤ä€©t;æ¦”olint;æ¨’arÃ²ã‡£È€achqã‰»ãŠ€á‚¼ãŠ…quo;æ€ºr;ì€€ð“‡Ä€buãƒ»ãŠŠoÄ€;rÈ”È“Æ€hirãŠ—ãŠ›ãŠ reÃ¥ã‡¸mes;æ‹ŠiÈ€;eflãŠªá™á ¡ãŠ«æ–¹tri;æ§Žluhar;æ¥¨;æ„žàµ¡ã‹•ã‹›ã‹ŸãŒ¬ãŒ¸ã±\0ãºãŽ¤\0\0ã¬ã°\0ã¨ã‘ˆã‘šã’­ã’±ã“Šã“±\0ã˜–\0\0ã˜³cute;ä…›quÃ¯âžºÔ€;Eaceinpsyá‡­ã‹³ã‹µã‹¿ãŒ‚ãŒ‹ãŒãŒŸãŒ¦ãŒ©;æª´Ç°ã‹º\0ã‹¼;æª¸on;ä…¡uÃ¥á‡¾Ä€;dá‡³ãŒ‡il;ä…Ÿrc;ä…Æ€EasãŒ–ãŒ˜ãŒ›;æª¶p;æªºim;æ‹©olint;æ¨“iÃ­áˆ„;ä‘otÆ€;beãŒ´áµ‡ãŒµæ‹…;æ©¦Î€Aacmstxã†ãŠã—ã›ãžã£ã­rr;æ‡˜rÄ€hrãã’Ã«âˆ¨Ä€;oà¨¶à¨´tè€»Â§ä‚§i;ä€»war;æ¤©mÄ€inã©Ã°nuÃ³Ã±t;æœ¶rÄ€;oã¶â•ì€€ð”°È€acoyãŽ‚ãŽ†ãŽ‘ãŽ rp;æ™¯Ä€hyãŽ‹ãŽcy;ä‘‰;ä‘ˆrtÉ­ãŽ™\0\0ãŽœiÃ¤á‘¤araÃ¬â¹¯è€»Â­ä‚­Ä€gmãŽ¨ãŽ´maÆ€;fvãŽ±ãŽ²ãŽ²äƒ;ä‚Ð€;deglnpráŠ«ã…ã‰ãŽã–ãžã¡ã¦ot;æ©ªÄ€;qáŠ±áŠ°Ä€;Eã“ã”æªž;æª Ä€;Eã›ãœæª;æªŸe;æ‰†lus;æ¨¤arr;æ¥²arÃ²á„½È€aeitã¸ãˆãã—Ä€lsã½ã„lsetmÃ©ãªhp;æ¨³parsl;æ§¤Ä€dlá‘£ã”e;æŒ£Ä€;eãœãæªªÄ€;sã¢ã£æª¬;ì€€âª¬ï¸€Æ€flpã®ã³ã‘‚tcy;ä‘ŒÄ€;bã¸ã¹ä€¯Ä€;aã¾ã¿æ§„r;æŒ¿f;ì€€ð•¤aÄ€drã‘Ð‚esÄ€;uã‘”ã‘•æ™ itÂ»ã‘•Æ€csuã‘ ã‘¹ã’ŸÄ€auã‘¥ã‘¯pÄ€;sá†ˆã‘«;ì€€âŠ“ï¸€pÄ€;sá†´ã‘µ;ì€€âŠ”ï¸€uÄ€bpã‘¿ã’Æ€;esá†—á†œã’†etÄ€;eá†—ã’Ã±á†Æ€;esá†¨á†­ã’–etÄ€;eá†¨ã’Ã±á†®Æ€;afá…»ã’¦Ö°rÅ¥ã’«Ö±Â»á…¼arÃ²á…ˆÈ€cemtã’¹ã’¾ã“‚ã“…r;ì€€ð“ˆtmÃ®Ã±iÃ¬ã•arÃ¦á†¾Ä€arã“Žã“•rÄ€;fã“”áž¿æ˜†Ä€anã“šã“­ightÄ€epã“£ã“ªpsiloÃ®á» hÃ©âº¯sÂ»â¡’Ê€bcmnpã“»ã•žáˆ‰ã–‹ã–ŽÒ€;Edemnprsã”Žã”ã”‘ã”•ã”žã”£ã”¬ã”±ã”¶æŠ‚;æ«…ot;æª½Ä€;dá‡šã”šot;æ«ƒult;æ«Ä€Eeã”¨ã”ª;æ«‹;æŠŠlus;æª¿arr;æ¥¹Æ€eiuã”½ã•’ã••tÆ€;enã”Žã•…ã•‹qÄ€;qá‡šã”eqÄ€;qã”«ã”¨m;æ«‡Ä€bpã•šã•œ;æ«•;æ«“cÌ€;acensá‡­ã•¬ã•²ã•¹ã•»ãŒ¦pproÃ¸ã‹ºurlyeÃ±á‡¾Ã±á‡³Æ€aesã–‚ã–ˆãŒ›pproÃ¸ãŒšqÃ±ãŒ—g;æ™ªÚ€123;Edehlmnpsã–©ã–¬ã–¯áˆœã–²ã–´ã—€ã—‰ã—•ã—šã—Ÿã—¨ã—­è€»Â¹ä‚¹è€»Â²ä‚²è€»Â³ä‚³;æ«†Ä€osã–¹ã–¼t;æª¾ub;æ«˜Ä€;dáˆ¢ã—…ot;æ«„sÄ€ouã—ã—’l;æŸ‰b;æ«—arr;æ¥»ult;æ«‚Ä€Eeã—¤ã—¦;æ«Œ;æŠ‹lus;æ«€Æ€eiuã—´ã˜‰ã˜ŒtÆ€;enáˆœã—¼ã˜‚qÄ€;qáˆ¢ã–²eqÄ€;qã—§ã—¤m;æ«ˆÄ€bpã˜‘ã˜“;æ«”;æ«–Æ€Aanã˜œã˜ ã˜­rr;æ‡™rÄ€hrã˜¦ã˜¨Ã«âˆ®Ä€;oà¨«à¨©war;æ¤ªligè€»ÃŸäƒŸà¯¡ã™‘ã™ã™ á‹Žã™³ã™¹\0ã™¾ã›‚\0\0\0\0\0ã››ãœƒ\0ãœ‰ã¬\0\0\0ãž‡É²ã™–\0\0ã™›get;æŒ–;ä„rÃ«à¹ŸÆ€aeyã™¦ã™«ã™°ron;ä…¥dil;ä…£;ä‘‚lrec;æŒ•r;ì€€ð”±È€eikoãš†ãšãšµãš¼Ç²ãš‹\0ãš‘eÄ€4fáŠ„áŠaÆ€;svãš˜ãš™ãš›äŽ¸ym;ä‘Ä€cnãš¢ãš²kÄ€asãš¨ãš®pproÃ¸á‹imÂ»áŠ¬sÃ°áŠžÄ€asãšºãš®Ã°á‹rnè€»Ã¾äƒ¾Ç¬ÌŸã›†â‹§esè†€Ã—;bdã›ã›ã›˜äƒ—Ä€;aá¤ã›•r;æ¨±;æ¨°Æ€epsã›¡ã›£ãœ€Ã¡â©È€;bcfÒ†ã›¬ã›°ã›´ot;æŒ¶ir;æ«±Ä€;oã›¹ã›¼ì€€ð•¥rk;æ«šÃ¡ã¢rime;æ€´Æ€aipãœãœ’ã¤dÃ¥á‰ˆÎ€adempstãœ¡ãã€ã‘ã—ãœãŸngleÊ€;dlqrãœ°ãœ±ãœ¶ã€ã‚æ–µownÂ»á¶»eftÄ€;eâ €ãœ¾Ã±à¤®;æ‰œightÄ€;eãŠªã‹Ã±ášot;æ—¬inus;æ¨ºlus;æ¨¹b;æ§ime;æ¨»ezium;æ¢Æ€chtã²ã½ãžÄ€ryã·ã»;ì€€ð“‰;ä‘†cy;ä‘›rok;ä…§Ä€ioãž‹ãžŽxÃ´á·headÄ€lrãž—ãž eftarroÃ·à¡ightarrowÂ»à½à¤€AHabcdfghlmoprstuwãŸãŸ“ãŸ—ãŸ¤ãŸ°ãŸ¼ã Žã œã £ã ´ã¡‘ã¡ã¡«ã¢©ã£Œã£’ã£ªã£¶rÃ²Ï­ar;æ¥£Ä€crãŸœãŸ¢uteè€»ÃºäƒºÃ²á…rÇ£ãŸª\0ãŸ­y;ä‘žve;ä…­Ä€iyãŸµãŸºrcè€»Ã»äƒ»;ä‘ƒÆ€abhã ƒã †ã ‹rÃ²áŽ­lac;ä…±aÃ²áƒÄ€irã “ã ˜sht;æ¥¾;ì€€ð”²raveè€»Ã¹äƒ¹Å¡ã §ã ±rÄ€lrã ¬ã ®Â»à¥—Â»á‚ƒlk;æ–€Ä€ctã ¹ã¡É¯ã ¿\0\0ã¡ŠrnÄ€;eã¡…ã¡†æŒœrÂ»ã¡†op;æŒri;æ—¸Ä€alã¡–ã¡šcr;ä…«è‚»Â¨Í‰Ä€gpã¡¢ã¡¦on;ä…³f;ì€€ð•¦Ì€adhlsuá…‹ã¡¸ã¡½á²ã¢‘ã¢ ownÃ¡áŽ³arpoonÄ€lrã¢ˆã¢ŒefÃ´ã ­ighÃ´ã ¯iÆ€;hlã¢™ã¢šã¢œä…Â»áºonÂ»ã¢šparrows;æ‡ˆÆ€citã¢°ã£„ã£ˆÉ¯ã¢¶\0\0ã£rnÄ€;eã¢¼ã¢½æŒrÂ»ã¢½op;æŒŽng;ä…¯ri;æ—¹cr;ì€€ð“ŠÆ€dirã£™ã£ã£¢ot;æ‹°lde;ä…©iÄ€;fãœ°ã£¨Â»á “Ä€amã£¯ã£²rÃ²ã¢¨lè€»Ã¼äƒ¼angle;æ¦§Þ€ABDacdeflnoprszã¤œã¤Ÿã¤©ã¤­ã¦µã¦¸ã¦½ã§Ÿã§¤ã§¨ã§³ã§¹ã§½ã¨ã¨ rÃ²Ï·arÄ€;vã¤¦ã¤§æ«¨;æ«©asÃ¨Ï¡Ä€nrã¤²ã¤·grt;æ¦œÎ€eknprstã“£ã¥†ã¥‹ã¥’ã¥ã¥¤ã¦–appÃ¡â•othinÃ§áº–Æ€hirã“«â»ˆã¥™opÃ´â¾µÄ€;háŽ·ã¥¢Ã¯ã†Ä€iuã¥©ã¥­gmÃ¡ãŽ³Ä€bpã¥²ã¦„setneqÄ€;qã¥½ã¦€ì€€âŠŠï¸€;ì€€â«‹ï¸€setneqÄ€;qã¦ã¦’ì€€âŠ‹ï¸€;ì€€â«Œï¸€Ä€hrã¦›ã¦ŸetÃ¡ãšœiangleÄ€lrã¦ªã¦¯eftÂ»à¤¥ightÂ»á‘y;ä²ashÂ»á€¶Æ€elrã§„ã§’ã§—Æ€;beâ·ªã§‹ã§ar;æŠ»q;æ‰šlip;æ‹®Ä€btã§œá‘¨aÃ²á‘©r;ì€€ð”³trÃ©ã¦®suÄ€bpã§¯ã§±Â»à´œÂ»àµ™pf;ì€€ð•§roÃ°à»»trÃ©ã¦´Ä€cuã¨†ã¨‹r;ì€€ð“‹Ä€bpã¨ã¨˜nÄ€Eeã¦€ã¨–Â»ã¥¾nÄ€Eeã¦’ã¨žÂ»ã¦igzag;æ¦šÎ€cefoprsã¨¶ã¨»ã©–ã©›ã©”ã©¡ã©ªirc;ä…µÄ€diã©€ã©‘Ä€bgã©…ã©‰ar;æ©ŸeÄ€;qá—ºã©;æ‰™erp;æ„˜r;ì€€ð”´pf;ì€€ð•¨Ä€;eá‘¹ã©¦atÃ¨á‘¹cr;ì€€ð“Œà«£ážŽãª‡\0ãª‹\0ãªãª›\0\0ãªãª¨ãª«ãª¯\0\0ã«ƒã«Ž\0ã«˜áŸœáŸŸtrÃ©áŸ‘r;ì€€ð”µÄ€Aaãª”ãª—rÃ²ÏƒrÃ²à§¶;äŽ¾Ä€Aaãª¡ãª¤rÃ²Î¸rÃ²à§«aÃ°âœ“is;æ‹»Æ€dptáž¤ãªµãª¾Ä€flãªºáž©;ì€€ð•©imÃ¥áž²Ä€Aaã«‡ã«ŠrÃ²ÏŽrÃ²à¨Ä€cqã«’áž¸r;ì€€ð“Ä€ptáŸ–ã«œrÃ©áŸ”Ð€acefiosuã«°ã«½ã¬ˆã¬Œã¬‘ã¬•ã¬›ã¬¡cÄ€uyã«¶ã«»teè€»Ã½äƒ½;ä‘Ä€iyã¬‚ã¬†rc;ä…·;ä‘‹nè€»Â¥ä‚¥r;ì€€ð”¶cy;ä‘—pf;ì€€ð•ªcr;ì€€ð“ŽÄ€cmã¬¦ã¬©y;ä‘Žlè€»Ã¿äƒ¿Ô€acdefhioswã­‚ã­ˆã­”ã­˜ã­¤ã­©ã­­ã­´ã­ºã®€cute;ä…ºÄ€ayã­ã­’ron;ä…¾;ä·ot;ä…¼Ä€etã­ã­¡trÃ¦á•Ÿa;äŽ¶r;ì€€ð”·cy;ä¶grarr;æ‡pf;ì€€ð•«cr;ì€€ð“Ä€jnã®…ã®‡;æ€j;æ€Œ'.split("").map(t=>t.charCodeAt(0))),Dne=new Uint16Array("È€aglq	\x1BÉ­\0\0p;ä€¦os;ä€§t;ä€¾t;ä€¼uot;ä€¢".split("").map(t=>t.charCodeAt(0)));var Kv;const Ine=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),m6=(Kv=String.fromCodePoint)!==null&&Kv!==void 0?Kv:function(t){let r="";return t>65535&&(t-=65536,r+=String.fromCharCode(t>>>10&1023|55296),t=56320|t&1023),r+=String.fromCharCode(t),r};function Tne(t){var r;return t>=55296&&t<=57343||t>1114111?65533:(r=Ine.get(t))!==null&&r!==void 0?r:t}var lo;(function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"})(lo||(lo={}));const Nne=32;var cd;(function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"})(cd||(cd={}));function s_(t){return t>=lo.ZERO&&t<=lo.NINE}function Mne(t){return t>=lo.UPPER_A&&t<=lo.UPPER_F||t>=lo.LOWER_A&&t<=lo.LOWER_F}function Pne(t){return t>=lo.UPPER_A&&t<=lo.UPPER_Z||t>=lo.LOWER_A&&t<=lo.LOWER_Z||s_(t)}function One(t){return t===lo.EQUALS||Pne(t)}var so;(function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"})(so||(so={}));var uc;(function(t){t[t.Legacy=0]="Legacy",t[t.Strict=1]="Strict",t[t.Attribute=2]="Attribute"})(uc||(uc={}));class jne{constructor(r,n,o){this.decodeTree=r,this.emitCodePoint=n,this.errors=o,this.state=so.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=uc.Strict}startEntity(r){this.decodeMode=r,this.state=so.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(r,n){switch(this.state){case so.EntityStart:return r.charCodeAt(n)===lo.NUM?(this.state=so.NumericStart,this.consumed+=1,this.stateNumericStart(r,n+1)):(this.state=so.NamedEntity,this.stateNamedEntity(r,n));case so.NumericStart:return this.stateNumericStart(r,n);case so.NumericDecimal:return this.stateNumericDecimal(r,n);case so.NumericHex:return this.stateNumericHex(r,n);case so.NamedEntity:return this.stateNamedEntity(r,n)}}stateNumericStart(r,n){return n>=r.length?-1:(r.charCodeAt(n)|Nne)===lo.LOWER_X?(this.state=so.NumericHex,this.consumed+=1,this.stateNumericHex(r,n+1)):(this.state=so.NumericDecimal,this.stateNumericDecimal(r,n))}addToNumericResult(r,n,o,s){if(n!==o){const l=o-n;this.result=this.result*Math.pow(s,l)+Number.parseInt(r.substr(n,l),s),this.consumed+=l}}stateNumericHex(r,n){const o=n;for(;n<r.length;){const s=r.charCodeAt(n);if(s_(s)||Mne(s))n+=1;else return this.addToNumericResult(r,o,n,16),this.emitNumericEntity(s,3)}return this.addToNumericResult(r,o,n,16),-1}stateNumericDecimal(r,n){const o=n;for(;n<r.length;){const s=r.charCodeAt(n);if(s_(s))n+=1;else return this.addToNumericResult(r,o,n,10),this.emitNumericEntity(s,2)}return this.addToNumericResult(r,o,n,10),-1}emitNumericEntity(r,n){var o;if(this.consumed<=n)return(o=this.errors)===null||o===void 0||o.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(r===lo.SEMI)this.consumed+=1;else if(this.decodeMode===uc.Strict)return 0;return this.emitCodePoint(Tne(this.result),this.consumed),this.errors&&(r!==lo.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(r,n){const{decodeTree:o}=this;let s=o[this.treeIndex],l=(s&cd.VALUE_LENGTH)>>14;for(;n<r.length;n++,this.excess++){const d=r.charCodeAt(n);if(this.treeIndex=Lne(o,s,this.treeIndex+Math.max(1,l),d),this.treeIndex<0)return this.result===0||this.decodeMode===uc.Attribute&&(l===0||One(d))?0:this.emitNotTerminatedNamedEntity();if(s=o[this.treeIndex],l=(s&cd.VALUE_LENGTH)>>14,l!==0){if(d===lo.SEMI)return this.emitNamedEntityData(this.treeIndex,l,this.consumed+this.excess);this.decodeMode!==uc.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var r;const{result:n,decodeTree:o}=this,s=(o[n]&cd.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,s,this.consumed),(r=this.errors)===null||r===void 0||r.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(r,n,o){const{decodeTree:s}=this;return this.emitCodePoint(n===1?s[r]&~cd.VALUE_LENGTH:s[r+1],o),n===3&&this.emitCodePoint(s[r+2],o),o}end(){var r;switch(this.state){case so.NamedEntity:return this.result!==0&&(this.decodeMode!==uc.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case so.NumericDecimal:return this.emitNumericEntity(0,2);case so.NumericHex:return this.emitNumericEntity(0,3);case so.NumericStart:return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case so.EntityStart:return 0}}}function Lne(t,r,n,o){const s=(r&cd.BRANCH_LENGTH)>>7,l=r&cd.JUMP_TABLE;if(s===0)return l!==0&&o===l?n:-1;if(l){const p=o-l;return p<0||p>=s?-1:t[n+p]-1}let d=n,h=d+s-1;for(;d<=h;){const p=d+h>>>1,g=t[p];if(g<o)d=p+1;else if(g>o)h=p-1;else return t[p+s]}return-1}var on;(function(t){t[t.Tab=9]="Tab",t[t.NewLine=10]="NewLine",t[t.FormFeed=12]="FormFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.Number=35]="Number",t[t.Amp=38]="Amp",t[t.SingleQuote=39]="SingleQuote",t[t.DoubleQuote=34]="DoubleQuote",t[t.Dash=45]="Dash",t[t.Slash=47]="Slash",t[t.Zero=48]="Zero",t[t.Nine=57]="Nine",t[t.Semi=59]="Semi",t[t.Lt=60]="Lt",t[t.Eq=61]="Eq",t[t.Gt=62]="Gt",t[t.Questionmark=63]="Questionmark",t[t.UpperA=65]="UpperA",t[t.LowerA=97]="LowerA",t[t.UpperF=70]="UpperF",t[t.LowerF=102]="LowerF",t[t.UpperZ=90]="UpperZ",t[t.LowerZ=122]="LowerZ",t[t.LowerX=120]="LowerX",t[t.OpeningSquareBracket=91]="OpeningSquareBracket"})(on||(on={}));var Et;(function(t){t[t.Text=1]="Text",t[t.BeforeTagName=2]="BeforeTagName",t[t.InTagName=3]="InTagName",t[t.InSelfClosingTag=4]="InSelfClosingTag",t[t.BeforeClosingTagName=5]="BeforeClosingTagName",t[t.InClosingTagName=6]="InClosingTagName",t[t.AfterClosingTagName=7]="AfterClosingTagName",t[t.BeforeAttributeName=8]="BeforeAttributeName",t[t.InAttributeName=9]="InAttributeName",t[t.AfterAttributeName=10]="AfterAttributeName",t[t.BeforeAttributeValue=11]="BeforeAttributeValue",t[t.InAttributeValueDq=12]="InAttributeValueDq",t[t.InAttributeValueSq=13]="InAttributeValueSq",t[t.InAttributeValueNq=14]="InAttributeValueNq",t[t.BeforeDeclaration=15]="BeforeDeclaration",t[t.InDeclaration=16]="InDeclaration",t[t.InProcessingInstruction=17]="InProcessingInstruction",t[t.BeforeComment=18]="BeforeComment",t[t.CDATASequence=19]="CDATASequence",t[t.InSpecialComment=20]="InSpecialComment",t[t.InCommentLike=21]="InCommentLike",t[t.BeforeSpecialS=22]="BeforeSpecialS",t[t.BeforeSpecialT=23]="BeforeSpecialT",t[t.SpecialStartSequence=24]="SpecialStartSequence",t[t.InSpecialTag=25]="InSpecialTag",t[t.InEntity=26]="InEntity"})(Et||(Et={}));function ru(t){return t===on.Space||t===on.NewLine||t===on.Tab||t===on.FormFeed||t===on.CarriageReturn}function ok(t){return t===on.Slash||t===on.Gt||ru(t)}function Bne(t){return t>=on.LowerA&&t<=on.LowerZ||t>=on.UpperA&&t<=on.UpperZ}var dc;(function(t){t[t.NoValue=0]="NoValue",t[t.Unquoted=1]="Unquoted",t[t.Single=2]="Single",t[t.Double=3]="Double"})(dc||(dc={}));const Fi={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class Rne{constructor({xmlMode:r=!1,decodeEntities:n=!0},o){this.cbs=o,this.state=Et.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=Et.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=r,this.decodeEntities=n,this.entityDecoder=new jne(r?Dne:Ene,(s,l)=>this.emitCodePoint(s,l))}reset(){this.state=Et.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=Et.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(r){this.offset+=this.buffer.length,this.buffer=r,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(r){r===on.Lt||!this.decodeEntities&&this.fastForwardTo(on.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=Et.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&r===on.Amp&&this.startEntity()}stateSpecialStartSequence(r){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?ok(r):(r|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=Et.InTagName,this.stateInTagName(r)}stateInSpecialTag(r){if(this.sequenceIndex===this.currentSequence.length){if(r===on.Gt||ru(r)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const o=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=o}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(r);return}this.sequenceIndex=0}(r|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Fi.TitleEnd?this.decodeEntities&&r===on.Amp&&this.startEntity():this.fastForwardTo(on.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(r===on.Lt)}stateCDATASequence(r){r===Fi.Cdata[this.sequenceIndex]?++this.sequenceIndex===Fi.Cdata.length&&(this.state=Et.InCommentLike,this.currentSequence=Fi.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=Et.InDeclaration,this.stateInDeclaration(r))}fastForwardTo(r){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===r)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(r){r===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Fi.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=Et.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):r!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(r){return this.xmlMode?!ok(r):Bne(r)}startSpecial(r,n){this.isSpecial=!0,this.currentSequence=r,this.sequenceIndex=n,this.state=Et.SpecialStartSequence}stateBeforeTagName(r){if(r===on.ExclamationMark)this.state=Et.BeforeDeclaration,this.sectionStart=this.index+1;else if(r===on.Questionmark)this.state=Et.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(r)){const n=r|32;this.sectionStart=this.index,this.xmlMode?this.state=Et.InTagName:n===Fi.ScriptEnd[2]?this.state=Et.BeforeSpecialS:n===Fi.TitleEnd[2]||n===Fi.XmpEnd[2]?this.state=Et.BeforeSpecialT:this.state=Et.InTagName}else r===on.Slash?this.state=Et.BeforeClosingTagName:(this.state=Et.Text,this.stateText(r))}stateInTagName(r){ok(r)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(r))}stateBeforeClosingTagName(r){ru(r)||(r===on.Gt?this.state=Et.Text:(this.state=this.isTagStartChar(r)?Et.InClosingTagName:Et.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(r){(r===on.Gt||ru(r))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=Et.AfterClosingTagName,this.stateAfterClosingTagName(r))}stateAfterClosingTagName(r){(r===on.Gt||this.fastForwardTo(on.Gt))&&(this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(r){r===on.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=Et.InSpecialTag,this.sequenceIndex=0):this.state=Et.Text,this.sectionStart=this.index+1):r===on.Slash?this.state=Et.InSelfClosingTag:ru(r)||(this.state=Et.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(r){r===on.Gt?(this.cbs.onselfclosingtag(this.index),this.state=Et.Text,this.sectionStart=this.index+1,this.isSpecial=!1):ru(r)||(this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(r))}stateInAttributeName(r){(r===on.Eq||ok(r))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=Et.AfterAttributeName,this.stateAfterAttributeName(r))}stateAfterAttributeName(r){r===on.Eq?this.state=Et.BeforeAttributeValue:r===on.Slash||r===on.Gt?(this.cbs.onattribend(dc.NoValue,this.sectionStart),this.sectionStart=-1,this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(r)):ru(r)||(this.cbs.onattribend(dc.NoValue,this.sectionStart),this.state=Et.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(r){r===on.DoubleQuote?(this.state=Et.InAttributeValueDq,this.sectionStart=this.index+1):r===on.SingleQuote?(this.state=Et.InAttributeValueSq,this.sectionStart=this.index+1):ru(r)||(this.sectionStart=this.index,this.state=Et.InAttributeValueNq,this.stateInAttributeValueNoQuotes(r))}handleInAttributeValue(r,n){r===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===on.DoubleQuote?dc.Double:dc.Single,this.index+1),this.state=Et.BeforeAttributeName):this.decodeEntities&&r===on.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(r){this.handleInAttributeValue(r,on.DoubleQuote)}stateInAttributeValueSingleQuotes(r){this.handleInAttributeValue(r,on.SingleQuote)}stateInAttributeValueNoQuotes(r){ru(r)||r===on.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(dc.Unquoted,this.index),this.state=Et.BeforeAttributeName,this.stateBeforeAttributeName(r)):this.decodeEntities&&r===on.Amp&&this.startEntity()}stateBeforeDeclaration(r){r===on.OpeningSquareBracket?(this.state=Et.CDATASequence,this.sequenceIndex=0):this.state=r===on.Dash?Et.BeforeComment:Et.InDeclaration}stateInDeclaration(r){(r===on.Gt||this.fastForwardTo(on.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=Et.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(r){(r===on.Gt||this.fastForwardTo(on.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeComment(r){r===on.Dash?(this.state=Et.InCommentLike,this.currentSequence=Fi.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=Et.InDeclaration}stateInSpecialComment(r){(r===on.Gt||this.fastForwardTo(on.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=Et.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(r){const n=r|32;n===Fi.ScriptEnd[3]?this.startSpecial(Fi.ScriptEnd,4):n===Fi.StyleEnd[3]?this.startSpecial(Fi.StyleEnd,4):(this.state=Et.InTagName,this.stateInTagName(r))}stateBeforeSpecialT(r){switch(r|32){case Fi.TitleEnd[3]:{this.startSpecial(Fi.TitleEnd,4);break}case Fi.TextareaEnd[3]:{this.startSpecial(Fi.TextareaEnd,4);break}case Fi.XmpEnd[3]:{this.startSpecial(Fi.XmpEnd,4);break}default:this.state=Et.InTagName,this.stateInTagName(r)}}startEntity(){this.baseState=this.state,this.state=Et.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?uc.Strict:this.baseState===Et.Text||this.baseState===Et.InSpecialTag?uc.Legacy:uc.Attribute)}stateInEntity(){const r=this.entityDecoder.write(this.buffer,this.index-this.offset);r>=0?(this.state=this.baseState,r===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===Et.Text||this.state===Et.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===Et.InAttributeValueDq||this.state===Et.InAttributeValueSq||this.state===Et.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const r=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case Et.Text:{this.stateText(r);break}case Et.SpecialStartSequence:{this.stateSpecialStartSequence(r);break}case Et.InSpecialTag:{this.stateInSpecialTag(r);break}case Et.CDATASequence:{this.stateCDATASequence(r);break}case Et.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(r);break}case Et.InAttributeName:{this.stateInAttributeName(r);break}case Et.InCommentLike:{this.stateInCommentLike(r);break}case Et.InSpecialComment:{this.stateInSpecialComment(r);break}case Et.BeforeAttributeName:{this.stateBeforeAttributeName(r);break}case Et.InTagName:{this.stateInTagName(r);break}case Et.InClosingTagName:{this.stateInClosingTagName(r);break}case Et.BeforeTagName:{this.stateBeforeTagName(r);break}case Et.AfterAttributeName:{this.stateAfterAttributeName(r);break}case Et.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(r);break}case Et.BeforeAttributeValue:{this.stateBeforeAttributeValue(r);break}case Et.BeforeClosingTagName:{this.stateBeforeClosingTagName(r);break}case Et.AfterClosingTagName:{this.stateAfterClosingTagName(r);break}case Et.BeforeSpecialS:{this.stateBeforeSpecialS(r);break}case Et.BeforeSpecialT:{this.stateBeforeSpecialT(r);break}case Et.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(r);break}case Et.InSelfClosingTag:{this.stateInSelfClosingTag(r);break}case Et.InDeclaration:{this.stateInDeclaration(r);break}case Et.BeforeDeclaration:{this.stateBeforeDeclaration(r);break}case Et.BeforeComment:{this.stateBeforeComment(r);break}case Et.InProcessingInstruction:{this.stateInProcessingInstruction(r);break}case Et.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===Et.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const r=this.buffer.length+this.offset;this.sectionStart>=r||(this.state===Et.InCommentLike?this.currentSequence===Fi.CdataEnd?this.cbs.oncdata(this.sectionStart,r,0):this.cbs.oncomment(this.sectionStart,r,0):this.state===Et.InTagName||this.state===Et.BeforeAttributeName||this.state===Et.BeforeAttributeValue||this.state===Et.AfterAttributeName||this.state===Et.InAttributeName||this.state===Et.InAttributeValueSq||this.state===Et.InAttributeValueDq||this.state===Et.InAttributeValueNq||this.state===Et.InClosingTagName||this.cbs.ontext(this.sectionStart,r))}emitCodePoint(r,n){this.baseState!==Et.Text&&this.baseState!==Et.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(r)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(r,this.sectionStart))}}const Qf=new Set(["input","option","optgroup","select","button","datalist","textarea"]),vr=new Set(["p"]),g6=new Set(["thead","tbody"]),b6=new Set(["dd","dt"]),k6=new Set(["rt","rp"]),Fne=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",vr],["h1",vr],["h2",vr],["h3",vr],["h4",vr],["h5",vr],["h6",vr],["select",Qf],["input",Qf],["output",Qf],["button",Qf],["datalist",Qf],["textarea",Qf],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",b6],["dt",b6],["address",vr],["article",vr],["aside",vr],["blockquote",vr],["details",vr],["div",vr],["dl",vr],["fieldset",vr],["figcaption",vr],["figure",vr],["footer",vr],["form",vr],["header",vr],["hr",vr],["main",vr],["nav",vr],["ol",vr],["pre",vr],["section",vr],["table",vr],["ul",vr],["rt",k6],["rp",k6],["tbody",g6],["tfoot",g6]]),zne=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),w6=new Set(["math","svg"]),y6=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),Une=/\s|\//;class qne{constructor(r,n={}){var o,s,l,d,h,p;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=r??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(o=n.lowerCaseTags)!==null&&o!==void 0?o:this.htmlMode,this.lowerCaseAttributeNames=(s=n.lowerCaseAttributeNames)!==null&&s!==void 0?s:this.htmlMode,this.recognizeSelfClosing=(l=n.recognizeSelfClosing)!==null&&l!==void 0?l:!this.htmlMode,this.tokenizer=new((d=n.Tokenizer)!==null&&d!==void 0?d:Rne)(this.options,this),this.foreignContext=[!this.htmlMode],(p=(h=this.cbs).onparserinit)===null||p===void 0||p.call(h,this)}ontext(r,n){var o,s;const l=this.getSlice(r,n);this.endIndex=n-1,(s=(o=this.cbs).ontext)===null||s===void 0||s.call(o,l),this.startIndex=n}ontextentity(r,n){var o,s;this.endIndex=n-1,(s=(o=this.cbs).ontext)===null||s===void 0||s.call(o,m6(r)),this.startIndex=n}isVoidElement(r){return this.htmlMode&&zne.has(r)}onopentagname(r,n){this.endIndex=n;let o=this.getSlice(r,n);this.lowerCaseTagNames&&(o=o.toLowerCase()),this.emitOpenTag(o)}emitOpenTag(r){var n,o,s,l;this.openTagStart=this.startIndex,this.tagname=r;const d=this.htmlMode&&Fne.get(r);if(d)for(;this.stack.length>0&&d.has(this.stack[0]);){const h=this.stack.shift();(o=(n=this.cbs).onclosetag)===null||o===void 0||o.call(n,h,!0)}this.isVoidElement(r)||(this.stack.unshift(r),this.htmlMode&&(w6.has(r)?this.foreignContext.unshift(!0):y6.has(r)&&this.foreignContext.unshift(!1))),(l=(s=this.cbs).onopentagname)===null||l===void 0||l.call(s,r),this.cbs.onopentag&&(this.attribs={})}endOpenTag(r){var n,o;this.startIndex=this.openTagStart,this.attribs&&((o=(n=this.cbs).onopentag)===null||o===void 0||o.call(n,this.tagname,this.attribs,r),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(r){this.endIndex=r,this.endOpenTag(!1),this.startIndex=r+1}onclosetag(r,n){var o,s,l,d,h,p,g,b;this.endIndex=n;let v=this.getSlice(r,n);if(this.lowerCaseTagNames&&(v=v.toLowerCase()),this.htmlMode&&(w6.has(v)||y6.has(v))&&this.foreignContext.shift(),this.isVoidElement(v))this.htmlMode&&v==="br"&&((d=(l=this.cbs).onopentagname)===null||d===void 0||d.call(l,"br"),(p=(h=this.cbs).onopentag)===null||p===void 0||p.call(h,"br",{},!0),(b=(g=this.cbs).onclosetag)===null||b===void 0||b.call(g,"br",!1));else{const y=this.stack.indexOf(v);if(y!==-1)for(let k=0;k<=y;k++){const x=this.stack.shift();(s=(o=this.cbs).onclosetag)===null||s===void 0||s.call(o,x,k!==y)}else this.htmlMode&&v==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(r){this.endIndex=r,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=r+1):this.onopentagend(r)}closeCurrentTag(r){var n,o;const s=this.tagname;this.endOpenTag(r),this.stack[0]===s&&((o=(n=this.cbs).onclosetag)===null||o===void 0||o.call(n,s,!r),this.stack.shift())}onattribname(r,n){this.startIndex=r;const o=this.getSlice(r,n);this.attribname=this.lowerCaseAttributeNames?o.toLowerCase():o}onattribdata(r,n){this.attribvalue+=this.getSlice(r,n)}onattribentity(r){this.attribvalue+=m6(r)}onattribend(r,n){var o,s;this.endIndex=n,(s=(o=this.cbs).onattribute)===null||s===void 0||s.call(o,this.attribname,this.attribvalue,r===dc.Double?'"':r===dc.Single?"'":r===dc.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(r){const n=r.search(Une);let o=n<0?r:r.substr(0,n);return this.lowerCaseTagNames&&(o=o.toLowerCase()),o}ondeclaration(r,n){this.endIndex=n;const o=this.getSlice(r,n);if(this.cbs.onprocessinginstruction){const s=this.getInstructionName(o);this.cbs.onprocessinginstruction(`!${s}`,`!${o}`)}this.startIndex=n+1}onprocessinginstruction(r,n){this.endIndex=n;const o=this.getSlice(r,n);if(this.cbs.onprocessinginstruction){const s=this.getInstructionName(o);this.cbs.onprocessinginstruction(`?${s}`,`?${o}`)}this.startIndex=n+1}oncomment(r,n,o){var s,l,d,h;this.endIndex=n,(l=(s=this.cbs).oncomment)===null||l===void 0||l.call(s,this.getSlice(r,n-o)),(h=(d=this.cbs).oncommentend)===null||h===void 0||h.call(d),this.startIndex=n+1}oncdata(r,n,o){var s,l,d,h,p,g,b,v,y,k;this.endIndex=n;const x=this.getSlice(r,n-o);!this.htmlMode||this.options.recognizeCDATA?((l=(s=this.cbs).oncdatastart)===null||l===void 0||l.call(s),(h=(d=this.cbs).ontext)===null||h===void 0||h.call(d,x),(g=(p=this.cbs).oncdataend)===null||g===void 0||g.call(p)):((v=(b=this.cbs).oncomment)===null||v===void 0||v.call(b,`[CDATA[${x}]]`),(k=(y=this.cbs).oncommentend)===null||k===void 0||k.call(y)),this.startIndex=n+1}onend(){var r,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let o=0;o<this.stack.length;o++)this.cbs.onclosetag(this.stack[o],!0)}(n=(r=this.cbs).onend)===null||n===void 0||n.call(r)}reset(){var r,n,o,s;(n=(r=this.cbs).onreset)===null||n===void 0||n.call(r),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(s=(o=this.cbs).onparserinit)===null||s===void 0||s.call(o,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(r){this.reset(),this.end(r)}getSlice(r,n){for(;r-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let o=this.buffers[0].slice(r-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),o+=this.buffers[0].slice(0,n-this.bufferOffset);return o}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(r){var n,o;if(this.ended){(o=(n=this.cbs).onerror)===null||o===void 0||o.call(n,new Error(".write() after done!"));return}this.buffers.push(r),this.tokenizer.running&&(this.tokenizer.write(r),this.writeIndex++)}end(r){var n,o;if(this.ended){(o=(n=this.cbs).onerror)===null||o===void 0||o.call(n,new Error(".end() after done!"));return}r&&this.write(r),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(r){this.write(r)}done(r){this.end(r)}}var lr;(function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"})(lr||(lr={}));function Dk(t){return t.type===lr.Tag||t.type===lr.Script||t.type===lr.Style}lr.Root;lr.Text;lr.Directive;lr.Comment;lr.Script;lr.Style;lr.Tag;lr.CDATA;lr.Doctype;let Pj=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(r){this.parent=r}get previousSibling(){return this.prev}set previousSibling(r){this.prev=r}get nextSibling(){return this.next}set nextSibling(r){this.next=r}cloneNode(r=!1){return Uj(this,r)}};class yC extends Pj{constructor(r){super(),this.data=r}get nodeValue(){return this.data}set nodeValue(r){this.data=r}}class a_ extends yC{constructor(){super(...arguments),this.type=lr.Text}get nodeType(){return 3}}class Oj extends yC{constructor(){super(...arguments),this.type=lr.Comment}get nodeType(){return 8}}class jj extends yC{constructor(r,n){super(n),this.name=r,this.type=lr.Directive}get nodeType(){return 1}}class vC extends Pj{constructor(r){super(),this.children=r}get firstChild(){var r;return(r=this.children[0])!==null&&r!==void 0?r:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(r){this.children=r}}class Lj extends vC{constructor(){super(...arguments),this.type=lr.CDATA}get nodeType(){return 4}}class l_ extends vC{constructor(){super(...arguments),this.type=lr.Root}get nodeType(){return 9}}let Bj=class extends vC{constructor(r,n,o=[],s=r==="script"?lr.Script:r==="style"?lr.Style:lr.Tag){super(o),this.name=r,this.attribs=n,this.type=s}get nodeType(){return 1}get tagName(){return this.name}set tagName(r){this.name=r}get attributes(){return Object.keys(this.attribs).map(r=>{var n,o;return{name:r,value:this.attribs[r],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[r],prefix:(o=this["x-attribsPrefix"])===null||o===void 0?void 0:o[r]}})}};function Rj(t){return Dk(t)}function Fj(t){return t.type===lr.CDATA}function zj(t){return t.type===lr.Text}function Vne(t){return t.type===lr.Comment}function $ne(t){return t.type===lr.Directive}function Hne(t){return t.type===lr.Root}function Uj(t,r=!1){let n;if(zj(t))n=new a_(t.data);else if(Vne(t))n=new Oj(t.data);else if(Rj(t)){const o=r?Qv(t.children):[],s=new Bj(t.name,{...t.attribs},o);o.forEach(l=>l.parent=s),t.namespace!=null&&(s.namespace=t.namespace),t["x-attribsNamespace"]&&(s["x-attribsNamespace"]={...t["x-attribsNamespace"]}),t["x-attribsPrefix"]&&(s["x-attribsPrefix"]={...t["x-attribsPrefix"]}),n=s}else if(Fj(t)){const o=r?Qv(t.children):[],s=new Lj(o);o.forEach(l=>l.parent=s),n=s}else if(Hne(t)){const o=r?Qv(t.children):[],s=new l_(o);o.forEach(l=>l.parent=s),t["x-mode"]&&(s["x-mode"]=t["x-mode"]),n=s}else if($ne(t)){const o=new jj(t.name,t.data);t["x-name"]!=null&&(o["x-name"]=t["x-name"],o["x-publicId"]=t["x-publicId"],o["x-systemId"]=t["x-systemId"]),n=o}else throw new Error(`Not implemented yet: ${t.type}`);return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}function Qv(t){const r=t.map(n=>Uj(n,!0));for(let n=1;n<r.length;n++)r[n].prev=r[n-1],r[n-1].next=r[n];return r}const v6={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class Wne{constructor(r,n,o){this.dom=[],this.root=new l_(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(o=n,n=v6),typeof r=="object"&&(n=r,r=void 0),this.callback=r??null,this.options=n??v6,this.elementCB=o??null}onparserinit(r){this.parser=r}onreset(){this.dom=[],this.root=new l_(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(r){this.handleCallback(r)}onclosetag(){this.lastNode=null;const r=this.tagStack.pop();this.options.withEndIndices&&(r.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(r)}onopentag(r,n){const o=this.options.xmlMode?lr.Tag:void 0,s=new Bj(r,n,void 0,o);this.addNode(s),this.tagStack.push(s)}ontext(r){const{lastNode:n}=this;if(n&&n.type===lr.Text)n.data+=r,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const o=new a_(r);this.addNode(o),this.lastNode=o}}oncomment(r){if(this.lastNode&&this.lastNode.type===lr.Comment){this.lastNode.data+=r;return}const n=new Oj(r);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const r=new a_(""),n=new Lj([r]);this.addNode(n),r.parent=n,this.lastNode=r}oncdataend(){this.lastNode=null}onprocessinginstruction(r,n){const o=new jj(r,n);this.addNode(o)}handleCallback(r){if(typeof this.callback=="function")this.callback(r,this.dom);else if(r)throw r}addNode(r){const n=this.tagStack[this.tagStack.length-1],o=n.children[n.children.length-1];this.options.withStartIndices&&(r.startIndex=this.parser.startIndex),this.options.withEndIndices&&(r.endIndex=this.parser.endIndex),n.children.push(r),o&&(r.prev=o,o.next=r),r.parent=n,this.lastNode=null}}function ou(t){return Array.isArray(t)?t.map(ou).join(""):Rj(t)?t.name==="br"?`
`:ou(t.children):Fj(t)?ou(t.children):zj(t)?t.data:""}function Gne(t,r){const n=new Wne(void 0,r);return new qne(n,r).end(t),n.root}const Yne=async(t,r)=>{var k,x,C,D,S,M,P,B;if(!t)return;const n=new an("p","mm","a4",!0);let o=10;const s=297,l=$=>{o+$*6>s-20&&(n.addPage(),o=10)},d=t.sections.length+t.sections.reduce(($,F)=>$+F.subsections.length,0)+t.sections.reduce(($,F)=>$+F.subsections.reduce((N,L)=>N+L.subSubsections.length,0),0)+t.sections.reduce(($,F)=>{var N;return $+(((N=F.images)==null?void 0:N.length)||0)+F.subsections.reduce((L,U)=>{var Q;return L+(((Q=U.images)==null?void 0:Q.length)||0)+U.subSubsections.reduce((H,z)=>{var G;return H+(((G=z.images)==null?void 0:G.length)||0)},0)},0)},0);let h=0;const p=()=>{h+=1,r(Math.round(h/d*100))},g=async($,F=150,N=150)=>new Promise(L=>{const U=new Image;U.crossOrigin="anonymous",U.src=$.url,U.onload=()=>{const Q=U.width/U.height;let H=F,z=N;Q>1?z=F/Q:H=N*Q,l(z+15);const G=(210-H)/2;if(n.addImage(U,"JPEG",G,o,H,z),o+=z+5,$.title){n.setFont("helvetica","italic"),n.setFontSize(10);const ne=(210-n.getTextWidth($.title))/2;n.text($.title,ne,o),n.setFont("helvetica","normal"),o+=6}p(),L()},U.onerror=()=>{console.warn(`Image failed to load: ${$.url}`),p(),L()}}),b=($,F=10,N=12)=>{var Q;const L=Gne($),U=(H,z=0,G=!1)=>{var R,ne,ue,ie,oe,ye,re;if(H){if(Dk(H)){const Ce=H,X=Ce.name.toLowerCase();switch(X){case"p":o+=6,(R=Ce.children)==null||R.forEach(J=>U(J,z)),o+=6;break;case"br":o+=6;break;case"strong":case"b":case"i":case"em":n.setFont("helvetica",X==="strong"||X==="b"?"bold":"italic"),(ne=Ce.children)==null||ne.forEach(J=>U(J,z)),n.setFont("helvetica","normal");break;case"ul":case"ol":o+=4,(ue=Ce.children)==null||ue.forEach(J=>U(J,z+1,!0));break;case"li":{const J=z===1?"-":"--";let fe="";(ie=Ce.children)==null||ie.forEach(le=>{if(Dk(le)){const ae=le;ae.name==="strong"||ae.name==="b"?(n.setFont("helvetica","bold"),fe+=` ${ou(ae)}`,n.setFont("helvetica","normal")):ae.name!=="ul"&&ae.name!=="ol"&&(fe+=` ${ou(ae)}`)}else le.type==="text"&&"data"in le&&(fe+=` ${le.data.trim()}`)}),fe=fe.trim(),fe&&(z===0?v(`${J} ${fe}`,F,N+2,!0):v(`${J} ${fe}`,F+z*8,N),o+=6),(oe=Ce.children)==null||oe.forEach(le=>{if(Dk(le)){const ae=le;["ul","ol"].includes(ae.name)&&U(ae,z+1,!0)}});break}case"a":(ye=Ce.attribs)!=null&&ye.href&&y(ou(Ce),Ce.attribs.href);break;case"h1":v(ou(Ce),F,20,!0),o+=8;break;case"h2":v(ou(Ce),F,18,!0),o+=8;break;case"h3":v(ou(Ce),F,16,!0),o+=6;break;default:(re=Ce.children)==null||re.forEach(J=>U(J,z))}}else if(H.type==="text"&&"data"in H){const Ce=H.data.trim();Ce&&v(Ce,F+z*8,N)}}};(Q=L.children)==null||Q.forEach(H=>U(H))},v=($,F,N=12,L=!1,U=[0,0,0],Q=!1,H=200)=>{if(!$)return;n.setFontSize(N),n.setTextColor(U[0],U[1],U[2]),n.setFont("helvetica",L?Q?"bolditalic":"bold":Q?"italic":"normal"),n.splitTextToSize($,H-F).forEach(G=>{l(1),n.text(G,F,o),o+=6})},y=($,F)=>{l(1),n.setTextColor(10,104,71),n.textWithLink($,10,o,{url:F}),o+=6};(k=t.header)!=null&&k.content&&(v("Header:",10,12,!0),b(t.header.content),o+=5),t.title&&(v(t.title,10,18,!0,[10,104,71]),o+=5);for(const $ of t.sections){if(v($.title,10,16,!0),b($.content),(x=$.images)!=null&&x.length)for(const F of $.images)await g(F);p();for(const F of $.subsections){if(v(F.title,12,14,!0),b(F.content,12),(C=F.images)!=null&&C.length)for(const N of F.images)await g(N);p();for(const N of F.subSubsections){if(v(N.title,14,12,!0),b(N.content,14),(D=N.images)!=null&&D.length)for(const L of N.images)await g(L);p(),(S=N.links)!=null&&S.length&&(v("Links:",14,12,!0),N.links.forEach(L=>y(L.title,L.url)))}(M=F.links)!=null&&M.length&&(v("Links:",12,12,!0),F.links.forEach(N=>y(N.title,N.url)))}(P=$.links)!=null&&P.length&&(v("Links:",10,12,!0),$.links.forEach(F=>y(F.title,F.url))),o+=5}(B=t.footer)!=null&&B.content&&(v("Footer:",10,12,!0),b(t.footer.content)),n.save(`${t.title||"Material"}.pdf`),r(100)},Kne=()=>{var M,P,B,$,F,N,L,U,Q,H,z,G,R,ne,ue,ie,oe,ye,re,Ce,X,J,fe,le,ae,Se,xe,Te,Ye,We,Je,Ue,Z,_e,he,be,pe,Ae,Oe,Me,Ie,$e;const{id:t}=X_(),[r,n]=E1(),o=Kn(),[s,l]=Y.useState(null),[d,h]=Y.useState({sectionIndex:0}),[p,g]=Y.useState(null),[b,v]=Y.useState(0);EO((s==null?void 0:s.sections)||[],d.sectionIndex||0,!!s),Y.useEffect(()=>{v(Ke=>Ke+1)},[d]);const y=async()=>{if(s!=null&&s.originalFile)try{console.log("ðŸš€ Starting original file download:",s.originalFile.name);const Ke=document.createElement("a");Ke.href=s.originalFile.url,Ke.download=s.originalFile.name,Ke.target="_blank",document.body.appendChild(Ke),Ke.click(),document.body.removeChild(Ke),console.log("âœ… Original file download initiated")}catch(Ke){console.error("âŒ Original file download failed:",Ke)}};Y.useEffect(()=>{t&&(async()=>{var Be,Qe,Ze;const qe=mn(o,"materials",t),it=await Wo(qe);if(it.exists()){const Ct={id:it.id,...it.data()};console.log("Loaded material from database:",{title:Ct.title,sectionsCount:((Be=Ct.sections)==null?void 0:Be.length)||0,sectionsWithImages:((Qe=Ct.sections)==null?void 0:Qe.filter(dt=>{var en;return((en=dt.images)==null?void 0:en.length)>0}).length)||0,allImages:(Ze=Ct.sections)==null?void 0:Ze.flatMap(dt=>dt.images||[]).map(dt=>({url:dt.url.substring(0,100)+"...",title:dt.title}))}),l(Ct)}})()},[t,o]),Y.useEffect(()=>{t&&r.get("material")!==t?(console.log("ðŸ”¹ Updating URL: Adding material ID to query parameters:",t),n(Ke=>{const qe=new URLSearchParams(Ke);return qe.set("material",t),qe},{replace:!0})):console.log("Material ID already in URL:",r.get("material"))},[t,r,n]);const k=(Ke,qe,it)=>{h({sectionIndex:typeof Ke=="number"?Ke:void 0,subsectionIndex:qe,subSubsectionIndex:it,type:typeof Ke=="string"?Ke:void 0})},x=Ke=>{var Ze,Ct,dt,en,pt,Wt,Rt,zt,Qt,bn,Dn,Vn,zr,Kr,Rn,tn,In,Go,Mn,eo,si,$t,qi,to,ai,xr,kr;const{sectionIndex:qe,subsectionIndex:it,subSubsectionIndex:Be,type:Qe}=d;if(Ke==="prev")if(Be!==void 0&&Be>0)h({sectionIndex:qe,subsectionIndex:it,subSubsectionIndex:Be-1});else if(Be!==void 0&&Be===0)h({sectionIndex:qe,subsectionIndex:it});else if(it!==void 0&&it>0)h({sectionIndex:qe,subsectionIndex:it-1});else if(it!==void 0&&it===0)h({sectionIndex:qe});else if(qe>0){const $n=s==null?void 0:s.sections[qe-1];h({sectionIndex:qe-1,subsectionIndex:(Ze=$n==null?void 0:$n.subsections)!=null&&Ze.length?$n.subsections.length-1:void 0,subSubsectionIndex:(Ct=$n==null?void 0:$n.subsections)!=null&&Ct.length?((en=(dt=$n.subsections[$n.subsections.length-1])==null?void 0:dt.subSubsections)==null?void 0:en.length)-1:void 0})}else Qe==="footer"?h({sectionIndex:((s==null?void 0:s.sections.length)??1)-1,type:"footer"}):qe===void 0&&Qe==="header"&&h({sectionIndex:((s==null?void 0:s.sections.length)??1)-1});else Ke==="next"&&(Be===void 0&&it!==void 0&&((zt=(Rt=(Wt=(pt=s==null?void 0:s.sections[qe??0])==null?void 0:pt.subsections)==null?void 0:Wt[it])==null?void 0:Rt.subSubsections)!=null&&zt.length)?h({sectionIndex:qe,subsectionIndex:it,subSubsectionIndex:0}):Be!==void 0&&Be<(((Vn=(Dn=(bn=(Qt=s==null?void 0:s.sections[qe??0])==null?void 0:Qt.subsections)==null?void 0:bn[it??0])==null?void 0:Dn.subSubsections)==null?void 0:Vn.length)??1)-1?h({sectionIndex:qe,subsectionIndex:it,subSubsectionIndex:Be+1}):Be!==void 0&&Be===(((tn=(Rn=(Kr=(zr=s==null?void 0:s.sections[qe??0])==null?void 0:zr.subsections)==null?void 0:Kr[it??0])==null?void 0:Rn.subSubsections)==null?void 0:tn.length)??1)-1&&(it??0)<(((Go=(In=s==null?void 0:s.sections[qe??0])==null?void 0:In.subsections)==null?void 0:Go.length)??1)-1?h({sectionIndex:qe,subsectionIndex:(it??0)+1}):it===void 0&&((eo=(Mn=s==null?void 0:s.sections[qe??0])==null?void 0:Mn.subsections)!=null&&eo.length)?h({sectionIndex:qe,subsectionIndex:0}):it!==void 0&&it<((($t=(si=s==null?void 0:s.sections[qe??0])==null?void 0:si.subsections)==null?void 0:$t.length)??1)-1?h({sectionIndex:qe,subsectionIndex:it+1}):it!==void 0&&it===(((to=(qi=s==null?void 0:s.sections[qe??0])==null?void 0:qi.subsections)==null?void 0:to.length)??1)-1&&(qe??0)<(((ai=s==null?void 0:s.sections)==null?void 0:ai.length)??1)-1?h({sectionIndex:(qe??0)+1}):(qe??0)<(((xr=s==null?void 0:s.sections)==null?void 0:xr.length)??1)-1?h({sectionIndex:(qe??0)+1}):qe===(((kr=s==null?void 0:s.sections)==null?void 0:kr.length)??1)-1&&it===void 0&&h({sectionIndex:void 0,type:"footer"}))};if(!s)return A.jsx(Rr,{});const C=d.type==="header"||d.type==="footer"?"":d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((B=(P=(M=s.sections[d.sectionIndex])==null?void 0:M.subsections[d.subsectionIndex])==null?void 0:P.subSubsections[d.subSubsectionIndex])==null?void 0:B.content)||"":d.subsectionIndex!==void 0?((F=($=s.sections[d.sectionIndex])==null?void 0:$.subsections[d.subsectionIndex])==null?void 0:F.content)||"":((N=s.sections[d.sectionIndex])==null?void 0:N.content)||"":"",D=d.type==="header"||d.type==="footer"?"":d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((Q=(U=(L=s.sections[d.sectionIndex])==null?void 0:L.subsections[d.subsectionIndex])==null?void 0:U.subSubsections[d.subSubsectionIndex])==null?void 0:Q.title)||"":d.subsectionIndex!==void 0?((z=(H=s.sections[d.sectionIndex])==null?void 0:H.subsections[d.subsectionIndex])==null?void 0:z.title)||"":((G=s.sections[d.sectionIndex])==null?void 0:G.title)||"":"",S=d.sectionIndex!==void 0?d.subSubsectionIndex!==void 0?((ue=(ne=(R=s.sections[d.sectionIndex])==null?void 0:R.subsections[d.subsectionIndex])==null?void 0:ne.subSubsections[d.subSubsectionIndex])==null?void 0:ue.links)||[]:d.subsectionIndex!==void 0?((oe=(ie=s.sections[d.sectionIndex])==null?void 0:ie.subsections[d.subsectionIndex])==null?void 0:oe.links)||[]:((ye=s.sections[d.sectionIndex])==null?void 0:ye.links)||[]:[];return A.jsx(Pe,{sx:{display:"flex",flexGrow:1,flexDirection:"column"},children:A.jsxs(Pe,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between",mt:2,mx:2},children:[A.jsx(Pe,{sx:{width:"450px",ml:2,mt:2},children:A.jsx(kO,{})}),A.jsxs(Pe,{sx:{width:"450px",mr:2,mt:2,textAlign:"right"},children:[A.jsxs(Pe,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[(s==null?void 0:s.originalFile)&&A.jsx(ls,{title:`Download original file: ${s.originalFile.name}`,children:A.jsx(kt,{variant:"outlined",startIcon:A.jsx(MW,{}),endIcon:A.jsx(bI,{}),onClick:y,sx:{padding:"10px 16px",backgroundColor:"transparent",color:"#436850",border:"2px solid #436850",borderRadius:"8px",cursor:"pointer",fontFamily:"Gabarito","&:hover":{backgroundColor:"#436850",color:"#FBFADA"}},children:"PPTX"})}),A.jsx(kt,{variant:"outlined",startIcon:A.jsx(Vk,{}),endIcon:A.jsx(bI,{}),onClick:async()=>{s&&(g(0),await Yne(s,g),g(null))},sx:{padding:"10px 16px",backgroundColor:"transparent",color:"#436850",border:"2px solid #436850",borderRadius:"8px",cursor:"pointer",fontFamily:"Gabarito","&:hover":{backgroundColor:"#436850",color:"#FBFADA"},"&:disabled":{backgroundColor:"#A8BDA8",cursor:"not-allowed"}},disabled:p!==null,children:p!==null?"Generating...":"PDF"})]}),p!==null&&A.jsx(Pe,{sx:{width:"100%",mt:2},children:A.jsx(yg,{variant:"determinate",value:p})})]})]}),A.jsxs(Pe,{sx:{display:"flex",flexGrow:1},children:[A.jsx(Pe,{sx:{width:"450px",minWidth:"450px",maxWidth:"450px",borderRight:"1px solid #ddd",padding:2},children:A.jsx(bO,{sections:s.sections,selected:d,onAddSection:()=>{},onAddSubsection:()=>{},onAddSubSubsection:()=>{},onSelectSection:k,onUpdateSectionTitle:()=>{},onUpdateSubsectionTitle:()=>{},onUpdateSubSubsectionTitle:()=>{},onDeleteSection:()=>{},onDeleteSubsection:()=>{},onDeleteSubSubsection:()=>{},isViewMode:!0})}),A.jsxs(Pe,{sx:{flexGrow:1,padding:3},children:[A.jsx("hr",{})," ",A.jsx(Pe,{sx:{borderRadius:1,padding:2,mb:2},children:A.jsx(je,{dangerouslySetInnerHTML:{__html:s.header.content.replace(/\n/g,"<br />")}})}),A.jsx("hr",{})," ",A.jsx(je,{variant:"h3",align:"center",gutterBottom:!0,children:s.title}),A.jsx("hr",{})," ",A.jsx(je,{variant:"h4",align:"center",gutterBottom:!0,children:D}),d.type!=="header"&&d.type!=="footer"&&A.jsx(qk,{in:!0,timeout:400,children:A.jsxs(Pe,{children:[A.jsxs(Pe,{sx:{mb:2,borderRadius:1,padding:2},children:[A.jsx(je,{dangerouslySetInnerHTML:{__html:C.replace(/\n/g,"<br />")}}),A.jsx(Pe,{children:d.sectionIndex!==void 0&&A.jsx(A.Fragment,{children:d.subSubsectionIndex!==void 0?(((le=(fe=(J=(X=(Ce=(re=s.sections[d.sectionIndex])==null?void 0:re.subsections)==null?void 0:Ce[d.subsectionIndex])==null?void 0:X.subSubsections)==null?void 0:J[d.subSubsectionIndex])==null?void 0:fe.images)==null?void 0:le.length)||0)>0&&A.jsx(Fv,{images:((Ye=(Te=(xe=(Se=(ae=s.sections[d.sectionIndex])==null?void 0:ae.subsections)==null?void 0:Se[d.subsectionIndex])==null?void 0:xe.subSubsections)==null?void 0:Te[d.subSubsectionIndex])==null?void 0:Ye.images)||[]}):d.subsectionIndex!==void 0?(((Z=(Ue=(Je=(We=s.sections[d.sectionIndex])==null?void 0:We.subsections)==null?void 0:Je[d.subsectionIndex])==null?void 0:Ue.images)==null?void 0:Z.length)||0)>0&&A.jsx(Fv,{images:((be=(he=(_e=s.sections[d.sectionIndex])==null?void 0:_e.subsections)==null?void 0:he[d.subsectionIndex])==null?void 0:be.images)||[]}):(((Ae=(pe=s.sections[d.sectionIndex])==null?void 0:pe.images)==null?void 0:Ae.length)||0)>0&&A.jsx(Fv,{images:((Oe=s.sections[d.sectionIndex])==null?void 0:Oe.images)||[]})})})]}),A.jsx(Ite,{links:S})]})},b),A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between"},children:[A.jsx(ls,{title:"Previous Section/Subsection (Left Arrow)",arrow:!0,children:A.jsx("span",{children:A.jsx(Ln,{onClick:()=>x("prev"),disabled:d.sectionIndex===0&&d.subsectionIndex===void 0&&d.type==="header",children:A.jsx(EP,{})})})}),A.jsx(ls,{title:"Next Section/Subsection (Right Arrow)",arrow:!0,children:A.jsx("span",{children:A.jsx(Ln,{onClick:()=>x("next"),disabled:d.sectionIndex===(((Me=s.sections)==null?void 0:Me.length)??1)-1&&(d.subsectionIndex===void 0||d.subsectionIndex===((($e=(Ie=s.sections[d.sectionIndex])==null?void 0:Ie.subsections)==null?void 0:$e.length)??1)-1)&&d.type==="footer",children:A.jsx(DP,{})})})})]}),A.jsx("hr",{})," ",A.jsx(Pe,{sx:{borderRadius:1,padding:2,mt:2},children:A.jsx(je,{dangerouslySetInnerHTML:{__html:s.footer.content.replace(/\n/g,"<br />")}})}),A.jsx("hr",{})," "]})]})]})})},qj=({value:t,onChange:r})=>{const[n,o]=Y.useState([]),{userDetails:s}=Pi();return Y.useEffect(()=>{if(s!=null&&s.classes){const l=Object.entries(s.classes).filter(([d,h])=>h.isCourseAdmin||s.isSuperAdmin).map(([d,h])=>({id:d,number:h.number,title:h.title}));o(l)}else o([])},[s]),A.jsxs(fd,{fullWidth:!0,sx:{mb:2},children:[A.jsx(pd,{id:"course-selector-label",children:"Course"}),A.jsx(vc,{labelId:"course-selector-label",value:t,onChange:l=>r(l.target.value),label:"Course",children:n.length>0?n.map(l=>A.jsx(Nr,{value:l.id,children:`${l.number} - ${l.title}`},l.id)):A.jsx(Nr,{disabled:!0,children:"No courses available"})}),!t&&A.jsx(PW,{children:"Please select a course"})]})},Qne=()=>{const[t,r]=Y.useState(""),[n,o]=Y.useState(""),[s,l]=Y.useState([{title:"",url:""}]),[d,h]=Y.useState(""),p=Wr(),g=Kn(),b=async()=>{if(!d){alert("Please select a course to post the message.");return}try{await la(Zn(g,"messages"),{title:t,description:n,links:s,course:d,postedOn:ac(),isPinned:!1}),p("/")}catch(x){console.error("Error adding message: ",x)}},v=()=>p("/"),y=(x,C,D)=>{const S=[...s];S[x][C]=D,l(S)},k=()=>l([...s,{title:"",url:""}]);return A.jsx(TP,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:A.jsxs(Bn,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[A.jsx(je,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Add New Message"}),A.jsx(na,{sx:{mb:3,backgroundColor:"#DADADA"}}),A.jsxs(Pe,{sx:{mt:4},children:[A.jsx(qj,{value:d,onChange:h}),A.jsx(Jt,{label:"Subject",fullWidth:!0,value:t,onChange:x=>r(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),A.jsx(Jt,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:n,onChange:x=>o(x.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),A.jsx(je,{variant:"h6",sx:{mb:2},children:"ðŸ”—"}),s.map((x,C)=>A.jsxs(Pe,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[A.jsx(Jt,{label:`URL Title ${C+1}`,fullWidth:!0,value:x.title,onChange:D=>y(C,"title",D.target.value),sx:{mb:1}}),A.jsx(Jt,{label:`URL Link ${C+1}`,fullWidth:!0,value:x.url,onChange:D=>y(C,"url",D.target.value)})]},C)),A.jsx(kt,{variant:"outlined",onClick:k,startIcon:A.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),A.jsx(na,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between"},children:[A.jsx(kt,{variant:"outlined",onClick:v,className:"cancel-button",children:"Cancel"}),A.jsx(kt,{variant:"outlined",onClick:b,className:"save-button",children:"Save"})]})]})]})})},Jne=()=>{const{id:t}=X_(),[r,n]=Y.useState(""),[o,s]=Y.useState(""),[l,d]=Y.useState([{title:"",url:""}]),[h,p]=Y.useState(""),g=Wr(),b=Kn();Y.useEffect(()=>{(async()=>{try{const D=mn(b,"messages",t),S=await Wo(D);if(S.exists()){const M=S.data();n(M.title),s(M.description),d(M.links||[{title:"",url:""}]),p(M.course||"")}}catch(D){console.error("Error fetching message: ",D)}})()},[b,t]);const v=async()=>{try{if(!h){alert("Please select a valid course to update the message.");return}const C=mn(b,"messages",t);await _r(C,{title:r,description:o,links:l,course:h,lastUpdatedOn:ac()}),g("/")}catch(C){console.error("Error editing message: ",C)}},y=()=>g("/"),k=(C,D,S)=>{const M=[...l];M[C][D]=S,d(M)},x=()=>d([...l,{title:"",url:""}]);return A.jsx(TP,{maxWidth:"md",sx:{mt:6,fontFamily:"Gabarito, sans-serif"},children:A.jsxs(Bn,{elevation:3,sx:{p:4,borderRadius:2,backgroundColor:"#F7F9FC"},children:[A.jsx(je,{variant:"h4",component:"h1",gutterBottom:!0,sx:{fontFamily:"Staatliches, sans-serif",textAlign:"center"},children:"Edit Message"}),A.jsx(na,{sx:{mb:3,backgroundColor:"#DADADA"}}),A.jsxs(Pe,{sx:{mt:4},children:[A.jsx(qj,{value:h,onChange:p}),A.jsx(Jt,{label:"Subject",fullWidth:!0,value:r,onChange:C=>n(C.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),A.jsx(Jt,{label:"Description",fullWidth:!0,multiline:!0,rows:4,value:o,onChange:C=>s(C.target.value),sx:{mb:3,backgroundColor:"#FFFFFF",borderRadius:1,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}}),A.jsx(je,{variant:"h6",sx:{mb:2},children:"ðŸ”—"}),l.map((C,D)=>A.jsxs(Pe,{sx:{mb:2,pl:2,borderLeft:"4px solid #CDDAFF"},children:[A.jsx(Jt,{label:`URL Title ${D+1}`,fullWidth:!0,value:C.title,onChange:S=>k(D,"title",S.target.value),sx:{mb:1}}),A.jsx(Jt,{label:`URL Link ${D+1}`,fullWidth:!0,value:C.url,onChange:S=>k(D,"url",S.target.value)})]},D)),A.jsx(kt,{variant:"outlined",onClick:x,startIcon:A.jsx("span",{style:{fontSize:"1.2rem",lineHeight:1},children:"+"}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",color:"#0B53C0",padding:"8px 16px",textTransform:"none","&:hover":{backgroundColor:"rgba(11, 83, 192, 0.1)",color:"#083B80"}},children:"Add Link"}),A.jsx(na,{sx:{width:"100%",my:2,backgroundColor:"#DADADA"}}),A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between"},children:[A.jsx(kt,{variant:"outlined",onClick:y,className:"cancel-button",children:"Cancel"}),A.jsx(kt,{variant:"outlined",onClick:v,className:"save-button",children:"Save"})]})]})]})})},Zne=({users:t})=>{const r=(o,s)=>o?{backgroundColor:"#6a1b9a",color:"#fff"}:s?{backgroundColor:"#1976d2",color:"#fff"}:{backgroundColor:"#e0e0e0",color:"#000"},n=o=>o?Object.entries(o).map(([s,l])=>A.jsx(ii,{label:`${l.isCourseAdmin?"[Course Admin] ":""}${l.number||"N/A"} - ${l.title||"Untitled Course"}`,sx:{backgroundColor:l.isCourseAdmin?"#ffcccb":"#d4edda",color:l.isCourseAdmin?"#b71c1c":"#155724",margin:"4px",fontSize:"0.9rem",fontWeight:"bold",borderRadius:"8px",padding:"4px 8px"}},s)):"None";return A.jsx(vd,{component:Bn,children:A.jsxs(Ad,{children:[A.jsx(_d,{children:A.jsxs(xo,{children:[A.jsx(It,{children:"ID"}),A.jsx(It,{children:"Status"}),A.jsx(It,{children:"Last Login"}),A.jsx(It,{children:"Courses"})]})}),A.jsx(Cd,{children:t.map(o=>A.jsxs(xo,{sx:{"&:hover":{backgroundColor:"#f5f5f5",cursor:"pointer"}},children:[A.jsx(It,{children:A.jsx(ii,{label:o.id,color:o.isSuperAdmin?"secondary":o.isAdmin?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",...r(o.isSuperAdmin,o.isAdmin)}})}),A.jsx(It,{children:A.jsx(ii,{label:o.isSuperAdmin?"Super Admin":o.isAdmin?"Educator":"Student",color:o.isSuperAdmin?"secondary":o.isAdmin?"primary":"default"})}),A.jsx(It,{children:sd(o.lastLogin)}),A.jsx(It,{children:n(o.classes)||A.jsx(ii,{label:"No courses assigned",sx:{backgroundColor:"#e0e0e0",color:"#000"}})})]},o.id))})]})})},Xne=({userId:t,onUserDeleted:r})=>{const[n,o]=Y.useState(!1),[s,l]=Y.useState(!1),d=Kn(),h=()=>{o(!0)},p=()=>{o(!1)},g=async()=>{l(!0);try{const b=mn(d,"users",t);await Jg(b),r(!0)}catch(b){console.error("Error deleting user:",b),r(!1)}l(!1),o(!1)};return A.jsxs(A.Fragment,{children:[A.jsx(kt,{variant:"text",color:"error",onClick:h,children:"Delete User Account"}),A.jsxs(Qi,{open:n,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[A.jsx(Ji,{id:"alert-dialog-title",children:"Confirm Deletion"}),A.jsx(Zi,{children:A.jsx(Ts,{id:"alert-dialog-description",children:"Are you sure you want to delete this user account? This action cannot be undone."})}),A.jsxs(Xi,{children:[A.jsx(kt,{onClick:p,color:"primary",disabled:s,children:"Cancel"}),A.jsx(kt,{onClick:g,color:"error",autoFocus:!0,disabled:s,children:s?A.jsx(Rr,{size:24}):"Delete"})]})]})]})},ere=({userId:t,userClasses:r,courses:n,onCourseAssigned:o})=>{const[s,l]=Y.useState(""),[d,h]=Y.useState(!1),[p,g]=Y.useState(!1),[b,v]=Y.useState(""),[y,k]=Y.useState(!1),[x,C]=Y.useState(!1),[D,S]=Y.useState(!1),[M,P]=Y.useState(!1),B=Kn(),$=async()=>{if(!t||!s){v("Please enter a User ID and select a course."),S(!1),k(!0);return}g(!0);try{const U=mn(B,"users",t),Q=n.find(H=>H.id===s);Q?(await _r(U,{[`classes.${s}`]:{number:Q.number,title:Q.title,isCourseAdmin:d}}),v(`Course ${Q.title} assigned successfully to user ${t}${d?" as Course Admin.":"."}`),o(s,{number:Q.number,title:Q.title,isCourseAdmin:d}),P(!0),setTimeout(()=>P(!1),1e3),C(!1),l(""),h(!1),S(!0)):(v("Selected course not found."),S(!1))}catch(U){console.error("Error assigning course:",U),v("Error assigning course."),S(!1)}g(!1),k(!0)},F=()=>{k(!1)},N=()=>C(!0),L=()=>C(!1);return A.jsxs(A.Fragment,{children:[A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",mt:2,p:2,borderRadius:2,transition:"background-color 0.3s ease",backgroundColor:M?"#e8f5e8":"transparent",border:M?"2px solid #4caf50":"2px solid transparent"},children:[A.jsx(je,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Courses:"}),A.jsx(Pe,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:r&&Object.keys(r).length>0?Object.values(r).map((U,Q)=>A.jsx(ii,{label:`${U.isCourseAdmin?"[Course Admin] ":""}${U.number} - ${U.title}`,style:{backgroundColor:U.isCourseAdmin?"#ffcccb":"#d4edda",color:U.isCourseAdmin?"#b71c1c":"#155724",margin:"4px"}},Q)):A.jsx(je,{children:"No courses assigned."})}),A.jsxs(fd,{sx:{minWidth:200,mr:2},children:[A.jsx(pd,{children:"Course"}),A.jsx(vc,{value:s,onChange:U=>l(U.target.value),children:n.map(U=>A.jsx(Nr,{value:U.id,children:`${U.number} - ${U.title}`},U.id))})]}),A.jsxs(fd,{sx:{mr:2},children:[A.jsx(pd,{children:"Role"}),A.jsxs(vc,{value:d?"admin":"student",onChange:U=>h(U.target.value==="admin"),children:[A.jsx(Nr,{value:"admin",children:"Course Admin"}),A.jsx(Nr,{value:"student",children:"Student"})]})]}),A.jsx(kt,{variant:"contained",color:"primary",onClick:N,disabled:p||!s,children:p?A.jsx(Rr,{size:24}):"Assign Course"})]}),A.jsx(cs,{open:y,autoHideDuration:6e3,onClose:F,children:A.jsx(br,{onClose:F,severity:D?"success":"error",children:b})}),A.jsxs(Qi,{open:x,onClose:L,"aria-labelledby":"assign-dialog-title",children:[A.jsx(Ji,{id:"assign-dialog-title",children:"Assign Course"}),A.jsx(Zi,{children:A.jsxs(Ts,{children:["Are you sure you want to assign the course ",s," to this user",d?" as a Course Admin?":"?"]})}),A.jsxs(Xi,{children:[A.jsx(kt,{onClick:L,color:"primary",children:"Cancel"}),A.jsx(kt,{onClick:$,color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})},tre=()=>{const[t,r]=Y.useState(""),[n,o]=Y.useState(!1),[s,l]=Y.useState(!1),[d,h]=Y.useState(void 0),[p,g]=Y.useState(!1),[b,v]=Y.useState(""),[y,k]=Y.useState(!1),[x,C]=Y.useState(!1),[D,S]=Y.useState(!1),[M,P]=Y.useState([]),[B,$]=Y.useState(""),[F,N]=Y.useState([]),L=Kn(),[U,Q]=Y.useState(""),H=Wr(),z=()=>{H("/")};Y.useEffect(()=>{(async()=>{try{const ae=Zn(L,"courses"),xe=(await So(ae)).docs.map(Te=>({id:Te.id,number:Te.data().number,title:Te.data().title}));N(xe)}catch(ae){console.error("Error fetching courses:",ae)}})()},[L]);const G=async()=>{if(t){g(!0),l(!1);try{const le=mn(L,"users",t),ae=await Wo(le);if(ae.exists()){const Se=ae.data();o(Se.isAdmin),h(Se.classes),l(!0)}else v("User not found."),k(!0)}catch(le){console.error("Error fetching user:",le),v("Error fetching user."),k(!0)}g(!1)}},R=Y.useCallback(async()=>{g(!0);try{const le=Zn(L,"users"),Se=(await So(le)).docs.map(xe=>({id:xe.id,...xe.data()}));P(Se)}catch(le){console.error("Error fetching users:",le),v("Error fetching users."),k(!0)}g(!1)},[L]);Y.useEffect(()=>{R()},[R]);const ne=async()=>{try{const le=mn(L,"users",t);await _r(le,{isAdmin:D}),v(`User ${D?"granted":"revoked"} admin privileges successfully.`),o(D);const ae=M.map(Se=>Se.id===t?{...Se,isAdmin:D}:Se);P(ae)}catch(le){console.error("Error updating user:",le),v("Error updating user.")}k(!0),C(!1)},ue=le=>{le.preventDefault(),s?(S(!n),C(!0)):(v("User not found."),k(!0))},ie=()=>{k(!1)},oe=()=>{C(!1)},ye=le=>{$(le.target.value)},re=le=>B?le.classes&&B in le.classes:!0,Ce=le=>U==="superAdmin"?le.isSuperAdmin:U==="educator"?le.isAdmin&&!le.isSuperAdmin:U==="student"?!le.isAdmin&&!le.isSuperAdmin:!0,X=le=>le.filter(ae=>re(ae)&&Ce(ae)),J=le=>{le?(v("User account deleted successfully."),l(!1),r(""),R()):v("Error deleting user account."),k(!0)},fe=(le,ae)=>{h(Se=>({...Se,[le]:ae}))};return A.jsxs(Pe,{sx:{padding:3},children:[A.jsx(Pe,{sx:{display:"flex",alignItems:"center"},children:A.jsx(kt,{variant:"text",onClick:z,sx:{mr:2},children:"â† Home Page"})}),A.jsx(je,{variant:"h4",component:"h1",gutterBottom:!0,children:"User Management"}),A.jsx(je,{variant:"body1",gutterBottom:!0,children:"Use this page to view and manage user permissions. Enter the User ID to grant or revoke admin privileges, or delete user account."}),A.jsx(Pe,{sx:{display:"flex",justifyContent:"flex-start"},children:A.jsxs("form",{onSubmit:ue,children:[A.jsx(Jt,{label:"User ID",value:t,onChange:le=>r(le.target.value),fullWidth:!0,required:!0,margin:"normal",onKeyPress:le=>{le.key==="Enter"&&(G(),le.preventDefault())},sx:{minWidth:"300px"}}),p?A.jsx(Rr,{}):s&&A.jsxs(Bn,{variant:"outlined",sx:{padding:2,borderRadius:"15px",mb:1},children:[A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #e0e0e0",padding:"16px",borderRadius:"8px",backgroundColor:"#f9f9f9",mb:2},children:[A.jsxs(Pe,{sx:{display:"flex",alignItems:"center"},children:[A.jsx(je,{variant:"h6",component:"h2",sx:{mr:2},children:"Current Status:"}),A.jsx(ii,{label:n?"Educator (Admin)":"Student (Non-Admin)",color:n?"primary":"default",sx:{fontSize:"0.9rem",fontWeight:"bold",padding:"6px 12px",borderRadius:"16px",backgroundColor:n?"#1976d2":"#e0e0e0",color:n?"#fff":"#000"}})]}),A.jsx(kt,{type:"submit",variant:"contained",color:n?"secondary":"primary",sx:{padding:"8px 16px",textTransform:"none",fontSize:"0.9rem",borderRadius:"8px",fontWeight:"bold",boxShadow:"none","&:hover":{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)"}},children:n?"Revoke Educator Access":"Grant Educator Access"})]}),A.jsx(ere,{userId:t,userClasses:d,courses:F,onCourseAssigned:fe}),A.jsx(Xne,{userId:t,onUserDeleted:J})]})]})}),A.jsx(je,{variant:"h5",component:"h2",gutterBottom:!0,children:"Current Users"}),A.jsxs(fd,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[A.jsx(pd,{children:"Filter by Course"}),A.jsxs(vc,{value:B,onChange:ye,children:[A.jsx(Nr,{value:"",children:"All Courses"}),F.map(le=>A.jsx(Nr,{value:le.id,children:le.number},le.id))]})]}),A.jsxs(fd,{fullWidth:!0,sx:{mb:3,width:"25%"},children:[A.jsx(pd,{children:"User Status"}),A.jsxs(vc,{value:U,onChange:le=>Q(le.target.value),children:[A.jsx(Nr,{value:"",children:"All Statuses"}),A.jsx(Nr,{value:"superAdmin",children:"Super Admin"}),A.jsx(Nr,{value:"educator",children:"Educator"}),A.jsx(Nr,{value:"student",children:"Student"})]})]}),A.jsx(Zne,{users:X(M)}),A.jsxs(Qi,{open:x,onClose:oe,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[A.jsx(Ji,{id:"alert-dialog-title",children:n?"Revoke Admin Privileges":"Grant Admin Privileges"}),A.jsx(Zi,{children:A.jsxs(Ts,{id:"alert-dialog-description",children:["Are you sure you want to ",n?"revoke":"grant"," admin privileges for this user?"]})}),A.jsxs(Xi,{children:[A.jsx(kt,{onClick:oe,color:"primary",children:"Cancel"}),A.jsx(kt,{onClick:ne,color:"primary",autoFocus:!0,children:"Confirm"})]})]}),A.jsx(cs,{open:y,autoHideDuration:6e3,onClose:ie,children:A.jsx(br,{onClose:ie,severity:"info",children:b})})]})},nre=({onCourseAdded:t})=>{const[r,n]=Y.useState(""),{userDetails:o,setUserDetails:s}=Pi(),l=Kn(),d=p=>{n(p.target.value)},h=async()=>{try{const b=(await So(Zn(l,"courses"))).docs.map(v=>({id:v.id,passcode:v.data().passcode,number:v.data().number,title:v.data().title})).find(v=>v.passcode===r);if(b){if(o)if((o.classes||{})[b.id])t(`Course access for ${b.number} is already added to your account!`,"info");else{const y=mn(l,"users",o.uid);await _r(y,{[`classes.${b.id}`]:{number:b.number,title:b.title,isCourseAdmin:!1}});const k=await Wo(y);if(k.exists()){const x=k.data();s({...x,uid:o.uid})}t(`Course access for ${b.number} added to your account successfully!`,"success"),n("")}}else t("Invalid passcode. Course not found.","error")}catch(p){console.error("Error updating document: ",p),t("Error adding course access to your account.","error")}};return A.jsx("div",{children:A.jsxs(Pt,{container:!0,spacing:2,sx:{maxWidth:"50%"},children:[A.jsx(Pt,{item:!0,xs:10,children:A.jsx(Jt,{label:"Enter Course Passcode",value:r,onChange:d,fullWidth:!0,sx:{mb:2}})}),A.jsx(Pt,{item:!0,xs:2,sx:{display:"flex",alignItems:"center"},children:A.jsx(kt,{variant:"contained",onClick:h,children:"Add Course"})})]})})},rre=({userDetails:t,getAccountStatus:r,renderCourses:n})=>A.jsxs(Bn,{elevation:3,sx:{padding:3,borderRadius:"12px",backgroundColor:"#ffffff",maxWidth:"500px",margin:"auto"},children:[A.jsx(Pe,{sx:{display:"flex",justifyContent:"center",mb:2},children:A.jsx(OW,{sx:{width:72,height:72,bgcolor:"#1054c4"},children:A.jsx(jW,{sx:{fontSize:48,color:"#f8f4fc"}})})}),A.jsxs(Pe,{sx:{display:"flex",flexDirection:"column",gap:1,alignItems:"left"},children:[A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(je,{sx:{fontWeight:"bold"},children:"User ID:"}),A.jsx(ii,{label:t.uid,variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#E3F2FD",color:"#1565C0"}})]}),A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(je,{sx:{fontWeight:"bold"},children:"Account Status:"}),A.jsx(ii,{label:r(),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#C8E6C9",color:"#2E7D32"}})]}),A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(je,{sx:{fontWeight:"bold"},children:"Last Login:"}),A.jsx(ii,{label:sd(t.lastLogin),variant:"outlined",sx:{fontSize:"14px",fontWeight:"bold",bgcolor:"#FFF3E0",color:"#EF6C00"}})]})]}),A.jsx(na,{sx:{my:2}}),A.jsx(je,{sx:{fontWeight:"bold",mb:1},children:"Current Courses:"}),A.jsx(Pe,{sx:{display:"flex",flexWrap:"wrap"},children:n()})]}),ire=()=>{const{userDetails:t,setUserDetails:r}=Pi(),[n,o]=Y.useState(!1),[s,l]=Y.useState(!1),[d,h]=Y.useState(!1),[p,g]=Y.useState(""),[b,v]=Y.useState("success"),y=Wr(),k=Kn(),x=()=>{y("/")},C=()=>{t!=null&&t.isAdmin||y("/request-educator-permissions")},D=(F,N)=>{h(!0),g(F),v(N),N==="success"&&t&&(async()=>{const U=mn(k,"users",t.uid),Q=await Wo(U);if(Q.exists()){const H=Q.data();r({...H,uid:t.uid})}})()},S=()=>{o(!n)},M=()=>{l(!s)},P=()=>t!=null&&t.isSuperAdmin?"Super Admin":t!=null&&t.isAdmin?"Educator":"Student",B=()=>{h(!1)},$=()=>t!=null&&t.classes?Object.entries(t.classes).map(([F,N])=>A.jsx(ii,{label:`${N.number} - ${N.title}${N.isCourseAdmin?" (Admin)":""}`,variant:"outlined",sx:{margin:"4px",fontSize:"14px",fontWeight:"bold",bgcolor:N.isCourseAdmin?"#FFCDD2":"#E3F2FD",color:N.isCourseAdmin?"#C62828":"#1565C0"}},F)):"None";return A.jsxs(Pe,{className:"profile-container",children:[A.jsx(kt,{variant:"text",onClick:x,className:"profile-button",children:"â† Home Page"}),A.jsx(je,{className:"webpage_title",children:"My Account"}),t&&A.jsx(rre,{userDetails:t,getAccountStatus:P,renderCourses:$}),!(t!=null&&t.isAdmin)&&A.jsxs(Pe,{className:"profile-switch-container",children:[A.jsx(su,{control:A.jsx(au,{checked:n,onChange:S}),label:"Enroll in a Course (As a Student)"}),n&&A.jsxs(Pe,{sx:{mt:2},children:[A.jsx(je,{variant:"body1",className:"profile-text",children:"Use the area below to add a course access to your account."}),A.jsx(nre,{onCourseAdded:D})]})]}),A.jsxs(Pe,{className:"profile-advanced-section",children:[A.jsx(su,{control:A.jsx(au,{checked:s,onChange:M}),label:"Advanced"}),s&&A.jsx(A.Fragment,{children:A.jsx(Pe,{sx:{mt:2},children:A.jsx(kt,{variant:"text",onClick:C,disabled:t==null?void 0:t.isAdmin,className:"profile-button",children:t!=null&&t.isAdmin?A.jsx(je,{children:A.jsx("span",{className:"success-text",children:"âœ” Educator Account Approved"})}):"Request Educator Permissions"})})})]}),A.jsx(cs,{open:d,autoHideDuration:6e3,onClose:B,children:A.jsx(br,{onClose:B,severity:b,sx:{width:"100%"},children:p})})]})},ore=({selectedCourse:t,selectedCourseDetails:r,onStudentChange:n})=>{const[o,s]=Y.useState(""),[l,d]=Y.useState(!1),[h,p]=Y.useState(""),[g,b]=Y.useState(!1),[v,y]=Y.useState(!1),k=Kn(),x=async()=>{if(!o||!t){p("Please enter a Student ID and select a course."),b(!0);return}d(!0);try{const M=mn(k,"users",o),P=await Wo(M);if(P.exists()){const $=P.data().classes||{};t in $?y(!0):(p(`Student ${o} is not enrolled in course ${(r==null?void 0:r.number)||t}, cannot remove.`),b(!0))}else p(`Student ${o} does not exist.`),b(!0)}catch(M){console.error("Error checking student course:",M),p("Error checking student course."),b(!0)}d(!1)},C=async()=>{d(!0);try{const M=mn(k,"users",o);await _r(M,{[`classes.${t}`]:AG()}),p(`Student ${o} removed from course ${(r==null?void 0:r.number)||t}.`),s(""),n()}catch(M){console.error("Error updating student course:",M),p("Error updating student course.")}d(!1),b(!0),y(!1)},D=()=>{b(!1)},S=()=>{y(!1)};return A.jsxs(Pe,{sx:{mt:4},children:[A.jsxs(je,{variant:"h6",component:"h2",children:["Remove Students from ",r?`${r.number}`:t]}),A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",mt:2},children:[A.jsx(Jt,{label:"Student ID",value:o,onChange:M=>s(M.target.value),fullWidth:!0,required:!0,margin:"normal",sx:{mr:2}}),A.jsx(kt,{variant:"contained",color:"primary",onClick:x,disabled:l,children:l?A.jsx(Rr,{size:24}):"Remove"})]}),A.jsx(cs,{open:g,autoHideDuration:6e3,onClose:D,children:A.jsx(br,{onClose:D,severity:"info",children:h})}),A.jsxs(Qi,{open:v,onClose:S,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[A.jsx(Ji,{id:"confirm-dialog-title",children:"Confirm Removal"}),A.jsx(Zi,{children:A.jsx(Ts,{id:"confirm-dialog-description",children:"Are you sure you want to remove the student from the course? This action cannot be undone."})}),A.jsxs(Xi,{children:[A.jsx(kt,{onClick:S,color:"primary",children:"Cancel"}),A.jsx(kt,{onClick:C,color:"secondary",autoFocus:!0,children:"Confirm"})]})]})]})},sre=({students:t,selectedCourse:r})=>{const n=()=>{if(t.length>0){const o=["User ID","Courses","Last Login"],s=t.map(g=>[`"${g.id||g.uid}"`,`"${g.classes?Object.values(g.classes).map(b=>`${b.number} - ${b.title}`).join(", "):"None"}"`,`"${sd(g.lastLogin)}"`]),l=[o.join(","),...s.map(g=>g.join(","))].join(`
`),d=new Blob([l],{type:"text/csv;charset=utf-8;"}),h=URL.createObjectURL(d),p=document.createElement("a");p.href=h,p.setAttribute("download",`${r}_students.csv`),document.body.appendChild(p),p.click(),document.body.removeChild(p)}};return A.jsx(Pe,{sx:{display:"flex",justifyContent:"flex-end",mt:2},children:A.jsx(kt,{variant:"contained",color:"primary",onClick:n,disabled:t.length===0,sx:{background:"linear-gradient(45deg, #3f51b5 30%, #1e88e5 90%)",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)",color:"white",padding:"0 30px",fontSize:"16px",fontWeight:"bold",textTransform:"none","&:hover":{background:"linear-gradient(45deg, #1e88e5 30%, #3f51b5 90%)",boxShadow:"0 3px 5px 2px rgba(33, 203, 243, .3)"}},children:"Export as CSV"})})},are=({userClasses:t,selectedCourse:r,onCourseChange:n})=>A.jsx(Pe,{sx:{mb:3},children:A.jsxs(fd,{fullWidth:!0,variant:"outlined",children:[A.jsx(pd,{id:"course-selector-label",children:"Select a Course"}),A.jsx(vc,{"aria-label":"Select a course",labelId:"course-selector-label",value:r,onChange:o=>n(o.target.value),label:"Select a Course",children:Object.entries(t).map(([o,s])=>A.jsx(Nr,{value:o,children:`${s.number} - ${s.title}`},o))})]})}),lre=({selectedCourse:t,selectedCourseDetails:r,onCourseUpdate:n})=>{const[o,s]=Y.useState(!1),[l,d]=Y.useState(""),[h,p]=Y.useState(""),g=Kn(),{userDetails:b,refreshUserDetails:v}=Pi(),y=()=>{r&&(d(r.number||""),p(r.title||"")),s(!0)},k=()=>{s(!1),x()},x=()=>{d(""),p("")},C=async()=>{if(!t||!(b!=null&&b.uid)){console.error("Selected course or user details are missing.");return}try{const D=mn(g,"courses",t);await _r(D,{number:l,title:h});const S=mn(g,"users",b.uid),M=await Wo(S);if(M.exists()){const P=M.data();if(P.classes&&P.classes[t]){const B=P.classes[t],$={...P.classes,[t]:{...B,number:l,title:h}};await _r(S,{classes:$})}}await v(),n(),k()}catch(D){console.error("Error updating course:",D)}};return A.jsxs(Pe,{sx:{mt:2},children:[A.jsx(kt,{variant:"outlined",onClick:y,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#4CAF50",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#388E3C",transform:"scale(1.03)"}},children:"Edit Course Details"}),A.jsxs(Qi,{open:o,onClose:k,children:[A.jsx(Ji,{children:"Edit Course Details"}),A.jsxs(Zi,{children:[A.jsx(Jt,{label:"Course Number",value:l,onChange:D=>d(D.target.value),fullWidth:!0,sx:{mb:2}}),A.jsx(Jt,{label:"Course Title",value:h,onChange:D=>p(D.target.value),fullWidth:!0})]}),A.jsxs(Xi,{children:[A.jsx(kt,{onClick:k,children:"Cancel"}),A.jsx(kt,{onClick:C,variant:"contained",color:"primary",disabled:!l||!h,children:"Save"})]})]})]})},cre=({selectedCourse:t,onInfoUpdate:r})=>{var G,R,ne,ue,ie,oe,ye,re,Ce,X,J,fe,le;const[n,o]=Y.useState(!1),[s,l]=Y.useState(!1),[d,h]=Y.useState(null),[p,g]=Y.useState({}),[b,v]=Y.useState("contact"),y=Kn();Y.useEffect(()=>{n&&t&&k()},[n,t]);const k=async()=>{try{l(!0);const ae=mn(y,"courses",t),Se=await Wo(ae);if(Se.exists()){const xe=Se.data();g(xe.additionalInfo||{})}}catch(ae){console.error("Error fetching course info:",ae),h("Failed to load course information")}finally{l(!1)}},x=()=>{o(!0),h(null)},C=()=>{o(!1),h(null)},D=async()=>{try{l(!0);const ae=mn(y,"courses",t);await _r(ae,{additionalInfo:{...p,lastUpdated:new Date}}),r(),C()}catch(ae){console.error("Error updating course info:",ae),h("Failed to save course information")}finally{l(!1)}},S=(ae,Se)=>{g(xe=>({...xe,contactInfo:{...xe.contactInfo,[ae]:Se}}))},M=(ae,Se)=>{g(xe=>({...xe,policies:{...xe.policies,[ae]:Se}}))},P=()=>{g(ae=>({...ae,textbooks:[...ae.textbooks||[],{title:"",author:"",edition:"",isbn:"",required:!0}]}))},B=(ae,Se,xe)=>{g(Te=>{var Ye;return{...Te,textbooks:(Ye=Te.textbooks)==null?void 0:Ye.map((We,Je)=>Je===ae?{...We,[Se]:xe}:We)}})},$=ae=>{g(Se=>{var xe;return{...Se,textbooks:(xe=Se.textbooks)==null?void 0:xe.filter((Te,Ye)=>Ye!==ae)}})},F=()=>{g(ae=>({...ae,gradingPolicy:[...ae.gradingPolicy||[],{component:"",percentage:0,description:""}]}))},N=(ae,Se,xe)=>{g(Te=>{var Ye;return{...Te,gradingPolicy:(Ye=Te.gradingPolicy)==null?void 0:Ye.map((We,Je)=>Je===ae?{...We,[Se]:xe}:We)}})},L=ae=>{g(Se=>{var xe;return{...Se,gradingPolicy:(xe=Se.gradingPolicy)==null?void 0:xe.filter((Te,Ye)=>Ye!==ae)}})},U=(ae,Se)=>{g(xe=>{var Te;return{...xe,[ae]:{...xe[ae],[Se]:[...((Te=xe[ae])==null?void 0:Te[Se])||[],""]}}})},Q=(ae,Se,xe,Te)=>{g(Ye=>{var We;return{...Ye,[ae]:{...Ye[ae],[Se]:(((We=Ye[ae])==null?void 0:We[Se])||[]).map((Je,Ue)=>Ue===xe?Te:Je)}}})},H=(ae,Se,xe)=>{g(Te=>{var Ye;return{...Te,[ae]:{...Te[ae],[Se]:(((Ye=Te[ae])==null?void 0:Ye[Se])||[]).filter((We,Je)=>Je!==xe)}}})},z=ae=>(Se,xe)=>{v(xe?ae:!1)};return A.jsxs(Pe,{sx:{mt:2},children:[A.jsx(kt,{variant:"outlined",onClick:x,startIcon:A.jsx(kl,{}),sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#2196F3",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#1976D2",transform:"scale(1.03)"}},children:"Edit Additional Info"}),A.jsxs(Qi,{open:n,onClose:C,maxWidth:"md",fullWidth:!0,children:[A.jsx(Ji,{children:A.jsx(je,{variant:"h5",children:"Edit Additional Course Information"})}),A.jsxs(Zi,{sx:{minHeight:"500px"},children:[d&&A.jsx(br,{severity:"error",sx:{mb:2},children:d}),A.jsxs(ic,{expanded:b==="contact",onChange:z("contact"),children:[A.jsx(oc,{expandIcon:A.jsx(_s,{}),children:A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(LW,{color:"primary"}),A.jsx(je,{variant:"h6",children:"Contact Information"})]})}),A.jsx(sc,{children:A.jsxs(Pt,{container:!0,spacing:2,children:[A.jsx(Pt,{item:!0,xs:12,md:6,children:A.jsx(Jt,{label:"Email",fullWidth:!0,value:((G=p.contactInfo)==null?void 0:G.email)||"",onChange:ae=>S("email",ae.target.value)})}),A.jsx(Pt,{item:!0,xs:12,md:6,children:A.jsx(Jt,{label:"Phone",fullWidth:!0,value:((R=p.contactInfo)==null?void 0:R.phone)||"",onChange:ae=>S("phone",ae.target.value)})}),A.jsx(Pt,{item:!0,xs:12,md:6,children:A.jsx(Jt,{label:"Office",fullWidth:!0,value:((ne=p.contactInfo)==null?void 0:ne.office)||"",onChange:ae=>S("office",ae.target.value)})}),A.jsx(Pt,{item:!0,xs:12,md:6,children:A.jsx(Jt,{label:"Office Hours",fullWidth:!0,value:((ue=p.contactInfo)==null?void 0:ue.officeHours)||"",onChange:ae=>S("officeHours",ae.target.value)})}),A.jsx(Pt,{item:!0,xs:12,children:A.jsx(Jt,{label:"Website",fullWidth:!0,value:((ie=p.contactInfo)==null?void 0:ie.website)||"",onChange:ae=>S("website",ae.target.value)})})]})})]}),A.jsxs(ic,{expanded:b==="textbooks",onChange:z("textbooks"),children:[A.jsx(oc,{expandIcon:A.jsx(_s,{}),children:A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(BW,{color:"primary"}),A.jsx(je,{variant:"h6",children:"Textbooks & Resources"})]})}),A.jsxs(sc,{children:[A.jsx(Pe,{sx:{mb:2},children:A.jsx(kt,{startIcon:A.jsx(vh,{}),onClick:P,variant:"outlined",children:"Add Textbook"})}),(oe=p.textbooks)==null?void 0:oe.map((ae,Se)=>A.jsx(Pe,{sx:{mb:3,p:2,border:"1px solid #ddd",borderRadius:1},children:A.jsxs(Pt,{container:!0,spacing:2,children:[A.jsx(Pt,{item:!0,xs:12,children:A.jsx(Jt,{label:"Title",fullWidth:!0,value:ae.title,onChange:xe=>B(Se,"title",xe.target.value)})}),A.jsx(Pt,{item:!0,xs:12,md:4,children:A.jsx(Jt,{label:"Author",fullWidth:!0,value:ae.author||"",onChange:xe=>B(Se,"author",xe.target.value)})}),A.jsx(Pt,{item:!0,xs:12,md:4,children:A.jsx(Jt,{label:"Edition",fullWidth:!0,value:ae.edition||"",onChange:xe=>B(Se,"edition",xe.target.value)})}),A.jsx(Pt,{item:!0,xs:12,md:4,children:A.jsx(Jt,{label:"ISBN",fullWidth:!0,value:ae.isbn||"",onChange:xe=>B(Se,"isbn",xe.target.value)})}),A.jsx(Pt,{item:!0,xs:12,children:A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[A.jsx(su,{control:A.jsx(au,{checked:ae.required,onChange:xe=>B(Se,"required",xe.target.checked)}),label:"Required"}),A.jsx(Ln,{onClick:()=>$(Se),color:"error",children:A.jsx(Ks,{})})]})})]})},Se))]})]}),A.jsxs(ic,{expanded:b==="grading",onChange:z("grading"),children:[A.jsx(oc,{expandIcon:A.jsx(_s,{}),children:A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(RW,{color:"primary"}),A.jsx(je,{variant:"h6",children:"Grading Policy"})]})}),A.jsxs(sc,{children:[A.jsx(Pe,{sx:{mb:2},children:A.jsx(kt,{startIcon:A.jsx(vh,{}),onClick:F,variant:"outlined",children:"Add Grading Component"})}),(ye=p.gradingPolicy)==null?void 0:ye.map((ae,Se)=>A.jsx(Pe,{sx:{mb:2,p:2,border:"1px solid #ddd",borderRadius:1},children:A.jsxs(Pt,{container:!0,spacing:2,children:[A.jsx(Pt,{item:!0,xs:12,md:4,children:A.jsx(Jt,{label:"Component",fullWidth:!0,value:ae.component,onChange:xe=>N(Se,"component",xe.target.value)})}),A.jsx(Pt,{item:!0,xs:12,md:3,children:A.jsx(Jt,{label:"Percentage",type:"number",fullWidth:!0,value:ae.percentage,onChange:xe=>N(Se,"percentage",parseInt(xe.target.value)||0),inputProps:{min:0,max:100}})}),A.jsx(Pt,{item:!0,xs:12,md:4,children:A.jsx(Jt,{label:"Description",fullWidth:!0,value:ae.description||"",onChange:xe=>N(Se,"description",xe.target.value)})}),A.jsx(Pt,{item:!0,xs:12,md:1,children:A.jsx(Ln,{onClick:()=>L(Se),color:"error",children:A.jsx(Ks,{})})})]})},Se))]})]}),A.jsxs(ic,{expanded:b==="policies",onChange:z("policies"),children:[A.jsx(oc,{expandIcon:A.jsx(_s,{}),children:A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(FW,{color:"primary"}),A.jsx(je,{variant:"h6",children:"Course Policies"})]})}),A.jsx(sc,{children:A.jsx(Pt,{container:!0,spacing:2,children:[{key:"attendance",label:"Attendance Policy"},{key:"lateWork",label:"Late Work Policy"},{key:"academicIntegrity",label:"Academic Integrity"},{key:"accommodations",label:"Accommodations"},{key:"communication",label:"Communication Policy"},{key:"safety",label:"Safety Policy"},{key:"groupWork",label:"Group Work Policy"},{key:"makeupPolicy",label:"Make-up Policy"}].map(({key:ae,label:Se})=>{var xe;return A.jsx(Pt,{item:!0,xs:12,children:A.jsx(Jt,{label:Se,multiline:!0,rows:3,fullWidth:!0,value:((xe=p.policies)==null?void 0:xe[ae])||"",onChange:Te=>M(ae,Te.target.value)})},ae)})})})]}),A.jsxs(ic,{expanded:b==="lab",onChange:z("lab"),children:[A.jsx(oc,{expandIcon:A.jsx(_s,{}),children:A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(zW,{color:"primary"}),A.jsx(je,{variant:"h6",children:"Laboratory Information"})]})}),A.jsx(sc,{children:A.jsxs(Pt,{container:!0,spacing:3,children:[A.jsxs(Pt,{item:!0,xs:12,children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1},children:"Safety Requirements"}),A.jsx(Pe,{sx:{mb:2},children:A.jsx(kt,{startIcon:A.jsx(vh,{}),onClick:()=>U("labSpecific","safetyRequirements"),size:"small",variant:"outlined",children:"Add Safety Requirement"})}),(Ce=(re=p.labSpecific)==null?void 0:re.safetyRequirements)==null?void 0:Ce.map((ae,Se)=>A.jsxs(Pe,{sx:{display:"flex",gap:1,mb:1},children:[A.jsx(Jt,{fullWidth:!0,size:"small",value:ae,onChange:xe=>Q("labSpecific","safetyRequirements",Se,xe.target.value),placeholder:"Safety requirement"}),A.jsx(Ln,{onClick:()=>H("labSpecific","safetyRequirements",Se),color:"error",size:"small",children:A.jsx(Ks,{})})]},Se))]}),A.jsxs(Pt,{item:!0,xs:12,md:6,children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1},children:"Required Equipment"}),A.jsx(Pe,{sx:{mb:2},children:A.jsx(kt,{startIcon:A.jsx(vh,{}),onClick:()=>U("labSpecific","requiredEquipment"),size:"small",variant:"outlined",children:"Add Equipment"})}),(J=(X=p.labSpecific)==null?void 0:X.requiredEquipment)==null?void 0:J.map((ae,Se)=>A.jsxs(Pe,{sx:{display:"flex",gap:1,mb:1},children:[A.jsx(Jt,{fullWidth:!0,size:"small",value:ae,onChange:xe=>Q("labSpecific","requiredEquipment",Se,xe.target.value),placeholder:"Equipment item"}),A.jsx(Ln,{onClick:()=>H("labSpecific","requiredEquipment",Se),color:"error",size:"small",children:A.jsx(Ks,{})})]},Se))]}),A.jsxs(Pt,{item:!0,xs:12,md:6,children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1},children:"Dress Code"}),A.jsx(Pe,{sx:{mb:2},children:A.jsx(kt,{startIcon:A.jsx(vh,{}),onClick:()=>U("labSpecific","dresscode"),size:"small",variant:"outlined",children:"Add Dress Code Item"})}),(le=(fe=p.labSpecific)==null?void 0:fe.dresscode)==null?void 0:le.map((ae,Se)=>A.jsxs(Pe,{sx:{display:"flex",gap:1,mb:1},children:[A.jsx(Jt,{fullWidth:!0,size:"small",value:ae,onChange:xe=>Q("labSpecific","dresscode",Se,xe.target.value),placeholder:"Dress code requirement"}),A.jsx(Ln,{onClick:()=>H("labSpecific","dresscode",Se),color:"error",size:"small",children:A.jsx(Ks,{})})]},Se))]})]})})]})]}),A.jsxs(Xi,{children:[A.jsx(kt,{onClick:C,children:"Cancel"}),A.jsx(kt,{onClick:D,variant:"contained",disabled:s,children:s?"Saving...":"Save Changes"})]})]})]})},ure=async(t,r,n)=>{const o=xd(),s=t.name.split(".").pop()||"txt",l=`${t.name.replace(/\.[^/.]+$/,"")}_${zo()}.${s}`,d=`syllabi/${r}/${l}`,h=gl(o,d);try{const p=await ud(h,t),g=await lu(p.ref),b={originalFilename:t.name,fileSize:t.size,fileType:t.type||"application/octet-stream",uploadedAt:new Date,uploadedBy:r,courseId:n};return console.log(`Successfully uploaded syllabus file: ${l}`,{size:t.size,type:t.type,url:g}),{url:g,path:p.ref.fullPath,metadata:b}}catch(p){throw console.error("Failed to upload syllabus file:",p),new Error(`Failed to upload syllabus file: ${p instanceof Error?p.message:"Unknown error"}`)}},A6=t=>{switch(t.toLowerCase()){case"application/pdf":return"PDF Document";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"Word Document";case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return"PowerPoint Presentation";case"text/plain":return"Text File";default:return"Document"}},_6=t=>{if(t===0)return"0 Bytes";const r=1024,n=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(t)/Math.log(r));return parseFloat((t/Math.pow(r,o)).toFixed(2))+" "+n[o]},dre=({courseId:t})=>{const[r,n]=Y.useState(null),[o,s]=Y.useState(!0),[l,d]=Y.useState(null),[h,p]=Y.useState(!1),g=Kn();Y.useEffect(()=>{t&&(async()=>{try{s(!0);const k=mn(g,"courses",t),x=await Wo(k);if(x.exists()){const C=x.data();n(C.syllabusFile||null)}else d("Course not found")}catch(k){console.error("Error fetching syllabus file:",k),d("Failed to load syllabus file information")}finally{s(!1)}})()},[t,g]);const b=()=>{r!=null&&r.url&&window.open(r.url,"_blank")},v=()=>{p(!0)};return o?A.jsx(Pe,{sx:{display:"flex",justifyContent:"center",p:2},children:A.jsx(Rr,{size:24})}):l?A.jsx(br,{severity:"error",sx:{mb:2},children:l}):r?A.jsxs(Bn,{sx:{p:3,mb:3,backgroundColor:"info.50"},children:[A.jsxs(je,{variant:"h6",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[A.jsx(Vk,{color:"primary"}),"Original Syllabus Document"]}),A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[A.jsx(je,{variant:"body1",sx:{flexGrow:1},children:A.jsx("strong",{children:r.metadata.originalFilename})}),A.jsxs(je,{variant:"body2",color:"text.secondary",children:[A6(r.metadata.fileType)," â€¢ ",_6(r.metadata.fileSize)]})]}),A.jsxs(je,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Uploaded: ",new Date(r.metadata.uploadedAt).toLocaleDateString()]}),A.jsxs(Pe,{sx:{display:"flex",gap:2},children:[A.jsx(kt,{variant:"outlined",startIcon:A.jsx(W_,{}),onClick:v,size:"small",children:"View Details"}),A.jsx(kt,{variant:"contained",startIcon:A.jsx(Og,{}),onClick:b,size:"small",children:"Download"})]}),A.jsxs(Qi,{open:h,onClose:()=>p(!1),maxWidth:"sm",fullWidth:!0,children:[A.jsxs(Ji,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(Vk,{}),"Syllabus File Details"]}),A.jsx(Zi,{children:A.jsxs(Pe,{sx:{mb:2},children:[A.jsx(je,{variant:"body2",color:"text.secondary",children:A.jsx("strong",{children:"Filename:"})}),A.jsx(je,{variant:"body1",sx:{mb:2},children:r.metadata.originalFilename}),A.jsx(je,{variant:"body2",color:"text.secondary",children:A.jsx("strong",{children:"File Type:"})}),A.jsx(je,{variant:"body1",sx:{mb:2},children:A6(r.metadata.fileType)}),A.jsx(je,{variant:"body2",color:"text.secondary",children:A.jsx("strong",{children:"File Size:"})}),A.jsx(je,{variant:"body1",sx:{mb:2},children:_6(r.metadata.fileSize)}),A.jsx(je,{variant:"body2",color:"text.secondary",children:A.jsx("strong",{children:"Uploaded:"})}),A.jsx(je,{variant:"body1",sx:{mb:2},children:new Date(r.metadata.uploadedAt).toLocaleString()}),A.jsx(je,{variant:"body2",color:"text.secondary",children:A.jsx("strong",{children:"Storage Path:"})}),A.jsx(je,{variant:"body2",sx:{fontFamily:"monospace",backgroundColor:"grey.100",p:1,borderRadius:1},children:r.path})]})}),A.jsxs(Xi,{children:[A.jsx(kt,{onClick:()=>p(!1),children:"Close"}),A.jsx(kt,{onClick:b,variant:"contained",startIcon:A.jsx(Og,{}),children:"Download File"})]})]})]}):null},hre=({selectedCourse:t,onCourseDelete:r})=>{const[n,o]=Y.useState(!1),s=Kn(),{refreshUserDetails:l}=Pi(),d=()=>o(!0),h=()=>o(!1),p=async()=>{if(t)try{const g=Q_(s),b=mn(s,"courses",t);g.delete(b);const v=Zn(s,"users");(await So(v)).forEach(k=>{const x=mn(s,"users",k.id),C=k.data().classes||{};C&&C[t]&&(delete C[t],g.update(x,{classes:C}))}),await g.commit(),await l(),r(),h()}catch(g){console.error("Error deleting course:",g)}};return A.jsxs(Pe,{sx:{mt:2},children:[A.jsx(kt,{variant:"contained",onClick:d,sx:{fontFamily:"Staatliches, sans-serif",fontSize:"1rem",backgroundColor:"#F44336",color:"#FFFFFF",borderRadius:1,textTransform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.3s ease, transform 0.3s ease","&:hover":{backgroundColor:"#D32F2F",transform:"scale(1.03)"}},children:"Delete Course"}),A.jsxs(Qi,{open:n,onClose:h,children:[A.jsx(Ji,{children:"Confirm Delete"}),A.jsx(Zi,{children:A.jsx(Ts,{children:"Are you sure you want to delete this course? This action cannot be undone."})}),A.jsxs(Xi,{children:[A.jsx(kt,{onClick:h,children:"Cancel"}),A.jsx(kt,{onClick:p,variant:"contained",color:"error",children:"Delete"})]})]})]})},fre=({text:t,tooltipText:r="Click to Copy",successText:n="Copied!"})=>{const[o,s]=Y.useState(!1),l=()=>{navigator.clipboard.writeText(t).then(()=>{s(!0),setTimeout(()=>s(!1),2e3)}).catch(d=>console.error("Could not copy text: ",d))};return A.jsx(ls,{title:o?n:r,enterDelay:300,leaveDelay:200,children:A.jsx(ii,{label:t,variant:"outlined",onClick:l,sx:{borderRadius:"15px",fontSize:"16px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",fontFamily:"Gabarito, sans-serif"}})})},pre=()=>{const{userDetails:t}=Pi(),[r,n]=Y.useState(""),[o,s]=Y.useState([]),[l,d]=Y.useState(null),[h,p]=Y.useState(!1),[g,b]=Y.useState(""),[v,y]=Y.useState("success"),k=Kn();Y.useEffect(()=>{(async()=>{if(t!=null&&t.isAdmin){const S=Rp(Zn(k,"courses"),Zg("courseAdmin","array-contains",t.uid)),P=(await So(S)).docs.map(B=>({id:B.id,number:B.data().number,title:B.data().title,passcode:B.data().passcode}));s(P)}})()},[k,t]);const x=D=>{const S=D.target.value;n(S);const M=o.find(P=>P.id===S);M?(d(M.passcode),b(`Passcode for course "${M.number} - ${M.title}" retrieved successfully.`),y("success"),p(!0)):(d(null),b("Course not found."),y("error"),p(!0))},C=()=>{p(!1)};return A.jsxs(Pe,{sx:{mt:4},children:[A.jsx(je,{variant:"subtitle1",component:"h2",sx:{mb:2},children:"Retrieve Course Passcode"}),A.jsx(Pt,{container:!0,spacing:2,sx:{maxWidth:"75%"},children:A.jsxs(Pt,{item:!0,xs:12,sx:{display:"flex",alignItems:"center"},children:[A.jsx(Jt,{select:!0,label:"Select Course Number",value:r,onChange:x,fullWidth:!0,sx:{mb:2,mr:2},children:o.map(D=>A.jsx(Nr,{value:D.id,children:`${D.number} - ${D.title}`},D.id))}),l&&A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",ml:2},children:[A.jsx(je,{variant:"body1",sx:{mr:1},children:"Passcode:"}),A.jsx(fre,{text:`${l}`})]})]})}),A.jsx(cs,{open:h,autoHideDuration:6e3,onClose:C,children:A.jsx(br,{onClose:C,severity:v,sx:{width:"100%"},children:g})})]})},mre=()=>{const{userDetails:t}=Pi(),[r,n]=Y.useState([]),[o,s]=Y.useState(""),[l,d]=Y.useState(!1),[h,p]=Y.useState(!1),[g,b]=Y.useState(!1),v=Kn(),y=Wr(),x=t!=null&&t.classes?Object.entries(t.classes).filter(([B,$])=>$.isCourseAdmin).reduce((B,[$,F])=>({...B,[$]:F}),{}):{};Y.useEffect(()=>{x[o]||s(Object.keys(x)[0]||"")},[x,o]),Y.useEffect(()=>{(async()=>{if(o)try{const $=Rp(Zn(v,"users"),Zg("isAdmin","==",!1)),L=(await So($)).docs.map(U=>({uid:U.id,...U.data()})).filter(U=>U.classes&&U.classes[o]);n(L)}catch($){console.error("Error fetching students:",$)}})()},[o,v]);const C=B=>{s(B)},D=()=>{y("/request-new-course")},S=x[o],M=S?`${S.number} - ${S.title}`:"",P=!!(o&&S);return A.jsxs(Pe,{className:"profile-container",sx:{p:4},children:[A.jsx(Pe,{sx:{display:"flex",alignItems:"center",mb:2},children:A.jsx(kt,{variant:"text",onClick:()=>y("/"),className:"profile-button",children:"â† Home Page"})}),A.jsx(je,{className:"webpage_title",sx:{mb:2},children:"Course Management"}),A.jsxs(Pe,{sx:{mb:4,p:3,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[A.jsx(je,{variant:"h6",sx:{fontFamily:"Staatliches, sans-serif",mb:2,color:"#0B53C0"},children:"Select a Course"}),Object.keys(x).length>0?A.jsx(are,{userClasses:x,selectedCourse:o,onCourseChange:C}):A.jsx(je,{variant:"body1",sx:{color:"#9E9E9E"},children:"No courses available for selection."})]}),A.jsx(Pe,{children:P&&A.jsxs(A.Fragment,{children:[A.jsx(dre,{courseId:o}),A.jsxs(Pe,{sx:{flex:2,display:"flex",justifyContent:"flex-end",gap:2},children:[A.jsx(lre,{selectedCourse:o,selectedCourseDetails:S,onCourseUpdate:()=>{}}),A.jsx(cre,{selectedCourse:o,onInfoUpdate:()=>{}}),A.jsx(hre,{selectedCourse:o,onCourseDelete:()=>s("")})]})]})}),P&&A.jsxs(Bn,{elevation:3,sx:{p:3,mb:4,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",backgroundColor:"#F9FAFB"},children:[A.jsx(je,{variant:"h6",component:"h2",sx:{fontFamily:"Staatliches, sans-serif",fontWeight:"bold",mb:2,color:"#0B53C0"},children:"Students Enrolled in a Course"}),r.length===0?A.jsxs(je,{sx:{color:"#757575",textAlign:"center",p:3},children:["No students are currently enrolled in ",A.jsx("strong",{children:M}),"."]}):A.jsxs(A.Fragment,{children:[A.jsx(vd,{component:Bn,children:A.jsxs(Ad,{children:[A.jsx(_d,{children:A.jsxs(xo,{children:[A.jsx(It,{sx:{fontWeight:"bold"},children:"User ID"}),A.jsx(It,{sx:{fontWeight:"bold"},children:"Last Login"})]})}),A.jsx(Cd,{children:r.map(B=>A.jsxs(xo,{children:[A.jsx(It,{children:B.uid}),A.jsx(It,{children:sd(B.lastLogin)})]},B.uid))})]})}),A.jsx(sre,{students:r,selectedCourse:o})]}),r.length>0&&A.jsxs(Bn,{sx:{mt:4,p:3,borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[A.jsx(su,{control:A.jsx(au,{checked:g,onChange:()=>b(B=>!B)}),label:"Remove Student(s) from the Course"}),g&&A.jsx(ore,{selectedCourse:o,selectedCourseDetails:S,onStudentChange:()=>{}})]})]}),A.jsxs(Pe,{sx:{display:"flex",gap:4,mb:4},children:[A.jsxs(Pe,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[A.jsx(su,{control:A.jsx(au,{checked:h,onChange:()=>p(B=>!B)}),label:"Retrieve Course Passcode"}),h&&A.jsx(Pe,{sx:{mt:2},children:A.jsx(pre,{})})]}),A.jsxs(Pe,{sx:{p:3,flex:1,backgroundColor:"#FFFFFF",borderRadius:2,boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"},children:[A.jsx(su,{control:A.jsx(au,{checked:l,onChange:()=>d(B=>!B)}),label:"Request Creating a New Course"}),l&&A.jsx(Pe,{sx:{mt:2},children:A.jsx(kt,{variant:"contained",onClick:D,sx:{backgroundColor:"#4CAF50",color:"#FFFFFF",fontFamily:"Staatliches, sans-serif",textTransform:"none","&:hover":{backgroundColor:"#388E3C"}},children:"Request New Course"})})]})]})]})};class gre{constructor(r){bt(this,"genAI");bt(this,"model");this.genAI=new hO(r),this.model=this.genAI.getGenerativeModel({model:"gemini-1.5-pro",generationConfig:{temperature:.1,topK:1,topP:.8,maxOutputTokens:16384}})}async processSyllabusText(r,n,o){return r.length>3e4?(console.log("Large document detected, using chunked processing"),this.processLargeDocument(r,n,o)):this.processSingleDocument(r,n,o)}async processSingleDocument(r,n,o){const s=this.buildSyllabusAnalysisPrompt(r,n);try{const h=(await(await this.model.generateContent(s)).response).text();if(!h||h.trim().length===0)throw new Error("Empty response from AI service");const p=h.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();let g;try{g=JSON.parse(p)}catch(b){throw console.error("JSON parsing failed:",b),console.error("Raw response text:",h),console.error("Cleaned text:",p),new Error("AI response format invalid - unable to parse JSON")}if(!g||typeof g!="object")throw new Error("AI response is not a valid object");return g.courseInfo||(console.warn("Missing courseInfo in AI response, using defaults"),g.courseInfo={}),this.validateAndSanitizeResponse(g)}catch(l){if(console.error("Gemini API Error:",l),l instanceof Error){if(l.message.includes("AI response")||l.message.includes("JSON parsing"))throw l;if(l.message.includes("API key"))throw new Error("Invalid or missing Gemini API key. Please check your environment configuration.");if(l.message.includes("quota")||l.message.includes("rate limit"))throw new Error("API rate limit exceeded. Please try again later.")}throw new Error(`Failed to process syllabus with AI: ${l instanceof Error?l.message:"Unknown error"}`)}}async processLargeDocument(r,n,o){const l=this.chunkText(r,35e3);console.log(`Processing ${l.length} chunks for large document`);const d=await this.processSingleDocument(l[0],n,o),h=await Promise.allSettled(l.slice(1).map(p=>this.processChunkForDetails(p,n)));return this.mergeChunkedResults(d,h)}chunkText(r,n){const o=[],s=r.split(`
`);let l="";const d=["schedule","session","unit","week","topic","assignment","objective","learning outcome","reading","textbook","prerequisite"];for(let h=0;h<s.length;h++){const p=s[h],g=s[h+1]||"",b=d.some(v=>p.toLowerCase().includes(v)||g.toLowerCase().includes(v));l.length+p.length>n&&l.length>0&&(b||l.length>n*.8)?(o.push(l.trim()),l=p):l+=`
`+p}return l.trim()&&o.push(l.trim()),o}async processChunkForDetails(r,n){const o=`
Extract additional course details from this syllabus section. Focus heavily on:
- ALL schedule items, sessions, units, weeks, and topics
- Session numbers, titles, and descriptions
- Learning outcomes for each session
- Reading assignments and resources
- Assignment details and due dates
- Any additional objectives or policies

IMPORTANT: Extract ALL schedule/session information - do not limit the number of items.
Convert session numbers to week numbers (Session 1 = Week 1, etc.).

Return JSON with only the fields you can extract from this section:
${r}
`;try{const h=(await(await this.model.generateContent(o)).response).text().replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();return JSON.parse(h)}catch(s){return console.warn("Failed to process chunk:",s),{}}}mergeChunkedResults(r,n){const o={...r};return n.forEach(s=>{if(s.status==="fulfilled"&&s.value){const l=s.value;if(l.learningObjectives&&(o.learningObjectives=[...o.learningObjectives,...l.learningObjectives]),l.schedule){const d=new Set(o.schedule.map(p=>`${p.week}-${p.topic}`)),h=l.schedule.filter(p=>!d.has(`${p.week}-${p.topic}`));o.schedule=[...o.schedule,...h]}l.assignments&&(o.assignments=[...o.assignments,...l.assignments]),l.prerequisites&&(o.prerequisites=[...o.prerequisites,...l.prerequisites]),l.contactInfo&&(o.contactInfo={...o.contactInfo,...l.contactInfo}),l.policies&&(o.policies={...o.policies,...l.policies}),l.additionalResources&&(o.additionalResources={...o.additionalResources,...l.additionalResources})}}),o.learningObjectives=[...new Set(o.learningObjectives)],o.prerequisites=[...new Set(o.prerequisites)],o.schedule=o.schedule.sort((s,l)=>s.week-l.week),o}buildSyllabusAnalysisPrompt(r,n){return`
You are an expert educational content analyzer. Analyze the following course syllabus and extract structured information in JSON format.

IMPORTANT INSTRUCTIONS:
1. Return ONLY valid JSON - no markdown, no explanations, no additional text
2. If information is not available, use null or empty arrays/objects
3. Be thorough but accurate - don't invent information
4. For percentages in grading, ensure they are numbers (not strings)
5. For week numbers, ensure they are integers
6. Extract all learning objectives, even if they're not numbered
7. Look for course schedules in various formats (weekly, by date, by topic, by session/unit)
8. IMPORTANT: Extract ALL schedule items, sessions, units, and topics - do not limit to just a few weeks
9. For session-based schedules, convert sessions to week numbers (e.g., Session 1 = Week 1)
10. LABORATORY COURSES: Pay special attention to safety requirements, lab equipment, dress codes, group work policies, and experiment-based schedules
11. Identify course type: determine if this is a lecture, lab, seminar, or hybrid course based on content

Required JSON structure:
{
  "courseInfo": {
    "title": "string",
    "number": "string (e.g., CS 350, BIOL 301, CHEM 315)",
    "description": "string",
    "instructor": "string or null",
    "department": "string or null",
    "institution": "string or null",
    "credits": "number or null",
    "meetingTimes": "string or null (include lab times if applicable)",
    "semester": "string or null",
    "year": "string or null",
    "courseType": "lecture|lab|seminar|hybrid",
    "location": "string or null (lab room, classroom, etc.)"
  },
  "learningObjectives": [
    "string (each objective as separate item)"
  ],
  "schedule": [
    {
      "week": "number",
      "topic": "string",
      "description": "string or null",
      "readings": ["string"] or null,
      "assignments": ["string"] or null,
      "dueDate": "string or null",
      "notes": "string or null",
      "experimentType": "string or null (for lab courses)",
      "equipmentNeeded": ["string"] or null
    }
  ],
  "prerequisites": [
    "string (each prerequisite course/requirement)"
  ],
  "textbooks": [
    {
      "title": "string",
      "author": "string or null",
      "edition": "string or null",
      "isbn": "string or null",
      "required": "boolean"
    }
  ],
  "gradingPolicy": [
    {
      "component": "string (e.g., Exams, Homework, Projects)",
      "percentage": "number (e.g., 40, not '40%')",
      "description": "string or null"
    }
  ],
  "assignments": [
    {
      "name": "string",
      "description": "string",
      "type": "string (exam|project|homework|quiz|presentation|lab_report|lab_practical)",
      "dueDate": "string or null",
      "points": "number or null",
      "weight": "number or null (for weighted assignments)"
    }
  ],
  "policies": {
    "attendance": "string or null",
    "lateWork": "string or null",
    "academicIntegrity": "string or null",
    "accommodations": "string or null",
    "communication": "string or null",
    "safety": "string or null (lab safety requirements)",
    "groupWork": "string or null (partner/group work policies)",
    "makeupPolicy": "string or null (make-up lab/exam policies)"
  },
  "contactInfo": {
    "email": "string or null",
    "phone": "string or null",
    "office": "string or null",
    "officeHours": "string or null",
    "website": "string or null"
  },
  "additionalResources": {
    "software": ["string"] or null,
    "equipment": ["string"] or null,
    "websites": ["string"] or null,
    "tutoring": "string or null",
    "learningPlatform": "string or null (Moodle, Blackboard, etc.)"
  },
  "labSpecific": {
    "safetyRequirements": ["string"] or null,
    "requiredEquipment": ["string"] or null,
    "dresscode": ["string"] or null,
    "notebookRequirements": "string or null",
    "groupWorkStructure": "string or null",
    "makeupPolicy": "string or null"
  }
}

${n?`File name: ${n}`:""}

Syllabus content to analyze:
${r}
`}validateAndSanitizeResponse(r){var o,s,l,d,h,p,g,b,v,y,k,x,C,D;const n={courseInfo:{title:"Course Title",number:"COURSE 101",description:"Course description not available"},learningObjectives:[],schedule:[],prerequisites:[],textbooks:[],gradingPolicy:[],assignments:[],policies:{},contactInfo:{},additionalResources:{}};try{return{courseInfo:{...n.courseInfo,...r.courseInfo},learningObjectives:Array.isArray(r.learningObjectives)?r.learningObjectives:[],schedule:Array.isArray(r.schedule)?r.schedule.map((M,P)=>({week:typeof M.week=="number"?M.week:P+1,topic:M.topic||`Week ${P+1} Topic`,description:M.description||null,readings:Array.isArray(M.readings)?M.readings:null,assignments:Array.isArray(M.assignments)?M.assignments:null,dueDate:M.dueDate||null,notes:M.notes||null})):[],prerequisites:Array.isArray(r.prerequisites)?r.prerequisites:[],textbooks:Array.isArray(r.textbooks)?r.textbooks.map(M=>({title:M.title||"Unknown Textbook",author:M.author||null,edition:M.edition||null,isbn:M.isbn||null,required:typeof M.required=="boolean"?M.required:!0})):[],gradingPolicy:Array.isArray(r.gradingPolicy)?r.gradingPolicy.map(M=>({component:M.component||"Unknown Component",percentage:typeof M.percentage=="number"?M.percentage:0,description:M.description||null})):[],assignments:Array.isArray(r.assignments)?r.assignments.map(M=>({name:M.name||"Assignment",description:M.description||"",type:M.type||"homework",dueDate:M.dueDate||null,points:typeof M.points=="number"?M.points:null})):[],policies:{attendance:((o=r.policies)==null?void 0:o.attendance)||null,lateWork:((s=r.policies)==null?void 0:s.lateWork)||null,academicIntegrity:((l=r.policies)==null?void 0:l.academicIntegrity)||null,accommodations:((d=r.policies)==null?void 0:d.accommodations)||null,communication:((h=r.policies)==null?void 0:h.communication)||null},contactInfo:{email:((p=r.contactInfo)==null?void 0:p.email)||null,phone:((g=r.contactInfo)==null?void 0:g.phone)||null,office:((b=r.contactInfo)==null?void 0:b.office)||null,officeHours:((v=r.contactInfo)==null?void 0:v.officeHours)||null,website:((y=r.contactInfo)==null?void 0:y.website)||null},additionalResources:{software:Array.isArray((k=r.additionalResources)==null?void 0:k.software)?r.additionalResources.software:null,equipment:Array.isArray((x=r.additionalResources)==null?void 0:x.equipment)?r.additionalResources.equipment:null,websites:Array.isArray((C=r.additionalResources)==null?void 0:C.websites)?r.additionalResources.websites:null,tutoring:((D=r.additionalResources)==null?void 0:D.tutoring)||null}}}catch(S){return console.error("Error validating AI response:",S),n}}async generateCourseMaterials(r,n){const o=`
Based on the following course information, generate detailed course materials in JSON format.

CRITICAL REQUIREMENTS:
1. Return ONLY valid JSON - absolutely NO explanatory text, comments, or additional content
2. Do not add any text before or after the JSON array
3. Do not include comments like "// ..." in the JSON
4. Generate materials for ALL available weeks/sessions from the course information

Create materials for:
1. Course Overview (with detailed description, objectives, and policies)  
2. Weekly/session materials for ALL weeks found in the schedule
3. Assignment descriptions where applicable

Course Information:
${JSON.stringify(r,null,2)}

Generate materials for ${(n==null?void 0:n.includeWeeks)||r.schedule.length} weeks/sessions.

Return ONLY a JSON array of materials with this structure:
[
  {
    "id": "unique-id",
    "title": "Material Title",
    "type": "overview|weekly|assignment|resource",
    "header": {"title": "string", "content": "string"},
    "sections": [
      {
        "id": "section-id",
        "title": "Section Title",
        "content": "HTML formatted content",
        "subsections": [
          {
            "id": "subsection-id",
            "title": "Subsection Title",
            "content": "HTML formatted content"
          }
        ]
      }
    ],
    "footer": {"title": "string", "content": "string"},
    "published": false,
    "scheduledTimestamp": "ISO date string or null"
  }
]
`;try{const d=(await(await this.model.generateContent(o)).response).text();if(!d||d.trim().length===0)return console.warn("Empty response from AI service for material generation"),[];let h=d.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();const p=h.lastIndexOf("]");p!==-1&&(h=h.substring(0,p+1));let g;try{g=JSON.parse(h)}catch(b){return console.error("JSON parsing failed for material generation:",b),console.error("Raw response text:",d),console.error("Cleaned text:",h),console.warn("Falling back to empty materials array"),[]}return Array.isArray(g)?g:(console.warn("AI response is not an array, wrapping in array:",g),g?[g]:[])}catch(s){return console.error("Error generating materials:",s),[]}}}let sk=null;const C6=t=>{const r="AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8";if(!sk&&r&&(sk=new gre(r)),!sk)throw new Error("Gemini service not initialized. Please configure VITE_GEMINI_API_KEY environment variable.");return sk},mh=()=>Math.random().toString(36).substr(2,9),bre=t=>t.length?`<ul>${t.map(n=>`<li>${n}</li>`).join("")}</ul>`:"<p>No objectives specified</p>",kre=t=>t.length?`<ul>${t.map(n=>`<li>${n}</li>`).join("")}</ul>`:"<p>No readings assigned</p>",tf=nb()(D1(oO((t,r)=>({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null,setUploadedFile:n=>t({uploadedFile:n}),setUploadProgress:n=>t({uploadProgress:n}),setExtractedText:n=>t({extractedText:n}),setStoredSyllabusFile:n=>t({storedSyllabusFile:n}),setAIExtractedInfo:n=>t({aiExtractedInfo:n}),setUseAIProcessing:n=>t({useAIProcessing:n}),setParsedCourseInfo:n=>t({parsedCourseInfo:n}),setGeneratedMaterials:n=>t({generatedMaterials:n}),setCurrentStep:n=>t({currentStep:n}),setIsProcessing:n=>t({isProcessing:n}),setError:n=>t({error:n}),setProcessingProgress:n=>t({processingProgress:n}),uploadSyllabus:async(n,o)=>{const s=mO(n);if(!s.isValid){t({error:s.error,currentStep:"upload"});return}const l=FK(n);t({uploadedFile:n,uploadProgress:0,error:null,extractionMetadata:{fileName:n.name,fileSize:n.size,fileType:gO(n),estimatedProcessingTime:l},processingProgress:{stage:"uploading",percentage:0,currentOperation:"Preparing file for processing..."}});try{for(let d=0;d<=100;d+=20)t({uploadProgress:d,processingProgress:{stage:"uploading",percentage:d,currentOperation:d===100?"Upload complete, starting text extraction...":`Uploading file... ${d}%`}}),await new Promise(h=>setTimeout(h,100));if(t({currentStep:"processing",isProcessing:!0,processingProgress:{stage:"extracting",percentage:0,currentOperation:"Extracting text from document..."}}),await r().extractTextFromFile(),o)try{t({processingProgress:{stage:"uploading",percentage:90,currentOperation:"Storing syllabus file..."}});const d=await ure(n,o);t({storedSyllabusFile:d}),console.log("Syllabus file stored successfully:",d.url)}catch(d){console.warn("Failed to store syllabus file, continuing with processing:",d)}t({processingProgress:{stage:"analyzing",percentage:0,currentOperation:r().useAIProcessing?"Analyzing syllabus with AI...":"Parsing syllabus content..."}}),await r().parseSyllabus()}catch(d){t({error:d instanceof Error?d.message:"Failed to upload file",currentStep:"upload"})}},extractTextFromFile:async()=>{const{uploadedFile:n}=r();if(!n){t({error:"No file uploaded"});return}t({isProcessing:!0,error:null});try{const o=await pO(n);t({extractedText:o.text,extractionMetadata:{...r().extractionMetadata,...o.metadata},isProcessing:!1})}catch(o){t({error:o.message||"Failed to extract text from file",isProcessing:!1})}},parseSyllabus:async()=>{const{extractedText:n,uploadedFile:o,useAIProcessing:s}=r();if(!n){t({error:"No text to parse"});return}t({isProcessing:!0,error:null});try{let l;if(s)try{t({processingProgress:{stage:"analyzing",percentage:25,currentOperation:"Sending syllabus to AI for analysis..."}});const h=await C6().processSyllabusText(n,o==null?void 0:o.name);t({processingProgress:{stage:"analyzing",percentage:75,currentOperation:"Processing AI analysis results..."}}),t({aiExtractedInfo:h}),l={suggestedTitle:h.courseInfo.title||"Course Title",suggestedNumber:h.courseInfo.number||"COURSE 101",suggestedDescription:h.courseInfo.description||"Course description not available",objectives:h.learningObjectives.length>0?h.learningObjectives:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:h.schedule.map(p=>({week:p.week,topic:p.topic,description:p.description,readings:p.readings||[],assignments:p.assignments||[],date:p.dueDate?new Date(p.dueDate):void 0})),prerequisites:h.prerequisites,textbook:h.textbooks.length>0?h.textbooks[0].title:"",grading:h.gradingPolicy.map(p=>`${p.component}: ${p.percentage}%`).join(", "),instructor:h.courseInfo.instructor,department:h.courseInfo.department,institution:h.courseInfo.institution,credits:h.courseInfo.credits,semester:h.courseInfo.semester,year:h.courseInfo.year,contactInfo:h.contactInfo,policies:h.policies,textbooks:h.textbooks,gradingComponents:h.gradingPolicy,assignments:h.assignments}}catch(d){console.warn("AI processing failed, falling back to pattern-based parsing:",d),l=await r().fallbackParsing(n)}else l=await r().fallbackParsing(n);t({parsedCourseInfo:l}),t({processingProgress:{stage:"generating",percentage:0,currentOperation:"Generating course materials..."}}),await r().generateMaterials()}catch(l){t({error:l instanceof Error?l.message:"Failed to parse syllabus",isProcessing:!1})}},fallbackParsing:async n=>{var v,y;const o=n.split(`
`).filter(k=>k.trim()),s=o.find(k=>{const x=k.toLowerCase();return(x.includes("course")||x.includes("class"))&&(x.includes("title")||x.includes("name")||k.includes(":"))}),l=o.find(k=>{const x=k.toLowerCase();return x.includes("description")||x.includes("overview")||x.includes("about this course")}),d=o.find(k=>/[A-Z]{2,4}\s*\d{3,4}/.test(k)||k.toLowerCase().includes("course number")),h=o.findIndex(k=>{const x=k.toLowerCase();return x.includes("objective")||x.includes("learning outcome")||x.includes("goals")||x.includes("by the end of this course")}),p=[];if(h!==-1)for(let k=h+1;k<o.length&&k<h+15;k++){const x=o[k].trim();x&&(x.startsWith("-")||x.startsWith("â€¢")||x.match(/^\d+\./)||x.startsWith("*"))?p.push(x.replace(/^[-â€¢\d.*]\s*/,"")):x&&p.length===0&&p.push(x)}const g=[];for(let k=1;k<=16;k++){const x=new RegExp(`week\\s*${k}|${k}\\s*week`,"i"),C=o.find(D=>x.test(D));if(C){const D=C.replace(/week\s*\d+:?\s*/i,"").trim()||`Week ${k} Topic`;g.push({week:k,topic:D,description:`Content and activities for week ${k}`,readings:[],assignments:[]})}else g.push({week:k,topic:`Week ${k} Topic`,description:`Content for week ${k}`,readings:[],assignments:[]})}let b="COURSE 101";if(d){const k=d.match(/[A-Z]{2,4}\s*\d{3,4}/);k&&(b=k[0])}return{suggestedTitle:s&&((v=s.split(":").slice(-1)[0])==null?void 0:v.trim())||"Course Title",suggestedNumber:b,suggestedDescription:l&&((y=l.split(":").slice(-1)[0])==null?void 0:y.trim())||n.substring(0,300)+"...",objectives:p.length>0?p:["Students will understand key concepts","Students will develop practical skills","Students will apply knowledge to real-world scenarios"],schedule:g.slice(0,15),prerequisites:[],textbook:"",grading:""}},generateMaterials:async()=>{const{parsedCourseInfo:n,aiExtractedInfo:o,useAIProcessing:s}=r();if(!n){t({error:"No parsed course info available"});return}t({isProcessing:!0,error:null});try{let l=[];if(s&&o)try{const h=await C6().generateCourseMaterials(o,{includeWeeks:o.schedule.length,materialTypes:["overview","weekly","assignment"]});h&&h.length>0?l=h.map(p=>({id:p.id||mh(),title:p.title||"Generated Material",header:p.header||{title:"Header",content:`<p>${p.title||"Material"}</p>`},footer:p.footer||{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:p.sections||[],published:p.published||!1,scheduledTimestamp:p.scheduledTimestamp?new Date(p.scheduledTimestamp):void 0})):(console.warn("AI material generation returned empty results, using fallback"),l=r().generateFallbackMaterials(n))}catch(d){console.warn("AI material generation failed, using fallback:",d),l=r().generateFallbackMaterials(n)}else l=r().generateFallbackMaterials(n);t({generatedMaterials:l,isProcessing:!1,currentStep:"review",processingProgress:{stage:"complete",percentage:100,currentOperation:"Processing complete! Review your course materials below."}})}catch(l){t({error:l instanceof Error?l.message:"Failed to generate materials",isProcessing:!1})}},generateFallbackMaterials:n=>{const o=[];return o.push({id:mh(),title:`${n.suggestedNumber} - Course Overview`,header:{title:"Course Overview",content:`<p>${n.suggestedTitle}</p>`},footer:{title:"Footer",content:"<p>Contact instructor for questions</p>"},sections:[{id:mh(),title:"Course Description",content:`<p>${n.suggestedDescription}</p>`,subsections:[],images:[],links:[]},{id:mh(),title:"Learning Objectives",content:bre(n.objectives),subsections:[],images:[],links:[]}],published:!1}),n.schedule.slice(0,6).forEach(s=>{o.push({id:mh(),title:`Week ${s.week}: ${s.topic}`,header:{title:`Week ${s.week}`,content:`<p>${s.topic}</p>`},footer:{title:"Footer",content:"<p>Review materials before next class</p>"},sections:[{id:mh(),title:"Overview",content:`<p>${s.description||`Topics and activities for week ${s.week}`}</p>`,subsections:s.readings&&s.readings.length>0?[{id:mh(),title:"Required Readings",content:kre(s.readings),subSubsections:[],images:[],links:[]}]:[],images:[],links:[]}],published:!1,scheduledTimestamp:s.date})}),o},editMaterial:(n,o)=>{const{generatedMaterials:s}=r(),l=[...s];l[n]={...l[n],...o},t({generatedMaterials:l})},editCourseInfo:n=>{const{parsedCourseInfo:o}=r();o&&t({parsedCourseInfo:{...o,...n}})},reset:()=>t({uploadedFile:null,uploadProgress:0,extractedText:"",extractionMetadata:null,storedSyllabusFile:null,aiExtractedInfo:null,useAIProcessing:!0,parsedCourseInfo:null,generatedMaterials:[],currentStep:"upload",isProcessing:!1,error:null,processingProgress:null})}),{name:"syllabus-store",partialize:t=>({extractedText:t.extractedText,extractionMetadata:t.extractionMetadata,storedSyllabusFile:t.storedSyllabusFile,aiExtractedInfo:t.aiExtractedInfo,useAIProcessing:t.useAIProcessing,parsedCourseInfo:t.parsedCourseInfo,generatedMaterials:t.generatedMaterials,currentStep:t.currentStep})}))),ng={BASE_URL:"/nexlab/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_KEY:"AIzaSyD3b8ezNVNI376HM1OsVumOLuyMJP2AG7w",VITE_APP_ID:"1:922352392986:web:6c4d6e16b5e615bd4daaa3",VITE_AUTH_DOMAIN:"nexlab-prod.firebaseapp.com",VITE_CHATBOT_DEFAULT_ID:"256599ed-a0a2-496f-990d-c51faaefd71a",VITE_DEPLOY_ENV:"github",VITE_GEMINI_API_KEY:"AIzaSyDYgUVJwspUzRfZEhGCUAdLR66lNmM79A8",VITE_GEMINI_MATERIAL_API_KEY:"AIzaSyAcb1QNEdevZFSay3ZaT9MB7xQq6f0dMh0",VITE_GOOGLE_ANALYTICS_ID:"G-X2SBY2YQ4V",VITE_MESSAGING_SENDER_ID:"922352392986",VITE_PROJECT_ID:"nexlab-prod",VITE_PUBLIC_COURSE_ID:"rqoyheM9Lf8jGftIoZyT",VITE_STORAGE_BUCKET:"nexlab-prod.firebasestorage.app"},rg={GEMINI_API_KEY:"VITE_GEMINI_API_KEY",ENABLE_AI_PROCESSING:"VITE_ENABLE_AI_PROCESSING",MAX_RETRIES:"VITE_AI_MAX_RETRIES",TIMEOUT:"VITE_AI_TIMEOUT",FALLBACK_TO_PATTERN:"VITE_AI_FALLBACK_TO_PATTERN"},wre=()=>({geminiApiKey:ng[rg.GEMINI_API_KEY],enableAIProcessing:ng[rg.ENABLE_AI_PROCESSING]!=="false",maxRetries:parseInt(ng[rg.MAX_RETRIES]||"3",10),timeout:parseInt(ng[rg.TIMEOUT]||"30000",10),fallbackToPatternParsing:ng[rg.FALLBACK_TO_PATTERN]!=="false"}),Vj=t=>{const r=[];return t.enableAIProcessing&&!t.geminiApiKey&&r.push("Gemini API key is required when AI processing is enabled"),(t.maxRetries<0||t.maxRetries>10)&&r.push("Max retries must be between 0 and 10"),(t.timeout<1e3||t.timeout>12e4)&&r.push("Timeout must be between 1 second and 2 minutes"),{isValid:r.length===0,errors:r}},$j=()=>{const t=wre(),r=Vj(t);return{config:t,...r}},x6=({onUploadComplete:t,apiKey:r,educatorUid:n})=>{const{uploadedFile:o,uploadProgress:s,error:l,isProcessing:d,useAIProcessing:h,processingProgress:p,uploadSyllabus:g,setUploadedFile:b,setError:v}=tf(),[y,k]=Y.useState(!1),x=Y.useMemo(()=>["text/plain","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],[]),C=Y.useMemo(()=>[".txt",".pdf",".docx"],[]),D=Y.useCallback(async L=>{const Q=(H=>{if(!x.includes(H.type))return`Unsupported file type. Please upload ${C.join(", ")} files.`;const z=10*1024*1024;return H.size>z?"File size too large. Please upload files smaller than 10MB.":null})(L);if(Q){v(Q);return}try{await g(L,n),t==null||t(L)}catch(H){console.error("Upload error:",H)}},[g,t,v,x,C,r,n]),S=Y.useCallback(L=>{L.preventDefault(),k(!1);const U=Array.from(L.dataTransfer.files);U.length>0&&D(U[0])},[D]),M=Y.useCallback(L=>{L.preventDefault(),k(!0)},[]),P=Y.useCallback(L=>{L.preventDefault(),k(!1)},[]),B=Y.useCallback(L=>{const U=L.target.files;U&&U.length>0&&D(U[0]),L.target.value=""},[D]),$=Y.useCallback(()=>{b(null),v(null)},[b,v]),F=L=>{if(L===0)return"0 Bytes";const U=1024,Q=["Bytes","KB","MB","GB"],H=Math.floor(Math.log(L)/Math.log(U));return parseFloat((L/Math.pow(U,H)).toFixed(2))+" "+Q[H]},N=()=>A.jsx(qW,{color:"primary"});return A.jsxs(Pe,{sx:{width:"100%",maxWidth:600,mx:"auto"},children:[!o&&A.jsxs(Bn,{sx:{p:4,border:"2px dashed",borderColor:y?"primary.main":"grey.300",backgroundColor:y?"primary.50":"background.paper",cursor:"pointer",transition:"all 0.3s ease",textAlign:"center","&:hover":{borderColor:"primary.main",backgroundColor:"primary.50"}},onDragOver:M,onDragLeave:P,onDrop:S,onClick:()=>{var L;return(L=document.getElementById("syllabus-file-input"))==null?void 0:L.click()},children:[A.jsx(UW,{sx:{fontSize:48,color:y?"primary.main":"grey.400",mb:2}}),A.jsx(je,{variant:"h6",gutterBottom:!0,children:"Upload Your Syllabus"}),A.jsx(je,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Drag and drop your syllabus file here, or click to browse"}),A.jsx(Pe,{sx:{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"center"},children:C.map(L=>A.jsx(ii,{label:L.toUpperCase(),size:"small",variant:"outlined",color:"primary"},L))}),A.jsx(je,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:"Maximum file size: 10MB"}),A.jsx("input",{id:"syllabus-file-input",type:"file",accept:x.join(","),onChange:B,style:{display:"none"}})]}),o&&A.jsxs(Bn,{sx:{p:3,mb:2},children:[A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:2},children:[N(),A.jsxs(Pe,{sx:{flexGrow:1},children:[A.jsx(je,{variant:"subtitle1",sx:{fontWeight:500},children:o.name}),A.jsx(je,{variant:"body2",color:"text.secondary",children:F(o.size)})]}),!d&&A.jsx(Ln,{onClick:$,color:"error",size:"small",children:A.jsx(Ks,{})})]}),s>0&&s<100&&A.jsxs(Pe,{sx:{mt:2},children:[A.jsx(yg,{variant:"determinate",value:s,sx:{height:6,borderRadius:3}}),A.jsxs(je,{variant:"caption",sx:{mt:1,display:"block"},children:["Uploading... ",s,"%"]})]}),d&&A.jsx(Pe,{sx:{mt:2},children:p?A.jsxs(A.Fragment,{children:[A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[A.jsx(ii,{label:p.stage.charAt(0).toUpperCase()+p.stage.slice(1),size:"small",color:"primary",variant:"outlined"}),A.jsxs(je,{variant:"caption",color:"text.secondary",children:[p.percentage,"%"]})]}),A.jsx(yg,{variant:"determinate",value:p.percentage,sx:{height:6,borderRadius:3,mb:1}}),A.jsx(je,{variant:"caption",sx:{display:"block",color:"text.secondary"},children:p.currentOperation})]}):A.jsxs(A.Fragment,{children:[A.jsx(yg,{sx:{height:6,borderRadius:3}}),A.jsx(je,{variant:"caption",sx:{mt:1,display:"block"},children:h?"AI is analyzing your syllabus...":"Processing syllabus..."})]})})]}),l&&A.jsx(br,{severity:"error",sx:{mt:2},onClose:()=>v(null),children:l}),A.jsxs(Bn,{sx:{p:2,mt:2,backgroundColor:"info.50"},children:[A.jsx(je,{variant:"body2",color:"info.main",sx:{fontWeight:500,mb:1},children:"ðŸ’¡ Tips for best results:"}),A.jsxs(je,{variant:"body2",color:"text.secondary",component:"ul",sx:{m:0,pl:2},children:[A.jsx("li",{children:"Include course objectives and weekly schedule"}),A.jsx("li",{children:"List reading assignments and materials"}),A.jsx("li",{children:"Text files (.txt) work best for parsing"}),A.jsx("li",{children:"Ensure text is well-structured with clear headings"})]})]})]})},yre=({onContinue:t})=>{var M;const{parsedCourseInfo:r,editCourseInfo:n,error:o,isProcessing:s,currentStep:l}=tf(),[d,h]=Y.useState(!1),[p,g]=Y.useState(null);if(!r)return A.jsx(br,{severity:"warning",children:"No course information available. Please upload and process a syllabus first."});if(s||l==="processing")return A.jsx(br,{severity:"info",children:A.jsx(je,{variant:"body2",children:"ðŸ“Š Processing complete! Preparing course information for review..."})});const b=()=>{g({...r}),h(!0)},v=()=>{p&&(n(p),h(!1),g(null))},y=()=>{h(!1),g(null)},k=()=>{p&&g({...p,objectives:[...p.objectives,"New objective"]})},x=P=>{if(p){const B=p.objectives.filter(($,F)=>F!==P);g({...p,objectives:B})}},C=(P,B)=>{if(p){const $=[...p.objectives];$[P]=B,g({...p,objectives:$})}},D=(P,B,$)=>{if(p){const F=[...p.schedule];F[P]={...F[P],[B]:$},g({...p,schedule:F})}},S=d?p:r;return S?A.jsx(Pe,{sx:{maxWidth:800,mx:"auto"},children:A.jsxs(Bn,{sx:{p:3},children:[A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[A.jsx(je,{variant:"h5",component:"h2",children:"Course Information Preview"}),d?A.jsxs(Pe,{sx:{display:"flex",gap:1},children:[A.jsx(kt,{startIcon:A.jsx(gk,{}),onClick:v,variant:"contained",color:"primary",children:"Save"}),A.jsx(kt,{startIcon:A.jsx(VW,{}),onClick:y,variant:"outlined",children:"Cancel"})]}):A.jsx(kt,{startIcon:A.jsx(kl,{}),onClick:b,variant:"outlined",children:"Edit Details"})]}),o&&A.jsx(br,{severity:"error",sx:{mb:3},children:o}),A.jsxs(Pt,{container:!0,spacing:3,children:[A.jsx(Pt,{item:!0,xs:12,md:6,children:A.jsx(Jt,{fullWidth:!0,label:"Course Number",value:S.suggestedNumber,onChange:P=>d&&p&&g({...p,suggestedNumber:P.target.value}),disabled:!d,variant:d?"outlined":"filled"})}),A.jsx(Pt,{item:!0,xs:12,md:6,children:A.jsx(Jt,{fullWidth:!0,label:"Course Title",value:S.suggestedTitle,onChange:P=>d&&p&&g({...p,suggestedTitle:P.target.value}),disabled:!d,variant:d?"outlined":"filled"})}),A.jsx(Pt,{item:!0,xs:12,children:A.jsx(Jt,{fullWidth:!0,multiline:!0,rows:4,label:"Course Description",value:S.suggestedDescription,onChange:P=>d&&p&&g({...p,suggestedDescription:P.target.value}),disabled:!d,variant:d?"outlined":"filled"})})]}),A.jsx(na,{sx:{my:3}}),A.jsxs(Pe,{sx:{mb:3},children:[A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[A.jsxs(je,{variant:"h6",children:["Learning Objectives (",S.objectives.length,")"]}),d&&A.jsx(Ln,{onClick:k,color:"primary",children:A.jsx(vh,{})})]}),A.jsx(Pe,{sx:{display:"flex",flexDirection:"column",gap:2},children:S.objectives.map((P,B)=>A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsxs(je,{variant:"body2",sx:{minWidth:24,color:"text.secondary"},children:[B+1,"."]}),d?A.jsxs(A.Fragment,{children:[A.jsx(Jt,{fullWidth:!0,multiline:!0,value:P,onChange:$=>C(B,$.target.value),size:"small"}),A.jsx(Ln,{onClick:()=>x(B),color:"error",size:"small",children:A.jsx(Ks,{})})]}):A.jsx(je,{variant:"body2",children:P})]},B))})]}),A.jsx(na,{sx:{my:3}}),A.jsxs(ic,{children:[A.jsx(oc,{expandIcon:A.jsx(_s,{}),children:A.jsxs(je,{variant:"h6",children:["Course Schedule (",S.schedule.length," weeks)"]})}),A.jsx(sc,{children:A.jsx(Pe,{sx:{display:"flex",flexDirection:"column",gap:2},children:S.schedule.map((P,B)=>A.jsx(Bn,{sx:{p:2,backgroundColor:"grey.50"},children:A.jsxs(Pt,{container:!0,spacing:2,alignItems:"center",children:[A.jsx(Pt,{item:!0,xs:12,sm:1,children:A.jsx(ii,{label:`W${P.week}`,size:"small",color:"primary"})}),A.jsx(Pt,{item:!0,xs:12,sm:5,children:d?A.jsx(Jt,{fullWidth:!0,size:"small",label:"Topic",value:P.topic,onChange:$=>D(B,"topic",$.target.value)}):A.jsx(je,{variant:"body2",sx:{fontWeight:500},children:P.topic})}),A.jsx(Pt,{item:!0,xs:12,sm:6,children:d?A.jsx(Jt,{fullWidth:!0,size:"small",label:"Description",value:P.description||"",onChange:$=>D(B,"description",$.target.value)}):A.jsx(je,{variant:"body2",color:"text.secondary",children:P.description||"No description"})})]})},B))})})]}),(((M=S.prerequisites)==null?void 0:M.length)||S.textbook||S.grading)&&A.jsxs(A.Fragment,{children:[A.jsx(na,{sx:{my:3}}),A.jsx(je,{variant:"h6",sx:{mb:2},children:"Additional Information"}),A.jsxs(Pt,{container:!0,spacing:2,children:[S.prerequisites&&S.prerequisites.length>0&&A.jsxs(Pt,{item:!0,xs:12,md:4,children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1},children:"Prerequisites:"}),A.jsx(je,{variant:"body2",color:"text.secondary",children:S.prerequisites.join(", ")})]}),S.textbook&&A.jsxs(Pt,{item:!0,xs:12,md:4,children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1},children:"Textbook:"}),A.jsx(je,{variant:"body2",color:"text.secondary",children:S.textbook})]}),S.grading&&A.jsxs(Pt,{item:!0,xs:12,md:4,children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1},children:"Grading:"}),A.jsx(je,{variant:"body2",color:"text.secondary",children:S.grading})]})]})]}),t&&A.jsx(Pe,{sx:{mt:4,textAlign:"right"},children:A.jsx(kt,{variant:"contained",color:"primary",size:"large",onClick:t,disabled:d,children:"Continue to Materials Preview"})})]})}):null},vre=({onContinue:t,onBack:r})=>{const{generatedMaterials:n,editMaterial:o,error:s}=tf(),[l,d]=Y.useState(null),[h,p]=Y.useState(null);if(!n.length)return A.jsx(br,{severity:"warning",children:"No materials generated. Please go back and process a syllabus first."});const g=S=>{d({index:S,material:{...n[S]}})},b=()=>{l&&(o(l.index,l.material),d(null))},v=()=>{d(null)},y=S=>{p(S)},k=S=>{const M=n[S];o(S,{published:!M.published})},x=(S,M=150)=>{const P=S.replace(/<[^>]*>/g,"");return P.length>M?P.substring(0,M)+"...":P},C=S=>S.toLowerCase().includes("overview")?A.jsx(kI,{color:"primary"}):S.toLowerCase().includes("week")?A.jsx(HW,{color:"secondary"}):A.jsx(kI,{color:"action"}),D=n.filter(S=>S.published).length;return A.jsxs(Pe,{sx:{maxWidth:1e3,mx:"auto"},children:[A.jsxs(Bn,{sx:{p:3,mb:3},children:[A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[A.jsx(je,{variant:"h5",component:"h2",children:"Generated Course Materials"}),A.jsx(ii,{label:`${D}/${n.length} will be published`,color:"primary",variant:"outlined"})]}),A.jsx(je,{variant:"body2",color:"text.secondary",children:"Review and customize the course materials generated from your syllabus. You can edit content, toggle publication status, and organize materials before creating your course."}),s&&A.jsx(br,{severity:"error",sx:{mt:2},children:s})]}),A.jsx(Pt,{container:!0,spacing:3,children:n.map((S,M)=>A.jsx(Pt,{item:!0,xs:12,md:6,lg:4,children:A.jsxs(zk,{sx:{height:"100%",display:"flex",flexDirection:"column",border:S.published?"2px solid":"1px solid",borderColor:S.published?"success.main":"divider"},children:[A.jsxs(CP,{sx:{flexGrow:1},children:[A.jsxs(Pe,{sx:{display:"flex",alignItems:"flex-start",gap:1,mb:2},children:[C(S.title),A.jsxs(Pe,{sx:{flexGrow:1},children:[A.jsx(je,{variant:"h6",component:"h3",sx:{fontSize:"1rem",lineHeight:1.3,mb:1},children:S.title}),A.jsxs(Pe,{sx:{display:"flex",gap:1,alignItems:"center"},children:[A.jsx(su,{control:A.jsx(au,{checked:S.published,onChange:()=>k(M),size:"small"}),label:A.jsx(je,{variant:"caption",children:S.published?"Publish":"Draft"}),sx:{mr:0}}),S.scheduledTimestamp&&A.jsx(ii,{label:"Scheduled",size:"small",variant:"outlined",color:"info"})]})]})]}),A.jsxs(je,{variant:"body2",color:"text.secondary",sx:{mb:2},children:[A.jsx("strong",{children:"Sections:"})," ",S.sections.length]}),S.sections[0]&&A.jsxs(Pe,{sx:{mb:2},children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1},children:S.sections[0].title}),A.jsx(je,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.85rem",fontStyle:"italic"},children:x(S.sections[0].content)})]})]}),A.jsxs($W,{children:[A.jsx(kt,{size:"small",startIcon:A.jsx(W_,{}),onClick:()=>y(S),children:"Preview"}),A.jsx(kt,{size:"small",startIcon:A.jsx(kl,{}),onClick:()=>g(M),children:"Edit"})]})]})},S.id))}),A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[r&&A.jsx(kt,{variant:"outlined",onClick:r,size:"large",children:"Back to Course Info"}),t&&A.jsxs(kt,{variant:"contained",color:"primary",onClick:t,size:"large",disabled:D===0,children:["Create Course with ",D," Materials"]})]}),A.jsxs(Qi,{open:l!==null,onClose:v,maxWidth:"md",fullWidth:!0,children:[A.jsxs(Ji,{children:["Edit Material: ",l==null?void 0:l.material.title]}),A.jsx(Zi,{children:l&&A.jsxs(Pe,{sx:{pt:1},children:[A.jsx(Jt,{fullWidth:!0,label:"Material Title",value:l.material.title,onChange:S=>d({...l,material:{...l.material,title:S.target.value}}),sx:{mb:3}}),A.jsx(je,{variant:"h6",sx:{mb:2},children:"Header"}),A.jsx(Jt,{fullWidth:!0,label:"Header Title",value:l.material.header.title,onChange:S=>d({...l,material:{...l.material,header:{...l.material.header,title:S.target.value}}}),sx:{mb:2}}),A.jsx(Jt,{fullWidth:!0,multiline:!0,rows:2,label:"Header Content",value:l.material.header.content,onChange:S=>d({...l,material:{...l.material,header:{...l.material.header,content:S.target.value}}}),sx:{mb:3}}),A.jsx(je,{variant:"h6",sx:{mb:2},children:"Sections"}),l.material.sections.map((S,M)=>A.jsxs(ic,{sx:{mb:2},children:[A.jsx(oc,{expandIcon:A.jsx(_s,{}),children:A.jsx(je,{children:S.title})}),A.jsxs(sc,{children:[A.jsx(Jt,{fullWidth:!0,label:"Section Title",value:S.title,onChange:P=>{const B=[...l.material.sections];B[M]={...B[M],title:P.target.value},d({...l,material:{...l.material,sections:B}})},sx:{mb:2}}),A.jsx(Jt,{fullWidth:!0,multiline:!0,rows:4,label:"Section Content",value:S.content,onChange:P=>{const B=[...l.material.sections];B[M]={...B[M],content:P.target.value},d({...l,material:{...l.material,sections:B}})}})]})]},S.id))]})}),A.jsxs(Xi,{children:[A.jsx(kt,{onClick:v,children:"Cancel"}),A.jsx(kt,{onClick:b,variant:"contained",children:"Save Changes"})]})]}),A.jsxs(Qi,{open:h!==null,onClose:()=>p(null),maxWidth:"md",fullWidth:!0,children:[A.jsx(Ji,{children:h==null?void 0:h.title}),A.jsx(Zi,{children:h&&A.jsxs(Pe,{sx:{pt:1},children:[A.jsxs(Bn,{sx:{p:2,mb:3,backgroundColor:"primary.50"},children:[A.jsx(je,{variant:"h6",color:"primary",children:h.header.title}),A.jsx(je,{variant:"body2",sx:{mt:1},children:h.header.content.replace(/<[^>]*>/g,"")})]}),h.sections.map(S=>A.jsxs(Pe,{sx:{mb:3},children:[A.jsx(je,{variant:"h6",sx:{mb:2},children:S.title}),A.jsx(je,{variant:"body1",sx:{mb:2},children:S.content.replace(/<[^>]*>/g,"")}),S.subsections.map(M=>A.jsxs(Pe,{sx:{ml:2,mb:2},children:[A.jsx(je,{variant:"subtitle1",sx:{mb:1},children:M.title}),A.jsx(je,{variant:"body2",color:"text.secondary",children:M.content.replace(/<[^>]*>/g,"")})]},M.id))]},S.id)),A.jsx(Bn,{sx:{p:2,backgroundColor:"grey.50"},children:A.jsx(je,{variant:"body2",color:"text.secondary",children:h.footer.content.replace(/<[^>]*>/g,"")})})]})}),A.jsx(Xi,{children:A.jsx(kt,{onClick:()=>p(null),children:"Close"})})]})]})},Are=({onConfigChange:t,compact:r=!1})=>{const{useAIProcessing:n,setUseAIProcessing:o}=tf(),[s,l]=Y.useState(null);Y.useEffect(()=>{const{config:b,isValid:v,errors:y}=$j();l({config:b,isValid:v,errors:y})},[]);const d=b=>{if(o(b),s){const v={...s.config,enableAIProcessing:b},y=Vj(v);l({config:v,...y}),t==null||t(v)}},h=()=>s?s.isValid&&n?A.jsx(G_,{color:"success"}):!s.isValid&&n?A.jsx(GW,{color:"error"}):A.jsx(wI,{color:"action"}):A.jsx(wI,{color:"action"}),p=()=>n?s?s.isValid?"AI processing ready - enhanced syllabus analysis enabled":`Configuration issues: ${s.errors.join(", ")}`:"Loading configuration...":"AI processing disabled - using pattern-based parsing",g=()=>n?s?s.isValid?"success":"error":"info":"warning";return r?A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:2},children:[h(),A.jsx(su,{control:A.jsx(au,{checked:n,onChange:b=>d(b.target.checked),size:"small"}),label:"AI Processing"}),A.jsx(ls,{title:p(),children:A.jsx(WW,{fontSize:"small",color:"action"})})]}):A.jsx(Bn,{sx:{p:2,mb:2},children:A.jsxs(ic,{children:[A.jsx(oc,{expandIcon:A.jsx(_s,{}),children:A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:[h(),A.jsxs(Pe,{sx:{flexGrow:1},children:[A.jsx(je,{variant:"subtitle1",sx:{fontWeight:500},children:"AI-Powered Processing Settings"}),A.jsx(je,{variant:"caption",color:"text.secondary",children:p()})]}),A.jsx(ii,{label:n?"Enabled":"Disabled",color:n?"success":"default",size:"small"})]})}),A.jsx(sc,{children:A.jsxs(Pt,{container:!0,spacing:3,children:[A.jsx(Pt,{item:!0,xs:12,children:A.jsx(su,{control:A.jsx(au,{checked:n,onChange:b=>d(b.target.checked)}),label:A.jsxs(Pe,{children:[A.jsx(je,{variant:"body2",sx:{fontWeight:500},children:"Enable AI-Powered Analysis"}),A.jsx(je,{variant:"caption",color:"text.secondary",children:"Use Google Gemini to extract structured information from syllabi"})]})})}),n&&A.jsx(Pt,{item:!0,xs:12,children:A.jsxs(Bn,{sx:{p:2,backgroundColor:s!=null&&s.isValid?"success.50":"error.50",border:"1px solid",borderColor:s!=null&&s.isValid?"success.200":"error.200"},children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1,color:s!=null&&s.isValid?"success.main":"error.main"},children:s!=null&&s.isValid?"âœ… API Configuration":"âŒ API Configuration"}),A.jsx(je,{variant:"body2",color:"text.secondary",children:s!=null&&s.isValid?"Gemini API key is configured and ready for use.":"Gemini API key is required. Please add VITE_GEMINI_API_KEY to your environment variables."})]})}),A.jsx(Pt,{item:!0,xs:12,children:A.jsxs(br,{severity:g(),sx:{mb:2},children:[A.jsx(je,{variant:"body2",children:p()}),(s==null?void 0:s.errors)&&s.errors.length>0&&A.jsx(Pe,{sx:{mt:1},children:s.errors.map((b,v)=>A.jsxs(je,{variant:"caption",display:"block",children:["â€¢ ",b]},v))})]})}),n&&(s==null?void 0:s.isValid)&&A.jsx(Pt,{item:!0,xs:12,children:A.jsxs(Bn,{sx:{p:2,backgroundColor:"primary.50",border:"1px solid",borderColor:"primary.200"},children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1,color:"primary.main"},children:"ðŸš€ Enhanced Features with AI:"}),A.jsxs(Pt,{container:!0,spacing:1,children:[A.jsxs(Pt,{item:!0,xs:12,sm:6,children:[A.jsx(je,{variant:"caption",display:"block",children:"âœ“ Intelligent course information extraction"}),A.jsx(je,{variant:"caption",display:"block",children:"âœ“ Automatic learning objectives identification"}),A.jsx(je,{variant:"caption",display:"block",children:"âœ“ Smart schedule parsing and organization"})]}),A.jsxs(Pt,{item:!0,xs:12,sm:6,children:[A.jsx(je,{variant:"caption",display:"block",children:"âœ“ Grading policy analysis"}),A.jsx(je,{variant:"caption",display:"block",children:"âœ“ Assignment and due date extraction"}),A.jsx(je,{variant:"caption",display:"block",children:"âœ“ Enhanced material generation"})]})]})]})}),!n&&A.jsx(Pt,{item:!0,xs:12,children:A.jsxs(Bn,{sx:{p:2,backgroundColor:"warning.50",border:"1px solid",borderColor:"warning.200"},children:[A.jsx(je,{variant:"subtitle2",sx:{mb:1,color:"warning.main"},children:"ðŸ“ Pattern-Based Processing:"}),A.jsx(je,{variant:"caption",color:"text.secondary",children:"Using traditional text parsing methods. Results may be less accurate than AI processing. Enable AI processing for better extraction accuracy."})]})})]})})]})})},Hj=({onComplete:t,onCancel:r,educatorUid:n})=>{const{currentStep:o,setCurrentStep:s,parsedCourseInfo:l,generatedMaterials:d,isProcessing:h,error:p,useAIProcessing:g,processingProgress:b,reset:v}=tf(),[y,k]=Y.useState(null);at.useEffect(()=>{const{config:F}=$j();k(F)},[]);const x=[{label:"Upload Syllabus",description:"Upload your syllabus document"},{label:"Review Course Info",description:"Verify and edit course information"},{label:"Review Materials",description:"Customize generated course materials"}],C=()=>{switch(o){case"upload":case"processing":return 0;case"review":return 1;case"editing":return 2;case"complete":return 2;default:return 0}},D=()=>{s("editing")},S=()=>{s("review")},M=()=>{if(l&&d.length>0){const F=d.filter(N=>N.published);t==null||t({courseInfo:l,materials:F})}},P=()=>{v(),r==null||r()},B=F=>{k(F)},$=()=>{switch(o){case"upload":case"processing":return A.jsx(x6,{onUploadComplete:()=>{},educatorUid:n});case"review":return A.jsx(yre,{onContinue:D});case"editing":case"complete":return A.jsx(vre,{onContinue:M,onBack:S});default:return A.jsx(x6,{onUploadComplete:()=>{},educatorUid:n})}};return A.jsxs(Pe,{sx:{width:"100%",maxWidth:1200,mx:"auto",p:3},children:[A.jsxs(Bn,{sx:{p:3,mb:4},children:[A.jsx(je,{variant:"h4",component:"h1",gutterBottom:!0,children:"Import Course from Syllabus"}),A.jsx(je,{variant:"body1",color:"text.secondary",sx:{mb:3},children:"Upload your syllabus document and we'll automatically create a course structure with organized materials based on your content."}),A.jsx(YW,{activeStep:C(),alternativeLabel:!0,children:x.map(F=>A.jsx(KW,{children:A.jsxs(QW,{children:[A.jsx(je,{variant:"body2",sx:{fontWeight:500},children:F.label}),A.jsx(je,{variant:"caption",color:"text.secondary",children:F.description})]})},F.label))})]}),o==="upload"&&A.jsx(Are,{onConfigChange:B,compact:!1}),p&&A.jsx(br,{severity:"error",sx:{mb:3},onClose:()=>{},children:p}),h&&A.jsx(br,{severity:"info",sx:{mb:3},children:A.jsx(je,{variant:"body2",children:g?"ðŸ¤– AI is analyzing your syllabus for enhanced data extraction... This usually takes 10-30 seconds.":"ðŸ”„ Processing your syllabus with pattern-based analysis... This usually takes a moment."})}),A.jsx(Pe,{sx:{minHeight:400},children:$()}),o!=="upload"&&r&&A.jsx(Pe,{sx:{display:"flex",justifyContent:"center",mt:3},children:A.jsx(kt,{variant:"outlined",color:"secondary",onClick:P,size:"small",children:"Cancel & Return to Manual Entry"})})]})},l1=t=>{if(t==null)return null;if(t instanceof Date)return t;if(Array.isArray(t))return t.map(l1).filter(r=>r!=null);if(typeof t=="object"){const r={};return Object.keys(t).forEach(n=>{const o=t[n];if(o!==void 0){const s=l1(o);s!=null&&(r[n]=s)}}),r}return t},_re=()=>{const{userDetails:t}=Pi(),r=Wr(),n=Kn(),[o,s]=Y.useState(""),[l,d]=Y.useState(""),[h,p]=Y.useState(""),[g,b]=Y.useState(""),[v,y]=Y.useState(""),[k,x]=Y.useState(""),[C,D]=Y.useState(""),[S,M]=Y.useState("primary"),[P,B]=Y.useState("manual"),{parsedCourseInfo:$,generatedMaterials:F,reset:N,currentStep:L}=tf(),[U,Q]=Y.useState(!1),[H,z]=Y.useState(!1),[G,R]=Y.useState("");Y.useEffect(()=>{(P==="manual"||S==="co-instructor")&&N()},[P,S,N]),Y.useEffect(()=>{S==="primary"&&P==="syllabus"&&$&&(y($.suggestedNumber||""),x($.suggestedTitle||""),D($.suggestedDescription||""))},[S,P,$]);const ne=le=>ae=>{le(ae.target.value)},ue=le=>{const ae=le.target.value;M(ae),ae==="co-instructor"&&(B("manual"),y(""),x(""),D(""))},ie=(le,ae)=>{ae!==null&&(B(ae),ae==="syllabus"&&(y(""),x(""),D("")))},oe=()=>{if(!o||!l||!h||!g||!v||!k)return"Please fill in all required fields.";if(S==="primary"){if(P==="manual"&&!C)return"Please provide a course description.";if(P==="syllabus"){if(!$)return"Please complete the syllabus import process first.";if(!C)return"Please ensure course description is properly filled from your syllabus."}}return null},ye=le=>{console.log("Syllabus import completed for educator request:",le)},re=async()=>{const le=oe();if(le){R(le),z(!0);return}Q(!0);try{const ae={uid:(t==null?void 0:t.uid)||"",firstName:o||"",lastName:l||"",institution:h||"",email:g||"",courseNumber:v||"",courseTitle:k||"",courseDescription:S==="primary"?C||"":"CO-INSTRUCTOR REQUEST",requestType:S||"primary",status:"pending",timestamp:new Date,syllabusImported:!1};if(S==="primary"&&P==="syllabus"&&$&&F.length>0){const Ye={parsedCourseInfo:$,generatedMaterials:F.filter(Je=>Je.published)},We=l1(Ye);ae.syllabusImported=!0,ae.syllabusData=We}const Se=l1(ae);console.log("Submitting clean educator request document:",Se);const xe=await la(Zn(n,"educatorRequests"),Se),Te={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Educator Request Submitted${S==="primary"&&P==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new educator request has been submitted:</p>
            <p><strong>Name:</strong> ${o} ${l}</p>
            <p><strong>Email:</strong> ${g}</p>
            <p><strong>Institution:</strong> ${h}</p>
            <p><strong>Course:</strong> ${v} - ${k}</p>
            <p><strong>Request Type:</strong> ${S}</p>
            ${S==="primary"?`<p><strong>Course Creation Method:</strong> ${P==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>`:""}
            ${S==="primary"&&P==="syllabus"&&F.length>0?`<p><strong>Generated Materials:</strong> ${F.filter(Ye=>Ye.published).length} materials ready for publication</p>`:""}
            <p><strong>Description:</strong> ${C}</p>
            <p><strong>Request ID:</strong> ${xe.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/educator-requests">
            Click here to review the request.
            </a></p>
          `}};await la(Zn(n,"mail"),Te),R(S==="primary"&&P==="syllabus"&&F.length>0?`Your educator request has been submitted for review with ${F.filter(Ye=>Ye.published).length} auto-generated course materials.`:"Your request has been submitted for review."),s(""),d(""),p(""),b(""),y(""),x(""),D(""),M("primary"),B("manual"),P==="syllabus"&&N(),z(!0),setTimeout(()=>{r("/my-profile")},3e3)}catch(ae){console.error("Error submitting request: ",ae),ae instanceof Error&&console.error("Error details:",{message:ae.message,name:ae.name,stack:ae.stack}),R("Error submitting your request. Please try again."),z(!0)}finally{Q(!1)}},Ce=()=>{z(!1)},X=()=>{r("/my-profile")},J=S==="primary"&&P==="syllabus"&&L!=="upload"&&!$,fe=S==="primary"&&P==="syllabus"&&(L==="review"||L==="editing"||L==="complete")&&$;return A.jsxs(Pe,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:[A.jsx(Pe,{sx:{display:"flex",alignItems:"center",mb:3},children:A.jsx(kt,{variant:"text",onClick:X,className:"back-home-button",children:"â† My Account"})}),A.jsxs(Pe,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[A.jsx(je,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Educator Permissions"}),A.jsxs(Pt,{item:!0,xs:12,sx:{mb:3},children:[A.jsx(fl,{htmlFor:"request-type",required:!0,children:"Request Type"}),A.jsxs(vc,{id:"request-type",name:"request-type",value:S,onChange:ue,fullWidth:!0,required:!0,disabled:U,sx:{mt:1},children:[A.jsx(Nr,{value:"primary",children:"I am a primary course instructor, I want to create a new course"}),A.jsx(Nr,{value:"co-instructor",children:"I am a co-instructor, I want to be added to an existing course"})]})]}),A.jsx(je,{variant:"h6",component:"h2",sx:{mb:2},children:"Personal Information"}),A.jsxs(Pt,{container:!0,spacing:3,children:[A.jsxs(Pt,{item:!0,xs:12,md:6,children:[A.jsx(fl,{htmlFor:"first-name",required:!0,children:"First Name"}),A.jsx(ec,{id:"first-name",name:"first-name",value:o,onChange:ne(s),placeholder:"John",fullWidth:!0,required:!0,disabled:U})]}),A.jsxs(Pt,{item:!0,xs:12,md:6,children:[A.jsx(fl,{htmlFor:"last-name",required:!0,children:"Last Name"}),A.jsx(ec,{id:"last-name",name:"last-name",value:l,onChange:ne(d),placeholder:"Doe",fullWidth:!0,required:!0,disabled:U})]}),A.jsxs(Pt,{item:!0,xs:12,children:[A.jsx(fl,{htmlFor:"institution",required:!0,children:"Institution Affiliation"}),A.jsx(ec,{id:"institution",name:"institution",value:h,onChange:ne(p),placeholder:"University Name",fullWidth:!0,required:!0,disabled:U})]}),A.jsxs(Pt,{item:!0,xs:12,children:[A.jsx(fl,{htmlFor:"email",required:!0,children:"Institutional Email"}),A.jsx(ec,{id:"email",name:"email",value:g,onChange:ne(b),placeholder:"name@institution.edu",fullWidth:!0,required:!0,disabled:U}),A.jsx(je,{variant:"caption",sx:{mt:1},children:"Please use your institutional email to confirm your affiliation."})]})]}),A.jsx(na,{sx:{my:4}}),A.jsx(je,{variant:"h6",component:"h2",sx:{mb:2},children:S==="primary"?"New Course Details":"Existing Course Details"}),S==="primary"&&A.jsxs(Bn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[A.jsx(je,{variant:"subtitle1",sx:{mb:2},children:"How would you like to create your course?"}),A.jsxs(H_,{value:P,exclusive:!0,onChange:ie,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[A.jsxs(Dp,{value:"manual","aria-label":"manual entry",children:[A.jsx(kl,{sx:{mr:1}}),"Manual Entry"]}),A.jsxs(Dp,{value:"syllabus","aria-label":"syllabus import",children:[A.jsx(NP,{sx:{mr:1}}),"Import from Syllabus"]})]}),A.jsx(je,{variant:"body2",color:"text.secondary",children:P==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),S==="primary"&&P==="syllabus"&&A.jsx(Pe,{sx:{mb:4},children:A.jsx(Hj,{onComplete:ye,onCancel:()=>B("manual")})}),(S==="co-instructor"||S==="primary"&&P==="manual")&&A.jsxs(Pt,{container:!0,spacing:3,sx:{mb:4},children:[A.jsxs(Pt,{item:!0,xs:12,md:6,children:[A.jsx(fl,{htmlFor:"course-number",required:!0,children:"Course Number"}),A.jsx(ec,{id:"course-number",name:"course-number",value:v,onChange:ne(y),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:U})]}),A.jsxs(Pt,{item:!0,xs:12,md:6,children:[A.jsx(fl,{htmlFor:"course-title",required:!0,children:"Course Title"}),A.jsx(ec,{id:"course-title",name:"course-title",value:k,onChange:ne(x),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:U})]}),S==="primary"&&A.jsxs(Pt,{item:!0,xs:12,children:[A.jsx(fl,{htmlFor:"course-description",required:!0,children:"Course Description"}),A.jsx(ec,{id:"course-description",name:"course-description",value:C,onChange:ne(D),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:U})]})]}),(S==="co-instructor"||S==="primary"&&P==="manual"||fe)&&A.jsxs(Pe,{sx:{mt:4},children:[A.jsx(kt,{variant:"contained",color:"primary",onClick:re,fullWidth:!0,className:"submit-button",sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},disabled:U||J,children:U?A.jsxs(A.Fragment,{children:[A.jsx(Rr,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${S==="primary"&&P==="syllabus"&&F.length>0?` with ${F.filter(le=>le.published).length} Materials`:""}`}),A.jsxs(je,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",A.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),A.jsxs(Qi,{open:H,onClose:Ce,children:[A.jsx(Ji,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:A.jsx(G_,{sx:{color:"green",fontSize:50,marginRight:1}})}),A.jsx(Zi,{children:A.jsx(Ts,{sx:{textAlign:"center"},children:G})}),A.jsx(Xi,{children:A.jsx(kt,{onClick:Ce,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},Cre=()=>{const[t,r]=Y.useState([]),[n,o]=Y.useState([]),[s,l]=Y.useState(""),[d,h]=Y.useState(!1),[p,g]=Y.useState(""),[b,v]=Y.useState("success"),[y,k]=Y.useState(!1),[x,C]=Y.useState(null),[D,S]=Y.useState(null),[M,P]=Y.useState(null),B=Kn(),$=Wr();Y.useEffect(()=>{(async()=>{const ne=(await So(Zn(B,"educatorRequests"))).docs.map(oe=>({id:oe.id,...oe.data()})),ie=(await So(Zn(B,"courses"))).docs.map(oe=>({id:oe.id,...oe.data()}));r(ne),o(ie)})()},[B]);function F(){const G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let R="";for(let ne=0;ne<28;ne++)R+=G.charAt(Math.floor(Math.random()*G.length));return R}const N=async()=>{var G,R;if(!(!D||!M)){if(!M.courseNumber||!M.courseTitle){g("Course number or title is missing. Cannot approve request."),v("error"),h(!0);return}if(M.requestType==="co-instructor"&&!s){g("Please select a course for the co-instructor request."),v("error"),h(!0);return}if(M.status!=="pending"){g("This request has already been processed."),v("warning"),h(!0);return}try{const ne=mn(B,"users",M.uid);if(M.requestType==="primary"){const ue=F(),ie=await la(Zn(B,"courses"),{number:M.courseNumber,title:M.courseTitle,passcode:ue,courseAdmin:[M.uid]}),oe=await Wo(ne),ye=oe.exists()?((G=oe.data())==null?void 0:G.classes)||{}:{};await _r(ne,{isAdmin:!0,classes:{...ye,[ie.id]:{number:M.courseNumber,title:M.courseTitle,isCourseAdmin:!0}}}),await _r(mn(B,"educatorRequests",D),{status:"approved",courseId:ie.id,passcode:ue})}else if(M.requestType==="co-instructor"){if(!s){g("Please select a course for the co-instructor request."),v("error"),h(!0);return}const ue=mn(B,"courses",s);await _r(ue,{courseAdmin:_G(M.uid)});const ie=await Wo(ne),oe=ie.exists()?((R=ie.data())==null?void 0:R.classes)||{}:{};await _r(ne,{isAdmin:!0,classes:{...oe,[s]:{number:M.courseNumber,title:M.courseTitle,isCourseAdmin:!0}}}),await _r(mn(B,"educatorRequests",D),{status:"approved",courseId:s})}g("Request approved, and user promoted to educator."),v("success"),r(ue=>ue.map(ie=>ie.id===D?{...ie,status:"approved"}:ie))}catch(ne){console.error("Error approving request: ",ne),g("Error approving the request. Please try again."),v("error")}h(!0),Q()}},L=async()=>{if(D){try{await _r(mn(B,"educatorRequests",D),{status:"denied"}),g("Request denied."),v("success"),r(t.map(G=>G.id===D?{...G,status:"denied"}:G))}catch(G){console.error("Error denying request: ",G),g("Error denying the request. Please try again."),v("error")}h(!0),Q()}},U=(G,R,ne)=>{C(G),S(R),P(ne),l(""),k(!0)},Q=()=>{k(!1),C(null),S(null),P(null)},H=()=>{h(!1)},z=()=>{$("/")};return A.jsxs(Pe,{sx:{padding:3},children:[A.jsx(Pe,{sx:{display:"flex",alignItems:"center"},children:A.jsx(kt,{variant:"text",onClick:z,sx:{mr:2},children:"â† Home Page"})}),A.jsx(je,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Educator Permission Requests"}),A.jsx(vd,{component:Bn,children:A.jsxs(Ad,{children:[A.jsx(_d,{children:A.jsxs(xo,{children:[A.jsx(It,{children:"Name"}),A.jsx(It,{children:"User ID"}),A.jsx(It,{children:"Institution"}),A.jsx(It,{children:"Email"}),A.jsx(It,{children:"Course Number"}),A.jsx(It,{children:"Course Title"}),A.jsx(It,{children:"Course Description"}),A.jsx(It,{children:"Timestamp"}),A.jsx(It,{children:"Actions"})]})}),A.jsx(Cd,{children:t.map(G=>A.jsxs(xo,{children:[A.jsx(It,{children:`${G.firstName} ${G.lastName}`}),A.jsx(It,{children:G.uid}),A.jsx(It,{children:G.institution}),A.jsx(It,{children:G.email}),A.jsx(It,{children:G.courseNumber}),A.jsx(It,{children:G.courseTitle}),A.jsx(It,{children:G.courseDescription}),A.jsx(It,{children:new Date(G.timestamp.seconds*1e3).toLocaleString()}),A.jsxs(It,{children:[G.status==="pending"&&A.jsxs(A.Fragment,{children:[A.jsx(kt,{variant:"contained",color:"primary",sx:{mr:1},onClick:()=>U("approve",G.id,G),children:"Approve"}),A.jsx(kt,{variant:"contained",color:"secondary",onClick:()=>U("deny",G.id,G),children:"Deny"})]}),G.status==="approved"&&A.jsx(je,{color:"success.main",children:"Approved"}),G.status==="denied"&&A.jsx(je,{color:"error.main",children:"Denied"})]})]},G.id))})]})}),A.jsx(cs,{open:d,autoHideDuration:6e3,onClose:H,children:A.jsx(br,{onClose:H,severity:b,sx:{width:"100%"},children:p})}),A.jsxs(Qi,{open:y,onClose:Q,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[A.jsx(Ji,{id:"confirmation-dialog-title",children:x==="approve"?"Confirm Approval":"Confirm Denial"}),A.jsxs(Zi,{children:[A.jsxs(Ts,{id:"confirmation-dialog-description",children:["Are you sure you want to ",x," this request for ",M==null?void 0:M.firstName," ",M==null?void 0:M.lastName,"?"]}),x==="approve"&&(M==null?void 0:M.requestType)==="co-instructor"&&A.jsxs(Pe,{sx:{mt:2},children:[A.jsx(je,{children:"Select Course:"}),A.jsx(vc,{fullWidth:!0,value:s,onChange:G=>l(G.target.value),children:n.map(G=>A.jsx(Nr,{value:G.id,children:`${G.number} - ${G.title}`},G.id))})]})]}),A.jsxs(Xi,{children:[A.jsx(kt,{onClick:Q,color:"primary",children:"Cancel"}),A.jsx(kt,{onClick:x==="approve"?N:L,color:"primary",variant:"contained",autoFocus:!0,disabled:(M==null?void 0:M.requestType)==="co-instructor"&&!s,children:"Confirm"})]})]})]})},c1=t=>{if(t==null)return null;if(t instanceof Date)return t;if(Array.isArray(t))return t.map(c1).filter(r=>r!=null);if(typeof t=="object"){const r={};return Object.keys(t).forEach(n=>{const o=t[n];if(o!==void 0){const s=c1(o);s!=null&&(r[n]=s)}}),r}return t},xre=()=>{const{userDetails:t}=Pi(),r=Wr(),n=Kn(),[o,s]=Y.useState("manual"),[l,d]=Y.useState(""),[h,p]=Y.useState(""),[g,b]=Y.useState(""),{parsedCourseInfo:v,generatedMaterials:y,aiExtractedInfo:k,storedSyllabusFile:x,reset:C,currentStep:D}=tf(),[S,M]=Y.useState(!1),[P,B]=Y.useState(!1),[$,F]=Y.useState("");Y.useEffect(()=>{o==="manual"&&C()},[o,C]),Y.useEffect(()=>{o==="syllabus"&&v&&(d(v.suggestedNumber||""),p(v.suggestedTitle||""),b(v.suggestedDescription||""))},[o,v]);const N=ue=>ie=>{ue(ie.target.value)},L=(ue,ie)=>{ie!==null&&(s(ie),ie==="syllabus"&&(d(""),p(""),b("")))},U=()=>{if(o==="manual"){if(!l||!h||!g)return"Please fill in all required fields."}else if(o==="syllabus"){if(!v)return"Please complete the syllabus import process first.";if(!l||!h||!g)return"Please ensure course information is properly filled from your syllabus."}return null},Q=ue=>{console.log("Syllabus import completed:",ue),H()},H=async()=>{const ue=U();if(ue){F(ue),B(!0);return}M(!0);try{const ie={uid:(t==null?void 0:t.uid)||"",courseNumber:l||"",courseTitle:h||"",courseDescription:g||"",status:"pending",timestamp:new Date,syllabusImported:!1};if(o==="syllabus"&&v&&y.length>0){const Ce={parsedCourseInfo:v,generatedMaterials:y.filter(J=>J.published),additionalInfo:k?{contactInfo:k.contactInfo,policies:k.policies,additionalResources:k.additionalResources,labSpecific:k.labSpecific,textbooks:k.textbooks,gradingPolicy:k.gradingPolicy,assignments:k.assignments,prerequisites:k.prerequisites}:null,syllabusFile:x?{url:x.url,path:x.path,metadata:x.metadata}:null},X=c1(Ce);ie.syllabusImported=!0,ie.syllabusData=X}const oe=c1(ie);console.log("Submitting clean request document:",oe);const ye=await la(Zn(n,"courseRequests"),oe),re={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:`New Course Request Submitted${o==="syllabus"?" (With Syllabus Import)":""}`,html:`
            <p>A new course request has been submitted:</p>
            <p><strong>Educator ID:</strong> ${(t==null?void 0:t.uid)||"Unknown"}</p>
            <p><strong>Course:</strong> ${l} - ${h}</p>
            <p><strong>Description:</strong> ${g}</p>
            <p><strong>Creation Method:</strong> ${o==="syllabus"?"Imported from Syllabus":"Manual Entry"}</p>
            ${o==="syllabus"&&y.length>0?`<p><strong>Generated Materials:</strong> ${y.filter(Ce=>Ce.published).length} materials ready for publication</p>`:""}
            <p><strong>Request ID:</strong> ${ye.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/course-requests">
            Click here to review the request.
            </a></p>
          `}};await la(Zn(n,"mail"),re),F(o==="syllabus"?`Your course request has been submitted for review with ${y.filter(Ce=>Ce.published).length} auto-generated materials.`:"Your course request has been submitted for review."),d(""),p(""),b(""),o==="syllabus"&&C(),B(!0),setTimeout(()=>{r("/course-management")},3e3)}catch(ie){console.error("Error submitting course request: ",ie),ie instanceof Error&&console.error("Error details:",{message:ie.message,name:ie.name,stack:ie.stack}),F("Error submitting your course request. Please try again."),B(!0)}finally{M(!1)}},z=()=>{B(!1)},G=()=>{r("/course-management")},R=o==="syllabus"&&D!=="upload"&&!v,ne=o==="syllabus"&&(D==="review"||D==="editing"||D==="complete")&&v;return A.jsxs(Pe,{className:"request-form-container",sx:{padding:3,maxWidth:"1400px",mx:"auto"},children:[A.jsx(Pe,{sx:{display:"flex",alignItems:"center",mb:3},children:A.jsx(kt,{variant:"text",onClick:G,className:"back-home-button",children:"â† Course Management"})}),A.jsxs(Pe,{className:"request-form-outline",sx:{backgroundColor:"#f8f9fa",borderRadius:2,p:4,border:"1px solid #e3f2fd",minWidth:"100%"},children:[A.jsx(je,{variant:"h5",component:"h1",className:"request-form-title",sx:{mb:3},children:"Request Creating a New Course"}),A.jsxs(Bn,{sx:{p:3,mb:4,backgroundColor:"grey.50"},children:[A.jsx(je,{variant:"h6",sx:{mb:2},children:"How would you like to create your course?"}),A.jsxs(H_,{value:o,exclusive:!0,onChange:L,"aria-label":"course creation mode",fullWidth:!0,sx:{mb:2},children:[A.jsxs(Dp,{value:"manual","aria-label":"manual entry",children:[A.jsx(kl,{sx:{mr:1}}),"Manual Entry"]}),A.jsxs(Dp,{value:"syllabus","aria-label":"syllabus import",children:[A.jsx(NP,{sx:{mr:1}}),"Import from Syllabus"]})]}),A.jsx(je,{variant:"body2",color:"text.secondary",children:o==="manual"?"Fill out the course information manually using the form below.":"Upload your syllabus document and we'll automatically extract course information and generate materials."})]}),o==="syllabus"&&A.jsx(Pe,{sx:{mb:4},children:A.jsx(Hj,{onComplete:Q,onCancel:()=>s("manual"),educatorUid:t==null?void 0:t.uid})}),o==="manual"&&A.jsxs(Pt,{container:!0,spacing:3,children:[A.jsxs(Pt,{item:!0,xs:12,md:6,children:[A.jsx(fl,{htmlFor:"course-number",required:!0,children:"Course Number"}),A.jsx(ec,{id:"course-number",name:"course-number",value:l,onChange:N(d),placeholder:"e.g., BIOL301",fullWidth:!0,required:!0,disabled:S})]}),A.jsxs(Pt,{item:!0,xs:12,md:6,children:[A.jsx(fl,{htmlFor:"course-title",required:!0,children:"Course Title"}),A.jsx(ec,{id:"course-title",name:"course-title",value:h,onChange:N(p),placeholder:"e.g., Biotech Research Methods",fullWidth:!0,required:!0,disabled:S})]}),A.jsxs(Pt,{item:!0,xs:12,children:[A.jsx(fl,{htmlFor:"course-description",required:!0,children:"Course Description"}),A.jsx(ec,{id:"course-description",name:"course-description",value:g,onChange:N(b),placeholder:"e.g., A comprehensive course covering advanced methods and tools in modern biotech labs, focusing on CRISPR, NGS, and bioinformatics.",fullWidth:!0,multiline:!0,rows:4,required:!0,disabled:S})]})]}),(o==="manual"||ne)&&A.jsxs(Pe,{sx:{mt:4},children:[A.jsx(kt,{variant:"contained",color:"primary",onClick:H,fullWidth:!0,className:"submit-button",disabled:S||R,sx:{py:1.5,fontWeight:"bold",fontSize:"16px",textTransform:"uppercase"},children:S?A.jsxs(A.Fragment,{children:[A.jsx(Rr,{size:24,color:"inherit",sx:{mr:1}}),"Submitting Request..."]}):`Submit Request${o==="syllabus"&&y.length>0?` with ${y.filter(ue=>ue.published).length} Materials`:""}`}),A.jsxs(je,{variant:"body2",sx:{mt:2,textAlign:"center"},children:["For any questions, please contact ",A.jsx("a",{href:"mailto:andriy@intofuture.org",children:"andriy@intofuture.org"}),"."]})]}),A.jsxs(Qi,{open:P,onClose:z,children:[A.jsx(Ji,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:A.jsx(G_,{sx:{color:"green",fontSize:50,marginRight:1}})}),A.jsx(Zi,{children:A.jsx(Ts,{sx:{textAlign:"center"},children:$})}),A.jsx(Xi,{children:A.jsx(kt,{onClick:z,color:"primary",autoFocus:!0,children:"Close"})})]})]})]})},Sre=()=>{var U,Q,H,z;const[t,r]=Y.useState([]),[n,o]=Y.useState(!1),[s,l]=Y.useState(""),[d,h]=Y.useState("success"),[p,g]=Y.useState(!1),[b,v]=Y.useState(null),[y,k]=Y.useState(null),[x,C]=Y.useState(null),D=Kn(),S=Wr();Y.useEffect(()=>{(async()=>{try{const ne=(await So(Zn(D,"courseRequests"))).docs.map(ue=>({id:ue.id,...ue.data()}));ne.sort((ue,ie)=>ue.status==="pending"&&ie.status!=="pending"||ue.status==="approved"&&ie.status==="denied"?-1:ue.status==="denied"&&ie.status==="approved"?1:0),r(ne)}catch(R){console.error("Error fetching course requests: ",R)}})()},[D]);function M(){const G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let R="";for(let ne=0;ne<28;ne++)R+=G.charAt(Math.floor(Math.random()*G.length));return R}const P=async()=>{var G,R,ne,ue;if(!(!y||!x)){try{const ie=M(),oe={number:x.courseNumber,title:x.courseTitle,description:x.courseDescription,passcode:ie,courseAdmin:[x.uid],createdAt:new Date};if(x.syllabusImported&&((G=x.syllabusData)!=null&&G.additionalInfo)){const le=x.syllabusData.additionalInfo;oe.additionalInfo={contactInfo:le.contactInfo||{},policies:le.policies||{},additionalResources:le.additionalResources||{},labSpecific:le.labSpecific||{},textbooks:le.textbooks||[],gradingPolicy:le.gradingPolicy||[],assignments:le.assignments||[],prerequisites:le.prerequisites||[],lastUpdated:new Date}}x.syllabusImported&&((R=x.syllabusData)!=null&&R.syllabusFile)&&(oe.syllabusFile=x.syllabusData.syllabusFile);const ye=await la(Zn(D,"courses"),oe),re=mn(D,"users",x.uid),Ce=await Wo(re),X=Ce.exists()?((ne=Ce.data())==null?void 0:ne.classes)||{}:{};await _r(re,{classes:{...X,[ye.id]:{number:x.courseNumber,title:x.courseTitle,isCourseAdmin:!0}}});let J=0;if(x.syllabusImported&&((ue=x.syllabusData)!=null&&ue.generatedMaterials)){const le=Q_(D);x.syllabusData.generatedMaterials.forEach(ae=>{const Se=mn(Zn(D,"materials")),xe={title:ae.title||"Untitled Material",header:ae.header||{title:"",content:""},footer:ae.footer||{title:"",content:""},sections:(ae.sections||[]).map(Te=>({...Te,images:Te.images||[],links:Te.links||[],subsections:(Te.subsections||[]).map(Ye=>({...Ye,images:Ye.images||[],links:Ye.links||[],subSubsections:(Ye.subSubsections||[]).map(We=>({...We,images:We.images||[],links:We.links||[]}))}))})),published:!0,course:ye.id,author:x.uid,timestamp:hp.now(),createdAt:new Date,updatedAt:new Date};ae.scheduledTimestamp&&(xe.scheduledTimestamp=hp.fromDate(ae.scheduledTimestamp)),le.set(Se,xe),J++}),await le.commit(),console.log(`Created ${J} materials from syllabus`)}await _r(mn(D,"courseRequests",y),{status:"approved",courseId:ye.id,passcode:ie});const fe={to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"Your Course Request Has Been Approved",html:`
            <p>Your course request has been approved:</p>
            <p><strong>Course:</strong> ${x.courseNumber} - ${x.courseTitle}</p>
            <p><strong>Passcode:</strong> ${ie}</p>
            ${x.syllabusImported&&J>0?`<p><strong>Materials Created:</strong> ${J} materials have been automatically added to your course from your syllabus import.</p>`:""}
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/supplemental-materials">
            Click here to view your course.
            </a></p>
          `}};await la(Zn(D,"mail"),fe),l(`Course request approved, course added${J>0?` with ${J} materials`:""}.`),h("success"),r(le=>le.map(ae=>ae.id===y?{...ae,status:"approved"}:ae))}catch(ie){console.error("Error approving request: ",ie),l("Error approving the request. Please try again."),h("error")}o(!0),F()}},B=async()=>{if(y){try{await _r(mn(D,"courseRequests",y),{status:"denied"}),l("Course request denied."),h("success"),r(t.map(G=>G.id===y?{...G,status:"denied"}:G))}catch(G){console.error("Error denying request: ",G),l("Error denying the request. Please try again."),h("error")}o(!0),F()}},$=(G,R,ne)=>{v(G),k(R),C(ne),g(!0)},F=()=>{g(!1),v(null),k(null),C(null)},N=()=>{o(!1)},L=()=>{S("/")};return A.jsxs(Pe,{sx:{padding:3},children:[A.jsx(Pe,{sx:{display:"flex",alignItems:"center"},children:A.jsx(kt,{variant:"text",onClick:L,sx:{mr:2},children:"â† Home Page"})}),A.jsx(je,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:3},children:"Course Creation Requests"}),A.jsx(vd,{component:Bn,children:A.jsxs(Ad,{children:[A.jsx(_d,{children:A.jsxs(xo,{children:[A.jsx(It,{children:"Educator ID"}),A.jsx(It,{children:"Course Number"}),A.jsx(It,{children:"Course Title"}),A.jsx(It,{children:"Course Description"}),A.jsx(It,{children:"Creation Method"}),A.jsx(It,{children:"Timestamp"}),A.jsx(It,{children:"Actions"})]})}),A.jsx(Cd,{children:t.map(G=>{var R,ne,ue,ie,oe;return A.jsxs(xo,{children:[A.jsx(It,{children:G.uid}),A.jsx(It,{children:G.courseNumber}),A.jsx(It,{children:G.courseTitle}),A.jsx(It,{children:G.courseDescription.length>100?`${G.courseDescription.substring(0,100)}...`:G.courseDescription}),A.jsx(It,{children:G.syllabusImported?A.jsxs(Pe,{children:[A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1,mb:.5},children:[A.jsx(je,{variant:"body2",color:"primary",sx:{fontWeight:"bold"},children:"Syllabus Import"}),((R=G.syllabusData)==null?void 0:R.syllabusFile)&&A.jsx(ls,{title:`Download: ${G.syllabusData.syllabusFile.metadata.originalFilename}`,children:A.jsx(Ln,{size:"small",onClick:()=>window.open(G.syllabusData.syllabusFile.url,"_blank"),sx:{color:"primary.main"},children:A.jsx(Vk,{fontSize:"small"})})})]}),A.jsxs(je,{variant:"caption",color:"text.secondary",children:[((ue=(ne=G.syllabusData)==null?void 0:ne.generatedMaterials)==null?void 0:ue.length)||0," materials"]}),((ie=G.syllabusData)==null?void 0:ie.syllabusFile)&&A.jsx(je,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:G.syllabusData.syllabusFile.metadata.originalFilename})]}):A.jsx(je,{variant:"body2",color:"text.secondary",children:"Manual Entry"})}),A.jsx(It,{children:(oe=G.timestamp)!=null&&oe.seconds?new Date(G.timestamp.seconds*1e3).toLocaleString():"Invalid Date"}),A.jsxs(It,{children:[G.status==="pending"&&A.jsxs(A.Fragment,{children:[A.jsx(kt,{variant:"contained",color:"success",size:"small",onClick:()=>$("approve",G.id,G),sx:{mr:1},children:"Approve"}),A.jsx(kt,{variant:"outlined",color:"error",size:"small",onClick:()=>$("deny",G.id,G),children:"Deny"})]}),G.status==="approved"&&A.jsx(je,{variant:"body2",color:"success.main",sx:{fontWeight:"bold"},children:"Approved"}),G.status==="denied"&&A.jsx(je,{variant:"body2",color:"error.main",sx:{fontWeight:"bold"},children:"Denied"})]})]},G.id)})})]})}),A.jsxs(Qi,{open:p,onClose:F,children:[A.jsx(Ji,{children:b==="approve"?"Approve Course Request":"Deny Course Request"}),A.jsx(Zi,{children:A.jsx(Ts,{children:b==="approve"?A.jsxs(A.Fragment,{children:["Are you sure you want to approve this course request?",(x==null?void 0:x.syllabusImported)&&A.jsxs(Pe,{sx:{mt:2,p:2,backgroundColor:"#ECF4FE",borderRadius:1},children:[A.jsx(je,{variant:"body2",sx:{fontWeight:"bold"},children:"ðŸ“š Syllabus Import Detected"}),A.jsxs(je,{variant:"body2",children:["This request includes ",((Q=(U=x==null?void 0:x.syllabusData)==null?void 0:U.generatedMaterials)==null?void 0:Q.length)||0," auto-generated materials that will be added to the course."]}),((H=x==null?void 0:x.syllabusData)==null?void 0:H.syllabusFile)&&A.jsxs(Pe,{sx:{mt:1},children:[A.jsxs(je,{variant:"body2",sx:{mb:1},children:[A.jsx("strong",{children:"Syllabus File:"})," ",x.syllabusData.syllabusFile.metadata.originalFilename," ","(",(x.syllabusData.syllabusFile.metadata.fileSize/1024/1024).toFixed(2)," MB)"]}),A.jsx(kt,{size:"small",variant:"outlined",startIcon:A.jsx(Og,{}),onClick:()=>window.open(x.syllabusData.syllabusFile.url,"_blank"),sx:{mt:.5},children:"View/Download Syllabus"})]}),((z=x==null?void 0:x.syllabusData)==null?void 0:z.additionalInfo)&&A.jsxs(je,{variant:"body2",sx:{mt:1},children:[A.jsx("strong",{children:"Additional Info:"})," Contact info, policies, textbooks, and other course details extracted"]})]})]}):"Are you sure you want to deny this course request?"})}),A.jsxs(Xi,{children:[A.jsx(kt,{onClick:F,color:"primary",children:"Cancel"}),A.jsx(kt,{onClick:b==="approve"?P:B,color:b==="approve"?"success":"error",variant:"contained",children:b==="approve"?"Approve":"Deny"})]})]}),A.jsx(cs,{open:n,autoHideDuration:6e3,onClose:N,children:A.jsx(br,{onClose:N,severity:d,sx:{width:"100%"},children:s})})]})},Ere=()=>{const t=Kn(),{userDetails:r}=Pi(),[n,o]=Y.useState([]),[s,l]=Y.useState(!0),[d,h]=Y.useState(!1),[p,g]=Y.useState(""),[b,v]=Y.useState("info"),[y,k]=Y.useState(!1),[x,C]=Y.useState(""),[D,S]=Y.useState(""),M=Wr();Y.useEffect(()=>{(async()=>{l(!0);try{const z=(await So(Zn(t,"courses"))).docs.map(G=>{const R=G.data();return{id:G.id,title:R.title||"Untitled",number:R.number||"N/A",courseAdmin:R.courseAdmin||[]}});o(z)}catch(H){console.error("Error fetching courses: ",H)}finally{l(!1)}})()},[t]);const P=async Q=>{if(!r){F("User details are not available.","error");return}const H=n.find(z=>z.id===Q);if(H&&r)try{if(H.courseAdmin.includes(r.uid)){F("You are already an admin for this course.","warning");return}const z=mn(t,"courses",Q),G=[...H.courseAdmin,r.uid];await _r(z,{courseAdmin:G});const R=mn(t,"users",r.uid);await _r(R,{[`classes.${Q}`]:{number:H.number,title:H.title,isCourseAdmin:!0}}),o(n.map(ne=>ne.id===Q?{...ne,courseAdmin:G}:ne)),F("You have been successfully added as an admin to this course.","success")}catch(z){console.error("Error adding super-admin to course: ",z),F("Failed to add admin to course.","error")}},B=Q=>{S(Q),k(!0)},$=async()=>{if(r&&x===r.uid){const Q=n.find(H=>H.id===D);if(Q&&Q.courseAdmin.includes(r.uid))try{await Jg(mn(t,"courses",D));const H=await So(Zn(t,"users")),z=Q_(t);H.forEach(G=>{const R=mn(t,"users",G.id),ue={...G.data().classes};delete ue[D],z.update(R,{classes:ue})}),await z.commit(),o(n.filter(G=>G.id!==D)),F("Course deleted successfully.","success")}catch(H){console.error("Error deleting course: ",H),F("Failed to delete course.","error")}finally{k(!1),C("")}else F("You are not authorized to delete this course.","warning"),k(!1)}else F("User ID does not match. Please try again.","error")},F=(Q,H)=>{g(Q),v(H),h(!0)},N=(Q,H)=>{H!=="clickaway"&&h(!1)},L=()=>{k(!1),C("")},U=()=>{M("/")};return A.jsxs(Pe,{sx:{p:3},children:[A.jsx(Pe,{sx:{display:"flex",alignItems:"center",mb:2},children:A.jsx(kt,{variant:"text",onClick:U,sx:{mr:2},children:"â† Home Page"})}),A.jsx(je,{variant:"h4",gutterBottom:!0,children:"Super Admin Course Management"}),s?A.jsx(je,{children:"Loading courses..."}):A.jsx(vd,{component:Bn,children:A.jsxs(Ad,{"aria-label":"courses table",children:[A.jsx(_d,{children:A.jsxs(xo,{children:[A.jsx(It,{sx:{fontWeight:"bold"},children:"Course ID"}),A.jsx(It,{sx:{fontWeight:"bold"},children:"Course Number"}),A.jsx(It,{sx:{fontWeight:"bold"},children:"Course Title"}),A.jsx(It,{sx:{fontWeight:"bold"},children:"Instructors"}),A.jsx(It,{align:"right",sx:{fontWeight:"bold"},children:"Actions"})]})}),A.jsx(Cd,{children:n.map(Q=>{const H=!!(r!=null&&r.uid)&&Q.courseAdmin.includes(r.uid);return A.jsxs(xo,{sx:{backgroundColor:H?"#e0f7fa":"transparent"},children:[A.jsx(It,{children:Q.id}),A.jsx(It,{children:Q.number}),A.jsx(It,{children:Q.title}),A.jsx(It,{children:Q.courseAdmin.length>0?Q.courseAdmin.join(", "):"No admins assigned"}),A.jsxs(It,{align:"right",children:[A.jsx(ls,{title:"Add yourself as an instructor",children:A.jsx("span",{children:A.jsx(Ln,{edge:"end","aria-label":"add",onClick:()=>P(Q.id),disabled:H,children:A.jsx(vh,{})})})}),A.jsx(ls,{title:H?"Delete this course":"You are not authorized to delete this course",children:A.jsx("span",{children:A.jsx(Ln,{edge:"end","aria-label":"delete",onClick:()=>B(Q.id),disabled:!H,children:A.jsx(Ks,{})})})})]})]},Q.id)})})]})}),A.jsx(cs,{open:d,autoHideDuration:6e3,onClose:N,children:A.jsx(br,{onClose:N,severity:b,sx:{width:"100%"},children:p})}),A.jsxs(Qi,{open:y,onClose:L,children:[A.jsx(Ji,{children:"Confirm Delete"}),A.jsxs(Zi,{children:[A.jsx(Ts,{children:"To confirm the deletion of this course, please enter your User ID:"}),A.jsx(Jt,{autoFocus:!0,margin:"dense",id:"userId",label:"User ID",type:"text",fullWidth:!0,variant:"outlined",value:x,onChange:Q=>C(Q.target.value)})]}),A.jsxs(Xi,{children:[A.jsx(kt,{onClick:L,color:"primary",children:"Cancel"}),A.jsx(kt,{onClick:$,color:"primary",children:"Confirm"})]})]})]})},Wj=({filePath:t,fileLabel:r})=>{const[n,o]=Y.useState(null),[s,l]=Y.useState(!0);return Y.useEffect(()=>{(async()=>{try{const h=xd(),p=gl(h,t),g=await lu(p);o(g)}catch(h){console.error("Error fetching download URL:",h),alert("Failed to fetch file URL. Please check your permissions.")}finally{l(!1)}})()},[t]),s?A.jsx(Rr,{size:20}):n?A.jsxs(Pe,{sx:{display:"flex",alignItems:"center",gap:1},children:[A.jsx(Pg,{href:n,target:"_blank",rel:"noopener noreferrer",sx:{textDecoration:"none",color:"#1976d2","&:hover":{textDecoration:"underline"}},children:r}),A.jsx(Ln,{component:"a",href:n,target:"_blank",rel:"noopener noreferrer","aria-label":"Open in new tab",size:"small",children:A.jsx(Og,{})})]}):A.jsx(Pe,{children:A.jsx(je,{color:"error",children:"Failed to load file link"})})},Dre=()=>{const{userDetails:t}=Pi(),[r,n]=Y.useState([]),[o,s]=Y.useState(!0);return Y.useEffect(()=>{(async()=>{if(!(t!=null&&t.uid))return;const d=Kn(),h=Zn(d,"chatbotRequests"),p=Rp(h,Zg("educatorId","==",t.uid));try{const b=(await So(p)).docs.map(v=>({id:v.id,...v.data()}));n(b)}catch(g){console.error("Error fetching chatbot requests:",g)}finally{s(!1)}})()},[t==null?void 0:t.uid]),o?A.jsx(Pe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:A.jsx(Rr,{})}):r.length===0?A.jsx(je,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):A.jsxs(Pe,{children:[A.jsx(je,{variant:"h6",sx:{mb:2},children:"Your Chatbot Requests"}),A.jsx(vd,{component:Bn,elevation:3,sx:{maxHeight:400},children:A.jsxs(Ad,{stickyHeader:!0,children:[A.jsx(_d,{children:A.jsxs(xo,{children:[A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"})]})}),A.jsx(Cd,{children:r.map((l,d)=>A.jsxs(xo,{sx:{backgroundColor:d%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[A.jsx(It,{children:l.title}),A.jsx(It,{children:`${l.courseNumber} - ${l.courseTitle}`}),A.jsx(It,{children:l.materialTitle||"N/A"}),A.jsx(It,{children:new Date(l.timestamp).toLocaleString()}),A.jsx(It,{children:A.jsx(je,{variant:"body2",sx:{color:l.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:l.status})}),A.jsx(It,{children:l.files.map((h,p)=>A.jsx(Wj,{filePath:h,fileLabel:`File ${p+1}`},p))})]},l.id))})]})})]})},Ire=()=>{const t=Wr();return A.jsxs(Pe,{className:"profile-container",sx:{p:4},children:[A.jsx(kt,{variant:"text",onClick:()=>t("/"),className:"profile-button",children:"â† Home Page"}),A.jsx(je,{className:"webpage_title",sx:{mb:2},children:"Chatbot Management"}),A.jsx(je,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Manage your chatbots or create new chatbot requests."}),A.jsx(kt,{variant:"contained",onClick:()=>t("/request-chatbot"),sx:{mt:2},className:"submit-button",children:"Request a New Chatbot"}),A.jsx(Dre,{})]})},Tre=({folderPath:t,onUploadComplete:r})=>{const[n,o]=Y.useState(!1),[s,l]=Y.useState([]),[d,h]=Y.useState(null),p=5*1024*1024,g=[".pdf",".ppt",".pptx",".doc",".docx",".txt"],b=async v=>{if(!v.target.files)return;const y=Array.from(v.target.files),k=xd(),x=[];o(!0),h(null);try{for(const C of y){const D=C.name.slice(C.name.lastIndexOf(".")).toLowerCase();if(!g.includes(D)){h(`File ${C.name} is not a supported format.`);continue}if(C.size>p){h(`File ${C.name} exceeds the 5 MB limit and cannot be uploaded.`);continue}const S=gl(k,`${t}/files/${C.name}`);await ud(S,C);const M=await lu(S);x.push(M)}l(C=>[...C,...y]),r(x)}catch(C){console.error("Error uploading files:",C),h("Failed to upload files. Please try again.")}finally{o(!1)}};return A.jsxs(Pe,{children:[A.jsx("input",{type:"file",accept:".pdf,.ppt,.pptx,.doc,.docx,.txt",multiple:!0,onChange:b,style:{display:"none"},id:"file-upload"}),A.jsx("label",{htmlFor:"file-upload",children:A.jsx(kt,{variant:"contained",component:"span",disabled:n,startIcon:n?A.jsx(Rr,{size:20}):null,children:n?"Uploading...":"Select and Upload Files"})}),d&&A.jsx(br,{severity:"error",sx:{mt:2},children:d}),A.jsx(Pe,{sx:{marginTop:2},children:s.map((v,y)=>A.jsx(je,{children:v.name},y))})]})},Nre=nb()(D1((t,r)=>({materials:[],selectedCourse:null,loading:!1,error:null,isEditing:!1,selectedMaterial:null,setMaterials:n=>t({materials:n}),addMaterial:n=>t(o=>({materials:[...o.materials,n]})),updateMaterial:(n,o)=>t(s=>({materials:s.materials.map(l=>l.id===n?{...l,...o}:l)})),deleteMaterial:n=>t(o=>({materials:o.materials.filter(s=>s.id!==n)})),setSelectedCourse:n=>t({selectedCourse:n}),setLoading:n=>t({loading:n}),setError:n=>t({error:n}),setIsEditing:n=>t({isEditing:n}),setSelectedMaterial:n=>t({selectedMaterial:n}),fetchMaterials:async n=>{t({loading:!0,error:null});try{const{db:o}=await Ki(async()=>{const{db:b}=await Promise.resolve().then(()=>mp);return{db:b}},void 0),{collection:s,query:l,where:d,onSnapshot:h,orderBy:p}=await Ki(async()=>{const{collection:b,query:v,where:y,onSnapshot:k,orderBy:x}=await import("./firebase-BbBYlhCW.js").then(C=>C.A);return{collection:b,query:v,where:y,onSnapshot:k,orderBy:x}},[]),g=l(s(o,"materials"),d("course","==",n),p("timestamp","desc"));return new Promise(b=>{h(g,v=>{const y=v.docs.map(k=>({id:k.id,...k.data()}));t({materials:y,loading:!1}),b(void 0)})})}catch(o){t({error:o instanceof Error?o.message:"Failed to fetch materials",loading:!1})}},publishMaterial:async n=>{try{const{db:o}=await Ki(async()=>{const{db:d}=await Promise.resolve().then(()=>mp);return{db:d}},void 0),{doc:s,updateDoc:l}=await Ki(async()=>{const{doc:d,updateDoc:h}=await import("./firebase-BbBYlhCW.js").then(p=>p.A);return{doc:d,updateDoc:h}},[]);await l(s(o,"materials",n),{published:!0}),r().updateMaterial(n,{published:!0})}catch{t({error:"Failed to publish material"})}},unpublishMaterial:async n=>{try{const{db:o}=await Ki(async()=>{const{db:d}=await Promise.resolve().then(()=>mp);return{db:d}},void 0),{doc:s,updateDoc:l}=await Ki(async()=>{const{doc:d,updateDoc:h}=await import("./firebase-BbBYlhCW.js").then(p=>p.A);return{doc:d,updateDoc:h}},[]);await l(s(o,"materials",n),{published:!1}),r().updateMaterial(n,{published:!1})}catch{t({error:"Failed to unpublish material"})}}}))),Mre=()=>{const{userDetails:t}=Pi(),r=Wr(),n=Kn(),[o,s]=Y.useState(""),[l,d]=Y.useState(""),[h,p]=Y.useState(""),[g,b]=Y.useState([]),[v,y]=Y.useState(!1),[k,x]=Y.useState(""),[C,D]=Y.useState("success"),{materials:S,loading:M,error:P,fetchMaterials:B}=Nre();Y.useEffect(()=>{p(""),l&&B(l)},[l,B]);const $=U=>{b(Q=>[...Q,...U])},F=async()=>{var R;if(!o||!l||!h||g.length===0){x("Please fill all required fields and upload at least one file."),D("error"),y(!0);return}const U=(R=t==null?void 0:t.classes)==null?void 0:R[l];if(!U||!U.isCourseAdmin){x("You are not authorized to request a chatbot for this course."),D("error"),y(!0);return}const Q=(U==null?void 0:U.number)??"N/A",H=(U==null?void 0:U.title)??"Untitled Course",z=S.find(ne=>ne.id===h);if(!z){x("Selected material details could not be found."),D("error"),y(!0);return}const{title:G}=z;try{const ne=await la(Zn(n,"chatbotRequests"),{educatorId:t==null?void 0:t.uid,courseId:l,courseNumber:Q,courseTitle:H,materialId:h,materialTitle:G,title:o,files:g,status:"pending",timestamp:new Date().toISOString()});await la(Zn(n,"mail"),{to:["andriy@intofuture.org","dylan@intofuture.org"],message:{subject:"New Chatbot Request Submitted",html:`
            <p>A new chatbot request has been submitted:</p>
            <p><strong>Title:</strong> ${o}</p>
            <p><strong>Educator ID:</strong> ${t==null?void 0:t.uid}</p>
            <p><strong>Course:</strong> ${Q} - ${H}</p>
            <p><strong>Material:</strong> ${G}</p>
            <p><strong>Request ID:</strong> ${ne.id}</p>
            <p><a href="https://institute-for-future-intelligence.github.io/nexlab/super-admin-chatbot-requests">
            Click here to review the request.
            </a></p>
          `}}),x("Chatbot request submitted successfully!"),D("success"),y(!0),setTimeout(()=>r("/chatbot-management"),1500)}catch(ne){console.error("Error submitting chatbot request:",ne),x("Failed to submit the chatbot request. Please try again."),D("error"),y(!0)}},N=()=>{r("/chatbot-management")},L=()=>{y(!1)};return A.jsxs(Pe,{className:"profile-container",sx:{p:4},children:[A.jsx(kt,{variant:"text",onClick:N,className:"profile-button",children:"â† Chatbot Management"}),A.jsx(je,{className:"webpage_title",sx:{mb:2},children:"Request to Create a Chatbot"}),A.jsx(je,{variant:"body1",className:"profile-text",sx:{mb:3},children:"Fill out the form below to request a chatbot. Please upload all related materials for the chatbot's knowledge base."}),A.jsx(Jt,{label:"Chatbot Title",value:o,onChange:U=>s(U.target.value),fullWidth:!0,margin:"normal",required:!0,className:"form-field"}),A.jsx(Jt,{label:"Course ID",value:l,onChange:U=>d(U.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,helperText:"Only courses where you are an admin are available for chatbot requests.",className:"form-field",children:Object.keys((t==null?void 0:t.classes)||{}).filter(U=>{var Q,H;return(H=(Q=t==null?void 0:t.classes)==null?void 0:Q[U])==null?void 0:H.isCourseAdmin}).map(U=>{var Q,H;return A.jsx(Nr,{value:U,children:((H=(Q=t==null?void 0:t.classes)==null?void 0:Q[U])==null?void 0:H.title)||"Untitled Course"},U)})}),A.jsx(Jt,{label:"Material",value:h,onChange:U=>p(U.target.value),fullWidth:!0,margin:"normal",required:!0,select:!0,disabled:!l||M,helperText:l?P||(M?"Loading materials...":S.length===0?"No materials available for this course.":""):"Please select a course first.",children:l?M?A.jsxs(Nr,{disabled:!0,children:[A.jsx(Rr,{size:20,sx:{marginRight:2}}),"Loading..."]}):S.length===0?A.jsx(Nr,{disabled:!0,children:"No materials found"}):S.map(U=>A.jsx(Nr,{value:U.id,children:U.title},U.id)):A.jsx(Nr,{disabled:!0,children:"Please select a course first"})}),A.jsxs(Pe,{sx:{mt:3},children:[A.jsx(je,{variant:"body1",className:"profile-text",sx:{mb:2},children:"Upload your files below (PDF, PPT, DOC/DOCX, TXT formats only):"}),A.jsx(Tre,{folderPath:`chatbotRequests/${t==null?void 0:t.uid}`,onUploadComplete:$})]}),A.jsx(kt,{variant:"contained",onClick:F,sx:{mt:4},className:"submit-button",children:"Submit Request"}),A.jsx(cs,{open:v,autoHideDuration:6e3,onClose:L,children:A.jsx(br,{severity:C,onClose:L,children:k})})]})};function Pre(t,...r){const n=new URL(`https://mui.com/production-error/?code=${t}`);return r.forEach(o=>n.searchParams.append("args[]",o)),`Minified MUI error #${t}; visit ${n} for the full message.`}function Ore(t,r){return Y_(t,r)}function jre(t,r){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=r(t.__emotion_styles))}const S6=[];function Fh(t){return S6[0]=t,MP(S6)}function Ch(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Gj(t){if(Y.isValidElement(t)||$k.isValidElementType(t)||!Ch(t))return t;const r={};return Object.keys(t).forEach(n=>{r[n]=Gj(t[n])}),r}function u1(t,r,n={clone:!0}){const o=n.clone?{...t}:t;return Ch(t)&&Ch(r)&&Object.keys(r).forEach(s=>{Y.isValidElement(r[s])||$k.isValidElementType(r[s])?o[s]=r[s]:Ch(r[s])&&Object.prototype.hasOwnProperty.call(t,s)&&Ch(t[s])?o[s]=u1(t[s],r[s],n):n.clone?o[s]=Ch(r[s])?Gj(r[s]):r[s]:o[s]=r[s]}),o}const Lre=t=>{const r=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return r.sort((n,o)=>n.val-o.val),r.reduce((n,o)=>({...n,[o.key]:o.val}),{})};function Bre(t){const{values:r={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5,...s}=t,l=Lre(r),d=Object.keys(l);function h(y){return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${n})`}function p(y){return`@media (max-width:${(typeof r[y]=="number"?r[y]:y)-o/100}${n})`}function g(y,k){const x=d.indexOf(k);return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${n}) and (max-width:${(x!==-1&&typeof r[d[x]]=="number"?r[d[x]]:k)-o/100}${n})`}function b(y){return d.indexOf(y)+1<d.length?g(y,d[d.indexOf(y)+1]):h(y)}function v(y){const k=d.indexOf(y);return k===0?h(d[1]):k===d.length-1?p(d[k]):g(y,d[d.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:d,values:l,up:h,down:p,between:g,only:b,not:v,unit:n,...s}}function E6(t,r){if(!t.containerQueries)return r;const n=Object.keys(r).filter(o=>o.startsWith("@container")).sort((o,s)=>{var d,h;const l=/min-width:\s*([0-9.]+)/;return+(((d=o.match(l))==null?void 0:d[1])||0)-+(((h=s.match(l))==null?void 0:h[1])||0)});return n.length?n.reduce((o,s)=>{const l=r[s];return delete o[s],o[s]=l,o},{...r}):r}function Rre(t,r){return r==="@"||r.startsWith("@")&&(t.some(n=>r.startsWith(`@${n}`))||!!r.match(/^@\d/))}function Fre(t,r){const n=r.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,o,s]=n,l=Number.isNaN(+o)?o||0:+o;return t.containerQueries(s).up(l)}function zre(t){const r=(l,d)=>l.replace("@media",d?`@container ${d}`:"@container");function n(l,d){l.up=(...h)=>r(t.breakpoints.up(...h),d),l.down=(...h)=>r(t.breakpoints.down(...h),d),l.between=(...h)=>r(t.breakpoints.between(...h),d),l.only=(...h)=>r(t.breakpoints.only(...h),d),l.not=(...h)=>{const p=r(t.breakpoints.not(...h),d);return p.includes("not all and")?p.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):p}}const o={},s=l=>(n(o,l),o);return n(s),{...t,containerQueries:s}}const Ure={borderRadius:4};function xg(t,r){return r?u1(t,r,{clone:!1}):t}const z1={xs:0,sm:600,md:900,lg:1200,xl:1536},D6={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${z1[t]}px)`},qre={containerQueries:t=>({up:r=>{let n=typeof r=="number"?r:z1[r]||r;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function pu(t,r,n){const o=t.theme||{};if(Array.isArray(r)){const l=o.breakpoints||D6;return r.reduce((d,h,p)=>(d[l.up(l.keys[p])]=n(r[p]),d),{})}if(typeof r=="object"){const l=o.breakpoints||D6;return Object.keys(r).reduce((d,h)=>{if(Rre(l.keys,h)){const p=Fre(o.containerQueries?o:qre,h);p&&(d[p]=n(r[h],h))}else if(Object.keys(l.values||z1).includes(h)){const p=l.up(h);d[p]=n(r[h],h)}else{const p=h;d[p]=r[p]}return d},{})}return n(r)}function Vre(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((o,s)=>{const l=t.up(s);return o[l]={},o},{}))||{}}function I6(t,r){return t.reduce((n,o)=>{const s=n[o];return(!s||Object.keys(s).length===0)&&delete n[o],n},r)}function Yj(t){if(typeof t!="string")throw new Error(Pre(7));return t.charAt(0).toUpperCase()+t.slice(1)}function U1(t,r,n=!0){if(!r||typeof r!="string")return null;if(t&&t.vars&&n){const o=`vars.${r}`.split(".").reduce((s,l)=>s&&s[l]?s[l]:null,t);if(o!=null)return o}return r.split(".").reduce((o,s)=>o&&o[s]!=null?o[s]:null,t)}function d1(t,r,n,o=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||o:s=U1(t,n)||o,r&&(s=r(s,o,t)),s}function Oi(t){const{prop:r,cssProperty:n=t.prop,themeKey:o,transform:s}=t,l=d=>{if(d[r]==null)return null;const h=d[r],p=d.theme,g=U1(p,o)||{};return pu(d,h,v=>{let y=d1(g,s,v);return v===y&&typeof v=="string"&&(y=d1(g,s,`${r}${v==="default"?"":Yj(v)}`,v)),n===!1?y:{[n]:y}})};return l.propTypes={},l.filterProps=[r],l}function $re(t){const r={};return n=>(r[n]===void 0&&(r[n]=t(n)),r[n])}const Hre={m:"margin",p:"padding"},Wre={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},T6={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Gre=$re(t=>{if(t.length>2)if(T6[t])t=T6[t];else return[t];const[r,n]=t.split(""),o=Hre[r],s=Wre[n]||"";return Array.isArray(s)?s.map(l=>o+l):[o+s]}),AC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],_C=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...AC,..._C];function lb(t,r,n,o){const s=U1(t,r,!0)??n;return typeof s=="number"||typeof s=="string"?l=>typeof l=="string"?l:typeof s=="string"?s.startsWith("var(")&&l===0?0:s.startsWith("var(")&&l===1?s:`calc(${l} * ${s})`:s*l:Array.isArray(s)?l=>{if(typeof l=="string")return l;const d=Math.abs(l),h=s[d];return l>=0?h:typeof h=="number"?-h:typeof h=="string"&&h.startsWith("var(")?`calc(-1 * ${h})`:`-${h}`}:typeof s=="function"?s:()=>{}}function Kj(t){return lb(t,"spacing",8)}function cb(t,r){return typeof r=="string"||r==null?r:t(r)}function Yre(t,r){return n=>t.reduce((o,s)=>(o[s]=cb(r,n),o),{})}function Kre(t,r,n,o){if(!r.includes(n))return null;const s=Gre(n),l=Yre(s,o),d=t[n];return pu(t,d,l)}function Qj(t,r){const n=Kj(t.theme);return Object.keys(t).map(o=>Kre(t,r,o,n)).reduce(xg,{})}function di(t){return Qj(t,AC)}di.propTypes={};di.filterProps=AC;function hi(t){return Qj(t,_C)}hi.propTypes={};hi.filterProps=_C;function Qre(t=8,r=Kj({spacing:t})){if(t.mui)return t;const n=(...o)=>(o.length===0?[1]:o).map(l=>{const d=r(l);return typeof d=="number"?`${d}px`:d}).join(" ");return n.mui=!0,n}function q1(...t){const r=t.reduce((o,s)=>(s.filterProps.forEach(l=>{o[l]=s}),o),{}),n=o=>Object.keys(o).reduce((s,l)=>r[l]?xg(s,r[l](o)):s,{});return n.propTypes={},n.filterProps=t.reduce((o,s)=>o.concat(s.filterProps),[]),n}function Ba(t){return typeof t!="number"?t:`${t}px solid`}function qa(t,r){return Oi({prop:t,themeKey:"borders",transform:r})}const Jre=qa("border",Ba),Zre=qa("borderTop",Ba),Xre=qa("borderRight",Ba),eie=qa("borderBottom",Ba),tie=qa("borderLeft",Ba),nie=qa("borderColor"),rie=qa("borderTopColor"),iie=qa("borderRightColor"),oie=qa("borderBottomColor"),sie=qa("borderLeftColor"),aie=qa("outline",Ba),lie=qa("outlineColor"),V1=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const r=lb(t.theme,"shape.borderRadius",4),n=o=>({borderRadius:cb(r,o)});return pu(t,t.borderRadius,n)}return null};V1.propTypes={};V1.filterProps=["borderRadius"];q1(Jre,Zre,Xre,eie,tie,nie,rie,iie,oie,sie,V1,aie,lie);const $1=t=>{if(t.gap!==void 0&&t.gap!==null){const r=lb(t.theme,"spacing",8),n=o=>({gap:cb(r,o)});return pu(t,t.gap,n)}return null};$1.propTypes={};$1.filterProps=["gap"];const H1=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const r=lb(t.theme,"spacing",8),n=o=>({columnGap:cb(r,o)});return pu(t,t.columnGap,n)}return null};H1.propTypes={};H1.filterProps=["columnGap"];const W1=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const r=lb(t.theme,"spacing",8),n=o=>({rowGap:cb(r,o)});return pu(t,t.rowGap,n)}return null};W1.propTypes={};W1.filterProps=["rowGap"];const cie=Oi({prop:"gridColumn"}),uie=Oi({prop:"gridRow"}),die=Oi({prop:"gridAutoFlow"}),hie=Oi({prop:"gridAutoColumns"}),fie=Oi({prop:"gridAutoRows"}),pie=Oi({prop:"gridTemplateColumns"}),mie=Oi({prop:"gridTemplateRows"}),gie=Oi({prop:"gridTemplateAreas"}),bie=Oi({prop:"gridArea"});q1($1,H1,W1,cie,uie,die,hie,fie,pie,mie,gie,bie);function Ap(t,r){return r==="grey"?r:t}const kie=Oi({prop:"color",themeKey:"palette",transform:Ap}),wie=Oi({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ap}),yie=Oi({prop:"backgroundColor",themeKey:"palette",transform:Ap});q1(kie,wie,yie);function Qs(t){return t<=1&&t!==0?`${t*100}%`:t}const vie=Oi({prop:"width",transform:Qs}),CC=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const r=n=>{var s,l,d,h,p;const o=((d=(l=(s=t.theme)==null?void 0:s.breakpoints)==null?void 0:l.values)==null?void 0:d[n])||z1[n];return o?((p=(h=t.theme)==null?void 0:h.breakpoints)==null?void 0:p.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Qs(n)}};return pu(t,t.maxWidth,r)}return null};CC.filterProps=["maxWidth"];const Aie=Oi({prop:"minWidth",transform:Qs}),_ie=Oi({prop:"height",transform:Qs}),Cie=Oi({prop:"maxHeight",transform:Qs}),xie=Oi({prop:"minHeight",transform:Qs});Oi({prop:"size",cssProperty:"width",transform:Qs});Oi({prop:"size",cssProperty:"height",transform:Qs});const Sie=Oi({prop:"boxSizing"});q1(vie,CC,Aie,_ie,Cie,xie,Sie);const Jj={border:{themeKey:"borders",transform:Ba},borderTop:{themeKey:"borders",transform:Ba},borderRight:{themeKey:"borders",transform:Ba},borderBottom:{themeKey:"borders",transform:Ba},borderLeft:{themeKey:"borders",transform:Ba},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ba},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:V1},color:{themeKey:"palette",transform:Ap},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ap},backgroundColor:{themeKey:"palette",transform:Ap},p:{style:hi},pt:{style:hi},pr:{style:hi},pb:{style:hi},pl:{style:hi},px:{style:hi},py:{style:hi},padding:{style:hi},paddingTop:{style:hi},paddingRight:{style:hi},paddingBottom:{style:hi},paddingLeft:{style:hi},paddingX:{style:hi},paddingY:{style:hi},paddingInline:{style:hi},paddingInlineStart:{style:hi},paddingInlineEnd:{style:hi},paddingBlock:{style:hi},paddingBlockStart:{style:hi},paddingBlockEnd:{style:hi},m:{style:di},mt:{style:di},mr:{style:di},mb:{style:di},ml:{style:di},mx:{style:di},my:{style:di},margin:{style:di},marginTop:{style:di},marginRight:{style:di},marginBottom:{style:di},marginLeft:{style:di},marginX:{style:di},marginY:{style:di},marginInline:{style:di},marginInlineStart:{style:di},marginInlineEnd:{style:di},marginBlock:{style:di},marginBlockStart:{style:di},marginBlockEnd:{style:di},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:$1},rowGap:{style:W1},columnGap:{style:H1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Qs},maxWidth:{style:CC},minWidth:{transform:Qs},height:{transform:Qs},maxHeight:{transform:Qs},minHeight:{transform:Qs},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Eie(...t){const r=t.reduce((o,s)=>o.concat(Object.keys(s)),[]),n=new Set(r);return t.every(o=>n.size===Object.keys(o).length)}function Die(t,r){return typeof t=="function"?t(r):t}function Iie(){function t(n,o,s,l){const d={[n]:o,theme:s},h=l[n];if(!h)return{[n]:o};const{cssProperty:p=n,themeKey:g,transform:b,style:v}=h;if(o==null)return null;if(g==="typography"&&o==="inherit")return{[n]:o};const y=U1(s,g)||{};return v?v(d):pu(d,o,x=>{let C=d1(y,b,x);return x===C&&typeof x=="string"&&(C=d1(y,b,`${n}${x==="default"?"":Yj(x)}`,x)),p===!1?C:{[p]:C}})}function r(n){const{sx:o,theme:s={},nested:l}=n||{};if(!o)return null;const d=s.unstable_sxConfig??Jj;function h(p){let g=p;if(typeof p=="function")g=p(s);else if(typeof p!="object")return p;if(!g)return null;const b=Vre(s.breakpoints),v=Object.keys(b);let y=b;return Object.keys(g).forEach(k=>{const x=Die(g[k],s);if(x!=null)if(typeof x=="object")if(d[k])y=xg(y,t(k,x,s,d));else{const C=pu({theme:s},x,D=>({[k]:D}));Eie(C,x)?y[k]=r({sx:x,theme:s,nested:!0}):y=xg(y,C)}else y=xg(y,t(k,x,s,d))}),!l&&s.modularCssLayers?{"@layer sx":E6(s,I6(v,y))}:E6(s,I6(v,y))}return Array.isArray(o)?o.map(h):h(o)}return r}const h1=Iie();h1.filterProps=["sx"];function Tie(t,r){var o;const n=this;if(n.vars){if(!((o=n.colorSchemes)!=null&&o[t])||typeof n.getColorSchemeSelector!="function")return{};let s=n.getColorSchemeSelector(t);return s==="&"?r:((s.includes("data-")||s.includes("."))&&(s=`*:where(${s.replace(/\s*&$/,"")}) &`),{[s]:r})}return n.palette.mode===t?r:{}}function Nie(t={},...r){const{breakpoints:n={},palette:o={},spacing:s,shape:l={},...d}=t,h=Bre(n),p=Qre(s);let g=u1({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...o},spacing:p,shape:{...Ure,...l}},d);return g=zre(g),g.applyStyles=Tie,g=r.reduce((b,v)=>u1(b,v),g),g.unstable_sxConfig={...Jj,...d==null?void 0:d.unstable_sxConfig},g.unstable_sx=function(v){return h1({sx:v,theme:this})},g}function Mie(t){const{variants:r,...n}=t,o={variants:r,style:Fh(n),isProcessed:!0};return o.style===n||r&&r.forEach(s=>{typeof s.style!="function"&&(s.style=Fh(s.style))}),o}const Pie=Nie();function Jv(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Ih(t,r){return r&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${r}{${String(t.styles)}}`),t}function Oie(t){return t?(r,n)=>n[t]:null}function jie(t,r,n){t.theme=Rie(t.theme)?n:t.theme[r]||t.theme}function Ik(t,r,n){const o=typeof r=="function"?r(t):r;if(Array.isArray(o))return o.flatMap(s=>Ik(t,s,n));if(Array.isArray(o==null?void 0:o.variants)){let s;if(o.isProcessed)s=n?Ih(o.style,n):o.style;else{const{variants:l,...d}=o;s=n?Ih(Fh(d),n):d}return Zj(t,o.variants,[s],n)}return o!=null&&o.isProcessed?n?Ih(Fh(o.style),n):o.style:n?Ih(Fh(o),n):o}function Zj(t,r,n=[],o=void 0){var l;let s;e:for(let d=0;d<r.length;d+=1){const h=r[d];if(typeof h.props=="function"){if(s??(s={...t,...t.ownerState,ownerState:t.ownerState}),!h.props(s))continue}else for(const p in h.props)if(t[p]!==h.props[p]&&((l=t.ownerState)==null?void 0:l[p])!==h.props[p])continue e;typeof h.style=="function"?(s??(s={...t,...t.ownerState,ownerState:t.ownerState}),n.push(o?Ih(Fh(h.style(s)),o):h.style(s))):n.push(o?Ih(Fh(h.style),o):h.style)}return n}function Lie(t={}){const{themeId:r,defaultTheme:n=Pie,rootShouldForwardProp:o=Jv,slotShouldForwardProp:s=Jv}=t;function l(h){jie(h,r,n)}return(h,p={})=>{jre(h,F=>F.filter(N=>N!==h1));const{name:g,slot:b,skipVariantsResolver:v,skipSx:y,overridesResolver:k=Oie(zie(b)),...x}=p,C=g&&g.startsWith("Mui")||b?"components":"custom",D=v!==void 0?v:b&&b!=="Root"&&b!=="root"||!1,S=y||!1;let M=Jv;b==="Root"||b==="root"?M=o:b?M=s:Fie(h)&&(M=void 0);const P=Ore(h,{shouldForwardProp:M,label:Bie(),...x}),B=F=>{if(F.__emotion_real===F)return F;if(typeof F=="function")return function(L){return Ik(L,F,L.theme.modularCssLayers?C:void 0)};if(Ch(F)){const N=Mie(F);return function(U){return N.variants?Ik(U,N,U.theme.modularCssLayers?C:void 0):U.theme.modularCssLayers?Ih(N.style,C):N.style}}return F},$=(...F)=>{const N=[],L=F.map(B),U=[];if(N.push(l),g&&k&&U.push(function(G){var ie,oe;const ne=(oe=(ie=G.theme.components)==null?void 0:ie[g])==null?void 0:oe.styleOverrides;if(!ne)return null;const ue={};for(const ye in ne)ue[ye]=Ik(G,ne[ye],G.theme.modularCssLayers?"theme":void 0);return k(G,ue)}),g&&!D&&U.push(function(G){var ue,ie;const R=G.theme,ne=(ie=(ue=R==null?void 0:R.components)==null?void 0:ue[g])==null?void 0:ie.variants;return ne?Zj(G,ne,[],G.theme.modularCssLayers?"theme":void 0):null}),S||U.push(h1),Array.isArray(L[0])){const z=L.shift(),G=new Array(N.length).fill(""),R=new Array(U.length).fill("");let ne;ne=[...G,...z,...R],ne.raw=[...G,...z.raw,...R],N.unshift(ne)}const Q=[...N,...L,...U],H=P(...Q);return h.muiName&&(H.muiName=h.muiName),H};return P.withConfig&&($.withConfig=P.withConfig),$}}function Bie(t,r){return void 0}function Rie(t){for(const r in t)return!1;return!0}function Fie(t){return typeof t=="string"&&t.charCodeAt(0)>96}function zie(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}const zp=Lie(),ig=zp(It)({fontWeight:"bold",color:"#fff",backgroundColor:"#123372",fontSize:"1rem",textAlign:"center"}),Uie=zp(xo)({"& td, & th":{padding:"12px 16px"},"&:nth-of-type(odd)":{backgroundColor:"#f9f9f9"},"&:hover":{backgroundColor:"#e0e0e0"}}),N6=zp(Ln)({width:40,height:40,padding:0,display:"flex",alignItems:"center",justifyContent:"center",textTransform:"capitalize",borderRadius:"8px",color:"#123372"}),qie=({conversations:t,onViewHistory:r,onDeleteConversation:n,loadingMap:o})=>t.length===0?A.jsx(je,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No conversations available to display."}):A.jsx(Pe,{sx:{mt:3},children:A.jsx(vd,{component:Bn,sx:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.1)",borderRadius:"10px"},children:A.jsxs(Ad,{children:[A.jsx(_d,{children:A.jsxs(xo,{children:[A.jsx(ig,{children:"Conversation ID"}),A.jsx(ig,{children:"User ID"}),A.jsx(ig,{children:"Chatbot ID"}),A.jsx(ig,{children:"Timestamp (Started At)"}),A.jsx(ig,{children:"Actions"})]})}),A.jsx(Cd,{children:t.length>0?t.map(s=>A.jsxs(Uie,{children:[A.jsx(It,{align:"center",children:s.id}),A.jsx(It,{align:"center",children:s.userId}),A.jsx(It,{align:"center",children:s.chatbotId}),A.jsx(It,{align:"center",children:s.startedAt?new Date(s.startedAt).toLocaleString():"Invalid date"}),A.jsx(It,{align:"center",children:A.jsxs(Pe,{sx:{display:"flex",justifyContent:"center",gap:1},children:[A.jsx(ls,{title:"View Data",children:A.jsx(N6,{onClick:()=>r(s.chatbotId,s.id,s.userId,s.startedAt),color:"primary",disabled:o[s.id],children:o[s.id]?A.jsx(Rr,{size:20,color:"inherit"}):A.jsx(W_,{})})}),A.jsx(ls,{title:"Delete Conversation",children:A.jsx(N6,{onClick:()=>n(s.id),color:"error",children:A.jsx(Ks,{})})})]})})]},s.id)):A.jsx(xo,{children:A.jsx(It,{colSpan:5,align:"center",children:"No conversations available for the selected filters."})})})]})})});function Xj(t,r){return function(){return t.apply(r,arguments)}}const{toString:Vie}=Object.prototype,{getPrototypeOf:xC}=Object,{iterator:G1,toStringTag:eL}=Symbol,Y1=(t=>r=>{const n=Vie.call(r);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),_l=t=>(t=t.toLowerCase(),r=>Y1(r)===t),K1=t=>r=>typeof r===t,{isArray:Up}=Array,Vg=K1("undefined");function $ie(t){return t!==null&&!Vg(t)&&t.constructor!==null&&!Vg(t.constructor)&&Cs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const tL=_l("ArrayBuffer");function Hie(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&tL(t.buffer),r}const Wie=K1("string"),Cs=K1("function"),nL=K1("number"),Q1=t=>t!==null&&typeof t=="object",Gie=t=>t===!0||t===!1,Tk=t=>{if(Y1(t)!=="object")return!1;const r=xC(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(eL in t)&&!(G1 in t)},Yie=_l("Date"),Kie=_l("File"),Qie=_l("Blob"),Jie=_l("FileList"),Zie=t=>Q1(t)&&Cs(t.pipe),Xie=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||Cs(t.append)&&((r=Y1(t))==="formdata"||r==="object"&&Cs(t.toString)&&t.toString()==="[object FormData]"))},eoe=_l("URLSearchParams"),[toe,noe,roe,ioe]=["ReadableStream","Request","Response","Headers"].map(_l),ooe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ub(t,r,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let o,s;if(typeof t!="object"&&(t=[t]),Up(t))for(o=0,s=t.length;o<s;o++)r.call(null,t[o],o,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),d=l.length;let h;for(o=0;o<d;o++)h=l[o],r.call(null,t[h],h,t)}}function rL(t,r){r=r.toLowerCase();const n=Object.keys(t);let o=n.length,s;for(;o-- >0;)if(s=n[o],r===s.toLowerCase())return s;return null}const Th=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,iL=t=>!Vg(t)&&t!==Th;function c_(){const{caseless:t}=iL(this)&&this||{},r={},n=(o,s)=>{const l=t&&rL(r,s)||s;Tk(r[l])&&Tk(o)?r[l]=c_(r[l],o):Tk(o)?r[l]=c_({},o):Up(o)?r[l]=o.slice():r[l]=o};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&ub(arguments[o],n);return r}const soe=(t,r,n,{allOwnKeys:o}={})=>(ub(r,(s,l)=>{n&&Cs(s)?t[l]=Xj(s,n):t[l]=s},{allOwnKeys:o}),t),aoe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),loe=(t,r,n,o)=>{t.prototype=Object.create(r.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),n&&Object.assign(t.prototype,n)},coe=(t,r,n,o)=>{let s,l,d;const h={};if(r=r||{},t==null)return r;do{for(s=Object.getOwnPropertyNames(t),l=s.length;l-- >0;)d=s[l],(!o||o(d,t,r))&&!h[d]&&(r[d]=t[d],h[d]=!0);t=n!==!1&&xC(t)}while(t&&(!n||n(t,r))&&t!==Object.prototype);return r},uoe=(t,r,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=r.length;const o=t.indexOf(r,n);return o!==-1&&o===n},doe=t=>{if(!t)return null;if(Up(t))return t;let r=t.length;if(!nL(r))return null;const n=new Array(r);for(;r-- >0;)n[r]=t[r];return n},hoe=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&xC(Uint8Array)),foe=(t,r)=>{const o=(t&&t[G1]).call(t);let s;for(;(s=o.next())&&!s.done;){const l=s.value;r.call(t,l[0],l[1])}},poe=(t,r)=>{let n;const o=[];for(;(n=t.exec(r))!==null;)o.push(n);return o},moe=_l("HTMLFormElement"),goe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,s){return o.toUpperCase()+s}),M6=(({hasOwnProperty:t})=>(r,n)=>t.call(r,n))(Object.prototype),boe=_l("RegExp"),oL=(t,r)=>{const n=Object.getOwnPropertyDescriptors(t),o={};ub(n,(s,l)=>{let d;(d=r(s,l,t))!==!1&&(o[l]=d||s)}),Object.defineProperties(t,o)},koe=t=>{oL(t,(r,n)=>{if(Cs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=t[n];if(Cs(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},woe=(t,r)=>{const n={},o=s=>{s.forEach(l=>{n[l]=!0})};return Up(t)?o(t):o(String(t).split(r)),n},yoe=()=>{},voe=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function Aoe(t){return!!(t&&Cs(t.append)&&t[eL]==="FormData"&&t[G1])}const _oe=t=>{const r=new Array(10),n=(o,s)=>{if(Q1(o)){if(r.indexOf(o)>=0)return;if(!("toJSON"in o)){r[s]=o;const l=Up(o)?[]:{};return ub(o,(d,h)=>{const p=n(d,s+1);!Vg(p)&&(l[h]=p)}),r[s]=void 0,l}}return o};return n(t,0)},Coe=_l("AsyncFunction"),xoe=t=>t&&(Q1(t)||Cs(t))&&Cs(t.then)&&Cs(t.catch),sL=((t,r)=>t?setImmediate:r?((n,o)=>(Th.addEventListener("message",({source:s,data:l})=>{s===Th&&l===n&&o.length&&o.shift()()},!1),s=>{o.push(s),Th.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Cs(Th.postMessage)),Soe=typeof queueMicrotask<"u"?queueMicrotask.bind(Th):typeof process<"u"&&process.nextTick||sL,Eoe=t=>t!=null&&Cs(t[G1]),lt={isArray:Up,isArrayBuffer:tL,isBuffer:$ie,isFormData:Xie,isArrayBufferView:Hie,isString:Wie,isNumber:nL,isBoolean:Gie,isObject:Q1,isPlainObject:Tk,isReadableStream:toe,isRequest:noe,isResponse:roe,isHeaders:ioe,isUndefined:Vg,isDate:Yie,isFile:Kie,isBlob:Qie,isRegExp:boe,isFunction:Cs,isStream:Zie,isURLSearchParams:eoe,isTypedArray:hoe,isFileList:Jie,forEach:ub,merge:c_,extend:soe,trim:ooe,stripBOM:aoe,inherits:loe,toFlatObject:coe,kindOf:Y1,kindOfTest:_l,endsWith:uoe,toArray:doe,forEachEntry:foe,matchAll:poe,isHTMLForm:moe,hasOwnProperty:M6,hasOwnProp:M6,reduceDescriptors:oL,freezeMethods:koe,toObjectSet:woe,toCamelCase:goe,noop:yoe,toFiniteNumber:voe,findKey:rL,global:Th,isContextDefined:iL,isSpecCompliantForm:Aoe,toJSONObject:_oe,isAsyncFn:Coe,isThenable:xoe,setImmediate:sL,asap:Soe,isIterable:Eoe};function Cn(t,r,n,o,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),o&&(this.request=o),s&&(this.response=s,this.status=s.status?s.status:null)}lt.inherits(Cn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:lt.toJSONObject(this.config),code:this.code,status:this.status}}});const aL=Cn.prototype,lL={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{lL[t]={value:t}});Object.defineProperties(Cn,lL);Object.defineProperty(aL,"isAxiosError",{value:!0});Cn.from=(t,r,n,o,s,l)=>{const d=Object.create(aL);return lt.toFlatObject(t,d,function(p){return p!==Error.prototype},h=>h!=="isAxiosError"),Cn.call(d,t.message,r,n,o,s),d.cause=t,d.name=t.name,l&&Object.assign(d,l),d};const Doe=null;function u_(t){return lt.isPlainObject(t)||lt.isArray(t)}function cL(t){return lt.endsWith(t,"[]")?t.slice(0,-2):t}function P6(t,r,n){return t?t.concat(r).map(function(s,l){return s=cL(s),!n&&l?"["+s+"]":s}).join(n?".":""):r}function Ioe(t){return lt.isArray(t)&&!t.some(u_)}const Toe=lt.toFlatObject(lt,{},null,function(r){return/^is[A-Z]/.test(r)});function J1(t,r,n){if(!lt.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,n=lt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,D){return!lt.isUndefined(D[C])});const o=n.metaTokens,s=n.visitor||b,l=n.dots,d=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&lt.isSpecCompliantForm(r);if(!lt.isFunction(s))throw new TypeError("visitor must be a function");function g(x){if(x===null)return"";if(lt.isDate(x))return x.toISOString();if(lt.isBoolean(x))return x.toString();if(!p&&lt.isBlob(x))throw new Cn("Blob is not supported. Use a Buffer instead.");return lt.isArrayBuffer(x)||lt.isTypedArray(x)?p&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function b(x,C,D){let S=x;if(x&&!D&&typeof x=="object"){if(lt.endsWith(C,"{}"))C=o?C:C.slice(0,-2),x=JSON.stringify(x);else if(lt.isArray(x)&&Ioe(x)||(lt.isFileList(x)||lt.endsWith(C,"[]"))&&(S=lt.toArray(x)))return C=cL(C),S.forEach(function(P,B){!(lt.isUndefined(P)||P===null)&&r.append(d===!0?P6([C],B,l):d===null?C:C+"[]",g(P))}),!1}return u_(x)?!0:(r.append(P6(D,C,l),g(x)),!1)}const v=[],y=Object.assign(Toe,{defaultVisitor:b,convertValue:g,isVisitable:u_});function k(x,C){if(!lt.isUndefined(x)){if(v.indexOf(x)!==-1)throw Error("Circular reference detected in "+C.join("."));v.push(x),lt.forEach(x,function(S,M){(!(lt.isUndefined(S)||S===null)&&s.call(r,S,lt.isString(M)?M.trim():M,C,y))===!0&&k(S,C?C.concat(M):[M])}),v.pop()}}if(!lt.isObject(t))throw new TypeError("data must be an object");return k(t),r}function O6(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return r[o]})}function SC(t,r){this._pairs=[],t&&J1(t,this,r)}const uL=SC.prototype;uL.append=function(r,n){this._pairs.push([r,n])};uL.toString=function(r){const n=r?function(o){return r.call(this,o,O6)}:O6;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Noe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dL(t,r,n){if(!r)return t;const o=n&&n.encode||Noe;lt.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let l;if(s?l=s(r,n):l=lt.isURLSearchParams(r)?r.toString():new SC(r,n).toString(o),l){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class j6{constructor(){this.handlers=[]}use(r,n,o){return this.handlers.push({fulfilled:r,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){lt.forEach(this.handlers,function(o){o!==null&&r(o)})}}const hL={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Moe=typeof URLSearchParams<"u"?URLSearchParams:SC,Poe=typeof FormData<"u"?FormData:null,Ooe=typeof Blob<"u"?Blob:null,joe={isBrowser:!0,classes:{URLSearchParams:Moe,FormData:Poe,Blob:Ooe},protocols:["http","https","file","blob","url","data"]},EC=typeof window<"u"&&typeof document<"u",d_=typeof navigator=="object"&&navigator||void 0,Loe=EC&&(!d_||["ReactNative","NativeScript","NS"].indexOf(d_.product)<0),Boe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Roe=EC&&window.location.href||"http://localhost",Foe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:EC,hasStandardBrowserEnv:Loe,hasStandardBrowserWebWorkerEnv:Boe,navigator:d_,origin:Roe},Symbol.toStringTag,{value:"Module"})),Vo={...Foe,...joe};function zoe(t,r){return J1(t,new Vo.classes.URLSearchParams,Object.assign({visitor:function(n,o,s,l){return Vo.isNode&&lt.isBuffer(n)?(this.append(o,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},r))}function Uoe(t){return lt.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function qoe(t){const r={},n=Object.keys(t);let o;const s=n.length;let l;for(o=0;o<s;o++)l=n[o],r[l]=t[l];return r}function fL(t){function r(n,o,s,l){let d=n[l++];if(d==="__proto__")return!0;const h=Number.isFinite(+d),p=l>=n.length;return d=!d&&lt.isArray(s)?s.length:d,p?(lt.hasOwnProp(s,d)?s[d]=[s[d],o]:s[d]=o,!h):((!s[d]||!lt.isObject(s[d]))&&(s[d]=[]),r(n,o,s[d],l)&&lt.isArray(s[d])&&(s[d]=qoe(s[d])),!h)}if(lt.isFormData(t)&&lt.isFunction(t.entries)){const n={};return lt.forEachEntry(t,(o,s)=>{r(Uoe(o),s,n,0)}),n}return null}function Voe(t,r,n){if(lt.isString(t))try{return(r||JSON.parse)(t),lt.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(t)}const db={transitional:hL,adapter:["xhr","http","fetch"],transformRequest:[function(r,n){const o=n.getContentType()||"",s=o.indexOf("application/json")>-1,l=lt.isObject(r);if(l&&lt.isHTMLForm(r)&&(r=new FormData(r)),lt.isFormData(r))return s?JSON.stringify(fL(r)):r;if(lt.isArrayBuffer(r)||lt.isBuffer(r)||lt.isStream(r)||lt.isFile(r)||lt.isBlob(r)||lt.isReadableStream(r))return r;if(lt.isArrayBufferView(r))return r.buffer;if(lt.isURLSearchParams(r))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let h;if(l){if(o.indexOf("application/x-www-form-urlencoded")>-1)return zoe(r,this.formSerializer).toString();if((h=lt.isFileList(r))||o.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return J1(h?{"files[]":r}:r,p&&new p,this.formSerializer)}}return l||s?(n.setContentType("application/json",!1),Voe(r)):r}],transformResponse:[function(r){const n=this.transitional||db.transitional,o=n&&n.forcedJSONParsing,s=this.responseType==="json";if(lt.isResponse(r)||lt.isReadableStream(r))return r;if(r&&lt.isString(r)&&(o&&!this.responseType||s)){const d=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(r)}catch(h){if(d)throw h.name==="SyntaxError"?Cn.from(h,Cn.ERR_BAD_RESPONSE,this,null,this.response):h}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vo.classes.FormData,Blob:Vo.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};lt.forEach(["delete","get","head","post","put","patch"],t=>{db.headers[t]={}});const $oe=lt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hoe=t=>{const r={};let n,o,s;return t&&t.split(`
`).forEach(function(d){s=d.indexOf(":"),n=d.substring(0,s).trim().toLowerCase(),o=d.substring(s+1).trim(),!(!n||r[n]&&$oe[n])&&(n==="set-cookie"?r[n]?r[n].push(o):r[n]=[o]:r[n]=r[n]?r[n]+", "+o:o)}),r},L6=Symbol("internals");function og(t){return t&&String(t).trim().toLowerCase()}function Nk(t){return t===!1||t==null?t:lt.isArray(t)?t.map(Nk):String(t)}function Woe(t){const r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(t);)r[o[1]]=o[2];return r}const Goe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Zv(t,r,n,o,s){if(lt.isFunction(o))return o.call(this,r,n);if(s&&(r=n),!!lt.isString(r)){if(lt.isString(o))return r.indexOf(o)!==-1;if(lt.isRegExp(o))return o.test(r)}}function Yoe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,n,o)=>n.toUpperCase()+o)}function Koe(t,r){const n=lt.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+n,{value:function(s,l,d){return this[o].call(this,r,s,l,d)},configurable:!0})})}let xs=class{constructor(r){r&&this.set(r)}set(r,n,o){const s=this;function l(h,p,g){const b=og(p);if(!b)throw new Error("header name must be a non-empty string");const v=lt.findKey(s,b);(!v||s[v]===void 0||g===!0||g===void 0&&s[v]!==!1)&&(s[v||p]=Nk(h))}const d=(h,p)=>lt.forEach(h,(g,b)=>l(g,b,p));if(lt.isPlainObject(r)||r instanceof this.constructor)d(r,n);else if(lt.isString(r)&&(r=r.trim())&&!Goe(r))d(Hoe(r),n);else if(lt.isObject(r)&&lt.isIterable(r)){let h={},p,g;for(const b of r){if(!lt.isArray(b))throw TypeError("Object iterator must return a key-value pair");h[g=b[0]]=(p=h[g])?lt.isArray(p)?[...p,b[1]]:[p,b[1]]:b[1]}d(h,n)}else r!=null&&l(n,r,o);return this}get(r,n){if(r=og(r),r){const o=lt.findKey(this,r);if(o){const s=this[o];if(!n)return s;if(n===!0)return Woe(s);if(lt.isFunction(n))return n.call(this,s,o);if(lt.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,n){if(r=og(r),r){const o=lt.findKey(this,r);return!!(o&&this[o]!==void 0&&(!n||Zv(this,this[o],o,n)))}return!1}delete(r,n){const o=this;let s=!1;function l(d){if(d=og(d),d){const h=lt.findKey(o,d);h&&(!n||Zv(o,o[h],h,n))&&(delete o[h],s=!0)}}return lt.isArray(r)?r.forEach(l):l(r),s}clear(r){const n=Object.keys(this);let o=n.length,s=!1;for(;o--;){const l=n[o];(!r||Zv(this,this[l],l,r,!0))&&(delete this[l],s=!0)}return s}normalize(r){const n=this,o={};return lt.forEach(this,(s,l)=>{const d=lt.findKey(o,l);if(d){n[d]=Nk(s),delete n[l];return}const h=r?Yoe(l):String(l).trim();h!==l&&delete n[l],n[h]=Nk(s),o[h]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const n=Object.create(null);return lt.forEach(this,(o,s)=>{o!=null&&o!==!1&&(n[s]=r&&lt.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,n])=>r+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...n){const o=new this(r);return n.forEach(s=>o.set(s)),o}static accessor(r){const o=(this[L6]=this[L6]={accessors:{}}).accessors,s=this.prototype;function l(d){const h=og(d);o[h]||(Koe(s,d),o[h]=!0)}return lt.isArray(r)?r.forEach(l):l(r),this}};xs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);lt.reduceDescriptors(xs.prototype,({value:t},r)=>{let n=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(o){this[n]=o}}});lt.freezeMethods(xs);function Xv(t,r){const n=this||db,o=r||n,s=xs.from(o.headers);let l=o.data;return lt.forEach(t,function(h){l=h.call(n,l,s.normalize(),r?r.status:void 0)}),s.normalize(),l}function pL(t){return!!(t&&t.__CANCEL__)}function qp(t,r,n){Cn.call(this,t??"canceled",Cn.ERR_CANCELED,r,n),this.name="CanceledError"}lt.inherits(qp,Cn,{__CANCEL__:!0});function mL(t,r,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?t(n):r(new Cn("Request failed with status code "+n.status,[Cn.ERR_BAD_REQUEST,Cn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Qoe(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function Joe(t,r){t=t||10;const n=new Array(t),o=new Array(t);let s=0,l=0,d;return r=r!==void 0?r:1e3,function(p){const g=Date.now(),b=o[l];d||(d=g),n[s]=p,o[s]=g;let v=l,y=0;for(;v!==s;)y+=n[v++],v=v%t;if(s=(s+1)%t,s===l&&(l=(l+1)%t),g-d<r)return;const k=b&&g-b;return k?Math.round(y*1e3/k):void 0}}function Zoe(t,r){let n=0,o=1e3/r,s,l;const d=(g,b=Date.now())=>{n=b,s=null,l&&(clearTimeout(l),l=null),t.apply(null,g)};return[(...g)=>{const b=Date.now(),v=b-n;v>=o?d(g,b):(s=g,l||(l=setTimeout(()=>{l=null,d(s)},o-v)))},()=>s&&d(s)]}const f1=(t,r,n=3)=>{let o=0;const s=Joe(50,250);return Zoe(l=>{const d=l.loaded,h=l.lengthComputable?l.total:void 0,p=d-o,g=s(p),b=d<=h;o=d;const v={loaded:d,total:h,progress:h?d/h:void 0,bytes:p,rate:g||void 0,estimated:g&&h&&b?(h-d)/g:void 0,event:l,lengthComputable:h!=null,[r?"download":"upload"]:!0};t(v)},n)},B6=(t,r)=>{const n=t!=null;return[o=>r[0]({lengthComputable:n,total:t,loaded:o}),r[1]]},R6=t=>(...r)=>lt.asap(()=>t(...r)),Xoe=Vo.hasStandardBrowserEnv?((t,r)=>n=>(n=new URL(n,Vo.origin),t.protocol===n.protocol&&t.host===n.host&&(r||t.port===n.port)))(new URL(Vo.origin),Vo.navigator&&/(msie|trident)/i.test(Vo.navigator.userAgent)):()=>!0,ese=Vo.hasStandardBrowserEnv?{write(t,r,n,o,s,l){const d=[t+"="+encodeURIComponent(r)];lt.isNumber(n)&&d.push("expires="+new Date(n).toGMTString()),lt.isString(o)&&d.push("path="+o),lt.isString(s)&&d.push("domain="+s),l===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tse(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function nse(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function gL(t,r,n){let o=!tse(r);return t&&(o||n==!1)?nse(t,r):r}const F6=t=>t instanceof xs?{...t}:t;function Gh(t,r){r=r||{};const n={};function o(g,b,v,y){return lt.isPlainObject(g)&&lt.isPlainObject(b)?lt.merge.call({caseless:y},g,b):lt.isPlainObject(b)?lt.merge({},b):lt.isArray(b)?b.slice():b}function s(g,b,v,y){if(lt.isUndefined(b)){if(!lt.isUndefined(g))return o(void 0,g,v,y)}else return o(g,b,v,y)}function l(g,b){if(!lt.isUndefined(b))return o(void 0,b)}function d(g,b){if(lt.isUndefined(b)){if(!lt.isUndefined(g))return o(void 0,g)}else return o(void 0,b)}function h(g,b,v){if(v in r)return o(g,b);if(v in t)return o(void 0,g)}const p={url:l,method:l,data:l,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:h,headers:(g,b,v)=>s(F6(g),F6(b),v,!0)};return lt.forEach(Object.keys(Object.assign({},t,r)),function(b){const v=p[b]||s,y=v(t[b],r[b],b);lt.isUndefined(y)&&v!==h||(n[b]=y)}),n}const bL=t=>{const r=Gh({},t);let{data:n,withXSRFToken:o,xsrfHeaderName:s,xsrfCookieName:l,headers:d,auth:h}=r;r.headers=d=xs.from(d),r.url=dL(gL(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&d.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(lt.isFormData(n)){if(Vo.hasStandardBrowserEnv||Vo.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((p=d.getContentType())!==!1){const[g,...b]=p?p.split(";").map(v=>v.trim()).filter(Boolean):[];d.setContentType([g||"multipart/form-data",...b].join("; "))}}if(Vo.hasStandardBrowserEnv&&(o&&lt.isFunction(o)&&(o=o(r)),o||o!==!1&&Xoe(r.url))){const g=s&&l&&ese.read(l);g&&d.set(s,g)}return r},rse=typeof XMLHttpRequest<"u",ise=rse&&function(t){return new Promise(function(n,o){const s=bL(t);let l=s.data;const d=xs.from(s.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:g}=s,b,v,y,k,x;function C(){k&&k(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(b),s.signal&&s.signal.removeEventListener("abort",b)}let D=new XMLHttpRequest;D.open(s.method.toUpperCase(),s.url,!0),D.timeout=s.timeout;function S(){if(!D)return;const P=xs.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),$={data:!h||h==="text"||h==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:P,config:t,request:D};mL(function(N){n(N),C()},function(N){o(N),C()},$),D=null}"onloadend"in D?D.onloadend=S:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(S)},D.onabort=function(){D&&(o(new Cn("Request aborted",Cn.ECONNABORTED,t,D)),D=null)},D.onerror=function(){o(new Cn("Network Error",Cn.ERR_NETWORK,t,D)),D=null},D.ontimeout=function(){let B=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const $=s.transitional||hL;s.timeoutErrorMessage&&(B=s.timeoutErrorMessage),o(new Cn(B,$.clarifyTimeoutError?Cn.ETIMEDOUT:Cn.ECONNABORTED,t,D)),D=null},l===void 0&&d.setContentType(null),"setRequestHeader"in D&&lt.forEach(d.toJSON(),function(B,$){D.setRequestHeader($,B)}),lt.isUndefined(s.withCredentials)||(D.withCredentials=!!s.withCredentials),h&&h!=="json"&&(D.responseType=s.responseType),g&&([y,x]=f1(g,!0),D.addEventListener("progress",y)),p&&D.upload&&([v,k]=f1(p),D.upload.addEventListener("progress",v),D.upload.addEventListener("loadend",k)),(s.cancelToken||s.signal)&&(b=P=>{D&&(o(!P||P.type?new qp(null,t,D):P),D.abort(),D=null)},s.cancelToken&&s.cancelToken.subscribe(b),s.signal&&(s.signal.aborted?b():s.signal.addEventListener("abort",b)));const M=Qoe(s.url);if(M&&Vo.protocols.indexOf(M)===-1){o(new Cn("Unsupported protocol "+M+":",Cn.ERR_BAD_REQUEST,t));return}D.send(l||null)})},ose=(t,r)=>{const{length:n}=t=t?t.filter(Boolean):[];if(r||n){let o=new AbortController,s;const l=function(g){if(!s){s=!0,h();const b=g instanceof Error?g:this.reason;o.abort(b instanceof Cn?b:new qp(b instanceof Error?b.message:b))}};let d=r&&setTimeout(()=>{d=null,l(new Cn(`timeout ${r} of ms exceeded`,Cn.ETIMEDOUT))},r);const h=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),t=null)};t.forEach(g=>g.addEventListener("abort",l));const{signal:p}=o;return p.unsubscribe=()=>lt.asap(h),p}},sse=function*(t,r){let n=t.byteLength;if(n<r){yield t;return}let o=0,s;for(;o<n;)s=o+r,yield t.slice(o,s),o=s},ase=async function*(t,r){for await(const n of lse(t))yield*sse(n,r)},lse=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:n,value:o}=await r.read();if(n)break;yield o}}finally{await r.cancel()}},z6=(t,r,n,o)=>{const s=ase(t,r);let l=0,d,h=p=>{d||(d=!0,o&&o(p))};return new ReadableStream({async pull(p){try{const{done:g,value:b}=await s.next();if(g){h(),p.close();return}let v=b.byteLength;if(n){let y=l+=v;n(y)}p.enqueue(new Uint8Array(b))}catch(g){throw h(g),g}},cancel(p){return h(p),s.return()}},{highWaterMark:2})},Z1=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",kL=Z1&&typeof ReadableStream=="function",cse=Z1&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),wL=(t,...r)=>{try{return!!t(...r)}catch{return!1}},use=kL&&wL(()=>{let t=!1;const r=new Request(Vo.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),U6=64*1024,h_=kL&&wL(()=>lt.isReadableStream(new Response("").body)),p1={stream:h_&&(t=>t.body)};Z1&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!p1[r]&&(p1[r]=lt.isFunction(t[r])?n=>n[r]():(n,o)=>{throw new Cn(`Response type '${r}' is not supported`,Cn.ERR_NOT_SUPPORT,o)})})})(new Response);const dse=async t=>{if(t==null)return 0;if(lt.isBlob(t))return t.size;if(lt.isSpecCompliantForm(t))return(await new Request(Vo.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(lt.isArrayBufferView(t)||lt.isArrayBuffer(t))return t.byteLength;if(lt.isURLSearchParams(t)&&(t=t+""),lt.isString(t))return(await cse(t)).byteLength},hse=async(t,r)=>{const n=lt.toFiniteNumber(t.getContentLength());return n??dse(r)},fse=Z1&&(async t=>{let{url:r,method:n,data:o,signal:s,cancelToken:l,timeout:d,onDownloadProgress:h,onUploadProgress:p,responseType:g,headers:b,withCredentials:v="same-origin",fetchOptions:y}=bL(t);g=g?(g+"").toLowerCase():"text";let k=ose([s,l&&l.toAbortSignal()],d),x;const C=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let D;try{if(p&&use&&n!=="get"&&n!=="head"&&(D=await hse(b,o))!==0){let $=new Request(r,{method:"POST",body:o,duplex:"half"}),F;if(lt.isFormData(o)&&(F=$.headers.get("content-type"))&&b.setContentType(F),$.body){const[N,L]=B6(D,f1(R6(p)));o=z6($.body,U6,N,L)}}lt.isString(v)||(v=v?"include":"omit");const S="credentials"in Request.prototype;x=new Request(r,{...y,signal:k,method:n.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:S?v:void 0});let M=await fetch(x,y);const P=h_&&(g==="stream"||g==="response");if(h_&&(h||P&&C)){const $={};["status","statusText","headers"].forEach(U=>{$[U]=M[U]});const F=lt.toFiniteNumber(M.headers.get("content-length")),[N,L]=h&&B6(F,f1(R6(h),!0))||[];M=new Response(z6(M.body,U6,N,()=>{L&&L(),C&&C()}),$)}g=g||"text";let B=await p1[lt.findKey(p1,g)||"text"](M,t);return!P&&C&&C(),await new Promise(($,F)=>{mL($,F,{data:B,headers:xs.from(M.headers),status:M.status,statusText:M.statusText,config:t,request:x})})}catch(S){throw C&&C(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new Cn("Network Error",Cn.ERR_NETWORK,t,x),{cause:S.cause||S}):Cn.from(S,S&&S.code,t,x)}}),f_={http:Doe,xhr:ise,fetch:fse};lt.forEach(f_,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const q6=t=>`- ${t}`,pse=t=>lt.isFunction(t)||t===null||t===!1,yL={getAdapter:t=>{t=lt.isArray(t)?t:[t];const{length:r}=t;let n,o;const s={};for(let l=0;l<r;l++){n=t[l];let d;if(o=n,!pse(n)&&(o=f_[(d=String(n)).toLowerCase()],o===void 0))throw new Cn(`Unknown adapter '${d}'`);if(o)break;s[d||"#"+l]=o}if(!o){const l=Object.entries(s).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let d=r?l.length>1?`since :
`+l.map(q6).join(`
`):" "+q6(l[0]):"as no adapter specified";throw new Cn("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o},adapters:f_};function eA(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qp(null,t)}function V6(t){return eA(t),t.headers=xs.from(t.headers),t.data=Xv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),yL.getAdapter(t.adapter||db.adapter)(t).then(function(o){return eA(t),o.data=Xv.call(t,t.transformResponse,o),o.headers=xs.from(o.headers),o},function(o){return pL(o)||(eA(t),o&&o.response&&(o.response.data=Xv.call(t,t.transformResponse,o.response),o.response.headers=xs.from(o.response.headers))),Promise.reject(o)})}const vL="1.10.0",X1={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{X1[t]=function(o){return typeof o===t||"a"+(r<1?"n ":" ")+t}});const $6={};X1.transitional=function(r,n,o){function s(l,d){return"[Axios v"+vL+"] Transitional option '"+l+"'"+d+(o?". "+o:"")}return(l,d,h)=>{if(r===!1)throw new Cn(s(d," has been removed"+(n?" in "+n:"")),Cn.ERR_DEPRECATED);return n&&!$6[d]&&($6[d]=!0,console.warn(s(d," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(l,d,h):!0}};X1.spelling=function(r){return(n,o)=>(console.warn(`${o} is likely a misspelling of ${r}`),!0)};function mse(t,r,n){if(typeof t!="object")throw new Cn("options must be an object",Cn.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let s=o.length;for(;s-- >0;){const l=o[s],d=r[l];if(d){const h=t[l],p=h===void 0||d(h,l,t);if(p!==!0)throw new Cn("option "+l+" must be "+p,Cn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Cn("Unknown option "+l,Cn.ERR_BAD_OPTION)}}const Mk={assertOptions:mse,validators:X1},Ql=Mk.validators;let zh=class{constructor(r){this.defaults=r||{},this.interceptors={request:new j6,response:new j6}}async request(r,n){try{return await this._request(r,n)}catch(o){if(o instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const l=s.stack?s.stack.replace(/^.+\n/,""):"";try{o.stack?l&&!String(o.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+l):o.stack=l}catch{}}throw o}}_request(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=Gh(this.defaults,n);const{transitional:o,paramsSerializer:s,headers:l}=n;o!==void 0&&Mk.assertOptions(o,{silentJSONParsing:Ql.transitional(Ql.boolean),forcedJSONParsing:Ql.transitional(Ql.boolean),clarifyTimeoutError:Ql.transitional(Ql.boolean)},!1),s!=null&&(lt.isFunction(s)?n.paramsSerializer={serialize:s}:Mk.assertOptions(s,{encode:Ql.function,serialize:Ql.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Mk.assertOptions(n,{baseUrl:Ql.spelling("baseURL"),withXsrfToken:Ql.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=l&&lt.merge(l.common,l[n.method]);l&&lt.forEach(["delete","get","head","post","put","patch","common"],x=>{delete l[x]}),n.headers=xs.concat(d,l);const h=[];let p=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(p=p&&C.synchronous,h.unshift(C.fulfilled,C.rejected))});const g=[];this.interceptors.response.forEach(function(C){g.push(C.fulfilled,C.rejected)});let b,v=0,y;if(!p){const x=[V6.bind(this),void 0];for(x.unshift.apply(x,h),x.push.apply(x,g),y=x.length,b=Promise.resolve(n);v<y;)b=b.then(x[v++],x[v++]);return b}y=h.length;let k=n;for(v=0;v<y;){const x=h[v++],C=h[v++];try{k=x(k)}catch(D){C.call(this,D);break}}try{b=V6.call(this,k)}catch(x){return Promise.reject(x)}for(v=0,y=g.length;v<y;)b=b.then(g[v++],g[v++]);return b}getUri(r){r=Gh(this.defaults,r);const n=gL(r.baseURL,r.url,r.allowAbsoluteUrls);return dL(n,r.params,r.paramsSerializer)}};lt.forEach(["delete","get","head","options"],function(r){zh.prototype[r]=function(n,o){return this.request(Gh(o||{},{method:r,url:n,data:(o||{}).data}))}});lt.forEach(["post","put","patch"],function(r){function n(o){return function(l,d,h){return this.request(Gh(h||{},{method:r,headers:o?{"Content-Type":"multipart/form-data"}:{},url:l,data:d}))}}zh.prototype[r]=n(),zh.prototype[r+"Form"]=n(!0)});let gse=class AL{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const o=this;this.promise.then(s=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](s);o._listeners=null}),this.promise.then=s=>{let l;const d=new Promise(h=>{o.subscribe(h),l=h}).then(s);return d.cancel=function(){o.unsubscribe(l)},d},r(function(l,d,h){o.reason||(o.reason=new qp(l,d,h),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const r=new AbortController,n=o=>{r.abort(o)};return this.subscribe(n),r.signal.unsubscribe=()=>this.unsubscribe(n),r.signal}static source(){let r;return{token:new AL(function(s){r=s}),cancel:r}}};function bse(t){return function(n){return t.apply(null,n)}}function kse(t){return lt.isObject(t)&&t.isAxiosError===!0}const p_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(p_).forEach(([t,r])=>{p_[r]=t});function _L(t){const r=new zh(t),n=Xj(zh.prototype.request,r);return lt.extend(n,zh.prototype,r,{allOwnKeys:!0}),lt.extend(n,r,null,{allOwnKeys:!0}),n.create=function(s){return _L(Gh(t,s))},n}const Mi=_L(db);Mi.Axios=zh;Mi.CanceledError=qp;Mi.CancelToken=gse;Mi.isCancel=pL;Mi.VERSION=vL;Mi.toFormData=J1;Mi.AxiosError=Cn;Mi.Cancel=Mi.CanceledError;Mi.all=function(r){return Promise.all(r)};Mi.spread=bse;Mi.isAxiosError=kse;Mi.mergeConfig=Gh;Mi.AxiosHeaders=xs;Mi.formToJSON=t=>fL(lt.isHTMLForm(t)?new FormData(t):t);Mi.getAdapter=yL.getAdapter;Mi.HttpStatusCode=p_;Mi.default=Mi;const{Axios:pye,AxiosError:mye,CanceledError:gye,isCancel:bye,CancelToken:kye,VERSION:wye,all:yye,Cancel:vye,isAxiosError:Aye,spread:_ye,toFormData:Cye,AxiosHeaders:xye,HttpStatusCode:Sye,formToJSON:Eye,getAdapter:Dye,mergeConfig:Iye}=Mi;function ak(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var tA={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var H6;function wse(){return H6||(H6=1,function(t,r){(function(n){t.exports=n()})(function(){return function n(o,s,l){function d(g,b){if(!s[g]){if(!o[g]){var v=typeof ak=="function"&&ak;if(!b&&v)return v(g,!0);if(h)return h(g,!0);var y=new Error("Cannot find module '"+g+"'");throw y.code="MODULE_NOT_FOUND",y}var k=s[g]={exports:{}};o[g][0].call(k.exports,function(x){var C=o[g][1][x];return d(C||x)},k,k.exports,n,o,s,l)}return s[g].exports}for(var h=typeof ak=="function"&&ak,p=0;p<l.length;p++)d(l[p]);return d}({1:[function(n,o,s){var l=n("./utils"),d=n("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";s.encode=function(p){for(var g,b,v,y,k,x,C,D=[],S=0,M=p.length,P=M,B=l.getTypeOf(p)!=="string";S<p.length;)P=M-S,v=B?(g=p[S++],b=S<M?p[S++]:0,S<M?p[S++]:0):(g=p.charCodeAt(S++),b=S<M?p.charCodeAt(S++):0,S<M?p.charCodeAt(S++):0),y=g>>2,k=(3&g)<<4|b>>4,x=1<P?(15&b)<<2|v>>6:64,C=2<P?63&v:64,D.push(h.charAt(y)+h.charAt(k)+h.charAt(x)+h.charAt(C));return D.join("")},s.decode=function(p){var g,b,v,y,k,x,C=0,D=0,S="data:";if(p.substr(0,S.length)===S)throw new Error("Invalid base64 input, it looks like a data url.");var M,P=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===h.charAt(64)&&P--,p.charAt(p.length-2)===h.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(M=d.uint8array?new Uint8Array(0|P):new Array(0|P);C<p.length;)g=h.indexOf(p.charAt(C++))<<2|(y=h.indexOf(p.charAt(C++)))>>4,b=(15&y)<<4|(k=h.indexOf(p.charAt(C++)))>>2,v=(3&k)<<6|(x=h.indexOf(p.charAt(C++))),M[D++]=g,k!==64&&(M[D++]=b),x!==64&&(M[D++]=v);return M}},{"./support":30,"./utils":32}],2:[function(n,o,s){var l=n("./external"),d=n("./stream/DataWorker"),h=n("./stream/Crc32Probe"),p=n("./stream/DataLengthProbe");function g(b,v,y,k,x){this.compressedSize=b,this.uncompressedSize=v,this.crc32=y,this.compression=k,this.compressedContent=x}g.prototype={getContentWorker:function(){var b=new d(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),v=this;return b.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),b},getCompressedWorker:function(){return new d(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(b,v,y){return b.pipe(new h).pipe(new p("uncompressedSize")).pipe(v.compressWorker(y)).pipe(new p("compressedSize")).withStreamInfo("compression",v)},o.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,o,s){var l=n("./stream/GenericWorker");s.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},s.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,o,s){var l=n("./utils"),d=function(){for(var h,p=[],g=0;g<256;g++){h=g;for(var b=0;b<8;b++)h=1&h?3988292384^h>>>1:h>>>1;p[g]=h}return p}();o.exports=function(h,p){return h!==void 0&&h.length?l.getTypeOf(h)!=="string"?function(g,b,v,y){var k=d,x=y+v;g^=-1;for(var C=y;C<x;C++)g=g>>>8^k[255&(g^b[C])];return-1^g}(0|p,h,h.length,0):function(g,b,v,y){var k=d,x=y+v;g^=-1;for(var C=y;C<x;C++)g=g>>>8^k[255&(g^b.charCodeAt(C))];return-1^g}(0|p,h,h.length,0):0}},{"./utils":32}],5:[function(n,o,s){s.base64=!1,s.binary=!1,s.dir=!1,s.createFolders=!0,s.date=null,s.compression=null,s.compressionOptions=null,s.comment=null,s.unixPermissions=null,s.dosPermissions=null},{}],6:[function(n,o,s){var l=null;l=typeof Promise<"u"?Promise:n("lie"),o.exports={Promise:l}},{lie:37}],7:[function(n,o,s){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=n("pako"),h=n("./utils"),p=n("./stream/GenericWorker"),g=l?"uint8array":"array";function b(v,y){p.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=y,this.meta={}}s.magic="\b\0",h.inherits(b,p),b.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(g,v.data),!1)},b.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},b.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},b.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(y){v.push({data:y,meta:v.meta})}},s.compressWorker=function(v){return new b("Deflate",v)},s.uncompressWorker=function(){return new b("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,o,s){function l(k,x){var C,D="";for(C=0;C<x;C++)D+=String.fromCharCode(255&k),k>>>=8;return D}function d(k,x,C,D,S,M){var P,B,$=k.file,F=k.compression,N=M!==g.utf8encode,L=h.transformTo("string",M($.name)),U=h.transformTo("string",g.utf8encode($.name)),Q=$.comment,H=h.transformTo("string",M(Q)),z=h.transformTo("string",g.utf8encode(Q)),G=U.length!==$.name.length,R=z.length!==Q.length,ne="",ue="",ie="",oe=$.dir,ye=$.date,re={crc32:0,compressedSize:0,uncompressedSize:0};x&&!C||(re.crc32=k.crc32,re.compressedSize=k.compressedSize,re.uncompressedSize=k.uncompressedSize);var Ce=0;x&&(Ce|=8),N||!G&&!R||(Ce|=2048);var X=0,J=0;oe&&(X|=16),S==="UNIX"?(J=798,X|=function(le,ae){var Se=le;return le||(Se=ae?16893:33204),(65535&Se)<<16}($.unixPermissions,oe)):(J=20,X|=function(le){return 63&(le||0)}($.dosPermissions)),P=ye.getUTCHours(),P<<=6,P|=ye.getUTCMinutes(),P<<=5,P|=ye.getUTCSeconds()/2,B=ye.getUTCFullYear()-1980,B<<=4,B|=ye.getUTCMonth()+1,B<<=5,B|=ye.getUTCDate(),G&&(ue=l(1,1)+l(b(L),4)+U,ne+="up"+l(ue.length,2)+ue),R&&(ie=l(1,1)+l(b(H),4)+z,ne+="uc"+l(ie.length,2)+ie);var fe="";return fe+=`
\0`,fe+=l(Ce,2),fe+=F.magic,fe+=l(P,2),fe+=l(B,2),fe+=l(re.crc32,4),fe+=l(re.compressedSize,4),fe+=l(re.uncompressedSize,4),fe+=l(L.length,2),fe+=l(ne.length,2),{fileRecord:v.LOCAL_FILE_HEADER+fe+L+ne,dirRecord:v.CENTRAL_FILE_HEADER+l(J,2)+fe+l(H.length,2)+"\0\0\0\0"+l(X,4)+l(D,4)+L+ne+H}}var h=n("../utils"),p=n("../stream/GenericWorker"),g=n("../utf8"),b=n("../crc32"),v=n("../signature");function y(k,x,C,D){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=C,this.encodeFileName=D,this.streamFiles=k,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(y,p),y.prototype.push=function(k){var x=k.meta.percent||0,C=this.entriesCount,D=this._sources.length;this.accumulate?this.contentBuffer.push(k):(this.bytesWritten+=k.data.length,p.prototype.push.call(this,{data:k.data,meta:{currentFile:this.currentFile,percent:C?(x+100*(C-D-1))/C:100}}))},y.prototype.openedSource=function(k){this.currentSourceOffset=this.bytesWritten,this.currentFile=k.file.name;var x=this.streamFiles&&!k.file.dir;if(x){var C=d(k,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:C.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(k){this.accumulate=!1;var x=this.streamFiles&&!k.file.dir,C=d(k,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(C.dirRecord),x)this.push({data:function(D){return v.DATA_DESCRIPTOR+l(D.crc32,4)+l(D.compressedSize,4)+l(D.uncompressedSize,4)}(k),meta:{percent:100}});else for(this.push({data:C.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var k=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var C=this.bytesWritten-k,D=function(S,M,P,B,$){var F=h.transformTo("string",$(B));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(S,2)+l(S,2)+l(M,4)+l(P,4)+l(F.length,2)+F}(this.dirRecords.length,C,k,this.zipComment,this.encodeFileName);this.push({data:D,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(k){this._sources.push(k);var x=this;return k.on("data",function(C){x.processChunk(C)}),k.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),k.on("error",function(C){x.error(C)}),this},y.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(k){var x=this._sources;if(!p.prototype.error.call(this,k))return!1;for(var C=0;C<x.length;C++)try{x[C].error(k)}catch{}return!0},y.prototype.lock=function(){p.prototype.lock.call(this);for(var k=this._sources,x=0;x<k.length;x++)k[x].lock()},o.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,o,s){var l=n("../compressions"),d=n("./ZipFileWorker");s.generateWorker=function(h,p,g){var b=new d(p.streamFiles,g,p.platform,p.encodeFileName),v=0;try{h.forEach(function(y,k){v++;var x=function(M,P){var B=M||P,$=l[B];if(!$)throw new Error(B+" is not a valid compression method !");return $}(k.options.compression,p.compression),C=k.options.compressionOptions||p.compressionOptions||{},D=k.dir,S=k.date;k._compressWorker(x,C).withStreamInfo("file",{name:y,dir:D,date:S,comment:k.comment||"",unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions}).pipe(b)}),b.entriesCount=v}catch(y){b.error(y)}return b}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,o,s){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new l;for(var h in this)typeof this[h]!="function"&&(d[h]=this[h]);return d}}(l.prototype=n("./object")).loadAsync=n("./load"),l.support=n("./support"),l.defaults=n("./defaults"),l.version="3.10.1",l.loadAsync=function(d,h){return new l().loadAsync(d,h)},l.external=n("./external"),o.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,o,s){var l=n("./utils"),d=n("./external"),h=n("./utf8"),p=n("./zipEntries"),g=n("./stream/Crc32Probe"),b=n("./nodejsUtils");function v(y){return new d.Promise(function(k,x){var C=y.decompressed.getContentWorker().pipe(new g);C.on("error",function(D){x(D)}).on("end",function(){C.streamInfo.crc32!==y.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):k()}).resume()})}o.exports=function(y,k){var x=this;return k=l.extend(k||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),b.isNode&&b.isStream(y)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",y,!0,k.optimizedBinaryString,k.base64).then(function(C){var D=new p(k);return D.load(C),D}).then(function(C){var D=[d.Promise.resolve(C)],S=C.files;if(k.checkCRC32)for(var M=0;M<S.length;M++)D.push(v(S[M]));return d.Promise.all(D)}).then(function(C){for(var D=C.shift(),S=D.files,M=0;M<S.length;M++){var P=S[M],B=P.fileNameStr,$=l.resolve(P.fileNameStr);x.file($,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:k.createFolders}),P.dir||(x.file($).unsafeOriginalName=B)}return D.zipComment.length&&(x.comment=D.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,o,s){var l=n("../utils"),d=n("../stream/GenericWorker");function h(p,g){d.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(g)}l.inherits(h,d),h.prototype._bindStream=function(p){var g=this;(this._stream=p).pause(),p.on("data",function(b){g.push({data:b,meta:{percent:0}})}).on("error",function(b){g.isPaused?this.generatedError=b:g.error(b)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},h.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,o,s){var l=n("readable-stream").Readable;function d(h,p,g){l.call(this,p),this._helper=h;var b=this;h.on("data",function(v,y){b.push(v)||b._helper.pause(),g&&g(y)}).on("error",function(v){b.emit("error",v)}).on("end",function(){b.push(null)})}n("../utils").inherits(d,l),d.prototype._read=function(){this._helper.resume()},o.exports=d},{"../utils":32,"readable-stream":16}],14:[function(n,o,s){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,d);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,d)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var d=new Buffer(l);return d.fill(0),d},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(n,o,s){function l($,F,N){var L,U=h.getTypeOf(F),Q=h.extend(N||{},b);Q.date=Q.date||new Date,Q.compression!==null&&(Q.compression=Q.compression.toUpperCase()),typeof Q.unixPermissions=="string"&&(Q.unixPermissions=parseInt(Q.unixPermissions,8)),Q.unixPermissions&&16384&Q.unixPermissions&&(Q.dir=!0),Q.dosPermissions&&16&Q.dosPermissions&&(Q.dir=!0),Q.dir&&($=S($)),Q.createFolders&&(L=D($))&&M.call(this,L,!0);var H=U==="string"&&Q.binary===!1&&Q.base64===!1;N&&N.binary!==void 0||(Q.binary=!H),(F instanceof v&&F.uncompressedSize===0||Q.dir||!F||F.length===0)&&(Q.base64=!1,Q.binary=!0,F="",Q.compression="STORE",U="string");var z=null;z=F instanceof v||F instanceof p?F:x.isNode&&x.isStream(F)?new C($,F):h.prepareContent($,F,Q.binary,Q.optimizedBinaryString,Q.base64);var G=new y($,z,Q);this.files[$]=G}var d=n("./utf8"),h=n("./utils"),p=n("./stream/GenericWorker"),g=n("./stream/StreamHelper"),b=n("./defaults"),v=n("./compressedObject"),y=n("./zipObject"),k=n("./generate"),x=n("./nodejsUtils"),C=n("./nodejs/NodejsStreamInputAdapter"),D=function($){$.slice(-1)==="/"&&($=$.substring(0,$.length-1));var F=$.lastIndexOf("/");return 0<F?$.substring(0,F):""},S=function($){return $.slice(-1)!=="/"&&($+="/"),$},M=function($,F){return F=F!==void 0?F:b.createFolders,$=S($),this.files[$]||l.call(this,$,null,{dir:!0,createFolders:F}),this.files[$]};function P($){return Object.prototype.toString.call($)==="[object RegExp]"}var B={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function($){var F,N,L;for(F in this.files)L=this.files[F],(N=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&$(N,L)},filter:function($){var F=[];return this.forEach(function(N,L){$(N,L)&&F.push(L)}),F},file:function($,F,N){if(arguments.length!==1)return $=this.root+$,l.call(this,$,F,N),this;if(P($)){var L=$;return this.filter(function(Q,H){return!H.dir&&L.test(Q)})}var U=this.files[this.root+$];return U&&!U.dir?U:null},folder:function($){if(!$)return this;if(P($))return this.filter(function(U,Q){return Q.dir&&$.test(U)});var F=this.root+$,N=M.call(this,F),L=this.clone();return L.root=N.name,L},remove:function($){$=this.root+$;var F=this.files[$];if(F||($.slice(-1)!=="/"&&($+="/"),F=this.files[$]),F&&!F.dir)delete this.files[$];else for(var N=this.filter(function(U,Q){return Q.name.slice(0,$.length)===$}),L=0;L<N.length;L++)delete this.files[N[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function($){var F,N={};try{if((N=h.extend($||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");h.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var L=N.comment||this.comment||"";F=k.generateWorker(this,N,L)}catch(U){(F=new p("error")).error(U)}return new g(F,N.type||"string",N.mimeType)},generateAsync:function($,F){return this.generateInternalStream($).accumulate(F)},generateNodeStream:function($,F){return($=$||{}).type||($.type="nodebuffer"),this.generateInternalStream($).toNodejsStream(F)}};o.exports=B},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,o,s){o.exports=n("stream")},{stream:void 0}],17:[function(n,o,s){var l=n("./DataReader");function d(h){l.call(this,h);for(var p=0;p<this.data.length;p++)h[p]=255&h[p]}n("../utils").inherits(d,l),d.prototype.byteAt=function(h){return this.data[this.zero+h]},d.prototype.lastIndexOfSignature=function(h){for(var p=h.charCodeAt(0),g=h.charCodeAt(1),b=h.charCodeAt(2),v=h.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===p&&this.data[y+1]===g&&this.data[y+2]===b&&this.data[y+3]===v)return y-this.zero;return-1},d.prototype.readAndCheckSignature=function(h){var p=h.charCodeAt(0),g=h.charCodeAt(1),b=h.charCodeAt(2),v=h.charCodeAt(3),y=this.readData(4);return p===y[0]&&g===y[1]&&b===y[2]&&v===y[3]},d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./DataReader":18}],18:[function(n,o,s){var l=n("../utils");function d(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||h<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(){},readInt:function(h){var p,g=0;for(this.checkOffset(h),p=this.index+h-1;p>=this.index;p--)g=(g<<8)+this.byteAt(p);return this.index+=h,g},readString:function(h){return l.transformTo("string",this.readData(h))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},o.exports=d},{"../utils":32}],19:[function(n,o,s){var l=n("./Uint8ArrayReader");function d(h){l.call(this,h)}n("../utils").inherits(d,l),d.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,o,s){var l=n("./DataReader");function d(h){l.call(this,h)}n("../utils").inherits(d,l),d.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},d.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},d.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},d.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./DataReader":18}],21:[function(n,o,s){var l=n("./ArrayReader");function d(h){l.call(this,h)}n("../utils").inherits(d,l),d.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},o.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(n,o,s){var l=n("../utils"),d=n("../support"),h=n("./ArrayReader"),p=n("./StringReader"),g=n("./NodeBufferReader"),b=n("./Uint8ArrayReader");o.exports=function(v){var y=l.getTypeOf(v);return l.checkSupport(y),y!=="string"||d.uint8array?y==="nodebuffer"?new g(v):d.uint8array?new b(l.transformTo("uint8array",v)):new h(l.transformTo("array",v)):new p(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,o,s){s.LOCAL_FILE_HEADER="PK",s.CENTRAL_FILE_HEADER="PK",s.CENTRAL_DIRECTORY_END="PK",s.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",s.ZIP64_CENTRAL_DIRECTORY_END="PK",s.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,o,s){var l=n("./GenericWorker"),d=n("../utils");function h(p){l.call(this,"ConvertWorker to "+p),this.destType=p}d.inherits(h,l),h.prototype.processChunk=function(p){this.push({data:d.transformTo(this.destType,p.data),meta:p.meta})},o.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(n,o,s){var l=n("./GenericWorker"),d=n("../crc32");function h(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(h,l),h.prototype.processChunk=function(p){this.streamInfo.crc32=d(p.data,this.streamInfo.crc32||0),this.push(p)},o.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,o,s){var l=n("../utils"),d=n("./GenericWorker");function h(p){d.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}l.inherits(h,d),h.prototype.processChunk=function(p){if(p){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+p.data.length}d.prototype.processChunk.call(this,p)},o.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(n,o,s){var l=n("../utils"),d=n("./GenericWorker");function h(p){d.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(b){g.dataIsReady=!0,g.data=b,g.max=b&&b.length||0,g.type=l.getTypeOf(b),g.isPaused||g._tickAndRepeat()},function(b){g.error(b)})}l.inherits(h,d),h.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,g);break;case"uint8array":p=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":p=this.data.slice(this.index,g)}return this.index=g,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(n,o,s){function l(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,h){return this._listeners[d].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,h){if(this._listeners[d])for(var p=0;p<this._listeners[d].length;p++)this._listeners[d][p].call(this,h)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var h=this;return d.on("data",function(p){h.processChunk(p)}),d.on("end",function(){h.end()}),d.on("error",function(p){h.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,h){return this.extraStreamInfo[d]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},o.exports=l},{}],29:[function(n,o,s){var l=n("../utils"),d=n("./ConvertWorker"),h=n("./GenericWorker"),p=n("../base64"),g=n("../support"),b=n("../external"),v=null;if(g.nodestream)try{v=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(x,C){return new b.Promise(function(D,S){var M=[],P=x._internalType,B=x._outputType,$=x._mimeType;x.on("data",function(F,N){M.push(F),C&&C(N)}).on("error",function(F){M=[],S(F)}).on("end",function(){try{var F=function(N,L,U){switch(N){case"blob":return l.newBlob(l.transformTo("arraybuffer",L),U);case"base64":return p.encode(L);default:return l.transformTo(N,L)}}(B,function(N,L){var U,Q=0,H=null,z=0;for(U=0;U<L.length;U++)z+=L[U].length;switch(N){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(H=new Uint8Array(z),U=0;U<L.length;U++)H.set(L[U],Q),Q+=L[U].length;return H;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+N+"'")}}(P,M),$);D(F)}catch(N){S(N)}M=[]}).resume()})}function k(x,C,D){var S=C;switch(C){case"blob":case"arraybuffer":S="uint8array";break;case"base64":S="string"}try{this._internalType=S,this._outputType=C,this._mimeType=D,l.checkSupport(S),this._worker=x.pipe(new d(S)),x.lock()}catch(M){this._worker=new h("error"),this._worker.error(M)}}k.prototype={accumulate:function(x){return y(this,x)},on:function(x,C){var D=this;return x==="data"?this._worker.on(x,function(S){C.call(D,S.data,S.meta)}):this._worker.on(x,function(){l.delay(C,arguments,D)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},x)}},o.exports=k},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,o,s){if(s.base64=!0,s.array=!0,s.string=!0,s.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s.nodebuffer=typeof Buffer<"u",s.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")s.blob=!1;else{var l=new ArrayBuffer(0);try{s.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(l),s.blob=d.getBlob("application/zip").size===0}catch{s.blob=!1}}}try{s.nodestream=!!n("readable-stream").Readable}catch{s.nodestream=!1}},{"readable-stream":16}],31:[function(n,o,s){for(var l=n("./utils"),d=n("./support"),h=n("./nodejsUtils"),p=n("./stream/GenericWorker"),g=new Array(256),b=0;b<256;b++)g[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;g[254]=g[254]=1;function v(){p.call(this,"utf-8 decode"),this.leftOver=null}function y(){p.call(this,"utf-8 encode")}s.utf8encode=function(k){return d.nodebuffer?h.newBufferFrom(k,"utf-8"):function(x){var C,D,S,M,P,B=x.length,$=0;for(M=0;M<B;M++)(64512&(D=x.charCodeAt(M)))==55296&&M+1<B&&(64512&(S=x.charCodeAt(M+1)))==56320&&(D=65536+(D-55296<<10)+(S-56320),M++),$+=D<128?1:D<2048?2:D<65536?3:4;for(C=d.uint8array?new Uint8Array($):new Array($),M=P=0;P<$;M++)(64512&(D=x.charCodeAt(M)))==55296&&M+1<B&&(64512&(S=x.charCodeAt(M+1)))==56320&&(D=65536+(D-55296<<10)+(S-56320),M++),D<128?C[P++]=D:(D<2048?C[P++]=192|D>>>6:(D<65536?C[P++]=224|D>>>12:(C[P++]=240|D>>>18,C[P++]=128|D>>>12&63),C[P++]=128|D>>>6&63),C[P++]=128|63&D);return C}(k)},s.utf8decode=function(k){return d.nodebuffer?l.transformTo("nodebuffer",k).toString("utf-8"):function(x){var C,D,S,M,P=x.length,B=new Array(2*P);for(C=D=0;C<P;)if((S=x[C++])<128)B[D++]=S;else if(4<(M=g[S]))B[D++]=65533,C+=M-1;else{for(S&=M===2?31:M===3?15:7;1<M&&C<P;)S=S<<6|63&x[C++],M--;1<M?B[D++]=65533:S<65536?B[D++]=S:(S-=65536,B[D++]=55296|S>>10&1023,B[D++]=56320|1023&S)}return B.length!==D&&(B.subarray?B=B.subarray(0,D):B.length=D),l.applyFromCharCode(B)}(k=l.transformTo(d.uint8array?"uint8array":"array",k))},l.inherits(v,p),v.prototype.processChunk=function(k){var x=l.transformTo(d.uint8array?"uint8array":"array",k.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var C=x;(x=new Uint8Array(C.length+this.leftOver.length)).set(this.leftOver,0),x.set(C,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var D=function(M,P){var B;for((P=P||M.length)>M.length&&(P=M.length),B=P-1;0<=B&&(192&M[B])==128;)B--;return B<0||B===0?P:B+g[M[B]]>P?B:P}(x),S=x;D!==x.length&&(d.uint8array?(S=x.subarray(0,D),this.leftOver=x.subarray(D,x.length)):(S=x.slice(0,D),this.leftOver=x.slice(D,x.length))),this.push({data:s.utf8decode(S),meta:k.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=v,l.inherits(y,p),y.prototype.processChunk=function(k){this.push({data:s.utf8encode(k.data),meta:k.meta})},s.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,o,s){var l=n("./support"),d=n("./base64"),h=n("./nodejsUtils"),p=n("./external");function g(C){return C}function b(C,D){for(var S=0;S<C.length;++S)D[S]=255&C.charCodeAt(S);return D}n("setimmediate"),s.newBlob=function(C,D){s.checkSupport("blob");try{return new Blob([C],{type:D})}catch{try{var S=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return S.append(C),S.getBlob(D)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(C,D,S){var M=[],P=0,B=C.length;if(B<=S)return String.fromCharCode.apply(null,C);for(;P<B;)D==="array"||D==="nodebuffer"?M.push(String.fromCharCode.apply(null,C.slice(P,Math.min(P+S,B)))):M.push(String.fromCharCode.apply(null,C.subarray(P,Math.min(P+S,B)))),P+=S;return M.join("")},stringifyByChar:function(C){for(var D="",S=0;S<C.length;S++)D+=String.fromCharCode(C[S]);return D},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch{return!1}}()}};function y(C){var D=65536,S=s.getTypeOf(C),M=!0;if(S==="uint8array"?M=v.applyCanBeUsed.uint8array:S==="nodebuffer"&&(M=v.applyCanBeUsed.nodebuffer),M)for(;1<D;)try{return v.stringifyByChunk(C,S,D)}catch{D=Math.floor(D/2)}return v.stringifyByChar(C)}function k(C,D){for(var S=0;S<C.length;S++)D[S]=C[S];return D}s.applyFromCharCode=y;var x={};x.string={string:g,array:function(C){return b(C,new Array(C.length))},arraybuffer:function(C){return x.string.uint8array(C).buffer},uint8array:function(C){return b(C,new Uint8Array(C.length))},nodebuffer:function(C){return b(C,h.allocBuffer(C.length))}},x.array={string:y,array:g,arraybuffer:function(C){return new Uint8Array(C).buffer},uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return h.newBufferFrom(C)}},x.arraybuffer={string:function(C){return y(new Uint8Array(C))},array:function(C){return k(new Uint8Array(C),new Array(C.byteLength))},arraybuffer:g,uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return h.newBufferFrom(new Uint8Array(C))}},x.uint8array={string:y,array:function(C){return k(C,new Array(C.length))},arraybuffer:function(C){return C.buffer},uint8array:g,nodebuffer:function(C){return h.newBufferFrom(C)}},x.nodebuffer={string:y,array:function(C){return k(C,new Array(C.length))},arraybuffer:function(C){return x.nodebuffer.uint8array(C).buffer},uint8array:function(C){return k(C,new Uint8Array(C.length))},nodebuffer:g},s.transformTo=function(C,D){if(D=D||"",!C)return D;s.checkSupport(C);var S=s.getTypeOf(D);return x[S][C](D)},s.resolve=function(C){for(var D=C.split("/"),S=[],M=0;M<D.length;M++){var P=D[M];P==="."||P===""&&M!==0&&M!==D.length-1||(P===".."?S.pop():S.push(P))}return S.join("/")},s.getTypeOf=function(C){return typeof C=="string"?"string":Object.prototype.toString.call(C)==="[object Array]"?"array":l.nodebuffer&&h.isBuffer(C)?"nodebuffer":l.uint8array&&C instanceof Uint8Array?"uint8array":l.arraybuffer&&C instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(C){if(!l[C.toLowerCase()])throw new Error(C+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(C){var D,S,M="";for(S=0;S<(C||"").length;S++)M+="\\x"+((D=C.charCodeAt(S))<16?"0":"")+D.toString(16).toUpperCase();return M},s.delay=function(C,D,S){setImmediate(function(){C.apply(S||null,D||[])})},s.inherits=function(C,D){function S(){}S.prototype=D.prototype,C.prototype=new S},s.extend=function(){var C,D,S={};for(C=0;C<arguments.length;C++)for(D in arguments[C])Object.prototype.hasOwnProperty.call(arguments[C],D)&&S[D]===void 0&&(S[D]=arguments[C][D]);return S},s.prepareContent=function(C,D,S,M,P){return p.Promise.resolve(D).then(function(B){return l.blob&&(B instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(B))!==-1)&&typeof FileReader<"u"?new p.Promise(function($,F){var N=new FileReader;N.onload=function(L){$(L.target.result)},N.onerror=function(L){F(L.target.error)},N.readAsArrayBuffer(B)}):B}).then(function(B){var $=s.getTypeOf(B);return $?($==="arraybuffer"?B=s.transformTo("uint8array",B):$==="string"&&(P?B=d.decode(B):S&&M!==!0&&(B=function(F){return b(F,l.uint8array?new Uint8Array(F.length):new Array(F.length))}(B))),B):p.Promise.reject(new Error("Can't read the data of '"+C+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,o,s){var l=n("./reader/readerFor"),d=n("./utils"),h=n("./signature"),p=n("./zipEntry"),g=n("./support");function b(v){this.files=[],this.loadOptions=v}b.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(y)+", expected "+d.pretty(v)+")")}},isSignature:function(v,y){var k=this.reader.index;this.reader.setIndex(v);var x=this.reader.readString(4)===y;return this.reader.setIndex(k),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),y=g.uint8array?"uint8array":"array",k=d.transformTo(y,v);this.zipComment=this.loadOptions.decodeFileName(k)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,y,k,x=this.zip64EndOfCentralSize-44;0<x;)v=this.reader.readInt(2),y=this.reader.readInt(4),k=this.reader.readData(y),this.zip64ExtensibleData[v]={id:v,length:y,value:k}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,y;for(v=0;v<this.files.length;v++)y=this.files[v],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(v=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var y=v;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var k=this.centralDirOffset+this.centralDirSize;this.zip64&&(k+=20,k+=12+this.zip64EndOfCentralSize);var x=y-k;if(0<x)this.isSignature(y,h.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(v){this.reader=l(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=b},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,o,s){var l=n("./reader/readerFor"),d=n("./utils"),h=n("./compressedObject"),p=n("./crc32"),g=n("./utf8"),b=n("./compressions"),v=n("./support");function y(k,x){this.options=k,this.loadOptions=x}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(k){var x,C;if(k.skip(22),this.fileNameLength=k.readInt(2),C=k.readInt(2),this.fileName=k.readData(this.fileNameLength),k.skip(C),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(D){for(var S in b)if(Object.prototype.hasOwnProperty.call(b,S)&&b[S].magic===D)return b[S];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,x,k.readData(this.compressedSize))},readCentralPart:function(k){this.versionMadeBy=k.readInt(2),k.skip(2),this.bitFlag=k.readInt(2),this.compressionMethod=k.readString(2),this.date=k.readDate(),this.crc32=k.readInt(4),this.compressedSize=k.readInt(4),this.uncompressedSize=k.readInt(4);var x=k.readInt(2);if(this.extraFieldsLength=k.readInt(2),this.fileCommentLength=k.readInt(2),this.diskNumberStart=k.readInt(2),this.internalFileAttributes=k.readInt(2),this.externalFileAttributes=k.readInt(4),this.localHeaderOffset=k.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");k.skip(x),this.readExtraFields(k),this.parseZIP64ExtraField(k),this.fileComment=k.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var k=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),k==0&&(this.dosPermissions=63&this.externalFileAttributes),k==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var k=l(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=k.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=k.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=k.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=k.readInt(4))}},readExtraFields:function(k){var x,C,D,S=k.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});k.index+4<S;)x=k.readInt(2),C=k.readInt(2),D=k.readData(C),this.extraFields[x]={id:x,length:C,value:D};k.setIndex(S)},handleUTF8:function(){var k=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var C=d.transformTo(k,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(C)}var D=this.findExtraFieldUnicodeComment();if(D!==null)this.fileCommentStr=D;else{var S=d.transformTo(k,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var k=this.extraFields[28789];if(k){var x=l(k.value);return x.readInt(1)!==1||p(this.fileName)!==x.readInt(4)?null:g.utf8decode(x.readData(k.length-5))}return null},findExtraFieldUnicodeComment:function(){var k=this.extraFields[25461];if(k){var x=l(k.value);return x.readInt(1)!==1||p(this.fileComment)!==x.readInt(4)?null:g.utf8decode(x.readData(k.length-5))}return null}},o.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,o,s){function l(x,C,D){this.name=x,this.dir=D.dir,this.date=D.date,this.comment=D.comment,this.unixPermissions=D.unixPermissions,this.dosPermissions=D.dosPermissions,this._data=C,this._dataBinary=D.binary,this.options={compression:D.compression,compressionOptions:D.compressionOptions}}var d=n("./stream/StreamHelper"),h=n("./stream/DataWorker"),p=n("./utf8"),g=n("./compressedObject"),b=n("./stream/GenericWorker");l.prototype={internalStream:function(x){var C=null,D="string";try{if(!x)throw new Error("No output type specified.");var S=(D=x.toLowerCase())==="string"||D==="text";D!=="binarystring"&&D!=="text"||(D="string"),C=this._decompressWorker();var M=!this._dataBinary;M&&!S&&(C=C.pipe(new p.Utf8EncodeWorker)),!M&&S&&(C=C.pipe(new p.Utf8DecodeWorker))}catch(P){(C=new b("error")).error(P)}return new d(C,D,"")},async:function(x,C){return this.internalStream(x).accumulate(C)},nodeStream:function(x,C){return this.internalStream(x||"nodebuffer").toNodejsStream(C)},_compressWorker:function(x,C){if(this._data instanceof g&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var D=this._decompressWorker();return this._dataBinary||(D=D.pipe(new p.Utf8EncodeWorker)),g.createWorkerFrom(D,x,C)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof b?this._data:new h(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},k=0;k<v.length;k++)l.prototype[v[k]]=y;o.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,o,s){(function(l){var d,h,p=l.MutationObserver||l.WebKitMutationObserver;if(p){var g=0,b=new p(x),v=l.document.createTextNode("");b.observe(v,{characterData:!0}),d=function(){v.data=g=++g%2}}else if(l.setImmediate||l.MessageChannel===void 0)d="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var C=l.document.createElement("script");C.onreadystatechange=function(){x(),C.onreadystatechange=null,C.parentNode.removeChild(C),C=null},l.document.documentElement.appendChild(C)}:function(){setTimeout(x,0)};else{var y=new l.MessageChannel;y.port1.onmessage=x,d=function(){y.port2.postMessage(0)}}var k=[];function x(){var C,D;h=!0;for(var S=k.length;S;){for(D=k,k=[],C=-1;++C<S;)D[C]();S=k.length}h=!1}o.exports=function(C){k.push(C)!==1||h||d()}}).call(this,typeof od<"u"?od:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,o,s){var l=n("immediate");function d(){}var h={},p=["REJECTED"],g=["FULFILLED"],b=["PENDING"];function v(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,S!==d&&C(this,S)}function y(S,M,P){this.promise=S,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function k(S,M,P){l(function(){var B;try{B=M(P)}catch($){return h.reject(S,$)}B===S?h.reject(S,new TypeError("Cannot resolve promise with itself")):h.resolve(S,B)})}function x(S){var M=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof M=="function")return function(){M.apply(S,arguments)}}function C(S,M){var P=!1;function B(N){P||(P=!0,h.reject(S,N))}function $(N){P||(P=!0,h.resolve(S,N))}var F=D(function(){M($,B)});F.status==="error"&&B(F.value)}function D(S,M){var P={};try{P.value=S(M),P.status="success"}catch(B){P.status="error",P.value=B}return P}(o.exports=v).prototype.finally=function(S){if(typeof S!="function")return this;var M=this.constructor;return this.then(function(P){return M.resolve(S()).then(function(){return P})},function(P){return M.resolve(S()).then(function(){throw P})})},v.prototype.catch=function(S){return this.then(null,S)},v.prototype.then=function(S,M){if(typeof S!="function"&&this.state===g||typeof M!="function"&&this.state===p)return this;var P=new this.constructor(d);return this.state!==b?k(P,this.state===g?S:M,this.outcome):this.queue.push(new y(P,S,M)),P},y.prototype.callFulfilled=function(S){h.resolve(this.promise,S)},y.prototype.otherCallFulfilled=function(S){k(this.promise,this.onFulfilled,S)},y.prototype.callRejected=function(S){h.reject(this.promise,S)},y.prototype.otherCallRejected=function(S){k(this.promise,this.onRejected,S)},h.resolve=function(S,M){var P=D(x,M);if(P.status==="error")return h.reject(S,P.value);var B=P.value;if(B)C(S,B);else{S.state=g,S.outcome=M;for(var $=-1,F=S.queue.length;++$<F;)S.queue[$].callFulfilled(M)}return S},h.reject=function(S,M){S.state=p,S.outcome=M;for(var P=-1,B=S.queue.length;++P<B;)S.queue[P].callRejected(M);return S},v.resolve=function(S){return S instanceof this?S:h.resolve(new this(d),S)},v.reject=function(S){var M=new this(d);return h.reject(M,S)},v.all=function(S){var M=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=S.length,B=!1;if(!P)return this.resolve([]);for(var $=new Array(P),F=0,N=-1,L=new this(d);++N<P;)U(S[N],N);return L;function U(Q,H){M.resolve(Q).then(function(z){$[H]=z,++F!==P||B||(B=!0,h.resolve(L,$))},function(z){B||(B=!0,h.reject(L,z))})}},v.race=function(S){var M=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=S.length,B=!1;if(!P)return this.resolve([]);for(var $=-1,F=new this(d);++$<P;)N=S[$],M.resolve(N).then(function(L){B||(B=!0,h.resolve(F,L))},function(L){B||(B=!0,h.reject(F,L))});var N;return F}},{immediate:36}],38:[function(n,o,s){var l={};(0,n("./lib/utils/common").assign)(l,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),o.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,o,s){var l=n("./zlib/deflate"),d=n("./utils/common"),h=n("./utils/strings"),p=n("./zlib/messages"),g=n("./zlib/zstream"),b=Object.prototype.toString,v=0,y=-1,k=0,x=8;function C(S){if(!(this instanceof C))return new C(S);this.options=d.assign({level:y,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:k,to:""},S||{});var M=this.options;M.raw&&0<M.windowBits?M.windowBits=-M.windowBits:M.gzip&&0<M.windowBits&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var P=l.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(P!==v)throw new Error(p[P]);if(M.header&&l.deflateSetHeader(this.strm,M.header),M.dictionary){var B;if(B=typeof M.dictionary=="string"?h.string2buf(M.dictionary):b.call(M.dictionary)==="[object ArrayBuffer]"?new Uint8Array(M.dictionary):M.dictionary,(P=l.deflateSetDictionary(this.strm,B))!==v)throw new Error(p[P]);this._dict_set=!0}}function D(S,M){var P=new C(M);if(P.push(S,!0),P.err)throw P.msg||p[P.err];return P.result}C.prototype.push=function(S,M){var P,B,$=this.strm,F=this.options.chunkSize;if(this.ended)return!1;B=M===~~M?M:M===!0?4:0,typeof S=="string"?$.input=h.string2buf(S):b.call(S)==="[object ArrayBuffer]"?$.input=new Uint8Array(S):$.input=S,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new d.Buf8(F),$.next_out=0,$.avail_out=F),(P=l.deflate($,B))!==1&&P!==v)return this.onEnd(P),!(this.ended=!0);$.avail_out!==0&&($.avail_in!==0||B!==4&&B!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(d.shrinkBuf($.output,$.next_out))):this.onData(d.shrinkBuf($.output,$.next_out)))}while((0<$.avail_in||$.avail_out===0)&&P!==1);return B===4?(P=l.deflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===v):B!==2||(this.onEnd(v),!($.avail_out=0))},C.prototype.onData=function(S){this.chunks.push(S)},C.prototype.onEnd=function(S){S===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},s.Deflate=C,s.deflate=D,s.deflateRaw=function(S,M){return(M=M||{}).raw=!0,D(S,M)},s.gzip=function(S,M){return(M=M||{}).gzip=!0,D(S,M)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,o,s){var l=n("./zlib/inflate"),d=n("./utils/common"),h=n("./utils/strings"),p=n("./zlib/constants"),g=n("./zlib/messages"),b=n("./zlib/zstream"),v=n("./zlib/gzheader"),y=Object.prototype.toString;function k(C){if(!(this instanceof k))return new k(C);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},C||{});var D=this.options;D.raw&&0<=D.windowBits&&D.windowBits<16&&(D.windowBits=-D.windowBits,D.windowBits===0&&(D.windowBits=-15)),!(0<=D.windowBits&&D.windowBits<16)||C&&C.windowBits||(D.windowBits+=32),15<D.windowBits&&D.windowBits<48&&(15&D.windowBits)==0&&(D.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var S=l.inflateInit2(this.strm,D.windowBits);if(S!==p.Z_OK)throw new Error(g[S]);this.header=new v,l.inflateGetHeader(this.strm,this.header)}function x(C,D){var S=new k(D);if(S.push(C,!0),S.err)throw S.msg||g[S.err];return S.result}k.prototype.push=function(C,D){var S,M,P,B,$,F,N=this.strm,L=this.options.chunkSize,U=this.options.dictionary,Q=!1;if(this.ended)return!1;M=D===~~D?D:D===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof C=="string"?N.input=h.binstring2buf(C):y.call(C)==="[object ArrayBuffer]"?N.input=new Uint8Array(C):N.input=C,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new d.Buf8(L),N.next_out=0,N.avail_out=L),(S=l.inflate(N,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&U&&(F=typeof U=="string"?h.string2buf(U):y.call(U)==="[object ArrayBuffer]"?new Uint8Array(U):U,S=l.inflateSetDictionary(this.strm,F)),S===p.Z_BUF_ERROR&&Q===!0&&(S=p.Z_OK,Q=!1),S!==p.Z_STREAM_END&&S!==p.Z_OK)return this.onEnd(S),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&S!==p.Z_STREAM_END&&(N.avail_in!==0||M!==p.Z_FINISH&&M!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=h.utf8border(N.output,N.next_out),B=N.next_out-P,$=h.buf2string(N.output,P),N.next_out=B,N.avail_out=L-B,B&&d.arraySet(N.output,N.output,P,B,0),this.onData($)):this.onData(d.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(Q=!0)}while((0<N.avail_in||N.avail_out===0)&&S!==p.Z_STREAM_END);return S===p.Z_STREAM_END&&(M=p.Z_FINISH),M===p.Z_FINISH?(S=l.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===p.Z_OK):M!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(N.avail_out=0))},k.prototype.onData=function(C){this.chunks.push(C)},k.prototype.onEnd=function(C){C===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},s.Inflate=k,s.inflate=x,s.inflateRaw=function(C,D){return(D=D||{}).raw=!0,x(C,D)},s.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,o,s){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";s.assign=function(p){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var b=g.shift();if(b){if(typeof b!="object")throw new TypeError(b+"must be non-object");for(var v in b)b.hasOwnProperty(v)&&(p[v]=b[v])}}return p},s.shrinkBuf=function(p,g){return p.length===g?p:p.subarray?p.subarray(0,g):(p.length=g,p)};var d={arraySet:function(p,g,b,v,y){if(g.subarray&&p.subarray)p.set(g.subarray(b,b+v),y);else for(var k=0;k<v;k++)p[y+k]=g[b+k]},flattenChunks:function(p){var g,b,v,y,k,x;for(g=v=0,b=p.length;g<b;g++)v+=p[g].length;for(x=new Uint8Array(v),g=y=0,b=p.length;g<b;g++)k=p[g],x.set(k,y),y+=k.length;return x}},h={arraySet:function(p,g,b,v,y){for(var k=0;k<v;k++)p[y+k]=g[b+k]},flattenChunks:function(p){return[].concat.apply([],p)}};s.setTyped=function(p){p?(s.Buf8=Uint8Array,s.Buf16=Uint16Array,s.Buf32=Int32Array,s.assign(s,d)):(s.Buf8=Array,s.Buf16=Array,s.Buf32=Array,s.assign(s,h))},s.setTyped(l)},{}],42:[function(n,o,s){var l=n("./common"),d=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var p=new l.Buf8(256),g=0;g<256;g++)p[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function b(v,y){if(y<65537&&(v.subarray&&h||!v.subarray&&d))return String.fromCharCode.apply(null,l.shrinkBuf(v,y));for(var k="",x=0;x<y;x++)k+=String.fromCharCode(v[x]);return k}p[254]=p[254]=1,s.string2buf=function(v){var y,k,x,C,D,S=v.length,M=0;for(C=0;C<S;C++)(64512&(k=v.charCodeAt(C)))==55296&&C+1<S&&(64512&(x=v.charCodeAt(C+1)))==56320&&(k=65536+(k-55296<<10)+(x-56320),C++),M+=k<128?1:k<2048?2:k<65536?3:4;for(y=new l.Buf8(M),C=D=0;D<M;C++)(64512&(k=v.charCodeAt(C)))==55296&&C+1<S&&(64512&(x=v.charCodeAt(C+1)))==56320&&(k=65536+(k-55296<<10)+(x-56320),C++),k<128?y[D++]=k:(k<2048?y[D++]=192|k>>>6:(k<65536?y[D++]=224|k>>>12:(y[D++]=240|k>>>18,y[D++]=128|k>>>12&63),y[D++]=128|k>>>6&63),y[D++]=128|63&k);return y},s.buf2binstring=function(v){return b(v,v.length)},s.binstring2buf=function(v){for(var y=new l.Buf8(v.length),k=0,x=y.length;k<x;k++)y[k]=v.charCodeAt(k);return y},s.buf2string=function(v,y){var k,x,C,D,S=y||v.length,M=new Array(2*S);for(k=x=0;k<S;)if((C=v[k++])<128)M[x++]=C;else if(4<(D=p[C]))M[x++]=65533,k+=D-1;else{for(C&=D===2?31:D===3?15:7;1<D&&k<S;)C=C<<6|63&v[k++],D--;1<D?M[x++]=65533:C<65536?M[x++]=C:(C-=65536,M[x++]=55296|C>>10&1023,M[x++]=56320|1023&C)}return b(M,x)},s.utf8border=function(v,y){var k;for((y=y||v.length)>v.length&&(y=v.length),k=y-1;0<=k&&(192&v[k])==128;)k--;return k<0||k===0?y:k+p[v[k]]>y?k:y}},{"./common":41}],43:[function(n,o,s){o.exports=function(l,d,h,p){for(var g=65535&l|0,b=l>>>16&65535|0,v=0;h!==0;){for(h-=v=2e3<h?2e3:h;b=b+(g=g+d[p++]|0)|0,--v;);g%=65521,b%=65521}return g|b<<16|0}},{}],44:[function(n,o,s){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,o,s){var l=function(){for(var d,h=[],p=0;p<256;p++){d=p;for(var g=0;g<8;g++)d=1&d?3988292384^d>>>1:d>>>1;h[p]=d}return h}();o.exports=function(d,h,p,g){var b=l,v=g+p;d^=-1;for(var y=g;y<v;y++)d=d>>>8^b[255&(d^h[y])];return-1^d}},{}],46:[function(n,o,s){var l,d=n("../utils/common"),h=n("./trees"),p=n("./adler32"),g=n("./crc32"),b=n("./messages"),v=0,y=4,k=0,x=-2,C=-1,D=4,S=2,M=8,P=9,B=286,$=30,F=19,N=2*B+1,L=15,U=3,Q=258,H=Q+U+1,z=42,G=113,R=1,ne=2,ue=3,ie=4;function oe(Z,_e){return Z.msg=b[_e],_e}function ye(Z){return(Z<<1)-(4<Z?9:0)}function re(Z){for(var _e=Z.length;0<=--_e;)Z[_e]=0}function Ce(Z){var _e=Z.state,he=_e.pending;he>Z.avail_out&&(he=Z.avail_out),he!==0&&(d.arraySet(Z.output,_e.pending_buf,_e.pending_out,he,Z.next_out),Z.next_out+=he,_e.pending_out+=he,Z.total_out+=he,Z.avail_out-=he,_e.pending-=he,_e.pending===0&&(_e.pending_out=0))}function X(Z,_e){h._tr_flush_block(Z,0<=Z.block_start?Z.block_start:-1,Z.strstart-Z.block_start,_e),Z.block_start=Z.strstart,Ce(Z.strm)}function J(Z,_e){Z.pending_buf[Z.pending++]=_e}function fe(Z,_e){Z.pending_buf[Z.pending++]=_e>>>8&255,Z.pending_buf[Z.pending++]=255&_e}function le(Z,_e){var he,be,pe=Z.max_chain_length,Ae=Z.strstart,Oe=Z.prev_length,Me=Z.nice_match,Ie=Z.strstart>Z.w_size-H?Z.strstart-(Z.w_size-H):0,$e=Z.window,Ke=Z.w_mask,qe=Z.prev,it=Z.strstart+Q,Be=$e[Ae+Oe-1],Qe=$e[Ae+Oe];Z.prev_length>=Z.good_match&&(pe>>=2),Me>Z.lookahead&&(Me=Z.lookahead);do if($e[(he=_e)+Oe]===Qe&&$e[he+Oe-1]===Be&&$e[he]===$e[Ae]&&$e[++he]===$e[Ae+1]){Ae+=2,he++;do;while($e[++Ae]===$e[++he]&&$e[++Ae]===$e[++he]&&$e[++Ae]===$e[++he]&&$e[++Ae]===$e[++he]&&$e[++Ae]===$e[++he]&&$e[++Ae]===$e[++he]&&$e[++Ae]===$e[++he]&&$e[++Ae]===$e[++he]&&Ae<it);if(be=Q-(it-Ae),Ae=it-Q,Oe<be){if(Z.match_start=_e,Me<=(Oe=be))break;Be=$e[Ae+Oe-1],Qe=$e[Ae+Oe]}}while((_e=qe[_e&Ke])>Ie&&--pe!=0);return Oe<=Z.lookahead?Oe:Z.lookahead}function ae(Z){var _e,he,be,pe,Ae,Oe,Me,Ie,$e,Ke,qe=Z.w_size;do{if(pe=Z.window_size-Z.lookahead-Z.strstart,Z.strstart>=qe+(qe-H)){for(d.arraySet(Z.window,Z.window,qe,qe,0),Z.match_start-=qe,Z.strstart-=qe,Z.block_start-=qe,_e=he=Z.hash_size;be=Z.head[--_e],Z.head[_e]=qe<=be?be-qe:0,--he;);for(_e=he=qe;be=Z.prev[--_e],Z.prev[_e]=qe<=be?be-qe:0,--he;);pe+=qe}if(Z.strm.avail_in===0)break;if(Oe=Z.strm,Me=Z.window,Ie=Z.strstart+Z.lookahead,$e=pe,Ke=void 0,Ke=Oe.avail_in,$e<Ke&&(Ke=$e),he=Ke===0?0:(Oe.avail_in-=Ke,d.arraySet(Me,Oe.input,Oe.next_in,Ke,Ie),Oe.state.wrap===1?Oe.adler=p(Oe.adler,Me,Ke,Ie):Oe.state.wrap===2&&(Oe.adler=g(Oe.adler,Me,Ke,Ie)),Oe.next_in+=Ke,Oe.total_in+=Ke,Ke),Z.lookahead+=he,Z.lookahead+Z.insert>=U)for(Ae=Z.strstart-Z.insert,Z.ins_h=Z.window[Ae],Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Ae+1])&Z.hash_mask;Z.insert&&(Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Ae+U-1])&Z.hash_mask,Z.prev[Ae&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=Ae,Ae++,Z.insert--,!(Z.lookahead+Z.insert<U)););}while(Z.lookahead<H&&Z.strm.avail_in!==0)}function Se(Z,_e){for(var he,be;;){if(Z.lookahead<H){if(ae(Z),Z.lookahead<H&&_e===v)return R;if(Z.lookahead===0)break}if(he=0,Z.lookahead>=U&&(Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Z.strstart+U-1])&Z.hash_mask,he=Z.prev[Z.strstart&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=Z.strstart),he!==0&&Z.strstart-he<=Z.w_size-H&&(Z.match_length=le(Z,he)),Z.match_length>=U)if(be=h._tr_tally(Z,Z.strstart-Z.match_start,Z.match_length-U),Z.lookahead-=Z.match_length,Z.match_length<=Z.max_lazy_match&&Z.lookahead>=U){for(Z.match_length--;Z.strstart++,Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Z.strstart+U-1])&Z.hash_mask,he=Z.prev[Z.strstart&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=Z.strstart,--Z.match_length!=0;);Z.strstart++}else Z.strstart+=Z.match_length,Z.match_length=0,Z.ins_h=Z.window[Z.strstart],Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Z.strstart+1])&Z.hash_mask;else be=h._tr_tally(Z,0,Z.window[Z.strstart]),Z.lookahead--,Z.strstart++;if(be&&(X(Z,!1),Z.strm.avail_out===0))return R}return Z.insert=Z.strstart<U-1?Z.strstart:U-1,_e===y?(X(Z,!0),Z.strm.avail_out===0?ue:ie):Z.last_lit&&(X(Z,!1),Z.strm.avail_out===0)?R:ne}function xe(Z,_e){for(var he,be,pe;;){if(Z.lookahead<H){if(ae(Z),Z.lookahead<H&&_e===v)return R;if(Z.lookahead===0)break}if(he=0,Z.lookahead>=U&&(Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Z.strstart+U-1])&Z.hash_mask,he=Z.prev[Z.strstart&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=Z.strstart),Z.prev_length=Z.match_length,Z.prev_match=Z.match_start,Z.match_length=U-1,he!==0&&Z.prev_length<Z.max_lazy_match&&Z.strstart-he<=Z.w_size-H&&(Z.match_length=le(Z,he),Z.match_length<=5&&(Z.strategy===1||Z.match_length===U&&4096<Z.strstart-Z.match_start)&&(Z.match_length=U-1)),Z.prev_length>=U&&Z.match_length<=Z.prev_length){for(pe=Z.strstart+Z.lookahead-U,be=h._tr_tally(Z,Z.strstart-1-Z.prev_match,Z.prev_length-U),Z.lookahead-=Z.prev_length-1,Z.prev_length-=2;++Z.strstart<=pe&&(Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Z.strstart+U-1])&Z.hash_mask,he=Z.prev[Z.strstart&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=Z.strstart),--Z.prev_length!=0;);if(Z.match_available=0,Z.match_length=U-1,Z.strstart++,be&&(X(Z,!1),Z.strm.avail_out===0))return R}else if(Z.match_available){if((be=h._tr_tally(Z,0,Z.window[Z.strstart-1]))&&X(Z,!1),Z.strstart++,Z.lookahead--,Z.strm.avail_out===0)return R}else Z.match_available=1,Z.strstart++,Z.lookahead--}return Z.match_available&&(be=h._tr_tally(Z,0,Z.window[Z.strstart-1]),Z.match_available=0),Z.insert=Z.strstart<U-1?Z.strstart:U-1,_e===y?(X(Z,!0),Z.strm.avail_out===0?ue:ie):Z.last_lit&&(X(Z,!1),Z.strm.avail_out===0)?R:ne}function Te(Z,_e,he,be,pe){this.good_length=Z,this.max_lazy=_e,this.nice_length=he,this.max_chain=be,this.func=pe}function Ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*N),this.dyn_dtree=new d.Buf16(2*(2*$+1)),this.bl_tree=new d.Buf16(2*(2*F+1)),re(this.dyn_ltree),re(this.dyn_dtree),re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(L+1),this.heap=new d.Buf16(2*B+1),re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*B+1),re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function We(Z){var _e;return Z&&Z.state?(Z.total_in=Z.total_out=0,Z.data_type=S,(_e=Z.state).pending=0,_e.pending_out=0,_e.wrap<0&&(_e.wrap=-_e.wrap),_e.status=_e.wrap?z:G,Z.adler=_e.wrap===2?0:1,_e.last_flush=v,h._tr_init(_e),k):oe(Z,x)}function Je(Z){var _e=We(Z);return _e===k&&function(he){he.window_size=2*he.w_size,re(he.head),he.max_lazy_match=l[he.level].max_lazy,he.good_match=l[he.level].good_length,he.nice_match=l[he.level].nice_length,he.max_chain_length=l[he.level].max_chain,he.strstart=0,he.block_start=0,he.lookahead=0,he.insert=0,he.match_length=he.prev_length=U-1,he.match_available=0,he.ins_h=0}(Z.state),_e}function Ue(Z,_e,he,be,pe,Ae){if(!Z)return x;var Oe=1;if(_e===C&&(_e=6),be<0?(Oe=0,be=-be):15<be&&(Oe=2,be-=16),pe<1||P<pe||he!==M||be<8||15<be||_e<0||9<_e||Ae<0||D<Ae)return oe(Z,x);be===8&&(be=9);var Me=new Ye;return(Z.state=Me).strm=Z,Me.wrap=Oe,Me.gzhead=null,Me.w_bits=be,Me.w_size=1<<Me.w_bits,Me.w_mask=Me.w_size-1,Me.hash_bits=pe+7,Me.hash_size=1<<Me.hash_bits,Me.hash_mask=Me.hash_size-1,Me.hash_shift=~~((Me.hash_bits+U-1)/U),Me.window=new d.Buf8(2*Me.w_size),Me.head=new d.Buf16(Me.hash_size),Me.prev=new d.Buf16(Me.w_size),Me.lit_bufsize=1<<pe+6,Me.pending_buf_size=4*Me.lit_bufsize,Me.pending_buf=new d.Buf8(Me.pending_buf_size),Me.d_buf=1*Me.lit_bufsize,Me.l_buf=3*Me.lit_bufsize,Me.level=_e,Me.strategy=Ae,Me.method=he,Je(Z)}l=[new Te(0,0,0,0,function(Z,_e){var he=65535;for(he>Z.pending_buf_size-5&&(he=Z.pending_buf_size-5);;){if(Z.lookahead<=1){if(ae(Z),Z.lookahead===0&&_e===v)return R;if(Z.lookahead===0)break}Z.strstart+=Z.lookahead,Z.lookahead=0;var be=Z.block_start+he;if((Z.strstart===0||Z.strstart>=be)&&(Z.lookahead=Z.strstart-be,Z.strstart=be,X(Z,!1),Z.strm.avail_out===0)||Z.strstart-Z.block_start>=Z.w_size-H&&(X(Z,!1),Z.strm.avail_out===0))return R}return Z.insert=0,_e===y?(X(Z,!0),Z.strm.avail_out===0?ue:ie):(Z.strstart>Z.block_start&&(X(Z,!1),Z.strm.avail_out),R)}),new Te(4,4,8,4,Se),new Te(4,5,16,8,Se),new Te(4,6,32,32,Se),new Te(4,4,16,16,xe),new Te(8,16,32,32,xe),new Te(8,16,128,128,xe),new Te(8,32,128,256,xe),new Te(32,128,258,1024,xe),new Te(32,258,258,4096,xe)],s.deflateInit=function(Z,_e){return Ue(Z,_e,M,15,8,0)},s.deflateInit2=Ue,s.deflateReset=Je,s.deflateResetKeep=We,s.deflateSetHeader=function(Z,_e){return Z&&Z.state?Z.state.wrap!==2?x:(Z.state.gzhead=_e,k):x},s.deflate=function(Z,_e){var he,be,pe,Ae;if(!Z||!Z.state||5<_e||_e<0)return Z?oe(Z,x):x;if(be=Z.state,!Z.output||!Z.input&&Z.avail_in!==0||be.status===666&&_e!==y)return oe(Z,Z.avail_out===0?-5:x);if(be.strm=Z,he=be.last_flush,be.last_flush=_e,be.status===z)if(be.wrap===2)Z.adler=0,J(be,31),J(be,139),J(be,8),be.gzhead?(J(be,(be.gzhead.text?1:0)+(be.gzhead.hcrc?2:0)+(be.gzhead.extra?4:0)+(be.gzhead.name?8:0)+(be.gzhead.comment?16:0)),J(be,255&be.gzhead.time),J(be,be.gzhead.time>>8&255),J(be,be.gzhead.time>>16&255),J(be,be.gzhead.time>>24&255),J(be,be.level===9?2:2<=be.strategy||be.level<2?4:0),J(be,255&be.gzhead.os),be.gzhead.extra&&be.gzhead.extra.length&&(J(be,255&be.gzhead.extra.length),J(be,be.gzhead.extra.length>>8&255)),be.gzhead.hcrc&&(Z.adler=g(Z.adler,be.pending_buf,be.pending,0)),be.gzindex=0,be.status=69):(J(be,0),J(be,0),J(be,0),J(be,0),J(be,0),J(be,be.level===9?2:2<=be.strategy||be.level<2?4:0),J(be,3),be.status=G);else{var Oe=M+(be.w_bits-8<<4)<<8;Oe|=(2<=be.strategy||be.level<2?0:be.level<6?1:be.level===6?2:3)<<6,be.strstart!==0&&(Oe|=32),Oe+=31-Oe%31,be.status=G,fe(be,Oe),be.strstart!==0&&(fe(be,Z.adler>>>16),fe(be,65535&Z.adler)),Z.adler=1}if(be.status===69)if(be.gzhead.extra){for(pe=be.pending;be.gzindex<(65535&be.gzhead.extra.length)&&(be.pending!==be.pending_buf_size||(be.gzhead.hcrc&&be.pending>pe&&(Z.adler=g(Z.adler,be.pending_buf,be.pending-pe,pe)),Ce(Z),pe=be.pending,be.pending!==be.pending_buf_size));)J(be,255&be.gzhead.extra[be.gzindex]),be.gzindex++;be.gzhead.hcrc&&be.pending>pe&&(Z.adler=g(Z.adler,be.pending_buf,be.pending-pe,pe)),be.gzindex===be.gzhead.extra.length&&(be.gzindex=0,be.status=73)}else be.status=73;if(be.status===73)if(be.gzhead.name){pe=be.pending;do{if(be.pending===be.pending_buf_size&&(be.gzhead.hcrc&&be.pending>pe&&(Z.adler=g(Z.adler,be.pending_buf,be.pending-pe,pe)),Ce(Z),pe=be.pending,be.pending===be.pending_buf_size)){Ae=1;break}Ae=be.gzindex<be.gzhead.name.length?255&be.gzhead.name.charCodeAt(be.gzindex++):0,J(be,Ae)}while(Ae!==0);be.gzhead.hcrc&&be.pending>pe&&(Z.adler=g(Z.adler,be.pending_buf,be.pending-pe,pe)),Ae===0&&(be.gzindex=0,be.status=91)}else be.status=91;if(be.status===91)if(be.gzhead.comment){pe=be.pending;do{if(be.pending===be.pending_buf_size&&(be.gzhead.hcrc&&be.pending>pe&&(Z.adler=g(Z.adler,be.pending_buf,be.pending-pe,pe)),Ce(Z),pe=be.pending,be.pending===be.pending_buf_size)){Ae=1;break}Ae=be.gzindex<be.gzhead.comment.length?255&be.gzhead.comment.charCodeAt(be.gzindex++):0,J(be,Ae)}while(Ae!==0);be.gzhead.hcrc&&be.pending>pe&&(Z.adler=g(Z.adler,be.pending_buf,be.pending-pe,pe)),Ae===0&&(be.status=103)}else be.status=103;if(be.status===103&&(be.gzhead.hcrc?(be.pending+2>be.pending_buf_size&&Ce(Z),be.pending+2<=be.pending_buf_size&&(J(be,255&Z.adler),J(be,Z.adler>>8&255),Z.adler=0,be.status=G)):be.status=G),be.pending!==0){if(Ce(Z),Z.avail_out===0)return be.last_flush=-1,k}else if(Z.avail_in===0&&ye(_e)<=ye(he)&&_e!==y)return oe(Z,-5);if(be.status===666&&Z.avail_in!==0)return oe(Z,-5);if(Z.avail_in!==0||be.lookahead!==0||_e!==v&&be.status!==666){var Me=be.strategy===2?function(Ie,$e){for(var Ke;;){if(Ie.lookahead===0&&(ae(Ie),Ie.lookahead===0)){if($e===v)return R;break}if(Ie.match_length=0,Ke=h._tr_tally(Ie,0,Ie.window[Ie.strstart]),Ie.lookahead--,Ie.strstart++,Ke&&(X(Ie,!1),Ie.strm.avail_out===0))return R}return Ie.insert=0,$e===y?(X(Ie,!0),Ie.strm.avail_out===0?ue:ie):Ie.last_lit&&(X(Ie,!1),Ie.strm.avail_out===0)?R:ne}(be,_e):be.strategy===3?function(Ie,$e){for(var Ke,qe,it,Be,Qe=Ie.window;;){if(Ie.lookahead<=Q){if(ae(Ie),Ie.lookahead<=Q&&$e===v)return R;if(Ie.lookahead===0)break}if(Ie.match_length=0,Ie.lookahead>=U&&0<Ie.strstart&&(qe=Qe[it=Ie.strstart-1])===Qe[++it]&&qe===Qe[++it]&&qe===Qe[++it]){Be=Ie.strstart+Q;do;while(qe===Qe[++it]&&qe===Qe[++it]&&qe===Qe[++it]&&qe===Qe[++it]&&qe===Qe[++it]&&qe===Qe[++it]&&qe===Qe[++it]&&qe===Qe[++it]&&it<Be);Ie.match_length=Q-(Be-it),Ie.match_length>Ie.lookahead&&(Ie.match_length=Ie.lookahead)}if(Ie.match_length>=U?(Ke=h._tr_tally(Ie,1,Ie.match_length-U),Ie.lookahead-=Ie.match_length,Ie.strstart+=Ie.match_length,Ie.match_length=0):(Ke=h._tr_tally(Ie,0,Ie.window[Ie.strstart]),Ie.lookahead--,Ie.strstart++),Ke&&(X(Ie,!1),Ie.strm.avail_out===0))return R}return Ie.insert=0,$e===y?(X(Ie,!0),Ie.strm.avail_out===0?ue:ie):Ie.last_lit&&(X(Ie,!1),Ie.strm.avail_out===0)?R:ne}(be,_e):l[be.level].func(be,_e);if(Me!==ue&&Me!==ie||(be.status=666),Me===R||Me===ue)return Z.avail_out===0&&(be.last_flush=-1),k;if(Me===ne&&(_e===1?h._tr_align(be):_e!==5&&(h._tr_stored_block(be,0,0,!1),_e===3&&(re(be.head),be.lookahead===0&&(be.strstart=0,be.block_start=0,be.insert=0))),Ce(Z),Z.avail_out===0))return be.last_flush=-1,k}return _e!==y?k:be.wrap<=0?1:(be.wrap===2?(J(be,255&Z.adler),J(be,Z.adler>>8&255),J(be,Z.adler>>16&255),J(be,Z.adler>>24&255),J(be,255&Z.total_in),J(be,Z.total_in>>8&255),J(be,Z.total_in>>16&255),J(be,Z.total_in>>24&255)):(fe(be,Z.adler>>>16),fe(be,65535&Z.adler)),Ce(Z),0<be.wrap&&(be.wrap=-be.wrap),be.pending!==0?k:1)},s.deflateEnd=function(Z){var _e;return Z&&Z.state?(_e=Z.state.status)!==z&&_e!==69&&_e!==73&&_e!==91&&_e!==103&&_e!==G&&_e!==666?oe(Z,x):(Z.state=null,_e===G?oe(Z,-3):k):x},s.deflateSetDictionary=function(Z,_e){var he,be,pe,Ae,Oe,Me,Ie,$e,Ke=_e.length;if(!Z||!Z.state||(Ae=(he=Z.state).wrap)===2||Ae===1&&he.status!==z||he.lookahead)return x;for(Ae===1&&(Z.adler=p(Z.adler,_e,Ke,0)),he.wrap=0,Ke>=he.w_size&&(Ae===0&&(re(he.head),he.strstart=0,he.block_start=0,he.insert=0),$e=new d.Buf8(he.w_size),d.arraySet($e,_e,Ke-he.w_size,he.w_size,0),_e=$e,Ke=he.w_size),Oe=Z.avail_in,Me=Z.next_in,Ie=Z.input,Z.avail_in=Ke,Z.next_in=0,Z.input=_e,ae(he);he.lookahead>=U;){for(be=he.strstart,pe=he.lookahead-(U-1);he.ins_h=(he.ins_h<<he.hash_shift^he.window[be+U-1])&he.hash_mask,he.prev[be&he.w_mask]=he.head[he.ins_h],he.head[he.ins_h]=be,be++,--pe;);he.strstart=be,he.lookahead=U-1,ae(he)}return he.strstart+=he.lookahead,he.block_start=he.strstart,he.insert=he.lookahead,he.lookahead=0,he.match_length=he.prev_length=U-1,he.match_available=0,Z.next_in=Me,Z.input=Ie,Z.avail_in=Oe,he.wrap=Ae,k},s.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,o,s){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,o,s){o.exports=function(l,d){var h,p,g,b,v,y,k,x,C,D,S,M,P,B,$,F,N,L,U,Q,H,z,G,R,ne;h=l.state,p=l.next_in,R=l.input,g=p+(l.avail_in-5),b=l.next_out,ne=l.output,v=b-(d-l.avail_out),y=b+(l.avail_out-257),k=h.dmax,x=h.wsize,C=h.whave,D=h.wnext,S=h.window,M=h.hold,P=h.bits,B=h.lencode,$=h.distcode,F=(1<<h.lenbits)-1,N=(1<<h.distbits)-1;e:do{P<15&&(M+=R[p++]<<P,P+=8,M+=R[p++]<<P,P+=8),L=B[M&F];t:for(;;){if(M>>>=U=L>>>24,P-=U,(U=L>>>16&255)===0)ne[b++]=65535&L;else{if(!(16&U)){if((64&U)==0){L=B[(65535&L)+(M&(1<<U)-1)];continue t}if(32&U){h.mode=12;break e}l.msg="invalid literal/length code",h.mode=30;break e}Q=65535&L,(U&=15)&&(P<U&&(M+=R[p++]<<P,P+=8),Q+=M&(1<<U)-1,M>>>=U,P-=U),P<15&&(M+=R[p++]<<P,P+=8,M+=R[p++]<<P,P+=8),L=$[M&N];n:for(;;){if(M>>>=U=L>>>24,P-=U,!(16&(U=L>>>16&255))){if((64&U)==0){L=$[(65535&L)+(M&(1<<U)-1)];continue n}l.msg="invalid distance code",h.mode=30;break e}if(H=65535&L,P<(U&=15)&&(M+=R[p++]<<P,(P+=8)<U&&(M+=R[p++]<<P,P+=8)),k<(H+=M&(1<<U)-1)){l.msg="invalid distance too far back",h.mode=30;break e}if(M>>>=U,P-=U,(U=b-v)<H){if(C<(U=H-U)&&h.sane){l.msg="invalid distance too far back",h.mode=30;break e}if(G=S,(z=0)===D){if(z+=x-U,U<Q){for(Q-=U;ne[b++]=S[z++],--U;);z=b-H,G=ne}}else if(D<U){if(z+=x+D-U,(U-=D)<Q){for(Q-=U;ne[b++]=S[z++],--U;);if(z=0,D<Q){for(Q-=U=D;ne[b++]=S[z++],--U;);z=b-H,G=ne}}}else if(z+=D-U,U<Q){for(Q-=U;ne[b++]=S[z++],--U;);z=b-H,G=ne}for(;2<Q;)ne[b++]=G[z++],ne[b++]=G[z++],ne[b++]=G[z++],Q-=3;Q&&(ne[b++]=G[z++],1<Q&&(ne[b++]=G[z++]))}else{for(z=b-H;ne[b++]=ne[z++],ne[b++]=ne[z++],ne[b++]=ne[z++],2<(Q-=3););Q&&(ne[b++]=ne[z++],1<Q&&(ne[b++]=ne[z++]))}break}}break}}while(p<g&&b<y);p-=Q=P>>3,M&=(1<<(P-=Q<<3))-1,l.next_in=p,l.next_out=b,l.avail_in=p<g?g-p+5:5-(p-g),l.avail_out=b<y?y-b+257:257-(b-y),h.hold=M,h.bits=P}},{}],49:[function(n,o,s){var l=n("../utils/common"),d=n("./adler32"),h=n("./crc32"),p=n("./inffast"),g=n("./inftrees"),b=1,v=2,y=0,k=-2,x=1,C=852,D=592;function S(z){return(z>>>24&255)+(z>>>8&65280)+((65280&z)<<8)+((255&z)<<24)}function M(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(z){var G;return z&&z.state?(G=z.state,z.total_in=z.total_out=G.total=0,z.msg="",G.wrap&&(z.adler=1&G.wrap),G.mode=x,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new l.Buf32(C),G.distcode=G.distdyn=new l.Buf32(D),G.sane=1,G.back=-1,y):k}function B(z){var G;return z&&z.state?((G=z.state).wsize=0,G.whave=0,G.wnext=0,P(z)):k}function $(z,G){var R,ne;return z&&z.state?(ne=z.state,G<0?(R=0,G=-G):(R=1+(G>>4),G<48&&(G&=15)),G&&(G<8||15<G)?k:(ne.window!==null&&ne.wbits!==G&&(ne.window=null),ne.wrap=R,ne.wbits=G,B(z))):k}function F(z,G){var R,ne;return z?(ne=new M,(z.state=ne).window=null,(R=$(z,G))!==y&&(z.state=null),R):k}var N,L,U=!0;function Q(z){if(U){var G;for(N=new l.Buf32(512),L=new l.Buf32(32),G=0;G<144;)z.lens[G++]=8;for(;G<256;)z.lens[G++]=9;for(;G<280;)z.lens[G++]=7;for(;G<288;)z.lens[G++]=8;for(g(b,z.lens,0,288,N,0,z.work,{bits:9}),G=0;G<32;)z.lens[G++]=5;g(v,z.lens,0,32,L,0,z.work,{bits:5}),U=!1}z.lencode=N,z.lenbits=9,z.distcode=L,z.distbits=5}function H(z,G,R,ne){var ue,ie=z.state;return ie.window===null&&(ie.wsize=1<<ie.wbits,ie.wnext=0,ie.whave=0,ie.window=new l.Buf8(ie.wsize)),ne>=ie.wsize?(l.arraySet(ie.window,G,R-ie.wsize,ie.wsize,0),ie.wnext=0,ie.whave=ie.wsize):(ne<(ue=ie.wsize-ie.wnext)&&(ue=ne),l.arraySet(ie.window,G,R-ne,ue,ie.wnext),(ne-=ue)?(l.arraySet(ie.window,G,R-ne,ne,0),ie.wnext=ne,ie.whave=ie.wsize):(ie.wnext+=ue,ie.wnext===ie.wsize&&(ie.wnext=0),ie.whave<ie.wsize&&(ie.whave+=ue))),0}s.inflateReset=B,s.inflateReset2=$,s.inflateResetKeep=P,s.inflateInit=function(z){return F(z,15)},s.inflateInit2=F,s.inflate=function(z,G){var R,ne,ue,ie,oe,ye,re,Ce,X,J,fe,le,ae,Se,xe,Te,Ye,We,Je,Ue,Z,_e,he,be,pe=0,Ae=new l.Buf8(4),Oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return k;(R=z.state).mode===12&&(R.mode=13),oe=z.next_out,ue=z.output,re=z.avail_out,ie=z.next_in,ne=z.input,ye=z.avail_in,Ce=R.hold,X=R.bits,J=ye,fe=re,_e=y;e:for(;;)switch(R.mode){case x:if(R.wrap===0){R.mode=13;break}for(;X<16;){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}if(2&R.wrap&&Ce===35615){Ae[R.check=0]=255&Ce,Ae[1]=Ce>>>8&255,R.check=h(R.check,Ae,2,0),X=Ce=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&Ce)<<8)+(Ce>>8))%31){z.msg="incorrect header check",R.mode=30;break}if((15&Ce)!=8){z.msg="unknown compression method",R.mode=30;break}if(X-=4,Z=8+(15&(Ce>>>=4)),R.wbits===0)R.wbits=Z;else if(Z>R.wbits){z.msg="invalid window size",R.mode=30;break}R.dmax=1<<Z,z.adler=R.check=1,R.mode=512&Ce?10:12,X=Ce=0;break;case 2:for(;X<16;){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}if(R.flags=Ce,(255&R.flags)!=8){z.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){z.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=Ce>>8&1),512&R.flags&&(Ae[0]=255&Ce,Ae[1]=Ce>>>8&255,R.check=h(R.check,Ae,2,0)),X=Ce=0,R.mode=3;case 3:for(;X<32;){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}R.head&&(R.head.time=Ce),512&R.flags&&(Ae[0]=255&Ce,Ae[1]=Ce>>>8&255,Ae[2]=Ce>>>16&255,Ae[3]=Ce>>>24&255,R.check=h(R.check,Ae,4,0)),X=Ce=0,R.mode=4;case 4:for(;X<16;){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}R.head&&(R.head.xflags=255&Ce,R.head.os=Ce>>8),512&R.flags&&(Ae[0]=255&Ce,Ae[1]=Ce>>>8&255,R.check=h(R.check,Ae,2,0)),X=Ce=0,R.mode=5;case 5:if(1024&R.flags){for(;X<16;){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}R.length=Ce,R.head&&(R.head.extra_len=Ce),512&R.flags&&(Ae[0]=255&Ce,Ae[1]=Ce>>>8&255,R.check=h(R.check,Ae,2,0)),X=Ce=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(ye<(le=R.length)&&(le=ye),le&&(R.head&&(Z=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),l.arraySet(R.head.extra,ne,ie,le,Z)),512&R.flags&&(R.check=h(R.check,ne,le,ie)),ye-=le,ie+=le,R.length-=le),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(ye===0)break e;for(le=0;Z=ne[ie+le++],R.head&&Z&&R.length<65536&&(R.head.name+=String.fromCharCode(Z)),Z&&le<ye;);if(512&R.flags&&(R.check=h(R.check,ne,le,ie)),ye-=le,ie+=le,Z)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(ye===0)break e;for(le=0;Z=ne[ie+le++],R.head&&Z&&R.length<65536&&(R.head.comment+=String.fromCharCode(Z)),Z&&le<ye;);if(512&R.flags&&(R.check=h(R.check,ne,le,ie)),ye-=le,ie+=le,Z)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;X<16;){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}if(Ce!==(65535&R.check)){z.msg="header crc mismatch",R.mode=30;break}X=Ce=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),z.adler=R.check=0,R.mode=12;break;case 10:for(;X<32;){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}z.adler=R.check=S(Ce),X=Ce=0,R.mode=11;case 11:if(R.havedict===0)return z.next_out=oe,z.avail_out=re,z.next_in=ie,z.avail_in=ye,R.hold=Ce,R.bits=X,2;z.adler=R.check=1,R.mode=12;case 12:if(G===5||G===6)break e;case 13:if(R.last){Ce>>>=7&X,X-=7&X,R.mode=27;break}for(;X<3;){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}switch(R.last=1&Ce,X-=1,3&(Ce>>>=1)){case 0:R.mode=14;break;case 1:if(Q(R),R.mode=20,G!==6)break;Ce>>>=2,X-=2;break e;case 2:R.mode=17;break;case 3:z.msg="invalid block type",R.mode=30}Ce>>>=2,X-=2;break;case 14:for(Ce>>>=7&X,X-=7&X;X<32;){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}if((65535&Ce)!=(Ce>>>16^65535)){z.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&Ce,X=Ce=0,R.mode=15,G===6)break e;case 15:R.mode=16;case 16:if(le=R.length){if(ye<le&&(le=ye),re<le&&(le=re),le===0)break e;l.arraySet(ue,ne,ie,le,oe),ye-=le,ie+=le,re-=le,oe+=le,R.length-=le;break}R.mode=12;break;case 17:for(;X<14;){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}if(R.nlen=257+(31&Ce),Ce>>>=5,X-=5,R.ndist=1+(31&Ce),Ce>>>=5,X-=5,R.ncode=4+(15&Ce),Ce>>>=4,X-=4,286<R.nlen||30<R.ndist){z.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;X<3;){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}R.lens[Oe[R.have++]]=7&Ce,Ce>>>=3,X-=3}for(;R.have<19;)R.lens[Oe[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,he={bits:R.lenbits},_e=g(0,R.lens,0,19,R.lencode,0,R.work,he),R.lenbits=he.bits,_e){z.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;Te=(pe=R.lencode[Ce&(1<<R.lenbits)-1])>>>16&255,Ye=65535&pe,!((xe=pe>>>24)<=X);){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}if(Ye<16)Ce>>>=xe,X-=xe,R.lens[R.have++]=Ye;else{if(Ye===16){for(be=xe+2;X<be;){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}if(Ce>>>=xe,X-=xe,R.have===0){z.msg="invalid bit length repeat",R.mode=30;break}Z=R.lens[R.have-1],le=3+(3&Ce),Ce>>>=2,X-=2}else if(Ye===17){for(be=xe+3;X<be;){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}X-=xe,Z=0,le=3+(7&(Ce>>>=xe)),Ce>>>=3,X-=3}else{for(be=xe+7;X<be;){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}X-=xe,Z=0,le=11+(127&(Ce>>>=xe)),Ce>>>=7,X-=7}if(R.have+le>R.nlen+R.ndist){z.msg="invalid bit length repeat",R.mode=30;break}for(;le--;)R.lens[R.have++]=Z}}if(R.mode===30)break;if(R.lens[256]===0){z.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,he={bits:R.lenbits},_e=g(b,R.lens,0,R.nlen,R.lencode,0,R.work,he),R.lenbits=he.bits,_e){z.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,he={bits:R.distbits},_e=g(v,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,he),R.distbits=he.bits,_e){z.msg="invalid distances set",R.mode=30;break}if(R.mode=20,G===6)break e;case 20:R.mode=21;case 21:if(6<=ye&&258<=re){z.next_out=oe,z.avail_out=re,z.next_in=ie,z.avail_in=ye,R.hold=Ce,R.bits=X,p(z,fe),oe=z.next_out,ue=z.output,re=z.avail_out,ie=z.next_in,ne=z.input,ye=z.avail_in,Ce=R.hold,X=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;Te=(pe=R.lencode[Ce&(1<<R.lenbits)-1])>>>16&255,Ye=65535&pe,!((xe=pe>>>24)<=X);){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}if(Te&&(240&Te)==0){for(We=xe,Je=Te,Ue=Ye;Te=(pe=R.lencode[Ue+((Ce&(1<<We+Je)-1)>>We)])>>>16&255,Ye=65535&pe,!(We+(xe=pe>>>24)<=X);){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}Ce>>>=We,X-=We,R.back+=We}if(Ce>>>=xe,X-=xe,R.back+=xe,R.length=Ye,Te===0){R.mode=26;break}if(32&Te){R.back=-1,R.mode=12;break}if(64&Te){z.msg="invalid literal/length code",R.mode=30;break}R.extra=15&Te,R.mode=22;case 22:if(R.extra){for(be=R.extra;X<be;){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}R.length+=Ce&(1<<R.extra)-1,Ce>>>=R.extra,X-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;Te=(pe=R.distcode[Ce&(1<<R.distbits)-1])>>>16&255,Ye=65535&pe,!((xe=pe>>>24)<=X);){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}if((240&Te)==0){for(We=xe,Je=Te,Ue=Ye;Te=(pe=R.distcode[Ue+((Ce&(1<<We+Je)-1)>>We)])>>>16&255,Ye=65535&pe,!(We+(xe=pe>>>24)<=X);){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}Ce>>>=We,X-=We,R.back+=We}if(Ce>>>=xe,X-=xe,R.back+=xe,64&Te){z.msg="invalid distance code",R.mode=30;break}R.offset=Ye,R.extra=15&Te,R.mode=24;case 24:if(R.extra){for(be=R.extra;X<be;){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}R.offset+=Ce&(1<<R.extra)-1,Ce>>>=R.extra,X-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){z.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(re===0)break e;if(le=fe-re,R.offset>le){if((le=R.offset-le)>R.whave&&R.sane){z.msg="invalid distance too far back",R.mode=30;break}ae=le>R.wnext?(le-=R.wnext,R.wsize-le):R.wnext-le,le>R.length&&(le=R.length),Se=R.window}else Se=ue,ae=oe-R.offset,le=R.length;for(re<le&&(le=re),re-=le,R.length-=le;ue[oe++]=Se[ae++],--le;);R.length===0&&(R.mode=21);break;case 26:if(re===0)break e;ue[oe++]=R.length,re--,R.mode=21;break;case 27:if(R.wrap){for(;X<32;){if(ye===0)break e;ye--,Ce|=ne[ie++]<<X,X+=8}if(fe-=re,z.total_out+=fe,R.total+=fe,fe&&(z.adler=R.check=R.flags?h(R.check,ue,fe,oe-fe):d(R.check,ue,fe,oe-fe)),fe=re,(R.flags?Ce:S(Ce))!==R.check){z.msg="incorrect data check",R.mode=30;break}X=Ce=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;X<32;){if(ye===0)break e;ye--,Ce+=ne[ie++]<<X,X+=8}if(Ce!==(4294967295&R.total)){z.msg="incorrect length check",R.mode=30;break}X=Ce=0}R.mode=29;case 29:_e=1;break e;case 30:_e=-3;break e;case 31:return-4;case 32:default:return k}return z.next_out=oe,z.avail_out=re,z.next_in=ie,z.avail_in=ye,R.hold=Ce,R.bits=X,(R.wsize||fe!==z.avail_out&&R.mode<30&&(R.mode<27||G!==4))&&H(z,z.output,z.next_out,fe-z.avail_out)?(R.mode=31,-4):(J-=z.avail_in,fe-=z.avail_out,z.total_in+=J,z.total_out+=fe,R.total+=fe,R.wrap&&fe&&(z.adler=R.check=R.flags?h(R.check,ue,fe,z.next_out-fe):d(R.check,ue,fe,z.next_out-fe)),z.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(J==0&&fe===0||G===4)&&_e===y&&(_e=-5),_e)},s.inflateEnd=function(z){if(!z||!z.state)return k;var G=z.state;return G.window&&(G.window=null),z.state=null,y},s.inflateGetHeader=function(z,G){var R;return z&&z.state?(2&(R=z.state).wrap)==0?k:((R.head=G).done=!1,y):k},s.inflateSetDictionary=function(z,G){var R,ne=G.length;return z&&z.state?(R=z.state).wrap!==0&&R.mode!==11?k:R.mode===11&&d(1,G,ne,0)!==R.check?-3:H(z,G,ne,ne)?(R.mode=31,-4):(R.havedict=1,y):k},s.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,o,s){var l=n("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(b,v,y,k,x,C,D,S){var M,P,B,$,F,N,L,U,Q,H=S.bits,z=0,G=0,R=0,ne=0,ue=0,ie=0,oe=0,ye=0,re=0,Ce=0,X=null,J=0,fe=new l.Buf16(16),le=new l.Buf16(16),ae=null,Se=0;for(z=0;z<=15;z++)fe[z]=0;for(G=0;G<k;G++)fe[v[y+G]]++;for(ue=H,ne=15;1<=ne&&fe[ne]===0;ne--);if(ne<ue&&(ue=ne),ne===0)return x[C++]=20971520,x[C++]=20971520,S.bits=1,0;for(R=1;R<ne&&fe[R]===0;R++);for(ue<R&&(ue=R),z=ye=1;z<=15;z++)if(ye<<=1,(ye-=fe[z])<0)return-1;if(0<ye&&(b===0||ne!==1))return-1;for(le[1]=0,z=1;z<15;z++)le[z+1]=le[z]+fe[z];for(G=0;G<k;G++)v[y+G]!==0&&(D[le[v[y+G]]++]=G);if(N=b===0?(X=ae=D,19):b===1?(X=d,J-=257,ae=h,Se-=257,256):(X=p,ae=g,-1),z=R,F=C,oe=G=Ce=0,B=-1,$=(re=1<<(ie=ue))-1,b===1&&852<re||b===2&&592<re)return 1;for(;;){for(L=z-oe,Q=D[G]<N?(U=0,D[G]):D[G]>N?(U=ae[Se+D[G]],X[J+D[G]]):(U=96,0),M=1<<z-oe,R=P=1<<ie;x[F+(Ce>>oe)+(P-=M)]=L<<24|U<<16|Q|0,P!==0;);for(M=1<<z-1;Ce&M;)M>>=1;if(M!==0?(Ce&=M-1,Ce+=M):Ce=0,G++,--fe[z]==0){if(z===ne)break;z=v[y+D[G]]}if(ue<z&&(Ce&$)!==B){for(oe===0&&(oe=ue),F+=R,ye=1<<(ie=z-oe);ie+oe<ne&&!((ye-=fe[ie+oe])<=0);)ie++,ye<<=1;if(re+=1<<ie,b===1&&852<re||b===2&&592<re)return 1;x[B=Ce&$]=ue<<24|ie<<16|F-C|0}}return Ce!==0&&(x[F+Ce]=z-oe<<24|64<<16|0),S.bits=ue,0}},{"../utils/common":41}],51:[function(n,o,s){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,o,s){var l=n("../utils/common"),d=0,h=1;function p(pe){for(var Ae=pe.length;0<=--Ae;)pe[Ae]=0}var g=0,b=29,v=256,y=v+1+b,k=30,x=19,C=2*y+1,D=15,S=16,M=7,P=256,B=16,$=17,F=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(2*(y+2));p(H);var z=new Array(2*k);p(z);var G=new Array(512);p(G);var R=new Array(256);p(R);var ne=new Array(b);p(ne);var ue,ie,oe,ye=new Array(k);function re(pe,Ae,Oe,Me,Ie){this.static_tree=pe,this.extra_bits=Ae,this.extra_base=Oe,this.elems=Me,this.max_length=Ie,this.has_stree=pe&&pe.length}function Ce(pe,Ae){this.dyn_tree=pe,this.max_code=0,this.stat_desc=Ae}function X(pe){return pe<256?G[pe]:G[256+(pe>>>7)]}function J(pe,Ae){pe.pending_buf[pe.pending++]=255&Ae,pe.pending_buf[pe.pending++]=Ae>>>8&255}function fe(pe,Ae,Oe){pe.bi_valid>S-Oe?(pe.bi_buf|=Ae<<pe.bi_valid&65535,J(pe,pe.bi_buf),pe.bi_buf=Ae>>S-pe.bi_valid,pe.bi_valid+=Oe-S):(pe.bi_buf|=Ae<<pe.bi_valid&65535,pe.bi_valid+=Oe)}function le(pe,Ae,Oe){fe(pe,Oe[2*Ae],Oe[2*Ae+1])}function ae(pe,Ae){for(var Oe=0;Oe|=1&pe,pe>>>=1,Oe<<=1,0<--Ae;);return Oe>>>1}function Se(pe,Ae,Oe){var Me,Ie,$e=new Array(D+1),Ke=0;for(Me=1;Me<=D;Me++)$e[Me]=Ke=Ke+Oe[Me-1]<<1;for(Ie=0;Ie<=Ae;Ie++){var qe=pe[2*Ie+1];qe!==0&&(pe[2*Ie]=ae($e[qe]++,qe))}}function xe(pe){var Ae;for(Ae=0;Ae<y;Ae++)pe.dyn_ltree[2*Ae]=0;for(Ae=0;Ae<k;Ae++)pe.dyn_dtree[2*Ae]=0;for(Ae=0;Ae<x;Ae++)pe.bl_tree[2*Ae]=0;pe.dyn_ltree[2*P]=1,pe.opt_len=pe.static_len=0,pe.last_lit=pe.matches=0}function Te(pe){8<pe.bi_valid?J(pe,pe.bi_buf):0<pe.bi_valid&&(pe.pending_buf[pe.pending++]=pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0}function Ye(pe,Ae,Oe,Me){var Ie=2*Ae,$e=2*Oe;return pe[Ie]<pe[$e]||pe[Ie]===pe[$e]&&Me[Ae]<=Me[Oe]}function We(pe,Ae,Oe){for(var Me=pe.heap[Oe],Ie=Oe<<1;Ie<=pe.heap_len&&(Ie<pe.heap_len&&Ye(Ae,pe.heap[Ie+1],pe.heap[Ie],pe.depth)&&Ie++,!Ye(Ae,Me,pe.heap[Ie],pe.depth));)pe.heap[Oe]=pe.heap[Ie],Oe=Ie,Ie<<=1;pe.heap[Oe]=Me}function Je(pe,Ae,Oe){var Me,Ie,$e,Ke,qe=0;if(pe.last_lit!==0)for(;Me=pe.pending_buf[pe.d_buf+2*qe]<<8|pe.pending_buf[pe.d_buf+2*qe+1],Ie=pe.pending_buf[pe.l_buf+qe],qe++,Me===0?le(pe,Ie,Ae):(le(pe,($e=R[Ie])+v+1,Ae),(Ke=N[$e])!==0&&fe(pe,Ie-=ne[$e],Ke),le(pe,$e=X(--Me),Oe),(Ke=L[$e])!==0&&fe(pe,Me-=ye[$e],Ke)),qe<pe.last_lit;);le(pe,P,Ae)}function Ue(pe,Ae){var Oe,Me,Ie,$e=Ae.dyn_tree,Ke=Ae.stat_desc.static_tree,qe=Ae.stat_desc.has_stree,it=Ae.stat_desc.elems,Be=-1;for(pe.heap_len=0,pe.heap_max=C,Oe=0;Oe<it;Oe++)$e[2*Oe]!==0?(pe.heap[++pe.heap_len]=Be=Oe,pe.depth[Oe]=0):$e[2*Oe+1]=0;for(;pe.heap_len<2;)$e[2*(Ie=pe.heap[++pe.heap_len]=Be<2?++Be:0)]=1,pe.depth[Ie]=0,pe.opt_len--,qe&&(pe.static_len-=Ke[2*Ie+1]);for(Ae.max_code=Be,Oe=pe.heap_len>>1;1<=Oe;Oe--)We(pe,$e,Oe);for(Ie=it;Oe=pe.heap[1],pe.heap[1]=pe.heap[pe.heap_len--],We(pe,$e,1),Me=pe.heap[1],pe.heap[--pe.heap_max]=Oe,pe.heap[--pe.heap_max]=Me,$e[2*Ie]=$e[2*Oe]+$e[2*Me],pe.depth[Ie]=(pe.depth[Oe]>=pe.depth[Me]?pe.depth[Oe]:pe.depth[Me])+1,$e[2*Oe+1]=$e[2*Me+1]=Ie,pe.heap[1]=Ie++,We(pe,$e,1),2<=pe.heap_len;);pe.heap[--pe.heap_max]=pe.heap[1],function(Qe,Ze){var Ct,dt,en,pt,Wt,Rt,zt=Ze.dyn_tree,Qt=Ze.max_code,bn=Ze.stat_desc.static_tree,Dn=Ze.stat_desc.has_stree,Vn=Ze.stat_desc.extra_bits,zr=Ze.stat_desc.extra_base,Kr=Ze.stat_desc.max_length,Rn=0;for(pt=0;pt<=D;pt++)Qe.bl_count[pt]=0;for(zt[2*Qe.heap[Qe.heap_max]+1]=0,Ct=Qe.heap_max+1;Ct<C;Ct++)Kr<(pt=zt[2*zt[2*(dt=Qe.heap[Ct])+1]+1]+1)&&(pt=Kr,Rn++),zt[2*dt+1]=pt,Qt<dt||(Qe.bl_count[pt]++,Wt=0,zr<=dt&&(Wt=Vn[dt-zr]),Rt=zt[2*dt],Qe.opt_len+=Rt*(pt+Wt),Dn&&(Qe.static_len+=Rt*(bn[2*dt+1]+Wt)));if(Rn!==0){do{for(pt=Kr-1;Qe.bl_count[pt]===0;)pt--;Qe.bl_count[pt]--,Qe.bl_count[pt+1]+=2,Qe.bl_count[Kr]--,Rn-=2}while(0<Rn);for(pt=Kr;pt!==0;pt--)for(dt=Qe.bl_count[pt];dt!==0;)Qt<(en=Qe.heap[--Ct])||(zt[2*en+1]!==pt&&(Qe.opt_len+=(pt-zt[2*en+1])*zt[2*en],zt[2*en+1]=pt),dt--)}}(pe,Ae),Se($e,Be,pe.bl_count)}function Z(pe,Ae,Oe){var Me,Ie,$e=-1,Ke=Ae[1],qe=0,it=7,Be=4;for(Ke===0&&(it=138,Be=3),Ae[2*(Oe+1)+1]=65535,Me=0;Me<=Oe;Me++)Ie=Ke,Ke=Ae[2*(Me+1)+1],++qe<it&&Ie===Ke||(qe<Be?pe.bl_tree[2*Ie]+=qe:Ie!==0?(Ie!==$e&&pe.bl_tree[2*Ie]++,pe.bl_tree[2*B]++):qe<=10?pe.bl_tree[2*$]++:pe.bl_tree[2*F]++,$e=Ie,Be=(qe=0)===Ke?(it=138,3):Ie===Ke?(it=6,3):(it=7,4))}function _e(pe,Ae,Oe){var Me,Ie,$e=-1,Ke=Ae[1],qe=0,it=7,Be=4;for(Ke===0&&(it=138,Be=3),Me=0;Me<=Oe;Me++)if(Ie=Ke,Ke=Ae[2*(Me+1)+1],!(++qe<it&&Ie===Ke)){if(qe<Be)for(;le(pe,Ie,pe.bl_tree),--qe!=0;);else Ie!==0?(Ie!==$e&&(le(pe,Ie,pe.bl_tree),qe--),le(pe,B,pe.bl_tree),fe(pe,qe-3,2)):qe<=10?(le(pe,$,pe.bl_tree),fe(pe,qe-3,3)):(le(pe,F,pe.bl_tree),fe(pe,qe-11,7));$e=Ie,Be=(qe=0)===Ke?(it=138,3):Ie===Ke?(it=6,3):(it=7,4)}}p(ye);var he=!1;function be(pe,Ae,Oe,Me){fe(pe,(g<<1)+(Me?1:0),3),function(Ie,$e,Ke,qe){Te(Ie),J(Ie,Ke),J(Ie,~Ke),l.arraySet(Ie.pending_buf,Ie.window,$e,Ke,Ie.pending),Ie.pending+=Ke}(pe,Ae,Oe)}s._tr_init=function(pe){he||(function(){var Ae,Oe,Me,Ie,$e,Ke=new Array(D+1);for(Ie=Me=0;Ie<b-1;Ie++)for(ne[Ie]=Me,Ae=0;Ae<1<<N[Ie];Ae++)R[Me++]=Ie;for(R[Me-1]=Ie,Ie=$e=0;Ie<16;Ie++)for(ye[Ie]=$e,Ae=0;Ae<1<<L[Ie];Ae++)G[$e++]=Ie;for($e>>=7;Ie<k;Ie++)for(ye[Ie]=$e<<7,Ae=0;Ae<1<<L[Ie]-7;Ae++)G[256+$e++]=Ie;for(Oe=0;Oe<=D;Oe++)Ke[Oe]=0;for(Ae=0;Ae<=143;)H[2*Ae+1]=8,Ae++,Ke[8]++;for(;Ae<=255;)H[2*Ae+1]=9,Ae++,Ke[9]++;for(;Ae<=279;)H[2*Ae+1]=7,Ae++,Ke[7]++;for(;Ae<=287;)H[2*Ae+1]=8,Ae++,Ke[8]++;for(Se(H,y+1,Ke),Ae=0;Ae<k;Ae++)z[2*Ae+1]=5,z[2*Ae]=ae(Ae,5);ue=new re(H,N,v+1,y,D),ie=new re(z,L,0,k,D),oe=new re(new Array(0),U,0,x,M)}(),he=!0),pe.l_desc=new Ce(pe.dyn_ltree,ue),pe.d_desc=new Ce(pe.dyn_dtree,ie),pe.bl_desc=new Ce(pe.bl_tree,oe),pe.bi_buf=0,pe.bi_valid=0,xe(pe)},s._tr_stored_block=be,s._tr_flush_block=function(pe,Ae,Oe,Me){var Ie,$e,Ke=0;0<pe.level?(pe.strm.data_type===2&&(pe.strm.data_type=function(qe){var it,Be=4093624447;for(it=0;it<=31;it++,Be>>>=1)if(1&Be&&qe.dyn_ltree[2*it]!==0)return d;if(qe.dyn_ltree[18]!==0||qe.dyn_ltree[20]!==0||qe.dyn_ltree[26]!==0)return h;for(it=32;it<v;it++)if(qe.dyn_ltree[2*it]!==0)return h;return d}(pe)),Ue(pe,pe.l_desc),Ue(pe,pe.d_desc),Ke=function(qe){var it;for(Z(qe,qe.dyn_ltree,qe.l_desc.max_code),Z(qe,qe.dyn_dtree,qe.d_desc.max_code),Ue(qe,qe.bl_desc),it=x-1;3<=it&&qe.bl_tree[2*Q[it]+1]===0;it--);return qe.opt_len+=3*(it+1)+5+5+4,it}(pe),Ie=pe.opt_len+3+7>>>3,($e=pe.static_len+3+7>>>3)<=Ie&&(Ie=$e)):Ie=$e=Oe+5,Oe+4<=Ie&&Ae!==-1?be(pe,Ae,Oe,Me):pe.strategy===4||$e===Ie?(fe(pe,2+(Me?1:0),3),Je(pe,H,z)):(fe(pe,4+(Me?1:0),3),function(qe,it,Be,Qe){var Ze;for(fe(qe,it-257,5),fe(qe,Be-1,5),fe(qe,Qe-4,4),Ze=0;Ze<Qe;Ze++)fe(qe,qe.bl_tree[2*Q[Ze]+1],3);_e(qe,qe.dyn_ltree,it-1),_e(qe,qe.dyn_dtree,Be-1)}(pe,pe.l_desc.max_code+1,pe.d_desc.max_code+1,Ke+1),Je(pe,pe.dyn_ltree,pe.dyn_dtree)),xe(pe),Me&&Te(pe)},s._tr_tally=function(pe,Ae,Oe){return pe.pending_buf[pe.d_buf+2*pe.last_lit]=Ae>>>8&255,pe.pending_buf[pe.d_buf+2*pe.last_lit+1]=255&Ae,pe.pending_buf[pe.l_buf+pe.last_lit]=255&Oe,pe.last_lit++,Ae===0?pe.dyn_ltree[2*Oe]++:(pe.matches++,Ae--,pe.dyn_ltree[2*(R[Oe]+v+1)]++,pe.dyn_dtree[2*X(Ae)]++),pe.last_lit===pe.lit_bufsize-1},s._tr_align=function(pe){fe(pe,2,3),le(pe,P,H),function(Ae){Ae.bi_valid===16?(J(Ae,Ae.bi_buf),Ae.bi_buf=0,Ae.bi_valid=0):8<=Ae.bi_valid&&(Ae.pending_buf[Ae.pending++]=255&Ae.bi_buf,Ae.bi_buf>>=8,Ae.bi_valid-=8)}(pe)}},{"../utils/common":41}],53:[function(n,o,s){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,o,s){(function(l){(function(d,h){if(!d.setImmediate){var p,g,b,v,y=1,k={},x=!1,C=d.document,D=Object.getPrototypeOf&&Object.getPrototypeOf(d);D=D&&D.setTimeout?D:d,p={}.toString.call(d.process)==="[object process]"?function(B){process.nextTick(function(){M(B)})}:function(){if(d.postMessage&&!d.importScripts){var B=!0,$=d.onmessage;return d.onmessage=function(){B=!1},d.postMessage("","*"),d.onmessage=$,B}}()?(v="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",P,!1):d.attachEvent("onmessage",P),function(B){d.postMessage(v+B,"*")}):d.MessageChannel?((b=new MessageChannel).port1.onmessage=function(B){M(B.data)},function(B){b.port2.postMessage(B)}):C&&"onreadystatechange"in C.createElement("script")?(g=C.documentElement,function(B){var $=C.createElement("script");$.onreadystatechange=function(){M(B),$.onreadystatechange=null,g.removeChild($),$=null},g.appendChild($)}):function(B){setTimeout(M,0,B)},D.setImmediate=function(B){typeof B!="function"&&(B=new Function(""+B));for(var $=new Array(arguments.length-1),F=0;F<$.length;F++)$[F]=arguments[F+1];var N={callback:B,args:$};return k[y]=N,p(y),y++},D.clearImmediate=S}function S(B){delete k[B]}function M(B){if(x)setTimeout(M,0,B);else{var $=k[B];if($){x=!0;try{(function(F){var N=F.callback,L=F.args;switch(L.length){case 0:N();break;case 1:N(L[0]);break;case 2:N(L[0],L[1]);break;case 3:N(L[0],L[1],L[2]);break;default:N.apply(h,L)}})($)}finally{S(B),x=!1}}}}function P(B){B.source===d&&typeof B.data=="string"&&B.data.indexOf(v)===0&&M(+B.data.slice(v.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof od<"u"?od:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(tA)),tA.exports}var yse=wse();const vse=bu(yse),Ase=async(t,r,n)=>{const o=new vse,s=["timestamp,question,answer"];r.forEach(({timestamp:p,question:g,answer:b})=>{s.push(`"${new Date(p).toLocaleString()}","${g.replace(/"/g,'""')}","${b.replace(/"/g,'""')}"`)}),o.file(`${t}.csv`,s.join(`
`)),o.file(`${t}_metadata.json`,JSON.stringify(n,null,4));const l=await o.generateAsync({type:"blob"}),d=URL.createObjectURL(l),h=document.createElement("a");h.href=d,h.download=`${t}.zip`,document.body.appendChild(h),h.click(),document.body.removeChild(h)},_se=zp(Pe)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"600px",maxHeight:"80vh",overflowY:"auto",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0px 5px 15px rgba(0,0,0,0.2)",padding:"20px"}),Cse=zp(Pe)({marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"}),xse=({open:t,onClose:r,conversationHistory:n,conversationId:o,conversationHistoryError:s,chatbotDetails:l,userId:d,startedAt:h})=>{const p=async()=>{const g={conversationId:o,userId:d,chatbotId:l.chatbotId,chatbotTitle:l.chatbotTitle,startedAt:new Date(h).toLocaleString(),courseTitle:l.courseTitle,courseId:l.courseId,materialTitle:l.materialTitle,materialId:l.materialId,materialLink:l.materialLink,chatbotCreatedBy:l.chatbotCreatedBy,chatbotCreatedAt:new Date(l.chatbotCreatedAt).toLocaleString()};await Ase(o,n,g)};return A.jsx(JW,{open:t,onClose:r,children:A.jsxs(_se,{children:[A.jsxs(Cse,{children:[A.jsxs(je,{variant:"h6",children:["Conversation History for ",o]}),A.jsx(ls,{title:"Download ZIP",children:A.jsx(Ln,{onClick:p,"aria-label":"Download as ZIP",children:A.jsx(Og,{})})})]}),s&&A.jsx(je,{color:"error",sx:{marginBottom:"20px"},children:s}),n.length===0?A.jsx(je,{children:"No messages found in this conversation."}):A.jsx(mk,{children:n.map((g,b)=>A.jsx(ap,{sx:{padding:"10px 0"},children:A.jsx(lp,{primary:`Q: ${g.question}`,secondary:`A: ${g.answer} (${new Date(g.timestamp).toLocaleString()})`})},b))}),A.jsx(kt,{variant:"contained",onClick:r,style:{marginTop:"20px",backgroundColor:"#000",color:"#fff"},children:"Close"})]})})},Sse=({totalItems:t,itemsPerPage:r,currentPage:n,onPageChange:o})=>{const s=Math.ceil(t/r),l=()=>{n>1&&o(n-1)},d=()=>{n<s&&o(n+1)};return A.jsxs(Pe,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:3},children:[A.jsx(kt,{variant:"outlined",disabled:n===1,onClick:l,children:"Previous"}),A.jsxs(je,{variant:"body1",children:["Page ",n," of ",s]}),A.jsx(kt,{variant:"outlined",disabled:n===s,onClick:d,children:"Next"})]})},Ese=({chatbotId:t})=>{const r=Kn(),[n,o]=Y.useState(null),[s,l]=Y.useState(!0),[d,h]=Y.useState(null);if(Y.useEffect(()=>{t!=="All"&&(async()=>{l(!0),h(null);try{const M=Rp(Zn(r,"chatbots"),Zg("chatbotId","==",t)),P=await So(M);P.empty?h("Chatbot details not found!"):o(P.docs[0].data())}catch(M){console.error("Error fetching chatbot details:",M),h("Failed to fetch chatbot details.")}finally{l(!1)}})()},[r,t]),s)return A.jsx(Pe,{sx:{mt:3},children:A.jsx(Rr,{})});if(d)return A.jsx(je,{variant:"body1",color:"error",sx:{mt:3},children:d});if(!n)return null;const{title:p="N/A",courseId:g,createdBy:b="Unknown",timestamp:v,material:y}=n,k=(g==null?void 0:g.title)||"N/A",x=(y==null?void 0:y.title)||"N/A",C=(y==null?void 0:y.id)||"N/A",D=`https://institute-for-future-intelligence.github.io/nexlab/view-material/${C}`;return A.jsxs(Pe,{sx:{mt:3,p:2,border:"1px solid #ddd",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[A.jsx(je,{variant:"h6",children:"Chatbot Details"}),A.jsxs(je,{variant:"body1",children:[A.jsx("strong",{children:"Title:"})," ",p]}),A.jsxs(je,{variant:"body1",children:[A.jsx("strong",{children:"Course:"})," ",k]}),A.jsxs(je,{variant:"body1",children:[A.jsx("strong",{children:"Material:"})," ",C!=="N/A"?A.jsx(Pg,{href:D,target:"_blank",rel:"noopener noreferrer",children:x}):x]}),A.jsx(na,{sx:{my:2}}),A.jsxs(je,{variant:"body1",children:[A.jsx("strong",{children:"Created By:"})," ",b]}),A.jsxs(je,{variant:"body1",children:[A.jsx("strong",{children:"Created At:"})," ",v?new Date(v).toLocaleString():"N/A"]})]})},W6=zp(kt)({width:100,height:40,display:"flex",alignItems:"center",justifyContent:"center"}),Dse=({open:t,onClose:r,onConfirm:n,conversationId:o,deleting:s})=>A.jsxs(Qi,{open:t,onClose:r,children:[A.jsx(Ji,{children:"Confirm Deletion"}),A.jsx(Zi,{children:A.jsxs(Ts,{children:["Are you sure you want to delete the conversation with ID: ",A.jsx("strong",{children:o}),"? This action cannot be undone."]})}),A.jsxs(Xi,{children:[A.jsx(W6,{onClick:r,color:"primary",variant:"outlined",children:"Cancel"}),A.jsx(W6,{onClick:n,color:"error",disabled:s,children:s?A.jsx(Rr,{size:20,color:"inherit"}):"Delete"})]})]}),Ise=()=>{const t=Kn(),r=Wr(),[n,o]=Y.useState([]),[s,l]=Y.useState([]),[d,h]=Y.useState(1),[p]=Y.useState(10),[g,b]=Y.useState(!0),[v,y]=Y.useState(null),[k,x]=Y.useState([]),[C,D]=Y.useState(null),[S,M]=Y.useState(!1),[P,B]=Y.useState(null),[$,F]=Y.useState({}),N="https://rag-flask-api.onrender.com",[L,U]=Y.useState([]),[Q,H]=Y.useState([]),[z,G]=Y.useState("All"),[R,ne]=Y.useState("All"),[ue,ie]=Y.useState(null),[oe,ye]=Y.useState(null),[re,Ce]=Y.useState(!1),[X,J]=Y.useState(null),[fe,le]=Y.useState(!1),[ae,Se]=Y.useState({open:!1,message:"",type:"success"}),xe=()=>{Se(be=>({...be,open:!1}))};Y.useEffect(()=>{(async()=>{try{const Ae=(await So(Zn(t,"conversations"))).docs.map(Ie=>({id:Ie.id,...Ie.data()}));o(Ae);const Oe=Array.from(new Set(Ae.map(Ie=>Ie.chatbotId)));U(Ae.length>0?["All",...Oe]:[]);const Me=Array.from(new Set(Ae.map(Ie=>Ie.userId)));H(Ae.length>0?["All",...Me]:[]),l(Ae)}catch(pe){console.error("Error fetching chatbot conversations:",pe),y("Failed to load conversations. Please try again later.")}finally{b(!1)}})()},[t]);const Te=(be,pe)=>{be==="chatbot"?G(pe):ne(pe);const Ae=be==="chatbot"?pe:z,Oe=be==="user"?pe:R;let Me=n;Ae!=="All"&&(Me=Me.filter(Ie=>Ie.chatbotId===Ae)),Oe!=="All"&&(Me=Me.filter(Ie=>Ie.userId===Oe)),l(Me),Ae==="All"&&Oe==="All"&&l(n),h(1)},Ye=async(be,pe,Ae,Oe)=>{var Me,Ie,$e,Ke,qe;F(it=>({...it,[pe]:!0})),D(null);try{const it=await Mi.get(`${N}/conversations/${be}/${pe}`);x(it.data);const Ze=(await(async()=>{try{const Ct=new Map;return(await So(Zn(t,"chatbots"))).forEach(en=>{Ct.set(en.data().chatbotId,en.data())}),Ct}catch(Ct){return console.error("Error fetching chatbots:",Ct),new Map}})()).get(be);ie(Ze?{chatbotId:be,chatbotTitle:Ze.title||"N/A",courseTitle:((Me=Ze.courseId)==null?void 0:Me.title)||"N/A",courseId:((Ie=Ze.courseId)==null?void 0:Ie.id)||"N/A",materialTitle:(($e=Ze.material)==null?void 0:$e.title)||"N/A",materialId:((Ke=Ze.material)==null?void 0:Ke.id)||"N/A",materialLink:`https://institute-for-future-intelligence.github.io/nexlab/view-material/${((qe=Ze.material)==null?void 0:qe.id)||""}`,chatbotCreatedBy:Ze.createdBy||"Unknown",chatbotCreatedAt:Ze.timestamp||"N/A"}:null),ye({userId:Ae,startedAt:Oe}),B({chatbotId:be,conversationId:pe}),M(!0)}catch(it){console.error("Error fetching conversation or chatbot details:",it),D("Failed to fetch conversation history or chatbot details.")}finally{F(it=>({...it,[pe]:!1}))}},We=d*p,Je=We-p,Ue=s.slice(Je,We);if(g)return A.jsx(Pe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:A.jsx(Rr,{})});if(v)return A.jsx(Pe,{sx:{textAlign:"center",mt:4},children:A.jsx(je,{variant:"h6",color:"error",children:v})});const Z=be=>{J(be),Ce(!0)},_e=()=>{Ce(!1),J(null)},he=async()=>{if(X){le(!0);try{await Jg(mn(t,"conversations",X)),o(be=>be.filter(pe=>pe.id!==X)),l(be=>be.filter(pe=>pe.id!==X)),Se({open:!0,message:"Conversation deleted successfully.",type:"success"}),_e()}catch(be){console.error("Error deleting conversation:",be),Se({open:!0,message:"Failed to delete the conversation. Please try again.",type:"error"})}finally{le(!1),_e()}}};return A.jsxs(Pe,{className:"profile-container",sx:{p:4},children:[A.jsx(kt,{variant:"text",onClick:()=>r("/"),className:"profile-button",children:"â† Home Page"}),A.jsx(je,{variant:"h5",className:"webpage_title",sx:{mb:2},children:"Chatbot Conversations"}),A.jsxs(Pe,{sx:{display:"flex",gap:2,mb:3},children:[A.jsxs(fd,{sx:{minWidth:200},children:[A.jsx(pd,{id:"filter-chatbot-id",children:"Filter by Chatbot ID"}),A.jsx(vc,{labelId:"filter-chatbot-id",value:z,onChange:be=>Te("chatbot",be.target.value),children:L.length>0?L.map(be=>A.jsx(Nr,{value:be,children:be},be)):A.jsx(Nr,{value:"",disabled:!0,children:"No Chatbots Available"})})]}),A.jsxs(fd,{sx:{minWidth:200},children:[A.jsx(pd,{id:"filter-user-id",children:"Filter by User ID"}),A.jsx(vc,{labelId:"filter-user-id",value:R,onChange:be=>Te("user",be.target.value),children:Q.map(be=>A.jsx(Nr,{value:be,children:be},be))})]})]}),z!=="All"&&A.jsx(Ese,{chatbotId:z}),A.jsxs(Pe,{className:"profile-container",sx:{p:4},children:[A.jsx(qie,{conversations:Ue,onViewHistory:(be,pe,Ae,Oe)=>Ye(be,pe,Ae,Oe),onDeleteConversation:Z,loadingMap:$}),A.jsx(Dse,{open:re,onClose:_e,onConfirm:he,conversationId:X||"",deleting:fe})]}),A.jsx(Sse,{totalItems:s.length,itemsPerPage:p,currentPage:d,onPageChange:h}),P&&ue&&oe&&A.jsx(xse,{open:S,onClose:()=>{M(!1),B(null)},conversationHistory:k,conversationId:P.conversationId,conversationHistoryError:C,chatbotDetails:ue,userId:oe.userId,startedAt:oe.startedAt}),A.jsx(cs,{open:ae.open,autoHideDuration:3e3,onClose:xe,message:ae.message,anchorOrigin:{vertical:"top",horizontal:"center"},ContentProps:{style:{backgroundColor:ae.type==="success"?"#4caf50":"#f44336"}}})]})},Tse=()=>{const[t,r]=Y.useState([]),[n,o]=Y.useState(!0),[s,l]=Y.useState({}),[d,h]=Y.useState(!1),[p,g]=Y.useState(""),[b,v]=Y.useState("success"),y=Wr();Y.useEffect(()=>{(async()=>{const N=Kn(),L=Zn(N,"chatbotRequests");try{const Q=(await So(L)).docs.map(H=>({id:H.id,...H.data()}));r(Q)}catch(U){console.error("Error fetching chatbot requests:",U)}finally{o(!1)}})()},[]);const k=async F=>{const N=s[F];if(!N){g("Please assign a Chatbot ID before approving the request."),v("error"),h(!0);return}try{const L=Kn(),U=mn(L,"chatbotRequests",F),Q=await Wo(U);if(!Q.exists()){g("Request not found. Please refresh the page."),v("error"),h(!0);return}const H=Q.data();if(H.status!=="pending"){g("This request has already been processed."),v("warning"),h(!0);return}await _r(U,{status:"approved",chatbotId:N});const z={chatbotId:N,title:H.title,courseId:{id:H.courseId,number:H.courseNumber,title:H.courseTitle},material:{id:H.materialId||null,title:H.materialTitle||"N/A"},createdBy:H.educatorId,files:H.files,timestamp:new Date().toISOString()};await la(Zn(L,"chatbots"),z),r(G=>G.map(R=>R.id===F?{...R,status:"approved",chatbotId:N}:R)),g("Chatbot request approved and chatbot created successfully!"),v("success"),h(!0)}catch(L){console.error("Error approving chatbot request or creating chatbot:",L),g("Failed to approve the request and create the chatbot. Please try again."),v("error"),h(!0)}},x=()=>{h(!1)},[C,D]=Y.useState(0),[S,M]=Y.useState(5),P=(F,N)=>D(N),B=F=>{M(parseInt(F.target.value,10)),D(0)},$=(F,N)=>{l(L=>({...L,[F]:N}))};return n?A.jsx(Pe,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:A.jsx(Rr,{})}):t.length===0?A.jsx(je,{variant:"body1",sx:{textAlign:"center",mt:4},children:"No chatbot requests found."}):A.jsxs(Pe,{className:"profile-container",sx:{p:4},children:[A.jsx(kt,{variant:"text",onClick:()=>y("/"),className:"profile-button",children:"â† Home Page"}),A.jsx(je,{variant:"h5",className:"webpage_title",sx:{mb:2},children:"Chatbot Requests Management"}),A.jsx(je,{variant:"body1",sx:{mb:3},children:"Manage chatbot requests submitted by educators. Approve requests and assign Chatbot IDs."}),A.jsxs(vd,{component:Bn,elevation:3,sx:{maxHeight:"70vh",overflow:"auto"},children:[A.jsxs(Ad,{stickyHeader:!0,children:[A.jsx(_d,{children:A.jsxs(xo,{children:[A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Title"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Educator ID"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Course ID"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Material ID"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Submitted On"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Status"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"File Links"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Chatbot ID"}),A.jsx(It,{sx:{fontWeight:"bold",backgroundColor:"#E8E8E8",color:"#12372A"},children:"Action"})]})}),A.jsx(Cd,{children:t.slice(C*S,C*S+S).map((F,N)=>{var L;return A.jsxs(xo,{sx:{backgroundColor:N%2===0?"#F6E9B2":"#FBFADA","&:hover":{backgroundColor:"#E8E8E8"}},children:[A.jsx(It,{children:F.title}),A.jsx(It,{children:`${F.courseNumber} - ${F.courseTitle}`}),A.jsx(It,{children:F.materialTitle||"N/A"}),A.jsx(It,{children:F.educatorId}),A.jsx(It,{children:F.courseId}),A.jsx(It,{children:F.materialId||"N/A"}),A.jsx(It,{children:new Date(F.timestamp).toLocaleString()}),A.jsx(It,{children:A.jsx(je,{variant:"body2",sx:{color:F.status==="pending"?"#FFA726":"#43A047",fontWeight:"bold"},children:F.status})}),A.jsx(It,{children:(L=F.files)!=null&&L.length?F.files.map((U,Q)=>A.jsx(Wj,{filePath:U,fileLabel:`File ${Q+1}`},Q)):A.jsx(je,{variant:"body2",children:"No files uploaded"})}),A.jsx(It,{children:F.status==="approved"?A.jsx(je,{variant:"body2",sx:{fontWeight:"bold"},children:F.chatbotId}):A.jsx(Jt,{size:"small",value:s[F.id]||"",onChange:U=>$(F.id,U.target.value),placeholder:"Enter Chatbot ID",sx:{width:"150px"}})}),A.jsx(It,{children:A.jsx(kt,{variant:"contained",color:"primary",onClick:()=>k(F.id),disabled:F.status==="approved",sx:{fontWeight:"bold"},children:F.status==="approved"?"Approved":"Approve"})})]},F.id)})})]}),A.jsx(ZW,{rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:S,page:C,onPageChange:P,onRowsPerPageChange:B,"aria-label":"Chatbot requests pagination",sx:{mt:2}})]}),A.jsx(cs,{open:d,autoHideDuration:6e3,onClose:x,children:A.jsx(br,{onClose:x,severity:b,sx:{width:"100%"},children:p})})]})},Nse=Y.lazy(()=>Ki(()=>import("./index-pil7TiCw.js"),__vite__mapDeps([7,4,1,5]))),Mse=Y.lazy(()=>Ki(()=>import("./index-0wLwLdIl.js"),__vite__mapDeps([8,4,1,5,9]))),Pse=Y.lazy(()=>Ki(()=>import("./SupplementalMaterials-Bzt8NU2M.js"),__vite__mapDeps([10,4,1,5]))),nA=({element:t})=>A.jsx(rO,{children:A.jsx(vs,{element:t})}),Ose=({element:t})=>A.jsx(nO,{children:t}),jse=(t,r)=>[{path:"/",element:t?A.jsx(rO,{children:A.jsx(KY,{})}):A.jsx(Ose,{element:A.jsx(Nse,{})})},{path:"/laboratory-notebooks",element:A.jsx(nA,{element:Mse})},{path:"/supplemental-materials",element:A.jsx(nA,{element:Pse})},{path:"/my-profile",element:A.jsx(nA,{element:ire})},{path:"/add-material",element:A.jsx(vs,{element:dj})},{path:"/edit-material/:id",element:A.jsx(vs,{element:Cte})},{path:"/view-material/:id",element:A.jsx(vs,{element:Kne})},{path:"/add-message",element:A.jsx(vs,{element:Qne})},{path:"/edit-message/:id",element:A.jsx(vs,{element:Jne})},{path:"/chatbot-management",element:A.jsx(vs,{element:Ire})},{path:"/course-management",element:A.jsx(vs,{element:mre})},{path:"/request-chatbot",element:A.jsx(vs,{element:Mre})},{path:"/request-educator-permissions",element:A.jsx(vs,{element:_re})},{path:"/educator-requests",element:A.jsx(vs,{element:Cre})},{path:"/request-new-course",element:A.jsx(xre,{})},{path:"/course-requests",element:A.jsx(Sre,{})},{path:"/super-admin-course-management",element:A.jsx(Ere,{})},{path:"/super-admin-chatbot-requests",element:A.jsx(vs,{element:Tse})},...r?[{path:"/user-management",element:A.jsx(vs,{element:tre})},{path:"/chatbot-conversations",element:A.jsx(vs,{element:Ise})}]:[],{path:"*",element:A.jsx(ZP,{to:"/"})}],Lse=XW({breakpoints:{values:{xs:0,sm:600,md:960,lg:1280,xl:1920}}}),Bse=()=>{const t=eG(),r=vv(t.breakpoints.down("sm")),n=vv(t.breakpoints.between("sm","md")),o=vv(t.breakpoints.up("md"));return{isMobile:r,isTablet:n,isDesktop:o}},Rse=()=>{const{isMobile:t,isTablet:r,isDesktop:n}=Bse();return A.jsx(tG,{position:"static",className:"device-version-bar",children:A.jsx(nG,{className:"device-version-toolbar",children:A.jsxs(Pe,{sx:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[t&&A.jsx(je,{variant:"body1",className:"device-version-text",children:"NexLAB Mobile Version 1.0"}),r&&A.jsx(je,{variant:"body1",className:"device-version-text",children:"NexLAB Tablet Version 1.0"}),n&&A.jsx(je,{variant:"body1",className:"device-version-text",children:"NexLAB Desktop Version 1.0"})]})})})},Fse=at.forwardRef(function(r,n){return A.jsx(br,{elevation:6,ref:n,variant:"filled",...r})}),zse=()=>{const[t,r]=Y.useState(!1),[n,o]=Y.useState(!1),[s,l]=Y.useState(""),[d,h]=Y.useState(!1),p=Wr(),g=()=>{r(!0)},b=()=>{r(!1)},v=async()=>{if(!d){h(!0);try{await XP.signOut(),r(!1),o(!0),l("Logged out successfully"),p("/")}catch(y){r(!1),o(!0);const k=y instanceof Error?y.message:"Logout failed: An unexpected error occurred";l(k)}finally{h(!1)}}};return A.jsxs(A.Fragment,{children:[A.jsx(kt,{variant:"outlined",onClick:g,disabled:d,sx:{fontSize:"1rem",fontFamily:"Staatliches, sans-serif",textTransform:"none",minWidth:"120px",color:"#FBFADA",borderColor:"#FBFADA",borderRadius:"15px",backgroundColor:"transparent",boxShadow:"none","&:hover":{borderColor:"#FFFFFF",backgroundColor:"#ffcdd2",color:"#c62828",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.2)",transform:"scale(1.05)"},"&:disabled":{borderColor:"#ccc",color:"#999"},transition:"transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out, background-color 0.3s ease-in-out"},children:d?"Logging out...":"Logout"}),A.jsxs(Qi,{open:t,onClose:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[A.jsx(Ji,{id:"alert-dialog-title",children:"Logging Out"}),A.jsx(Zi,{children:A.jsx(Ts,{id:"alert-dialog-description",children:"Are you sure you want to log out?"})}),A.jsxs(Xi,{children:[A.jsx(kt,{onClick:v,autoFocus:!0,disabled:d,children:d?"Please wait...":"Yes"}),A.jsx(kt,{onClick:b,disabled:d,children:"No"})]})]}),A.jsx(cs,{open:n,autoHideDuration:6e3,onClose:()=>o(!1),children:A.jsx(Fse,{onClose:()=>o(!1),severity:"info",sx:{width:"100%"},children:s})})]})},Use=at.memo(zse),CL=at.memo(()=>{const{userDetails:t,isSuperAdmin:r}=Pi(),[n,o]=at.useState(!1),s=()=>{t!=null&&t.uid?navigator.clipboard.writeText(t.uid).then(()=>{o(!0),setTimeout(()=>o(!1),2e3)}).catch(l=>console.error("Could not copy text: ",l)):console.error("User details are null or undefined")};return A.jsxs(Pe,{className:"header-box",sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",backgroundColor:"#CDDAFF"},children:[A.jsxs(Pe,{sx:{display:"flex",alignItems:"center"},children:[A.jsx("img",{src:"/nexlab/nexlab-logo.png",alt:"ATE Logo",style:{width:300}}),A.jsx(Pe,{className:"divider",sx:{height:"40px",borderLeft:"2px solid #0B53C0",marginRight:"20px"}}),A.jsxs(je,{variant:"body1",component:"p",className:"subtitle",sx:{color:"#0B53C0",fontFamily:"Gabarito",maxWidth:"300px"},children:["Next-Generation Experiments and ",A.jsx("br",{}),"Learning for Advanced Biotech"]})]}),A.jsxs(Pe,{className:"user-info-box",sx:{display:"flex",alignItems:"center"},children:[r&&A.jsx(ii,{label:"Super-Admin",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),(t==null?void 0:t.isAdmin)&&!r&&A.jsx(ii,{label:"Educator",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#ffcdd2",color:"#c62828",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),!(t!=null&&t.isAdmin)&&A.jsx(ii,{label:"Student",variant:"outlined",sx:{borderRadius:"15px",fontWeight:"bold",background:"#bbdefb",color:"#1e88e5",mr:2,fontFamily:"Staatliches, sans-serif",fontSize:"20px"}}),t&&A.jsx(ls,{title:n?"Copied!":"Click to Copy",enterDelay:300,leaveDelay:200,children:A.jsx(ii,{label:`User ID: ${t.uid}`,variant:"outlined",onClick:s,sx:{borderRadius:"15px",fontSize:"20px",fontWeight:"bold",background:"#e0f2f1",color:"#00695c",cursor:"pointer",transition:"background-color 0.3s",mr:2,fontFamily:"Staatliches, sans-serif"}})}),A.jsx(Use,{})]})]})});CL.displayName="Header";const qse=()=>{const t=()=>{window.open("https://help.waveshi.org","_blank","noopener,noreferrer")};return A.jsx(kt,{onClick:t,className:"report-bug-button",startIcon:A.jsx(rG,{}),children:"Provide Feedback"})};function Vse(){return A.jsxs(Pe,{component:"footer",className:"footer-container",children:[A.jsx(Pe,{className:"report-bug-container",children:A.jsx(qse,{})}),A.jsx(na,{}),A.jsxs(Pe,{className:"footer-content",children:[A.jsx("img",{src:"/nexlab/FooterLogoLong.png",alt:"Logo",className:"footer-logo"}),A.jsx(je,{variant:"body2",className:"footer-text",children:"The Institute for Future Intelligence (IFI) and Kapi'olani Community College (KCC) is funded in part by the National Science Foundation grant DUE 2300976."}),A.jsx(je,{variant:"body2",className:"footer-text",children:"Â© 2025 Institute for Future Intelligence and Kapi'olani Community College Antibody Engineering & Research Projects"})]})]})}const $g={black:"#000",white:"#fff"},Jf={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Zf={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Xf={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},ep={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},tp={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},sg={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},$se={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Yh(t){let r="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+r+" for the full message."}const Hse=Object.freeze(Object.defineProperty({__proto__:null,default:Yh},Symbol.toStringTag,{value:"Module"})),ew="$$material";function Wse(t,r){const n=iG({key:"css",prepend:t});if(r){const o=n.insert;n.insert=(...s)=>(s[1].styles.match(/^@layer\s+[^{]*$/)||(s[1].styles=`@layer mui {${s[1].styles}}`),o(...s))}return n}const rA=new Map;function Gse(t){const{injectFirst:r,enableCssLayer:n,children:o}=t,s=Y.useMemo(()=>{const l=`${r}-${n}`;if(typeof document=="object"&&rA.has(l))return rA.get(l);const d=Wse(r,n);return rA.set(l,d),d},[r,n]);return r||n?A.jsx(PP,{value:s,children:o}):o}function Yse(t){return t==null||Object.keys(t).length===0}function xL(t){const{styles:r,defaultTheme:n={}}=t,o=typeof r=="function"?s=>r(Yse(s)?n:s):r;return A.jsx(OP,{styles:o})}function SL(t,r){return Y_(t,r)}const Kse=(t,r)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=r(t.__emotion_styles))},G6=[];function EL(t){return G6[0]=t,MP(G6)}const Qse=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:xL,StyledEngineProvider:Gse,ThemeContext:K_,css:Jh,default:SL,internal_processStyles:Kse,internal_serializeStyles:EL,keyframes:Cc},Symbol.toStringTag,{value:"Module"}));function rd(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function DL(t){if(Y.isValidElement(t)||!rd(t))return t;const r={};return Object.keys(t).forEach(n=>{r[n]=DL(t[n])}),r}function ia(t,r,n={clone:!0}){const o=n.clone?He({},t):t;return rd(t)&&rd(r)&&Object.keys(r).forEach(s=>{Y.isValidElement(r[s])?o[s]=r[s]:rd(r[s])&&Object.prototype.hasOwnProperty.call(t,s)&&rd(t[s])?o[s]=ia(t[s],r[s],n):n.clone?o[s]=rd(r[s])?DL(r[s]):r[s]:o[s]=r[s]}),o}const Jse=Object.freeze(Object.defineProperty({__proto__:null,default:ia,isPlainObject:rd},Symbol.toStringTag,{value:"Module"})),Zse=["values","unit","step"],Xse=t=>{const r=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return r.sort((n,o)=>n.val-o.val),r.reduce((n,o)=>He({},n,{[o.key]:o.val}),{})};function IL(t){const{values:r={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=t,s=An(t,Zse),l=Xse(r),d=Object.keys(l);function h(y){return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${n})`}function p(y){return`@media (max-width:${(typeof r[y]=="number"?r[y]:y)-o/100}${n})`}function g(y,k){const x=d.indexOf(k);return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${n}) and (max-width:${(x!==-1&&typeof r[d[x]]=="number"?r[d[x]]:k)-o/100}${n})`}function b(y){return d.indexOf(y)+1<d.length?g(y,d[d.indexOf(y)+1]):h(y)}function v(y){const k=d.indexOf(y);return k===0?h(d[1]):k===d.length-1?p(d[k]):g(y,d[d.indexOf(y)+1]).replace("@media","@media not all and")}return He({keys:d,values:l,up:h,down:p,between:g,only:b,not:v,unit:n},s)}const eae={borderRadius:4};function Sg(t,r){return r?ia(t,r,{clone:!1}):t}const DC={xs:0,sm:600,md:900,lg:1200,xl:1536},Y6={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${DC[t]}px)`};function mu(t,r,n){const o=t.theme||{};if(Array.isArray(r)){const l=o.breakpoints||Y6;return r.reduce((d,h,p)=>(d[l.up(l.keys[p])]=n(r[p]),d),{})}if(typeof r=="object"){const l=o.breakpoints||Y6;return Object.keys(r).reduce((d,h)=>{if(Object.keys(l.values||DC).indexOf(h)!==-1){const p=l.up(h);d[p]=n(r[h],h)}else{const p=h;d[p]=r[p]}return d},{})}return n(r)}function tae(t={}){var r;return((r=t.keys)==null?void 0:r.reduce((o,s)=>{const l=t.up(s);return o[l]={},o},{}))||{}}function K6(t,r){return t.reduce((n,o)=>{const s=n[o];return(!s||Object.keys(s).length===0)&&delete n[o],n},r)}function nn(t){if(typeof t!="string")throw new Error(Yh(7));return t.charAt(0).toUpperCase()+t.slice(1)}const nae=Object.freeze(Object.defineProperty({__proto__:null,default:nn},Symbol.toStringTag,{value:"Module"}));function tw(t,r,n=!0){if(!r||typeof r!="string")return null;if(t&&t.vars&&n){const o=`vars.${r}`.split(".").reduce((s,l)=>s&&s[l]?s[l]:null,t);if(o!=null)return o}return r.split(".").reduce((o,s)=>o&&o[s]!=null?o[s]:null,t)}function m1(t,r,n,o=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||o:s=tw(t,n)||o,r&&(s=r(s,o,t)),s}function ji(t){const{prop:r,cssProperty:n=t.prop,themeKey:o,transform:s}=t,l=d=>{if(d[r]==null)return null;const h=d[r],p=d.theme,g=tw(p,o)||{};return mu(d,h,v=>{let y=m1(g,s,v);return v===y&&typeof v=="string"&&(y=m1(g,s,`${r}${v==="default"?"":nn(v)}`,v)),n===!1?y:{[n]:y}})};return l.propTypes={},l.filterProps=[r],l}function rae(t){const r={};return n=>(r[n]===void 0&&(r[n]=t(n)),r[n])}const iae={m:"margin",p:"padding"},oae={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Q6={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},sae=rae(t=>{if(t.length>2)if(Q6[t])t=Q6[t];else return[t];const[r,n]=t.split(""),o=iae[r],s=oae[n]||"";return Array.isArray(s)?s.map(l=>o+l):[o+s]}),IC=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],TC=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...IC,...TC];function hb(t,r,n,o){var s;const l=(s=tw(t,r,!1))!=null?s:n;return typeof l=="number"?d=>typeof d=="string"?d:l*d:Array.isArray(l)?d=>typeof d=="string"?d:l[d]:typeof l=="function"?l:()=>{}}function TL(t){return hb(t,"spacing",8)}function fb(t,r){if(typeof r=="string"||r==null)return r;const n=Math.abs(r),o=t(n);return r>=0?o:typeof o=="number"?-o:`-${o}`}function aae(t,r){return n=>t.reduce((o,s)=>(o[s]=fb(r,n),o),{})}function lae(t,r,n,o){if(r.indexOf(n)===-1)return null;const s=sae(n),l=aae(s,o),d=t[n];return mu(t,d,l)}function NL(t,r){const n=TL(t.theme);return Object.keys(t).map(o=>lae(t,r,o,n)).reduce(Sg,{})}function fi(t){return NL(t,IC)}fi.propTypes={};fi.filterProps=IC;function pi(t){return NL(t,TC)}pi.propTypes={};pi.filterProps=TC;function cae(t=8){if(t.mui)return t;const r=TL({spacing:t}),n=(...o)=>(o.length===0?[1]:o).map(l=>{const d=r(l);return typeof d=="number"?`${d}px`:d}).join(" ");return n.mui=!0,n}function nw(...t){const r=t.reduce((o,s)=>(s.filterProps.forEach(l=>{o[l]=s}),o),{}),n=o=>Object.keys(o).reduce((s,l)=>r[l]?Sg(s,r[l](o)):s,{});return n.propTypes={},n.filterProps=t.reduce((o,s)=>o.concat(s.filterProps),[]),n}function Ra(t){return typeof t!="number"?t:`${t}px solid`}function Va(t,r){return ji({prop:t,themeKey:"borders",transform:r})}const uae=Va("border",Ra),dae=Va("borderTop",Ra),hae=Va("borderRight",Ra),fae=Va("borderBottom",Ra),pae=Va("borderLeft",Ra),mae=Va("borderColor"),gae=Va("borderTopColor"),bae=Va("borderRightColor"),kae=Va("borderBottomColor"),wae=Va("borderLeftColor"),yae=Va("outline",Ra),vae=Va("outlineColor"),rw=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const r=hb(t.theme,"shape.borderRadius",4),n=o=>({borderRadius:fb(r,o)});return mu(t,t.borderRadius,n)}return null};rw.propTypes={};rw.filterProps=["borderRadius"];nw(uae,dae,hae,fae,pae,mae,gae,bae,kae,wae,rw,yae,vae);const iw=t=>{if(t.gap!==void 0&&t.gap!==null){const r=hb(t.theme,"spacing",8),n=o=>({gap:fb(r,o)});return mu(t,t.gap,n)}return null};iw.propTypes={};iw.filterProps=["gap"];const ow=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const r=hb(t.theme,"spacing",8),n=o=>({columnGap:fb(r,o)});return mu(t,t.columnGap,n)}return null};ow.propTypes={};ow.filterProps=["columnGap"];const sw=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const r=hb(t.theme,"spacing",8),n=o=>({rowGap:fb(r,o)});return mu(t,t.rowGap,n)}return null};sw.propTypes={};sw.filterProps=["rowGap"];const Aae=ji({prop:"gridColumn"}),_ae=ji({prop:"gridRow"}),Cae=ji({prop:"gridAutoFlow"}),xae=ji({prop:"gridAutoColumns"}),Sae=ji({prop:"gridAutoRows"}),Eae=ji({prop:"gridTemplateColumns"}),Dae=ji({prop:"gridTemplateRows"}),Iae=ji({prop:"gridTemplateAreas"}),Tae=ji({prop:"gridArea"});nw(iw,ow,sw,Aae,_ae,Cae,xae,Sae,Eae,Dae,Iae,Tae);function _p(t,r){return r==="grey"?r:t}const Nae=ji({prop:"color",themeKey:"palette",transform:_p}),Mae=ji({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:_p}),Pae=ji({prop:"backgroundColor",themeKey:"palette",transform:_p});nw(Nae,Mae,Pae);function Js(t){return t<=1&&t!==0?`${t*100}%`:t}const Oae=ji({prop:"width",transform:Js}),NC=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const r=n=>{var o,s;const l=((o=t.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[n])||DC[n];return l?((s=t.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${l}${t.theme.breakpoints.unit}`}:{maxWidth:l}:{maxWidth:Js(n)}};return mu(t,t.maxWidth,r)}return null};NC.filterProps=["maxWidth"];const jae=ji({prop:"minWidth",transform:Js}),Lae=ji({prop:"height",transform:Js}),Bae=ji({prop:"maxHeight",transform:Js}),Rae=ji({prop:"minHeight",transform:Js});ji({prop:"size",cssProperty:"width",transform:Js});ji({prop:"size",cssProperty:"height",transform:Js});const Fae=ji({prop:"boxSizing"});nw(Oae,NC,jae,Lae,Bae,Rae,Fae);const pb={border:{themeKey:"borders",transform:Ra},borderTop:{themeKey:"borders",transform:Ra},borderRight:{themeKey:"borders",transform:Ra},borderBottom:{themeKey:"borders",transform:Ra},borderLeft:{themeKey:"borders",transform:Ra},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ra},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:rw},color:{themeKey:"palette",transform:_p},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:_p},backgroundColor:{themeKey:"palette",transform:_p},p:{style:pi},pt:{style:pi},pr:{style:pi},pb:{style:pi},pl:{style:pi},px:{style:pi},py:{style:pi},padding:{style:pi},paddingTop:{style:pi},paddingRight:{style:pi},paddingBottom:{style:pi},paddingLeft:{style:pi},paddingX:{style:pi},paddingY:{style:pi},paddingInline:{style:pi},paddingInlineStart:{style:pi},paddingInlineEnd:{style:pi},paddingBlock:{style:pi},paddingBlockStart:{style:pi},paddingBlockEnd:{style:pi},m:{style:fi},mt:{style:fi},mr:{style:fi},mb:{style:fi},ml:{style:fi},mx:{style:fi},my:{style:fi},margin:{style:fi},marginTop:{style:fi},marginRight:{style:fi},marginBottom:{style:fi},marginLeft:{style:fi},marginX:{style:fi},marginY:{style:fi},marginInline:{style:fi},marginInlineStart:{style:fi},marginInlineEnd:{style:fi},marginBlock:{style:fi},marginBlockStart:{style:fi},marginBlockEnd:{style:fi},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:iw},rowGap:{style:sw},columnGap:{style:ow},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Js},maxWidth:{style:NC},minWidth:{transform:Js},height:{transform:Js},maxHeight:{transform:Js},minHeight:{transform:Js},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function zae(...t){const r=t.reduce((o,s)=>o.concat(Object.keys(s)),[]),n=new Set(r);return t.every(o=>n.size===Object.keys(o).length)}function Uae(t,r){return typeof t=="function"?t(r):t}function ML(){function t(n,o,s,l){const d={[n]:o,theme:s},h=l[n];if(!h)return{[n]:o};const{cssProperty:p=n,themeKey:g,transform:b,style:v}=h;if(o==null)return null;if(g==="typography"&&o==="inherit")return{[n]:o};const y=tw(s,g)||{};return v?v(d):mu(d,o,x=>{let C=m1(y,b,x);return x===C&&typeof x=="string"&&(C=m1(y,b,`${n}${x==="default"?"":nn(x)}`,x)),p===!1?C:{[p]:C}})}function r(n){var o;const{sx:s,theme:l={},nested:d}=n||{};if(!s)return null;const h=(o=l.unstable_sxConfig)!=null?o:pb;function p(g){let b=g;if(typeof g=="function")b=g(l);else if(typeof g!="object")return g;if(!b)return null;const v=tae(l.breakpoints),y=Object.keys(v);let k=v;return Object.keys(b).forEach(x=>{const C=Uae(b[x],l);if(C!=null)if(typeof C=="object")if(h[x])k=Sg(k,t(x,C,l,h));else{const D=mu({theme:l},C,S=>({[x]:S}));zae(D,C)?k[x]=r({sx:C,theme:l,nested:!0}):k=Sg(k,D)}else k=Sg(k,t(x,C,l,h))}),!d&&l.modularCssLayers?{"@layer sx":K6(y,k)}:K6(y,k)}return Array.isArray(s)?s.map(p):p(s)}return r}const mb=ML();mb.filterProps=["sx"];function PL(t,r){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:r}:n.palette.mode===t?r:{}}const qae=["breakpoints","palette","spacing","shape"];function MC(t={},...r){const{breakpoints:n={},palette:o={},spacing:s,shape:l={}}=t,d=An(t,qae),h=IL(n),p=cae(s);let g=ia({breakpoints:h,direction:"ltr",components:{},palette:He({mode:"light"},o),spacing:p,shape:He({},eae,l)},d);return g.applyStyles=PL,g=r.reduce((b,v)=>ia(b,v),g),g.unstable_sxConfig=He({},pb,d==null?void 0:d.unstable_sxConfig),g.unstable_sx=function(v){return mb({sx:v,theme:this})},g}const Vae=Object.freeze(Object.defineProperty({__proto__:null,default:MC,private_createBreakpoints:IL,unstable_applyStyles:PL},Symbol.toStringTag,{value:"Module"}));function $ae(t){return Object.keys(t).length===0}function OL(t=null){const r=Y.useContext(K_);return!r||$ae(r)?t:r}const Hae=MC();function PC(t=Hae){return OL(t)}function iA(t){const r=EL(t);return t!==r&&r.styles?(r.styles.match(/^@layer\s+[^{]*$/)||(r.styles=`@layer global{${r.styles}}`),r):t}function Wae({styles:t,themeId:r,defaultTheme:n={}}){const o=PC(n),s=r&&o[r]||o;let l=typeof t=="function"?t(s):t;return s.modularCssLayers&&(Array.isArray(l)?l=l.map(d=>iA(typeof d=="function"?d(s):d)):l=iA(l)),A.jsx(xL,{styles:l})}const Gae=["sx"],Yae=t=>{var r,n;const o={systemProps:{},otherProps:{}},s=(r=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?r:pb;return Object.keys(t).forEach(l=>{s[l]?o.systemProps[l]=t[l]:o.otherProps[l]=t[l]}),o};function OC(t){const{sx:r}=t,n=An(t,Gae),{systemProps:o,otherProps:s}=Yae(n);let l;return Array.isArray(r)?l=[o,...r]:typeof r=="function"?l=(...d)=>{const h=r(...d);return rd(h)?He({},o,h):o}:l=He({},o,r),He({},s,{sx:l})}const Kae=Object.freeze(Object.defineProperty({__proto__:null,default:mb,extendSxProp:OC,unstable_createStyleFunctionSx:ML,unstable_defaultSxConfig:pb},Symbol.toStringTag,{value:"Module"})),J6=t=>t,Qae=()=>{let t=J6;return{configure(r){t=r},generate(r){return t(r)},reset(){t=J6}}},jL=Qae(),Jae=["className","component"];function Zae(t={}){const{themeId:r,defaultTheme:n,defaultClassName:o="MuiBox-root",generateClassName:s}=t,l=SL("div",{shouldForwardProp:h=>h!=="theme"&&h!=="sx"&&h!=="as"})(mb);return Y.forwardRef(function(p,g){const b=PC(n),v=OC(p),{className:y,component:k="div"}=v,x=An(v,Jae);return A.jsx(l,He({as:k,ref:g,className:Xt(y,s?s(o):o),theme:r&&b[r]||b},x))})}const Xae={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Fr(t,r,n="Mui"){const o=Xae[r];return o?`${n}-${o}`:`${jL.generate(t)}-${r}`}function Pr(t,r,n="Mui"){const o={};return r.forEach(s=>{o[s]=Fr(t,s,n)}),o}const ele=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function LL(t){const r=`${t}`.match(ele);return r&&r[1]||""}function BL(t,r=""){return t.displayName||t.name||LL(t)||r}function Z6(t,r,n){const o=BL(r);return t.displayName||(o!==""?`${n}(${o})`:n)}function tle(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return BL(t,"Component");if(typeof t=="object")switch(t.$$typeof){case $k.ForwardRef:return Z6(t,t.render,"ForwardRef");case $k.Memo:return Z6(t,t.type,"memo");default:return}}}const nle=Object.freeze(Object.defineProperty({__proto__:null,default:tle,getFunctionName:LL},Symbol.toStringTag,{value:"Module"}));function Hg(t,r){const n=He({},r);return Object.keys(t).forEach(o=>{if(o.toString().match(/^(components|slots)$/))n[o]=He({},t[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const s=t[o]||{},l=r[o];n[o]={},!l||!Object.keys(l)?n[o]=s:!s||!Object.keys(s)?n[o]=l:(n[o]=He({},l),Object.keys(s).forEach(d=>{n[o][d]=Hg(s[d],l[d])}))}else n[o]===void 0&&(n[o]=t[o])}),n}function rle(t){const{theme:r,name:n,props:o}=t;return!r||!r.components||!r.components[n]||!r.components[n].defaultProps?o:Hg(r.components[n].defaultProps,o)}const wd=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;function ile(t,r,n,o,s){const[l,d]=Y.useState(()=>s&&n?n(t).matches:o?o(t).matches:r);return wd(()=>{let h=!0;if(!n)return;const p=n(t),g=()=>{h&&d(p.matches)};return g(),p.addListener(g),()=>{h=!1,p.removeListener(g)}},[t,n]),l}const RL=Y.useSyncExternalStore;function ole(t,r,n,o,s){const l=Y.useCallback(()=>r,[r]),d=Y.useMemo(()=>{if(s&&n)return()=>n(t).matches;if(o!==null){const{matches:b}=o(t);return()=>b}return l},[l,t,o,s,n]),[h,p]=Y.useMemo(()=>{if(n===null)return[l,()=>()=>{}];const b=n(t);return[()=>b.matches,v=>(b.addListener(v),()=>{b.removeListener(v)})]},[l,n,t]);return RL(p,h,d)}function X6(t,r={}){const n=OL(),o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:s=!1,matchMedia:l=o?window.matchMedia:null,ssrMatchMedia:d=null,noSsr:h=!1}=rle({name:"MuiUseMediaQuery",props:r,theme:n});let p=typeof t=="function"?t(n):t;return p=p.replace(/^@media( ?)/m,""),(RL!==void 0?ole:ile)(p,s,l,d,h)}function sle(t,r=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(r,Math.min(t,n))}const ale=Object.freeze(Object.defineProperty({__proto__:null,default:sle},Symbol.toStringTag,{value:"Module"}));function eN(...t){return t.reduce((r,n)=>n==null?r:function(...s){r.apply(this,s),n.apply(this,s)},()=>{})}function FL(t,r=166){let n;function o(...s){const l=()=>{t.apply(this,s)};clearTimeout(n),n=setTimeout(l,r)}return o.clear=()=>{clearTimeout(n)},o}function oA(t,r){var n,o;return Y.isValidElement(t)&&r.indexOf((n=t.type.muiName)!=null?n:(o=t.type)==null||(o=o._payload)==null||(o=o.value)==null?void 0:o.muiName)!==-1}function oa(t){return t&&t.ownerDocument||document}function Kh(t){return oa(t).defaultView||window}function m_(t,r){typeof t=="function"?t(r):t&&(t.current=r)}let tN=0;function lle(t){const[r,n]=Y.useState(t),o=t||r;return Y.useEffect(()=>{r==null&&(tN+=1,n(`mui-${tN}`))},[r]),o}const nN=C1.useId;function zL(t){if(nN!==void 0){const r=nN();return t??r}return lle(t)}function rN({controlled:t,default:r,name:n,state:o="value"}){const{current:s}=Y.useRef(t!==void 0),[l,d]=Y.useState(r),h=s?t:l,p=Y.useCallback(g=>{s||d(g)},[]);return[h,p]}function Nh(t){const r=Y.useRef(t);return wd(()=>{r.current=t}),Y.useRef((...n)=>(0,r.current)(...n)).current}function Ds(...t){return Y.useMemo(()=>t.every(r=>r==null)?null:r=>{t.forEach(n=>{m_(n,r)})},t)}const iN={};function cle(t,r){const n=Y.useRef(iN);return n.current===iN&&(n.current=t(r)),n}const ule=[];function dle(t){Y.useEffect(t,ule)}class aw{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new aw}start(r,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},r)}}function UL(){const t=cle(aw.create).current;return dle(t.disposeEffect),t}let lw=!0,g_=!1;const hle=new aw,fle={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ple(t){const{type:r,tagName:n}=t;return!!(n==="INPUT"&&fle[r]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function mle(t){t.metaKey||t.altKey||t.ctrlKey||(lw=!0)}function sA(){lw=!1}function gle(){this.visibilityState==="hidden"&&g_&&(lw=!0)}function ble(t){t.addEventListener("keydown",mle,!0),t.addEventListener("mousedown",sA,!0),t.addEventListener("pointerdown",sA,!0),t.addEventListener("touchstart",sA,!0),t.addEventListener("visibilitychange",gle,!0)}function kle(t){const{target:r}=t;try{return r.matches(":focus-visible")}catch{}return lw||ple(r)}function wle(){const t=Y.useCallback(s=>{s!=null&&ble(s.ownerDocument)},[]),r=Y.useRef(!1);function n(){return r.current?(g_=!0,hle.start(100,()=>{g_=!1}),r.current=!1,!0):!1}function o(s){return kle(s)?(r.current=!0,!0):!1}return{isFocusVisibleRef:r,onFocus:o,onBlur:n,ref:t}}function qL(t){const r=t.documentElement.clientWidth;return Math.abs(window.innerWidth-r)}function Gr(t,r,n=void 0){const o={};return Object.keys(t).forEach(s=>{o[s]=t[s].reduce((l,d)=>{if(d){const h=r(d);h!==""&&l.push(h),n&&n[d]&&l.push(n[d])}return l},[]).join(" ")}),o}function g1(t){return typeof t=="string"}function yle(t,r,n){return t===void 0||g1(t)?r:He({},r,{ownerState:He({},r.ownerState,n)})}function VL(t,r=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(o=>o.match(/^on[A-Z]/)&&typeof t[o]=="function"&&!r.includes(o)).forEach(o=>{n[o]=t[o]}),n}function oN(t){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{r[n]=t[n]}),r}function vle(t){const{getSlotProps:r,additionalProps:n,externalSlotProps:o,externalForwardedProps:s,className:l}=t;if(!r){const k=Xt(n==null?void 0:n.className,l,s==null?void 0:s.className,o==null?void 0:o.className),x=He({},n==null?void 0:n.style,s==null?void 0:s.style,o==null?void 0:o.style),C=He({},n,s,o);return k.length>0&&(C.className=k),Object.keys(x).length>0&&(C.style=x),{props:C,internalRef:void 0}}const d=VL(He({},s,o)),h=oN(o),p=oN(s),g=r(d),b=Xt(g==null?void 0:g.className,n==null?void 0:n.className,l,s==null?void 0:s.className,o==null?void 0:o.className),v=He({},g==null?void 0:g.style,n==null?void 0:n.style,s==null?void 0:s.style,o==null?void 0:o.style),y=He({},g,n,p,h);return b.length>0&&(y.className=b),Object.keys(v).length>0&&(y.style=v),{props:y,internalRef:g.ref}}function Ale(t,r,n){return typeof t=="function"?t(r,n):t}const _le=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function jp(t){var r;const{elementType:n,externalSlotProps:o,ownerState:s,skipResolvingSlotProps:l=!1}=t,d=An(t,_le),h=l?{}:Ale(o,s),{props:p,internalRef:g}=vle(He({},d,{externalSlotProps:h})),b=Ds(g,h==null?void 0:h.ref,(r=t.additionalProps)==null?void 0:r.ref);return yle(n,He({},p,{ref:b}),s)}function gb(t){if(parseInt(Y.version,10)>=19){var r;return(t==null||(r=t.props)==null?void 0:r.ref)||null}return(t==null?void 0:t.ref)||null}const Cle=Y.createContext(),$L=()=>{const t=Y.useContext(Cle);return t??!1},xle=Y.createContext(void 0);function Sle(t){const{theme:r,name:n,props:o}=t;if(!r||!r.components||!r.components[n])return o;const s=r.components[n];return s.defaultProps?Hg(s.defaultProps,o):!s.styleOverrides&&!s.variants?Hg(s,o):o}function Ele({props:t,name:r}){const n=Y.useContext(xle);return Sle({props:t,name:r,theme:{components:n}})}function Dle(t,r){return He({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},r)}var ti={},aA={exports:{}},sN;function HL(){return sN||(sN=1,function(t){function r(n){return n&&n.__esModule?n:{default:n}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(aA)),aA.exports}const Ile=ku(Hse),Tle=ku(ale);var aN;function Nle(){if(aN)return ti;aN=1;var t=HL();Object.defineProperty(ti,"__esModule",{value:!0}),ti.alpha=x,ti.blend=F,ti.colorChannel=void 0,ti.darken=D,ti.decomposeColor=d,ti.emphasize=B,ti.getContrastRatio=k,ti.getLuminance=y,ti.hexToRgb=s,ti.hslToRgb=v,ti.lighten=M,ti.private_safeAlpha=C,ti.private_safeColorChannel=void 0,ti.private_safeDarken=S,ti.private_safeEmphasize=$,ti.private_safeLighten=P,ti.recomposeColor=g,ti.rgbToHex=b;var r=t(Ile),n=t(Tle);function o(N,L=0,U=1){return(0,n.default)(N,L,U)}function s(N){N=N.slice(1);const L=new RegExp(`.{1,${N.length>=6?2:1}}`,"g");let U=N.match(L);return U&&U[0].length===1&&(U=U.map(Q=>Q+Q)),U?`rgb${U.length===4?"a":""}(${U.map((Q,H)=>H<3?parseInt(Q,16):Math.round(parseInt(Q,16)/255*1e3)/1e3).join(", ")})`:""}function l(N){const L=N.toString(16);return L.length===1?`0${L}`:L}function d(N){if(N.type)return N;if(N.charAt(0)==="#")return d(s(N));const L=N.indexOf("("),U=N.substring(0,L);if(["rgb","rgba","hsl","hsla","color"].indexOf(U)===-1)throw new Error((0,r.default)(9,N));let Q=N.substring(L+1,N.length-1),H;if(U==="color"){if(Q=Q.split(" "),H=Q.shift(),Q.length===4&&Q[3].charAt(0)==="/"&&(Q[3]=Q[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(H)===-1)throw new Error((0,r.default)(10,H))}else Q=Q.split(",");return Q=Q.map(z=>parseFloat(z)),{type:U,values:Q,colorSpace:H}}const h=N=>{const L=d(N);return L.values.slice(0,3).map((U,Q)=>L.type.indexOf("hsl")!==-1&&Q!==0?`${U}%`:U).join(" ")};ti.colorChannel=h;const p=(N,L)=>{try{return h(N)}catch{return N}};ti.private_safeColorChannel=p;function g(N){const{type:L,colorSpace:U}=N;let{values:Q}=N;return L.indexOf("rgb")!==-1?Q=Q.map((H,z)=>z<3?parseInt(H,10):H):L.indexOf("hsl")!==-1&&(Q[1]=`${Q[1]}%`,Q[2]=`${Q[2]}%`),L.indexOf("color")!==-1?Q=`${U} ${Q.join(" ")}`:Q=`${Q.join(", ")}`,`${L}(${Q})`}function b(N){if(N.indexOf("#")===0)return N;const{values:L}=d(N);return`#${L.map((U,Q)=>l(Q===3?Math.round(255*U):U)).join("")}`}function v(N){N=d(N);const{values:L}=N,U=L[0],Q=L[1]/100,H=L[2]/100,z=Q*Math.min(H,1-H),G=(ue,ie=(ue+U/30)%12)=>H-z*Math.max(Math.min(ie-3,9-ie,1),-1);let R="rgb";const ne=[Math.round(G(0)*255),Math.round(G(8)*255),Math.round(G(4)*255)];return N.type==="hsla"&&(R+="a",ne.push(L[3])),g({type:R,values:ne})}function y(N){N=d(N);let L=N.type==="hsl"||N.type==="hsla"?d(v(N)).values:N.values;return L=L.map(U=>(N.type!=="color"&&(U/=255),U<=.03928?U/12.92:((U+.055)/1.055)**2.4)),Number((.2126*L[0]+.7152*L[1]+.0722*L[2]).toFixed(3))}function k(N,L){const U=y(N),Q=y(L);return(Math.max(U,Q)+.05)/(Math.min(U,Q)+.05)}function x(N,L){return N=d(N),L=o(L),(N.type==="rgb"||N.type==="hsl")&&(N.type+="a"),N.type==="color"?N.values[3]=`/${L}`:N.values[3]=L,g(N)}function C(N,L,U){try{return x(N,L)}catch{return N}}function D(N,L){if(N=d(N),L=o(L),N.type.indexOf("hsl")!==-1)N.values[2]*=1-L;else if(N.type.indexOf("rgb")!==-1||N.type.indexOf("color")!==-1)for(let U=0;U<3;U+=1)N.values[U]*=1-L;return g(N)}function S(N,L,U){try{return D(N,L)}catch{return N}}function M(N,L){if(N=d(N),L=o(L),N.type.indexOf("hsl")!==-1)N.values[2]+=(100-N.values[2])*L;else if(N.type.indexOf("rgb")!==-1)for(let U=0;U<3;U+=1)N.values[U]+=(255-N.values[U])*L;else if(N.type.indexOf("color")!==-1)for(let U=0;U<3;U+=1)N.values[U]+=(1-N.values[U])*L;return g(N)}function P(N,L,U){try{return M(N,L)}catch{return N}}function B(N,L=.15){return y(N)>.5?D(N,L):M(N,L)}function $(N,L,U){try{return B(N,L)}catch{return N}}function F(N,L,U,Q=1){const H=(ne,ue)=>Math.round((ne**(1/Q)*(1-U)+ue**(1/Q)*U)**Q),z=d(N),G=d(L),R=[H(z.values[0],G.values[0]),H(z.values[1],G.values[1]),H(z.values[2],G.values[2])];return g({type:"rgb",values:R})}return ti}var ea=Nle();const Mle=["mode","contrastThreshold","tonalOffset"],lN={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:$g.white,default:$g.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},lA={text:{primary:$g.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:$g.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function cN(t,r,n,o){const s=o.light||o,l=o.dark||o*1.5;t[r]||(t.hasOwnProperty(n)?t[r]=t[n]:r==="light"?t.light=ea.lighten(t.main,s):r==="dark"&&(t.dark=ea.darken(t.main,l)))}function Ple(t="light"){return t==="dark"?{main:Xf[200],light:Xf[50],dark:Xf[400]}:{main:Xf[700],light:Xf[400],dark:Xf[800]}}function Ole(t="light"){return t==="dark"?{main:Zf[200],light:Zf[50],dark:Zf[400]}:{main:Zf[500],light:Zf[300],dark:Zf[700]}}function jle(t="light"){return t==="dark"?{main:Jf[500],light:Jf[300],dark:Jf[700]}:{main:Jf[700],light:Jf[400],dark:Jf[800]}}function Lle(t="light"){return t==="dark"?{main:ep[400],light:ep[300],dark:ep[700]}:{main:ep[700],light:ep[500],dark:ep[900]}}function Ble(t="light"){return t==="dark"?{main:tp[400],light:tp[300],dark:tp[700]}:{main:tp[800],light:tp[500],dark:tp[900]}}function Rle(t="light"){return t==="dark"?{main:sg[400],light:sg[300],dark:sg[700]}:{main:"#ed6c02",light:sg[500],dark:sg[900]}}function Fle(t){const{mode:r="light",contrastThreshold:n=3,tonalOffset:o=.2}=t,s=An(t,Mle),l=t.primary||Ple(r),d=t.secondary||Ole(r),h=t.error||jle(r),p=t.info||Lle(r),g=t.success||Ble(r),b=t.warning||Rle(r);function v(C){return ea.getContrastRatio(C,lA.text.primary)>=n?lA.text.primary:lN.text.primary}const y=({color:C,name:D,mainShade:S=500,lightShade:M=300,darkShade:P=700})=>{if(C=He({},C),!C.main&&C[S]&&(C.main=C[S]),!C.hasOwnProperty("main"))throw new Error(Yh(11,D?` (${D})`:"",S));if(typeof C.main!="string")throw new Error(Yh(12,D?` (${D})`:"",JSON.stringify(C.main)));return cN(C,"light",M,o),cN(C,"dark",P,o),C.contrastText||(C.contrastText=v(C.main)),C},k={dark:lA,light:lN};return ia(He({common:He({},$g),mode:r,primary:y({color:l,name:"primary"}),secondary:y({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:h,name:"error"}),warning:y({color:b,name:"warning"}),info:y({color:p,name:"info"}),success:y({color:g,name:"success"}),grey:$se,contrastThreshold:n,getContrastText:v,augmentColor:y,tonalOffset:o},k[r]),s)}const zle=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Ule(t){return Math.round(t*1e5)/1e5}const uN={textTransform:"uppercase"},dN='"Roboto", "Helvetica", "Arial", sans-serif';function qle(t,r){const n=typeof r=="function"?r(t):r,{fontFamily:o=dN,fontSize:s=14,fontWeightLight:l=300,fontWeightRegular:d=400,fontWeightMedium:h=500,fontWeightBold:p=700,htmlFontSize:g=16,allVariants:b,pxToRem:v}=n,y=An(n,zle),k=s/14,x=v||(S=>`${S/g*k}rem`),C=(S,M,P,B,$)=>He({fontFamily:o,fontWeight:S,fontSize:x(M),lineHeight:P},o===dN?{letterSpacing:`${Ule(B/M)}em`}:{},$,b),D={h1:C(l,96,1.167,-1.5),h2:C(l,60,1.2,-.5),h3:C(d,48,1.167,0),h4:C(d,34,1.235,.25),h5:C(d,24,1.334,0),h6:C(h,20,1.6,.15),subtitle1:C(d,16,1.75,.15),subtitle2:C(h,14,1.57,.1),body1:C(d,16,1.5,.15),body2:C(d,14,1.43,.15),button:C(h,14,1.75,.4,uN),caption:C(d,12,1.66,.4),overline:C(d,12,2.66,1,uN),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ia(He({htmlFontSize:g,pxToRem:x,fontFamily:o,fontSize:s,fontWeightLight:l,fontWeightRegular:d,fontWeightMedium:h,fontWeightBold:p},D),y,{clone:!1})}const Vle=.2,$le=.14,Hle=.12;function $r(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Vle})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${$le})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Hle})`].join(",")}const Wle=["none",$r(0,2,1,-1,0,1,1,0,0,1,3,0),$r(0,3,1,-2,0,2,2,0,0,1,5,0),$r(0,3,3,-2,0,3,4,0,0,1,8,0),$r(0,2,4,-1,0,4,5,0,0,1,10,0),$r(0,3,5,-1,0,5,8,0,0,1,14,0),$r(0,3,5,-1,0,6,10,0,0,1,18,0),$r(0,4,5,-2,0,7,10,1,0,2,16,1),$r(0,5,5,-3,0,8,10,1,0,3,14,2),$r(0,5,6,-3,0,9,12,1,0,3,16,2),$r(0,6,6,-3,0,10,14,1,0,4,18,3),$r(0,6,7,-4,0,11,15,1,0,4,20,3),$r(0,7,8,-4,0,12,17,2,0,5,22,4),$r(0,7,8,-4,0,13,19,2,0,5,24,4),$r(0,7,9,-4,0,14,21,2,0,5,26,4),$r(0,8,9,-5,0,15,22,2,0,6,28,5),$r(0,8,10,-5,0,16,24,2,0,6,30,5),$r(0,8,11,-5,0,17,26,2,0,6,32,5),$r(0,9,11,-5,0,18,28,2,0,7,34,6),$r(0,9,12,-6,0,19,29,2,0,7,36,6),$r(0,10,13,-6,0,20,31,3,0,8,38,7),$r(0,10,13,-6,0,21,33,3,0,8,40,7),$r(0,10,14,-6,0,22,35,3,0,8,42,7),$r(0,11,14,-7,0,23,36,3,0,9,44,8),$r(0,11,15,-7,0,24,38,3,0,9,46,8)],Gle=["duration","easing","delay"],Yle={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Kle={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function hN(t){return`${Math.round(t)}ms`}function Qle(t){if(!t)return 0;const r=t/36;return Math.round((4+15*r**.25+r/5)*10)}function Jle(t){const r=He({},Yle,t.easing),n=He({},Kle,t.duration);return He({getAutoHeightDuration:Qle,create:(s=["all"],l={})=>{const{duration:d=n.standard,easing:h=r.easeInOut,delay:p=0}=l;return An(l,Gle),(Array.isArray(s)?s:[s]).map(g=>`${g} ${typeof d=="string"?d:hN(d)} ${h} ${typeof p=="string"?p:hN(p)}`).join(",")}},t,{easing:r,duration:n})}const Zle={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Xle=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function WL(t={},...r){const{mixins:n={},palette:o={},transitions:s={},typography:l={}}=t,d=An(t,Xle);if(t.vars&&t.generateCssVars===void 0)throw new Error(Yh(18));const h=Fle(o),p=MC(t);let g=ia(p,{mixins:Dle(p.breakpoints,n),palette:h,shadows:Wle.slice(),typography:qle(h,l),transitions:Jle(s),zIndex:He({},Zle)});return g=ia(g,d),g=r.reduce((b,v)=>ia(b,v),g),g.unstable_sxConfig=He({},pb,d==null?void 0:d.unstable_sxConfig),g.unstable_sx=function(v){return mb({sx:v,theme:this})},g}const jC=WL();function GL(){const t=PC(jC);return t[ew]||t}var gh={},cA={exports:{}},fN;function ece(){return fN||(fN=1,function(t){function r(){return t.exports=r=Object.assign?Object.assign.bind():function(n){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var l in s)({}).hasOwnProperty.call(s,l)&&(n[l]=s[l])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,r.apply(null,arguments)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(cA)),cA.exports}var uA={exports:{}},pN;function tce(){return pN||(pN=1,function(t){function r(n,o){if(n==null)return{};var s={};for(var l in n)if({}.hasOwnProperty.call(n,l)){if(o.indexOf(l)!==-1)continue;s[l]=n[l]}return s}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(uA)),uA.exports}const nce=ku(Qse),rce=ku(Jse),ice=ku(nae),oce=ku(nle),sce=ku(Vae),ace=ku(Kae);var mN;function lce(){if(mN)return gh;mN=1;var t=HL();Object.defineProperty(gh,"__esModule",{value:!0}),gh.default=$,gh.shouldForwardProp=x,gh.systemDefaultTheme=void 0;var r=t(ece()),n=t(tce()),o=v(nce),s=rce;t(ice),t(oce);var l=t(sce),d=t(ace);const h=["ownerState"],p=["variants"],g=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function b(F){if(typeof WeakMap!="function")return null;var N=new WeakMap,L=new WeakMap;return(b=function(U){return U?L:N})(F)}function v(F,N){if(F&&F.__esModule)return F;if(F===null||typeof F!="object"&&typeof F!="function")return{default:F};var L=b(N);if(L&&L.has(F))return L.get(F);var U={__proto__:null},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var H in F)if(H!=="default"&&Object.prototype.hasOwnProperty.call(F,H)){var z=Q?Object.getOwnPropertyDescriptor(F,H):null;z&&(z.get||z.set)?Object.defineProperty(U,H,z):U[H]=F[H]}return U.default=F,L&&L.set(F,U),U}function y(F){return Object.keys(F).length===0}function k(F){return typeof F=="string"&&F.charCodeAt(0)>96}function x(F){return F!=="ownerState"&&F!=="theme"&&F!=="sx"&&F!=="as"}function C(F,N){return N&&F&&typeof F=="object"&&F.styles&&!F.styles.startsWith("@layer")&&(F.styles=`@layer ${N}{${String(F.styles)}}`),F}const D=gh.systemDefaultTheme=(0,l.default)(),S=F=>F&&F.charAt(0).toLowerCase()+F.slice(1);function M({defaultTheme:F,theme:N,themeId:L}){return y(N)?F:N[L]||N}function P(F){return F?(N,L)=>L[F]:null}function B(F,N,L){let{ownerState:U}=N,Q=(0,n.default)(N,h);const H=typeof F=="function"?F((0,r.default)({ownerState:U},Q)):F;if(Array.isArray(H))return H.flatMap(z=>B(z,(0,r.default)({ownerState:U},Q),L));if(H&&typeof H=="object"&&Array.isArray(H.variants)){const{variants:z=[]}=H;let R=(0,n.default)(H,p);return z.forEach(ne=>{let ue=!0;if(typeof ne.props=="function"?ue=ne.props((0,r.default)({ownerState:U},Q,U)):Object.keys(ne.props).forEach(ie=>{(U==null?void 0:U[ie])!==ne.props[ie]&&Q[ie]!==ne.props[ie]&&(ue=!1)}),ue){Array.isArray(R)||(R=[R]);const ie=typeof ne.style=="function"?ne.style((0,r.default)({ownerState:U},Q,U)):ne.style;R.push(L?C((0,o.internal_serializeStyles)(ie),L):ie)}}),R}return L?C((0,o.internal_serializeStyles)(H),L):H}function $(F={}){const{themeId:N,defaultTheme:L=D,rootShouldForwardProp:U=x,slotShouldForwardProp:Q=x}=F,H=z=>(0,d.default)((0,r.default)({},z,{theme:M((0,r.default)({},z,{defaultTheme:L,themeId:N}))}));return H.__mui_systemSx=!0,(z,G={})=>{(0,o.internal_processStyles)(z,xe=>xe.filter(Te=>!(Te!=null&&Te.__mui_systemSx)));const{name:R,slot:ne,skipVariantsResolver:ue,skipSx:ie,overridesResolver:oe=P(S(ne))}=G,ye=(0,n.default)(G,g),re=R&&R.startsWith("Mui")||ne?"components":"custom",Ce=ue!==void 0?ue:ne&&ne!=="Root"&&ne!=="root"||!1,X=ie||!1;let J,fe=x;ne==="Root"||ne==="root"?fe=U:ne?fe=Q:k(z)&&(fe=void 0);const le=(0,o.default)(z,(0,r.default)({shouldForwardProp:fe,label:J},ye)),ae=xe=>typeof xe=="function"&&xe.__emotion_real!==xe||(0,s.isPlainObject)(xe)?Te=>{const Ye=M({theme:Te.theme,defaultTheme:L,themeId:N});return B(xe,(0,r.default)({},Te,{theme:Ye}),Ye.modularCssLayers?re:void 0)}:xe,Se=(xe,...Te)=>{let Ye=ae(xe);const We=Te?Te.map(ae):[];R&&oe&&We.push(Z=>{const _e=M((0,r.default)({},Z,{defaultTheme:L,themeId:N}));if(!_e.components||!_e.components[R]||!_e.components[R].styleOverrides)return null;const he=_e.components[R].styleOverrides,be={};return Object.entries(he).forEach(([pe,Ae])=>{be[pe]=B(Ae,(0,r.default)({},Z,{theme:_e}),_e.modularCssLayers?"theme":void 0)}),oe(Z,be)}),R&&!Ce&&We.push(Z=>{var _e;const he=M((0,r.default)({},Z,{defaultTheme:L,themeId:N})),be=he==null||(_e=he.components)==null||(_e=_e[R])==null?void 0:_e.variants;return B({variants:be},(0,r.default)({},Z,{theme:he}),he.modularCssLayers?"theme":void 0)}),X||We.push(H);const Je=We.length-Te.length;if(Array.isArray(xe)&&Je>0){const Z=new Array(Je).fill("");Ye=[...xe,...Z],Ye.raw=[...xe.raw,...Z]}const Ue=le(Ye,...We);return z.muiName&&(Ue.muiName=z.muiName),Ue};return le.withConfig&&(Se.withConfig=le.withConfig),Se}}return gh}var cce=lce();const uce=bu(cce);function YL(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Cl=t=>YL(t)&&t!=="classes",sn=uce({themeId:ew,defaultTheme:jC,rootShouldForwardProp:Cl}),gN=t=>{let r;return t<1?r=5.11916*t**2:r=4.5*Math.log(t+1)+2,(r/100).toFixed(2)};function Yr(t){return Ele(t)}function dce(t){return Fr("MuiSvgIcon",t)}Pr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const hce=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],fce=t=>{const{color:r,fontSize:n,classes:o}=t,s={root:["root",r!=="inherit"&&`color${nn(r)}`,`fontSize${nn(n)}`]};return Gr(s,dce,o)},pce=sn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.color!=="inherit"&&r[`color${nn(n.color)}`],r[`fontSize${nn(n.fontSize)}`]]}})(({theme:t,ownerState:r})=>{var n,o,s,l,d,h,p,g,b,v,y,k,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:r.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(o=n.create)==null?void 0:o.call(n,"fill",{duration:(s=t.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((l=t.typography)==null||(d=l.pxToRem)==null?void 0:d.call(l,20))||"1.25rem",medium:((h=t.typography)==null||(p=h.pxToRem)==null?void 0:p.call(h,24))||"1.5rem",large:((g=t.typography)==null||(b=g.pxToRem)==null?void 0:b.call(g,35))||"2.1875rem"}[r.fontSize],color:(v=(y=(t.vars||t).palette)==null||(y=y[r.color])==null?void 0:y.main)!=null?v:{action:(k=(t.vars||t).palette)==null||(k=k.action)==null?void 0:k.active,disabled:(x=(t.vars||t).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[r.color]}}),b_=Y.forwardRef(function(r,n){const o=Yr({props:r,name:"MuiSvgIcon"}),{children:s,className:l,color:d="inherit",component:h="svg",fontSize:p="medium",htmlColor:g,inheritViewBox:b=!1,titleAccess:v,viewBox:y="0 0 24 24"}=o,k=An(o,hce),x=Y.isValidElement(s)&&s.type==="svg",C=He({},o,{color:d,component:h,fontSize:p,instanceFontSize:r.fontSize,inheritViewBox:b,viewBox:y,hasSvgAsChild:x}),D={};b||(D.viewBox=y);const S=fce(C);return A.jsxs(pce,He({as:h,className:Xt(S.root,l),focusable:"false",color:g,"aria-hidden":v?void 0:!0,role:v?"img":void 0,ref:n},D,k,x&&s.props,{ownerState:C,children:[x?s.props.children:s,v?A.jsx("title",{children:v}):null]}))});b_.muiName="SvgIcon";function mce(t,r){function n(o,s){return A.jsx(b_,He({"data-testid":`${r}Icon`,ref:s},o,{children:t}))}return n.muiName=b_.muiName,Y.memo(Y.forwardRef(n))}const KL=t=>t.scrollTop;function b1(t,r){var n,o;const{timeout:s,easing:l,style:d={}}=t;return{duration:(n=d.transitionDuration)!=null?n:typeof s=="number"?s:s[r.mode]||0,easing:(o=d.transitionTimingFunction)!=null?o:typeof l=="object"?l[r.mode]:l,delay:d.transitionDelay}}function gce(t){return Fr("MuiPaper",t)}Pr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const bce=["className","component","elevation","square","variant"],kce=t=>{const{square:r,elevation:n,variant:o,classes:s}=t,l={root:["root",o,!r&&"rounded",o==="elevation"&&`elevation${n}`]};return Gr(l,gce,s)},wce=sn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[n.variant],!n.square&&r.rounded,n.variant==="elevation"&&r[`elevation${n.elevation}`]]}})(({theme:t,ownerState:r})=>{var n;return He({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!r.square&&{borderRadius:t.shape.borderRadius},r.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},r.variant==="elevation"&&He({boxShadow:(t.vars||t).shadows[r.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${ea.alpha("#fff",gN(r.elevation))}, ${ea.alpha("#fff",gN(r.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[r.elevation]}))}),QL=Y.forwardRef(function(r,n){const o=Yr({props:r,name:"MuiPaper"}),{className:s,component:l="div",elevation:d=1,square:h=!1,variant:p="elevation"}=o,g=An(o,bce),b=He({},o,{component:l,elevation:d,square:h,variant:p}),v=kce(b);return A.jsx(wce,He({as:l,ownerState:b,className:Xt(v.root,s),ref:n},g))});function yce(t){const{className:r,classes:n,pulsate:o=!1,rippleX:s,rippleY:l,rippleSize:d,in:h,onExited:p,timeout:g}=t,[b,v]=Y.useState(!1),y=Xt(r,n.ripple,n.rippleVisible,o&&n.ripplePulsate),k={width:d,height:d,top:-(d/2)+l,left:-(d/2)+s},x=Xt(n.child,b&&n.childLeaving,o&&n.childPulsate);return!h&&!b&&v(!0),Y.useEffect(()=>{if(!h&&p!=null){const C=setTimeout(p,g);return()=>{clearTimeout(C)}}},[p,h,g]),A.jsx("span",{className:y,style:k,children:A.jsx("span",{className:x})})}const ja=Pr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),vce=["center","classes","className"];let cw=t=>t,bN,kN,wN,yN;const k_=550,Ace=80,_ce=Cc(bN||(bN=cw`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Cce=Cc(kN||(kN=cw`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),xce=Cc(wN||(wN=cw`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Sce=sn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ece=sn(yce,{name:"MuiTouchRipple",slot:"Ripple"})(yN||(yN=cw`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ja.rippleVisible,_ce,k_,({theme:t})=>t.transitions.easing.easeInOut,ja.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,ja.child,ja.childLeaving,Cce,k_,({theme:t})=>t.transitions.easing.easeInOut,ja.childPulsate,xce,({theme:t})=>t.transitions.easing.easeInOut),Dce=Y.forwardRef(function(r,n){const o=Yr({props:r,name:"MuiTouchRipple"}),{center:s=!1,classes:l={},className:d}=o,h=An(o,vce),[p,g]=Y.useState([]),b=Y.useRef(0),v=Y.useRef(null);Y.useEffect(()=>{v.current&&(v.current(),v.current=null)},[p]);const y=Y.useRef(!1),k=UL(),x=Y.useRef(null),C=Y.useRef(null),D=Y.useCallback(B=>{const{pulsate:$,rippleX:F,rippleY:N,rippleSize:L,cb:U}=B;g(Q=>[...Q,A.jsx(Ece,{classes:{ripple:Xt(l.ripple,ja.ripple),rippleVisible:Xt(l.rippleVisible,ja.rippleVisible),ripplePulsate:Xt(l.ripplePulsate,ja.ripplePulsate),child:Xt(l.child,ja.child),childLeaving:Xt(l.childLeaving,ja.childLeaving),childPulsate:Xt(l.childPulsate,ja.childPulsate)},timeout:k_,pulsate:$,rippleX:F,rippleY:N,rippleSize:L},b.current)]),b.current+=1,v.current=U},[l]),S=Y.useCallback((B={},$={},F=()=>{})=>{const{pulsate:N=!1,center:L=s||$.pulsate,fakeElement:U=!1}=$;if((B==null?void 0:B.type)==="mousedown"&&y.current){y.current=!1;return}(B==null?void 0:B.type)==="touchstart"&&(y.current=!0);const Q=U?null:C.current,H=Q?Q.getBoundingClientRect():{width:0,height:0,left:0,top:0};let z,G,R;if(L||B===void 0||B.clientX===0&&B.clientY===0||!B.clientX&&!B.touches)z=Math.round(H.width/2),G=Math.round(H.height/2);else{const{clientX:ne,clientY:ue}=B.touches&&B.touches.length>0?B.touches[0]:B;z=Math.round(ne-H.left),G=Math.round(ue-H.top)}if(L)R=Math.sqrt((2*H.width**2+H.height**2)/3),R%2===0&&(R+=1);else{const ne=Math.max(Math.abs((Q?Q.clientWidth:0)-z),z)*2+2,ue=Math.max(Math.abs((Q?Q.clientHeight:0)-G),G)*2+2;R=Math.sqrt(ne**2+ue**2)}B!=null&&B.touches?x.current===null&&(x.current=()=>{D({pulsate:N,rippleX:z,rippleY:G,rippleSize:R,cb:F})},k.start(Ace,()=>{x.current&&(x.current(),x.current=null)})):D({pulsate:N,rippleX:z,rippleY:G,rippleSize:R,cb:F})},[s,D,k]),M=Y.useCallback(()=>{S({},{pulsate:!0})},[S]),P=Y.useCallback((B,$)=>{if(k.clear(),(B==null?void 0:B.type)==="touchend"&&x.current){x.current(),x.current=null,k.start(0,()=>{P(B,$)});return}x.current=null,g(F=>F.length>0?F.slice(1):F),v.current=$},[k]);return Y.useImperativeHandle(n,()=>({pulsate:M,start:S,stop:P}),[M,S,P]),A.jsx(Sce,He({className:Xt(ja.root,l.root,d),ref:C},h,{children:A.jsx(oG,{component:null,exit:!0,children:p})}))});function Ice(t){return Fr("MuiButtonBase",t)}const Tce=Pr("MuiButtonBase",["root","disabled","focusVisible"]),Nce=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Mce=t=>{const{disabled:r,focusVisible:n,focusVisibleClassName:o,classes:s}=t,d=Gr({root:["root",r&&"disabled",n&&"focusVisible"]},Ice,s);return n&&o&&(d.root+=` ${o}`),d},Pce=sn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,r)=>r.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Tce.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),JL=Y.forwardRef(function(r,n){const o=Yr({props:r,name:"MuiButtonBase"}),{action:s,centerRipple:l=!1,children:d,className:h,component:p="button",disabled:g=!1,disableRipple:b=!1,disableTouchRipple:v=!1,focusRipple:y=!1,LinkComponent:k="a",onBlur:x,onClick:C,onContextMenu:D,onDragLeave:S,onFocus:M,onFocusVisible:P,onKeyDown:B,onKeyUp:$,onMouseDown:F,onMouseLeave:N,onMouseUp:L,onTouchEnd:U,onTouchMove:Q,onTouchStart:H,tabIndex:z=0,TouchRippleProps:G,touchRippleRef:R,type:ne}=o,ue=An(o,Nce),ie=Y.useRef(null),oe=Y.useRef(null),ye=Ds(oe,R),{isFocusVisibleRef:re,onFocus:Ce,onBlur:X,ref:J}=wle(),[fe,le]=Y.useState(!1);g&&fe&&le(!1),Y.useImperativeHandle(s,()=>({focusVisible:()=>{le(!0),ie.current.focus()}}),[]);const[ae,Se]=Y.useState(!1);Y.useEffect(()=>{Se(!0)},[]);const xe=ae&&!b&&!g;Y.useEffect(()=>{fe&&y&&!b&&ae&&oe.current.pulsate()},[b,y,fe,ae]);function Te(Ze,Ct,dt=v){return Nh(en=>(Ct&&Ct(en),!dt&&oe.current&&oe.current[Ze](en),!0))}const Ye=Te("start",F),We=Te("stop",D),Je=Te("stop",S),Ue=Te("stop",L),Z=Te("stop",Ze=>{fe&&Ze.preventDefault(),N&&N(Ze)}),_e=Te("start",H),he=Te("stop",U),be=Te("stop",Q),pe=Te("stop",Ze=>{X(Ze),re.current===!1&&le(!1),x&&x(Ze)},!1),Ae=Nh(Ze=>{ie.current||(ie.current=Ze.currentTarget),Ce(Ze),re.current===!0&&(le(!0),P&&P(Ze)),M&&M(Ze)}),Oe=()=>{const Ze=ie.current;return p&&p!=="button"&&!(Ze.tagName==="A"&&Ze.href)},Me=Y.useRef(!1),Ie=Nh(Ze=>{y&&!Me.current&&fe&&oe.current&&Ze.key===" "&&(Me.current=!0,oe.current.stop(Ze,()=>{oe.current.start(Ze)})),Ze.target===Ze.currentTarget&&Oe()&&Ze.key===" "&&Ze.preventDefault(),B&&B(Ze),Ze.target===Ze.currentTarget&&Oe()&&Ze.key==="Enter"&&!g&&(Ze.preventDefault(),C&&C(Ze))}),$e=Nh(Ze=>{y&&Ze.key===" "&&oe.current&&fe&&!Ze.defaultPrevented&&(Me.current=!1,oe.current.stop(Ze,()=>{oe.current.pulsate(Ze)})),$&&$(Ze),C&&Ze.target===Ze.currentTarget&&Oe()&&Ze.key===" "&&!Ze.defaultPrevented&&C(Ze)});let Ke=p;Ke==="button"&&(ue.href||ue.to)&&(Ke=k);const qe={};Ke==="button"?(qe.type=ne===void 0?"button":ne,qe.disabled=g):(!ue.href&&!ue.to&&(qe.role="button"),g&&(qe["aria-disabled"]=g));const it=Ds(n,J,ie),Be=He({},o,{centerRipple:l,component:p,disabled:g,disableRipple:b,disableTouchRipple:v,focusRipple:y,tabIndex:z,focusVisible:fe}),Qe=Mce(Be);return A.jsxs(Pce,He({as:Ke,className:Xt(Qe.root,h),ownerState:Be,onBlur:pe,onClick:C,onContextMenu:We,onFocus:Ae,onKeyDown:Ie,onKeyUp:$e,onMouseDown:Ye,onMouseLeave:Z,onMouseUp:Ue,onDragLeave:Je,onTouchEnd:he,onTouchMove:be,onTouchStart:_e,ref:it,tabIndex:g?-1:z,type:ne},qe,ue,{children:[d,xe?A.jsx(Dce,He({ref:ye,center:l},G)):null]}))});function Oce(t){return Fr("MuiIconButton",t)}const jce=Pr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Lce=["edge","children","className","color","disabled","disableFocusRipple","size"],Bce=t=>{const{classes:r,disabled:n,color:o,edge:s,size:l}=t,d={root:["root",n&&"disabled",o!=="default"&&`color${nn(o)}`,s&&`edge${nn(s)}`,`size${nn(l)}`]};return Gr(d,Oce,r)},Rce=sn(JL,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.color!=="default"&&r[`color${nn(n.color)}`],n.edge&&r[`edge${nn(n.edge)}`],r[`size${nn(n.size)}`]]}})(({theme:t,ownerState:r})=>He({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!r.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:ea.alpha(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},r.edge==="start"&&{marginLeft:r.size==="small"?-3:-12},r.edge==="end"&&{marginRight:r.size==="small"?-3:-12}),({theme:t,ownerState:r})=>{var n;const o=(n=(t.vars||t).palette)==null?void 0:n[r.color];return He({},r.color==="inherit"&&{color:"inherit"},r.color!=="inherit"&&r.color!=="default"&&He({color:o==null?void 0:o.main},!r.disableRipple&&{"&:hover":He({},o&&{backgroundColor:t.vars?`rgba(${o.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ea.alpha(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),r.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},r.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${jce.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),w_=Y.forwardRef(function(r,n){const o=Yr({props:r,name:"MuiIconButton"}),{edge:s=!1,children:l,className:d,color:h="default",disabled:p=!1,disableFocusRipple:g=!1,size:b="medium"}=o,v=An(o,Lce),y=He({},o,{edge:s,color:h,disabled:p,disableFocusRipple:g,size:b}),k=Bce(y);return A.jsx(Rce,He({className:Xt(k.root,d),centerRipple:!0,focusRipple:!g,disabled:p,ref:n},v,{ownerState:y,children:l}))});function Fce(t){return Fr("MuiTypography",t)}Pr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const zce=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Uce=t=>{const{align:r,gutterBottom:n,noWrap:o,paragraph:s,variant:l,classes:d}=t,h={root:["root",l,t.align!=="inherit"&&`align${nn(r)}`,n&&"gutterBottom",o&&"noWrap",s&&"paragraph"]};return Gr(h,Fce,d)},qce=sn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.variant&&r[n.variant],n.align!=="inherit"&&r[`align${nn(n.align)}`],n.noWrap&&r.noWrap,n.gutterBottom&&r.gutterBottom,n.paragraph&&r.paragraph]}})(({theme:t,ownerState:r})=>He({margin:0},r.variant==="inherit"&&{font:"inherit"},r.variant!=="inherit"&&t.typography[r.variant],r.align!=="inherit"&&{textAlign:r.align},r.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r.gutterBottom&&{marginBottom:"0.35em"},r.paragraph&&{marginBottom:16})),vN={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Vce={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},$ce=t=>Vce[t]||t,Uh=Y.forwardRef(function(r,n){const o=Yr({props:r,name:"MuiTypography"}),s=$ce(o.color),l=OC(He({},o,{color:s})),{align:d="inherit",className:h,component:p,gutterBottom:g=!1,noWrap:b=!1,paragraph:v=!1,variant:y="body1",variantMapping:k=vN}=l,x=An(l,zce),C=He({},l,{align:d,color:s,className:h,component:p,gutterBottom:g,noWrap:b,paragraph:v,variant:y,variantMapping:k}),D=p||(v?"p":k[y]||vN[y])||"span",S=Uce(C);return A.jsx(qce,He({as:D,ref:n,ownerState:C,className:Xt(S.root,h)},x))});function Hce(t){return typeof t=="function"?t():t}const Wce=Y.forwardRef(function(r,n){const{children:o,container:s,disablePortal:l=!1}=r,[d,h]=Y.useState(null),p=Ds(Y.isValidElement(o)?gb(o):null,n);if(wd(()=>{l||h(Hce(s)||document.body)},[s,l]),wd(()=>{if(d&&!l)return m_(n,d),()=>{m_(n,null)}},[n,d,l]),l){if(Y.isValidElement(o)){const g={ref:p};return Y.cloneElement(o,g)}return A.jsx(Y.Fragment,{children:o})}return A.jsx(Y.Fragment,{children:d&&SP.createPortal(o,d)})}),Gce=["onChange","maxRows","minRows","style","value"];function lk(t){return parseInt(t,10)||0}const Yce={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Kce(t){for(const r in t)return!1;return!0}function AN(t){return Kce(t)||t.outerHeightStyle===0&&!t.overflowing}const Qce=Y.forwardRef(function(r,n){const{onChange:o,maxRows:s,minRows:l=1,style:d,value:h}=r,p=An(r,Gce),{current:g}=Y.useRef(h!=null),b=Y.useRef(null),v=Ds(n,b),y=Y.useRef(null),k=Y.useRef(null),x=Y.useCallback(()=>{const P=b.current,B=k.current;if(!P||!B)return;const F=Kh(P).getComputedStyle(P);if(F.width==="0px")return{outerHeightStyle:0,overflowing:!1};B.style.width=F.width,B.value=P.value||r.placeholder||"x",B.value.slice(-1)===`
`&&(B.value+=" ");const N=F.boxSizing,L=lk(F.paddingBottom)+lk(F.paddingTop),U=lk(F.borderBottomWidth)+lk(F.borderTopWidth),Q=B.scrollHeight;B.value="x";const H=B.scrollHeight;let z=Q;l&&(z=Math.max(Number(l)*H,z)),s&&(z=Math.min(Number(s)*H,z)),z=Math.max(z,H);const G=z+(N==="border-box"?L+U:0),R=Math.abs(z-Q)<=1;return{outerHeightStyle:G,overflowing:R}},[s,l,r.placeholder]),C=Nh(()=>{const P=b.current,B=x();if(!P||!B||AN(B))return!1;const $=B.outerHeightStyle;return y.current!=null&&y.current!==$}),D=Y.useCallback(()=>{const P=b.current,B=x();if(!P||!B||AN(B))return;const $=B.outerHeightStyle;y.current!==$&&(y.current=$,P.style.height=`${$}px`),P.style.overflow=B.overflowing?"hidden":""},[x]),S=Y.useRef(-1);wd(()=>{const P=FL(D),B=b==null?void 0:b.current;if(!B)return;const $=Kh(B);$.addEventListener("resize",P);let F;return typeof ResizeObserver<"u"&&(F=new ResizeObserver(()=>{C()&&(F.unobserve(B),cancelAnimationFrame(S.current),D(),S.current=requestAnimationFrame(()=>{F.observe(B)}))}),F.observe(B)),()=>{P.clear(),cancelAnimationFrame(S.current),$.removeEventListener("resize",P),F&&F.disconnect()}},[x,D,C]),wd(()=>{D()});const M=P=>{g||D(),o&&o(P)};return A.jsxs(Y.Fragment,{children:[A.jsx("textarea",He({value:h,onChange:M,ref:v,rows:l,style:d},p)),A.jsx("textarea",{"aria-hidden":!0,className:r.className,readOnly:!0,ref:k,tabIndex:-1,style:He({},Yce.shadow,d,{paddingTop:0,paddingBottom:0})})]})});function Vp({props:t,states:r,muiFormControl:n}){return r.reduce((o,s)=>(o[s]=t[s],n&&typeof t[s]>"u"&&(o[s]=n[s]),o),{})}const LC=Y.createContext(void 0);function $p(){return Y.useContext(LC)}function Jce(t){return A.jsx(Wae,He({},t,{defaultTheme:jC,themeId:ew}))}function _N(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function k1(t,r=!1){return t&&(_N(t.value)&&t.value!==""||r&&_N(t.defaultValue)&&t.defaultValue!=="")}function Zce(t){return t.startAdornment}function Xce(t){return Fr("MuiInputBase",t)}const Lp=Pr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),eue=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],uw=(t,r)=>{const{ownerState:n}=t;return[r.root,n.formControl&&r.formControl,n.startAdornment&&r.adornedStart,n.endAdornment&&r.adornedEnd,n.error&&r.error,n.size==="small"&&r.sizeSmall,n.multiline&&r.multiline,n.color&&r[`color${nn(n.color)}`],n.fullWidth&&r.fullWidth,n.hiddenLabel&&r.hiddenLabel]},dw=(t,r)=>{const{ownerState:n}=t;return[r.input,n.size==="small"&&r.inputSizeSmall,n.multiline&&r.inputMultiline,n.type==="search"&&r.inputTypeSearch,n.startAdornment&&r.inputAdornedStart,n.endAdornment&&r.inputAdornedEnd,n.hiddenLabel&&r.inputHiddenLabel]},tue=t=>{const{classes:r,color:n,disabled:o,error:s,endAdornment:l,focused:d,formControl:h,fullWidth:p,hiddenLabel:g,multiline:b,readOnly:v,size:y,startAdornment:k,type:x}=t,C={root:["root",`color${nn(n)}`,o&&"disabled",s&&"error",p&&"fullWidth",d&&"focused",h&&"formControl",y&&y!=="medium"&&`size${nn(y)}`,b&&"multiline",k&&"adornedStart",l&&"adornedEnd",g&&"hiddenLabel",v&&"readOnly"],input:["input",o&&"disabled",x==="search"&&"inputTypeSearch",b&&"inputMultiline",y==="small"&&"inputSizeSmall",g&&"inputHiddenLabel",k&&"inputAdornedStart",l&&"inputAdornedEnd",v&&"readOnly"]};return Gr(C,Xce,r)},hw=sn("div",{name:"MuiInputBase",slot:"Root",overridesResolver:uw})(({theme:t,ownerState:r})=>He({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Lp.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},r.multiline&&He({padding:"4px 0 5px"},r.size==="small"&&{paddingTop:1}),r.fullWidth&&{width:"100%"})),fw=sn("input",{name:"MuiInputBase",slot:"Input",overridesResolver:dw})(({theme:t,ownerState:r})=>{const n=t.palette.mode==="light",o=He({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),s={opacity:"0 !important"},l=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return He({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Lp.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":l,"&:focus::-moz-placeholder":l,"&:focus:-ms-input-placeholder":l,"&:focus::-ms-input-placeholder":l},[`&.${Lp.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},r.size==="small"&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},r.type==="search"&&{MozAppearance:"textfield"})}),nue=A.jsx(Jce,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),BC=Y.forwardRef(function(r,n){var o;const s=Yr({props:r,name:"MuiInputBase"}),{"aria-describedby":l,autoComplete:d,autoFocus:h,className:p,components:g={},componentsProps:b={},defaultValue:v,disabled:y,disableInjectingGlobalStyles:k,endAdornment:x,fullWidth:C=!1,id:D,inputComponent:S="input",inputProps:M={},inputRef:P,maxRows:B,minRows:$,multiline:F=!1,name:N,onBlur:L,onChange:U,onClick:Q,onFocus:H,onKeyDown:z,onKeyUp:G,placeholder:R,readOnly:ne,renderSuffix:ue,rows:ie,slotProps:oe={},slots:ye={},startAdornment:re,type:Ce="text",value:X}=s,J=An(s,eue),fe=M.value!=null?M.value:X,{current:le}=Y.useRef(fe!=null),ae=Y.useRef(),Se=Y.useCallback(Qe=>{},[]),xe=Ds(ae,P,M.ref,Se),[Te,Ye]=Y.useState(!1),We=$p(),Je=Vp({props:s,muiFormControl:We,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Je.focused=We?We.focused:Te,Y.useEffect(()=>{!We&&y&&Te&&(Ye(!1),L&&L())},[We,y,Te,L]);const Ue=We&&We.onFilled,Z=We&&We.onEmpty,_e=Y.useCallback(Qe=>{k1(Qe)?Ue&&Ue():Z&&Z()},[Ue,Z]);wd(()=>{le&&_e({value:fe})},[fe,_e,le]);const he=Qe=>{if(Je.disabled){Qe.stopPropagation();return}H&&H(Qe),M.onFocus&&M.onFocus(Qe),We&&We.onFocus?We.onFocus(Qe):Ye(!0)},be=Qe=>{L&&L(Qe),M.onBlur&&M.onBlur(Qe),We&&We.onBlur?We.onBlur(Qe):Ye(!1)},pe=(Qe,...Ze)=>{if(!le){const Ct=Qe.target||ae.current;if(Ct==null)throw new Error(Yh(1));_e({value:Ct.value})}M.onChange&&M.onChange(Qe,...Ze),U&&U(Qe,...Ze)};Y.useEffect(()=>{_e(ae.current)},[]);const Ae=Qe=>{ae.current&&Qe.currentTarget===Qe.target&&ae.current.focus(),Q&&Q(Qe)};let Oe=S,Me=M;F&&Oe==="input"&&(ie?Me=He({type:void 0,minRows:ie,maxRows:ie},Me):Me=He({type:void 0,maxRows:B,minRows:$},Me),Oe=Qce);const Ie=Qe=>{_e(Qe.animationName==="mui-auto-fill-cancel"?ae.current:{value:"x"})};Y.useEffect(()=>{We&&We.setAdornedStart(!!re)},[We,re]);const $e=He({},s,{color:Je.color||"primary",disabled:Je.disabled,endAdornment:x,error:Je.error,focused:Je.focused,formControl:We,fullWidth:C,hiddenLabel:Je.hiddenLabel,multiline:F,size:Je.size,startAdornment:re,type:Ce}),Ke=tue($e),qe=ye.root||g.Root||hw,it=oe.root||b.root||{},Be=ye.input||g.Input||fw;return Me=He({},Me,(o=oe.input)!=null?o:b.input),A.jsxs(Y.Fragment,{children:[!k&&nue,A.jsxs(qe,He({},it,!g1(qe)&&{ownerState:He({},$e,it.ownerState)},{ref:n,onClick:Ae},J,{className:Xt(Ke.root,it.className,p,ne&&"MuiInputBase-readOnly"),children:[re,A.jsx(LC.Provider,{value:null,children:A.jsx(Be,He({ownerState:$e,"aria-invalid":Je.error,"aria-describedby":l,autoComplete:d,autoFocus:h,defaultValue:v,disabled:Je.disabled,id:D,onAnimationStart:Ie,name:N,placeholder:R,readOnly:ne,required:Je.required,rows:ie,value:fe,onKeyDown:z,onKeyUp:G,type:Ce},Me,!g1(Be)&&{as:Oe,ownerState:He({},$e,Me.ownerState)},{ref:xe,className:Xt(Ke.input,Me.className,ne&&"MuiInputBase-readOnly"),onBlur:be,onChange:pe,onFocus:he}))}),x,ue?ue(He({},Je,{startAdornment:re})):null]}))]})});function rue(t){return Fr("MuiInput",t)}const ag=He({},Lp,Pr("MuiInput",["root","underline","input"]));function iue(t){return Fr("MuiOutlinedInput",t)}const Xu=He({},Lp,Pr("MuiOutlinedInput",["root","notchedOutline","input"]));function oue(t){return Fr("MuiFilledInput",t)}const bh=He({},Lp,Pr("MuiFilledInput",["root","underline","input"])),sue=mce(A.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),aue=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],lue={entering:{opacity:1},entered:{opacity:1}},cue=Y.forwardRef(function(r,n){const o=GL(),s={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:l,appear:d=!0,children:h,easing:p,in:g,onEnter:b,onEntered:v,onEntering:y,onExit:k,onExited:x,onExiting:C,style:D,timeout:S=s,TransitionComponent:M=jP}=r,P=An(r,aue),B=Y.useRef(null),$=Ds(B,gb(h),n),F=R=>ne=>{if(R){const ue=B.current;ne===void 0?R(ue):R(ue,ne)}},N=F(y),L=F((R,ne)=>{KL(R);const ue=b1({style:D,timeout:S,easing:p},{mode:"enter"});R.style.webkitTransition=o.transitions.create("opacity",ue),R.style.transition=o.transitions.create("opacity",ue),b&&b(R,ne)}),U=F(v),Q=F(C),H=F(R=>{const ne=b1({style:D,timeout:S,easing:p},{mode:"exit"});R.style.webkitTransition=o.transitions.create("opacity",ne),R.style.transition=o.transitions.create("opacity",ne),k&&k(R)}),z=F(x),G=R=>{l&&l(B.current,R)};return A.jsx(M,He({appear:d,in:g,nodeRef:B,onEnter:L,onEntered:U,onEntering:N,onExit:H,onExited:z,onExiting:Q,addEndListener:G,timeout:S},P,{children:(R,ne)=>Y.cloneElement(h,He({style:He({opacity:0,visibility:R==="exited"&&!g?"hidden":void 0},lue[R],D,h.props.style),ref:$},ne))}))});function uue(t){return Fr("MuiBackdrop",t)}Pr("MuiBackdrop",["root","invisible"]);const due=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],hue=t=>{const{classes:r,invisible:n}=t;return Gr({root:["root",n&&"invisible"]},uue,r)},fue=sn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.invisible&&r.invisible]}})(({ownerState:t})=>He({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),pue=Y.forwardRef(function(r,n){var o,s,l;const d=Yr({props:r,name:"MuiBackdrop"}),{children:h,className:p,component:g="div",components:b={},componentsProps:v={},invisible:y=!1,open:k,slotProps:x={},slots:C={},TransitionComponent:D=cue,transitionDuration:S}=d,M=An(d,due),P=He({},d,{component:g,invisible:y}),B=hue(P),$=(o=x.root)!=null?o:v.root;return A.jsx(D,He({in:k,timeout:S},M,{children:A.jsx(fue,He({"aria-hidden":!0},$,{as:(s=(l=C.root)!=null?l:b.Root)!=null?s:g,className:Xt(B.root,p,$==null?void 0:$.className),ownerState:He({},P,$==null?void 0:$.ownerState),classes:B,ref:n,children:h}))}))}),mue=Pr("MuiBox",["root"]),gue=WL(),bl=Zae({themeId:ew,defaultTheme:gue,defaultClassName:mue.root,generateClassName:jL.generate});function bue(t){return Fr("MuiButton",t)}const ck=Pr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),kue=Y.createContext({}),wue=Y.createContext(void 0),yue=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],vue=t=>{const{color:r,disableElevation:n,fullWidth:o,size:s,variant:l,classes:d}=t,h={root:["root",l,`${l}${nn(r)}`,`size${nn(s)}`,`${l}Size${nn(s)}`,`color${nn(r)}`,n&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${nn(s)}`],endIcon:["icon","endIcon",`iconSize${nn(s)}`]},p=Gr(h,bue,d);return He({},d,p)},ZL=t=>He({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Aue=sn(JL,{shouldForwardProp:t=>Cl(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[n.variant],r[`${n.variant}${nn(n.color)}`],r[`size${nn(n.size)}`],r[`${n.variant}Size${nn(n.size)}`],n.color==="inherit"&&r.colorInherit,n.disableElevation&&r.disableElevation,n.fullWidth&&r.fullWidth]}})(({theme:t,ownerState:r})=>{var n,o;const s=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],l=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return He({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":He({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:ea.alpha(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},r.variant==="text"&&r.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[r.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ea.alpha(t.palette[r.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},r.variant==="outlined"&&r.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[r.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[r.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:ea.alpha(t.palette[r.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},r.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:l,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},r.variant==="contained"&&r.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[r.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[r.color].main}}),"&:active":He({},r.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${ck.focusVisible}`]:He({},r.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${ck.disabled}`]:He({color:(t.vars||t).palette.action.disabled},r.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},r.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},r.variant==="text"&&{padding:"6px 8px"},r.variant==="text"&&r.color!=="inherit"&&{color:(t.vars||t).palette[r.color].main},r.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},r.variant==="outlined"&&r.color!=="inherit"&&{color:(t.vars||t).palette[r.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[r.color].mainChannel} / 0.5)`:`1px solid ${ea.alpha(t.palette[r.color].main,.5)}`},r.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(o=t.palette).getContrastText)==null?void 0:n.call(o,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:s,boxShadow:(t.vars||t).shadows[2]},r.variant==="contained"&&r.color!=="inherit"&&{color:(t.vars||t).palette[r.color].contrastText,backgroundColor:(t.vars||t).palette[r.color].main},r.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},r.size==="small"&&r.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},r.size==="large"&&r.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},r.size==="small"&&r.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},r.size==="large"&&r.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},r.size==="small"&&r.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},r.size==="large"&&r.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},r.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${ck.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${ck.disabled}`]:{boxShadow:"none"}}),_ue=sn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.startIcon,r[`iconSize${nn(n.size)}`]]}})(({ownerState:t})=>He({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},ZL(t))),Cue=sn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.endIcon,r[`iconSize${nn(n.size)}`]]}})(({ownerState:t})=>He({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},ZL(t))),Eg=Y.forwardRef(function(r,n){const o=Y.useContext(kue),s=Y.useContext(wue),l=Hg(o,r),d=Yr({props:l,name:"MuiButton"}),{children:h,color:p="primary",component:g="button",className:b,disabled:v=!1,disableElevation:y=!1,disableFocusRipple:k=!1,endIcon:x,focusVisibleClassName:C,fullWidth:D=!1,size:S="medium",startIcon:M,type:P,variant:B="text"}=d,$=An(d,yue),F=He({},d,{color:p,component:g,disabled:v,disableElevation:y,disableFocusRipple:k,fullWidth:D,size:S,type:P,variant:B}),N=vue(F),L=M&&A.jsx(_ue,{className:N.startIcon,ownerState:F,children:M}),U=x&&A.jsx(Cue,{className:N.endIcon,ownerState:F,children:x}),Q=s||"";return A.jsxs(Aue,He({ownerState:F,className:Xt(o.className,N.root,b,Q),component:g,disabled:v,focusRipple:!k,focusVisibleClassName:Xt(N.focusVisible,C),ref:n,type:P},$,{classes:N,children:[L,h,U]}))});function xue(t){return Fr("MuiCircularProgress",t)}Pr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Sue=["className","color","disableShrink","size","style","thickness","value","variant"];let pw=t=>t,CN,xN,SN,EN;const ed=44,Eue=Cc(CN||(CN=pw`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Due=Cc(xN||(xN=pw`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Iue=t=>{const{classes:r,variant:n,color:o,disableShrink:s}=t,l={root:["root",n,`color${nn(o)}`],svg:["svg"],circle:["circle",`circle${nn(n)}`,s&&"circleDisableShrink"]};return Gr(l,xue,r)},Tue=sn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[n.variant],r[`color${nn(n.color)}`]]}})(({ownerState:t,theme:r})=>He({display:"inline-block"},t.variant==="determinate"&&{transition:r.transitions.create("transform")},t.color!=="inherit"&&{color:(r.vars||r).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&Jh(SN||(SN=pw`
      animation: ${0} 1.4s linear infinite;
    `),Eue)),Nue=sn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,r)=>r.svg})({display:"block"}),Mue=sn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.circle,r[`circle${nn(n.variant)}`],n.disableShrink&&r.circleDisableShrink]}})(({ownerState:t,theme:r})=>He({stroke:"currentColor"},t.variant==="determinate"&&{transition:r.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&Jh(EN||(EN=pw`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Due)),Pue=Y.forwardRef(function(r,n){const o=Yr({props:r,name:"MuiCircularProgress"}),{className:s,color:l="primary",disableShrink:d=!1,size:h=40,style:p,thickness:g=3.6,value:b=0,variant:v="indeterminate"}=o,y=An(o,Sue),k=He({},o,{color:l,disableShrink:d,size:h,thickness:g,value:b,variant:v}),x=Iue(k),C={},D={},S={};if(v==="determinate"){const M=2*Math.PI*((ed-g)/2);C.strokeDasharray=M.toFixed(3),S["aria-valuenow"]=Math.round(b),C.strokeDashoffset=`${((100-b)/100*M).toFixed(3)}px`,D.transform="rotate(-90deg)"}return A.jsx(Tue,He({className:Xt(x.root,s),style:He({width:h,height:h},D,p),ownerState:k,ref:n,role:"progressbar"},S,y,{children:A.jsx(Nue,{className:x.svg,ownerState:k,viewBox:`${ed/2} ${ed/2} ${ed} ${ed}`,children:A.jsx(Mue,{className:x.circle,style:C,ownerState:k,cx:ed,cy:ed,r:(ed-g)/2,fill:"none",strokeWidth:g})})}))});function Oue(t){const r=oa(t);return r.body===t?Kh(t).innerWidth>r.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Dg(t,r){r?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function DN(t){return parseInt(Kh(t).getComputedStyle(t).paddingRight,10)||0}function jue(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,o=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||o}function IN(t,r,n,o,s){const l=[r,n,...o];[].forEach.call(t.children,d=>{const h=l.indexOf(d)===-1,p=!jue(d);h&&p&&Dg(d,s)})}function dA(t,r){let n=-1;return t.some((o,s)=>r(o)?(n=s,!0):!1),n}function Lue(t,r){const n=[],o=t.container;if(!r.disableScrollLock){if(Oue(o)){const d=qL(oa(o));n.push({value:o.style.paddingRight,property:"padding-right",el:o}),o.style.paddingRight=`${DN(o)+d}px`;const h=oa(o).querySelectorAll(".mui-fixed");[].forEach.call(h,p=>{n.push({value:p.style.paddingRight,property:"padding-right",el:p}),p.style.paddingRight=`${DN(p)+d}px`})}let l;if(o.parentNode instanceof DocumentFragment)l=oa(o).body;else{const d=o.parentElement,h=Kh(o);l=(d==null?void 0:d.nodeName)==="HTML"&&h.getComputedStyle(d).overflowY==="scroll"?d:o}n.push({value:l.style.overflow,property:"overflow",el:l},{value:l.style.overflowX,property:"overflow-x",el:l},{value:l.style.overflowY,property:"overflow-y",el:l}),l.style.overflow="hidden"}return()=>{n.forEach(({value:l,el:d,property:h})=>{l?d.style.setProperty(h,l):d.style.removeProperty(h)})}}function Bue(t){const r=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&r.push(n)}),r}class Rue{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(r,n){let o=this.modals.indexOf(r);if(o!==-1)return o;o=this.modals.length,this.modals.push(r),r.modalRef&&Dg(r.modalRef,!1);const s=Bue(n);IN(n,r.mount,r.modalRef,s,!0);const l=dA(this.containers,d=>d.container===n);return l!==-1?(this.containers[l].modals.push(r),o):(this.containers.push({modals:[r],container:n,restore:null,hiddenSiblings:s}),o)}mount(r,n){const o=dA(this.containers,l=>l.modals.indexOf(r)!==-1),s=this.containers[o];s.restore||(s.restore=Lue(s,n))}remove(r,n=!0){const o=this.modals.indexOf(r);if(o===-1)return o;const s=dA(this.containers,d=>d.modals.indexOf(r)!==-1),l=this.containers[s];if(l.modals.splice(l.modals.indexOf(r),1),this.modals.splice(o,1),l.modals.length===0)l.restore&&l.restore(),r.modalRef&&Dg(r.modalRef,n),IN(l.container,r.mount,r.modalRef,l.hiddenSiblings,!1),this.containers.splice(s,1);else{const d=l.modals[l.modals.length-1];d.modalRef&&Dg(d.modalRef,!1)}return o}isTopModal(r){return this.modals.length>0&&this.modals[this.modals.length-1]===r}}const Fue=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function zue(t){const r=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(r)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:r}function Uue(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const r=o=>t.ownerDocument.querySelector(`input[type="radio"]${o}`);let n=r(`[name="${t.name}"]:checked`);return n||(n=r(`[name="${t.name}"]`)),n!==t}function que(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||Uue(t))}function Vue(t){const r=[],n=[];return Array.from(t.querySelectorAll(Fue)).forEach((o,s)=>{const l=zue(o);l===-1||!que(o)||(l===0?r.push(o):n.push({documentOrder:s,tabIndex:l,node:o}))}),n.sort((o,s)=>o.tabIndex===s.tabIndex?o.documentOrder-s.documentOrder:o.tabIndex-s.tabIndex).map(o=>o.node).concat(r)}function $ue(){return!0}function Hue(t){const{children:r,disableAutoFocus:n=!1,disableEnforceFocus:o=!1,disableRestoreFocus:s=!1,getTabbable:l=Vue,isEnabled:d=$ue,open:h}=t,p=Y.useRef(!1),g=Y.useRef(null),b=Y.useRef(null),v=Y.useRef(null),y=Y.useRef(null),k=Y.useRef(!1),x=Y.useRef(null),C=Ds(gb(r),x),D=Y.useRef(null);Y.useEffect(()=>{!h||!x.current||(k.current=!n)},[n,h]),Y.useEffect(()=>{if(!h||!x.current)return;const P=oa(x.current);return x.current.contains(P.activeElement)||(x.current.hasAttribute("tabIndex")||x.current.setAttribute("tabIndex","-1"),k.current&&x.current.focus()),()=>{s||(v.current&&v.current.focus&&(p.current=!0,v.current.focus()),v.current=null)}},[h]),Y.useEffect(()=>{if(!h||!x.current)return;const P=oa(x.current),B=N=>{D.current=N,!(o||!d()||N.key!=="Tab")&&P.activeElement===x.current&&N.shiftKey&&(p.current=!0,b.current&&b.current.focus())},$=()=>{const N=x.current;if(N===null)return;if(!P.hasFocus()||!d()||p.current){p.current=!1;return}if(N.contains(P.activeElement)||o&&P.activeElement!==g.current&&P.activeElement!==b.current)return;if(P.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!k.current)return;let L=[];if((P.activeElement===g.current||P.activeElement===b.current)&&(L=l(x.current)),L.length>0){var U,Q;const H=!!((U=D.current)!=null&&U.shiftKey&&((Q=D.current)==null?void 0:Q.key)==="Tab"),z=L[0],G=L[L.length-1];typeof z!="string"&&typeof G!="string"&&(H?G.focus():z.focus())}else N.focus()};P.addEventListener("focusin",$),P.addEventListener("keydown",B,!0);const F=setInterval(()=>{P.activeElement&&P.activeElement.tagName==="BODY"&&$()},50);return()=>{clearInterval(F),P.removeEventListener("focusin",$),P.removeEventListener("keydown",B,!0)}},[n,o,s,d,h,l]);const S=P=>{v.current===null&&(v.current=P.relatedTarget),k.current=!0,y.current=P.target;const B=r.props.onFocus;B&&B(P)},M=P=>{v.current===null&&(v.current=P.relatedTarget),k.current=!0};return A.jsxs(Y.Fragment,{children:[A.jsx("div",{tabIndex:h?0:-1,onFocus:M,ref:g,"data-testid":"sentinelStart"}),Y.cloneElement(r,{ref:C,onFocus:S}),A.jsx("div",{tabIndex:h?0:-1,onFocus:M,ref:b,"data-testid":"sentinelEnd"})]})}function Wue(t){return typeof t=="function"?t():t}function Gue(t){return t?t.props.hasOwnProperty("in"):!1}const Yue=new Rue;function Kue(t){const{container:r,disableEscapeKeyDown:n=!1,disableScrollLock:o=!1,manager:s=Yue,closeAfterTransition:l=!1,onTransitionEnter:d,onTransitionExited:h,children:p,onClose:g,open:b,rootRef:v}=t,y=Y.useRef({}),k=Y.useRef(null),x=Y.useRef(null),C=Ds(x,v),[D,S]=Y.useState(!b),M=Gue(p);let P=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(P=!1);const B=()=>oa(k.current),$=()=>(y.current.modalRef=x.current,y.current.mount=k.current,y.current),F=()=>{s.mount($(),{disableScrollLock:o}),x.current&&(x.current.scrollTop=0)},N=Nh(()=>{const ue=Wue(r)||B().body;s.add($(),ue),x.current&&F()}),L=Y.useCallback(()=>s.isTopModal($()),[s]),U=Nh(ue=>{k.current=ue,ue&&(b&&L()?F():x.current&&Dg(x.current,P))}),Q=Y.useCallback(()=>{s.remove($(),P)},[P,s]);Y.useEffect(()=>()=>{Q()},[Q]),Y.useEffect(()=>{b?N():(!M||!l)&&Q()},[b,Q,M,l,N]);const H=ue=>ie=>{var oe;(oe=ue.onKeyDown)==null||oe.call(ue,ie),!(ie.key!=="Escape"||ie.which===229||!L())&&(n||(ie.stopPropagation(),g&&g(ie,"escapeKeyDown")))},z=ue=>ie=>{var oe;(oe=ue.onClick)==null||oe.call(ue,ie),ie.target===ie.currentTarget&&g&&g(ie,"backdropClick")};return{getRootProps:(ue={})=>{const ie=VL(t);delete ie.onTransitionEnter,delete ie.onTransitionExited;const oe=He({},ie,ue);return He({role:"presentation"},oe,{onKeyDown:H(oe),ref:C})},getBackdropProps:(ue={})=>{const ie=ue;return He({"aria-hidden":!0},ie,{onClick:z(ie),open:b})},getTransitionProps:()=>{const ue=()=>{S(!1),d&&d()},ie=()=>{S(!0),h&&h(),l&&Q()};return{onEnter:eN(ue,p==null?void 0:p.props.onEnter),onExited:eN(ie,p==null?void 0:p.props.onExited)}},rootRef:C,portalRef:U,isTopModal:L,exited:D,hasTransition:M}}function Que(t){return Fr("MuiModal",t)}Pr("MuiModal",["root","hidden","backdrop"]);const Jue=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Zue=t=>{const{open:r,exited:n,classes:o}=t;return Gr({root:["root",!r&&n&&"hidden"],backdrop:["backdrop"]},Que,o)},Xue=sn("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,!n.open&&n.exited&&r.hidden]}})(({theme:t,ownerState:r})=>He({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!r.open&&r.exited&&{visibility:"hidden"})),ede=sn(pue,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,r)=>r.backdrop})({zIndex:-1}),XL=Y.forwardRef(function(r,n){var o,s,l,d,h,p;const g=Yr({name:"MuiModal",props:r}),{BackdropComponent:b=ede,BackdropProps:v,className:y,closeAfterTransition:k=!1,children:x,container:C,component:D,components:S={},componentsProps:M={},disableAutoFocus:P=!1,disableEnforceFocus:B=!1,disableEscapeKeyDown:$=!1,disablePortal:F=!1,disableRestoreFocus:N=!1,disableScrollLock:L=!1,hideBackdrop:U=!1,keepMounted:Q=!1,onBackdropClick:H,open:z,slotProps:G,slots:R}=g,ne=An(g,Jue),ue=He({},g,{closeAfterTransition:k,disableAutoFocus:P,disableEnforceFocus:B,disableEscapeKeyDown:$,disablePortal:F,disableRestoreFocus:N,disableScrollLock:L,hideBackdrop:U,keepMounted:Q}),{getRootProps:ie,getBackdropProps:oe,getTransitionProps:ye,portalRef:re,isTopModal:Ce,exited:X,hasTransition:J}=Kue(He({},ue,{rootRef:n})),fe=He({},ue,{exited:X}),le=Zue(fe),ae={};if(x.props.tabIndex===void 0&&(ae.tabIndex="-1"),J){const{onEnter:Ue,onExited:Z}=ye();ae.onEnter=Ue,ae.onExited=Z}const Se=(o=(s=R==null?void 0:R.root)!=null?s:S.Root)!=null?o:Xue,xe=(l=(d=R==null?void 0:R.backdrop)!=null?d:S.Backdrop)!=null?l:b,Te=(h=G==null?void 0:G.root)!=null?h:M.root,Ye=(p=G==null?void 0:G.backdrop)!=null?p:M.backdrop,We=jp({elementType:Se,externalSlotProps:Te,externalForwardedProps:ne,getSlotProps:ie,additionalProps:{ref:n,as:D},ownerState:fe,className:Xt(y,Te==null?void 0:Te.className,le==null?void 0:le.root,!fe.open&&fe.exited&&(le==null?void 0:le.hidden))}),Je=jp({elementType:xe,externalSlotProps:Ye,additionalProps:v,getSlotProps:Ue=>oe(He({},Ue,{onClick:Z=>{H&&H(Z),Ue!=null&&Ue.onClick&&Ue.onClick(Z)}})),className:Xt(Ye==null?void 0:Ye.className,v==null?void 0:v.className,le==null?void 0:le.backdrop),ownerState:fe});return!Q&&!z&&(!J||X)?null:A.jsx(Wce,{ref:re,container:C,disablePortal:F,children:A.jsxs(Se,He({},We,{children:[!U&&b?A.jsx(xe,He({},Je)):null,A.jsx(Hue,{disableEnforceFocus:B,disableAutoFocus:P,disableRestoreFocus:N,isEnabled:Ce,open:z,children:Y.cloneElement(x,ae)})]}))})}),tde=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],nde=t=>{const{classes:r,disableUnderline:n}=t,s=Gr({root:["root",!n&&"underline"],input:["input"]},oue,r);return He({},r,s)},rde=sn(hw,{shouldForwardProp:t=>Cl(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[...uw(t,r),!n.disableUnderline&&r.underline]}})(({theme:t,ownerState:r})=>{var n;const o=t.palette.mode==="light",s=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",l=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",d=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",h=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return He({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:l,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:d,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:l}},[`&.${bh.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:l},[`&.${bh.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:h}},!r.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[r.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${bh.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${bh.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${bh.disabled}, .${bh.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${bh.disabled}:before`]:{borderBottomStyle:"dotted"}},r.startAdornment&&{paddingLeft:12},r.endAdornment&&{paddingRight:12},r.multiline&&He({padding:"25px 12px 8px"},r.size==="small"&&{paddingTop:21,paddingBottom:4},r.hiddenLabel&&{paddingTop:16,paddingBottom:17},r.hiddenLabel&&r.size==="small"&&{paddingTop:8,paddingBottom:9}))}),ide=sn(fw,{name:"MuiFilledInput",slot:"Input",overridesResolver:dw})(({theme:t,ownerState:r})=>He({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},r.size==="small"&&{paddingTop:21,paddingBottom:4},r.hiddenLabel&&{paddingTop:16,paddingBottom:17},r.startAdornment&&{paddingLeft:0},r.endAdornment&&{paddingRight:0},r.hiddenLabel&&r.size==="small"&&{paddingTop:8,paddingBottom:9},r.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),RC=Y.forwardRef(function(r,n){var o,s,l,d;const h=Yr({props:r,name:"MuiFilledInput"}),{components:p={},componentsProps:g,fullWidth:b=!1,inputComponent:v="input",multiline:y=!1,slotProps:k,slots:x={},type:C="text"}=h,D=An(h,tde),S=He({},h,{fullWidth:b,inputComponent:v,multiline:y,type:C}),M=nde(h),P={root:{ownerState:S},input:{ownerState:S}},B=k??g?ia(P,k??g):P,$=(o=(s=x.root)!=null?s:p.Root)!=null?o:rde,F=(l=(d=x.input)!=null?d:p.Input)!=null?l:ide;return A.jsx(BC,He({slots:{root:$,input:F},componentsProps:B,fullWidth:b,inputComponent:v,multiline:y,ref:n,type:C},D,{classes:M}))});RC.muiName="Input";function ode(t){return Fr("MuiFormControl",t)}Pr("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const sde=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],ade=t=>{const{classes:r,margin:n,fullWidth:o}=t,s={root:["root",n!=="none"&&`margin${nn(n)}`,o&&"fullWidth"]};return Gr(s,ode,r)},lde=sn("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},r)=>He({},r.root,r[`margin${nn(t.margin)}`],t.fullWidth&&r.fullWidth)})(({ownerState:t})=>He({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),cde=Y.forwardRef(function(r,n){const o=Yr({props:r,name:"MuiFormControl"}),{children:s,className:l,color:d="primary",component:h="div",disabled:p=!1,error:g=!1,focused:b,fullWidth:v=!1,hiddenLabel:y=!1,margin:k="none",required:x=!1,size:C="medium",variant:D="outlined"}=o,S=An(o,sde),M=He({},o,{color:d,component:h,disabled:p,error:g,fullWidth:v,hiddenLabel:y,margin:k,required:x,size:C,variant:D}),P=ade(M),[B,$]=Y.useState(()=>{let G=!1;return s&&Y.Children.forEach(s,R=>{if(!oA(R,["Input","Select"]))return;const ne=oA(R,["Select"])?R.props.input:R;ne&&Zce(ne.props)&&(G=!0)}),G}),[F,N]=Y.useState(()=>{let G=!1;return s&&Y.Children.forEach(s,R=>{oA(R,["Input","Select"])&&(k1(R.props,!0)||k1(R.props.inputProps,!0))&&(G=!0)}),G}),[L,U]=Y.useState(!1);p&&L&&U(!1);const Q=b!==void 0&&!p?b:L;let H;const z=Y.useMemo(()=>({adornedStart:B,setAdornedStart:$,color:d,disabled:p,error:g,filled:F,focused:Q,fullWidth:v,hiddenLabel:y,size:C,onBlur:()=>{U(!1)},onEmpty:()=>{N(!1)},onFilled:()=>{N(!0)},onFocus:()=>{U(!0)},registerEffect:H,required:x,variant:D}),[B,d,p,g,F,Q,v,y,H,x,C,D]);return A.jsx(LC.Provider,{value:z,children:A.jsx(lde,He({as:h,ownerState:M,className:Xt(P.root,l),ref:n},S,{children:s}))})});function ude(t){return Fr("MuiFormHelperText",t)}const TN=Pr("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var NN;const dde=["children","className","component","disabled","error","filled","focused","margin","required","variant"],hde=t=>{const{classes:r,contained:n,size:o,disabled:s,error:l,filled:d,focused:h,required:p}=t,g={root:["root",s&&"disabled",l&&"error",o&&`size${nn(o)}`,n&&"contained",h&&"focused",d&&"filled",p&&"required"]};return Gr(g,ude,r)},fde=sn("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.size&&r[`size${nn(n.size)}`],n.contained&&r.contained,n.filled&&r.filled]}})(({theme:t,ownerState:r})=>He({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${TN.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${TN.error}`]:{color:(t.vars||t).palette.error.main}},r.size==="small"&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})),pde=Y.forwardRef(function(r,n){const o=Yr({props:r,name:"MuiFormHelperText"}),{children:s,className:l,component:d="p"}=o,h=An(o,dde),p=$p(),g=Vp({props:o,muiFormControl:p,states:["variant","size","disabled","error","filled","focused","required"]}),b=He({},o,{component:d,contained:g.variant==="filled"||g.variant==="outlined",variant:g.variant,size:g.size,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required}),v=hde(b);return A.jsx(fde,He({as:d,ownerState:b,className:Xt(v.root,l),ref:n},h,{children:s===" "?NN||(NN=A.jsx("span",{className:"notranslate",children:"â€‹"})):s}))});function mde(t){return Fr("MuiFormLabel",t)}const Ig=Pr("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),gde=["children","className","color","component","disabled","error","filled","focused","required"],bde=t=>{const{classes:r,color:n,focused:o,disabled:s,error:l,filled:d,required:h}=t,p={root:["root",`color${nn(n)}`,s&&"disabled",l&&"error",d&&"filled",o&&"focused",h&&"required"],asterisk:["asterisk",l&&"error"]};return Gr(p,mde,r)},kde=sn("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},r)=>He({},r.root,t.color==="secondary"&&r.colorSecondary,t.filled&&r.filled)})(({theme:t,ownerState:r})=>He({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Ig.focused}`]:{color:(t.vars||t).palette[r.color].main},[`&.${Ig.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Ig.error}`]:{color:(t.vars||t).palette.error.main}})),wde=sn("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,r)=>r.asterisk})(({theme:t})=>({[`&.${Ig.error}`]:{color:(t.vars||t).palette.error.main}})),yde=Y.forwardRef(function(r,n){const o=Yr({props:r,name:"MuiFormLabel"}),{children:s,className:l,component:d="label"}=o,h=An(o,gde),p=$p(),g=Vp({props:o,muiFormControl:p,states:["color","required","focused","disabled","error","filled"]}),b=He({},o,{color:g.color||"primary",component:d,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required}),v=bde(b);return A.jsxs(kde,He({as:d,ownerState:b,className:Xt(v.root,l),ref:n},h,{children:[s,g.required&&A.jsxs(wde,{ownerState:b,"aria-hidden":!0,className:v.asterisk,children:["â€‰","*"]})]}))}),vde=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function y_(t){return`scale(${t}, ${t**2})`}const Ade={entering:{opacity:1,transform:y_(1)},entered:{opacity:1,transform:"none"}},hA=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),e8=Y.forwardRef(function(r,n){const{addEndListener:o,appear:s=!0,children:l,easing:d,in:h,onEnter:p,onEntered:g,onEntering:b,onExit:v,onExited:y,onExiting:k,style:x,timeout:C="auto",TransitionComponent:D=jP}=r,S=An(r,vde),M=UL(),P=Y.useRef(),B=GL(),$=Y.useRef(null),F=Ds($,gb(l),n),N=ne=>ue=>{if(ne){const ie=$.current;ue===void 0?ne(ie):ne(ie,ue)}},L=N(b),U=N((ne,ue)=>{KL(ne);const{duration:ie,delay:oe,easing:ye}=b1({style:x,timeout:C,easing:d},{mode:"enter"});let re;C==="auto"?(re=B.transitions.getAutoHeightDuration(ne.clientHeight),P.current=re):re=ie,ne.style.transition=[B.transitions.create("opacity",{duration:re,delay:oe}),B.transitions.create("transform",{duration:hA?re:re*.666,delay:oe,easing:ye})].join(","),p&&p(ne,ue)}),Q=N(g),H=N(k),z=N(ne=>{const{duration:ue,delay:ie,easing:oe}=b1({style:x,timeout:C,easing:d},{mode:"exit"});let ye;C==="auto"?(ye=B.transitions.getAutoHeightDuration(ne.clientHeight),P.current=ye):ye=ue,ne.style.transition=[B.transitions.create("opacity",{duration:ye,delay:ie}),B.transitions.create("transform",{duration:hA?ye:ye*.666,delay:hA?ie:ie||ye*.333,easing:oe})].join(","),ne.style.opacity=0,ne.style.transform=y_(.75),v&&v(ne)}),G=N(y),R=ne=>{C==="auto"&&M.start(P.current||0,ne),o&&o($.current,ne)};return A.jsx(D,He({appear:s,in:h,nodeRef:$,onEnter:U,onEntered:Q,onEntering:L,onExit:z,onExited:G,onExiting:H,addEndListener:R,timeout:C==="auto"?null:C},S,{children:(ne,ue)=>Y.cloneElement(l,He({style:He({opacity:0,transform:y_(.75),visibility:ne==="exited"&&!h?"hidden":void 0},Ade[ne],x,l.props.style),ref:F},ue))}))});e8.muiSupportAuto=!0;const _de=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Cde=t=>{const{classes:r,disableUnderline:n}=t,s=Gr({root:["root",!n&&"underline"],input:["input"]},rue,r);return He({},r,s)},xde=sn(hw,{shouldForwardProp:t=>Cl(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[...uw(t,r),!n.disableUnderline&&r.underline]}})(({theme:t,ownerState:r})=>{let o=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(o=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),He({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ag.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ag.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${o}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ag.disabled}, .${ag.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${o}`}},[`&.${ag.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Sde=sn(fw,{name:"MuiInput",slot:"Input",overridesResolver:dw})({}),FC=Y.forwardRef(function(r,n){var o,s,l,d;const h=Yr({props:r,name:"MuiInput"}),{disableUnderline:p,components:g={},componentsProps:b,fullWidth:v=!1,inputComponent:y="input",multiline:k=!1,slotProps:x,slots:C={},type:D="text"}=h,S=An(h,_de),M=Cde(h),B={root:{ownerState:{disableUnderline:p}}},$=x??b?ia(x??b,B):B,F=(o=(s=C.root)!=null?s:g.Root)!=null?o:xde,N=(l=(d=C.input)!=null?d:g.Input)!=null?l:Sde;return A.jsx(BC,He({slots:{root:F,input:N},slotProps:$,fullWidth:v,inputComponent:y,multiline:k,ref:n,type:D},S,{classes:M}))});FC.muiName="Input";function Ede(t){return Fr("MuiInputLabel",t)}Pr("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Dde=["disableAnimation","margin","shrink","variant","className"],Ide=t=>{const{classes:r,formControl:n,size:o,shrink:s,disableAnimation:l,variant:d,required:h}=t,p={root:["root",n&&"formControl",!l&&"animated",s&&"shrink",o&&o!=="normal"&&`size${nn(o)}`,d],asterisk:[h&&"asterisk"]},g=Gr(p,Ede,r);return He({},r,g)},Tde=sn(yde,{shouldForwardProp:t=>Cl(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[{[`& .${Ig.asterisk}`]:r.asterisk},r.root,n.formControl&&r.formControl,n.size==="small"&&r.sizeSmall,n.shrink&&r.shrink,!n.disableAnimation&&r.animated,n.focused&&r.focused,r[n.variant]]}})(({theme:t,ownerState:r})=>He({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},r.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},r.size==="small"&&{transform:"translate(0, 17px) scale(1)"},r.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!r.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},r.variant==="filled"&&He({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},r.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},r.shrink&&He({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},r.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),r.variant==="outlined"&&He({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},r.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},r.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Nde=Y.forwardRef(function(r,n){const o=Yr({name:"MuiInputLabel",props:r}),{disableAnimation:s=!1,shrink:l,className:d}=o,h=An(o,Dde),p=$p();let g=l;typeof g>"u"&&p&&(g=p.filled||p.focused||p.adornedStart);const b=Vp({props:o,muiFormControl:p,states:["size","variant","required","focused"]}),v=He({},o,{disableAnimation:s,formControl:p,shrink:g,size:b.size,variant:b.variant,required:b.required,focused:b.focused}),y=Ide(v);return A.jsx(Tde,He({"data-shrink":g,ownerState:v,ref:n,className:Xt(y.root,d)},h,{classes:y}))});function Mde(t){return Fr("MuiLinearProgress",t)}Pr("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Pde=["className","color","value","valueBuffer","variant"];let Hp=t=>t,MN,PN,ON,jN,LN,BN;const v_=4,Ode=Cc(MN||(MN=Hp`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),jde=Cc(PN||(PN=Hp`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),Lde=Cc(ON||(ON=Hp`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),Bde=t=>{const{classes:r,variant:n,color:o}=t,s={root:["root",`color${nn(o)}`,n],dashed:["dashed",`dashedColor${nn(o)}`],bar1:["bar",`barColor${nn(o)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${nn(o)}`,n==="buffer"&&`color${nn(o)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return Gr(s,Mde,r)},zC=(t,r)=>r==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${r}Bg`]:t.palette.mode==="light"?ea.lighten(t.palette[r].main,.62):ea.darken(t.palette[r].main,.5),Rde=sn("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,r[`color${nn(n.color)}`],r[n.variant]]}})(({ownerState:t,theme:r})=>He({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:zC(r,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),Fde=sn("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.dashed,r[`dashedColor${nn(n.color)}`]]}})(({ownerState:t,theme:r})=>{const n=zC(r,t.color);return He({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},Jh(jN||(jN=Hp`
    animation: ${0} 3s infinite linear;
  `),Lde)),zde=sn("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.bar,r[`barColor${nn(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&r.bar1Indeterminate,n.variant==="determinate"&&r.bar1Determinate,n.variant==="buffer"&&r.bar1Buffer]}})(({ownerState:t,theme:r})=>He({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(r.vars||r).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${v_}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${v_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&Jh(LN||(LN=Hp`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),Ode)),Ude=sn("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.bar,r[`barColor${nn(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&r.bar2Indeterminate,n.variant==="buffer"&&r.bar2Buffer]}})(({ownerState:t,theme:r})=>He({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(r.vars||r).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:zC(r,t.color),transition:`transform .${v_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&Jh(BN||(BN=Hp`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),jde)),qde=Y.forwardRef(function(r,n){const o=Yr({props:r,name:"MuiLinearProgress"}),{className:s,color:l="primary",value:d,valueBuffer:h,variant:p="indeterminate"}=o,g=An(o,Pde),b=He({},o,{color:l,variant:p}),v=Bde(b),y=$L(),k={},x={bar1:{},bar2:{}};if((p==="determinate"||p==="buffer")&&d!==void 0){k["aria-valuenow"]=Math.round(d),k["aria-valuemin"]=0,k["aria-valuemax"]=100;let C=d-100;y&&(C=-C),x.bar1.transform=`translateX(${C}%)`}if(p==="buffer"&&h!==void 0){let C=(h||0)-100;y&&(C=-C),x.bar2.transform=`translateX(${C}%)`}return A.jsxs(Rde,He({className:Xt(v.root,s),ownerState:b,role:"progressbar"},k,{ref:n},g,{children:[p==="buffer"?A.jsx(Fde,{className:v.dashed,ownerState:b}):null,A.jsx(zde,{className:v.bar1,ownerState:b,style:x.bar1}),p==="determinate"?null:A.jsx(Ude,{className:v.bar2,ownerState:b,style:x.bar2})]}))}),Vde=Y.createContext({});function $de(t){return Fr("MuiList",t)}Pr("MuiList",["root","padding","dense","subheader"]);const Hde=["children","className","component","dense","disablePadding","subheader"],Wde=t=>{const{classes:r,disablePadding:n,dense:o,subheader:s}=t;return Gr({root:["root",!n&&"padding",o&&"dense",s&&"subheader"]},$de,r)},Gde=sn("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,!n.disablePadding&&r.padding,n.dense&&r.dense,n.subheader&&r.subheader]}})(({ownerState:t})=>He({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Yde=Y.forwardRef(function(r,n){const o=Yr({props:r,name:"MuiList"}),{children:s,className:l,component:d="ul",dense:h=!1,disablePadding:p=!1,subheader:g}=o,b=An(o,Hde),v=Y.useMemo(()=>({dense:h}),[h]),y=He({},o,{component:d,dense:h,disablePadding:p}),k=Wde(y);return A.jsx(Vde.Provider,{value:v,children:A.jsxs(Gde,He({as:d,className:Xt(k.root,l),ref:n,ownerState:y},b,{children:[g,s]}))})}),Kde=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function fA(t,r,n){return t===r?t.firstChild:r&&r.nextElementSibling?r.nextElementSibling:n?null:t.firstChild}function RN(t,r,n){return t===r?n?t.firstChild:t.lastChild:r&&r.previousElementSibling?r.previousElementSibling:n?null:t.lastChild}function t8(t,r){if(r===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:r.repeating?n[0]===r.keys[0]:n.indexOf(r.keys.join(""))===0}function lg(t,r,n,o,s,l){let d=!1,h=s(t,r,r?n:!1);for(;h;){if(h===t.firstChild){if(d)return!1;d=!0}const p=o?!1:h.disabled||h.getAttribute("aria-disabled")==="true";if(!h.hasAttribute("tabindex")||!t8(h,l)||p)h=s(t,h,n);else return h.focus(),!0}return!1}const Qde=Y.forwardRef(function(r,n){const{actions:o,autoFocus:s=!1,autoFocusItem:l=!1,children:d,className:h,disabledItemsFocusable:p=!1,disableListWrap:g=!1,onKeyDown:b,variant:v="selectedMenu"}=r,y=An(r,Kde),k=Y.useRef(null),x=Y.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});wd(()=>{s&&k.current.focus()},[s]),Y.useImperativeHandle(o,()=>({adjustStyleForScrollbar:(P,{direction:B})=>{const $=!k.current.style.width;if(P.clientHeight<k.current.clientHeight&&$){const F=`${qL(oa(P))}px`;k.current.style[B==="rtl"?"paddingLeft":"paddingRight"]=F,k.current.style.width=`calc(100% + ${F})`}return k.current}}),[]);const C=P=>{const B=k.current,$=P.key,F=oa(B).activeElement;if($==="ArrowDown")P.preventDefault(),lg(B,F,g,p,fA);else if($==="ArrowUp")P.preventDefault(),lg(B,F,g,p,RN);else if($==="Home")P.preventDefault(),lg(B,null,g,p,fA);else if($==="End")P.preventDefault(),lg(B,null,g,p,RN);else if($.length===1){const N=x.current,L=$.toLowerCase(),U=performance.now();N.keys.length>0&&(U-N.lastTime>500?(N.keys=[],N.repeating=!0,N.previousKeyMatched=!0):N.repeating&&L!==N.keys[0]&&(N.repeating=!1)),N.lastTime=U,N.keys.push(L);const Q=F&&!N.repeating&&t8(F,N);N.previousKeyMatched&&(Q||lg(B,F,!1,p,fA,N))?P.preventDefault():N.previousKeyMatched=!1}b&&b(P)},D=Ds(k,n);let S=-1;Y.Children.forEach(d,(P,B)=>{if(!Y.isValidElement(P)){S===B&&(S+=1,S>=d.length&&(S=-1));return}P.props.disabled||(v==="selectedMenu"&&P.props.selected||S===-1)&&(S=B),S===B&&(P.props.disabled||P.props.muiSkipListHighlight||P.type.muiSkipListHighlight)&&(S+=1,S>=d.length&&(S=-1))});const M=Y.Children.map(d,(P,B)=>{if(B===S){const $={};return l&&($.autoFocus=!0),P.props.tabIndex===void 0&&v==="selectedMenu"&&($.tabIndex=0),Y.cloneElement(P,$)}return P});return A.jsx(Yde,He({role:"menu",ref:D,className:h,onKeyDown:C,tabIndex:s?0:-1},y,{children:M}))});function Jde(t){return Fr("MuiPopover",t)}Pr("MuiPopover",["root","paper"]);const Zde=["onEntering"],Xde=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],ehe=["slotProps"];function FN(t,r){let n=0;return typeof r=="number"?n=r:r==="center"?n=t.height/2:r==="bottom"&&(n=t.height),n}function zN(t,r){let n=0;return typeof r=="number"?n=r:r==="center"?n=t.width/2:r==="right"&&(n=t.width),n}function UN(t){return[t.horizontal,t.vertical].map(r=>typeof r=="number"?`${r}px`:r).join(" ")}function pA(t){return typeof t=="function"?t():t}const the=t=>{const{classes:r}=t;return Gr({root:["root"],paper:["paper"]},Jde,r)},nhe=sn(XL,{name:"MuiPopover",slot:"Root",overridesResolver:(t,r)=>r.root})({}),n8=sn(QL,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,r)=>r.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),rhe=Y.forwardRef(function(r,n){var o,s,l;const d=Yr({props:r,name:"MuiPopover"}),{action:h,anchorEl:p,anchorOrigin:g={vertical:"top",horizontal:"left"},anchorPosition:b,anchorReference:v="anchorEl",children:y,className:k,container:x,elevation:C=8,marginThreshold:D=16,open:S,PaperProps:M={},slots:P,slotProps:B,transformOrigin:$={vertical:"top",horizontal:"left"},TransitionComponent:F=e8,transitionDuration:N="auto",TransitionProps:{onEntering:L}={},disableScrollLock:U=!1}=d,Q=An(d.TransitionProps,Zde),H=An(d,Xde),z=(o=B==null?void 0:B.paper)!=null?o:M,G=Y.useRef(),R=Ds(G,z.ref),ne=He({},d,{anchorOrigin:g,anchorReference:v,elevation:C,marginThreshold:D,externalPaperSlotProps:z,transformOrigin:$,TransitionComponent:F,transitionDuration:N,TransitionProps:Q}),ue=the(ne),ie=Y.useCallback(()=>{if(v==="anchorPosition")return b;const Ue=pA(p),_e=(Ue&&Ue.nodeType===1?Ue:oa(G.current).body).getBoundingClientRect();return{top:_e.top+FN(_e,g.vertical),left:_e.left+zN(_e,g.horizontal)}},[p,g.horizontal,g.vertical,b,v]),oe=Y.useCallback(Ue=>({vertical:FN(Ue,$.vertical),horizontal:zN(Ue,$.horizontal)}),[$.horizontal,$.vertical]),ye=Y.useCallback(Ue=>{const Z={width:Ue.offsetWidth,height:Ue.offsetHeight},_e=oe(Z);if(v==="none")return{top:null,left:null,transformOrigin:UN(_e)};const he=ie();let be=he.top-_e.vertical,pe=he.left-_e.horizontal;const Ae=be+Z.height,Oe=pe+Z.width,Me=Kh(pA(p)),Ie=Me.innerHeight-D,$e=Me.innerWidth-D;if(D!==null&&be<D){const Ke=be-D;be-=Ke,_e.vertical+=Ke}else if(D!==null&&Ae>Ie){const Ke=Ae-Ie;be-=Ke,_e.vertical+=Ke}if(D!==null&&pe<D){const Ke=pe-D;pe-=Ke,_e.horizontal+=Ke}else if(Oe>$e){const Ke=Oe-$e;pe-=Ke,_e.horizontal+=Ke}return{top:`${Math.round(be)}px`,left:`${Math.round(pe)}px`,transformOrigin:UN(_e)}},[p,v,ie,oe,D]),[re,Ce]=Y.useState(S),X=Y.useCallback(()=>{const Ue=G.current;if(!Ue)return;const Z=ye(Ue);Z.top!==null&&(Ue.style.top=Z.top),Z.left!==null&&(Ue.style.left=Z.left),Ue.style.transformOrigin=Z.transformOrigin,Ce(!0)},[ye]);Y.useEffect(()=>(U&&window.addEventListener("scroll",X),()=>window.removeEventListener("scroll",X)),[p,U,X]);const J=(Ue,Z)=>{L&&L(Ue,Z),X()},fe=()=>{Ce(!1)};Y.useEffect(()=>{S&&X()}),Y.useImperativeHandle(h,()=>S?{updatePosition:()=>{X()}}:null,[S,X]),Y.useEffect(()=>{if(!S)return;const Ue=FL(()=>{X()}),Z=Kh(p);return Z.addEventListener("resize",Ue),()=>{Ue.clear(),Z.removeEventListener("resize",Ue)}},[p,S,X]);let le=N;N==="auto"&&!F.muiSupportAuto&&(le=void 0);const ae=x||(p?oa(pA(p)).body:void 0),Se=(s=P==null?void 0:P.root)!=null?s:nhe,xe=(l=P==null?void 0:P.paper)!=null?l:n8,Te=jp({elementType:xe,externalSlotProps:He({},z,{style:re?z.style:He({},z.style,{opacity:0})}),additionalProps:{elevation:C,ref:R},ownerState:ne,className:Xt(ue.paper,z==null?void 0:z.className)}),Ye=jp({elementType:Se,externalSlotProps:(B==null?void 0:B.root)||{},externalForwardedProps:H,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ae,open:S},ownerState:ne,className:Xt(ue.root,k)}),{slotProps:We}=Ye,Je=An(Ye,ehe);return A.jsx(Se,He({},Je,!g1(Se)&&{slotProps:We,disableScrollLock:U},{children:A.jsx(F,He({appear:!0,in:S,onEntering:J,onExited:fe,timeout:le},Q,{children:A.jsx(xe,He({},Te,{children:y}))}))}))});function ihe(t){return Fr("MuiMenu",t)}Pr("MuiMenu",["root","paper","list"]);const ohe=["onEntering"],she=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ahe={vertical:"top",horizontal:"right"},lhe={vertical:"top",horizontal:"left"},che=t=>{const{classes:r}=t;return Gr({root:["root"],paper:["paper"],list:["list"]},ihe,r)},uhe=sn(rhe,{shouldForwardProp:t=>Cl(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,r)=>r.root})({}),dhe=sn(n8,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,r)=>r.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),hhe=sn(Qde,{name:"MuiMenu",slot:"List",overridesResolver:(t,r)=>r.list})({outline:0}),fhe=Y.forwardRef(function(r,n){var o,s;const l=Yr({props:r,name:"MuiMenu"}),{autoFocus:d=!0,children:h,className:p,disableAutoFocusItem:g=!1,MenuListProps:b={},onClose:v,open:y,PaperProps:k={},PopoverClasses:x,transitionDuration:C="auto",TransitionProps:{onEntering:D}={},variant:S="selectedMenu",slots:M={},slotProps:P={}}=l,B=An(l.TransitionProps,ohe),$=An(l,she),F=$L(),N=He({},l,{autoFocus:d,disableAutoFocusItem:g,MenuListProps:b,onEntering:D,PaperProps:k,transitionDuration:C,TransitionProps:B,variant:S}),L=che(N),U=d&&!g&&y,Q=Y.useRef(null),H=(oe,ye)=>{Q.current&&Q.current.adjustStyleForScrollbar(oe,{direction:F?"rtl":"ltr"}),D&&D(oe,ye)},z=oe=>{oe.key==="Tab"&&(oe.preventDefault(),v&&v(oe,"tabKeyDown"))};let G=-1;Y.Children.map(h,(oe,ye)=>{Y.isValidElement(oe)&&(oe.props.disabled||(S==="selectedMenu"&&oe.props.selected||G===-1)&&(G=ye))});const R=(o=M.paper)!=null?o:dhe,ne=(s=P.paper)!=null?s:k,ue=jp({elementType:M.root,externalSlotProps:P.root,ownerState:N,className:[L.root,p]}),ie=jp({elementType:R,externalSlotProps:ne,ownerState:N,className:L.paper});return A.jsx(uhe,He({onClose:v,anchorOrigin:{vertical:"bottom",horizontal:F?"right":"left"},transformOrigin:F?ahe:lhe,slots:{paper:R,root:M.root},slotProps:{root:ue,paper:ie},open:y,ref:n,transitionDuration:C,TransitionProps:He({onEntering:H},B),ownerState:N},$,{classes:x,children:A.jsx(hhe,He({onKeyDown:z,actions:Q,autoFocus:d&&(G===-1||g),autoFocusItem:U,variant:S},b,{className:Xt(L.list,b.className),children:h}))}))});function phe(t){return Fr("MuiNativeSelect",t)}const UC=Pr("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),mhe=["className","disabled","error","IconComponent","inputRef","variant"],ghe=t=>{const{classes:r,variant:n,disabled:o,multiple:s,open:l,error:d}=t,h={select:["select",n,o&&"disabled",s&&"multiple",d&&"error"],icon:["icon",`icon${nn(n)}`,l&&"iconOpen",o&&"disabled"]};return Gr(h,phe,r)},r8=({ownerState:t,theme:r})=>He({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":He({},r.vars?{backgroundColor:`rgba(${r.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:r.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${UC.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(r.vars||r).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(r.vars||r).shape.borderRadius,"&:focus":{borderRadius:(r.vars||r).shape.borderRadius},"&&&":{paddingRight:32}}),bhe=sn("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Cl,overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.select,r[n.variant],n.error&&r.error,{[`&.${UC.multiple}`]:r.multiple}]}})(r8),i8=({ownerState:t,theme:r})=>He({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(r.vars||r).palette.action.active,[`&.${UC.disabled}`]:{color:(r.vars||r).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),khe=sn("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.icon,n.variant&&r[`icon${nn(n.variant)}`],n.open&&r.iconOpen]}})(i8),whe=Y.forwardRef(function(r,n){const{className:o,disabled:s,error:l,IconComponent:d,inputRef:h,variant:p="standard"}=r,g=An(r,mhe),b=He({},r,{disabled:s,variant:p,error:l}),v=ghe(b);return A.jsxs(Y.Fragment,{children:[A.jsx(bhe,He({ownerState:b,className:Xt(v.select,o),disabled:s,ref:h||n},g)),r.multiple?null:A.jsx(khe,{as:d,ownerState:b,className:v.icon})]})});var qN;const yhe=["children","classes","className","label","notched"],vhe=sn("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Cl})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Ahe=sn("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Cl})(({ownerState:t,theme:r})=>He({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:r.transitions.create("width",{duration:150,easing:r.transitions.easing.easeOut})},t.withLabel&&He({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:r.transitions.create("max-width",{duration:50,easing:r.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:r.transitions.create("max-width",{duration:100,easing:r.transitions.easing.easeOut,delay:50})})));function _he(t){const{className:r,label:n,notched:o}=t,s=An(t,yhe),l=n!=null&&n!=="",d=He({},t,{notched:o,withLabel:l});return A.jsx(vhe,He({"aria-hidden":!0,className:r,ownerState:d},s,{children:A.jsx(Ahe,{ownerState:d,children:l?A.jsx("span",{children:n}):qN||(qN=A.jsx("span",{className:"notranslate",children:"â€‹"}))})}))}const Che=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],xhe=t=>{const{classes:r}=t,o=Gr({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},iue,r);return He({},r,o)},She=sn(hw,{shouldForwardProp:t=>Cl(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:uw})(({theme:t,ownerState:r})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return He({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Xu.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Xu.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Xu.focused} .${Xu.notchedOutline}`]:{borderColor:(t.vars||t).palette[r.color].main,borderWidth:2},[`&.${Xu.error} .${Xu.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Xu.disabled} .${Xu.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&He({padding:"16.5px 14px"},r.size==="small"&&{padding:"8.5px 14px"}))}),Ehe=sn(_he,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,r)=>r.notchedOutline})(({theme:t})=>{const r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:r}}),Dhe=sn(fw,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:dw})(({theme:t,ownerState:r})=>He({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},r.size==="small"&&{padding:"8.5px 14px"},r.multiline&&{padding:0},r.startAdornment&&{paddingLeft:0},r.endAdornment&&{paddingRight:0})),qC=Y.forwardRef(function(r,n){var o,s,l,d,h;const p=Yr({props:r,name:"MuiOutlinedInput"}),{components:g={},fullWidth:b=!1,inputComponent:v="input",label:y,multiline:k=!1,notched:x,slots:C={},type:D="text"}=p,S=An(p,Che),M=xhe(p),P=$p(),B=Vp({props:p,muiFormControl:P,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),$=He({},p,{color:B.color||"primary",disabled:B.disabled,error:B.error,focused:B.focused,formControl:P,fullWidth:b,hiddenLabel:B.hiddenLabel,multiline:k,size:B.size,type:D}),F=(o=(s=C.root)!=null?s:g.Root)!=null?o:She,N=(l=(d=C.input)!=null?d:g.Input)!=null?l:Dhe;return A.jsx(BC,He({slots:{root:F,input:N},renderSuffix:L=>A.jsx(Ehe,{ownerState:$,className:M.notchedOutline,label:y!=null&&y!==""&&B.required?h||(h=A.jsxs(Y.Fragment,{children:[y,"â€‰","*"]})):y,notched:typeof x<"u"?x:!!(L.startAdornment||L.filled||L.focused)}),fullWidth:b,inputComponent:v,multiline:k,ref:n,type:D},S,{classes:He({},M,{notchedOutline:null})}))});qC.muiName="Input";function Ihe(t){return Fr("MuiSelect",t)}const cg=Pr("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var VN;const The=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Nhe=sn("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[{[`&.${cg.select}`]:r.select},{[`&.${cg.select}`]:r[n.variant]},{[`&.${cg.error}`]:r.error},{[`&.${cg.multiple}`]:r.multiple}]}})(r8,{[`&.${cg.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Mhe=sn("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.icon,n.variant&&r[`icon${nn(n.variant)}`],n.open&&r.iconOpen]}})(i8),Phe=sn("input",{shouldForwardProp:t=>YL(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,r)=>r.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function $N(t,r){return typeof r=="object"&&r!==null?t===r:String(t)===String(r)}function Ohe(t){return t==null||typeof t=="string"&&!t.trim()}const jhe=t=>{const{classes:r,variant:n,disabled:o,multiple:s,open:l,error:d}=t,h={select:["select",n,o&&"disabled",s&&"multiple",d&&"error"],icon:["icon",`icon${nn(n)}`,l&&"iconOpen",o&&"disabled"],nativeInput:["nativeInput"]};return Gr(h,Ihe,r)},Lhe=Y.forwardRef(function(r,n){var o;const{"aria-describedby":s,"aria-label":l,autoFocus:d,autoWidth:h,children:p,className:g,defaultOpen:b,defaultValue:v,disabled:y,displayEmpty:k,error:x=!1,IconComponent:C,inputRef:D,labelId:S,MenuProps:M={},multiple:P,name:B,onBlur:$,onChange:F,onClose:N,onFocus:L,onOpen:U,open:Q,readOnly:H,renderValue:z,SelectDisplayProps:G={},tabIndex:R,value:ne,variant:ue="standard"}=r,ie=An(r,The),[oe,ye]=rN({controlled:ne,default:v,name:"Select"}),[re,Ce]=rN({controlled:Q,default:b,name:"Select"}),X=Y.useRef(null),J=Y.useRef(null),[fe,le]=Y.useState(null),{current:ae}=Y.useRef(Q!=null),[Se,xe]=Y.useState(),Te=Ds(n,D),Ye=Y.useCallback(pt=>{J.current=pt,pt&&le(pt)},[]),We=fe==null?void 0:fe.parentNode;Y.useImperativeHandle(Te,()=>({focus:()=>{J.current.focus()},node:X.current,value:oe}),[oe]),Y.useEffect(()=>{b&&re&&fe&&!ae&&(xe(h?null:We.clientWidth),J.current.focus())},[fe,h]),Y.useEffect(()=>{d&&J.current.focus()},[d]),Y.useEffect(()=>{if(!S)return;const pt=oa(J.current).getElementById(S);if(pt){const Wt=()=>{getSelection().isCollapsed&&J.current.focus()};return pt.addEventListener("click",Wt),()=>{pt.removeEventListener("click",Wt)}}},[S]);const Je=(pt,Wt)=>{pt?U&&U(Wt):N&&N(Wt),ae||(xe(h?null:We.clientWidth),Ce(pt))},Ue=pt=>{pt.button===0&&(pt.preventDefault(),J.current.focus(),Je(!0,pt))},Z=pt=>{Je(!1,pt)},_e=Y.Children.toArray(p),he=pt=>{const Wt=_e.find(Rt=>Rt.props.value===pt.target.value);Wt!==void 0&&(ye(Wt.props.value),F&&F(pt,Wt))},be=pt=>Wt=>{let Rt;if(Wt.currentTarget.hasAttribute("tabindex")){if(P){Rt=Array.isArray(oe)?oe.slice():[];const zt=oe.indexOf(pt.props.value);zt===-1?Rt.push(pt.props.value):Rt.splice(zt,1)}else Rt=pt.props.value;if(pt.props.onClick&&pt.props.onClick(Wt),oe!==Rt&&(ye(Rt),F)){const zt=Wt.nativeEvent||Wt,Qt=new zt.constructor(zt.type,zt);Object.defineProperty(Qt,"target",{writable:!0,value:{value:Rt,name:B}}),F(Qt,pt)}P||Je(!1,Wt)}},pe=pt=>{H||[" ","ArrowUp","ArrowDown","Enter"].indexOf(pt.key)!==-1&&(pt.preventDefault(),Je(!0,pt))},Ae=fe!==null&&re,Oe=pt=>{!Ae&&$&&(Object.defineProperty(pt,"target",{writable:!0,value:{value:oe,name:B}}),$(pt))};delete ie["aria-invalid"];let Me,Ie;const $e=[];let Ke=!1;(k1({value:oe})||k)&&(z?Me=z(oe):Ke=!0);const qe=_e.map(pt=>{if(!Y.isValidElement(pt))return null;let Wt;if(P){if(!Array.isArray(oe))throw new Error(Yh(2));Wt=oe.some(Rt=>$N(Rt,pt.props.value)),Wt&&Ke&&$e.push(pt.props.children)}else Wt=$N(oe,pt.props.value),Wt&&Ke&&(Ie=pt.props.children);return Y.cloneElement(pt,{"aria-selected":Wt?"true":"false",onClick:be(pt),onKeyUp:Rt=>{Rt.key===" "&&Rt.preventDefault(),pt.props.onKeyUp&&pt.props.onKeyUp(Rt)},role:"option",selected:Wt,value:void 0,"data-value":pt.props.value})});Ke&&(P?$e.length===0?Me=null:Me=$e.reduce((pt,Wt,Rt)=>(pt.push(Wt),Rt<$e.length-1&&pt.push(", "),pt),[]):Me=Ie);let it=Se;!h&&ae&&fe&&(it=We.clientWidth);let Be;typeof R<"u"?Be=R:Be=y?null:0;const Qe=G.id||(B?`mui-component-select-${B}`:void 0),Ze=He({},r,{variant:ue,value:oe,open:Ae,error:x}),Ct=jhe(Ze),dt=He({},M.PaperProps,(o=M.slotProps)==null?void 0:o.paper),en=zL();return A.jsxs(Y.Fragment,{children:[A.jsx(Nhe,He({ref:Ye,tabIndex:Be,role:"combobox","aria-controls":en,"aria-disabled":y?"true":void 0,"aria-expanded":Ae?"true":"false","aria-haspopup":"listbox","aria-label":l,"aria-labelledby":[S,Qe].filter(Boolean).join(" ")||void 0,"aria-describedby":s,onKeyDown:pe,onMouseDown:y||H?null:Ue,onBlur:Oe,onFocus:L},G,{ownerState:Ze,className:Xt(G.className,Ct.select,g),id:Qe,children:Ohe(Me)?VN||(VN=A.jsx("span",{className:"notranslate",children:"â€‹"})):Me})),A.jsx(Phe,He({"aria-invalid":x,value:Array.isArray(oe)?oe.join(","):oe,name:B,ref:X,"aria-hidden":!0,onChange:he,tabIndex:-1,disabled:y,className:Ct.nativeInput,autoFocus:d,ownerState:Ze},ie)),A.jsx(Mhe,{as:C,className:Ct.icon,ownerState:Ze}),A.jsx(fhe,He({id:`menu-${B||""}`,anchorEl:We,open:Ae,onClose:Z,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},M,{MenuListProps:He({"aria-labelledby":S,role:"listbox","aria-multiselectable":P?"true":void 0,disableListWrap:!0,id:en},M.MenuListProps),slotProps:He({},M.slotProps,{paper:He({},dt,{style:He({minWidth:it},dt!=null?dt.style:null)})}),children:qe}))]})}),Bhe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Rhe=["root"],Fhe=t=>{const{classes:r}=t;return r},VC={name:"MuiSelect",overridesResolver:(t,r)=>r.root,shouldForwardProp:t=>Cl(t)&&t!=="variant",slot:"Root"},zhe=sn(FC,VC)(""),Uhe=sn(qC,VC)(""),qhe=sn(RC,VC)(""),o8=Y.forwardRef(function(r,n){const o=Yr({name:"MuiSelect",props:r}),{autoWidth:s=!1,children:l,classes:d={},className:h,defaultOpen:p=!1,displayEmpty:g=!1,IconComponent:b=sue,id:v,input:y,inputProps:k,label:x,labelId:C,MenuProps:D,multiple:S=!1,native:M=!1,onClose:P,onOpen:B,open:$,renderValue:F,SelectDisplayProps:N,variant:L="outlined"}=o,U=An(o,Bhe),Q=M?whe:Lhe,H=$p(),z=Vp({props:o,muiFormControl:H,states:["variant","error"]}),G=z.variant||L,R=He({},o,{variant:G,classes:d}),ne=Fhe(R),ue=An(ne,Rhe),ie=y||{standard:A.jsx(zhe,{ownerState:R}),outlined:A.jsx(Uhe,{label:x,ownerState:R}),filled:A.jsx(qhe,{ownerState:R})}[G],oe=Ds(n,gb(ie));return A.jsx(Y.Fragment,{children:Y.cloneElement(ie,He({inputComponent:Q,inputProps:He({children:l,error:z.error,IconComponent:b,variant:G,type:void 0,multiple:S},M?{id:v}:{autoWidth:s,defaultOpen:p,displayEmpty:g,labelId:C,MenuProps:D,onClose:P,onOpen:B,open:$,renderValue:F,SelectDisplayProps:He({id:v},N)},k,{classes:k?ia(ue,k.classes):ue},y?y.props.inputProps:{})},(S&&M||g)&&G==="outlined"?{notched:!0}:{},{ref:oe,className:Xt(ie.props.className,h,ne.root)},!y&&{variant:G},U))})});o8.muiName="Select";function Vhe(t){return Fr("MuiTextField",t)}Pr("MuiTextField",["root"]);const $he=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Hhe={standard:FC,filled:RC,outlined:qC},Whe=t=>{const{classes:r}=t;return Gr({root:["root"]},Vhe,r)},Ghe=sn(cde,{name:"MuiTextField",slot:"Root",overridesResolver:(t,r)=>r.root})({}),Yhe=Y.forwardRef(function(r,n){const o=Yr({props:r,name:"MuiTextField"}),{autoComplete:s,autoFocus:l=!1,children:d,className:h,color:p="primary",defaultValue:g,disabled:b=!1,error:v=!1,FormHelperTextProps:y,fullWidth:k=!1,helperText:x,id:C,InputLabelProps:D,inputProps:S,InputProps:M,inputRef:P,label:B,maxRows:$,minRows:F,multiline:N=!1,name:L,onBlur:U,onChange:Q,onFocus:H,placeholder:z,required:G=!1,rows:R,select:ne=!1,SelectProps:ue,type:ie,value:oe,variant:ye="outlined"}=o,re=An(o,$he),Ce=He({},o,{autoFocus:l,color:p,disabled:b,error:v,fullWidth:k,multiline:N,required:G,select:ne,variant:ye}),X=Whe(Ce),J={};ye==="outlined"&&(D&&typeof D.shrink<"u"&&(J.notched=D.shrink),J.label=B),ne&&((!ue||!ue.native)&&(J.id=void 0),J["aria-describedby"]=void 0);const fe=zL(C),le=x&&fe?`${fe}-helper-text`:void 0,ae=B&&fe?`${fe}-label`:void 0,Se=Hhe[ye],xe=A.jsx(Se,He({"aria-describedby":le,autoComplete:s,autoFocus:l,defaultValue:g,fullWidth:k,multiline:N,name:L,rows:R,maxRows:$,minRows:F,type:ie,value:oe,id:fe,inputRef:P,onBlur:U,onChange:Q,onFocus:H,placeholder:z,inputProps:S},J,M));return A.jsxs(Ghe,He({className:Xt(X.root,h),disabled:b,error:v,fullWidth:k,ref:n,required:G,color:p,variant:ye,ownerState:Ce},re,{children:[B!=null&&B!==""&&A.jsx(Nde,He({htmlFor:fe,id:ae},D,{children:B})),ne?A.jsx(o8,He({"aria-describedby":le,id:fe,labelId:ae,value:oe,input:xe},ue,{children:d})):xe,x&&A.jsx(pde,He({id:le},y,{children:x}))]}))}),HN=["http","https","mailto","tel"];function Khe(t){const r=(t||"").trim(),n=r.charAt(0);if(n==="#"||n==="/")return r;const o=r.indexOf(":");if(o===-1)return r;let s=-1;for(;++s<HN.length;){const l=HN[s];if(o===l.length&&r.slice(0,l.length).toLowerCase()===l)return r}return s=r.indexOf("?"),s!==-1&&o>s||(s=r.indexOf("#"),s!==-1&&o>s)?r:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var mA,WN;function Qhe(){return WN||(WN=1,mA=function(r){return r!=null&&r.constructor!=null&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}),mA}var Jhe=Qhe();const s8=bu(Jhe);function Tg(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?GN(t.position):"start"in t||"end"in t?GN(t):"line"in t||"column"in t?A_(t):""}function A_(t){return YN(t&&t.line)+":"+YN(t&&t.column)}function GN(t){return A_(t&&t.start)+"-"+A_(t&&t.end)}function YN(t){return t&&typeof t=="number"?t:1}class $a extends Error{constructor(r,n,o){const s=[null,null];let l={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(o=n,n=void 0),typeof o=="string"){const d=o.indexOf(":");d===-1?s[1]=o:(s[0]=o.slice(0,d),s[1]=o.slice(d+1))}n&&("type"in n||"position"in n?n.position&&(l=n.position):"start"in n||"end"in n?l=n:("line"in n||"column"in n)&&(l.start=n)),this.name=Tg(n)||"1:1",this.message=typeof r=="object"?r.message:r,this.stack="",typeof r=="object"&&r.stack&&(this.stack=r.stack),this.reason=this.message,this.fatal,this.line=l.start.line,this.column=l.start.column,this.position=l,this.source=s[0],this.ruleId=s[1],this.file,this.actual,this.expected,this.url,this.note}}$a.prototype.file="";$a.prototype.name="";$a.prototype.reason="";$a.prototype.message="";$a.prototype.stack="";$a.prototype.fatal=null;$a.prototype.column=null;$a.prototype.line=null;$a.prototype.source=null;$a.prototype.ruleId=null;$a.prototype.position=null;const Xl={basename:Zhe,dirname:Xhe,extname:efe,join:tfe,sep:"/"};function Zhe(t,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');bb(t);let n=0,o=-1,s=t.length,l;if(r===void 0||r.length===0||r.length>t.length){for(;s--;)if(t.charCodeAt(s)===47){if(l){n=s+1;break}}else o<0&&(l=!0,o=s+1);return o<0?"":t.slice(n,o)}if(r===t)return"";let d=-1,h=r.length-1;for(;s--;)if(t.charCodeAt(s)===47){if(l){n=s+1;break}}else d<0&&(l=!0,d=s+1),h>-1&&(t.charCodeAt(s)===r.charCodeAt(h--)?h<0&&(o=s):(h=-1,o=d));return n===o?o=d:o<0&&(o=t.length),t.slice(n,o)}function Xhe(t){if(bb(t),t.length===0)return".";let r=-1,n=t.length,o;for(;--n;)if(t.charCodeAt(n)===47){if(o){r=n;break}}else o||(o=!0);return r<0?t.charCodeAt(0)===47?"/":".":r===1&&t.charCodeAt(0)===47?"//":t.slice(0,r)}function efe(t){bb(t);let r=t.length,n=-1,o=0,s=-1,l=0,d;for(;r--;){const h=t.charCodeAt(r);if(h===47){if(d){o=r+1;break}continue}n<0&&(d=!0,n=r+1),h===46?s<0?s=r:l!==1&&(l=1):s>-1&&(l=-1)}return s<0||n<0||l===0||l===1&&s===n-1&&s===o+1?"":t.slice(s,n)}function tfe(...t){let r=-1,n;for(;++r<t.length;)bb(t[r]),t[r]&&(n=n===void 0?t[r]:n+"/"+t[r]);return n===void 0?".":nfe(n)}function nfe(t){bb(t);const r=t.charCodeAt(0)===47;let n=rfe(t,!r);return n.length===0&&!r&&(n="."),n.length>0&&t.charCodeAt(t.length-1)===47&&(n+="/"),r?"/"+n:n}function rfe(t,r){let n="",o=0,s=-1,l=0,d=-1,h,p;for(;++d<=t.length;){if(d<t.length)h=t.charCodeAt(d);else{if(h===47)break;h=47}if(h===47){if(!(s===d-1||l===1))if(s!==d-1&&l===2){if(n.length<2||o!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",o=0):(n=n.slice(0,p),o=n.length-1-n.lastIndexOf("/")),s=d,l=0;continue}}else if(n.length>0){n="",o=0,s=d,l=0;continue}}r&&(n=n.length>0?n+"/..":"..",o=2)}else n.length>0?n+="/"+t.slice(s+1,d):n=t.slice(s+1,d),o=d-s-1;s=d,l=0}else h===46&&l>-1?l++:l=-1}return n}function bb(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const ife={cwd:ofe};function ofe(){return"/"}function __(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function sfe(t){if(typeof t=="string")t=new URL(t);else if(!__(t)){const r=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw r.code="ERR_INVALID_ARG_TYPE",r}if(t.protocol!=="file:"){const r=new TypeError("The URL must be of scheme file");throw r.code="ERR_INVALID_URL_SCHEME",r}return afe(t)}function afe(t){if(t.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const r=t.pathname;let n=-1;for(;++n<r.length;)if(r.charCodeAt(n)===37&&r.charCodeAt(n+1)===50){const o=r.charCodeAt(n+2);if(o===70||o===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(r)}const gA=["history","path","basename","stem","extname","dirname"];class a8{constructor(r){let n;r?typeof r=="string"||lfe(r)?n={value:r}:__(r)?n={path:r}:n=r:n={},this.data={},this.messages=[],this.history=[],this.cwd=ife.cwd(),this.value,this.stored,this.result,this.map;let o=-1;for(;++o<gA.length;){const l=gA[o];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let s;for(s in n)gA.includes(s)||(this[s]=n[s])}get path(){return this.history[this.history.length-1]}set path(r){__(r)&&(r=sfe(r)),kA(r,"path"),this.path!==r&&this.history.push(r)}get dirname(){return typeof this.path=="string"?Xl.dirname(this.path):void 0}set dirname(r){KN(this.basename,"dirname"),this.path=Xl.join(r||"",this.basename)}get basename(){return typeof this.path=="string"?Xl.basename(this.path):void 0}set basename(r){kA(r,"basename"),bA(r,"basename"),this.path=Xl.join(this.dirname||"",r)}get extname(){return typeof this.path=="string"?Xl.extname(this.path):void 0}set extname(r){if(bA(r,"extname"),KN(this.dirname,"extname"),r){if(r.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(r.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xl.join(this.dirname,this.stem+(r||""))}get stem(){return typeof this.path=="string"?Xl.basename(this.path,this.extname):void 0}set stem(r){kA(r,"stem"),bA(r,"stem"),this.path=Xl.join(this.dirname||"",r+(this.extname||""))}toString(r){return(this.value||"").toString(r||void 0)}message(r,n,o){const s=new $a(r,n,o);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}info(r,n,o){const s=this.message(r,n,o);return s.fatal=null,s}fail(r,n,o){const s=this.message(r,n,o);throw s.fatal=!0,s}}function bA(t,r){if(t&&t.includes(Xl.sep))throw new Error("`"+r+"` cannot be a path: did not expect `"+Xl.sep+"`")}function kA(t,r){if(!t)throw new Error("`"+r+"` cannot be empty")}function KN(t,r){if(!t)throw new Error("Setting `"+r+"` requires `path` to be set too")}function lfe(t){return s8(t)}function QN(t){if(t)throw t}var wA,JN;function cfe(){if(JN)return wA;JN=1;var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=function(g){return typeof Array.isArray=="function"?Array.isArray(g):r.call(g)==="[object Array]"},l=function(g){if(!g||r.call(g)!=="[object Object]")return!1;var b=t.call(g,"constructor"),v=g.constructor&&g.constructor.prototype&&t.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!b&&!v)return!1;var y;for(y in g);return typeof y>"u"||t.call(g,y)},d=function(g,b){n&&b.name==="__proto__"?n(g,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):g[b.name]=b.newValue},h=function(g,b){if(b==="__proto__")if(t.call(g,b)){if(o)return o(g,b).value}else return;return g[b]};return wA=function p(){var g,b,v,y,k,x,C=arguments[0],D=1,S=arguments.length,M=!1;for(typeof C=="boolean"&&(M=C,C=arguments[1]||{},D=2),(C==null||typeof C!="object"&&typeof C!="function")&&(C={});D<S;++D)if(g=arguments[D],g!=null)for(b in g)v=h(C,b),y=h(g,b),C!==y&&(M&&y&&(l(y)||(k=s(y)))?(k?(k=!1,x=v&&s(v)?v:[]):x=v&&l(v)?v:{},d(C,{name:b,newValue:p(M,x,y)})):typeof y<"u"&&d(C,{name:b,newValue:y}));return C},wA}var ufe=cfe();const ZN=bu(ufe);function C_(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function dfe(){const t=[],r={run:n,use:o};return r;function n(...s){let l=-1;const d=s.pop();if(typeof d!="function")throw new TypeError("Expected function as last argument, not "+d);h(null,...s);function h(p,...g){const b=t[++l];let v=-1;if(p){d(p);return}for(;++v<s.length;)(g[v]===null||g[v]===void 0)&&(g[v]=s[v]);s=g,b?hfe(b,h)(...g):d(null,...g)}}function o(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),r}}function hfe(t,r){let n;return o;function o(...d){const h=t.length>d.length;let p;h&&d.push(s);try{p=t.apply(this,d)}catch(g){const b=g;if(h&&n)throw b;return s(b)}h||(p&&p.then&&typeof p.then=="function"?p.then(l,s):p instanceof Error?s(p):l(p))}function s(d,...h){n||(n=!0,r(d,...h))}function l(d){s(null,d)}}const ffe=c8().freeze(),l8={}.hasOwnProperty;function c8(){const t=dfe(),r=[];let n={},o,s=-1;return l.data=d,l.Parser=void 0,l.Compiler=void 0,l.freeze=h,l.attachers=r,l.use=p,l.parse=g,l.stringify=b,l.run=v,l.runSync=y,l.process=k,l.processSync=x,l;function l(){const C=c8();let D=-1;for(;++D<r.length;)C.use(...r[D]);return C.data(ZN(!0,{},n)),C}function d(C,D){return typeof C=="string"?arguments.length===2?(AA("data",o),n[C]=D,l):l8.call(n,C)&&n[C]||null:C?(AA("data",o),n=C,l):n}function h(){if(o)return l;for(;++s<r.length;){const[C,...D]=r[s];if(D[0]===!1)continue;D[0]===!0&&(D[0]=void 0);const S=C.call(l,...D);typeof S=="function"&&t.use(S)}return o=!0,s=Number.POSITIVE_INFINITY,l}function p(C,...D){let S;if(AA("use",o),C!=null)if(typeof C=="function")$(C,...D);else if(typeof C=="object")Array.isArray(C)?B(C):P(C);else throw new TypeError("Expected usable value, not `"+C+"`");return S&&(n.settings=Object.assign(n.settings||{},S)),l;function M(F){if(typeof F=="function")$(F);else if(typeof F=="object")if(Array.isArray(F)){const[N,...L]=F;$(N,...L)}else P(F);else throw new TypeError("Expected usable value, not `"+F+"`")}function P(F){B(F.plugins),F.settings&&(S=Object.assign(S||{},F.settings))}function B(F){let N=-1;if(F!=null)if(Array.isArray(F))for(;++N<F.length;){const L=F[N];M(L)}else throw new TypeError("Expected a list of plugins, not `"+F+"`")}function $(F,N){let L=-1,U;for(;++L<r.length;)if(r[L][0]===F){U=r[L];break}U?(C_(U[1])&&C_(N)&&(N=ZN(!0,U[1],N)),U[1]=N):r.push([...arguments])}}function g(C){l.freeze();const D=ug(C),S=l.Parser;return yA("parse",S),XN(S,"parse")?new S(String(D),D).parse():S(String(D),D)}function b(C,D){l.freeze();const S=ug(D),M=l.Compiler;return vA("stringify",M),eM(C),XN(M,"compile")?new M(C,S).compile():M(C,S)}function v(C,D,S){if(eM(C),l.freeze(),!S&&typeof D=="function"&&(S=D,D=void 0),!S)return new Promise(M);M(null,S);function M(P,B){t.run(C,ug(D),$);function $(F,N,L){N=N||C,F?B(F):P?P(N):S(null,N,L)}}}function y(C,D){let S,M;return l.run(C,D,P),tM("runSync","run",M),S;function P(B,$){QN(B),S=$,M=!0}}function k(C,D){if(l.freeze(),yA("process",l.Parser),vA("process",l.Compiler),!D)return new Promise(S);S(null,D);function S(M,P){const B=ug(C);l.run(l.parse(B),B,(F,N,L)=>{if(F||!N||!L)$(F);else{const U=l.stringify(N,L);U==null||(gfe(U)?L.value=U:L.result=U),$(F,L)}});function $(F,N){F||!N?P(F):M?M(N):D(null,N)}}}function x(C){let D;l.freeze(),yA("processSync",l.Parser),vA("processSync",l.Compiler);const S=ug(C);return l.process(S,M),tM("processSync","process",D),S;function M(P){D=!0,QN(P)}}}function XN(t,r){return typeof t=="function"&&t.prototype&&(pfe(t.prototype)||r in t.prototype)}function pfe(t){let r;for(r in t)if(l8.call(t,r))return!0;return!1}function yA(t,r){if(typeof r!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function vA(t,r){if(typeof r!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function AA(t,r){if(r)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function eM(t){if(!C_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function tM(t,r,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+r+"` instead")}function ug(t){return mfe(t)?t:new a8(t)}function mfe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function gfe(t){return typeof t=="string"||s8(t)}const bfe={};function kfe(t,r){const n=bfe,o=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return u8(t,o,s)}function u8(t,r,n){if(wfe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(r&&"alt"in t&&t.alt)return t.alt;if("children"in t)return nM(t.children,r,n)}return Array.isArray(t)?nM(t,r,n):""}function nM(t,r,n){const o=[];let s=-1;for(;++s<t.length;)o[s]=u8(t[s],r,n);return o.join("")}function wfe(t){return!!(t&&typeof t=="object")}function _c(t,r,n,o){const s=t.length;let l=0,d;if(r<0?r=-r>s?0:s+r:r=r>s?s:r,n=n>0?n:0,o.length<1e4)d=Array.from(o),d.unshift(r,n),t.splice(...d);else for(n&&t.splice(r,n);l<o.length;)d=o.slice(l,l+1e4),d.unshift(r,0),t.splice(...d),l+=1e4,r+=1e4}function Fa(t,r){return t.length>0?(_c(t,t.length,0,r),t):r}const rM={}.hasOwnProperty;function yfe(t){const r={};let n=-1;for(;++n<t.length;)vfe(r,t[n]);return r}function vfe(t,r){let n;for(n in r){const s=(rM.call(t,n)?t[n]:void 0)||(t[n]={}),l=r[n];let d;if(l)for(d in l){rM.call(s,d)||(s[d]=[]);const h=l[d];Afe(s[d],Array.isArray(h)?h:h?[h]:[])}}}function Afe(t,r){let n=-1;const o=[];for(;++n<r.length;)(r[n].add==="after"?t:o).push(r[n]);_c(t,0,0,o)}const _fe=/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,hc=Ed(/[A-Za-z]/),ta=Ed(/[\dA-Za-z]/),Cfe=Ed(/[#-'*+\--9=?A-Z^-~]/);function x_(t){return t!==null&&(t<32||t===127)}const S_=Ed(/\d/),xfe=Ed(/[\dA-Fa-f]/),Sfe=Ed(/[!-/:-@[-`{-~]/);function pn(t){return t!==null&&t<-2}function Ss(t){return t!==null&&(t<0||t===32)}function rr(t){return t===-2||t===-1||t===32}const Efe=Ed(_fe),Dfe=Ed(/\s/);function Ed(t){return r;function r(n){return n!==null&&t.test(String.fromCharCode(n))}}function Mr(t,r,n,o){const s=o?o-1:Number.POSITIVE_INFINITY;let l=0;return d;function d(p){return rr(p)?(t.enter(n),h(p)):r(p)}function h(p){return rr(p)&&l++<s?(t.consume(p),h):(t.exit(n),r(p))}}const Ife={tokenize:Tfe};function Tfe(t){const r=t.attempt(this.parser.constructs.contentInitial,o,s);let n;return r;function o(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),Mr(t,r,"linePrefix")}function s(h){return t.enter("paragraph"),l(h)}function l(h){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,d(h)}function d(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return pn(h)?(t.consume(h),t.exit("chunkText"),l):(t.consume(h),d)}}const Nfe={tokenize:Mfe},iM={tokenize:Pfe};function Mfe(t){const r=this,n=[];let o=0,s,l,d;return h;function h(P){if(o<n.length){const B=n[o];return r.containerState=B[1],t.attempt(B[0].continuation,p,g)(P)}return g(P)}function p(P){if(o++,r.containerState._closeFlow){r.containerState._closeFlow=void 0,s&&M();const B=r.events.length;let $=B,F;for(;$--;)if(r.events[$][0]==="exit"&&r.events[$][1].type==="chunkFlow"){F=r.events[$][1].end;break}S(o);let N=B;for(;N<r.events.length;)r.events[N][1].end=Object.assign({},F),N++;return _c(r.events,$+1,0,r.events.slice(B)),r.events.length=N,g(P)}return h(P)}function g(P){if(o===n.length){if(!s)return y(P);if(s.currentConstruct&&s.currentConstruct.concrete)return x(P);r.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return r.containerState={},t.check(iM,b,v)(P)}function b(P){return s&&M(),S(o),y(P)}function v(P){return r.parser.lazy[r.now().line]=o!==n.length,d=r.now().offset,x(P)}function y(P){return r.containerState={},t.attempt(iM,k,x)(P)}function k(P){return o++,n.push([r.currentConstruct,r.containerState]),y(P)}function x(P){if(P===null){s&&M(),S(0),t.consume(P);return}return s=s||r.parser.flow(r.now()),t.enter("chunkFlow",{contentType:"flow",previous:l,_tokenizer:s}),C(P)}function C(P){if(P===null){D(t.exit("chunkFlow"),!0),S(0),t.consume(P);return}return pn(P)?(t.consume(P),D(t.exit("chunkFlow")),o=0,r.interrupt=void 0,h):(t.consume(P),C)}function D(P,B){const $=r.sliceStream(P);if(B&&$.push(null),P.previous=l,l&&(l.next=P),l=P,s.defineSkip(P.start),s.write($),r.parser.lazy[P.start.line]){let F=s.events.length;for(;F--;)if(s.events[F][1].start.offset<d&&(!s.events[F][1].end||s.events[F][1].end.offset>d))return;const N=r.events.length;let L=N,U,Q;for(;L--;)if(r.events[L][0]==="exit"&&r.events[L][1].type==="chunkFlow"){if(U){Q=r.events[L][1].end;break}U=!0}for(S(o),F=N;F<r.events.length;)r.events[F][1].end=Object.assign({},Q),F++;_c(r.events,L+1,0,r.events.slice(N)),r.events.length=F}}function S(P){let B=n.length;for(;B-- >P;){const $=n[B];r.containerState=$[1],$[0].exit.call(r,t)}n.length=P}function M(){s.write([null]),l=void 0,s=void 0,r.containerState._closeFlow=void 0}}function Pfe(t,r,n){return Mr(t,t.attempt(this.parser.constructs.document,r,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function oM(t){if(t===null||Ss(t)||Dfe(t))return 1;if(Efe(t))return 2}function $C(t,r,n){const o=[];let s=-1;for(;++s<t.length;){const l=t[s].resolveAll;l&&!o.includes(l)&&(r=l(r,n),o.push(l))}return r}const E_={name:"attention",tokenize:jfe,resolveAll:Ofe};function Ofe(t,r){let n=-1,o,s,l,d,h,p,g,b;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(o=n;o--;)if(t[o][0]==="exit"&&t[o][1].type==="attentionSequence"&&t[o][1]._open&&r.sliceSerialize(t[o][1]).charCodeAt(0)===r.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[o][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[o][1].end.offset-t[o][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[o][1].end.offset-t[o][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const v=Object.assign({},t[o][1].end),y=Object.assign({},t[n][1].start);sM(v,-p),sM(y,p),d={type:p>1?"strongSequence":"emphasisSequence",start:v,end:Object.assign({},t[o][1].end)},h={type:p>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:y},l={type:p>1?"strongText":"emphasisText",start:Object.assign({},t[o][1].end),end:Object.assign({},t[n][1].start)},s={type:p>1?"strong":"emphasis",start:Object.assign({},d.start),end:Object.assign({},h.end)},t[o][1].end=Object.assign({},d.start),t[n][1].start=Object.assign({},h.end),g=[],t[o][1].end.offset-t[o][1].start.offset&&(g=Fa(g,[["enter",t[o][1],r],["exit",t[o][1],r]])),g=Fa(g,[["enter",s,r],["enter",d,r],["exit",d,r],["enter",l,r]]),g=Fa(g,$C(r.parser.constructs.insideSpan.null,t.slice(o+1,n),r)),g=Fa(g,[["exit",l,r],["enter",h,r],["exit",h,r],["exit",s,r]]),t[n][1].end.offset-t[n][1].start.offset?(b=2,g=Fa(g,[["enter",t[n][1],r],["exit",t[n][1],r]])):b=0,_c(t,o-1,n-o+3,g),n=o+g.length-b-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function jfe(t,r){const n=this.parser.constructs.attentionMarkers.null,o=this.previous,s=oM(o);let l;return d;function d(p){return l=p,t.enter("attentionSequence"),h(p)}function h(p){if(p===l)return t.consume(p),h;const g=t.exit("attentionSequence"),b=oM(p),v=!b||b===2&&s||n.includes(p),y=!s||s===2&&b||n.includes(o);return g._open=!!(l===42?v:v&&(s||!y)),g._close=!!(l===42?y:y&&(b||!v)),r(p)}}function sM(t,r){t.column+=r,t.offset+=r,t._bufferIndex+=r}const Lfe={name:"autolink",tokenize:Bfe};function Bfe(t,r,n){let o=0;return s;function s(k){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(k),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),l}function l(k){return hc(k)?(t.consume(k),d):g(k)}function d(k){return k===43||k===45||k===46||ta(k)?(o=1,h(k)):g(k)}function h(k){return k===58?(t.consume(k),o=0,p):(k===43||k===45||k===46||ta(k))&&o++<32?(t.consume(k),h):(o=0,g(k))}function p(k){return k===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(k),t.exit("autolinkMarker"),t.exit("autolink"),r):k===null||k===32||k===60||x_(k)?n(k):(t.consume(k),p)}function g(k){return k===64?(t.consume(k),b):Cfe(k)?(t.consume(k),g):n(k)}function b(k){return ta(k)?v(k):n(k)}function v(k){return k===46?(t.consume(k),o=0,b):k===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(k),t.exit("autolinkMarker"),t.exit("autolink"),r):y(k)}function y(k){if((k===45||ta(k))&&o++<63){const x=k===45?y:v;return t.consume(k),x}return n(k)}}const mw={tokenize:Rfe,partial:!0};function Rfe(t,r,n){return o;function o(l){return rr(l)?Mr(t,s,"linePrefix")(l):s(l)}function s(l){return l===null||pn(l)?r(l):n(l)}}const d8={name:"blockQuote",tokenize:Ffe,continuation:{tokenize:zfe},exit:Ufe};function Ffe(t,r,n){const o=this;return s;function s(d){if(d===62){const h=o.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(d),t.exit("blockQuoteMarker"),l}return n(d)}function l(d){return rr(d)?(t.enter("blockQuotePrefixWhitespace"),t.consume(d),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),r):(t.exit("blockQuotePrefix"),r(d))}}function zfe(t,r,n){const o=this;return s;function s(d){return rr(d)?Mr(t,l,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d):l(d)}function l(d){return t.attempt(d8,r,n)(d)}}function Ufe(t){t.exit("blockQuote")}const h8={name:"characterEscape",tokenize:qfe};function qfe(t,r,n){return o;function o(l){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(l),t.exit("escapeMarker"),s}function s(l){return Sfe(l)?(t.enter("characterEscapeValue"),t.consume(l),t.exit("characterEscapeValue"),t.exit("characterEscape"),r):n(l)}}const aM=document.createElement("i");function HC(t){const r="&"+t+";";aM.innerHTML=r;const n=aM.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===r?!1:n}const f8={name:"characterReference",tokenize:Vfe};function Vfe(t,r,n){const o=this;let s=0,l,d;return h;function h(v){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),p}function p(v){return v===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(v),t.exit("characterReferenceMarkerNumeric"),g):(t.enter("characterReferenceValue"),l=31,d=ta,b(v))}function g(v){return v===88||v===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(v),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),l=6,d=xfe,b):(t.enter("characterReferenceValue"),l=7,d=S_,b(v))}function b(v){if(v===59&&s){const y=t.exit("characterReferenceValue");return d===ta&&!HC(o.sliceSerialize(y))?n(v):(t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),t.exit("characterReference"),r)}return d(v)&&s++<l?(t.consume(v),b):n(v)}}const lM={tokenize:Hfe,partial:!0},cM={name:"codeFenced",tokenize:$fe,concrete:!0};function $fe(t,r,n){const o=this,s={tokenize:$,partial:!0};let l=0,d=0,h;return p;function p(F){return g(F)}function g(F){const N=o.events[o.events.length-1];return l=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,h=F,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),b(F)}function b(F){return F===h?(d++,t.consume(F),b):d<3?n(F):(t.exit("codeFencedFenceSequence"),rr(F)?Mr(t,v,"whitespace")(F):v(F))}function v(F){return F===null||pn(F)?(t.exit("codeFencedFence"),o.interrupt?r(F):t.check(lM,C,B)(F)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y(F))}function y(F){return F===null||pn(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),v(F)):rr(F)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Mr(t,k,"whitespace")(F)):F===96&&F===h?n(F):(t.consume(F),y)}function k(F){return F===null||pn(F)?v(F):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(F))}function x(F){return F===null||pn(F)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),v(F)):F===96&&F===h?n(F):(t.consume(F),x)}function C(F){return t.attempt(s,B,D)(F)}function D(F){return t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),S}function S(F){return l>0&&rr(F)?Mr(t,M,"linePrefix",l+1)(F):M(F)}function M(F){return F===null||pn(F)?t.check(lM,C,B)(F):(t.enter("codeFlowValue"),P(F))}function P(F){return F===null||pn(F)?(t.exit("codeFlowValue"),M(F)):(t.consume(F),P)}function B(F){return t.exit("codeFenced"),r(F)}function $(F,N,L){let U=0;return Q;function Q(ne){return F.enter("lineEnding"),F.consume(ne),F.exit("lineEnding"),H}function H(ne){return F.enter("codeFencedFence"),rr(ne)?Mr(F,z,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):z(ne)}function z(ne){return ne===h?(F.enter("codeFencedFenceSequence"),G(ne)):L(ne)}function G(ne){return ne===h?(U++,F.consume(ne),G):U>=d?(F.exit("codeFencedFenceSequence"),rr(ne)?Mr(F,R,"whitespace")(ne):R(ne)):L(ne)}function R(ne){return ne===null||pn(ne)?(F.exit("codeFencedFence"),N(ne)):L(ne)}}}function Hfe(t,r,n){const o=this;return s;function s(d){return d===null?n(d):(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l)}function l(d){return o.parser.lazy[o.now().line]?n(d):r(d)}}const _A={name:"codeIndented",tokenize:Gfe},Wfe={tokenize:Yfe,partial:!0};function Gfe(t,r,n){const o=this;return s;function s(g){return t.enter("codeIndented"),Mr(t,l,"linePrefix",5)(g)}function l(g){const b=o.events[o.events.length-1];return b&&b[1].type==="linePrefix"&&b[2].sliceSerialize(b[1],!0).length>=4?d(g):n(g)}function d(g){return g===null?p(g):pn(g)?t.attempt(Wfe,d,p)(g):(t.enter("codeFlowValue"),h(g))}function h(g){return g===null||pn(g)?(t.exit("codeFlowValue"),d(g)):(t.consume(g),h)}function p(g){return t.exit("codeIndented"),r(g)}}function Yfe(t,r,n){const o=this;return s;function s(d){return o.parser.lazy[o.now().line]?n(d):pn(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),s):Mr(t,l,"linePrefix",5)(d)}function l(d){const h=o.events[o.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?r(d):pn(d)?s(d):n(d)}}const Kfe={name:"codeText",tokenize:Zfe,resolve:Qfe,previous:Jfe};function Qfe(t){let r=t.length-4,n=3,o,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[r][1].type==="lineEnding"||t[r][1].type==="space")){for(o=n;++o<r;)if(t[o][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[r][1].type="codeTextPadding",n+=2,r-=2;break}}for(o=n-1,r++;++o<=r;)s===void 0?o!==r&&t[o][1].type!=="lineEnding"&&(s=o):(o===r||t[o][1].type==="lineEnding")&&(t[s][1].type="codeTextData",o!==s+2&&(t[s][1].end=t[o-1][1].end,t.splice(s+2,o-s-2),r-=o-s-2,o=s+2),s=void 0);return t}function Jfe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Zfe(t,r,n){let o=0,s,l;return d;function d(v){return t.enter("codeText"),t.enter("codeTextSequence"),h(v)}function h(v){return v===96?(t.consume(v),o++,h):(t.exit("codeTextSequence"),p(v))}function p(v){return v===null?n(v):v===32?(t.enter("space"),t.consume(v),t.exit("space"),p):v===96?(l=t.enter("codeTextSequence"),s=0,b(v)):pn(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),p):(t.enter("codeTextData"),g(v))}function g(v){return v===null||v===32||v===96||pn(v)?(t.exit("codeTextData"),p(v)):(t.consume(v),g)}function b(v){return v===96?(t.consume(v),s++,b):s===o?(t.exit("codeTextSequence"),t.exit("codeText"),r(v)):(l.type="codeTextData",g(v))}}function p8(t){const r={};let n=-1,o,s,l,d,h,p,g;for(;++n<t.length;){for(;n in r;)n=r[n];if(o=t[n],n&&o[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(p=o[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(o[0]==="enter")o[1].contentType&&(Object.assign(r,Xfe(t,n)),n=r[n],g=!0);else if(o[1]._container){for(l=n,s=void 0;l--&&(d=t[l],d[1].type==="lineEnding"||d[1].type==="lineEndingBlank");)d[0]==="enter"&&(s&&(t[s][1].type="lineEndingBlank"),d[1].type="lineEnding",s=l);s&&(o[1].end=Object.assign({},t[s][1].start),h=t.slice(s,n),h.unshift(o),_c(t,s,n-s+1,h))}}return!g}function Xfe(t,r){const n=t[r][1],o=t[r][2];let s=r-1;const l=[],d=n._tokenizer||o.parser[n.contentType](n.start),h=d.events,p=[],g={};let b,v,y=-1,k=n,x=0,C=0;const D=[C];for(;k;){for(;t[++s][1]!==k;);l.push(s),k._tokenizer||(b=o.sliceStream(k),k.next||b.push(null),v&&d.defineSkip(k.start),k._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=!0),d.write(b),k._isInFirstContentOfListItem&&(d._gfmTasklistFirstContentOfListItem=void 0)),v=k,k=k.next}for(k=n;++y<h.length;)h[y][0]==="exit"&&h[y-1][0]==="enter"&&h[y][1].type===h[y-1][1].type&&h[y][1].start.line!==h[y][1].end.line&&(C=y+1,D.push(C),k._tokenizer=void 0,k.previous=void 0,k=k.next);for(d.events=[],k?(k._tokenizer=void 0,k.previous=void 0):D.pop(),y=D.length;y--;){const S=h.slice(D[y],D[y+1]),M=l.pop();p.unshift([M,M+S.length-1]),_c(t,M,2,S)}for(y=-1;++y<p.length;)g[x+p[y][0]]=x+p[y][1],x+=p[y][1]-p[y][0]-1;return g}const epe={tokenize:rpe,resolve:npe},tpe={tokenize:ipe,partial:!0};function npe(t){return p8(t),t}function rpe(t,r){let n;return o;function o(h){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(h)}function s(h){return h===null?l(h):pn(h)?t.check(tpe,d,l)(h):(t.consume(h),s)}function l(h){return t.exit("chunkContent"),t.exit("content"),r(h)}function d(h){return t.consume(h),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function ipe(t,r,n){const o=this;return s;function s(d){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),Mr(t,l,"linePrefix")}function l(d){if(d===null||pn(d))return n(d);const h=o.events[o.events.length-1];return!o.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?r(d):t.interrupt(o.parser.constructs.flow,n,r)(d)}}function m8(t,r,n,o,s,l,d,h,p){const g=p||Number.POSITIVE_INFINITY;let b=0;return v;function v(S){return S===60?(t.enter(o),t.enter(s),t.enter(l),t.consume(S),t.exit(l),y):S===null||S===32||S===41||x_(S)?n(S):(t.enter(o),t.enter(d),t.enter(h),t.enter("chunkString",{contentType:"string"}),C(S))}function y(S){return S===62?(t.enter(l),t.consume(S),t.exit(l),t.exit(s),t.exit(o),r):(t.enter(h),t.enter("chunkString",{contentType:"string"}),k(S))}function k(S){return S===62?(t.exit("chunkString"),t.exit(h),y(S)):S===null||S===60||pn(S)?n(S):(t.consume(S),S===92?x:k)}function x(S){return S===60||S===62||S===92?(t.consume(S),k):k(S)}function C(S){return!b&&(S===null||S===41||Ss(S))?(t.exit("chunkString"),t.exit(h),t.exit(d),t.exit(o),r(S)):b<g&&S===40?(t.consume(S),b++,C):S===41?(t.consume(S),b--,C):S===null||S===32||S===40||x_(S)?n(S):(t.consume(S),S===92?D:C)}function D(S){return S===40||S===41||S===92?(t.consume(S),C):C(S)}}function g8(t,r,n,o,s,l){const d=this;let h=0,p;return g;function g(k){return t.enter(o),t.enter(s),t.consume(k),t.exit(s),t.enter(l),b}function b(k){return h>999||k===null||k===91||k===93&&!p||k===94&&!h&&"_hiddenFootnoteSupport"in d.parser.constructs?n(k):k===93?(t.exit(l),t.enter(s),t.consume(k),t.exit(s),t.exit(o),r):pn(k)?(t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),b):(t.enter("chunkString",{contentType:"string"}),v(k))}function v(k){return k===null||k===91||k===93||pn(k)||h++>999?(t.exit("chunkString"),b(k)):(t.consume(k),p||(p=!rr(k)),k===92?y:v)}function y(k){return k===91||k===92||k===93?(t.consume(k),h++,v):v(k)}}function b8(t,r,n,o,s,l){let d;return h;function h(y){return y===34||y===39||y===40?(t.enter(o),t.enter(s),t.consume(y),t.exit(s),d=y===40?41:y,p):n(y)}function p(y){return y===d?(t.enter(s),t.consume(y),t.exit(s),t.exit(o),r):(t.enter(l),g(y))}function g(y){return y===d?(t.exit(l),p(d)):y===null?n(y):pn(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),Mr(t,g,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),b(y))}function b(y){return y===d||y===null||pn(y)?(t.exit("chunkString"),g(y)):(t.consume(y),y===92?v:b)}function v(y){return y===d||y===92?(t.consume(y),b):b(y)}}function Ng(t,r){let n;return o;function o(s){return pn(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,o):rr(s)?Mr(t,o,n?"linePrefix":"lineSuffix")(s):r(s)}}function Cp(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ope={name:"definition",tokenize:ape},spe={tokenize:lpe,partial:!0};function ape(t,r,n){const o=this;let s;return l;function l(k){return t.enter("definition"),d(k)}function d(k){return g8.call(o,t,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(k)}function h(k){return s=Cp(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)),k===58?(t.enter("definitionMarker"),t.consume(k),t.exit("definitionMarker"),p):n(k)}function p(k){return Ss(k)?Ng(t,g)(k):g(k)}function g(k){return m8(t,b,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(k)}function b(k){return t.attempt(spe,v,v)(k)}function v(k){return rr(k)?Mr(t,y,"whitespace")(k):y(k)}function y(k){return k===null||pn(k)?(t.exit("definition"),o.parser.defined.push(s),r(k)):n(k)}}function lpe(t,r,n){return o;function o(h){return Ss(h)?Ng(t,s)(h):n(h)}function s(h){return b8(t,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function l(h){return rr(h)?Mr(t,d,"whitespace")(h):d(h)}function d(h){return h===null||pn(h)?r(h):n(h)}}const cpe={name:"hardBreakEscape",tokenize:upe};function upe(t,r,n){return o;function o(l){return t.enter("hardBreakEscape"),t.consume(l),s}function s(l){return pn(l)?(t.exit("hardBreakEscape"),r(l)):n(l)}}const dpe={name:"headingAtx",tokenize:fpe,resolve:hpe};function hpe(t,r){let n=t.length-2,o=3,s,l;return t[o][1].type==="whitespace"&&(o+=2),n-2>o&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(o===n-1||n-4>o&&t[n-2][1].type==="whitespace")&&(n-=o+1===n?2:4),n>o&&(s={type:"atxHeadingText",start:t[o][1].start,end:t[n][1].end},l={type:"chunkText",start:t[o][1].start,end:t[n][1].end,contentType:"text"},_c(t,o,n-o+1,[["enter",s,r],["enter",l,r],["exit",l,r],["exit",s,r]])),t}function fpe(t,r,n){let o=0;return s;function s(b){return t.enter("atxHeading"),l(b)}function l(b){return t.enter("atxHeadingSequence"),d(b)}function d(b){return b===35&&o++<6?(t.consume(b),d):b===null||Ss(b)?(t.exit("atxHeadingSequence"),h(b)):n(b)}function h(b){return b===35?(t.enter("atxHeadingSequence"),p(b)):b===null||pn(b)?(t.exit("atxHeading"),r(b)):rr(b)?Mr(t,h,"whitespace")(b):(t.enter("atxHeadingText"),g(b))}function p(b){return b===35?(t.consume(b),p):(t.exit("atxHeadingSequence"),h(b))}function g(b){return b===null||b===35||Ss(b)?(t.exit("atxHeadingText"),h(b)):(t.consume(b),g)}}const ppe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],uM=["pre","script","style","textarea"],mpe={name:"htmlFlow",tokenize:wpe,resolveTo:kpe,concrete:!0},gpe={tokenize:vpe,partial:!0},bpe={tokenize:ype,partial:!0};function kpe(t){let r=t.length;for(;r--&&!(t[r][0]==="enter"&&t[r][1].type==="htmlFlow"););return r>1&&t[r-2][1].type==="linePrefix"&&(t[r][1].start=t[r-2][1].start,t[r+1][1].start=t[r-2][1].start,t.splice(r-2,2)),t}function wpe(t,r,n){const o=this;let s,l,d,h,p;return g;function g(J){return b(J)}function b(J){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(J),v}function v(J){return J===33?(t.consume(J),y):J===47?(t.consume(J),l=!0,C):J===63?(t.consume(J),s=3,o.interrupt?r:re):hc(J)?(t.consume(J),d=String.fromCharCode(J),D):n(J)}function y(J){return J===45?(t.consume(J),s=2,k):J===91?(t.consume(J),s=5,h=0,x):hc(J)?(t.consume(J),s=4,o.interrupt?r:re):n(J)}function k(J){return J===45?(t.consume(J),o.interrupt?r:re):n(J)}function x(J){const fe="CDATA[";return J===fe.charCodeAt(h++)?(t.consume(J),h===fe.length?o.interrupt?r:z:x):n(J)}function C(J){return hc(J)?(t.consume(J),d=String.fromCharCode(J),D):n(J)}function D(J){if(J===null||J===47||J===62||Ss(J)){const fe=J===47,le=d.toLowerCase();return!fe&&!l&&uM.includes(le)?(s=1,o.interrupt?r(J):z(J)):ppe.includes(d.toLowerCase())?(s=6,fe?(t.consume(J),S):o.interrupt?r(J):z(J)):(s=7,o.interrupt&&!o.parser.lazy[o.now().line]?n(J):l?M(J):P(J))}return J===45||ta(J)?(t.consume(J),d+=String.fromCharCode(J),D):n(J)}function S(J){return J===62?(t.consume(J),o.interrupt?r:z):n(J)}function M(J){return rr(J)?(t.consume(J),M):Q(J)}function P(J){return J===47?(t.consume(J),Q):J===58||J===95||hc(J)?(t.consume(J),B):rr(J)?(t.consume(J),P):Q(J)}function B(J){return J===45||J===46||J===58||J===95||ta(J)?(t.consume(J),B):$(J)}function $(J){return J===61?(t.consume(J),F):rr(J)?(t.consume(J),$):P(J)}function F(J){return J===null||J===60||J===61||J===62||J===96?n(J):J===34||J===39?(t.consume(J),p=J,N):rr(J)?(t.consume(J),F):L(J)}function N(J){return J===p?(t.consume(J),p=null,U):J===null||pn(J)?n(J):(t.consume(J),N)}function L(J){return J===null||J===34||J===39||J===47||J===60||J===61||J===62||J===96||Ss(J)?$(J):(t.consume(J),L)}function U(J){return J===47||J===62||rr(J)?P(J):n(J)}function Q(J){return J===62?(t.consume(J),H):n(J)}function H(J){return J===null||pn(J)?z(J):rr(J)?(t.consume(J),H):n(J)}function z(J){return J===45&&s===2?(t.consume(J),ue):J===60&&s===1?(t.consume(J),ie):J===62&&s===4?(t.consume(J),Ce):J===63&&s===3?(t.consume(J),re):J===93&&s===5?(t.consume(J),ye):pn(J)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(gpe,X,G)(J)):J===null||pn(J)?(t.exit("htmlFlowData"),G(J)):(t.consume(J),z)}function G(J){return t.check(bpe,R,X)(J)}function R(J){return t.enter("lineEnding"),t.consume(J),t.exit("lineEnding"),ne}function ne(J){return J===null||pn(J)?G(J):(t.enter("htmlFlowData"),z(J))}function ue(J){return J===45?(t.consume(J),re):z(J)}function ie(J){return J===47?(t.consume(J),d="",oe):z(J)}function oe(J){if(J===62){const fe=d.toLowerCase();return uM.includes(fe)?(t.consume(J),Ce):z(J)}return hc(J)&&d.length<8?(t.consume(J),d+=String.fromCharCode(J),oe):z(J)}function ye(J){return J===93?(t.consume(J),re):z(J)}function re(J){return J===62?(t.consume(J),Ce):J===45&&s===2?(t.consume(J),re):z(J)}function Ce(J){return J===null||pn(J)?(t.exit("htmlFlowData"),X(J)):(t.consume(J),Ce)}function X(J){return t.exit("htmlFlow"),r(J)}}function ype(t,r,n){const o=this;return s;function s(d){return pn(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),l):n(d)}function l(d){return o.parser.lazy[o.now().line]?n(d):r(d)}}function vpe(t,r,n){return o;function o(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(mw,r,n)}}const Ape={name:"htmlText",tokenize:_pe};function _pe(t,r,n){const o=this;let s,l,d;return h;function h(re){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(re),p}function p(re){return re===33?(t.consume(re),g):re===47?(t.consume(re),$):re===63?(t.consume(re),P):hc(re)?(t.consume(re),L):n(re)}function g(re){return re===45?(t.consume(re),b):re===91?(t.consume(re),l=0,x):hc(re)?(t.consume(re),M):n(re)}function b(re){return re===45?(t.consume(re),k):n(re)}function v(re){return re===null?n(re):re===45?(t.consume(re),y):pn(re)?(d=v,ie(re)):(t.consume(re),v)}function y(re){return re===45?(t.consume(re),k):v(re)}function k(re){return re===62?ue(re):re===45?y(re):v(re)}function x(re){const Ce="CDATA[";return re===Ce.charCodeAt(l++)?(t.consume(re),l===Ce.length?C:x):n(re)}function C(re){return re===null?n(re):re===93?(t.consume(re),D):pn(re)?(d=C,ie(re)):(t.consume(re),C)}function D(re){return re===93?(t.consume(re),S):C(re)}function S(re){return re===62?ue(re):re===93?(t.consume(re),S):C(re)}function M(re){return re===null||re===62?ue(re):pn(re)?(d=M,ie(re)):(t.consume(re),M)}function P(re){return re===null?n(re):re===63?(t.consume(re),B):pn(re)?(d=P,ie(re)):(t.consume(re),P)}function B(re){return re===62?ue(re):P(re)}function $(re){return hc(re)?(t.consume(re),F):n(re)}function F(re){return re===45||ta(re)?(t.consume(re),F):N(re)}function N(re){return pn(re)?(d=N,ie(re)):rr(re)?(t.consume(re),N):ue(re)}function L(re){return re===45||ta(re)?(t.consume(re),L):re===47||re===62||Ss(re)?U(re):n(re)}function U(re){return re===47?(t.consume(re),ue):re===58||re===95||hc(re)?(t.consume(re),Q):pn(re)?(d=U,ie(re)):rr(re)?(t.consume(re),U):ue(re)}function Q(re){return re===45||re===46||re===58||re===95||ta(re)?(t.consume(re),Q):H(re)}function H(re){return re===61?(t.consume(re),z):pn(re)?(d=H,ie(re)):rr(re)?(t.consume(re),H):U(re)}function z(re){return re===null||re===60||re===61||re===62||re===96?n(re):re===34||re===39?(t.consume(re),s=re,G):pn(re)?(d=z,ie(re)):rr(re)?(t.consume(re),z):(t.consume(re),R)}function G(re){return re===s?(t.consume(re),s=void 0,ne):re===null?n(re):pn(re)?(d=G,ie(re)):(t.consume(re),G)}function R(re){return re===null||re===34||re===39||re===60||re===61||re===96?n(re):re===47||re===62||Ss(re)?U(re):(t.consume(re),R)}function ne(re){return re===47||re===62||Ss(re)?U(re):n(re)}function ue(re){return re===62?(t.consume(re),t.exit("htmlTextData"),t.exit("htmlText"),r):n(re)}function ie(re){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(re),t.exit("lineEnding"),oe}function oe(re){return rr(re)?Mr(t,ye,"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(re):ye(re)}function ye(re){return t.enter("htmlTextData"),d(re)}}const WC={name:"labelEnd",tokenize:Ipe,resolveTo:Dpe,resolveAll:Epe},Cpe={tokenize:Tpe},xpe={tokenize:Npe},Spe={tokenize:Mpe};function Epe(t){let r=-1;for(;++r<t.length;){const n=t[r][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(r+1,n.type==="labelImage"?4:2),n.type="data",r++)}return t}function Dpe(t,r){let n=t.length,o=0,s,l,d,h;for(;n--;)if(s=t[n][1],l){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(d){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(l=n,s.type!=="labelLink")){o=2;break}}else s.type==="labelEnd"&&(d=n);const p={type:t[l][1].type==="labelLink"?"link":"image",start:Object.assign({},t[l][1].start),end:Object.assign({},t[t.length-1][1].end)},g={type:"label",start:Object.assign({},t[l][1].start),end:Object.assign({},t[d][1].end)},b={type:"labelText",start:Object.assign({},t[l+o+2][1].end),end:Object.assign({},t[d-2][1].start)};return h=[["enter",p,r],["enter",g,r]],h=Fa(h,t.slice(l+1,l+o+3)),h=Fa(h,[["enter",b,r]]),h=Fa(h,$C(r.parser.constructs.insideSpan.null,t.slice(l+o+4,d-3),r)),h=Fa(h,[["exit",b,r],t[d-2],t[d-1],["exit",g,r]]),h=Fa(h,t.slice(d+1)),h=Fa(h,[["exit",p,r]]),_c(t,l,t.length,h),t}function Ipe(t,r,n){const o=this;let s=o.events.length,l,d;for(;s--;)if((o.events[s][1].type==="labelImage"||o.events[s][1].type==="labelLink")&&!o.events[s][1]._balanced){l=o.events[s][1];break}return h;function h(y){return l?l._inactive?v(y):(d=o.parser.defined.includes(Cp(o.sliceSerialize({start:l.end,end:o.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(y),t.exit("labelMarker"),t.exit("labelEnd"),p):n(y)}function p(y){return y===40?t.attempt(Cpe,b,d?b:v)(y):y===91?t.attempt(xpe,b,d?g:v)(y):d?b(y):v(y)}function g(y){return t.attempt(Spe,b,v)(y)}function b(y){return r(y)}function v(y){return l._balanced=!0,n(y)}}function Tpe(t,r,n){return o;function o(v){return t.enter("resource"),t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),s}function s(v){return Ss(v)?Ng(t,l)(v):l(v)}function l(v){return v===41?b(v):m8(t,d,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function d(v){return Ss(v)?Ng(t,p)(v):b(v)}function h(v){return n(v)}function p(v){return v===34||v===39||v===40?b8(t,g,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):b(v)}function g(v){return Ss(v)?Ng(t,b)(v):b(v)}function b(v){return v===41?(t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),t.exit("resource"),r):n(v)}}function Npe(t,r,n){const o=this;return s;function s(h){return g8.call(o,t,l,d,"reference","referenceMarker","referenceString")(h)}function l(h){return o.parser.defined.includes(Cp(o.sliceSerialize(o.events[o.events.length-1][1]).slice(1,-1)))?r(h):n(h)}function d(h){return n(h)}}function Mpe(t,r,n){return o;function o(l){return t.enter("reference"),t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),s}function s(l){return l===93?(t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),t.exit("reference"),r):n(l)}}const Ppe={name:"labelStartImage",tokenize:Ope,resolveAll:WC.resolveAll};function Ope(t,r,n){const o=this;return s;function s(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),l}function l(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),d):n(h)}function d(h){return h===94&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):r(h)}}const jpe={name:"labelStartLink",tokenize:Lpe,resolveAll:WC.resolveAll};function Lpe(t,r,n){const o=this;return s;function s(d){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelLink"),l}function l(d){return d===94&&"_hiddenFootnoteSupport"in o.parser.constructs?n(d):r(d)}}const CA={name:"lineEnding",tokenize:Bpe};function Bpe(t,r){return n;function n(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Mr(t,r,"linePrefix")}}const Pk={name:"thematicBreak",tokenize:Rpe};function Rpe(t,r,n){let o=0,s;return l;function l(g){return t.enter("thematicBreak"),d(g)}function d(g){return s=g,h(g)}function h(g){return g===s?(t.enter("thematicBreakSequence"),p(g)):o>=3&&(g===null||pn(g))?(t.exit("thematicBreak"),r(g)):n(g)}function p(g){return g===s?(t.consume(g),o++,p):(t.exit("thematicBreakSequence"),rr(g)?Mr(t,h,"whitespace")(g):h(g))}}const As={name:"list",tokenize:Upe,continuation:{tokenize:qpe},exit:$pe},Fpe={tokenize:Hpe,partial:!0},zpe={tokenize:Vpe,partial:!0};function Upe(t,r,n){const o=this,s=o.events[o.events.length-1];let l=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,d=0;return h;function h(k){const x=o.containerState.type||(k===42||k===43||k===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!o.containerState.marker||k===o.containerState.marker:S_(k)){if(o.containerState.type||(o.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),k===42||k===45?t.check(Pk,n,g)(k):g(k);if(!o.interrupt||k===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(k)}return n(k)}function p(k){return S_(k)&&++d<10?(t.consume(k),p):(!o.interrupt||d<2)&&(o.containerState.marker?k===o.containerState.marker:k===41||k===46)?(t.exit("listItemValue"),g(k)):n(k)}function g(k){return t.enter("listItemMarker"),t.consume(k),t.exit("listItemMarker"),o.containerState.marker=o.containerState.marker||k,t.check(mw,o.interrupt?n:b,t.attempt(Fpe,y,v))}function b(k){return o.containerState.initialBlankLine=!0,l++,y(k)}function v(k){return rr(k)?(t.enter("listItemPrefixWhitespace"),t.consume(k),t.exit("listItemPrefixWhitespace"),y):n(k)}function y(k){return o.containerState.size=l+o.sliceSerialize(t.exit("listItemPrefix"),!0).length,r(k)}}function qpe(t,r,n){const o=this;return o.containerState._closeFlow=void 0,t.check(mw,s,l);function s(h){return o.containerState.furtherBlankLines=o.containerState.furtherBlankLines||o.containerState.initialBlankLine,Mr(t,r,"listItemIndent",o.containerState.size+1)(h)}function l(h){return o.containerState.furtherBlankLines||!rr(h)?(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,d(h)):(o.containerState.furtherBlankLines=void 0,o.containerState.initialBlankLine=void 0,t.attempt(zpe,r,d)(h))}function d(h){return o.containerState._closeFlow=!0,o.interrupt=void 0,Mr(t,t.attempt(As,r,n),"linePrefix",o.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function Vpe(t,r,n){const o=this;return Mr(t,s,"listItemIndent",o.containerState.size+1);function s(l){const d=o.events[o.events.length-1];return d&&d[1].type==="listItemIndent"&&d[2].sliceSerialize(d[1],!0).length===o.containerState.size?r(l):n(l)}}function $pe(t){t.exit(this.containerState.type)}function Hpe(t,r,n){const o=this;return Mr(t,s,"listItemPrefixWhitespace",o.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(l){const d=o.events[o.events.length-1];return!rr(l)&&d&&d[1].type==="listItemPrefixWhitespace"?r(l):n(l)}}const dM={name:"setextUnderline",tokenize:Gpe,resolveTo:Wpe};function Wpe(t,r){let n=t.length,o,s,l;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){o=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!l&&t[n][1].type==="definition"&&(l=n);const d={type:"setextHeading",start:Object.assign({},t[s][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[s][1].type="setextHeadingText",l?(t.splice(s,0,["enter",d,r]),t.splice(l+1,0,["exit",t[o][1],r]),t[o][1].end=Object.assign({},t[l][1].end)):t[o][1]=d,t.push(["exit",d,r]),t}function Gpe(t,r,n){const o=this;let s;return l;function l(g){let b=o.events.length,v;for(;b--;)if(o.events[b][1].type!=="lineEnding"&&o.events[b][1].type!=="linePrefix"&&o.events[b][1].type!=="content"){v=o.events[b][1].type==="paragraph";break}return!o.parser.lazy[o.now().line]&&(o.interrupt||v)?(t.enter("setextHeadingLine"),s=g,d(g)):n(g)}function d(g){return t.enter("setextHeadingLineSequence"),h(g)}function h(g){return g===s?(t.consume(g),h):(t.exit("setextHeadingLineSequence"),rr(g)?Mr(t,p,"lineSuffix")(g):p(g))}function p(g){return g===null||pn(g)?(t.exit("setextHeadingLine"),r(g)):n(g)}}const Ype={tokenize:Kpe};function Kpe(t){const r=this,n=t.attempt(mw,o,t.attempt(this.parser.constructs.flowInitial,s,Mr(t,t.attempt(this.parser.constructs.flow,s,t.attempt(epe,s)),"linePrefix")));return n;function o(l){if(l===null){t.consume(l);return}return t.enter("lineEndingBlank"),t.consume(l),t.exit("lineEndingBlank"),r.currentConstruct=void 0,n}function s(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),r.currentConstruct=void 0,n}}const Qpe={resolveAll:w8()},Jpe=k8("string"),Zpe=k8("text");function k8(t){return{tokenize:r,resolveAll:w8(t==="text"?Xpe:void 0)};function r(n){const o=this,s=this.parser.constructs[t],l=n.attempt(s,d,h);return d;function d(b){return g(b)?l(b):h(b)}function h(b){if(b===null){n.consume(b);return}return n.enter("data"),n.consume(b),p}function p(b){return g(b)?(n.exit("data"),l(b)):(n.consume(b),p)}function g(b){if(b===null)return!0;const v=s[b];let y=-1;if(v)for(;++y<v.length;){const k=v[y];if(!k.previous||k.previous.call(o,o.previous))return!0}return!1}}}function w8(t){return r;function r(n,o){let s=-1,l;for(;++s<=n.length;)l===void 0?n[s]&&n[s][1].type==="data"&&(l=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==l+2&&(n[l][1].end=n[s-1][1].end,n.splice(l+2,s-l-2),s=l+2),l=void 0);return t?t(n,o):n}}function Xpe(t,r){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const o=t[n-1][1],s=r.sliceStream(o);let l=s.length,d=-1,h=0,p;for(;l--;){const g=s[l];if(typeof g=="string"){for(d=g.length;g.charCodeAt(d-1)===32;)h++,d--;if(d)break;d=-1}else if(g===-2)p=!0,h++;else if(g!==-1){l++;break}}if(h){const g={type:n===t.length||p||h<2?"lineSuffix":"hardBreakTrailing",start:{line:o.end.line,column:o.end.column-h,offset:o.end.offset-h,_index:o.start._index+l,_bufferIndex:l?d:o.start._bufferIndex+d},end:Object.assign({},o.end)};o.end=Object.assign({},g.start),o.start.offset===o.end.offset?Object.assign(o,g):(t.splice(n,0,["enter",g,r],["exit",g,r]),n+=2)}n++}return t}function eme(t,r,n){let o=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const s={},l=[];let d=[],h=[];const p={consume:M,enter:P,exit:B,attempt:N($),check:N(F),interrupt:N(F,{interrupt:!0})},g={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:k,sliceSerialize:y,now:x,defineSkip:C,write:v};let b=r.tokenize.call(g,p);return r.resolveAll&&l.push(r),g;function v(H){return d=Fa(d,H),D(),d[d.length-1]!==null?[]:(L(r,0),g.events=$C(l,g.events,g),g.events)}function y(H,z){return nme(k(H),z)}function k(H){return tme(d,H)}function x(){const{line:H,column:z,offset:G,_index:R,_bufferIndex:ne}=o;return{line:H,column:z,offset:G,_index:R,_bufferIndex:ne}}function C(H){s[H.line]=H.column,Q()}function D(){let H;for(;o._index<d.length;){const z=d[o._index];if(typeof z=="string")for(H=o._index,o._bufferIndex<0&&(o._bufferIndex=0);o._index===H&&o._bufferIndex<z.length;)S(z.charCodeAt(o._bufferIndex));else S(z)}}function S(H){b=b(H)}function M(H){pn(H)?(o.line++,o.column=1,o.offset+=H===-3?2:1,Q()):H!==-1&&(o.column++,o.offset++),o._bufferIndex<0?o._index++:(o._bufferIndex++,o._bufferIndex===d[o._index].length&&(o._bufferIndex=-1,o._index++)),g.previous=H}function P(H,z){const G=z||{};return G.type=H,G.start=x(),g.events.push(["enter",G,g]),h.push(G),G}function B(H){const z=h.pop();return z.end=x(),g.events.push(["exit",z,g]),z}function $(H,z){L(H,z.from)}function F(H,z){z.restore()}function N(H,z){return G;function G(R,ne,ue){let ie,oe,ye,re;return Array.isArray(R)?X(R):"tokenize"in R?X([R]):Ce(R);function Ce(ae){return Se;function Se(xe){const Te=xe!==null&&ae[xe],Ye=xe!==null&&ae.null,We=[...Array.isArray(Te)?Te:Te?[Te]:[],...Array.isArray(Ye)?Ye:Ye?[Ye]:[]];return X(We)(xe)}}function X(ae){return ie=ae,oe=0,ae.length===0?ue:J(ae[oe])}function J(ae){return Se;function Se(xe){return re=U(),ye=ae,ae.partial||(g.currentConstruct=ae),ae.name&&g.parser.constructs.disable.null.includes(ae.name)?le():ae.tokenize.call(z?Object.assign(Object.create(g),z):g,p,fe,le)(xe)}}function fe(ae){return H(ye,re),ne}function le(ae){return re.restore(),++oe<ie.length?J(ie[oe]):ue}}}function L(H,z){H.resolveAll&&!l.includes(H)&&l.push(H),H.resolve&&_c(g.events,z,g.events.length-z,H.resolve(g.events.slice(z),g)),H.resolveTo&&(g.events=H.resolveTo(g.events,g))}function U(){const H=x(),z=g.previous,G=g.currentConstruct,R=g.events.length,ne=Array.from(h);return{restore:ue,from:R};function ue(){o=H,g.previous=z,g.currentConstruct=G,g.events.length=R,h=ne,Q()}}function Q(){o.line in s&&o.column<2&&(o.column=s[o.line],o.offset+=s[o.line]-1)}}function tme(t,r){const n=r.start._index,o=r.start._bufferIndex,s=r.end._index,l=r.end._bufferIndex;let d;if(n===s)d=[t[n].slice(o,l)];else{if(d=t.slice(n,s),o>-1){const h=d[0];typeof h=="string"?d[0]=h.slice(o):d.shift()}l>0&&d.push(t[s].slice(0,l))}return d}function nme(t,r){let n=-1;const o=[];let s;for(;++n<t.length;){const l=t[n];let d;if(typeof l=="string")d=l;else switch(l){case-5:{d="\r";break}case-4:{d=`
`;break}case-3:{d=`\r
`;break}case-2:{d=r?" ":"	";break}case-1:{if(!r&&s)continue;d=" ";break}default:d=String.fromCharCode(l)}s=l===-2,o.push(d)}return o.join("")}const rme={42:As,43:As,45:As,48:As,49:As,50:As,51:As,52:As,53:As,54:As,55:As,56:As,57:As,62:d8},ime={91:ope},ome={[-2]:_A,[-1]:_A,32:_A},sme={35:dpe,42:Pk,45:[dM,Pk],60:mpe,61:dM,95:Pk,96:cM,126:cM},ame={38:f8,92:h8},lme={[-5]:CA,[-4]:CA,[-3]:CA,33:Ppe,38:f8,42:E_,60:[Lfe,Ape],91:jpe,92:[cpe,h8],93:WC,95:E_,96:Kfe},cme={null:[E_,Qpe]},ume={null:[42,95]},dme={null:[]},hme=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ume,contentInitial:ime,disable:dme,document:rme,flow:sme,flowInitial:ome,insideSpan:cme,string:ame,text:lme},Symbol.toStringTag,{value:"Module"}));function fme(t){const n=yfe([hme,...(t||{}).extensions||[]]),o={defined:[],lazy:{},constructs:n,content:s(Ife),document:s(Nfe),flow:s(Ype),string:s(Jpe),text:s(Zpe)};return o;function s(l){return d;function d(h){return eme(o,l,h)}}}const hM=/[\0\t\n\r]/g;function pme(){let t=1,r="",n=!0,o;return s;function s(l,d,h){const p=[];let g,b,v,y,k;for(l=r+l.toString(d),v=0,r="",n&&(l.charCodeAt(0)===65279&&v++,n=void 0);v<l.length;){if(hM.lastIndex=v,g=hM.exec(l),y=g&&g.index!==void 0?g.index:l.length,k=l.charCodeAt(y),!g){r=l.slice(v);break}if(k===10&&v===y&&o)p.push(-3),o=void 0;else switch(o&&(p.push(-5),o=void 0),v<y&&(p.push(l.slice(v,y)),t+=y-v),k){case 0:{p.push(65533),t++;break}case 9:{for(b=Math.ceil(t/4)*4,p.push(-2);t++<b;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:o=!0,t=1}v=y+1}return h&&(o&&p.push(-5),r&&p.push(r),p.push(null)),p}}function mme(t){for(;!p8(t););return t}function y8(t,r){const n=Number.parseInt(t,r);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"ï¿½":String.fromCharCode(n)}const gme=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function bme(t){return t.replace(gme,kme)}function kme(t,r,n){if(r)return r;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),l=s===120||s===88;return y8(n.slice(l?2:1),l?16:10)}return HC(n)||t}const v8={}.hasOwnProperty,wme=function(t,r,n){return typeof r!="string"&&(n=r,r=void 0),yme(n)(mme(fme(n).document().write(pme()(t,r,!0))))};function yme(t){const r={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:h(Oe),autolinkProtocol:H,autolinkEmail:H,atxHeading:h(he),blockQuote:h(We),characterEscape:H,characterReference:H,codeFenced:h(Je),codeFencedFenceInfo:p,codeFencedFenceMeta:p,codeIndented:h(Je,p),codeText:h(Ue,p),codeTextData:H,data:H,codeFlowValue:H,definition:h(Z),definitionDestinationString:p,definitionLabelString:p,definitionTitleString:p,emphasis:h(_e),hardBreakEscape:h(be),hardBreakTrailing:h(be),htmlFlow:h(pe,p),htmlFlowData:H,htmlText:h(pe,p),htmlTextData:H,image:h(Ae),label:p,link:h(Oe),listItem:h(Ie),listItemValue:x,listOrdered:h(Me,k),listUnordered:h(Me),paragraph:h($e),reference:le,referenceString:p,resourceDestinationString:p,resourceTitleString:p,setextHeading:h(he),strong:h(Ke),thematicBreak:h(it)},exit:{atxHeading:b(),atxHeadingSequence:N,autolink:b(),autolinkEmail:Ye,autolinkProtocol:Te,blockQuote:b(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:Se,characterReferenceMarkerNumeric:Se,characterReferenceValue:xe,codeFenced:b(M),codeFencedFence:S,codeFencedFenceInfo:C,codeFencedFenceMeta:D,codeFlowValue:z,codeIndented:b(P),codeText:b(ie),codeTextData:z,data:z,definition:b(),definitionDestinationString:F,definitionLabelString:B,definitionTitleString:$,emphasis:b(),hardBreakEscape:b(R),hardBreakTrailing:b(R),htmlFlow:b(ne),htmlFlowData:z,htmlText:b(ue),htmlTextData:z,image:b(ye),label:Ce,labelText:re,lineEnding:G,link:b(oe),listItem:b(),listOrdered:b(),listUnordered:b(),paragraph:b(),referenceString:ae,resourceDestinationString:X,resourceTitleString:J,resource:fe,setextHeading:b(Q),setextHeadingLineSequence:U,setextHeadingText:L,strong:b(),thematicBreak:b()}};A8(r,(t||{}).mdastExtensions||[]);const n={};return o;function o(Be){let Qe={type:"root",children:[]};const Ze={stack:[Qe],tokenStack:[],config:r,enter:g,exit:v,buffer:p,resume:y,setData:l,getData:d},Ct=[];let dt=-1;for(;++dt<Be.length;)if(Be[dt][1].type==="listOrdered"||Be[dt][1].type==="listUnordered")if(Be[dt][0]==="enter")Ct.push(dt);else{const en=Ct.pop();dt=s(Be,en,dt)}for(dt=-1;++dt<Be.length;){const en=r[Be[dt][0]];v8.call(en,Be[dt][1].type)&&en[Be[dt][1].type].call(Object.assign({sliceSerialize:Be[dt][2].sliceSerialize},Ze),Be[dt][1])}if(Ze.tokenStack.length>0){const en=Ze.tokenStack[Ze.tokenStack.length-1];(en[1]||fM).call(Ze,void 0,en[0])}for(Qe.position={start:td(Be.length>0?Be[0][1].start:{line:1,column:1,offset:0}),end:td(Be.length>0?Be[Be.length-2][1].end:{line:1,column:1,offset:0})},dt=-1;++dt<r.transforms.length;)Qe=r.transforms[dt](Qe)||Qe;return Qe}function s(Be,Qe,Ze){let Ct=Qe-1,dt=-1,en=!1,pt,Wt,Rt,zt;for(;++Ct<=Ze;){const Qt=Be[Ct];if(Qt[1].type==="listUnordered"||Qt[1].type==="listOrdered"||Qt[1].type==="blockQuote"?(Qt[0]==="enter"?dt++:dt--,zt=void 0):Qt[1].type==="lineEndingBlank"?Qt[0]==="enter"&&(pt&&!zt&&!dt&&!Rt&&(Rt=Ct),zt=void 0):Qt[1].type==="linePrefix"||Qt[1].type==="listItemValue"||Qt[1].type==="listItemMarker"||Qt[1].type==="listItemPrefix"||Qt[1].type==="listItemPrefixWhitespace"||(zt=void 0),!dt&&Qt[0]==="enter"&&Qt[1].type==="listItemPrefix"||dt===-1&&Qt[0]==="exit"&&(Qt[1].type==="listUnordered"||Qt[1].type==="listOrdered")){if(pt){let bn=Ct;for(Wt=void 0;bn--;){const Dn=Be[bn];if(Dn[1].type==="lineEnding"||Dn[1].type==="lineEndingBlank"){if(Dn[0]==="exit")continue;Wt&&(Be[Wt][1].type="lineEndingBlank",en=!0),Dn[1].type="lineEnding",Wt=bn}else if(!(Dn[1].type==="linePrefix"||Dn[1].type==="blockQuotePrefix"||Dn[1].type==="blockQuotePrefixWhitespace"||Dn[1].type==="blockQuoteMarker"||Dn[1].type==="listItemIndent"))break}Rt&&(!Wt||Rt<Wt)&&(pt._spread=!0),pt.end=Object.assign({},Wt?Be[Wt][1].start:Qt[1].end),Be.splice(Wt||Ct,0,["exit",pt,Qt[2]]),Ct++,Ze++}Qt[1].type==="listItemPrefix"&&(pt={type:"listItem",_spread:!1,start:Object.assign({},Qt[1].start),end:void 0},Be.splice(Ct,0,["enter",pt,Qt[2]]),Ct++,Ze++,Rt=void 0,zt=!0)}}return Be[Qe][1]._spread=en,Ze}function l(Be,Qe){n[Be]=Qe}function d(Be){return n[Be]}function h(Be,Qe){return Ze;function Ze(Ct){g.call(this,Be(Ct),Ct),Qe&&Qe.call(this,Ct)}}function p(){this.stack.push({type:"fragment",children:[]})}function g(Be,Qe,Ze){return this.stack[this.stack.length-1].children.push(Be),this.stack.push(Be),this.tokenStack.push([Qe,Ze]),Be.position={start:td(Qe.start)},Be}function b(Be){return Qe;function Qe(Ze){Be&&Be.call(this,Ze),v.call(this,Ze)}}function v(Be,Qe){const Ze=this.stack.pop(),Ct=this.tokenStack.pop();if(Ct)Ct[0].type!==Be.type&&(Qe?Qe.call(this,Be,Ct[0]):(Ct[1]||fM).call(this,Be,Ct[0]));else throw new Error("Cannot close `"+Be.type+"` ("+Tg({start:Be.start,end:Be.end})+"): itâ€™s not open");return Ze.position.end=td(Be.end),Ze}function y(){return kfe(this.stack.pop())}function k(){l("expectingFirstListItemValue",!0)}function x(Be){if(d("expectingFirstListItemValue")){const Qe=this.stack[this.stack.length-2];Qe.start=Number.parseInt(this.sliceSerialize(Be),10),l("expectingFirstListItemValue")}}function C(){const Be=this.resume(),Qe=this.stack[this.stack.length-1];Qe.lang=Be}function D(){const Be=this.resume(),Qe=this.stack[this.stack.length-1];Qe.meta=Be}function S(){d("flowCodeInside")||(this.buffer(),l("flowCodeInside",!0))}function M(){const Be=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=Be.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),l("flowCodeInside")}function P(){const Be=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=Be.replace(/(\r?\n|\r)$/g,"")}function B(Be){const Qe=this.resume(),Ze=this.stack[this.stack.length-1];Ze.label=Qe,Ze.identifier=Cp(this.sliceSerialize(Be)).toLowerCase()}function $(){const Be=this.resume(),Qe=this.stack[this.stack.length-1];Qe.title=Be}function F(){const Be=this.resume(),Qe=this.stack[this.stack.length-1];Qe.url=Be}function N(Be){const Qe=this.stack[this.stack.length-1];if(!Qe.depth){const Ze=this.sliceSerialize(Be).length;Qe.depth=Ze}}function L(){l("setextHeadingSlurpLineEnding",!0)}function U(Be){const Qe=this.stack[this.stack.length-1];Qe.depth=this.sliceSerialize(Be).charCodeAt(0)===61?1:2}function Q(){l("setextHeadingSlurpLineEnding")}function H(Be){const Qe=this.stack[this.stack.length-1];let Ze=Qe.children[Qe.children.length-1];(!Ze||Ze.type!=="text")&&(Ze=qe(),Ze.position={start:td(Be.start)},Qe.children.push(Ze)),this.stack.push(Ze)}function z(Be){const Qe=this.stack.pop();Qe.value+=this.sliceSerialize(Be),Qe.position.end=td(Be.end)}function G(Be){const Qe=this.stack[this.stack.length-1];if(d("atHardBreak")){const Ze=Qe.children[Qe.children.length-1];Ze.position.end=td(Be.end),l("atHardBreak");return}!d("setextHeadingSlurpLineEnding")&&r.canContainEols.includes(Qe.type)&&(H.call(this,Be),z.call(this,Be))}function R(){l("atHardBreak",!0)}function ne(){const Be=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=Be}function ue(){const Be=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=Be}function ie(){const Be=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=Be}function oe(){const Be=this.stack[this.stack.length-1];if(d("inReference")){const Qe=d("referenceType")||"shortcut";Be.type+="Reference",Be.referenceType=Qe,delete Be.url,delete Be.title}else delete Be.identifier,delete Be.label;l("referenceType")}function ye(){const Be=this.stack[this.stack.length-1];if(d("inReference")){const Qe=d("referenceType")||"shortcut";Be.type+="Reference",Be.referenceType=Qe,delete Be.url,delete Be.title}else delete Be.identifier,delete Be.label;l("referenceType")}function re(Be){const Qe=this.sliceSerialize(Be),Ze=this.stack[this.stack.length-2];Ze.label=bme(Qe),Ze.identifier=Cp(Qe).toLowerCase()}function Ce(){const Be=this.stack[this.stack.length-1],Qe=this.resume(),Ze=this.stack[this.stack.length-1];if(l("inReference",!0),Ze.type==="link"){const Ct=Be.children;Ze.children=Ct}else Ze.alt=Qe}function X(){const Be=this.resume(),Qe=this.stack[this.stack.length-1];Qe.url=Be}function J(){const Be=this.resume(),Qe=this.stack[this.stack.length-1];Qe.title=Be}function fe(){l("inReference")}function le(){l("referenceType","collapsed")}function ae(Be){const Qe=this.resume(),Ze=this.stack[this.stack.length-1];Ze.label=Qe,Ze.identifier=Cp(this.sliceSerialize(Be)).toLowerCase(),l("referenceType","full")}function Se(Be){l("characterReferenceType",Be.type)}function xe(Be){const Qe=this.sliceSerialize(Be),Ze=d("characterReferenceType");let Ct;Ze?(Ct=y8(Qe,Ze==="characterReferenceMarkerNumeric"?10:16),l("characterReferenceType")):Ct=HC(Qe);const dt=this.stack.pop();dt.value+=Ct,dt.position.end=td(Be.end)}function Te(Be){z.call(this,Be);const Qe=this.stack[this.stack.length-1];Qe.url=this.sliceSerialize(Be)}function Ye(Be){z.call(this,Be);const Qe=this.stack[this.stack.length-1];Qe.url="mailto:"+this.sliceSerialize(Be)}function We(){return{type:"blockquote",children:[]}}function Je(){return{type:"code",lang:null,meta:null,value:""}}function Ue(){return{type:"inlineCode",value:""}}function Z(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function _e(){return{type:"emphasis",children:[]}}function he(){return{type:"heading",depth:void 0,children:[]}}function be(){return{type:"break"}}function pe(){return{type:"html",value:""}}function Ae(){return{type:"image",title:null,url:"",alt:null}}function Oe(){return{type:"link",title:null,url:"",children:[]}}function Me(Be){return{type:"list",ordered:Be.type==="listOrdered",start:null,spread:Be._spread,children:[]}}function Ie(Be){return{type:"listItem",spread:Be._spread,checked:null,children:[]}}function $e(){return{type:"paragraph",children:[]}}function Ke(){return{type:"strong",children:[]}}function qe(){return{type:"text",value:""}}function it(){return{type:"thematicBreak"}}}function td(t){return{line:t.line,column:t.column,offset:t.offset}}function A8(t,r){let n=-1;for(;++n<r.length;){const o=r[n];Array.isArray(o)?A8(t,o):vme(t,o)}}function vme(t,r){let n;for(n in r)if(v8.call(r,n)){if(n==="canContainEols"){const o=r[n];o&&t[n].push(...o)}else if(n==="transforms"){const o=r[n];o&&t[n].push(...o)}else if(n==="enter"||n==="exit"){const o=r[n];o&&Object.assign(t[n],o)}}}function fM(t,r){throw t?new Error("Cannot close `"+t.type+"` ("+Tg({start:t.start,end:t.end})+"): a different token (`"+r.type+"`, "+Tg({start:r.start,end:r.end})+") is open"):new Error("Cannot close document, a token (`"+r.type+"`, "+Tg({start:r.start,end:r.end})+") is still open")}function Ame(t){Object.assign(this,{Parser:n=>{const o=this.data("settings");return wme(n,Object.assign({},o,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function _me(t,r){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(r),!0)};return t.patch(r,n),t.applyData(r,n)}function Cme(t,r){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(r,n),[t.applyData(r,n),{type:"text",value:`
`}]}function xme(t,r){const n=r.value?r.value+`
`:"",o=r.lang?r.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,s={};o&&(s.className=["language-"+o]);let l={type:"element",tagName:"code",properties:s,children:[{type:"text",value:n}]};return r.meta&&(l.data={meta:r.meta}),t.patch(r,l),l=t.applyData(r,l),l={type:"element",tagName:"pre",properties:{},children:[l]},t.patch(r,l),l}function Sme(t,r){const n={type:"element",tagName:"del",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}function Eme(t,r){const n={type:"element",tagName:"em",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}function Wp(t){const r=[];let n=-1,o=0,s=0;for(;++n<t.length;){const l=t.charCodeAt(n);let d="";if(l===37&&ta(t.charCodeAt(n+1))&&ta(t.charCodeAt(n+2)))s=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(d=String.fromCharCode(l));else if(l>55295&&l<57344){const h=t.charCodeAt(n+1);l<56320&&h>56319&&h<57344?(d=String.fromCharCode(l,h),s=1):d="ï¿½"}else d=String.fromCharCode(l);d&&(r.push(t.slice(o,n),encodeURIComponent(d)),o=n+s+1,d=""),s&&(n+=s,s=0)}return r.join("")+t.slice(o)}function _8(t,r){const n=String(r.identifier).toUpperCase(),o=Wp(n.toLowerCase()),s=t.footnoteOrder.indexOf(n);let l;s===-1?(t.footnoteOrder.push(n),t.footnoteCounts[n]=1,l=t.footnoteOrder.length):(t.footnoteCounts[n]++,l=s+1);const d=t.footnoteCounts[n],h={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fn-"+o,id:t.clobberPrefix+"fnref-"+o+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};t.patch(r,h);const p={type:"element",tagName:"sup",properties:{},children:[h]};return t.patch(r,p),t.applyData(r,p)}function Dme(t,r){const n=t.footnoteById;let o=1;for(;o in n;)o++;const s=String(o);return n[s]={type:"footnoteDefinition",identifier:s,children:[{type:"paragraph",children:r.children}],position:r.position},_8(t,{type:"footnoteReference",identifier:s,position:r.position})}function Ime(t,r){const n={type:"element",tagName:"h"+r.depth,properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}function Tme(t,r){if(t.dangerous){const n={type:"raw",value:r.value};return t.patch(r,n),t.applyData(r,n)}return null}function C8(t,r){const n=r.referenceType;let o="]";if(n==="collapsed"?o+="[]":n==="full"&&(o+="["+(r.label||r.identifier)+"]"),r.type==="imageReference")return{type:"text",value:"!["+r.alt+o};const s=t.all(r),l=s[0];l&&l.type==="text"?l.value="["+l.value:s.unshift({type:"text",value:"["});const d=s[s.length-1];return d&&d.type==="text"?d.value+=o:s.push({type:"text",value:o}),s}function Nme(t,r){const n=t.definition(r.identifier);if(!n)return C8(t,r);const o={src:Wp(n.url||""),alt:r.alt};n.title!==null&&n.title!==void 0&&(o.title=n.title);const s={type:"element",tagName:"img",properties:o,children:[]};return t.patch(r,s),t.applyData(r,s)}function Mme(t,r){const n={src:Wp(r.url)};r.alt!==null&&r.alt!==void 0&&(n.alt=r.alt),r.title!==null&&r.title!==void 0&&(n.title=r.title);const o={type:"element",tagName:"img",properties:n,children:[]};return t.patch(r,o),t.applyData(r,o)}function Pme(t,r){const n={type:"text",value:r.value.replace(/\r?\n|\r/g," ")};t.patch(r,n);const o={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(r,o),t.applyData(r,o)}function Ome(t,r){const n=t.definition(r.identifier);if(!n)return C8(t,r);const o={href:Wp(n.url||"")};n.title!==null&&n.title!==void 0&&(o.title=n.title);const s={type:"element",tagName:"a",properties:o,children:t.all(r)};return t.patch(r,s),t.applyData(r,s)}function jme(t,r){const n={href:Wp(r.url)};r.title!==null&&r.title!==void 0&&(n.title=r.title);const o={type:"element",tagName:"a",properties:n,children:t.all(r)};return t.patch(r,o),t.applyData(r,o)}function Lme(t,r,n){const o=t.all(r),s=n?Bme(n):x8(r),l={},d=[];if(typeof r.checked=="boolean"){const b=o[0];let v;b&&b.type==="element"&&b.tagName==="p"?v=b:(v={type:"element",tagName:"p",properties:{},children:[]},o.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:r.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let h=-1;for(;++h<o.length;){const b=o[h];(s||h!==0||b.type!=="element"||b.tagName!=="p")&&d.push({type:"text",value:`
`}),b.type==="element"&&b.tagName==="p"&&!s?d.push(...b.children):d.push(b)}const p=o[o.length-1];p&&(s||p.type!=="element"||p.tagName!=="p")&&d.push({type:"text",value:`
`});const g={type:"element",tagName:"li",properties:l,children:d};return t.patch(r,g),t.applyData(r,g)}function Bme(t){let r=!1;if(t.type==="list"){r=t.spread||!1;const n=t.children;let o=-1;for(;!r&&++o<n.length;)r=x8(n[o])}return r}function x8(t){const r=t.spread;return r??t.children.length>1}function Rme(t,r){const n={},o=t.all(r);let s=-1;for(typeof r.start=="number"&&r.start!==1&&(n.start=r.start);++s<o.length;){const d=o[s];if(d.type==="element"&&d.tagName==="li"&&d.properties&&Array.isArray(d.properties.className)&&d.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:r.ordered?"ol":"ul",properties:n,children:t.wrap(o,!0)};return t.patch(r,l),t.applyData(r,l)}function Fme(t,r){const n={type:"element",tagName:"p",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}function zme(t,r){const n={type:"root",children:t.wrap(t.all(r))};return t.patch(r,n),t.applyData(r,n)}function Ume(t,r){const n={type:"element",tagName:"strong",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}const GC=S8("start"),YC=S8("end");function qme(t){return{start:GC(t),end:YC(t)}}function S8(t){return r;function r(n){const o=n&&n.position&&n.position[t]||{};return{line:o.line||null,column:o.column||null,offset:o.offset>-1?o.offset:null}}}function Vme(t,r){const n=t.all(r),o=n.shift(),s=[];if(o){const d={type:"element",tagName:"thead",properties:{},children:t.wrap([o],!0)};t.patch(r.children[0],d),s.push(d)}if(n.length>0){const d={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},h=GC(r.children[1]),p=YC(r.children[r.children.length-1]);h.line&&p.line&&(d.position={start:h,end:p}),s.push(d)}const l={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(r,l),t.applyData(r,l)}function $me(t,r,n){const o=n?n.children:void 0,l=(o?o.indexOf(r):1)===0?"th":"td",d=n&&n.type==="table"?n.align:void 0,h=d?d.length:r.children.length;let p=-1;const g=[];for(;++p<h;){const v=r.children[p],y={},k=d?d[p]:void 0;k&&(y.align=k);let x={type:"element",tagName:l,properties:y,children:[]};v&&(x.children=t.all(v),t.patch(v,x),x=t.applyData(r,x)),g.push(x)}const b={type:"element",tagName:"tr",properties:{},children:t.wrap(g,!0)};return t.patch(r,b),t.applyData(r,b)}function Hme(t,r){const n={type:"element",tagName:"td",properties:{},children:t.all(r)};return t.patch(r,n),t.applyData(r,n)}const pM=9,mM=32;function Wme(t){const r=String(t),n=/\r?\n|\r/g;let o=n.exec(r),s=0;const l=[];for(;o;)l.push(gM(r.slice(s,o.index),s>0,!0),o[0]),s=o.index+o[0].length,o=n.exec(r);return l.push(gM(r.slice(s),s>0,!1)),l.join("")}function gM(t,r,n){let o=0,s=t.length;if(r){let l=t.codePointAt(o);for(;l===pM||l===mM;)o++,l=t.codePointAt(o)}if(n){let l=t.codePointAt(s-1);for(;l===pM||l===mM;)s--,l=t.codePointAt(s-1)}return s>o?t.slice(o,s):""}function Gme(t,r){const n={type:"text",value:Wme(String(r.value))};return t.patch(r,n),t.applyData(r,n)}function Yme(t,r){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(r,n),t.applyData(r,n)}const Kme={blockquote:_me,break:Cme,code:xme,delete:Sme,emphasis:Eme,footnoteReference:_8,footnote:Dme,heading:Ime,html:Tme,imageReference:Nme,image:Mme,inlineCode:Pme,linkReference:Ome,link:jme,listItem:Lme,list:Rme,paragraph:Fme,root:zme,strong:Ume,table:Vme,tableCell:Hme,tableRow:$me,text:Gme,thematicBreak:Yme,toml:uk,yaml:uk,definition:uk,footnoteDefinition:uk};function uk(){return null}const E8=function(t){if(t==null)return Xme;if(typeof t=="string")return Zme(t);if(typeof t=="object")return Array.isArray(t)?Qme(t):Jme(t);if(typeof t=="function")return gw(t);throw new Error("Expected function, string, or object as test")};function Qme(t){const r=[];let n=-1;for(;++n<t.length;)r[n]=E8(t[n]);return gw(o);function o(...s){let l=-1;for(;++l<r.length;)if(r[l].call(this,...s))return!0;return!1}}function Jme(t){return gw(r);function r(n){let o;for(o in t)if(n[o]!==t[o])return!1;return!0}}function Zme(t){return gw(r);function r(n){return n&&n.type===t}}function gw(t){return r;function r(n,...o){return!!(n&&typeof n=="object"&&"type"in n&&t.call(this,n,...o))}}function Xme(){return!0}const ege=!0,bM=!1,tge="skip",nge=function(t,r,n,o){typeof r=="function"&&typeof n!="function"&&(o=n,n=r,r=null);const s=E8(r),l=o?-1:1;d(t,void 0,[])();function d(h,p,g){const b=h&&typeof h=="object"?h:{};if(typeof b.type=="string"){const y=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(h.type+(y?"<"+y+">":""))+")"})}return v;function v(){let y=[],k,x,C;if((!r||s(h,p,g[g.length-1]||null))&&(y=rge(n(h,g)),y[0]===bM))return y;if(h.children&&y[0]!==tge)for(x=(o?h.children.length:-1)+l,C=g.concat(h);x>-1&&x<h.children.length;){if(k=d(h.children[x],x,C)(),k[0]===bM)return k;x=typeof k[1]=="number"?k[1]:x+l}return y}}};function rge(t){return Array.isArray(t)?t:typeof t=="number"?[ege,t]:[t]}const KC=function(t,r,n,o){typeof r=="function"&&typeof n!="function"&&(o=n,n=r,r=null),nge(t,r,s,o);function s(l,d){const h=d[d.length-1];return n(l,h?h.children.indexOf(l):null,h)}};function ige(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}const kM={}.hasOwnProperty;function oge(t){const r=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return KC(t,"definition",o=>{const s=wM(o.identifier);s&&!kM.call(r,s)&&(r[s]=o)}),n;function n(o){const s=wM(o);return s&&kM.call(r,s)?r[s]:null}}function wM(t){return String(t||"").toUpperCase()}const w1={}.hasOwnProperty;function sge(t,r){const n=r||{},o=n.allowDangerousHtml||!1,s={};return d.dangerous=o,d.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,d.footnoteLabel=n.footnoteLabel||"Footnotes",d.footnoteLabelTagName=n.footnoteLabelTagName||"h2",d.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},d.footnoteBackLabel=n.footnoteBackLabel||"Back to content",d.unknownHandler=n.unknownHandler,d.passThrough=n.passThrough,d.handlers={...Kme,...n.handlers},d.definition=oge(t),d.footnoteById=s,d.footnoteOrder=[],d.footnoteCounts={},d.patch=age,d.applyData=lge,d.one=h,d.all=p,d.wrap=uge,d.augment=l,KC(t,"footnoteDefinition",g=>{const b=String(g.identifier).toUpperCase();w1.call(s,b)||(s[b]=g)}),d;function l(g,b){if(g&&"data"in g&&g.data){const v=g.data;v.hName&&(b.type!=="element"&&(b={type:"element",tagName:"",properties:{},children:[]}),b.tagName=v.hName),b.type==="element"&&v.hProperties&&(b.properties={...b.properties,...v.hProperties}),"children"in b&&b.children&&v.hChildren&&(b.children=v.hChildren)}if(g){const v="type"in g?g:{position:g};ige(v)||(b.position={start:GC(v),end:YC(v)})}return b}function d(g,b,v,y){return Array.isArray(v)&&(y=v,v={}),l(g,{type:"element",tagName:b,properties:v||{},children:y||[]})}function h(g,b){return D8(d,g,b)}function p(g){return QC(d,g)}}function age(t,r){t.position&&(r.position=qme(t))}function lge(t,r){let n=r;if(t&&t.data){const o=t.data.hName,s=t.data.hChildren,l=t.data.hProperties;typeof o=="string"&&(n.type==="element"?n.tagName=o:n={type:"element",tagName:o,properties:{},children:[]}),n.type==="element"&&l&&(n.properties={...n.properties,...l}),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function D8(t,r,n){const o=r&&r.type;if(!o)throw new Error("Expected node, got `"+r+"`");return w1.call(t.handlers,o)?t.handlers[o](t,r,n):t.passThrough&&t.passThrough.includes(o)?"children"in r?{...r,children:QC(t,r)}:r:t.unknownHandler?t.unknownHandler(t,r,n):cge(t,r)}function QC(t,r){const n=[];if("children"in r){const o=r.children;let s=-1;for(;++s<o.length;){const l=D8(t,o[s],r);if(l){if(s&&o[s-1].type==="break"&&(!Array.isArray(l)&&l.type==="text"&&(l.value=l.value.replace(/^\s+/,"")),!Array.isArray(l)&&l.type==="element")){const d=l.children[0];d&&d.type==="text"&&(d.value=d.value.replace(/^\s+/,""))}Array.isArray(l)?n.push(...l):n.push(l)}}}return n}function cge(t,r){const n=r.data||{},o="value"in r&&!(w1.call(n,"hProperties")||w1.call(n,"hChildren"))?{type:"text",value:r.value}:{type:"element",tagName:"div",properties:{},children:QC(t,r)};return t.patch(r,o),t.applyData(r,o)}function uge(t,r){const n=[];let o=-1;for(r&&n.push({type:"text",value:`
`});++o<t.length;)o&&n.push({type:"text",value:`
`}),n.push(t[o]);return r&&t.length>0&&n.push({type:"text",value:`
`}),n}function dge(t){const r=[];let n=-1;for(;++n<t.footnoteOrder.length;){const o=t.footnoteById[t.footnoteOrder[n]];if(!o)continue;const s=t.all(o),l=String(o.identifier).toUpperCase(),d=Wp(l.toLowerCase());let h=0;const p=[];for(;++h<=t.footnoteCounts[l];){const v={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fnref-"+d+(h>1?"-"+h:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:t.footnoteBackLabel},children:[{type:"text",value:"â†©"}]};h>1&&v.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(h)}]}),p.length>0&&p.push({type:"text",value:" "}),p.push(v)}const g=s[s.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const v=g.children[g.children.length-1];v&&v.type==="text"?v.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...p)}else s.push(...p);const b={type:"element",tagName:"li",properties:{id:t.clobberPrefix+"fn-"+d},children:t.wrap(s,!0)};t.patch(o,b),r.push(b)}if(r.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:t.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(t.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:t.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(r,!0)},{type:"text",value:`
`}]}}function I8(t,r){const n=sge(t,r),o=n.one(t,null),s=dge(n);return s&&o.children.push({type:"text",value:`
`},s),Array.isArray(o)?{type:"root",children:o}:o}const hge=function(t,r){return t&&"run"in t?fge(t,r):pge(t||r)};function fge(t,r){return(n,o,s)=>{t.run(I8(n,r),o,l=>{s(l)})}}function pge(t){return r=>I8(r,t)}class kb{constructor(r,n,o){this.property=r,this.normal=n,o&&(this.space=o)}}kb.prototype.property={};kb.prototype.normal={};kb.prototype.space=null;function T8(t,r){const n={},o={};let s=-1;for(;++s<t.length;)Object.assign(n,t[s].property),Object.assign(o,t[s].normal);return new kb(n,o,r)}function D_(t){return t.toLowerCase()}class Ha{constructor(r,n){this.property=r,this.attribute=n}}Ha.prototype.space=null;Ha.prototype.boolean=!1;Ha.prototype.booleanish=!1;Ha.prototype.overloadedBoolean=!1;Ha.prototype.number=!1;Ha.prototype.commaSeparated=!1;Ha.prototype.spaceSeparated=!1;Ha.prototype.commaOrSpaceSeparated=!1;Ha.prototype.mustUseProperty=!1;Ha.prototype.defined=!1;let mge=0;const _n=nf(),zi=nf(),N8=nf(),Tt=nf(),Tr=nf(),xp=nf(),Ws=nf();function nf(){return 2**++mge}const I_=Object.freeze(Object.defineProperty({__proto__:null,boolean:_n,booleanish:zi,commaOrSpaceSeparated:Ws,commaSeparated:xp,number:Tt,overloadedBoolean:N8,spaceSeparated:Tr},Symbol.toStringTag,{value:"Module"})),xA=Object.keys(I_);class JC extends Ha{constructor(r,n,o,s){let l=-1;if(super(r,n),yM(this,"space",s),typeof o=="number")for(;++l<xA.length;){const d=xA[l];yM(this,xA[l],(o&I_[d])===I_[d])}}}JC.prototype.defined=!0;function yM(t,r,n){n&&(t[r]=n)}const gge={}.hasOwnProperty;function Gp(t){const r={},n={};let o;for(o in t.properties)if(gge.call(t.properties,o)){const s=t.properties[o],l=new JC(o,t.transform(t.attributes||{},o),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(o)&&(l.mustUseProperty=!0),r[o]=l,n[D_(o)]=o,n[D_(l.attribute)]=o}return new kb(r,n,t.space)}const M8=Gp({space:"xlink",transform(t,r){return"xlink:"+r.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),P8=Gp({space:"xml",transform(t,r){return"xml:"+r.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function O8(t,r){return r in t?t[r]:r}function j8(t,r){return O8(t,r.toLowerCase())}const L8=Gp({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:j8,properties:{xmlns:null,xmlnsXLink:null}}),B8=Gp({transform(t,r){return r==="role"?r:"aria-"+r.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:zi,ariaAutoComplete:null,ariaBusy:zi,ariaChecked:zi,ariaColCount:Tt,ariaColIndex:Tt,ariaColSpan:Tt,ariaControls:Tr,ariaCurrent:null,ariaDescribedBy:Tr,ariaDetails:null,ariaDisabled:zi,ariaDropEffect:Tr,ariaErrorMessage:null,ariaExpanded:zi,ariaFlowTo:Tr,ariaGrabbed:zi,ariaHasPopup:null,ariaHidden:zi,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Tr,ariaLevel:Tt,ariaLive:null,ariaModal:zi,ariaMultiLine:zi,ariaMultiSelectable:zi,ariaOrientation:null,ariaOwns:Tr,ariaPlaceholder:null,ariaPosInSet:Tt,ariaPressed:zi,ariaReadOnly:zi,ariaRelevant:null,ariaRequired:zi,ariaRoleDescription:Tr,ariaRowCount:Tt,ariaRowIndex:Tt,ariaRowSpan:Tt,ariaSelected:zi,ariaSetSize:Tt,ariaSort:null,ariaValueMax:Tt,ariaValueMin:Tt,ariaValueNow:Tt,ariaValueText:null,role:null}}),bge=Gp({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:j8,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:xp,acceptCharset:Tr,accessKey:Tr,action:null,allow:null,allowFullScreen:_n,allowPaymentRequest:_n,allowUserMedia:_n,alt:null,as:null,async:_n,autoCapitalize:null,autoComplete:Tr,autoFocus:_n,autoPlay:_n,blocking:Tr,capture:null,charSet:null,checked:_n,cite:null,className:Tr,cols:Tt,colSpan:null,content:null,contentEditable:zi,controls:_n,controlsList:Tr,coords:Tt|xp,crossOrigin:null,data:null,dateTime:null,decoding:null,default:_n,defer:_n,dir:null,dirName:null,disabled:_n,download:N8,draggable:zi,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:_n,formTarget:null,headers:Tr,height:Tt,hidden:_n,high:Tt,href:null,hrefLang:null,htmlFor:Tr,httpEquiv:Tr,id:null,imageSizes:null,imageSrcSet:null,inert:_n,inputMode:null,integrity:null,is:null,isMap:_n,itemId:null,itemProp:Tr,itemRef:Tr,itemScope:_n,itemType:Tr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:_n,low:Tt,manifest:null,max:null,maxLength:Tt,media:null,method:null,min:null,minLength:Tt,multiple:_n,muted:_n,name:null,nonce:null,noModule:_n,noValidate:_n,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:_n,optimum:Tt,pattern:null,ping:Tr,placeholder:null,playsInline:_n,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:_n,referrerPolicy:null,rel:Tr,required:_n,reversed:_n,rows:Tt,rowSpan:Tt,sandbox:Tr,scope:null,scoped:_n,seamless:_n,selected:_n,shadowRootClonable:_n,shadowRootDelegatesFocus:_n,shadowRootMode:null,shape:null,size:Tt,sizes:null,slot:null,span:Tt,spellCheck:zi,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Tt,step:null,style:null,tabIndex:Tt,target:null,title:null,translate:null,type:null,typeMustMatch:_n,useMap:null,value:zi,width:Tt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Tr,axis:null,background:null,bgColor:null,border:Tt,borderColor:null,bottomMargin:Tt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:_n,declare:_n,event:null,face:null,frame:null,frameBorder:null,hSpace:Tt,leftMargin:Tt,link:null,longDesc:null,lowSrc:null,marginHeight:Tt,marginWidth:Tt,noResize:_n,noHref:_n,noShade:_n,noWrap:_n,object:null,profile:null,prompt:null,rev:null,rightMargin:Tt,rules:null,scheme:null,scrolling:zi,standby:null,summary:null,text:null,topMargin:Tt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Tt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:_n,disableRemotePlayback:_n,prefix:null,property:null,results:Tt,security:null,unselectable:null}}),kge=Gp({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:O8,properties:{about:Ws,accentHeight:Tt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Tt,amplitude:Tt,arabicForm:null,ascent:Tt,attributeName:null,attributeType:null,azimuth:Tt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Tt,by:null,calcMode:null,capHeight:Tt,className:Tr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Tt,diffuseConstant:Tt,direction:null,display:null,dur:null,divisor:Tt,dominantBaseline:null,download:_n,dx:null,dy:null,edgeMode:null,editable:null,elevation:Tt,enableBackground:null,end:null,event:null,exponent:Tt,externalResourcesRequired:null,fill:null,fillOpacity:Tt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:xp,g2:xp,glyphName:xp,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Tt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Tt,horizOriginX:Tt,horizOriginY:Tt,id:null,ideographic:Tt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Tt,k:Tt,k1:Tt,k2:Tt,k3:Tt,k4:Tt,kernelMatrix:Ws,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Tt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Tt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Tt,overlineThickness:Tt,paintOrder:null,panose1:null,path:null,pathLength:Tt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Tr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Tt,pointsAtY:Tt,pointsAtZ:Tt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ws,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ws,rev:Ws,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ws,requiredFeatures:Ws,requiredFonts:Ws,requiredFormats:Ws,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Tt,specularExponent:Tt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Tt,strikethroughThickness:Tt,string:null,stroke:null,strokeDashArray:Ws,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Tt,strokeOpacity:Tt,strokeWidth:null,style:null,surfaceScale:Tt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ws,tabIndex:Tt,tableValues:null,target:null,targetX:Tt,targetY:Tt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ws,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Tt,underlineThickness:Tt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Tt,values:null,vAlphabetic:Tt,vMathematical:Tt,vectorEffect:null,vHanging:Tt,vIdeographic:Tt,version:null,vertAdvY:Tt,vertOriginX:Tt,vertOriginY:Tt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Tt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),wge=/^data[-\w.:]+$/i,vM=/-[a-z]/g,yge=/[A-Z]/g;function vge(t,r){const n=D_(r);let o=r,s=Ha;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&wge.test(r)){if(r.charAt(4)==="-"){const l=r.slice(5).replace(vM,_ge);o="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=r.slice(4);if(!vM.test(l)){let d=l.replace(yge,Age);d.charAt(0)!=="-"&&(d="-"+d),r="data"+d}}s=JC}return new s(o,r)}function Age(t){return"-"+t.toLowerCase()}function _ge(t){return t.charAt(1).toUpperCase()}const AM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Cge=T8([P8,M8,L8,B8,bge],"html"),xge=T8([P8,M8,L8,B8,kge],"svg");function Sge(t){if(t.allowedElements&&t.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(t.allowedElements||t.disallowedElements||t.allowElement)return r=>{KC(r,"element",(n,o,s)=>{const l=s;let d;if(t.allowedElements?d=!t.allowedElements.includes(n.tagName):t.disallowedElements&&(d=t.disallowedElements.includes(n.tagName)),!d&&t.allowElement&&typeof o=="number"&&(d=!t.allowElement(n,o,l)),d&&typeof o=="number")return t.unwrapDisallowed&&n.children?l.children.splice(o,1,...n.children):l.children.splice(o,1),o})}}var SA={exports:{}},ar={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _M;function Ege(){if(_M)return ar;_M=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.server_context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function C(D){if(typeof D=="object"&&D!==null){var S=D.$$typeof;switch(S){case t:switch(D=D.type,D){case n:case s:case o:case g:case b:return D;default:switch(D=D&&D.$$typeof,D){case h:case d:case p:case y:case v:case l:return D;default:return S}}case r:return S}}}return ar.ContextConsumer=d,ar.ContextProvider=l,ar.Element=t,ar.ForwardRef=p,ar.Fragment=n,ar.Lazy=y,ar.Memo=v,ar.Portal=r,ar.Profiler=s,ar.StrictMode=o,ar.Suspense=g,ar.SuspenseList=b,ar.isAsyncMode=function(){return!1},ar.isConcurrentMode=function(){return!1},ar.isContextConsumer=function(D){return C(D)===d},ar.isContextProvider=function(D){return C(D)===l},ar.isElement=function(D){return typeof D=="object"&&D!==null&&D.$$typeof===t},ar.isForwardRef=function(D){return C(D)===p},ar.isFragment=function(D){return C(D)===n},ar.isLazy=function(D){return C(D)===y},ar.isMemo=function(D){return C(D)===v},ar.isPortal=function(D){return C(D)===r},ar.isProfiler=function(D){return C(D)===s},ar.isStrictMode=function(D){return C(D)===o},ar.isSuspense=function(D){return C(D)===g},ar.isSuspenseList=function(D){return C(D)===b},ar.isValidElementType=function(D){return typeof D=="string"||typeof D=="function"||D===n||D===s||D===o||D===g||D===b||D===k||typeof D=="object"&&D!==null&&(D.$$typeof===y||D.$$typeof===v||D.$$typeof===l||D.$$typeof===d||D.$$typeof===p||D.$$typeof===x||D.getModuleId!==void 0)},ar.typeOf=C,ar}var CM;function Dge(){return CM||(CM=1,SA.exports=Ege()),SA.exports}var Ige=Dge();const Tge=bu(Ige);function Nge(t){const r=t&&typeof t=="object"&&t.type==="text"?t.value||"":t;return typeof r=="string"&&r.replace(/[ \t\n\f\r]/g,"")===""}function Mge(t){return t.join(" ").trim()}function Pge(t,r){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var dk={exports:{}},EA,xM;function Oge(){if(xM)return EA;xM=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,n=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,d=/^[;\s]*/,h=/^\s+|\s+$/g,p=`
`,g="/",b="*",v="",y="comment",k="declaration";EA=function(C,D){if(typeof C!="string")throw new TypeError("First argument must be a string");if(!C)return[];D=D||{};var S=1,M=1;function P(G){var R=G.match(r);R&&(S+=R.length);var ne=G.lastIndexOf(p);M=~ne?G.length-ne:M+G.length}function B(){var G={line:S,column:M};return function(R){return R.position=new $(G),L(),R}}function $(G){this.start=G,this.end={line:S,column:M},this.source=D.source}$.prototype.content=C;function F(G){var R=new Error(D.source+":"+S+":"+M+": "+G);if(R.reason=G,R.filename=D.source,R.line=S,R.column=M,R.source=C,!D.silent)throw R}function N(G){var R=G.exec(C);if(R){var ne=R[0];return P(ne),C=C.slice(ne.length),R}}function L(){N(n)}function U(G){var R;for(G=G||[];R=Q();)R!==!1&&G.push(R);return G}function Q(){var G=B();if(!(g!=C.charAt(0)||b!=C.charAt(1))){for(var R=2;v!=C.charAt(R)&&(b!=C.charAt(R)||g!=C.charAt(R+1));)++R;if(R+=2,v===C.charAt(R-1))return F("End of comment missing");var ne=C.slice(2,R-2);return M+=2,P(ne),C=C.slice(R),M+=2,G({type:y,comment:ne})}}function H(){var G=B(),R=N(o);if(R){if(Q(),!N(s))return F("property missing ':'");var ne=N(l),ue=G({type:k,property:x(R[0].replace(t,v)),value:ne?x(ne[0].replace(t,v)):v});return N(d),ue}}function z(){var G=[];U(G);for(var R;R=H();)R!==!1&&(G.push(R),U(G));return G}return L(),z()};function x(C){return C?C.replace(h,v):v}return EA}var SM;function jge(){if(SM)return dk.exports;SM=1;var t=Oge();function r(n,o){var s=null;if(!n||typeof n!="string")return s;for(var l,d=t(n),h=typeof o=="function",p,g,b=0,v=d.length;b<v;b++)l=d[b],p=l.property,g=l.value,h?o(p,g,l):g&&(s||(s={}),s[p]=g);return s}return dk.exports=r,dk.exports.default=r,dk.exports}var Lge=jge();const Bge=bu(Lge),T_={}.hasOwnProperty,Rge=new Set(["table","thead","tbody","tfoot","tr"]);function R8(t,r){const n=[];let o=-1,s;for(;++o<r.children.length;)s=r.children[o],s.type==="element"?n.push(Fge(t,s,o,r)):s.type==="text"?(r.type!=="element"||!Rge.has(r.tagName)||!Nge(s))&&n.push(s.value):s.type==="raw"&&!t.options.skipHtml&&n.push(s.value);return n}function Fge(t,r,n,o){const s=t.options,l=s.transformLinkUri===void 0?Khe:s.transformLinkUri,d=t.schema,h=r.tagName,p={};let g=d,b;if(d.space==="html"&&h==="svg"&&(g=xge,t.schema=g),r.properties)for(b in r.properties)T_.call(r.properties,b)&&Uge(p,b,r.properties[b],t);(h==="ol"||h==="ul")&&t.listDepth++;const v=R8(t,r);(h==="ol"||h==="ul")&&t.listDepth--,t.schema=d;const y=r.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},k=s.components&&T_.call(s.components,h)?s.components[h]:h,x=typeof k=="string"||k===at.Fragment;if(!Tge.isValidElementType(k))throw new TypeError(`Component for name \`${h}\` not defined or is not renderable`);if(p.key=n,h==="a"&&s.linkTarget&&(p.target=typeof s.linkTarget=="function"?s.linkTarget(String(p.href||""),r.children,typeof p.title=="string"?p.title:null):s.linkTarget),h==="a"&&l&&(p.href=l(String(p.href||""),r.children,typeof p.title=="string"?p.title:null)),!x&&h==="code"&&o.type==="element"&&o.tagName!=="pre"&&(p.inline=!0),!x&&(h==="h1"||h==="h2"||h==="h3"||h==="h4"||h==="h5"||h==="h6")&&(p.level=Number.parseInt(h.charAt(1),10)),h==="img"&&s.transformImageUri&&(p.src=s.transformImageUri(String(p.src||""),String(p.alt||""),typeof p.title=="string"?p.title:null)),!x&&h==="li"&&o.type==="element"){const C=zge(r);p.checked=C&&C.properties?!!C.properties.checked:null,p.index=DA(o,r),p.ordered=o.tagName==="ol"}return!x&&(h==="ol"||h==="ul")&&(p.ordered=h==="ol",p.depth=t.listDepth),(h==="td"||h==="th")&&(p.align&&(p.style||(p.style={}),p.style.textAlign=p.align,delete p.align),x||(p.isHeader=h==="th")),!x&&h==="tr"&&o.type==="element"&&(p.isHeader=o.tagName==="thead"),s.sourcePos&&(p["data-sourcepos"]=$ge(y)),!x&&s.rawSourcePos&&(p.sourcePosition=r.position),!x&&s.includeElementIndex&&(p.index=DA(o,r),p.siblingCount=DA(o)),x||(p.node=r),v.length>0?at.createElement(k,p,v):at.createElement(k,p)}function zge(t){let r=-1;for(;++r<t.children.length;){const n=t.children[r];if(n.type==="element"&&n.tagName==="input")return n}return null}function DA(t,r){let n=-1,o=0;for(;++n<t.children.length&&t.children[n]!==r;)t.children[n].type==="element"&&o++;return o}function Uge(t,r,n,o){const s=vge(o.schema,r);let l=n;l==null||l!==l||(Array.isArray(l)&&(l=s.commaSeparated?Pge(l):Mge(l)),s.property==="style"&&typeof l=="string"&&(l=qge(l)),s.space&&s.property?t[T_.call(AM,s.property)?AM[s.property]:s.property]=l:s.attribute&&(t[s.attribute]=l))}function qge(t){const r={};try{Bge(t,n)}catch{}return r;function n(o,s){const l=o.slice(0,4)==="-ms-"?`ms-${o.slice(4)}`:o;r[l.replace(/-([a-z])/g,Vge)]=s}}function Vge(t,r){return r.toUpperCase()}function $ge(t){return[t.start.line,":",t.start.column,"-",t.end.line,":",t.end.column].map(String).join("")}const EM={}.hasOwnProperty,Hge="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",hk={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function ZC(t){for(const l in hk)if(EM.call(hk,l)&&EM.call(t,l)){const d=hk[l];console.warn(`[react-markdown] Warning: please ${d.to?`use \`${d.to}\` instead of`:"remove"} \`${l}\` (see <${Hge}#${d.id}> for more info)`),delete hk[l]}const r=ffe().use(Ame).use(t.remarkPlugins||[]).use(hge,{...t.remarkRehypeOptions,allowDangerousHtml:!0}).use(t.rehypePlugins||[]).use(Sge,t),n=new a8;typeof t.children=="string"?n.value=t.children:t.children!==void 0&&t.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${t.children}\`)`);const o=r.runSync(r.parse(n),n);if(o.type!=="root")throw new TypeError("Expected a `root` node");let s=at.createElement(at.Fragment,{},R8({options:t,schema:Cge,listDepth:0},o));return t.className&&(s=at.createElement("div",{className:t.className},s)),s}ZC.propTypes={children:yn.string,className:yn.string,allowElement:yn.func,allowedElements:yn.arrayOf(yn.string),disallowedElements:yn.arrayOf(yn.string),unwrapDisallowed:yn.bool,remarkPlugins:yn.arrayOf(yn.oneOfType([yn.object,yn.func,yn.arrayOf(yn.oneOfType([yn.bool,yn.string,yn.object,yn.func,yn.arrayOf(yn.any)]))])),rehypePlugins:yn.arrayOf(yn.oneOfType([yn.object,yn.func,yn.arrayOf(yn.oneOfType([yn.bool,yn.string,yn.object,yn.func,yn.arrayOf(yn.any)]))])),sourcePos:yn.bool,rawSourcePos:yn.bool,skipHtml:yn.bool,includeElementIndex:yn.bool,transformLinkUri:yn.oneOfType([yn.func,yn.bool]),linkTarget:yn.oneOfType([yn.func,yn.string]),transformImageUri:yn.func,components:yn.object};function XC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wu(t){if(t.__esModule)return t;var r=t.default;if(typeof r=="function"){var n=function o(){return this instanceof o?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var s=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(n,o,s.get?s:{enumerable:!0,get:function(){return t[o]}})}),n}var DM={exports:{}},dg={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IM;function Wge(){if(IM)return dg;IM=1;var t=at,r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,g){var b,v={},y=null,k=null;g!==void 0&&(y=""+g),p.key!==void 0&&(y=""+p.key),p.ref!==void 0&&(k=p.ref);for(b in p)o.call(p,b)&&!l.hasOwnProperty(b)&&(v[b]=p[b]);if(h&&h.defaultProps)for(b in p=h.defaultProps,p)v[b]===void 0&&(v[b]=p[b]);return{$$typeof:r,type:h,key:y,ref:k,props:v,_owner:s.current}}return dg.Fragment=n,dg.jsx=d,dg.jsxs=d,dg}var TM;function e2(){return TM||(TM=1,DM.exports=Wge()),DM.exports}var gn=e2(),hg={},NM={exports:{}},MM;function bw(){return MM||(MM=1,function(t){function r(n){return n&&n.__esModule?n:{default:n}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(NM)),NM.exports}var PM={};function Cr(){return Cr=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Cr.apply(null,arguments)}function id(t){if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function F8(t){if(Y.isValidElement(t)||!id(t))return t;const r={};return Object.keys(t).forEach(n=>{r[n]=F8(t[n])}),r}function wc(t,r,n={clone:!0}){const o=n.clone?Cr({},t):t;return id(t)&&id(r)&&Object.keys(r).forEach(s=>{Y.isValidElement(r[s])?o[s]=r[s]:id(r[s])&&Object.prototype.hasOwnProperty.call(t,s)&&id(t[s])?o[s]=wc(t[s],r[s],n):n.clone?o[s]=id(r[s])?F8(r[s]):r[s]:o[s]=r[s]}),o}const Gge=Object.freeze(Object.defineProperty({__proto__:null,default:wc,isPlainObject:id},Symbol.toStringTag,{value:"Module"}));function Wg(t){let r="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)r+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+r+" for the full message."}const Yge=Object.freeze(Object.defineProperty({__proto__:null,default:Wg},Symbol.toStringTag,{value:"Module"}));var OM={exports:{}},Ar={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jM;function Kge(){if(jM)return Ar;jM=1;var t=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),k=Symbol.for("react.client.reference");function x(C){if(typeof C=="object"&&C!==null){var D=C.$$typeof;switch(D){case t:switch(C=C.type,C){case n:case s:case o:case p:case g:return C;default:switch(C=C&&C.$$typeof,C){case d:case h:case v:case b:return C;case l:return C;default:return D}}case r:return D}}}return Ar.ContextConsumer=l,Ar.ContextProvider=d,Ar.Element=t,Ar.ForwardRef=h,Ar.Fragment=n,Ar.Lazy=v,Ar.Memo=b,Ar.Portal=r,Ar.Profiler=s,Ar.StrictMode=o,Ar.Suspense=p,Ar.SuspenseList=g,Ar.isContextConsumer=function(C){return x(C)===l},Ar.isContextProvider=function(C){return x(C)===d},Ar.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},Ar.isForwardRef=function(C){return x(C)===h},Ar.isFragment=function(C){return x(C)===n},Ar.isLazy=function(C){return x(C)===v},Ar.isMemo=function(C){return x(C)===b},Ar.isPortal=function(C){return x(C)===r},Ar.isProfiler=function(C){return x(C)===s},Ar.isStrictMode=function(C){return x(C)===o},Ar.isSuspense=function(C){return x(C)===p},Ar.isSuspenseList=function(C){return x(C)===g},Ar.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===n||C===s||C===o||C===p||C===g||C===y||typeof C=="object"&&C!==null&&(C.$$typeof===v||C.$$typeof===b||C.$$typeof===d||C.$$typeof===l||C.$$typeof===h||C.$$typeof===k||C.getModuleId!==void 0)},Ar.typeOf=x,Ar}var LM;function Qge(){return LM||(LM=1,OM.exports=Kge()),OM.exports}var BM=Qge();const Jge=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function z8(t){const r=`${t}`.match(Jge);return r&&r[1]||""}function U8(t,r=""){return t.displayName||t.name||z8(t)||r}function RM(t,r,n){const o=U8(r);return t.displayName||(o!==""?`${n}(${o})`:n)}function Zge(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return U8(t,"Component");if(typeof t=="object")switch(t.$$typeof){case BM.ForwardRef:return RM(t,t.render,"ForwardRef");case BM.Memo:return RM(t,t.type,"memo");default:return}}}const Xge=Object.freeze(Object.defineProperty({__proto__:null,default:Zge,getFunctionName:z8},Symbol.toStringTag,{value:"Module"}));function yd(t){if(typeof t!="string")throw new Error(Wg(7));return t.charAt(0).toUpperCase()+t.slice(1)}const ebe=Object.freeze(Object.defineProperty({__proto__:null,default:yd},Symbol.toStringTag,{value:"Module"}));function tbe(...t){return t.reduce((r,n)=>n==null?r:function(...o){r.apply(this,o),n.apply(this,o)},()=>{})}function nbe(t,r=166){let n;function o(...s){const l=()=>{t.apply(this,s)};clearTimeout(n),n=setTimeout(l,r)}return o.clear=()=>{clearTimeout(n)},o}function rbe(t,r){return()=>null}function ibe(t,r){var n,o;return Y.isValidElement(t)&&r.indexOf((n=t.type.muiName)!=null?n:(o=t.type)==null||(o=o._payload)==null||(o=o.value)==null?void 0:o.muiName)!==-1}function q8(t){return t&&t.ownerDocument||document}function obe(t){return q8(t).defaultView||window}function sbe(t,r){return()=>null}function V8(t,r){typeof t=="function"?t(r):t&&(t.current=r)}const $8=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;let FM=0;function abe(t){const[r,n]=Y.useState(t),o=t||r;return Y.useEffect(()=>{r==null&&(FM+=1,n(`mui-${FM}`))},[r]),o}const zM=Y.useId;function lbe(t){if(zM!==void 0){const r=zM();return t??r}return abe(t)}function cbe(t,r,n,o,s){return null}function ube({controlled:t,default:r,name:n,state:o="value"}){const{current:s}=Y.useRef(t!==void 0),[l,d]=Y.useState(r),h=s?t:l,p=Y.useCallback(g=>{s||d(g)},[]);return[h,p]}function dbe(t){const r=Y.useRef(t);return $8(()=>{r.current=t}),Y.useRef((...n)=>(0,r.current)(...n)).current}function hbe(...t){return Y.useMemo(()=>t.every(r=>r==null)?null:r=>{t.forEach(n=>{V8(n,r)})},t)}class t2{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new t2}start(r,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},r)}}let kw=!0,N_=!1;const fbe=new t2,pbe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function mbe(t){const{type:r,tagName:n}=t;return!!(n==="INPUT"&&pbe[r]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function gbe(t){t.metaKey||t.altKey||t.ctrlKey||(kw=!0)}function IA(){kw=!1}function bbe(){this.visibilityState==="hidden"&&N_&&(kw=!0)}function kbe(t){t.addEventListener("keydown",gbe,!0),t.addEventListener("mousedown",IA,!0),t.addEventListener("pointerdown",IA,!0),t.addEventListener("touchstart",IA,!0),t.addEventListener("visibilitychange",bbe,!0)}function wbe(t){const{target:r}=t;try{return r.matches(":focus-visible")}catch{}return kw||mbe(r)}function ybe(){const t=Y.useCallback(s=>{s!=null&&kbe(s.ownerDocument)},[]),r=Y.useRef(!1);function n(){return r.current?(N_=!0,fbe.start(100,()=>{N_=!1}),r.current=!1,!0):!1}function o(s){return wbe(s)?(r.current=!0,!0):!1}return{isFocusVisibleRef:r,onFocus:o,onBlur:n,ref:t}}function M_(t,r){const n=Cr({},r);return Object.keys(t).forEach(o=>{if(o.toString().match(/^(components|slots)$/))n[o]=Cr({},t[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const s=t[o]||{},l=r[o];n[o]={},!l||!Object.keys(l)?n[o]=s:!s||!Object.keys(s)?n[o]=l:(n[o]=Cr({},l),Object.keys(s).forEach(d=>{n[o][d]=M_(s[d],l[d])}))}else n[o]===void 0&&(n[o]=t[o])}),n}function vbe(t,r,n=void 0){const o={};return Object.keys(t).forEach(s=>{o[s]=t[s].reduce((l,d)=>{if(d){const h=r(d);h!==""&&l.push(h),n&&n[d]&&l.push(n[d])}return l},[]).join(" ")}),o}const UM=t=>t,Abe=()=>{let t=UM;return{configure(r){t=r},generate(r){return t(r)},reset(){t=UM}}},H8=Abe(),_be={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function W8(t,r,n="Mui"){const o=_be[r];return o?`${n}-${o}`:`${H8.generate(t)}-${r}`}function Cbe(t,r,n="Mui"){const o={};return r.forEach(s=>{o[s]=W8(t,s,n)}),o}function xbe(t,r=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(r,Math.min(t,n))}const Sbe=Object.freeze(Object.defineProperty({__proto__:null,default:xbe},Symbol.toStringTag,{value:"Module"}));function Dd(t,r){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(r.includes(o))continue;n[o]=t[o]}return n}function G8(t){var r,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(n=G8(t[r]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Ebe(){for(var t,r,n=0,o="",s=arguments.length;n<s;n++)(t=arguments[n])&&(r=G8(t))&&(o&&(o+=" "),o+=r);return o}const Dbe=Y.createContext(void 0);function Ibe(t){const{theme:r,name:n,props:o}=t;if(!r||!r.components||!r.components[n])return o;const s=r.components[n];return s.defaultProps?M_(s.defaultProps,o):!s.styleOverrides&&!s.variants?M_(s,o):o}function Tbe({props:t,name:r}){const n=Y.useContext(Dbe);return Ibe({props:t,name:r,theme:{components:n}})}function Nbe(t){return Tbe(t)}var kh={},qM={exports:{}},VM;function Mbe(){return VM||(VM=1,function(t){function r(){return t.exports=r=Object.assign?Object.assign.bind():function(n){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var l in s)({}).hasOwnProperty.call(s,l)&&(n[l]=s[l])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,r.apply(null,arguments)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(qM)),qM.exports}var $M={exports:{}},HM;function Pbe(){return HM||(HM=1,function(t){function r(n,o){if(n==null)return{};var s={};for(var l in n)if({}.hasOwnProperty.call(n,l)){if(o.includes(l))continue;s[l]=n[l]}return s}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}($M)),$M.exports}function Obe(t){if(t.sheet)return t.sheet;for(var r=0;r<document.styleSheets.length;r++)if(document.styleSheets[r].ownerNode===t)return document.styleSheets[r]}function jbe(t){var r=document.createElement("style");return r.setAttribute("data-emotion",t.key),t.nonce!==void 0&&r.setAttribute("nonce",t.nonce),r.appendChild(document.createTextNode("")),r.setAttribute("data-s",""),r}var Lbe=function(){function t(n){var o=this;this._insertTag=function(s){var l;o.tags.length===0?o.insertionPoint?l=o.insertionPoint.nextSibling:o.prepend?l=o.container.firstChild:l=o.before:l=o.tags[o.tags.length-1].nextSibling,o.container.insertBefore(s,l),o.tags.push(s)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var r=t.prototype;return r.hydrate=function(n){n.forEach(this._insertTag)},r.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(jbe(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Obe(o);try{s.insertRule(n,s.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(n));this.ctr++},r.flush=function(){this.tags.forEach(function(n){var o;return(o=n.parentNode)==null?void 0:o.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Fo="-ms-",y1="-moz-",tr="-webkit-",Y8="comm",n2="rule",r2="decl",Bbe="@import",K8="@keyframes",Rbe="@layer",Fbe=Math.abs,ww=String.fromCharCode,zbe=Object.assign;function Ube(t,r){return Co(t,0)^45?(((r<<2^Co(t,0))<<2^Co(t,1))<<2^Co(t,2))<<2^Co(t,3):0}function Q8(t){return t.trim()}function qbe(t,r){return(t=r.exec(t))?t[0]:t}function nr(t,r,n){return t.replace(r,n)}function P_(t,r){return t.indexOf(r)}function Co(t,r){return t.charCodeAt(r)|0}function Gg(t,r,n){return t.slice(r,n)}function rc(t){return t.length}function i2(t){return t.length}function fk(t,r){return r.push(t),t}function Vbe(t,r){return t.map(r).join("")}var yw=1,Bp=1,J8=0,Is=0,Ui=0,Yp="";function vw(t,r,n,o,s,l,d){return{value:t,root:r,parent:n,type:o,props:s,children:l,line:yw,column:Bp,length:d,return:""}}function fg(t,r){return zbe(vw("",null,null,"",null,null,0),t,{length:-t.length},r)}function $be(){return Ui}function Hbe(){return Ui=Is>0?Co(Yp,--Is):0,Bp--,Ui===10&&(Bp=1,yw--),Ui}function sa(){return Ui=Is<J8?Co(Yp,Is++):0,Bp++,Ui===10&&(Bp=1,yw++),Ui}function yc(){return Co(Yp,Is)}function Ok(){return Is}function wb(t,r){return Gg(Yp,t,r)}function Yg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Z8(t){return yw=Bp=1,J8=rc(Yp=t),Is=0,[]}function X8(t){return Yp="",t}function jk(t){return Q8(wb(Is-1,O_(t===91?t+2:t===40?t+1:t)))}function Wbe(t){for(;(Ui=yc())&&Ui<33;)sa();return Yg(t)>2||Yg(Ui)>3?"":" "}function Gbe(t,r){for(;--r&&sa()&&!(Ui<48||Ui>102||Ui>57&&Ui<65||Ui>70&&Ui<97););return wb(t,Ok()+(r<6&&yc()==32&&sa()==32))}function O_(t){for(;sa();)switch(Ui){case t:return Is;case 34:case 39:t!==34&&t!==39&&O_(Ui);break;case 40:t===41&&O_(t);break;case 92:sa();break}return Is}function Ybe(t,r){for(;sa()&&t+Ui!==57&&!(t+Ui===84&&yc()===47););return"/*"+wb(r,Is-1)+"*"+ww(t===47?t:sa())}function Kbe(t){for(;!Yg(yc());)sa();return wb(t,Is)}function Qbe(t){return X8(Lk("",null,null,null,[""],t=Z8(t),0,[0],t))}function Lk(t,r,n,o,s,l,d,h,p){for(var g=0,b=0,v=d,y=0,k=0,x=0,C=1,D=1,S=1,M=0,P="",B=s,$=l,F=o,N=P;D;)switch(x=M,M=sa()){case 40:if(x!=108&&Co(N,v-1)==58){P_(N+=nr(jk(M),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:N+=jk(M);break;case 9:case 10:case 13:case 32:N+=Wbe(x);break;case 92:N+=Gbe(Ok()-1,7);continue;case 47:switch(yc()){case 42:case 47:fk(Jbe(Ybe(sa(),Ok()),r,n),p);break;default:N+="/"}break;case 123*C:h[g++]=rc(N)*S;case 125*C:case 59:case 0:switch(M){case 0:case 125:D=0;case 59+b:S==-1&&(N=nr(N,/\f/g,"")),k>0&&rc(N)-v&&fk(k>32?GM(N+";",o,n,v-1):GM(nr(N," ","")+";",o,n,v-2),p);break;case 59:N+=";";default:if(fk(F=WM(N,r,n,g,b,s,h,P,B=[],$=[],v),l),M===123)if(b===0)Lk(N,r,F,F,B,l,v,h,$);else switch(y===99&&Co(N,3)===110?100:y){case 100:case 108:case 109:case 115:Lk(t,F,F,o&&fk(WM(t,F,F,0,0,s,h,P,s,B=[],v),$),s,$,v,h,o?B:$);break;default:Lk(N,F,F,F,[""],$,0,h,$)}}g=b=k=0,C=S=1,P=N="",v=d;break;case 58:v=1+rc(N),k=x;default:if(C<1){if(M==123)--C;else if(M==125&&C++==0&&Hbe()==125)continue}switch(N+=ww(M),M*C){case 38:S=b>0?1:(N+="\f",-1);break;case 44:h[g++]=(rc(N)-1)*S,S=1;break;case 64:yc()===45&&(N+=jk(sa())),y=yc(),b=v=rc(P=N+=Kbe(Ok())),M++;break;case 45:x===45&&rc(N)==2&&(C=0)}}return l}function WM(t,r,n,o,s,l,d,h,p,g,b){for(var v=s-1,y=s===0?l:[""],k=i2(y),x=0,C=0,D=0;x<o;++x)for(var S=0,M=Gg(t,v+1,v=Fbe(C=d[x])),P=t;S<k;++S)(P=Q8(C>0?y[S]+" "+M:nr(M,/&\f/g,y[S])))&&(p[D++]=P);return vw(t,r,n,s===0?n2:h,p,g,b)}function Jbe(t,r,n){return vw(t,r,n,Y8,ww($be()),Gg(t,2,-2),0)}function GM(t,r,n,o){return vw(t,r,n,r2,Gg(t,0,o),Gg(t,o+1,-1),o)}function Sp(t,r){for(var n="",o=i2(t),s=0;s<o;s++)n+=r(t[s],s,t,r)||"";return n}function Zbe(t,r,n,o){switch(t.type){case Rbe:if(t.children.length)break;case Bbe:case r2:return t.return=t.return||t.value;case Y8:return"";case K8:return t.return=t.value+"{"+Sp(t.children,o)+"}";case n2:t.value=t.props.join(",")}return rc(n=Sp(t.children,o))?t.return=t.value+"{"+n+"}":""}function Xbe(t){var r=i2(t);return function(n,o,s,l){for(var d="",h=0;h<r;h++)d+=t[h](n,o,s,l)||"";return d}}function e0e(t){return function(r){r.root||(r=r.return)&&t(r)}}var t0e=function(t,r,n){for(var o=0,s=0;o=s,s=yc(),o===38&&s===12&&(r[n]=1),!Yg(s);)sa();return wb(t,Is)},n0e=function(t,r){var n=-1,o=44;do switch(Yg(o)){case 0:o===38&&yc()===12&&(r[n]=1),t[n]+=t0e(Is-1,r,n);break;case 2:t[n]+=jk(o);break;case 4:if(o===44){t[++n]=yc()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=ww(o)}while(o=sa());return t},r0e=function(t,r){return X8(n0e(Z8(t),r))},YM=new WeakMap,i0e=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,o=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!YM.get(n))&&!o){YM.set(t,!0);for(var s=[],l=r0e(r,s),d=n.props,h=0,p=0;h<l.length;h++)for(var g=0;g<d.length;g++,p++)t.props[p]=s[h]?l[h].replace(/&\f/g,d[g]):d[g]+" "+l[h]}}},o0e=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function eB(t,r){switch(Ube(t,r)){case 5103:return tr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tr+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return tr+t+y1+t+Fo+t+t;case 6828:case 4268:return tr+t+Fo+t+t;case 6165:return tr+t+Fo+"flex-"+t+t;case 5187:return tr+t+nr(t,/(\w+).+(:[^]+)/,tr+"box-$1$2"+Fo+"flex-$1$2")+t;case 5443:return tr+t+Fo+"flex-item-"+nr(t,/flex-|-self/,"")+t;case 4675:return tr+t+Fo+"flex-line-pack"+nr(t,/align-content|flex-|-self/,"")+t;case 5548:return tr+t+Fo+nr(t,"shrink","negative")+t;case 5292:return tr+t+Fo+nr(t,"basis","preferred-size")+t;case 6060:return tr+"box-"+nr(t,"-grow","")+tr+t+Fo+nr(t,"grow","positive")+t;case 4554:return tr+nr(t,/([^-])(transform)/g,"$1"+tr+"$2")+t;case 6187:return nr(nr(nr(t,/(zoom-|grab)/,tr+"$1"),/(image-set)/,tr+"$1"),t,"")+t;case 5495:case 3959:return nr(t,/(image-set\([^]*)/,tr+"$1$`$1");case 4968:return nr(nr(t,/(.+:)(flex-)?(.*)/,tr+"box-pack:$3"+Fo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tr+t+t;case 4095:case 3583:case 4068:case 2532:return nr(t,/(.+)-inline(.+)/,tr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(rc(t)-1-r>6)switch(Co(t,r+1)){case 109:if(Co(t,r+4)!==45)break;case 102:return nr(t,/(.+:)(.+)-([^]+)/,"$1"+tr+"$2-$3$1"+y1+(Co(t,r+3)==108?"$3":"$2-$3"))+t;case 115:return~P_(t,"stretch")?eB(nr(t,"stretch","fill-available"),r)+t:t}break;case 4949:if(Co(t,r+1)!==115)break;case 6444:switch(Co(t,rc(t)-3-(~P_(t,"!important")&&10))){case 107:return nr(t,":",":"+tr)+t;case 101:return nr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tr+(Co(t,14)===45?"inline-":"")+"box$3$1"+tr+"$2$3$1"+Fo+"$2box$3")+t}break;case 5936:switch(Co(t,r+11)){case 114:return tr+t+Fo+nr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return tr+t+Fo+nr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return tr+t+Fo+nr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return tr+t+Fo+t+t}return t}var s0e=function(t,r,n,o){if(t.length>-1&&!t.return)switch(t.type){case r2:t.return=eB(t.value,t.length);break;case K8:return Sp([fg(t,{value:nr(t.value,"@","@"+tr)})],o);case n2:if(t.length)return Vbe(t.props,function(s){switch(qbe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Sp([fg(t,{props:[nr(s,/:(read-\w+)/,":"+y1+"$1")]})],o);case"::placeholder":return Sp([fg(t,{props:[nr(s,/:(plac\w+)/,":"+tr+"input-$1")]}),fg(t,{props:[nr(s,/:(plac\w+)/,":"+y1+"$1")]}),fg(t,{props:[nr(s,/:(plac\w+)/,Fo+"input-$1")]})],o)}return""})}},a0e=[s0e],l0e=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(x){var C=x.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var o=t.stylisPlugins||a0e,s={},l,d=[];l=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(x){for(var C=x.getAttribute("data-emotion").split(" "),D=1;D<C.length;D++)s[C[D]]=!0;d.push(x)});var h,p=[i0e,o0e];{var g,b=[Zbe,e0e(function(x){g.insert(x)})],v=Xbe(p.concat(o,b)),y=function(x){return Sp(Qbe(x),v)};h=function(x,C,D,S){g=D,y(x?x+"{"+C.styles+"}":C.styles),S&&(k.inserted[C.name]=!0)}}var k={key:r,sheet:new Lbe({key:r,container:l,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:h};return k.sheet.hydrate(d),k};let j_;typeof document=="object"&&(j_=l0e({key:"css",prepend:!0}));function c0e(t){const{injectFirst:r,children:n}=t;return r&&j_?gn.jsx(PP,{value:j_,children:n}):n}function u0e(t){return t==null||Object.keys(t).length===0}function d0e(t){const{styles:r,defaultTheme:n={}}=t,o=typeof r=="function"?s=>r(u0e(s)?n:s):r;return gn.jsx(OP,{styles:o})}/**
 * @mui/styled-engine v5.16.12
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function h0e(t,r){return Y_(t,r)}const f0e=(t,r)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=r(t.__emotion_styles))},p0e=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:d0e,StyledEngineProvider:c0e,ThemeContext:K_,css:Jh,default:h0e,internal_processStyles:f0e,keyframes:Cc},Symbol.toStringTag,{value:"Module"})),m0e=wu(p0e),g0e=wu(Gge),b0e=wu(ebe),k0e=wu(Xge),w0e=["values","unit","step"],y0e=t=>{const r=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return r.sort((n,o)=>n.val-o.val),r.reduce((n,o)=>Cr({},n,{[o.key]:o.val}),{})};function tB(t){const{values:r={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=t,s=Dd(t,w0e),l=y0e(r),d=Object.keys(l);function h(y){return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${n})`}function p(y){return`@media (max-width:${(typeof r[y]=="number"?r[y]:y)-o/100}${n})`}function g(y,k){const x=d.indexOf(k);return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${n}) and (max-width:${(x!==-1&&typeof r[d[x]]=="number"?r[d[x]]:k)-o/100}${n})`}function b(y){return d.indexOf(y)+1<d.length?g(y,d[d.indexOf(y)+1]):h(y)}function v(y){const k=d.indexOf(y);return k===0?h(d[1]):k===d.length-1?p(d[k]):g(y,d[d.indexOf(y)+1]).replace("@media","@media not all and")}return Cr({keys:d,values:l,up:h,down:p,between:g,only:b,not:v,unit:n},s)}const v0e={borderRadius:4};function Mg(t,r){return r?wc(t,r,{clone:!1}):t}const o2={xs:0,sm:600,md:900,lg:1200,xl:1536},KM={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${o2[t]}px)`};function gu(t,r,n){const o=t.theme||{};if(Array.isArray(r)){const s=o.breakpoints||KM;return r.reduce((l,d,h)=>(l[s.up(s.keys[h])]=n(r[h]),l),{})}if(typeof r=="object"){const s=o.breakpoints||KM;return Object.keys(r).reduce((l,d)=>{if(Object.keys(s.values||o2).indexOf(d)!==-1){const h=s.up(d);l[h]=n(r[d],d)}else{const h=d;l[h]=r[h]}return l},{})}return n(r)}function A0e(t={}){var r;return((r=t.keys)==null?void 0:r.reduce((n,o)=>{const s=t.up(o);return n[s]={},n},{}))||{}}function _0e(t,r){return t.reduce((n,o)=>{const s=n[o];return(!s||Object.keys(s).length===0)&&delete n[o],n},r)}function Aw(t,r,n=!0){if(!r||typeof r!="string")return null;if(t&&t.vars&&n){const o=`vars.${r}`.split(".").reduce((s,l)=>s&&s[l]?s[l]:null,t);if(o!=null)return o}return r.split(".").reduce((o,s)=>o&&o[s]!=null?o[s]:null,t)}function v1(t,r,n,o=n){let s;return typeof t=="function"?s=t(n):Array.isArray(t)?s=t[n]||o:s=Aw(t,n)||o,r&&(s=r(s,o,t)),s}function Li(t){const{prop:r,cssProperty:n=t.prop,themeKey:o,transform:s}=t,l=d=>{if(d[r]==null)return null;const h=d[r],p=d.theme,g=Aw(p,o)||{};return gu(d,h,b=>{let v=v1(g,s,b);return b===v&&typeof b=="string"&&(v=v1(g,s,`${r}${b==="default"?"":yd(b)}`,b)),n===!1?v:{[n]:v}})};return l.propTypes={},l.filterProps=[r],l}function C0e(t){const r={};return n=>(r[n]===void 0&&(r[n]=t(n)),r[n])}const x0e={m:"margin",p:"padding"},S0e={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},QM={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},E0e=C0e(t=>{if(t.length>2)if(QM[t])t=QM[t];else return[t];const[r,n]=t.split(""),o=x0e[r],s=S0e[n]||"";return Array.isArray(s)?s.map(l=>o+l):[o+s]}),s2=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],a2=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...s2,...a2];function yb(t,r,n,o){var s;const l=(s=Aw(t,r,!1))!=null?s:n;return typeof l=="number"?d=>typeof d=="string"?d:l*d:Array.isArray(l)?d=>typeof d=="string"?d:l[d]:typeof l=="function"?l:()=>{}}function nB(t){return yb(t,"spacing",8)}function vb(t,r){if(typeof r=="string"||r==null)return r;const n=Math.abs(r),o=t(n);return r>=0?o:typeof o=="number"?-o:`-${o}`}function D0e(t,r){return n=>t.reduce((o,s)=>(o[s]=vb(r,n),o),{})}function I0e(t,r,n,o){if(r.indexOf(n)===-1)return null;const s=E0e(n),l=D0e(s,o),d=t[n];return gu(t,d,l)}function rB(t,r){const n=nB(t.theme);return Object.keys(t).map(o=>I0e(t,r,o,n)).reduce(Mg,{})}function mi(t){return rB(t,s2)}mi.propTypes={};mi.filterProps=s2;function gi(t){return rB(t,a2)}gi.propTypes={};gi.filterProps=a2;function T0e(t=8){if(t.mui)return t;const r=nB({spacing:t}),n=(...o)=>(o.length===0?[1]:o).map(s=>{const l=r(s);return typeof l=="number"?`${l}px`:l}).join(" ");return n.mui=!0,n}function _w(...t){const r=t.reduce((o,s)=>(s.filterProps.forEach(l=>{o[l]=s}),o),{}),n=o=>Object.keys(o).reduce((s,l)=>r[l]?Mg(s,r[l](o)):s,{});return n.propTypes={},n.filterProps=t.reduce((o,s)=>o.concat(s.filterProps),[]),n}function za(t){return typeof t!="number"?t:`${t}px solid`}function Wa(t,r){return Li({prop:t,themeKey:"borders",transform:r})}const N0e=Wa("border",za),M0e=Wa("borderTop",za),P0e=Wa("borderRight",za),O0e=Wa("borderBottom",za),j0e=Wa("borderLeft",za),L0e=Wa("borderColor"),B0e=Wa("borderTopColor"),R0e=Wa("borderRightColor"),F0e=Wa("borderBottomColor"),z0e=Wa("borderLeftColor"),U0e=Wa("outline",za),q0e=Wa("outlineColor"),Cw=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const r=yb(t.theme,"shape.borderRadius",4),n=o=>({borderRadius:vb(r,o)});return gu(t,t.borderRadius,n)}return null};Cw.propTypes={};Cw.filterProps=["borderRadius"];_w(N0e,M0e,P0e,O0e,j0e,L0e,B0e,R0e,F0e,z0e,Cw,U0e,q0e);const xw=t=>{if(t.gap!==void 0&&t.gap!==null){const r=yb(t.theme,"spacing",8),n=o=>({gap:vb(r,o)});return gu(t,t.gap,n)}return null};xw.propTypes={};xw.filterProps=["gap"];const Sw=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const r=yb(t.theme,"spacing",8),n=o=>({columnGap:vb(r,o)});return gu(t,t.columnGap,n)}return null};Sw.propTypes={};Sw.filterProps=["columnGap"];const Ew=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const r=yb(t.theme,"spacing",8),n=o=>({rowGap:vb(r,o)});return gu(t,t.rowGap,n)}return null};Ew.propTypes={};Ew.filterProps=["rowGap"];const V0e=Li({prop:"gridColumn"}),$0e=Li({prop:"gridRow"}),H0e=Li({prop:"gridAutoFlow"}),W0e=Li({prop:"gridAutoColumns"}),G0e=Li({prop:"gridAutoRows"}),Y0e=Li({prop:"gridTemplateColumns"}),K0e=Li({prop:"gridTemplateRows"}),Q0e=Li({prop:"gridTemplateAreas"}),J0e=Li({prop:"gridArea"});_w(xw,Sw,Ew,V0e,$0e,H0e,W0e,G0e,Y0e,K0e,Q0e,J0e);function Ep(t,r){return r==="grey"?r:t}const Z0e=Li({prop:"color",themeKey:"palette",transform:Ep}),X0e=Li({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ep}),eke=Li({prop:"backgroundColor",themeKey:"palette",transform:Ep});_w(Z0e,X0e,eke);function Zs(t){return t<=1&&t!==0?`${t*100}%`:t}const tke=Li({prop:"width",transform:Zs}),l2=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const r=n=>{var o,s;const l=((o=t.theme)==null||(o=o.breakpoints)==null||(o=o.values)==null?void 0:o[n])||o2[n];return l?((s=t.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${l}${t.theme.breakpoints.unit}`}:{maxWidth:l}:{maxWidth:Zs(n)}};return gu(t,t.maxWidth,r)}return null};l2.filterProps=["maxWidth"];const nke=Li({prop:"minWidth",transform:Zs}),rke=Li({prop:"height",transform:Zs}),ike=Li({prop:"maxHeight",transform:Zs}),oke=Li({prop:"minHeight",transform:Zs});Li({prop:"size",cssProperty:"width",transform:Zs});Li({prop:"size",cssProperty:"height",transform:Zs});const ske=Li({prop:"boxSizing"});_w(tke,l2,nke,rke,ike,oke,ske);const Ab={border:{themeKey:"borders",transform:za},borderTop:{themeKey:"borders",transform:za},borderRight:{themeKey:"borders",transform:za},borderBottom:{themeKey:"borders",transform:za},borderLeft:{themeKey:"borders",transform:za},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:za},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Cw},color:{themeKey:"palette",transform:Ep},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ep},backgroundColor:{themeKey:"palette",transform:Ep},p:{style:gi},pt:{style:gi},pr:{style:gi},pb:{style:gi},pl:{style:gi},px:{style:gi},py:{style:gi},padding:{style:gi},paddingTop:{style:gi},paddingRight:{style:gi},paddingBottom:{style:gi},paddingLeft:{style:gi},paddingX:{style:gi},paddingY:{style:gi},paddingInline:{style:gi},paddingInlineStart:{style:gi},paddingInlineEnd:{style:gi},paddingBlock:{style:gi},paddingBlockStart:{style:gi},paddingBlockEnd:{style:gi},m:{style:mi},mt:{style:mi},mr:{style:mi},mb:{style:mi},ml:{style:mi},mx:{style:mi},my:{style:mi},margin:{style:mi},marginTop:{style:mi},marginRight:{style:mi},marginBottom:{style:mi},marginLeft:{style:mi},marginX:{style:mi},marginY:{style:mi},marginInline:{style:mi},marginInlineStart:{style:mi},marginInlineEnd:{style:mi},marginBlock:{style:mi},marginBlockStart:{style:mi},marginBlockEnd:{style:mi},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:xw},rowGap:{style:Ew},columnGap:{style:Sw},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Zs},maxWidth:{style:l2},minWidth:{transform:Zs},height:{transform:Zs},maxHeight:{transform:Zs},minHeight:{transform:Zs},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function ake(...t){const r=t.reduce((o,s)=>o.concat(Object.keys(s)),[]),n=new Set(r);return t.every(o=>n.size===Object.keys(o).length)}function lke(t,r){return typeof t=="function"?t(r):t}function iB(){function t(n,o,s,l){const d={[n]:o,theme:s},h=l[n];if(!h)return{[n]:o};const{cssProperty:p=n,themeKey:g,transform:b,style:v}=h;if(o==null)return null;if(g==="typography"&&o==="inherit")return{[n]:o};const y=Aw(s,g)||{};return v?v(d):gu(d,o,k=>{let x=v1(y,b,k);return k===x&&typeof k=="string"&&(x=v1(y,b,`${n}${k==="default"?"":yd(k)}`,k)),p===!1?x:{[p]:x}})}function r(n){var o;const{sx:s,theme:l={}}=n||{};if(!s)return null;const d=(o=l.unstable_sxConfig)!=null?o:Ab;function h(p){let g=p;if(typeof p=="function")g=p(l);else if(typeof p!="object")return p;if(!g)return null;const b=A0e(l.breakpoints),v=Object.keys(b);let y=b;return Object.keys(g).forEach(k=>{const x=lke(g[k],l);if(x!=null)if(typeof x=="object")if(d[k])y=Mg(y,t(k,x,l,d));else{const C=gu({theme:l},x,D=>({[k]:D}));ake(C,x)?y[k]=r({sx:x,theme:l}):y=Mg(y,C)}else y=Mg(y,t(k,x,l,d))}),_0e(v,y)}return Array.isArray(s)?s.map(h):h(s)}return r}const Dw=iB();Dw.filterProps=["sx"];function oB(t,r){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:r}:n.palette.mode===t?r:{}}const cke=["breakpoints","palette","spacing","shape"];function sB(t={},...r){const{breakpoints:n={},palette:o={},spacing:s,shape:l={}}=t,d=Dd(t,cke),h=tB(n),p=T0e(s);let g=wc({breakpoints:h,direction:"ltr",components:{},palette:Cr({mode:"light"},o),spacing:p,shape:Cr({},v0e,l)},d);return g.applyStyles=oB,g=r.reduce((b,v)=>wc(b,v),g),g.unstable_sxConfig=Cr({},Ab,d==null?void 0:d.unstable_sxConfig),g.unstable_sx=function(b){return Dw({sx:b,theme:this})},g}const uke=Object.freeze(Object.defineProperty({__proto__:null,default:sB,private_createBreakpoints:tB,unstable_applyStyles:oB},Symbol.toStringTag,{value:"Module"})),dke=wu(uke),hke=["sx"],fke=t=>{var r,n;const o={systemProps:{},otherProps:{}},s=(r=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?r:Ab;return Object.keys(t).forEach(l=>{s[l]?o.systemProps[l]=t[l]:o.otherProps[l]=t[l]}),o};function pke(t){const{sx:r}=t,n=Dd(t,hke),{systemProps:o,otherProps:s}=fke(n);let l;return Array.isArray(r)?l=[o,...r]:typeof r=="function"?l=(...d)=>{const h=r(...d);return id(h)?Cr({},o,h):o}:l=Cr({},o,r),Cr({},s,{sx:l})}const mke=Object.freeze(Object.defineProperty({__proto__:null,default:Dw,extendSxProp:pke,unstable_createStyleFunctionSx:iB,unstable_defaultSxConfig:Ab},Symbol.toStringTag,{value:"Module"})),gke=wu(mke);var JM;function bke(){if(JM)return kh;JM=1;var t=bw();Object.defineProperty(kh,"__esModule",{value:!0}),kh.default=B,kh.shouldForwardProp=x,kh.systemDefaultTheme=void 0;var r=t(Mbe()),n=t(Pbe()),o=v(m0e),s=g0e;t(b0e),t(k0e);var l=t(dke),d=t(gke);const h=["ownerState"],p=["variants"],g=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function b($){if(typeof WeakMap!="function")return null;var F=new WeakMap,N=new WeakMap;return(b=function(L){return L?N:F})($)}function v($,F){if($&&$.__esModule)return $;if($===null||typeof $!="object"&&typeof $!="function")return{default:$};var N=b(F);if(N&&N.has($))return N.get($);var L={__proto__:null},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Q in $)if(Q!=="default"&&Object.prototype.hasOwnProperty.call($,Q)){var H=U?Object.getOwnPropertyDescriptor($,Q):null;H&&(H.get||H.set)?Object.defineProperty(L,Q,H):L[Q]=$[Q]}return L.default=$,N&&N.set($,L),L}function y($){return Object.keys($).length===0}function k($){return typeof $=="string"&&$.charCodeAt(0)>96}function x($){return $!=="ownerState"&&$!=="theme"&&$!=="sx"&&$!=="as"}const C=kh.systemDefaultTheme=(0,l.default)(),D=$=>$&&$.charAt(0).toLowerCase()+$.slice(1);function S({defaultTheme:$,theme:F,themeId:N}){return y(F)?$:F[N]||F}function M($){return $?(F,N)=>N[$]:null}function P($,F){let{ownerState:N}=F,L=(0,n.default)(F,h);const U=typeof $=="function"?$((0,r.default)({ownerState:N},L)):$;if(Array.isArray(U))return U.flatMap(Q=>P(Q,(0,r.default)({ownerState:N},L)));if(U&&typeof U=="object"&&Array.isArray(U.variants)){const{variants:Q=[]}=U;let H=(0,n.default)(U,p);return Q.forEach(z=>{let G=!0;typeof z.props=="function"?G=z.props((0,r.default)({ownerState:N},L,N)):Object.keys(z.props).forEach(R=>{(N==null?void 0:N[R])!==z.props[R]&&L[R]!==z.props[R]&&(G=!1)}),G&&(Array.isArray(H)||(H=[H]),H.push(typeof z.style=="function"?z.style((0,r.default)({ownerState:N},L,N)):z.style))}),H}return U}function B($={}){const{themeId:F,defaultTheme:N=C,rootShouldForwardProp:L=x,slotShouldForwardProp:U=x}=$,Q=H=>(0,d.default)((0,r.default)({},H,{theme:S((0,r.default)({},H,{defaultTheme:N,themeId:F}))}));return Q.__mui_systemSx=!0,(H,z={})=>{(0,o.internal_processStyles)(H,ae=>ae.filter(Se=>!(Se!=null&&Se.__mui_systemSx)));const{name:G,slot:R,skipVariantsResolver:ne,skipSx:ue,overridesResolver:ie=M(D(R))}=z,oe=(0,n.default)(z,g),ye=ne!==void 0?ne:R&&R!=="Root"&&R!=="root"||!1,re=ue||!1;let Ce,X=x;R==="Root"||R==="root"?X=L:R?X=U:k(H)&&(X=void 0);const J=(0,o.default)(H,(0,r.default)({shouldForwardProp:X,label:Ce},oe)),fe=ae=>typeof ae=="function"&&ae.__emotion_real!==ae||(0,s.isPlainObject)(ae)?Se=>P(ae,(0,r.default)({},Se,{theme:S({theme:Se.theme,defaultTheme:N,themeId:F})})):ae,le=(ae,...Se)=>{let xe=fe(ae);const Te=Se?Se.map(fe):[];G&&ie&&Te.push(Je=>{const Ue=S((0,r.default)({},Je,{defaultTheme:N,themeId:F}));if(!Ue.components||!Ue.components[G]||!Ue.components[G].styleOverrides)return null;const Z=Ue.components[G].styleOverrides,_e={};return Object.entries(Z).forEach(([he,be])=>{_e[he]=P(be,(0,r.default)({},Je,{theme:Ue}))}),ie(Je,_e)}),G&&!ye&&Te.push(Je=>{var Ue;const Z=S((0,r.default)({},Je,{defaultTheme:N,themeId:F})),_e=Z==null||(Ue=Z.components)==null||(Ue=Ue[G])==null?void 0:Ue.variants;return P({variants:_e},(0,r.default)({},Je,{theme:Z}))}),re||Te.push(Q);const Ye=Te.length-Se.length;if(Array.isArray(ae)&&Ye>0){const Je=new Array(Ye).fill("");xe=[...ae,...Je],xe.raw=[...ae.raw,...Je]}const We=J(xe,...Te);return H.muiName&&(We.muiName=H.muiName),We};return J.withConfig&&(le.withConfig=J.withConfig),le}}return kh}var kke=bke();const wke=XC(kke);function yke(t,r){return Cr({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},r)}var ni={};const vke=wu(Yge),Ake=wu(Sbe);var ZM;function _ke(){if(ZM)return ni;ZM=1;var t=bw();Object.defineProperty(ni,"__esModule",{value:!0}),ni.alpha=x,ni.blend=F,ni.colorChannel=void 0,ni.darken=D,ni.decomposeColor=d,ni.emphasize=B,ni.getContrastRatio=k,ni.getLuminance=y,ni.hexToRgb=s,ni.hslToRgb=v,ni.lighten=M,ni.private_safeAlpha=C,ni.private_safeColorChannel=void 0,ni.private_safeDarken=S,ni.private_safeEmphasize=$,ni.private_safeLighten=P,ni.recomposeColor=g,ni.rgbToHex=b;var r=t(vke),n=t(Ake);function o(N,L=0,U=1){return(0,n.default)(N,L,U)}function s(N){N=N.slice(1);const L=new RegExp(`.{1,${N.length>=6?2:1}}`,"g");let U=N.match(L);return U&&U[0].length===1&&(U=U.map(Q=>Q+Q)),U?`rgb${U.length===4?"a":""}(${U.map((Q,H)=>H<3?parseInt(Q,16):Math.round(parseInt(Q,16)/255*1e3)/1e3).join(", ")})`:""}function l(N){const L=N.toString(16);return L.length===1?`0${L}`:L}function d(N){if(N.type)return N;if(N.charAt(0)==="#")return d(s(N));const L=N.indexOf("("),U=N.substring(0,L);if(["rgb","rgba","hsl","hsla","color"].indexOf(U)===-1)throw new Error((0,r.default)(9,N));let Q=N.substring(L+1,N.length-1),H;if(U==="color"){if(Q=Q.split(" "),H=Q.shift(),Q.length===4&&Q[3].charAt(0)==="/"&&(Q[3]=Q[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(H)===-1)throw new Error((0,r.default)(10,H))}else Q=Q.split(",");return Q=Q.map(z=>parseFloat(z)),{type:U,values:Q,colorSpace:H}}const h=N=>{const L=d(N);return L.values.slice(0,3).map((U,Q)=>L.type.indexOf("hsl")!==-1&&Q!==0?`${U}%`:U).join(" ")};ni.colorChannel=h;const p=(N,L)=>{try{return h(N)}catch{return N}};ni.private_safeColorChannel=p;function g(N){const{type:L,colorSpace:U}=N;let{values:Q}=N;return L.indexOf("rgb")!==-1?Q=Q.map((H,z)=>z<3?parseInt(H,10):H):L.indexOf("hsl")!==-1&&(Q[1]=`${Q[1]}%`,Q[2]=`${Q[2]}%`),L.indexOf("color")!==-1?Q=`${U} ${Q.join(" ")}`:Q=`${Q.join(", ")}`,`${L}(${Q})`}function b(N){if(N.indexOf("#")===0)return N;const{values:L}=d(N);return`#${L.map((U,Q)=>l(Q===3?Math.round(255*U):U)).join("")}`}function v(N){N=d(N);const{values:L}=N,U=L[0],Q=L[1]/100,H=L[2]/100,z=Q*Math.min(H,1-H),G=(ue,ie=(ue+U/30)%12)=>H-z*Math.max(Math.min(ie-3,9-ie,1),-1);let R="rgb";const ne=[Math.round(G(0)*255),Math.round(G(8)*255),Math.round(G(4)*255)];return N.type==="hsla"&&(R+="a",ne.push(L[3])),g({type:R,values:ne})}function y(N){N=d(N);let L=N.type==="hsl"||N.type==="hsla"?d(v(N)).values:N.values;return L=L.map(U=>(N.type!=="color"&&(U/=255),U<=.03928?U/12.92:((U+.055)/1.055)**2.4)),Number((.2126*L[0]+.7152*L[1]+.0722*L[2]).toFixed(3))}function k(N,L){const U=y(N),Q=y(L);return(Math.max(U,Q)+.05)/(Math.min(U,Q)+.05)}function x(N,L){return N=d(N),L=o(L),(N.type==="rgb"||N.type==="hsl")&&(N.type+="a"),N.type==="color"?N.values[3]=`/${L}`:N.values[3]=L,g(N)}function C(N,L,U){try{return x(N,L)}catch{return N}}function D(N,L){if(N=d(N),L=o(L),N.type.indexOf("hsl")!==-1)N.values[2]*=1-L;else if(N.type.indexOf("rgb")!==-1||N.type.indexOf("color")!==-1)for(let U=0;U<3;U+=1)N.values[U]*=1-L;return g(N)}function S(N,L,U){try{return D(N,L)}catch{return N}}function M(N,L){if(N=d(N),L=o(L),N.type.indexOf("hsl")!==-1)N.values[2]+=(100-N.values[2])*L;else if(N.type.indexOf("rgb")!==-1)for(let U=0;U<3;U+=1)N.values[U]+=(255-N.values[U])*L;else if(N.type.indexOf("color")!==-1)for(let U=0;U<3;U+=1)N.values[U]+=(1-N.values[U])*L;return g(N)}function P(N,L,U){try{return M(N,L)}catch{return N}}function B(N,L=.15){return y(N)>.5?D(N,L):M(N,L)}function $(N,L,U){try{return B(N,L)}catch{return N}}function F(N,L,U,Q=1){const H=(ne,ue)=>Math.round((ne**(1/Q)*(1-U)+ue**(1/Q)*U)**Q),z=d(N),G=d(L),R=[H(z.values[0],G.values[0]),H(z.values[1],G.values[1]),H(z.values[2],G.values[2])];return g({type:"rgb",values:R})}return ni}var L_=_ke();const Kg={black:"#000",white:"#fff"},Cke={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},np={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},rp={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},pg={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},ip={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},op={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},sp={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},xke=["mode","contrastThreshold","tonalOffset"],XM={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Kg.white,default:Kg.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},TA={text:{primary:Kg.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Kg.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function eP(t,r,n,o){const s=o.light||o,l=o.dark||o*1.5;t[r]||(t.hasOwnProperty(n)?t[r]=t[n]:r==="light"?t.light=L_.lighten(t.main,s):r==="dark"&&(t.dark=L_.darken(t.main,l)))}function Ske(t="light"){return t==="dark"?{main:ip[200],light:ip[50],dark:ip[400]}:{main:ip[700],light:ip[400],dark:ip[800]}}function Eke(t="light"){return t==="dark"?{main:np[200],light:np[50],dark:np[400]}:{main:np[500],light:np[300],dark:np[700]}}function Dke(t="light"){return t==="dark"?{main:rp[500],light:rp[300],dark:rp[700]}:{main:rp[700],light:rp[400],dark:rp[800]}}function Ike(t="light"){return t==="dark"?{main:op[400],light:op[300],dark:op[700]}:{main:op[700],light:op[500],dark:op[900]}}function Tke(t="light"){return t==="dark"?{main:sp[400],light:sp[300],dark:sp[700]}:{main:sp[800],light:sp[500],dark:sp[900]}}function Nke(t="light"){return t==="dark"?{main:pg[400],light:pg[300],dark:pg[700]}:{main:"#ed6c02",light:pg[500],dark:pg[900]}}function Mke(t){const{mode:r="light",contrastThreshold:n=3,tonalOffset:o=.2}=t,s=Dd(t,xke),l=t.primary||Ske(r),d=t.secondary||Eke(r),h=t.error||Dke(r),p=t.info||Ike(r),g=t.success||Tke(r),b=t.warning||Nke(r);function v(x){return L_.getContrastRatio(x,TA.text.primary)>=n?TA.text.primary:XM.text.primary}const y=({color:x,name:C,mainShade:D=500,lightShade:S=300,darkShade:M=700})=>{if(x=Cr({},x),!x.main&&x[D]&&(x.main=x[D]),!x.hasOwnProperty("main"))throw new Error(Wg(11,C?` (${C})`:"",D));if(typeof x.main!="string")throw new Error(Wg(12,C?` (${C})`:"",JSON.stringify(x.main)));return eP(x,"light",S,o),eP(x,"dark",M,o),x.contrastText||(x.contrastText=v(x.main)),x},k={dark:TA,light:XM};return wc(Cr({common:Cr({},Kg),mode:r,primary:y({color:l,name:"primary"}),secondary:y({color:d,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:h,name:"error"}),warning:y({color:b,name:"warning"}),info:y({color:p,name:"info"}),success:y({color:g,name:"success"}),grey:Cke,contrastThreshold:n,getContrastText:v,augmentColor:y,tonalOffset:o},k[r]),s)}const Pke=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Oke(t){return Math.round(t*1e5)/1e5}const tP={textTransform:"uppercase"},nP='"Roboto", "Helvetica", "Arial", sans-serif';function jke(t,r){const n=typeof r=="function"?r(t):r,{fontFamily:o=nP,fontSize:s=14,fontWeightLight:l=300,fontWeightRegular:d=400,fontWeightMedium:h=500,fontWeightBold:p=700,htmlFontSize:g=16,allVariants:b,pxToRem:v}=n,y=Dd(n,Pke),k=s/14,x=v||(S=>`${S/g*k}rem`),C=(S,M,P,B,$)=>Cr({fontFamily:o,fontWeight:S,fontSize:x(M),lineHeight:P},o===nP?{letterSpacing:`${Oke(B/M)}em`}:{},$,b),D={h1:C(l,96,1.167,-1.5),h2:C(l,60,1.2,-.5),h3:C(d,48,1.167,0),h4:C(d,34,1.235,.25),h5:C(d,24,1.334,0),h6:C(h,20,1.6,.15),subtitle1:C(d,16,1.75,.15),subtitle2:C(h,14,1.57,.1),body1:C(d,16,1.5,.15),body2:C(d,14,1.43,.15),button:C(h,14,1.75,.4,tP),caption:C(d,12,1.66,.4),overline:C(d,12,2.66,1,tP),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return wc(Cr({htmlFontSize:g,pxToRem:x,fontFamily:o,fontSize:s,fontWeightLight:l,fontWeightRegular:d,fontWeightMedium:h,fontWeightBold:p},D),y,{clone:!1})}const Lke=.2,Bke=.14,Rke=.12;function Hr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Lke})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${Bke})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Rke})`].join(",")}const Fke=["none",Hr(0,2,1,-1,0,1,1,0,0,1,3,0),Hr(0,3,1,-2,0,2,2,0,0,1,5,0),Hr(0,3,3,-2,0,3,4,0,0,1,8,0),Hr(0,2,4,-1,0,4,5,0,0,1,10,0),Hr(0,3,5,-1,0,5,8,0,0,1,14,0),Hr(0,3,5,-1,0,6,10,0,0,1,18,0),Hr(0,4,5,-2,0,7,10,1,0,2,16,1),Hr(0,5,5,-3,0,8,10,1,0,3,14,2),Hr(0,5,6,-3,0,9,12,1,0,3,16,2),Hr(0,6,6,-3,0,10,14,1,0,4,18,3),Hr(0,6,7,-4,0,11,15,1,0,4,20,3),Hr(0,7,8,-4,0,12,17,2,0,5,22,4),Hr(0,7,8,-4,0,13,19,2,0,5,24,4),Hr(0,7,9,-4,0,14,21,2,0,5,26,4),Hr(0,8,9,-5,0,15,22,2,0,6,28,5),Hr(0,8,10,-5,0,16,24,2,0,6,30,5),Hr(0,8,11,-5,0,17,26,2,0,6,32,5),Hr(0,9,11,-5,0,18,28,2,0,7,34,6),Hr(0,9,12,-6,0,19,29,2,0,7,36,6),Hr(0,10,13,-6,0,20,31,3,0,8,38,7),Hr(0,10,13,-6,0,21,33,3,0,8,40,7),Hr(0,10,14,-6,0,22,35,3,0,8,42,7),Hr(0,11,14,-7,0,23,36,3,0,9,44,8),Hr(0,11,15,-7,0,24,38,3,0,9,46,8)],zke=["duration","easing","delay"],Uke={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},qke={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function rP(t){return`${Math.round(t)}ms`}function Vke(t){if(!t)return 0;const r=t/36;return Math.round((4+15*r**.25+r/5)*10)}function $ke(t){const r=Cr({},Uke,t.easing),n=Cr({},qke,t.duration);return Cr({getAutoHeightDuration:Vke,create:(o=["all"],s={})=>{const{duration:l=n.standard,easing:d=r.easeInOut,delay:h=0}=s;return Dd(s,zke),(Array.isArray(o)?o:[o]).map(p=>`${p} ${typeof l=="string"?l:rP(l)} ${d} ${typeof h=="string"?h:rP(h)}`).join(",")}},t,{easing:r,duration:n})}const Hke={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Wke=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Gke(t={},...r){const{mixins:n={},palette:o={},transitions:s={},typography:l={}}=t,d=Dd(t,Wke);if(t.vars)throw new Error(Wg(18));const h=Mke(o),p=sB(t);let g=wc(p,{mixins:yke(p.breakpoints,n),palette:h,shadows:Fke.slice(),typography:jke(h,l),transitions:$ke(s),zIndex:Cr({},Hke)});return g=wc(g,d),g=r.reduce((b,v)=>wc(b,v),g),g.unstable_sxConfig=Cr({},Ab,d==null?void 0:d.unstable_sxConfig),g.unstable_sx=function(b){return Dw({sx:b,theme:this})},g}const Yke=Gke(),Kke="$$material";function Qke(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Jke=t=>Qke(t)&&t!=="classes",Zke=wke({themeId:Kke,defaultTheme:Yke,rootShouldForwardProp:Jke});function Xke(t){return W8("MuiSvgIcon",t)}Cbe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const e1e=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],t1e=t=>{const{color:r,fontSize:n,classes:o}=t,s={root:["root",r!=="inherit"&&`color${yd(r)}`,`fontSize${yd(n)}`]};return vbe(s,Xke,o)},n1e=Zke("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:n}=t;return[r.root,n.color!=="inherit"&&r[`color${yd(n.color)}`],r[`fontSize${yd(n.fontSize)}`]]}})(({theme:t,ownerState:r})=>{var n,o,s,l,d,h,p,g,b,v,y,k,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:r.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(o=n.create)==null?void 0:o.call(n,"fill",{duration:(s=t.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((l=t.typography)==null||(d=l.pxToRem)==null?void 0:d.call(l,20))||"1.25rem",medium:((h=t.typography)==null||(p=h.pxToRem)==null?void 0:p.call(h,24))||"1.5rem",large:((g=t.typography)==null||(b=g.pxToRem)==null?void 0:b.call(g,35))||"2.1875rem"}[r.fontSize],color:(v=(y=(t.vars||t).palette)==null||(y=y[r.color])==null?void 0:y.main)!=null?v:{action:(k=(t.vars||t).palette)==null||(k=k.action)==null?void 0:k.active,disabled:(x=(t.vars||t).palette)==null||(x=x.action)==null?void 0:x.disabled,inherit:void 0}[r.color]}}),B_=Y.forwardRef(function(t,r){const n=Nbe({props:t,name:"MuiSvgIcon"}),{children:o,className:s,color:l="inherit",component:d="svg",fontSize:h="medium",htmlColor:p,inheritViewBox:g=!1,titleAccess:b,viewBox:v="0 0 24 24"}=n,y=Dd(n,e1e),k=Y.isValidElement(o)&&o.type==="svg",x=Cr({},n,{color:l,component:d,fontSize:h,instanceFontSize:t.fontSize,inheritViewBox:g,viewBox:v,hasSvgAsChild:k}),C={};g||(C.viewBox=v);const D=t1e(x);return gn.jsxs(n1e,Cr({as:d,className:Ebe(D.root,s),focusable:"false",color:p,"aria-hidden":b?void 0:!0,role:b?"img":void 0,ref:r},C,y,k&&o.props,{ownerState:x,children:[k?o.props.children:o,b?gn.jsx("title",{children:b}):null]}))});B_.muiName="SvgIcon";function r1e(t,r){function n(o,s){return gn.jsx(B_,Cr({"data-testid":`${r}Icon`,ref:s},o,{children:t}))}return n.muiName=B_.muiName,Y.memo(Y.forwardRef(n))}const i1e={configure:t=>{H8.configure(t)}},o1e=Object.freeze(Object.defineProperty({__proto__:null,capitalize:yd,createChainedFunction:tbe,createSvgIcon:r1e,debounce:nbe,deprecatedPropType:rbe,isMuiElement:ibe,ownerDocument:q8,ownerWindow:obe,requirePropFactory:sbe,setRef:V8,unstable_ClassNameGenerator:i1e,unstable_useEnhancedEffect:$8,unstable_useId:lbe,unsupportedProp:cbe,useControlled:ube,useEventCallback:dbe,useForkRef:hbe,useIsFocusVisible:ybe},Symbol.toStringTag,{value:"Module"})),s1e=wu(o1e);var iP;function aB(){return iP||(iP=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=s1e}(PM)),PM}var oP;function a1e(){if(oP)return hg;oP=1;var t=bw();Object.defineProperty(hg,"__esModule",{value:!0}),hg.default=void 0;var r=t(aB()),n=e2();return hg.default=(0,r.default)((0,n.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 9h12v2H6zm8 5H6v-2h8zm4-6H6V6h12z"}),"Chat"),hg}var l1e=a1e();const c1e=XC(l1e),NA={chatToggleButton:{position:"fixed",bottom:20,right:20,bgcolor:"#CDDAFF",color:"white",width:60,height:60,borderRadius:"50%",boxShadow:"0px 4px 15px rgba(0, 0, 0, 0.3)","&:hover":{bgcolor:"#0B53C0"},transition:"background-color 0.3s, transform 0.3s","&:active":{transform:"scale(0.95)"}},chatContainer:(t,r)=>({position:"fixed",bottom:t?0:20,right:t?0:20,width:t?"80%":r?"60%":650,height:t?"50%":r?"55%":700,padding:t?1:2,display:"flex",flexDirection:"column",borderRadius:t?0:"16px",backgroundColor:"#F0F4FF",boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"}),chatHeader:{fontFamily:"Staatliches, Arial, sans-serif",fontWeight:"bold",color:"black",fontSize:"1.25rem"},chatMessageInput:{"& .MuiOutlinedInput-root":{fontFamily:"Gabarito, Arial, sans-serif",borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}},chatMessageBox:{maxWidth:"70%",borderRadius:"15px",padding:1,paddingX:2,boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)","&.user":{bgcolor:"#f0f0f0",color:"#555",alignSelf:"flex-end"},"&.bot":{bgcolor:"#CDDAFF",color:"black",alignSelf:"flex-start","&:hover":{bgcolor:"#0B53C0",color:"white"}}},chatButtons:{backgroundColor:"#CDDAFF",color:"black",fontFamily:"Staatliches, sans-serif",fontSize:"1.25rem","&:hover":{backgroundColor:"#0B53C0",color:"white"}}},u1e=({responses:t})=>gn.jsx(bl,{sx:{flexGrow:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:2,padding:2,backgroundColor:"transparent"},children:t.length>0?t.map((r,n)=>gn.jsxs(bl,{sx:{display:"flex",flexDirection:"column",alignItems:r.question?"flex-end":"flex-start"},children:[r.question&&gn.jsx(bl,{sx:{maxWidth:"70%",bgcolor:"#f0f0f0",color:"#555",borderRadius:"15px",p:1,px:2,mb:2,alignSelf:"flex-end",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.1)"},children:gn.jsx(Uh,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"#555"},children:r.question})}),(r.answer||r.text)&&gn.jsx(bl,{sx:{maxWidth:"70%",bgcolor:"#CDDAFF",color:"black",borderRadius:"15px",p:1,px:2,alignSelf:"flex-start",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",mb:.3,"&:hover":{bgcolor:"#0B53C0",color:"white"}},children:gn.jsx(Uh,{variant:"body1",sx:{fontFamily:"Gabarito, Arial, sans-serif",fontSize:"1rem",color:"inherit",transition:"color 0.3s ease"},children:gn.jsx(ZC,{children:r.answer||r.text})})})]},n)):gn.jsx(Uh,{variant:"body2",sx:{textAlign:"center",color:"#6c757d",fontFamily:"Gabarito, Arial, sans-serif"},children:"No messages yet. Start the conversation!"})}),d1e=({onSendMessage:t,onStartConversation:r,onEndConversation:n,conversationId:o})=>{const[s,l]=Y.useState(""),d=()=>{s.trim()&&(t(s),l(""))},h=()=>{o||r()},p=()=>{o&&n()};return gn.jsxs(bl,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[gn.jsxs(bl,{sx:{display:"flex",gap:1},children:[gn.jsx(Yhe,{variant:"outlined",placeholder:"Type your message...",fullWidth:!0,size:"small",value:s,onChange:g=>l(g.target.value),onKeyDown:g=>{g.key==="Enter"&&d()},sx:{"& .MuiOutlinedInput-root":{borderRadius:"20px","& fieldset":{borderColor:"#ccc"},"&:hover fieldset":{borderColor:"#185cc4"}}}}),gn.jsx(Eg,{variant:"contained",onClick:d,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"Send"})]}),o?gn.jsx(Eg,{variant:"outlined",onClick:p,sx:{color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none",borderColor:"#CDDAFF","&:hover":{borderColor:"#0B53C0",color:"#0B53C0"}},children:"END CONVERSATION"}):gn.jsx(Eg,{variant:"contained",onClick:h,sx:{backgroundColor:"#CDDAFF",color:"#000",fontFamily:"Staatliches, sans-serif",fontSize:"1rem",textTransform:"none","&:hover":{backgroundColor:"#0B53C0",color:"#fff"}},children:"START CONVERSATION"})]})};var mg={},sP;function h1e(){if(sP)return mg;sP=1;var t=bw();Object.defineProperty(mg,"__esModule",{value:!0}),mg.default=void 0;var r=t(aB()),n=e2();return mg.default=(0,r.default)((0,n.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),mg}var f1e=h1e();const p1e=XC(f1e);function lB(t,r){return function(){return t.apply(r,arguments)}}const{toString:m1e}=Object.prototype,{getPrototypeOf:c2}=Object,Iw=(t=>r=>{const n=m1e.call(r);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xl=t=>(t=t.toLowerCase(),r=>Iw(r)===t),Tw=t=>r=>typeof r===t,{isArray:Kp}=Array,Qg=Tw("undefined");function g1e(t){return t!==null&&!Qg(t)&&t.constructor!==null&&!Qg(t.constructor)&&aa(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const cB=xl("ArrayBuffer");function b1e(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&cB(t.buffer),r}const k1e=Tw("string"),aa=Tw("function"),uB=Tw("number"),Nw=t=>t!==null&&typeof t=="object",w1e=t=>t===!0||t===!1,Bk=t=>{if(Iw(t)!=="object")return!1;const r=c2(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},y1e=xl("Date"),v1e=xl("File"),A1e=xl("Blob"),_1e=xl("FileList"),C1e=t=>Nw(t)&&aa(t.pipe),x1e=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||aa(t.append)&&((r=Iw(t))==="formdata"||r==="object"&&aa(t.toString)&&t.toString()==="[object FormData]"))},S1e=xl("URLSearchParams"),[E1e,D1e,I1e,T1e]=["ReadableStream","Request","Response","Headers"].map(xl),N1e=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _b(t,r,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let o,s;if(typeof t!="object"&&(t=[t]),Kp(t))for(o=0,s=t.length;o<s;o++)r.call(null,t[o],o,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),d=l.length;let h;for(o=0;o<d;o++)h=l[o],r.call(null,t[h],h,t)}}function dB(t,r){r=r.toLowerCase();const n=Object.keys(t);let o=n.length,s;for(;o-- >0;)if(s=n[o],r===s.toLowerCase())return s;return null}const Mh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hB=t=>!Qg(t)&&t!==Mh;function R_(){const{caseless:t}=hB(this)&&this||{},r={},n=(o,s)=>{const l=t&&dB(r,s)||s;Bk(r[l])&&Bk(o)?r[l]=R_(r[l],o):Bk(o)?r[l]=R_({},o):Kp(o)?r[l]=o.slice():r[l]=o};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&_b(arguments[o],n);return r}const M1e=(t,r,n,{allOwnKeys:o}={})=>(_b(r,(s,l)=>{n&&aa(s)?t[l]=lB(s,n):t[l]=s},{allOwnKeys:o}),t),P1e=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),O1e=(t,r,n,o)=>{t.prototype=Object.create(r.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),n&&Object.assign(t.prototype,n)},j1e=(t,r,n,o)=>{let s,l,d;const h={};if(r=r||{},t==null)return r;do{for(s=Object.getOwnPropertyNames(t),l=s.length;l-- >0;)d=s[l],(!o||o(d,t,r))&&!h[d]&&(r[d]=t[d],h[d]=!0);t=n!==!1&&c2(t)}while(t&&(!n||n(t,r))&&t!==Object.prototype);return r},L1e=(t,r,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=r.length;const o=t.indexOf(r,n);return o!==-1&&o===n},B1e=t=>{if(!t)return null;if(Kp(t))return t;let r=t.length;if(!uB(r))return null;const n=new Array(r);for(;r-- >0;)n[r]=t[r];return n},R1e=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&c2(Uint8Array)),F1e=(t,r)=>{const n=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=n.next())&&!o.done;){const s=o.value;r.call(t,s[0],s[1])}},z1e=(t,r)=>{let n;const o=[];for(;(n=t.exec(r))!==null;)o.push(n);return o},U1e=xl("HTMLFormElement"),q1e=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),aP=(({hasOwnProperty:t})=>(r,n)=>t.call(r,n))(Object.prototype),V1e=xl("RegExp"),fB=(t,r)=>{const n=Object.getOwnPropertyDescriptors(t),o={};_b(n,(s,l)=>{let d;(d=r(s,l,t))!==!1&&(o[l]=d||s)}),Object.defineProperties(t,o)},$1e=t=>{fB(t,(r,n)=>{if(aa(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=t[n];if(aa(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},H1e=(t,r)=>{const n={},o=s=>{s.forEach(l=>{n[l]=!0})};return Kp(t)?o(t):o(String(t).split(r)),n},W1e=()=>{},G1e=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r,MA="abcdefghijklmnopqrstuvwxyz",lP="0123456789",pB={DIGIT:lP,ALPHA:MA,ALPHA_DIGIT:MA+MA.toUpperCase()+lP},Y1e=(t=16,r=pB.ALPHA_DIGIT)=>{let n="";const{length:o}=r;for(;t--;)n+=r[Math.random()*o|0];return n};function K1e(t){return!!(t&&aa(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Q1e=t=>{const r=new Array(10),n=(o,s)=>{if(Nw(o)){if(r.indexOf(o)>=0)return;if(!("toJSON"in o)){r[s]=o;const l=Kp(o)?[]:{};return _b(o,(d,h)=>{const p=n(d,s+1);!Qg(p)&&(l[h]=p)}),r[s]=void 0,l}}return o};return n(t,0)},J1e=xl("AsyncFunction"),Z1e=t=>t&&(Nw(t)||aa(t))&&aa(t.then)&&aa(t.catch),mB=((t,r)=>t?setImmediate:r?((n,o)=>(Mh.addEventListener("message",({source:s,data:l})=>{s===Mh&&l===n&&o.length&&o.shift()()},!1),s=>{o.push(s),Mh.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",aa(Mh.postMessage)),X1e=typeof queueMicrotask<"u"?queueMicrotask.bind(Mh):typeof process<"u"&&process.nextTick||mB,ut={isArray:Kp,isArrayBuffer:cB,isBuffer:g1e,isFormData:x1e,isArrayBufferView:b1e,isString:k1e,isNumber:uB,isBoolean:w1e,isObject:Nw,isPlainObject:Bk,isReadableStream:E1e,isRequest:D1e,isResponse:I1e,isHeaders:T1e,isUndefined:Qg,isDate:y1e,isFile:v1e,isBlob:A1e,isRegExp:V1e,isFunction:aa,isStream:C1e,isURLSearchParams:S1e,isTypedArray:R1e,isFileList:_1e,forEach:_b,merge:R_,extend:M1e,trim:N1e,stripBOM:P1e,inherits:O1e,toFlatObject:j1e,kindOf:Iw,kindOfTest:xl,endsWith:L1e,toArray:B1e,forEachEntry:F1e,matchAll:z1e,isHTMLForm:U1e,hasOwnProperty:aP,hasOwnProp:aP,reduceDescriptors:fB,freezeMethods:$1e,toObjectSet:H1e,toCamelCase:q1e,noop:W1e,toFiniteNumber:G1e,findKey:dB,global:Mh,isContextDefined:hB,ALPHABET:pB,generateString:Y1e,isSpecCompliantForm:K1e,toJSONObject:Q1e,isAsyncFn:J1e,isThenable:Z1e,setImmediate:mB,asap:X1e};function xn(t,r,n,o,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),o&&(this.request=o),s&&(this.response=s,this.status=s.status?s.status:null)}ut.inherits(xn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ut.toJSONObject(this.config),code:this.code,status:this.status}}});const gB=xn.prototype,bB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{bB[t]={value:t}});Object.defineProperties(xn,bB);Object.defineProperty(gB,"isAxiosError",{value:!0});xn.from=(t,r,n,o,s,l)=>{const d=Object.create(gB);return ut.toFlatObject(t,d,function(h){return h!==Error.prototype},h=>h!=="isAxiosError"),xn.call(d,t.message,r,n,o,s),d.cause=t,d.name=t.name,l&&Object.assign(d,l),d};const ewe=null;function F_(t){return ut.isPlainObject(t)||ut.isArray(t)}function kB(t){return ut.endsWith(t,"[]")?t.slice(0,-2):t}function cP(t,r,n){return t?t.concat(r).map(function(o,s){return o=kB(o),!n&&s?"["+o+"]":o}).join(n?".":""):r}function twe(t){return ut.isArray(t)&&!t.some(F_)}const nwe=ut.toFlatObject(ut,{},null,function(t){return/^is[A-Z]/.test(t)});function Mw(t,r,n){if(!ut.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,n=ut.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,x){return!ut.isUndefined(x[k])});const o=n.metaTokens,s=n.visitor||g,l=n.dots,d=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&ut.isSpecCompliantForm(r);if(!ut.isFunction(s))throw new TypeError("visitor must be a function");function p(k){if(k===null)return"";if(ut.isDate(k))return k.toISOString();if(!h&&ut.isBlob(k))throw new xn("Blob is not supported. Use a Buffer instead.");return ut.isArrayBuffer(k)||ut.isTypedArray(k)?h&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function g(k,x,C){let D=k;if(k&&!C&&typeof k=="object"){if(ut.endsWith(x,"{}"))x=o?x:x.slice(0,-2),k=JSON.stringify(k);else if(ut.isArray(k)&&twe(k)||(ut.isFileList(k)||ut.endsWith(x,"[]"))&&(D=ut.toArray(k)))return x=kB(x),D.forEach(function(S,M){!(ut.isUndefined(S)||S===null)&&r.append(d===!0?cP([x],M,l):d===null?x:x+"[]",p(S))}),!1}return F_(k)?!0:(r.append(cP(C,x,l),p(k)),!1)}const b=[],v=Object.assign(nwe,{defaultVisitor:g,convertValue:p,isVisitable:F_});function y(k,x){if(!ut.isUndefined(k)){if(b.indexOf(k)!==-1)throw Error("Circular reference detected in "+x.join("."));b.push(k),ut.forEach(k,function(C,D){(!(ut.isUndefined(C)||C===null)&&s.call(r,C,ut.isString(D)?D.trim():D,x,v))===!0&&y(C,x?x.concat(D):[D])}),b.pop()}}if(!ut.isObject(t))throw new TypeError("data must be an object");return y(t),r}function uP(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return r[n]})}function u2(t,r){this._pairs=[],t&&Mw(t,this,r)}const wB=u2.prototype;wB.append=function(t,r){this._pairs.push([t,r])};wB.toString=function(t){const r=t?function(n){return t.call(this,n,uP)}:uP;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function rwe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yB(t,r,n){if(!r)return t;const o=n&&n.encode||rwe;ut.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let l;if(s?l=s(r,n):l=ut.isURLSearchParams(r)?r.toString():new u2(r,n).toString(o),l){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class dP{constructor(){this.handlers=[]}use(r,n,o){return this.handlers.push({fulfilled:r,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ut.forEach(this.handlers,function(n){n!==null&&r(n)})}}const vB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},iwe=typeof URLSearchParams<"u"?URLSearchParams:u2,owe=typeof FormData<"u"?FormData:null,swe=typeof Blob<"u"?Blob:null,awe={isBrowser:!0,classes:{URLSearchParams:iwe,FormData:owe,Blob:swe},protocols:["http","https","file","blob","url","data"]},d2=typeof window<"u"&&typeof document<"u",z_=typeof navigator=="object"&&navigator||void 0,lwe=d2&&(!z_||["ReactNative","NativeScript","NS"].indexOf(z_.product)<0),cwe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uwe=d2&&window.location.href||"http://localhost",dwe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:d2,hasStandardBrowserEnv:lwe,hasStandardBrowserWebWorkerEnv:cwe,navigator:z_,origin:uwe},Symbol.toStringTag,{value:"Module"})),$o={...dwe,...awe};function hwe(t,r){return Mw(t,new $o.classes.URLSearchParams,Object.assign({visitor:function(n,o,s,l){return $o.isNode&&ut.isBuffer(n)?(this.append(o,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},r))}function fwe(t){return ut.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function pwe(t){const r={},n=Object.keys(t);let o;const s=n.length;let l;for(o=0;o<s;o++)l=n[o],r[l]=t[l];return r}function AB(t){function r(n,o,s,l){let d=n[l++];if(d==="__proto__")return!0;const h=Number.isFinite(+d),p=l>=n.length;return d=!d&&ut.isArray(s)?s.length:d,p?(ut.hasOwnProp(s,d)?s[d]=[s[d],o]:s[d]=o,!h):((!s[d]||!ut.isObject(s[d]))&&(s[d]=[]),r(n,o,s[d],l)&&ut.isArray(s[d])&&(s[d]=pwe(s[d])),!h)}if(ut.isFormData(t)&&ut.isFunction(t.entries)){const n={};return ut.forEachEntry(t,(o,s)=>{r(fwe(o),s,n,0)}),n}return null}function mwe(t,r,n){if(ut.isString(t))try{return(r||JSON.parse)(t),ut.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(0,JSON.stringify)(t)}const Cb={transitional:vB,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,s=ut.isObject(t);if(s&&ut.isHTMLForm(t)&&(t=new FormData(t)),ut.isFormData(t))return o?JSON.stringify(AB(t)):t;if(ut.isArrayBuffer(t)||ut.isBuffer(t)||ut.isStream(t)||ut.isFile(t)||ut.isBlob(t)||ut.isReadableStream(t))return t;if(ut.isArrayBufferView(t))return t.buffer;if(ut.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return hwe(t,this.formSerializer).toString();if((l=ut.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Mw(l?{"files[]":t}:t,d&&new d,this.formSerializer)}}return s||o?(r.setContentType("application/json",!1),mwe(t)):t}],transformResponse:[function(t){const r=this.transitional||Cb.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(ut.isResponse(t)||ut.isReadableStream(t))return t;if(t&&ut.isString(t)&&(n&&!this.responseType||o)){const s=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(l){if(s)throw l.name==="SyntaxError"?xn.from(l,xn.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$o.classes.FormData,Blob:$o.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ut.forEach(["delete","get","head","post","put","patch"],t=>{Cb.headers[t]={}});const gwe=ut.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bwe=t=>{const r={};let n,o,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),o=l.substring(s+1).trim(),!(!n||r[n]&&gwe[n])&&(n==="set-cookie"?r[n]?r[n].push(o):r[n]=[o]:r[n]=r[n]?r[n]+", "+o:o)}),r},hP=Symbol("internals");function gg(t){return t&&String(t).trim().toLowerCase()}function Rk(t){return t===!1||t==null?t:ut.isArray(t)?t.map(Rk):String(t)}function kwe(t){const r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(t);)r[o[1]]=o[2];return r}const wwe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function PA(t,r,n,o,s){if(ut.isFunction(o))return o.call(this,r,n);if(s&&(r=n),!!ut.isString(r)){if(ut.isString(o))return r.indexOf(o)!==-1;if(ut.isRegExp(o))return o.test(r)}}function ywe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,n,o)=>n.toUpperCase()+o)}function vwe(t,r){const n=ut.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+n,{value:function(s,l,d){return this[o].call(this,r,s,l,d)},configurable:!0})})}class Es{constructor(r){r&&this.set(r)}set(r,n,o){const s=this;function l(h,p,g){const b=gg(p);if(!b)throw new Error("header name must be a non-empty string");const v=ut.findKey(s,b);(!v||s[v]===void 0||g===!0||g===void 0&&s[v]!==!1)&&(s[v||p]=Rk(h))}const d=(h,p)=>ut.forEach(h,(g,b)=>l(g,b,p));if(ut.isPlainObject(r)||r instanceof this.constructor)d(r,n);else if(ut.isString(r)&&(r=r.trim())&&!wwe(r))d(bwe(r),n);else if(ut.isHeaders(r))for(const[h,p]of r.entries())l(p,h,o);else r!=null&&l(n,r,o);return this}get(r,n){if(r=gg(r),r){const o=ut.findKey(this,r);if(o){const s=this[o];if(!n)return s;if(n===!0)return kwe(s);if(ut.isFunction(n))return n.call(this,s,o);if(ut.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,n){if(r=gg(r),r){const o=ut.findKey(this,r);return!!(o&&this[o]!==void 0&&(!n||PA(this,this[o],o,n)))}return!1}delete(r,n){const o=this;let s=!1;function l(d){if(d=gg(d),d){const h=ut.findKey(o,d);h&&(!n||PA(o,o[h],h,n))&&(delete o[h],s=!0)}}return ut.isArray(r)?r.forEach(l):l(r),s}clear(r){const n=Object.keys(this);let o=n.length,s=!1;for(;o--;){const l=n[o];(!r||PA(this,this[l],l,r,!0))&&(delete this[l],s=!0)}return s}normalize(r){const n=this,o={};return ut.forEach(this,(s,l)=>{const d=ut.findKey(o,l);if(d){n[d]=Rk(s),delete n[l];return}const h=r?ywe(l):String(l).trim();h!==l&&delete n[l],n[h]=Rk(s),o[h]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const n=Object.create(null);return ut.forEach(this,(o,s)=>{o!=null&&o!==!1&&(n[s]=r&&ut.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,n])=>r+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...n){const o=new this(r);return n.forEach(s=>o.set(s)),o}static accessor(r){const n=(this[hP]=this[hP]={accessors:{}}).accessors,o=this.prototype;function s(l){const d=gg(l);n[d]||(vwe(o,l),n[d]=!0)}return ut.isArray(r)?r.forEach(s):s(r),this}}Es.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ut.reduceDescriptors(Es.prototype,({value:t},r)=>{let n=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(o){this[n]=o}}});ut.freezeMethods(Es);function OA(t,r){const n=this||Cb,o=r||n,s=Es.from(o.headers);let l=o.data;return ut.forEach(t,function(d){l=d.call(n,l,s.normalize(),r?r.status:void 0)}),s.normalize(),l}function _B(t){return!!(t&&t.__CANCEL__)}function Qp(t,r,n){xn.call(this,t??"canceled",xn.ERR_CANCELED,r,n),this.name="CanceledError"}ut.inherits(Qp,xn,{__CANCEL__:!0});function CB(t,r,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?t(n):r(new xn("Request failed with status code "+n.status,[xn.ERR_BAD_REQUEST,xn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Awe(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function _we(t,r){t=t||10;const n=new Array(t),o=new Array(t);let s=0,l=0,d;return r=r!==void 0?r:1e3,function(h){const p=Date.now(),g=o[l];d||(d=p),n[s]=h,o[s]=p;let b=l,v=0;for(;b!==s;)v+=n[b++],b=b%t;if(s=(s+1)%t,s===l&&(l=(l+1)%t),p-d<r)return;const y=g&&p-g;return y?Math.round(v*1e3/y):void 0}}function Cwe(t,r){let n=0,o=1e3/r,s,l;const d=(h,p=Date.now())=>{n=p,s=null,l&&(clearTimeout(l),l=null),t.apply(null,h)};return[(...h)=>{const p=Date.now(),g=p-n;g>=o?d(h,p):(s=h,l||(l=setTimeout(()=>{l=null,d(s)},o-g)))},()=>s&&d(s)]}const A1=(t,r,n=3)=>{let o=0;const s=_we(50,250);return Cwe(l=>{const d=l.loaded,h=l.lengthComputable?l.total:void 0,p=d-o,g=s(p),b=d<=h;o=d;const v={loaded:d,total:h,progress:h?d/h:void 0,bytes:p,rate:g||void 0,estimated:g&&h&&b?(h-d)/g:void 0,event:l,lengthComputable:h!=null,[r?"download":"upload"]:!0};t(v)},n)},fP=(t,r)=>{const n=t!=null;return[o=>r[0]({lengthComputable:n,total:t,loaded:o}),r[1]]},pP=t=>(...r)=>ut.asap(()=>t(...r)),xwe=$o.hasStandardBrowserEnv?((t,r)=>n=>(n=new URL(n,$o.origin),t.protocol===n.protocol&&t.host===n.host&&(r||t.port===n.port)))(new URL($o.origin),$o.navigator&&/(msie|trident)/i.test($o.navigator.userAgent)):()=>!0,Swe=$o.hasStandardBrowserEnv?{write(t,r,n,o,s,l){const d=[t+"="+encodeURIComponent(r)];ut.isNumber(n)&&d.push("expires="+new Date(n).toGMTString()),ut.isString(o)&&d.push("path="+o),ut.isString(s)&&d.push("domain="+s),l===!0&&d.push("secure"),document.cookie=d.join("; ")},read(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ewe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Dwe(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function xB(t,r){return t&&!Ewe(r)?Dwe(t,r):r}const mP=t=>t instanceof Es?{...t}:t;function Qh(t,r){r=r||{};const n={};function o(g,b,v,y){return ut.isPlainObject(g)&&ut.isPlainObject(b)?ut.merge.call({caseless:y},g,b):ut.isPlainObject(b)?ut.merge({},b):ut.isArray(b)?b.slice():b}function s(g,b,v,y){if(ut.isUndefined(b)){if(!ut.isUndefined(g))return o(void 0,g,v,y)}else return o(g,b,v,y)}function l(g,b){if(!ut.isUndefined(b))return o(void 0,b)}function d(g,b){if(ut.isUndefined(b)){if(!ut.isUndefined(g))return o(void 0,g)}else return o(void 0,b)}function h(g,b,v){if(v in r)return o(g,b);if(v in t)return o(void 0,g)}const p={url:l,method:l,data:l,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:h,headers:(g,b,v)=>s(mP(g),mP(b),v,!0)};return ut.forEach(Object.keys(Object.assign({},t,r)),function(g){const b=p[g]||s,v=b(t[g],r[g],g);ut.isUndefined(v)&&b!==h||(n[g]=v)}),n}const SB=t=>{const r=Qh({},t);let{data:n,withXSRFToken:o,xsrfHeaderName:s,xsrfCookieName:l,headers:d,auth:h}=r;r.headers=d=Es.from(d),r.url=yB(xB(r.baseURL,r.url),t.params,t.paramsSerializer),h&&d.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(ut.isFormData(n)){if($o.hasStandardBrowserEnv||$o.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if((p=d.getContentType())!==!1){const[g,...b]=p?p.split(";").map(v=>v.trim()).filter(Boolean):[];d.setContentType([g||"multipart/form-data",...b].join("; "))}}if($o.hasStandardBrowserEnv&&(o&&ut.isFunction(o)&&(o=o(r)),o||o!==!1&&xwe(r.url))){const g=s&&l&&Swe.read(l);g&&d.set(s,g)}return r},Iwe=typeof XMLHttpRequest<"u",Twe=Iwe&&function(t){return new Promise(function(r,n){const o=SB(t);let s=o.data;const l=Es.from(o.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:p}=o,g,b,v,y,k;function x(){y&&y(),k&&k(),o.cancelToken&&o.cancelToken.unsubscribe(g),o.signal&&o.signal.removeEventListener("abort",g)}let C=new XMLHttpRequest;C.open(o.method.toUpperCase(),o.url,!0),C.timeout=o.timeout;function D(){if(!C)return;const M=Es.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),P={data:!d||d==="text"||d==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:M,config:t,request:C};CB(function(B){r(B),x()},function(B){n(B),x()},P),C=null}"onloadend"in C?C.onloadend=D:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(D)},C.onabort=function(){C&&(n(new xn("Request aborted",xn.ECONNABORTED,t,C)),C=null)},C.onerror=function(){n(new xn("Network Error",xn.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let M=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const P=o.transitional||vB;o.timeoutErrorMessage&&(M=o.timeoutErrorMessage),n(new xn(M,P.clarifyTimeoutError?xn.ETIMEDOUT:xn.ECONNABORTED,t,C)),C=null},s===void 0&&l.setContentType(null),"setRequestHeader"in C&&ut.forEach(l.toJSON(),function(M,P){C.setRequestHeader(P,M)}),ut.isUndefined(o.withCredentials)||(C.withCredentials=!!o.withCredentials),d&&d!=="json"&&(C.responseType=o.responseType),p&&([v,k]=A1(p,!0),C.addEventListener("progress",v)),h&&C.upload&&([b,y]=A1(h),C.upload.addEventListener("progress",b),C.upload.addEventListener("loadend",y)),(o.cancelToken||o.signal)&&(g=M=>{C&&(n(!M||M.type?new Qp(null,t,C):M),C.abort(),C=null)},o.cancelToken&&o.cancelToken.subscribe(g),o.signal&&(o.signal.aborted?g():o.signal.addEventListener("abort",g)));const S=Awe(o.url);if(S&&$o.protocols.indexOf(S)===-1){n(new xn("Unsupported protocol "+S+":",xn.ERR_BAD_REQUEST,t));return}C.send(s||null)})},Nwe=(t,r)=>{const{length:n}=t=t?t.filter(Boolean):[];if(r||n){let o=new AbortController,s;const l=function(g){if(!s){s=!0,h();const b=g instanceof Error?g:this.reason;o.abort(b instanceof xn?b:new Qp(b instanceof Error?b.message:b))}};let d=r&&setTimeout(()=>{d=null,l(new xn(`timeout ${r} of ms exceeded`,xn.ETIMEDOUT))},r);const h=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),t=null)};t.forEach(g=>g.addEventListener("abort",l));const{signal:p}=o;return p.unsubscribe=()=>ut.asap(h),p}},Mwe=function*(t,r){let n=t.byteLength;if(n<r){yield t;return}let o=0,s;for(;o<n;)s=o+r,yield t.slice(o,s),o=s},Pwe=async function*(t,r){for await(const n of Owe(t))yield*Mwe(n,r)},Owe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:n,value:o}=await r.read();if(n)break;yield o}}finally{await r.cancel()}},gP=(t,r,n,o)=>{const s=Pwe(t,r);let l=0,d,h=p=>{d||(d=!0,o&&o(p))};return new ReadableStream({async pull(p){try{const{done:g,value:b}=await s.next();if(g){h(),p.close();return}let v=b.byteLength;if(n){let y=l+=v;n(y)}p.enqueue(new Uint8Array(b))}catch(g){throw h(g),g}},cancel(p){return h(p),s.return()}},{highWaterMark:2})},Pw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",EB=Pw&&typeof ReadableStream=="function",jwe=Pw&&(typeof TextEncoder=="function"?(t=>r=>t.encode(r))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),DB=(t,...r)=>{try{return!!t(...r)}catch{return!1}},Lwe=EB&&DB(()=>{let t=!1;const r=new Request($o.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!r}),bP=64*1024,U_=EB&&DB(()=>ut.isReadableStream(new Response("").body)),_1={stream:U_&&(t=>t.body)};Pw&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!_1[r]&&(_1[r]=ut.isFunction(t[r])?n=>n[r]():(n,o)=>{throw new xn(`Response type '${r}' is not supported`,xn.ERR_NOT_SUPPORT,o)})})})(new Response);const Bwe=async t=>{if(t==null)return 0;if(ut.isBlob(t))return t.size;if(ut.isSpecCompliantForm(t))return(await new Request($o.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ut.isArrayBufferView(t)||ut.isArrayBuffer(t))return t.byteLength;if(ut.isURLSearchParams(t)&&(t=t+""),ut.isString(t))return(await jwe(t)).byteLength},Rwe=async(t,r)=>ut.toFiniteNumber(t.getContentLength())??Bwe(r),Fwe=Pw&&(async t=>{let{url:r,method:n,data:o,signal:s,cancelToken:l,timeout:d,onDownloadProgress:h,onUploadProgress:p,responseType:g,headers:b,withCredentials:v="same-origin",fetchOptions:y}=SB(t);g=g?(g+"").toLowerCase():"text";let k=Nwe([s,l&&l.toAbortSignal()],d),x;const C=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let D;try{if(p&&Lwe&&n!=="get"&&n!=="head"&&(D=await Rwe(b,o))!==0){let $=new Request(r,{method:"POST",body:o,duplex:"half"}),F;if(ut.isFormData(o)&&(F=$.headers.get("content-type"))&&b.setContentType(F),$.body){const[N,L]=fP(D,A1(pP(p)));o=gP($.body,bP,N,L)}}ut.isString(v)||(v=v?"include":"omit");const S="credentials"in Request.prototype;x=new Request(r,{...y,signal:k,method:n.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:S?v:void 0});let M=await fetch(x);const P=U_&&(g==="stream"||g==="response");if(U_&&(h||P&&C)){const $={};["status","statusText","headers"].forEach(U=>{$[U]=M[U]});const F=ut.toFiniteNumber(M.headers.get("content-length")),[N,L]=h&&fP(F,A1(pP(h),!0))||[];M=new Response(gP(M.body,bP,N,()=>{L&&L(),C&&C()}),$)}g=g||"text";let B=await _1[ut.findKey(_1,g)||"text"](M,t);return!P&&C&&C(),await new Promise(($,F)=>{CB($,F,{data:B,headers:Es.from(M.headers),status:M.status,statusText:M.statusText,config:t,request:x})})}catch(S){throw C&&C(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new xn("Network Error",xn.ERR_NETWORK,t,x),{cause:S.cause||S}):xn.from(S,S&&S.code,t,x)}}),q_={http:ewe,xhr:Twe,fetch:Fwe};ut.forEach(q_,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const kP=t=>`- ${t}`,zwe=t=>ut.isFunction(t)||t===null||t===!1,IB={getAdapter:t=>{t=ut.isArray(t)?t:[t];const{length:r}=t;let n,o;const s={};for(let l=0;l<r;l++){n=t[l];let d;if(o=n,!zwe(n)&&(o=q_[(d=String(n)).toLowerCase()],o===void 0))throw new xn(`Unknown adapter '${d}'`);if(o)break;s[d||"#"+l]=o}if(!o){const l=Object.entries(s).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let d=r?l.length>1?`since :
`+l.map(kP).join(`
`):" "+kP(l[0]):"as no adapter specified";throw new xn("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o},adapters:q_};function jA(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Qp(null,t)}function wP(t){return jA(t),t.headers=Es.from(t.headers),t.data=OA.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),IB.getAdapter(t.adapter||Cb.adapter)(t).then(function(r){return jA(t),r.data=OA.call(t,t.transformResponse,r),r.headers=Es.from(r.headers),r},function(r){return _B(r)||(jA(t),r&&r.response&&(r.response.data=OA.call(t,t.transformResponse,r.response),r.response.headers=Es.from(r.response.headers))),Promise.reject(r)})}const TB="1.7.9",Ow={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{Ow[t]=function(n){return typeof n===t||"a"+(r<1?"n ":" ")+t}});const yP={};Ow.transitional=function(t,r,n){function o(s,l){return"[Axios v"+TB+"] Transitional option '"+s+"'"+l+(n?". "+n:"")}return(s,l,d)=>{if(t===!1)throw new xn(o(l," has been removed"+(r?" in "+r:"")),xn.ERR_DEPRECATED);return r&&!yP[l]&&(yP[l]=!0,console.warn(o(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,l,d):!0}};Ow.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Uwe(t,r,n){if(typeof t!="object")throw new xn("options must be an object",xn.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let s=o.length;for(;s-- >0;){const l=o[s],d=r[l];if(d){const h=t[l],p=h===void 0||d(h,l,t);if(p!==!0)throw new xn("option "+l+" must be "+p,xn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new xn("Unknown option "+l,xn.ERR_BAD_OPTION)}}const Fk={assertOptions:Uwe,validators:Ow},Jl=Fk.validators;class qh{constructor(r){this.defaults=r,this.interceptors={request:new dP,response:new dP}}async request(r,n){try{return await this._request(r,n)}catch(o){if(o instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const l=s.stack?s.stack.replace(/^.+\n/,""):"";try{o.stack?l&&!String(o.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+l):o.stack=l}catch{}}throw o}}_request(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=Qh(this.defaults,n);const{transitional:o,paramsSerializer:s,headers:l}=n;o!==void 0&&Fk.assertOptions(o,{silentJSONParsing:Jl.transitional(Jl.boolean),forcedJSONParsing:Jl.transitional(Jl.boolean),clarifyTimeoutError:Jl.transitional(Jl.boolean)},!1),s!=null&&(ut.isFunction(s)?n.paramsSerializer={serialize:s}:Fk.assertOptions(s,{encode:Jl.function,serialize:Jl.function},!0)),Fk.assertOptions(n,{baseUrl:Jl.spelling("baseURL"),withXsrfToken:Jl.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let d=l&&ut.merge(l.common,l[n.method]);l&&ut.forEach(["delete","get","head","post","put","patch","common"],x=>{delete l[x]}),n.headers=Es.concat(d,l);const h=[];let p=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(p=p&&x.synchronous,h.unshift(x.fulfilled,x.rejected))});const g=[];this.interceptors.response.forEach(function(x){g.push(x.fulfilled,x.rejected)});let b,v=0,y;if(!p){const x=[wP.bind(this),void 0];for(x.unshift.apply(x,h),x.push.apply(x,g),y=x.length,b=Promise.resolve(n);v<y;)b=b.then(x[v++],x[v++]);return b}y=h.length;let k=n;for(v=0;v<y;){const x=h[v++],C=h[v++];try{k=x(k)}catch(D){C.call(this,D);break}}try{b=wP.call(this,k)}catch(x){return Promise.reject(x)}for(v=0,y=g.length;v<y;)b=b.then(g[v++],g[v++]);return b}getUri(r){r=Qh(this.defaults,r);const n=xB(r.baseURL,r.url);return yB(n,r.params,r.paramsSerializer)}}ut.forEach(["delete","get","head","options"],function(t){qh.prototype[t]=function(r,n){return this.request(Qh(n||{},{method:t,url:r,data:(n||{}).data}))}});ut.forEach(["post","put","patch"],function(t){function r(n){return function(o,s,l){return this.request(Qh(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}qh.prototype[t]=r(),qh.prototype[t+"Form"]=r(!0)});class h2{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const o=this;this.promise.then(s=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](s);o._listeners=null}),this.promise.then=s=>{let l;const d=new Promise(h=>{o.subscribe(h),l=h}).then(s);return d.cancel=function(){o.unsubscribe(l)},d},r(function(s,l,d){o.reason||(o.reason=new Qp(s,l,d),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const r=new AbortController,n=o=>{r.abort(o)};return this.subscribe(n),r.signal.unsubscribe=()=>this.unsubscribe(n),r.signal}static source(){let r;return{token:new h2(function(n){r=n}),cancel:r}}}function qwe(t){return function(r){return t.apply(null,r)}}function Vwe(t){return ut.isObject(t)&&t.isAxiosError===!0}const V_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(V_).forEach(([t,r])=>{V_[r]=t});function NB(t){const r=new qh(t),n=lB(qh.prototype.request,r);return ut.extend(n,qh.prototype,r,{allOwnKeys:!0}),ut.extend(n,r,null,{allOwnKeys:!0}),n.create=function(o){return NB(Qh(t,o))},n}const oi=NB(Cb);oi.Axios=qh;oi.CanceledError=Qp;oi.CancelToken=h2;oi.isCancel=_B;oi.VERSION=TB;oi.toFormData=Mw;oi.AxiosError=xn;oi.Cancel=oi.CanceledError;oi.all=function(t){return Promise.all(t)};oi.spread=qwe;oi.isAxiosError=Vwe;oi.mergeConfig=Qh;oi.AxiosHeaders=Es;oi.formToJSON=t=>AB(ut.isHTMLForm(t)?new FormData(t):t);oi.getAdapter=IB.getAdapter;oi.HttpStatusCode=V_;oi.default=oi;const $we=async t=>{const r=new FormData;r.append("chatbot_id",t);try{const n=await oi.post("https://rag-flask-api.onrender.com/start_conversation",r,{headers:{"Content-Type":"multipart/form-data"}}),{conversation_id:o,intro_message:s}=n.data;if(!o)throw new Error("Failed to retrieve conversation ID from server.");return{conversationId:o,introMessage:s}}catch(n){throw console.error("Error starting conversation:",n),n}},Hwe=async(t,r,n)=>{const o=new FormData;o.append("chatbot_id",t),o.append("conversation_id",r),o.append("question",n);try{return(await oi.post("https://rag-flask-api.onrender.com/ask",o,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(s){throw console.error("Error sending message:",s),s}},Wwe=async(t,r)=>{const n=new FormData;n.append("chatbot_id",t),n.append("conversation_id",r);try{await oi.post("https://rag-flask-api.onrender.com/end_conversation",n,{headers:{"Content-Type":"multipart/form-data"}})}catch(o){throw console.error("Error ending conversation:",o),o}},Gwe=async t=>{try{const r=await oi.get(`https://rag-flask-api.onrender.com/summary/${t}`);if(r.status===200&&r.data.summary)return r.data.summary;throw new Error("Summary not found for this chatbot.")}catch(r){throw console.error("Error fetching summary:",r),r}},Ywe=({chatbotId:t,open:r,onClose:n})=>{const[o,s]=Y.useState(null),[l,d]=Y.useState(!1),[h,p]=Y.useState(null),g=async()=>{d(!0),p(null);try{const b=await Gwe(t);s(b)}catch(b){p(b.message||"Failed to fetch summary. Please try again.")}finally{d(!1)}};return Y.useEffect(()=>{r&&g()},[r]),gn.jsx(XL,{open:r,onClose:n,"aria-labelledby":"summary-modal-title","aria-describedby":"summary-modal-description",children:gn.jsxs(bl,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:600,bgcolor:"background.paper",borderRadius:4,boxShadow:24,p:4},children:[gn.jsxs(bl,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[gn.jsx(Uh,{id:"summary-modal-title",variant:"h6",component:"h2",children:"Document Summary"}),gn.jsx(w_,{onClick:n,children:gn.jsx(p1e,{})})]}),l?gn.jsx(bl,{sx:{display:"flex",justifyContent:"center",my:4},children:gn.jsx(Pue,{})}):h?gn.jsx(Uh,{color:"error",children:h}):gn.jsx(bl,{sx:{maxHeight:300,overflowY:"auto",padding:2,border:"1px solid #ddd",borderRadius:2,backgroundColor:"#f9f9f9"},children:gn.jsx(ZC,{children:o})}),gn.jsx(Eg,{variant:"contained",sx:{mt:2},onClick:n,fullWidth:!0,children:"Close"})]})})},Kwe=Y.forwardRef(({chatbotId:t,onConversationStart:r},n)=>{const[o,s]=Y.useState(!1),[l,d]=Y.useState(()=>{const F=localStorage.getItem("responses");return F?JSON.parse(F):[]}),[h,p]=Y.useState(()=>localStorage.getItem("conversationId")||null),[g,b]=Y.useState(!1),[v,y]=Y.useState(null),[k,x]=Y.useState(!1),C=X6("(max-width:600px)"),D=X6("(min-width:601px) and (max-width:960px)"),S=Y.useRef(null);Y.useEffect(()=>{typeof r=="function"&&h&&r(h)},[h,r]),Y.useEffect(()=>{S.current&&S.current.scrollIntoView({behavior:"smooth"})},[l]);const M=async()=>{s(F=>!F),!o&&!h&&!g&&P()},P=async()=>{if(!h){b(!0),y(null);try{const F=await $we(t),{conversationId:N,introMessage:L}=F;p(N),localStorage.setItem("conversationId",N),d(U=>{const Q=[...U,{id:"intro",sender:"chatbot",text:L}];return localStorage.setItem("responses",JSON.stringify(Q)),Q})}catch(F){console.error("Error starting conversation:",F),y("Failed to start a conversation. Please try again.")}finally{b(!1)}}},B=async(F,N=h)=>{b(!0),y(null);try{const L=await Hwe(t,N,F);d(U=>{const Q=[...U,{question:F,answer:L.answer}];return localStorage.setItem("responses",JSON.stringify(Q)),Q})}catch(L){console.error("Error sending message:",L),y("Failed to send the message. Please try again.")}finally{b(!1)}},$=async()=>{b(!0),y(null);try{h&&await Wwe(t,h),p(null),d([]),localStorage.removeItem("conversationId"),localStorage.removeItem("responses")}catch(F){console.error("Error ending conversation:",F),y("Failed to end the conversation. Please try again.")}finally{b(!1)}};return Y.useImperativeHandle(n,()=>({endConversation:$})),gn.jsx(gn.Fragment,{children:o?gn.jsxs(QL,{elevation:3,sx:NA.chatContainer(C,D),children:[gn.jsxs(bl,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[gn.jsx(Uh,{sx:NA.chatHeader,children:"PAT (Personalized Academic Tutor)"}),gn.jsx(w_,{onClick:M,sx:{color:"black"},children:"X"})]}),gn.jsx(u1e,{responses:l}),gn.jsx("div",{ref:S}),g&&gn.jsx(qde,{sx:{position:"absolute",top:0,left:0,width:"100%"}}),v&&gn.jsx(Uh,{color:"error",children:v}),gn.jsx(d1e,{onSendMessage:B,onStartConversation:P,onEndConversation:$,conversationId:h}),gn.jsx(Eg,{variant:"outlined",onClick:()=>x(!0),sx:{mt:2},children:"View Summary"}),gn.jsx(Ywe,{chatbotId:t,open:k,onClose:()=>x(!1)})]}):gn.jsx(w_,{onClick:M,sx:NA.chatToggleButton,children:gn.jsx(c1e,{fontSize:"large"})})})});class Qwe extends Y.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(r){console.error("Error caught by ErrorBoundary:",r)}render(){return this.state.hasError?A.jsx("h2",{children:"Something went wrong while loading the Chatbot."}):this.props.children}}const MB=Y.forwardRef(({chatbotId:t},r)=>{const{userDetails:n}=Pi(),o=Y.useRef(null),s=async l=>{if(console.log("ðŸ¤– Chatbot started. Conversation ID:",l),n!=null&&n.uid)try{await LP(mn(eO,"conversations",l),{conversationId:l,chatbotId:t,userId:n.uid,startedAt:new Date().toISOString()},{merge:!0}),console.log("Conversation saved to Firestore")}catch(d){console.error("Failed to save conversation:",d)}};return Y.useImperativeHandle(r,()=>({endConversation:()=>{o.current&&(console.log("Ending chatbot conversation..."),o.current.endConversation())}})),A.jsx(Qwe,{children:A.jsx(Kwe,{ref:o,chatbotId:t,onConversationStart:s})})});MB.displayName="ChatbotWrapper";const pk="256599ed-a0a2-496f-990d-c51faaefd71a",Jwe=()=>{const[t,r]=Y.useState(pk),[n]=E1(),o=Y.useRef(null);return Y.useEffect(()=>{const s=n.get("material");if(!s){t!==pk&&r(pk);return}(async()=>{var b;console.log("Fetching chatbot ID for material:",s);const d=Kn(),h=Zn(d,"chatbots"),p=Rp(h,Zg("material.id","==",s)),g=await So(p);if(g.empty)console.log("No chatbot found for material, using default."),r(pk);else{const v=g.docs[0].data();console.log("Found chatbot ID:",v.chatbotId),v.chatbotId!==t&&((b=o.current)==null||b.endConversation()),r(v.chatbotId)}})()},[n,t]),A.jsx(Pe,{sx:{position:"fixed",bottom:16,right:16,zIndex:1100},children:A.jsx(MB,{ref:o,chatbotId:t})})},Zwe=()=>{const{notifications:t,removeNotification:r}=iO();return t.length===0?null:A.jsx(Pe,{sx:{position:"fixed",top:16,right:16,zIndex:9999,maxWidth:400,display:"flex",flexDirection:"column",gap:1},children:t.map(n=>A.jsx($_,{in:!0,timeout:300,children:A.jsx(Bn,{elevation:6,children:A.jsxs(br,{severity:n.type,sx:{width:"100%","& .MuiAlert-action":{alignItems:"flex-start",padding:"4px 0 0 16px"}},action:A.jsx(Ln,{size:"small",onClick:()=>r(n.id),sx:{color:"inherit"},children:A.jsx(aG,{fontSize:"small"})}),children:[n.title&&A.jsx(sG,{sx:{fontWeight:"bold",mb:.5},children:n.title}),n.message,n.actions&&n.actions.length>0&&A.jsx(Pe,{sx:{mt:1.5,display:"flex",gap:1,flexWrap:"wrap"},children:n.actions.map((o,s)=>A.jsx(kt,{size:"small",variant:o.primary?"contained":"outlined",color:n.type==="error"?"error":"primary",onClick:()=>{o.action(),r(n.id)},sx:{minWidth:"auto",fontSize:"0.75rem",padding:"2px 8px"},children:o.label},s))})]})})},n.id))})},Xwe=()=>{const{userDetails:t,isSuperAdmin:r}=Pi(),n=jse(t,r);return tY(n)},eye=()=>{const{userDetails:t,loading:r}=Pi();if(r)return A.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:A.jsx(Rr,{})});const n="/nexlab",o=!!(t!=null&&t.uid);return A.jsxs(lG,{theme:Lse,children:[A.jsx(cG,{}),A.jsxs(wY,{basename:n,children:[o&&A.jsx(CL,{}),A.jsx("div",{className:"content",children:A.jsx(Y.Suspense,{fallback:A.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:A.jsx(Rr,{})}),children:A.jsx(Xwe,{})})}),A.jsx(Vse,{}),A.jsx(Rse,{}),o&&A.jsx(Jwe,{}),A.jsx(Zwe,{})]})]})},tye=document.getElementById("root"),nye=SG.createRoot(tye);nye.render(A.jsx(at.StrictMode,{children:A.jsx(EY,{children:A.jsx(eye,{})})}));export{kO as B,SO as C,Ki as _,XP as a,Pi as b,eO as c,xO as d,E1 as e,_6 as f,A6 as g,gr as h,qK as i,VK as j,gO as k,$K as l,lye as m,wse as r,Wr as u,mO as v};
